<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Reset patch &amp; controls
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-October/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Reset%20patch%20%26%20controls&In-Reply-To=%3C200610091055.07896.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000853.html">
   <LINK REL="Next"  HREF="000862.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Reset patch &amp; controls</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Reset%20patch%20%26%20controls&In-Reply-To=%3C200610091055.07896.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] Reset patch &amp; controls">laurent.pinchart at skynet.be
       </A><BR>
    <I>Mon Oct  9 10:55:07 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000853.html">[Linux-uvc-devel] Reset patch &amp; controls
</A></li>
        <LI>Next message: <A HREF="000862.html">[Linux-uvc-devel] Reset patch &amp; controls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#856">[ date ]</a>
              <a href="thread.html#856">[ thread ]</a>
              <a href="subject.html#856">[ subject ]</a>
              <a href="author.html#856">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Evgeny,

&gt;<i> First of all, great thanks to uvc driver developers for great work.
</I>
You're welcome.

&gt;<i> I try to use driver with Logitech QuickCam 5000 and have the following
</I>&gt;<i> situation:
</I>&gt;<i>
</I>&gt;<i> Camera is found and initialized by driver. Everything works wonderfull,
</I>&gt;<i> except occasional lockups with message &quot;uvcvideo: Failed to query (1) UVC
</I>&gt;<i> control 4 (unit 1) : -110.&quot;.
</I>
Join the club. You are experiencing the infamous hardware bug for which 
Logitech is trying to find a solution.

- The new webcams will have an updated firmware with a workaround. Those 
future webcams will not suffer from the bug. This obviously won't help with 
current webcams.

- The problem doesn't seem to occur when using Windows. We are trying to find 
a difference between how Windows and Linux handle USB control transfers, but 
nothing relevant has been found so far.

- In the meantime, the &quot;reset patch&quot; might work for some people, but is 
definitely not a long term solution.

&gt;<i> I use &quot;reset patch&quot; and it works (I can get picture from camera after
</I>&gt;<i> reset), but I cannot use camera's controls after reset. When I try to
</I>&gt;<i> change any control (for example brightness or contrast) nothing happens.
</I>&gt;<i> More interesting, when I unplug and replug the camera, I cannot change
</I>&gt;<i> controls too! And the most interesting thing - controls stay unchangeable
</I>&gt;<i> after reboot!
</I>&gt;<i>
</I>&gt;<i> I found two ways to fix this situation:
</I>&gt;<i> 1. Poweroff the machine, unplug power cord, replug it and turn the power
</I>&gt;<i> on. Everything works 2. Build ehci_hcd as module, rmmod it and modprobe
</I>&gt;<i> again. Everything works too.
</I>&gt;<i>
</I>&gt;<i> So, my question is - is there any way to reset ehci without reinserting
</I>&gt;<i> module? I know, that usb_reset_device() resets device and power state at
</I>&gt;<i> given port. Is there any way to do something similar with hole host
</I>&gt;<i> controller?
</I>
There is no need to reset the USB controller. If you try to reproduce your 
results, you will found that Unplugging the device is usually enough. Really, 
the issue lies in the webcam hardware, and the difference between how Linux 
and Windows handle control transfers is very small. Until the problem has 
been properly identified, I'm afraid the current webcams will keep on 
suffering from the bug, no matter what we try to do in the driver.

Cheers,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000853.html">[Linux-uvc-devel] Reset patch &amp; controls
</A></li>
	<LI>Next message: <A HREF="000862.html">[Linux-uvc-devel] Reset patch &amp; controls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#856">[ date ]</a>
              <a href="thread.html#856">[ thread ]</a>
              <a href="subject.html#856">[ subject ]</a>
              <a href="author.html#856">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
