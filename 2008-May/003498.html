<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] [linux-uvc-devel] driver doesn't return from	vidioc_dqbuf ioctl
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20%5Blinux-uvc-devel%5D%20driver%20doesn%27t%20return%20from%0A%09vidioc_dqbuf%20ioctl&In-Reply-To=%3C200805111016.27854.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003489.html">
   <LINK REL="Next"  HREF="003502.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] [linux-uvc-devel] driver doesn't return from	vidioc_dqbuf ioctl</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20%5Blinux-uvc-devel%5D%20driver%20doesn%27t%20return%20from%0A%09vidioc_dqbuf%20ioctl&In-Reply-To=%3C200805111016.27854.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] [linux-uvc-devel] driver doesn't return from	vidioc_dqbuf ioctl">laurent.pinchart at skynet.be
       </A><BR>
    <I>Sun May 11 10:16:27 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003489.html">[Linux-uvc-devel] [linux-uvc-devel] driver doesn't return from	vidioc_dqbuf ioctl
</A></li>
        <LI>Next message: <A HREF="003502.html">[Linux-uvc-devel] [linux-uvc-devel] driver doesn't return from	vidioc_dqbuf ioctl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3498">[ date ]</a>
              <a href="thread.html#3498">[ thread ]</a>
              <a href="subject.html#3498">[ subject ]</a>
              <a href="author.html#3498">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dan,

On Friday 09 May 2008, Dan McGee wrote:
&gt;<i> I'm seeing this same problem on the Eee PC with the integrated webcam.
</I>&gt;<i> Running an strace on the luvcview process shows it coming to a halt on
</I>&gt;<i> the following:
</I>&gt;<i> ioctl(5, VIDIOC_STREAMON, 0x77eede58)   = 0
</I>&gt;<i> ioctl(5, VIDIOC_DQBUF
</I>&gt;<i>
</I>&gt;<i> and stays there.
</I>&gt;<i>
</I>&gt;<i> I attempted to track down when this problem started occurring and why,
</I>&gt;<i> but I couldn't figure out the why. I know I had a setup where
</I>&gt;<i> everything was working with a near-vanilla 2.6.25 kernel and
</I>&gt;<i> linux-uvc-svn version 205. The problem started when I compiled
</I>&gt;<i> 2.6.25.1 and bumped to SVN revision 207. I attempted to drop back down
</I>&gt;<i> to 205 and the problem was still occurring. Looking through the kernel
</I>&gt;<i> changelog from .25 to .25.1 didn't turn up anything obvious as to what
</I>&gt;<i> changed causing it to fail.
</I>
I'm pretty surprised that the upgrade from .25 to .25.1 alone caused the 
problem.

Could you please retry with r206 and r207 and compare the results ? r207 
introduces a patch to drop incomplete frames. Check the kernel log to make 
sure the right driver gets loaded (it should print the SVN revision number 
when loaded).

If reverting to r206 helps, I'll ask you to try a patch to get more 
information about the issue.

Best regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003489.html">[Linux-uvc-devel] [linux-uvc-devel] driver doesn't return from	vidioc_dqbuf ioctl
</A></li>
	<LI>Next message: <A HREF="003502.html">[Linux-uvc-devel] [linux-uvc-devel] driver doesn't return from	vidioc_dqbuf ioctl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3498">[ date ]</a>
              <a href="thread.html#3498">[ thread ]</a>
              <a href="subject.html#3498">[ subject ]</a>
              <a href="author.html#3498">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
