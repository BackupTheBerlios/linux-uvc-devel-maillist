<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] again &quot;Logitech QuickCam Pro for Notebooks 046d:0991&quot;
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20again%20%22Logitech%20QuickCam%20Pro%20for%20Notebooks%0A%20046d%3A0991%22&In-Reply-To=%3C4AE441C7.9070209%40redhat.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005241.html">
   <LINK REL="Next"  HREF="005250.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] again &quot;Logitech QuickCam Pro for Notebooks 046d:0991&quot;</H1>
    <B>Hans de Goede</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20again%20%22Logitech%20QuickCam%20Pro%20for%20Notebooks%0A%20046d%3A0991%22&In-Reply-To=%3C4AE441C7.9070209%40redhat.com%3E"
       TITLE="[Linux-uvc-devel] again &quot;Logitech QuickCam Pro for Notebooks 046d:0991&quot;">hdegoede at redhat.com
       </A><BR>
    <I>Sun Oct 25 13:17:11 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005241.html">[Linux-uvc-devel] again &quot;Logitech QuickCam Pro for Notebooks 046d:0991&quot;
</A></li>
        <LI>Next message: <A HREF="005250.html">[Linux-uvc-devel] again &quot;Logitech QuickCam Pro for Notebooks	046d:0991&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5246">[ date ]</a>
              <a href="thread.html#5246">[ thread ]</a>
              <a href="subject.html#5246">[ subject ]</a>
              <a href="author.html#5246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 10/22/2009 09:40 AM, Alexey Fisher wrote:
&gt;<i> Hi Laurent,
</I>&gt;<i> thank you for the answer, i thought - no body care. :)
</I>&gt;<i>
</I>&gt;<i> Am Donnerstag, den 22.10.2009, 01:55 +0200 schrieb Laurent Pinchart:
</I>&gt;&gt;<i> Hi Alexey,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Thursday 15 October 2009 21:00:59 Alexey Fisher wrote:
</I>&gt;&gt;&gt;<i> I did some simple dirty hack, it prevent webcam from being killed by cheese.
</I>&gt;&gt;&gt;<i> On other site it make cheese work too.
</I>&gt;&gt;&gt;<i> Like Paulo said,  the camera is slow and it need more time to make thirst
</I>&gt;&gt;&gt;<i> start, some time it need 8 seconds on second start it need about 2 seconds.
</I>&gt;&gt;&gt;<i> If we call STREAMOFF before we get EOF, the camera will die.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Which EOF are you talking about here ? The UVC bit in the video packets header
</I>&gt;&gt;<i> ? How have you tested that ?
</I>&gt;<i>
</I>&gt;<i> I used &quot;uvcvideo trace=255&quot; and cheese.
</I>&gt;<i> I talking about &quot;uvc_v4l2_ioctl(VIDIOC_STREAMON)&quot;, &quot;Frame complete (EOF
</I>&gt;<i> found)&quot; and &quot;uvc_v4l2_ioctl(VIDIOC_STREAMOFF)&quot;.
</I>&gt;<i>
</I>&gt;&gt;&gt;<i> IMHO, the driver should decide if camera ready or not. The easiest way
</I>&gt;&gt;&gt;<i> is, to add SLOWSTART quirk. Correct way probobly will be to check if camera
</I>&gt;&gt;&gt;<i> ready or not.
</I>&gt;&gt;&gt;<i> Any ideas how to make it? Or any other ideas?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I know, cheese use some bruteforce way to get settings, but the bug in
</I>&gt;&gt;&gt;<i> cheese make the bug in uvcvideo easy to reproduce.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It's not a bug in uvcvideo but a bug in the camera. Have you been to isolate
</I>&gt;&gt;<i> exactly which sequence of ioctls issued by Cheese make the camera crash ? I'd
</I>&gt;&gt;<i> like more information about that.
</I>&gt;<i>
</I>&gt;<i> I made dmesg of two situations, webcam work and don't work.
</I>&gt;<i> cheese celling two times &quot;uvc_v4l2_ioctl(VIDIOC_STREAMON)&quot;, thirst one
</I>&gt;<i> to get the settings and second time to start the record. Between thirst
</I>&gt;<i> and second pass the time out seems to be too short (even it is 10
</I>&gt;<i> seconds).
</I>&gt;<i>
</I>
This is not an issue with the camera, nor with the driver, but an issue with
cheese. In order to not wait for ever when probing devices which for some
reason won't stream, cheese wait a maximum of 3 seconds before the stream to
start, so if the camera is this slow to start, then cheese will most likely
have given up before the cam has started.

Regards,

Hans

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005241.html">[Linux-uvc-devel] again &quot;Logitech QuickCam Pro for Notebooks 046d:0991&quot;
</A></li>
	<LI>Next message: <A HREF="005250.html">[Linux-uvc-devel] again &quot;Logitech QuickCam Pro for Notebooks	046d:0991&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5246">[ date ]</a>
              <a href="thread.html#5246">[ thread ]</a>
              <a href="subject.html#5246">[ subject ]</a>
              <a href="author.html#5246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
