<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Two webcams simultaneously on the same USB
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Two%20webcams%20simultaneously%20on%20the%20same%20USB&In-Reply-To=%3C59cf47a80905291440o74440e2bm79f33b68aeae56b3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004805.html">
   <LINK REL="Next"  HREF="004807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Two webcams simultaneously on the same USB</H1>
    <B>Paulo Assis</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Two%20webcams%20simultaneously%20on%20the%20same%20USB&In-Reply-To=%3C59cf47a80905291440o74440e2bm79f33b68aeae56b3%40mail.gmail.com%3E"
       TITLE="[Linux-uvc-devel] Two webcams simultaneously on the same USB">pj.assis at gmail.com
       </A><BR>
    <I>Fri May 29 23:40:58 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004805.html">[Linux-uvc-devel] Two webcams simultaneously on the same USB
</A></li>
        <LI>Next message: <A HREF="004807.html">[Linux-uvc-devel] Two webcams simultaneously on the same USB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4806">[ date ]</a>
              <a href="thread.html#4806">[ thread ]</a>
              <a href="subject.html#4806">[ subject ]</a>
              <a href="author.html#4806">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Javier,
I've done some more testing and this is what I found when capturing
<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">640x480 at 25fps</A> video from 2 uvc cameras on the same controler, both from
logitech a QC5000pro and another camera I've been testing:
- I can capture video from both of them when streaming MJPEG data on the two
cameras.
- I can capture video from both of them when streaming MJPEG data from one
and YUYV data from the other one.
- when using a YUYV stream on both I can only capture from the first camera,
from the second I get a error of no space left, basically the USB bandwith
is not enought.

Best regards,
Paulo

2009/5/29 Javier Martinez Baena &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jbaena at decsai.ugr.es</A>&gt;

&gt;<i>
</I>&gt;<i> Thanks Paulo, not only Logitech fails, but also Creative (Optia AF at
</I>&gt;<i> least).
</I>&gt;<i> I will get a new Philips soon ... I hope this will work better.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Fri, 29 May 2009 13:49:55 +0100, Paulo Assis wrote
</I>&gt;<i> &gt; Javier Hi,
</I>&gt;<i> &gt; You should know that at least logitech cameras don't handle well usb
</I>&gt;<i> &gt; hubs, logitech is very clear on this, if you want you can get more
</I>&gt;<i> &gt; info on the quickcamteam site and forums, it has something to do
</I>&gt;<i> &gt; with the way data is handled by most usb hubs. Anyway I have been
</I>&gt;<i> &gt; able to connect up to 3 uvc cameras simultaneously in my pc, and I
</I>&gt;<i> &gt; believe two of them were on the same host (I mounted the pc myself
</I>&gt;<i> &gt; so I should know this for sure, but my memory has seen better days :)
</I>&gt;<i> &gt;  ), all of them use the ehci driver. Some drivers are in fact buggy,
</I>&gt;<i> &gt; just check the following link for a example
</I>&gt;<i> &gt; (in this case the musb driver):
</I>&gt;<i> <A HREF="http://forums.quickcamteam.net/showthread.php?tid=821">http://forums.quickcamteam.net/showthread.php?tid=821</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Best regards,
</I>&gt;<i> &gt; Paulo
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2009/5/29 Javier Mart&#237;nez Baena &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jbaena at decsai.ugr.es</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; &gt;Hi Javier,
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;On Friday 22 May 2009 09:36:32 J. Mart&#237;nez Baena wrote:
</I>&gt;<i> &gt; &gt; &gt;&gt; Hello,
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; I have a problem with 2 webcams I'm trying to get work
</I>&gt;<i> simultaneously. I
</I>&gt;<i> &gt; &gt; &gt;&gt; have several models (Logitech P3000, Logitech P9000, Creative
</I>&gt;<i> LiveCAM
</I>&gt;<i> &gt; &gt; Optia
</I>&gt;<i> &gt; &gt; &gt;&gt; AF, Philips). When I plug two of them on different USB ports, then
</I>&gt;<i> &gt; &gt; &gt;&gt; everything works ok: I can see both simultaneously with, for
</I>&gt;<i> example,
</I>&gt;<i> &gt; &gt; &gt;&gt; luvcview.
</I>&gt;<i> &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; The problem exists when I plug two of them on the same USB (for
</I>&gt;<i> example
</I>&gt;<i> &gt; &gt; on
</I>&gt;<i> &gt; &gt; &gt;&gt; frontal USB or in a USB hub). I've got the problem for combinations
</I>&gt;<i> in
</I>&gt;<i> &gt; &gt; wich
</I>&gt;<i> &gt; &gt; &gt;&gt; UVC driver is used by both cameras. I can get frames for one of them
</I>&gt;<i> &gt; &gt; (the
</I>&gt;<i> &gt; &gt; &gt;&gt; first that I try), but for the second one I get a &quot;noisy/green&quot;
</I>&gt;<i> screen
</I>&gt;<i> &gt; &gt; ...
</I>&gt;<i> &gt; &gt; &gt;&gt; it seems as if the image is corrupted.
</I>&gt;<i> &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; However, if I put the philips and the logitech P9000/Optia it works
</I>&gt;<i> &gt; &gt; fine.
</I>&gt;<i> &gt; &gt; &gt;&gt; The Philips (and logitech P3000) use a different driver than UVC.
</I>&gt;<i> Also,
</I>&gt;<i> &gt; &gt; I
</I>&gt;<i> &gt; &gt; &gt;&gt; can plug two philips webcam and they works fine.
</I>&gt;<i> &gt; &gt; &gt;&gt;
</I>&gt;<i> &gt; &gt; &gt;&gt; &#191;Is this a bug or an unresolved problem of the UVC driver? &#191;Is it a
</I>&gt;<i> USB
</I>&gt;<i> &gt; &gt; &gt;&gt; problem?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;My guess is that you're having USB bandwidth issues. As the uvcvideo
</I>&gt;<i> &gt; &gt; driver
</I>&gt;<i> &gt; &gt; &gt;starts capturing video on both cameras, you're not exceeding the
</I>&gt;<i> &gt; &gt; theoretical
</I>&gt;<i> &gt; &gt; &gt;USB bandwidth limit. However, bugs in the USB host controller, the USB
</I>&gt;<i> &gt; &gt; host
</I>&gt;<i> &gt; &gt; &gt;controller driver or the camera can result in corrupted data. Could
</I>&gt;<i> you
</I>&gt;<i> &gt; &gt; &gt;perform the same test on another computer ?
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;Best regards,
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt;Laurent Pinchart
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Hi Laurent,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Sorry for the delay ... I make some tests on several computers and the
</I>&gt;<i> &gt; &gt; problem
</I>&gt;<i> &gt; &gt; persists. My guess is that is a problem of UVC driver (but I'm not an
</I>&gt;<i> &gt; &gt; expert
</I>&gt;<i> &gt; &gt; ... so it's only a guess!). When I connect different webcams (using
</I>&gt;<i> other
</I>&gt;<i> &gt; &gt; driver than UVC) it works.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I tried with different resolutions (320x240, 640x480, ...) and
</I>&gt;<i> different
</I>&gt;<i> &gt; &gt; framerates.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Sometimes, when a cam is running (capturing), I can't even initialice
</I>&gt;<i> the
</I>&gt;<i> &gt; &gt; other one (neither consult for allowed resolutions, etc).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; But I don't know how USB driver works, so, maybe an USB problem.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Best regards
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; Linux-uvc-devel mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>&gt;<i> &gt; &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Dr. Javier Mart&#237;nez Baena
</I>&gt;<i> Dpto. Ciencias de la Computaci&#243;n e I. A.
</I>&gt;<i> E.T.S. de Ingenier&#237;a Inform&#225;tica
</I>&gt;<i> Universidad de Granada
</I>&gt;<i> Tlf: 958 240802
</I>&gt;<i> Fax: 958 243317
</I>&gt;<i> Email: <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jbaena at decsai.ugr.es</A>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> DEpartment of Computer Science and A.I. <A HREF="http://decsai.ugr.es">http://decsai.ugr.es</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090529/d03fba2d/attachment.html">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090529/d03fba2d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004805.html">[Linux-uvc-devel] Two webcams simultaneously on the same USB
</A></li>
	<LI>Next message: <A HREF="004807.html">[Linux-uvc-devel] Two webcams simultaneously on the same USB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4806">[ date ]</a>
              <a href="thread.html#4806">[ thread ]</a>
              <a href="subject.html#4806">[ subject ]</a>
              <a href="author.html#4806">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
