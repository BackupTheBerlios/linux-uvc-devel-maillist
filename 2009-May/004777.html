<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Still trying to use uvcvideo in an embedded system
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Still%20trying%20to%20use%20uvcvideo%20in%20an%20embedded%20system&In-Reply-To=%3C59cf47a80905160150o6544839fu340b7c8bd14cff47%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004775.html">
   <LINK REL="Next"  HREF="004778.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Still trying to use uvcvideo in an embedded system</H1>
    <B>Paulo Assis</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Still%20trying%20to%20use%20uvcvideo%20in%20an%20embedded%20system&In-Reply-To=%3C59cf47a80905160150o6544839fu340b7c8bd14cff47%40mail.gmail.com%3E"
       TITLE="[Linux-uvc-devel] Still trying to use uvcvideo in an embedded system">pj.assis at gmail.com
       </A><BR>
    <I>Sat May 16 10:50:35 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004775.html">[Linux-uvc-devel] Still trying to use uvcvideo in an embedded	system
</A></li>
        <LI>Next message: <A HREF="004778.html">[Linux-uvc-devel] Hotplug event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4777">[ date ]</a>
              <a href="thread.html#4777">[ thread ]</a>
              <a href="subject.html#4777">[ subject ]</a>
              <a href="author.html#4777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Enrico,
Most logitech uvc cameras support yuv on usb1.1 but only for very low
resolutions.
This is a bandwidth issue, usb1.1 just doesn't have the necessary bandwidth
needed by yuv format on any usable resolution.


Best regards,
Paulo


2009/5/15 Enrico Di Lello &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">enr.dilello at gmail.com</A>&gt;

&gt;<i> Paolo, thank you very much for your advice, I never thought about this
</I>&gt;<i> before.
</I>&gt;<i> The FoxBoard has only 2 usb 1.1 ports, so this could actually be the
</I>&gt;<i> problem.
</I>&gt;<i> So this seems to be a camera related issue, ans I don't know if I
</I>&gt;<i> should relieved or just sadder.
</I>&gt;<i>
</I>&gt;<i> I don't have particular problems in changing camera, the question is
</I>&gt;<i> that is hard to find a recent camera supported by a driver different
</I>&gt;<i> than uvc. The FoxBoard has native support for pwc and cpia, but this
</I>&gt;<i> drivers only support old cameras.
</I>&gt;<i>
</I>&gt;<i> If the problem is USB related, how could I try to fix it? Is it
</I>&gt;<i> possible to trace somehow the handshaking process between the camera
</I>&gt;<i> and the driver? I found something like UVC_TRACE in the driver code...
</I>&gt;<i> maybe this could be a way.
</I>&gt;<i>
</I>&gt;<i> Do you know any uvcvideo camera that support YUV and usb 1.1??
</I>&gt;<i>
</I>&gt;<i> Thank you again!
</I>&gt;<i>
</I>&gt;<i> Enrico
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2009/5/15 Paulo Assis &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">pj.assis at gmail.com</A>&gt;:
</I>&gt;<i> &gt; Enrico,
</I>&gt;<i> &gt; Does the  FoxBoard supports usb 2.0 or 1.1 ports?
</I>&gt;<i> &gt; Some cameras only enable yuv format when connected to a usb 2 port.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Best regards,
</I>&gt;<i> &gt; Paulo
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2009/5/15 Enrico Di Lello &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">enr.dilello at gmail.com</A>&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Hi Laurent,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; thank for your early reply. I don't know if I should send this mail in
</I>&gt;<i> &gt;&gt; the mailing list or directly to you.
</I>&gt;<i> &gt;&gt; I think that my problem is pretty simple, and since your name is on
</I>&gt;<i> &gt;&gt; the comments of the uvc_video source code, I think you're the best
</I>&gt;<i> &gt;&gt; person I could ask for help .
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I did not manage, for now to compile the mercurial package for my
</I>&gt;<i> &gt;&gt; system, but I managed to compile the r261 version from the berlios
</I>&gt;<i> &gt;&gt; repository. I wrote a simple application to grab a frame from a camera
</I>&gt;<i> &gt;&gt; in YUV422 format.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The problem is: this application I wrote works just fine on my ubuntu
</I>&gt;<i> &gt;&gt; laptop with uvcvideo (Mercurial repository). Camera recognized, YUV422
</I>&gt;<i> &gt;&gt; format set, frame grabbing runs just fine.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; When I connect the same webcam ( Creative Optia ) on my FoxBoard, the
</I>&gt;<i> &gt;&gt; system does recognize the camera, because I can see it in dmesg.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; When I run the same application, I receive an error when trying to set
</I>&gt;<i> &gt;&gt; the YUV422 format. More precisely, the VIDIOC_S_FMT fails when
</I>&gt;<i> &gt;&gt; requiring this format.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Surprisingly, it successfully sets the format if I choose the MJPEG
</I>&gt;<i> &gt;&gt; format.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; From the source code (of r261) I can see that the YUYV is supported,
</I>&gt;<i> &gt;&gt; so I dont'understand why my application should'n work with the same
</I>&gt;<i> &gt;&gt; camera on a different architecture. Another application (uvcstreamer)
</I>&gt;<i> &gt;&gt; that grabs frames in MJPEG format just works fine on FoxBoard...
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Why should I disable the V4L support from my kernel? I did so, and
</I>&gt;<i> &gt;&gt; compiled everything again, but now I actually get the error msg when
</I>&gt;<i> &gt;&gt; launching VIDIOC_REQBUFS the ioctl. Again, same code and same camera
</I>&gt;<i> &gt;&gt; work fine on Ubuntu with kernel 2.6.24, while on my FoxBoard I have
</I>&gt;<i> &gt;&gt; the 2.6.25.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Many thanks to anyone who will help me with this.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Enrico
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; Linux-uvc-devel mailing list
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090516/33ab8f66/attachment.html">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090516/33ab8f66/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004775.html">[Linux-uvc-devel] Still trying to use uvcvideo in an embedded	system
</A></li>
	<LI>Next message: <A HREF="004778.html">[Linux-uvc-devel] Hotplug event
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4777">[ date ]</a>
              <a href="thread.html#4777">[ thread ]</a>
              <a href="subject.html#4777">[ subject ]</a>
              <a href="author.html#4777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
