From carlossc87 at gmail.com  Wed Dec  1 21:37:10 2010
From: carlossc87 at gmail.com (Carlos Serramito Calvo)
Date: Wed, 1 Dec 2010 21:37:10 +0100
Subject: [Linux-uvc-devel] ASUS UL30A - Suyin Cam (064E:A136) failed.
Message-ID: <AANLkTi=cWQZVsZvcL8NVfhS-=ckZ4OLMD_Bc-yfsKXRQ@mail.gmail.com>

$ sudo modprobe uvcvideo
$ dmesg
....
uvcvideo: Found UVC 1.00 device USB 2.0 UVC 0.3M Webcam (064e:a136)
uvcvideo: UVC non compliance - GET_DEF(PROBE) not supported. Enabling
workaround.
uvcvideo: Failed to query (129) UVC probe control : -71 (exp. 26).
uvcvideo: Failed to initialize the device (-5).

$ lsusb -v -d 064e:a136

Bus 004 Device 058: ID 064e:a136 Suyin Corp.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x064e Suyin Corp.
  idProduct          0xa136
  bcdDevice            1.11
  iManufacturer           2
  iProduct                1
  iSerial                 3
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          341
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               4
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              4
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          103
        dwClockFrequency       15.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {7033f028-1163-2e4a-ba2c-6890eb334016}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x1f
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 5
        guidExtensionCode         {3fae1228-d7bc-114e-a357-6f1edef7d61d}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          4
        bControlSize            1
        bmControls( 0)       0xff
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000177f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Gain
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0
        bmVideoStandards     0x 0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         1
        wTotalLength                       95
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 2
        bTriggerSupport                     0
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                1
        guidFormat
 {59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  2027520
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  3
        dwFrameInterval( 0)            666666
        dwFrameInterval( 1)           1000000
        dwFrameInterval( 2)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            10
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               1
        wWidth( 0)                        176
        wHeight( 0)                       144
        bNumCompressionPatterns             1
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0258  1x 600 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x03bc  1x 956 bytes
        bInterval               1
can't get device qualifier: Operation not permitted
can't get debug descriptor: Operation not permitted
cannot read device status, Operation not permitted (1)

Thanks.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101201/54e503cf/attachment.html>

From javier.acebes at gmail.com  Mon Dec  6 12:29:53 2010
From: javier.acebes at gmail.com (javier acebes)
Date: Mon, 6 Dec 2010 11:29:53 +0000
Subject: [Linux-uvc-devel] Fwd:  Looking for upside down uvc cams
In-Reply-To: <mailman.452.1291588527.1408.linux-uvc-devel@lists.berlios.de>
References: <mailman.452.1291588527.1408.linux-uvc-devel@lists.berlios.de>
Message-ID: <AANLkTimw50QsG0k1yH3uyCZ1iXT6LMm2fqQzg+bjyhUN@mail.gmail.com>

Hi, here are my logs in case you're still adding new hardware.
Cheers!

ps. Laptop is an Asus U33JC-RX068V
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101206/fa24597c/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dmi.log
Type: text/x-log
Size: 19395 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101206/fa24597c/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb.log
Type: text/x-log
Size: 440 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101206/fa24597c/attachment-0001.bin>

From vesely at gjh.sk  Wed Dec  8 00:06:08 2010
From: vesely at gjh.sk (Jozef Vesely)
Date: Wed, 8 Dec 2010 00:06:08 +0100
Subject: [Linux-uvc-devel] MJPEG formats disappeared after system update
Message-ID: <20101207230608.GA67999@mail.kolej.mff.cuni.cz>

Hello, 

I have two webcams:

uvcvideo: Found UVC 1.00 device USB2.0_Camera (093a:2700)
uvcvideo: Found UVC 1.00 device Slim 1322 AF (0458:704d)

both worked with uvc_streamer with 2.6.26.8 kernel.
However, in the new machine with 2.6.32.26 kernel, I got error:

Unable to set format: 22.

strace:

open("/dev/video0", O_RDWR) = 3
ioctl(3, VIDIOC_QUERYCAP, 0x9bdb018) = 0
ioctl(3, VIDIOC_S_FMT, 0x9bdb080) = -1 EINVAL (Invalid argument)

luvcview does not show any MJPG formats

Have there been any changes in the driver that could affect MJPG
formats?

Thanks for help 

Jozef Vesely
vesely at gjh.sk



From csrodley at xnet.co.nz  Sun Dec 12 23:45:36 2010
From: csrodley at xnet.co.nz (Chris)
Date: Mon, 13 Dec 2010 11:45:36 +1300
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135) UVC control 2
 (unit 2) : -110 (exp. 2).
In-Reply-To: <mailman.35.1284026406.31352.linux-uvc-devel@lists.berlios.de>
References: <mailman.35.1284026406.31352.linux-uvc-devel@lists.berlios.de>
Message-ID: <4D055090.70600@xnet.co.nz>

Hi All,

Getting this error after a period of correct operation:
[ 2890.610992] uvcvideo: Failed to query (135) UVC control 2 (unit 2) : 
-110 (exp. 2).
[ 2890.939117] uvcvideo: Failed to query (135) UVC control 2 (unit 2) : 
-110 (exp. 2).
[ 2891.267242] uvcvideo: Failed to query (135) UVC control 3 (unit 2) : 
-110 (exp. 2).
[ 2891.595367] uvcvideo: Failed to query (135) UVC control 7 (unit 2) : 
-110 (exp. 2).
[ 2891.923492] uvcvideo: Failed to query (135) UVC control 11 (unit 2) : 
-110 (exp. 1).
[ 2892.251617] uvcvideo: Failed to query (135) UVC control 4 (unit 2) : 
-110 (exp. 2).
[ 2892.579742] uvcvideo: Failed to query (135) UVC control 5 (unit 2) : 
-110 (exp. 1).
[ 2892.907867] uvcvideo: Failed to query (135) UVC control 8 (unit 2) : 
-110 (exp. 2).
[ 2893.235992] uvcvideo: Failed to query (135) UVC control 1 (unit 2) : 
-110 (exp. 2).

How long the unit runs for before failing varies.
The only way to bring it back - that I have found so far - is a system 
reboot.

I have seen a number of posts that are similar to this problem but very 
very old.
I am using the Logitech C910 - but have tried about 6 other cameras that 
all have the same issue.

Sometimes it doesn't work straight after booting.. but most of the time 
it works fine for a few hours.

Any ideas or patches that could solve this issue?

Many thanks,
CS



From emre.cantimur at gmail.com  Tue Dec 14 12:46:12 2010
From: emre.cantimur at gmail.com (emre cantimur)
Date: Tue, 14 Dec 2010 13:46:12 +0200
Subject: [Linux-uvc-devel] Can't use uvc driver (Dropping payload)
Message-ID: <AANLkTi=_0auDshGGTT0bnUH8vyi=RscrNZrXuHPtGO7x@mail.gmail.com>

Hi all,

I have been trying to integrate a Logitech webcam (Pro 9000 or c200) into an
embedded linux environment. It is running 2.6.20 kernel on MIPS arch.

# cpuinfo
  system type             : INCAIP2
  processor                 : 0
  cpu model                : MIPS 4Kec V4.0
  BogoMIPS                : 130.66
  wait instruction          : yes
  microsecond timers   : yes
  tlb_entries                 : 16
  extra interrupt vector  : yes
  hardware watchpoint  : yes
  VCED exceptions      : not available
  VCEI exceptions       : not available

I can successfully compile and load v4l2 modules and uvc. However, when I
try to use an application to capture video (ffmpeg or famous v4l2 video
capture example) it stucks and gives no repsonse ("select timeout"). What I
get from syslog and dmesg are messages like (lots of them):

<7>uvcvideo: Dropping payload (error bit set).
<7>uvcvideo: Dropping payload (error bit set).
<7>uvcvideo: Dropping payload (error bit set).
<7>uvcvideo: Dropping payload (error bit set).
<7>uvcvideo: Dropping payload (error bit set).
<7>uvcvideo: Dropping payload (out of sync).
<7>uvcvideo: Dropping payload (out of sync).
<7>uvcvideo: Dropping payload (out of sync).
<7>uvcvideo: Dropping payload (out of sync).
<7>uvcvideo: Unknown status event type 10.
<7>uvcvideo: Unknown status event type 4.

Do you think the kernel version is too old ? I googled for the error
messages but could not find any usable information. I need to solve the
problem soon. Thanks for your help.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101214/da28759e/attachment.html>

From laurent.pinchart at ideasonboard.com  Wed Dec 15 01:05:25 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 15 Dec 2010 01:05:25 +0100
Subject: [Linux-uvc-devel] flipped webcam on asus laptop
In-Reply-To: <4D0797EA.600@profadvice.com>
References: <4D0797EA.600@profadvice.com>
Message-ID: <201012150105.25927.laurent.pinchart@ideasonboard.com>

Hi Rogelio,

On Tuesday 14 December 2010 17:14:34 Rogelio Trivi?o Gonz?lez wrote:
> Hi:
> I'm using ubuntu 10.10 on a asus laptop, and I've got the problem with
> the flipped webcam.
> Thanks for your job. I suppose a future kernel update will do the trick...
> Regards.

Please send the lsusb -v output for your device.

-- 
Regards,

Laurent Pinchart


From shuzhenw at codeaurora.org  Fri Dec 17 01:45:48 2010
From: shuzhenw at codeaurora.org (Shuzhen Wang)
Date: Thu, 16 Dec 2010 16:45:48 -0800
Subject: [Linux-uvc-devel] uvc_queue_next_buffer called at an interval
	greater than framerate.
Message-ID: <000301cb9d83$bf2d8860$3d889920$@org>

Hello, 

We are using UVC driver with a Chicony USB camera. The camera runs at 30fps
fixed frame rate. 

We see some jittering in the video stream. When we look at dmesg, it shows
that sometimes the interval between 2 uvc_queue_next_buffer calls are about
65 ms. Most of the time it's around 30-33ms. Obviously frame drop is
happening here.

My understanding is that uvc_queue_next_buffer is called in interrupt
contexts. So it's unlikely it's scheduling issue. I can think of 2
possibilities:
1. Problem with camera firmware: the frame stream coming from the camera
module is already problematic.
2. Memory/Cache performance issue causing the frame processing takes too
long.

How can I narrow down the issue furthuer? Your comment is appreciated.

-Shuzhen



From tomsunchen at gmail.com  Sat Dec 18 08:49:08 2010
From: tomsunchen at gmail.com (tomsun)
Date: Sat, 18 Dec 2010 15:49:08 +0800
Subject: [Linux-uvc-devel] Webcam can't set default parameter by uvc device
Message-ID: <AANLkTinrr1uN4DvyB=9CESDC1-QQ231ignq=kXU_C2YB@mail.gmail.com>

Dear All:
    Now i came across some troubles on new CCD Devices. I  can adjust HUE,
Brightness, Contrast
, Saturation and so on, but i can't set default parameter which be from
firmware by WebCam application.
the below information comes form uvcvideo driver.

[   14.183243] bus: 'usb': add driver uvcvideo
[   14.183273] bus: 'usb': driver_probe_device: matched device 1-1.1:1.0
with driver uvcvideo
[   14.183279] bus: 'usb': really_probe: probing driver uvcvideo with device
1-1.1:1.0
[   14.183297] driver: '1-1.1:1.1': driver_bound: bound to device 'uvcvideo'
[   14.183318] uvcvideo: Found UVC 1.00 device 1.3M HD WebCam (04f2:b21b)
[   14.200604] driver: '1-1.1:1.0': driver_bound: bound to device 'uvcvideo'
[   14.200611] bus: 'usb': really_probe: bound device 1-1.1:1.0 to driver
uvcvideo
[   14.200636] usbcore: registered new interface driver uvcvideo
[  104.558118] uvcvideo: Failed to query (129) UVC control 2 (unit 2) : -110
(exp. 2).
[  104.858153] uvcvideo: Failed to query (129) UVC control 3 (unit 2) : -110
(exp. 2).
[  104.960430] uvcvideo: Failed to query (129) UVC control 6 (unit 2) : -32
(exp. 2).

Does anyone tell me why  and how  to solve it ?
Thank you very much~


Best Regards,
tomsun
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101218/6936b8f8/attachment.html>

From tomsunchen at gmail.com  Sat Dec 18 11:10:47 2010
From: tomsunchen at gmail.com (tomsun)
Date: Sat, 18 Dec 2010 18:10:47 +0800
Subject: [Linux-uvc-devel] Webcam can't set default parameter by uvc
	device
In-Reply-To: <AANLkTimxhgkwzkhcKaHJ0Ojt4EHLFHVqpG8wuJuxhj0F@mail.gmail.com>
References: <AANLkTinrr1uN4DvyB=9CESDC1-QQ231ignq=kXU_C2YB@mail.gmail.com>
	<AANLkTim8ekcqMrk+SUbV=M=tcETgspd2AF4=oy0jnMBg@mail.gmail.com>
	<AANLkTimxhgkwzkhcKaHJ0Ojt4EHLFHVqpG8wuJuxhj0F@mail.gmail.com>
Message-ID: <AANLkTimv9D-CLjJzpUeer-3QH=+p7_rtKfxDOF9mrLAo@mail.gmail.com>

Dear All:
    I am sorry  i  can't upload the "lsusb -vv" information. the below
information:
Bus 001 Device 003: ID 064e:c218 Suyin Corp.
Device Descriptor:
bLength 18
bDescriptorType 1
bcdUSB 2.00
bDeviceClass 239 Miscellaneous Device
bDeviceSubClass 2 ?
bDeviceProtocol 1 Interface Association
bMaxPacketSize0 64
idVendor 0x064e Suyin Corp.
idProduct 0xc218
bcdDevice 3.32
iManufacturer 1 SuYin
iProduct 2 1.3M HD WebCam
iSerial 3 HF1316-P80A-SS031-VA-R03.03.02
bNumConfigurations 1
Configuration Descriptor:
bLength 9
bDescriptorType 2
wTotalLength 1349
bNumInterfaces 2
bConfigurationValue 1
iConfiguration 0
bmAttributes 0x80
(Bus Powered)
MaxPower 500mA
Interface Association:
bLength 8
bDescriptorType 11
bFirstInterface 0
bInterfaceCount 2
bFunctionClass 14 Video
bFunctionSubClass 3 Video Interface Collection
bFunctionProtocol 0
iFunction 2 1.3M HD WebCam
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 0
bAlternateSetting 0
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 1 Video Control
bInterfaceProtocol 0
iInterface 2 1.3M HD WebCam
VideoControl Interface Descriptor:
bLength 13
bDescriptorType 36
bDescriptorSubtype 1 (HEADER)
bcdUVC 1.00
wTotalLength 80
dwClockFrequency 48.000000MHz
bInCollection 1
baInterfaceNr( 0) 1
VideoControl Interface Descriptor:
bLength 18
bDescriptorType 36
bDescriptorSubtype 2 (INPUT_TERMINAL)
bTerminalID 1
wTerminalType 0x0201 Camera Sensor
bAssocTerminal 0
iTerminal 0
wObjectiveFocalLengthMin 0
wObjectiveFocalLengthMax 0
wOcularFocalLength 0
bControlSize 3
bmControls 0x00000002
Auto-Exposure Mode
VideoControl Interface Descriptor:
bLength 11
bDescriptorType 36
bDescriptorSubtype 5 (PROCESSING_UNIT)
Warning: Descriptor too short
bUnitID 2
bSourceID 1
wMaxMultiplier 16384
bControlSize 2
bmControls 0x0000153f
Brightness
Contrast
Hue
Saturation
Sharpness
Gamma
Backlight Compensation
Power Line Frequency
White Balance Temperature, Auto
iProcessing 0
bmVideoStandards 0x1d
None
PAL - 625/50
SECAM - 625/50
NTSC - 625/50
VideoControl Interface Descriptor:
bLength 29
bDescriptorType 36
bDescriptorSubtype 6 (EXTENSION_UNIT)
bUnitID 3
guidExtensionCode {82066163-7050-ab49-b8cc-b3855e8d221d}
bNumControl 0
bNrPins 1
baSourceID( 0) 2
bControlSize 4
bmControls( 0) 0xff
bmControls( 1) 0xff
bmControls( 2) 0x04
bmControls( 3) 0x00
iExtension 0
VideoControl Interface Descriptor:
bLength 9
bDescriptorType 36
bDescriptorSubtype 3 (OUTPUT_TERMINAL)
bTerminalID 4
wTerminalType 0x0101 USB Streaming
bAssocTerminal 0
bSourceID 3
iTerminal 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x87 EP 7 IN
bmAttributes 3
Transfer Type Interrupt
Synch Type None
Usage Type Data
wMaxPacketSize 0x0010 1x 16 bytes
bInterval 8
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 0
bNumEndpoints 0
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
VideoStreaming Interface Descriptor:
bLength 15
bDescriptorType 36
bDescriptorSubtype 1 (INPUT_HEADER)
bNumFormats 2
wTotalLength 1046
bEndPointAddress 129
bmInfo 0
bTerminalLink 4
bStillCaptureMethod 2
bTriggerSupport 1
bTriggerUsage 0
bControlSize 1
bmaControls( 0) 27
bmaControls( 1) 27
VideoStreaming Interface Descriptor:
bLength 27
bDescriptorType 36
bDescriptorSubtype 4 (FORMAT_UNCOMPRESSED)
bFormatIndex 1
bNumFrameDescriptors 9
guidFormat {59555932-0000-1000-8000-
00aa00389b71}
bBitsPerPixel 16
bDefaultFrameIndex 1
bAspectRatioX 0
bAspectRatioY 0
bmInterlaceFlags 0x00
Interlaced stream or variable: No
Fields per frame: 1 fields
Field 1 first: No
Field pattern: Field 1 only
bCopyProtect 0
VideoStreaming Interface Descriptor:
bLength 54
...........

Best Regards,
tomsun




2010/12/18 tomsun <tomsunchen at gmail.com>

>    Dear all:
>>     the attachment is "lsusb -vv".
>>
>> Thanks
>> Best Regards,
>> tomsun
>>
>> 2010/12/18 tomsun <tomsunchen at gmail.com>
>>
>>  Dear All:
>>>     Now i came across some troubles on new CCD Devices. I  can adjust
>>> HUE, Brightness, Contrast
>>> , Saturation and so on, but i can't set default parameter which be from
>>> firmware by WebCam application.
>>> the below information comes form uvcvideo driver.
>>>
>>> [   14.183243] bus: 'usb': add driver uvcvideo
>>> [   14.183273] bus: 'usb': driver_probe_device: matched device 1-1.1:1.0
>>> with driver uvcvideo
>>> [   14.183279] bus: 'usb': really_probe: probing driver uvcvideo with
>>> device 1-1.1:1.0
>>> [   14.183297] driver: '1-1.1:1.1': driver_bound: bound to device
>>> 'uvcvideo'
>>> [   14.183318] uvcvideo: Found UVC 1.00 device 1.3M HD WebCam (04f2:b21b)
>>> [   14.200604] driver: '1-1.1:1.0': driver_bound: bound to device
>>> 'uvcvideo'
>>> [   14.200611] bus: 'usb': really_probe: bound device 1-1.1:1.0 to driver
>>> uvcvideo
>>> [   14.200636] usbcore: registered new interface driver uvcvideo
>>> [  104.558118] uvcvideo: Failed to query (129) UVC control 2 (unit 2) :
>>> -110 (exp. 2).
>>> [  104.858153] uvcvideo: Failed to query (129) UVC control 3 (unit 2) :
>>> -110 (exp. 2).
>>> [  104.960430] uvcvideo: Failed to query (129) UVC control 6 (unit 2) :
>>> -32 (exp. 2).
>>>
>>> Does anyone tell me why  and how  to solve it ?
>>> Thank you very much~
>>>
>>>
>>> Best Regards,
>>> tomsun
>>>
>>
>>
>>
>> --
>> Best Regards,
>> tomsun
>>
>
>
>
> --
> Best Regards,
> tomsun
>



-- 
Best Regards,
tomsun
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101218/bf478801/attachment.html>

From shuzhenw at codeaurora.org  Tue Dec 21 08:04:04 2010
From: shuzhenw at codeaurora.org (Shuzhen Wang)
Date: Mon, 20 Dec 2010 23:04:04 -0800
Subject: [Linux-uvc-devel] uvc_queue_next_buffer called at an interval
	greater than framerate.
In-Reply-To: <000301cb9d83$bf2d8860$3d889920$@org>
References: <000301cb9d83$bf2d8860$3d889920$@org>
Message-ID: <000001cba0dd$41045290$c30cf7b0$@org>

I narrowed the issue a little bit more. It looks like a bandwidth/
throughput issue. The sequence is like this:

Timestamp(seconds)
101.995432		Queue 0
101.995705		Queue 1
101.995978		Queue 2
101.996250		Queue 3
103.129925		Frame 0 complete
103.165819		Frame 1 complete
103.201672		Frame 2 complete
103.237764		Frame 3 complete
103.239244		Dequeue 0
103.241105		Queue 0
103.241153		Dequeue 1
103.243283		Queue 1
103.243333		Dequeue 2
103.245113		Queue 2
103.245161		Dequeue 3
103.247259		Queue 3
103.296360		Frame 0 complete
....

In this case, the frame interval is: 33ms-33ms-33ms-67ms.
So in this case, effectively 1 frame is dropped at the driver level.

One thing worth noting is that the user space application has a loop
like this (in pseudo code):

  Stream on
  ......
  while(true) {
      Dequeue buffer;
      Queue buffer;
  }


Is the frame drop due to the isochronous nature of the UVC protocol? 
In other words, because of the multiple Dequeue & Queue operations 
happening at the 103.239244 timestamp, the next frame doesn't have 
enough time/processing bandwidth to finish. Hence 1 frame is dropped. 

Does this make sense?

-Shuzhen



--
Sent by an employee of the Qualcomm Innovation Center, Inc.
The Qualcomm Innovation Center, Inc. is a member of the Code Aurora Forum.
--

> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de [mailto:linux-uvc-devel-
> bounces at lists.berlios.de] On Behalf Of Shuzhen Wang
> Sent: Thursday, December 16, 2010 4:46 PM
> To: linux-uvc-devel at lists.berlios.de
> Subject: [Linux-uvc-devel] uvc_queue_next_buffer called at an interval
> greater than framerate.
> 
> Hello,
> 
> We are using UVC driver with a Chicony USB camera. The camera runs at
> 30fps
> fixed frame rate.
> 
> We see some jittering in the video stream. When we look at dmesg, it
> shows
> that sometimes the interval between 2 uvc_queue_next_buffer calls are
> about
> 65 ms. Most of the time it's around 30-33ms. Obviously frame drop is
> happening here.
> 
> My understanding is that uvc_queue_next_buffer is called in interrupt
> contexts. So it's unlikely it's scheduling issue. I can think of 2
> possibilities:
> 1. Problem with camera firmware: the frame stream coming from the
> camera
> module is already problematic.
> 2. Memory/Cache performance issue causing the frame processing takes
> too
> long.
> 
> How can I narrow down the issue furthuer? Your comment is appreciated.
> 
> -Shuzhen
> 
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel



From laurent.pinchart at ideasonboard.com  Wed Dec 22 17:04:58 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 22 Dec 2010 17:04:58 +0100
Subject: [Linux-uvc-devel] Logitech C300 webcam problem
In-Reply-To: <AANLkTinHx7PBEboxWnSyezwy309oZ_ZJtCMrsXG2k=pH@mail.gmail.com>
References: <AANLkTinHx7PBEboxWnSyezwy309oZ_ZJtCMrsXG2k=pH@mail.gmail.com>
Message-ID: <201012221704.59080.laurent.pinchart@ideasonboard.com>

Hi Victor,

On Wednesday 24 November 2010 17:00:20 Victor Rodriguez wrote:
> HI I have been working with the webcam Logitech Webcam C300 Device ID
> 046d:0805 for some days on Beagle board but I can not make it works

Could you please send me the output of

lsusb -v -d 046d:0805

> I have tested it on my Ubuntu 10.04 desktop and it works fine here is
> the logfile when I plug it
[s
nip]

> Then i clone the repo from git
> 
> http://www.ideasonboard.org/uvc/
> 
> git clone
> git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git
> uvcvideo
> cd uvcvideo
> git remote add uvcvideo git://linuxtv.org/pinchartl/uvcvideo.git
> git remote update
> git checkout -b uvcvideo-master uvcvideo/uvcvideo-next

You don't need to do that, unless you want the bleeding-edge patches. Just use 
the mainline kernel, the uvcvideo driver is included there.

> then i make
> 
> make -j5 ARCH=arm CROSS_COMPILE=arm-none-linux-gnueabi-
> omap3_beagle_defconfig make -j5 ARCH=arm
> CROSS_COMPILE=arm-none-linux-gnueabi- menuconfig
> 
> And then I go to
> 
>  <*> Multimedia support  --->
> Video For Linux
> Video capture adapters
>  V4L USB devices
> 
> But there I can not find the module that I should enable for my webcam

That's where the module should be. The configuration option is called "USB 
Video Class (UVC)".

[snip]

> My qeustion is , Which is the correct module that I should enable for
> my Logitech c300 webcam ?
> 
> Besides when I boot with the uImage from you kernel I just can see the
> console , but not the DVI ir VGA screen of my FS , is there any other
> module that I should enable in order to be able to what on any screen
> my video ?

Just use a recent Linux kernel properly configured with Beagle board support.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Dec 22 17:11:41 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 22 Dec 2010 17:11:41 +0100
Subject: [Linux-uvc-devel] Report: Logitech C210 (046d:0819) works.
In-Reply-To: <939201897.156034.1290881814687.JavaMail.root@zmmbox1.swarthmore.edu>
References: <939201897.156034.1290881814687.JavaMail.root@zmmbox1.swarthmore.edu>
Message-ID: <201012221711.42030.laurent.pinchart@ideasonboard.com>

Hi Cortland,

On Saturday 27 November 2010 19:16:54 Cortland Michael Setlow wrote:
> Hi all!
> 
> The Logitech C210 works fine on my Ubuntu GNU/Linux 2.6.31 32-bit system.
> 
> from dmesg:
> [266285.384615] usb 1-5.2: configuration #1 chosen from 1 choice
> [266285.385567] uvcvideo: Found UVC 1.00 device <unnamed> (046d:0819)
> [266285.486162] input: UVC Camera (046d:0819) as
> /devices/pci0000:00/0000:00:1d.7/usb1/1-5/1-5.2/1-5.2:1.0/input/input32
> 
> guvc shows it as offering 640x480 at up to 30fps in both MJPG and YUYV
> formats.  The video is pretty good for such an affordable camera.  I have
> a few notes on the focus ring and infrared filter at my website:
> http://www.sccs.swarthmore.edu/users/06/bsetlow/

Thanks for the report. I've updated the supported devices list.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Dec 22 17:13:07 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 22 Dec 2010 17:13:07 +0100
Subject: [Linux-uvc-devel] Webcam Device 0c45:6480 Not supported
In-Reply-To: <201011272145.40804.gmrandazzo@gmail.com>
References: <201011272145.40804.gmrandazzo@gmail.com>
Message-ID: <201012221713.07649.laurent.pinchart@ideasonboard.com>

Hi Marco,

On Saturday 27 November 2010 21:45:40 Marco wrote:
> Hi all,
> I've an integrated webcam on my Dell Inspiron 1564 Laptop, that not working
> correctly. Some times show the video, and some times no.

That's pretty vague. What are the steps to reproduce the problem, the symptoms 
and the messages printed by applications on the console and/or uvcvideo driver 
to the kernel log ?

> So, it use this driver, but is not in the supported device list. So i send
> more info about my device, and if anyone need other information can ask to
> me. Thanks a lot.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Dec 22 17:16:07 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 22 Dec 2010 17:16:07 +0100
Subject: [Linux-uvc-devel] ASUS UL30A - Suyin Cam (064E:A136) failed.
In-Reply-To: <AANLkTi=cWQZVsZvcL8NVfhS-=ckZ4OLMD_Bc-yfsKXRQ@mail.gmail.com>
References: <AANLkTi=cWQZVsZvcL8NVfhS-=ckZ4OLMD_Bc-yfsKXRQ@mail.gmail.com>
Message-ID: <201012221716.07504.laurent.pinchart@ideasonboard.com>

Hi Carlos,

On Wednesday 01 December 2010 21:37:10 Carlos Serramito Calvo wrote:
> $ sudo modprobe uvcvideo
> $ dmesg
> ....
> uvcvideo: Found UVC 1.00 device USB 2.0 UVC 0.3M Webcam (064e:a136)
> uvcvideo: UVC non compliance - GET_DEF(PROBE) not supported. Enabling
> workaround.
> uvcvideo: Failed to query (129) UVC probe control : -71 (exp. 26).
> uvcvideo: Failed to initialize the device (-5).

Could you please try to set the quirks parameter to 0x100 ?

modprobe uvcvideo quirks=0x100

should do the trick. Make sure the driver isn't already loaded before running 
that command.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Dec 22 17:17:12 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 22 Dec 2010 17:17:12 +0100
Subject: [Linux-uvc-devel] ASUS UL30A - Suyin Cam (064E:A136) failed.
In-Reply-To: <AANLkTi=cWQZVsZvcL8NVfhS-=ckZ4OLMD_Bc-yfsKXRQ@mail.gmail.com>
References: <AANLkTi=cWQZVsZvcL8NVfhS-=ckZ4OLMD_Bc-yfsKXRQ@mail.gmail.com>
Message-ID: <201012221717.13135.laurent.pinchart@ideasonboard.com>

Hi Carlos,

On Wednesday 01 December 2010 21:37:10 Carlos Serramito Calvo wrote:
> $ sudo modprobe uvcvideo
> $ dmesg
> ....
> uvcvideo: Found UVC 1.00 device USB 2.0 UVC 0.3M Webcam (064e:a136)
> uvcvideo: UVC non compliance - GET_DEF(PROBE) not supported. Enabling
> workaround.
> uvcvideo: Failed to query (129) UVC probe control : -71 (exp. 26).
> uvcvideo: Failed to initialize the device (-5).
> 
> $ lsusb -v -d 064e:a136

Could you please send me the same lsusb output, but run as root ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Dec 22 17:19:23 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 22 Dec 2010 17:19:23 +0100
Subject: [Linux-uvc-devel] Fwd:  Looking for upside down uvc cams
In-Reply-To: <AANLkTimw50QsG0k1yH3uyCZ1iXT6LMm2fqQzg+bjyhUN@mail.gmail.com>
References: <mailman.452.1291588527.1408.linux-uvc-devel@lists.berlios.de>
	<AANLkTimw50QsG0k1yH3uyCZ1iXT6LMm2fqQzg+bjyhUN@mail.gmail.com>
Message-ID: <201012221719.23507.laurent.pinchart@ideasonboard.com>

Hi Javier,

On Monday 06 December 2010 12:29:53 javier acebes wrote:
> Hi, here are my logs in case you're still adding new hardware.

Sure. Could you please send me the lsusb -v output for your webcam (run as 
root if possible) ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Dec 22 17:23:08 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 22 Dec 2010 17:23:08 +0100
Subject: [Linux-uvc-devel] MJPEG formats disappeared after system update
In-Reply-To: <20101207230608.GA67999@mail.kolej.mff.cuni.cz>
References: <20101207230608.GA67999@mail.kolej.mff.cuni.cz>
Message-ID: <201012221723.08945.laurent.pinchart@ideasonboard.com>

Hi Jozef,

On Wednesday 08 December 2010 00:06:08 Jozef Vesely wrote:
> Hello,
> 
> I have two webcams:
> 
> uvcvideo: Found UVC 1.00 device USB2.0_Camera (093a:2700)
> uvcvideo: Found UVC 1.00 device Slim 1322 AF (0458:704d)
> 
> both worked with uvc_streamer with 2.6.26.8 kernel.
> However, in the new machine with 2.6.32.26 kernel, I got error:
> 
> Unable to set format: 22.
> 
> strace:
> 
> open("/dev/video0", O_RDWR) = 3
> ioctl(3, VIDIOC_QUERYCAP, 0x9bdb018) = 0
> ioctl(3, VIDIOC_S_FMT, 0x9bdb080) = -1 EINVAL (Invalid argument)
> 
> luvcview does not show any MJPG formats

Could you please send me the output of lsusb -v (run as root if possible) with 
both your webcams plugged in, on 2.6.32.26 ?

> Have there been any changes in the driver that could affect MJPG
> formats?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Dec 22 17:25:38 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 22 Dec 2010 17:25:38 +0100
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135) UVC control 2
	(unit 2) : -110 (exp. 2).
In-Reply-To: <4D055090.70600@xnet.co.nz>
References: <mailman.35.1284026406.31352.linux-uvc-devel@lists.berlios.de>
	<4D055090.70600@xnet.co.nz>
Message-ID: <201012221725.39044.laurent.pinchart@ideasonboard.com>

Hi Chris,

On Sunday 12 December 2010 23:45:36 Chris wrote:
> Hi All,
> 
> Getting this error after a period of correct operation:
> [ 2890.610992] uvcvideo: Failed to query (135) UVC control 2 (unit 2) :
> -110 (exp. 2).
> [ 2890.939117] uvcvideo: Failed to query (135) UVC control 2 (unit 2) :
> -110 (exp. 2).
> [ 2891.267242] uvcvideo: Failed to query (135) UVC control 3 (unit 2) :
> -110 (exp. 2).
> [ 2891.595367] uvcvideo: Failed to query (135) UVC control 7 (unit 2) :
> -110 (exp. 2).
> [ 2891.923492] uvcvideo: Failed to query (135) UVC control 11 (unit 2) :
> -110 (exp. 1).
> [ 2892.251617] uvcvideo: Failed to query (135) UVC control 4 (unit 2) :
> -110 (exp. 2).
> [ 2892.579742] uvcvideo: Failed to query (135) UVC control 5 (unit 2) :
> -110 (exp. 1).
> [ 2892.907867] uvcvideo: Failed to query (135) UVC control 8 (unit 2) :
> -110 (exp. 2).
> [ 2893.235992] uvcvideo: Failed to query (135) UVC control 1 (unit 2) :
> -110 (exp. 2).

Looks like a camera or USB controller crash.

> How long the unit runs for before failing varies.
> The only way to bring it back - that I have found so far - is a system
> reboot.

So unplugging and replugging the camera doesn't help ?

> I have seen a number of posts that are similar to this problem but very
> very old.
> I am using the Logitech C910 - but have tried about 6 other cameras that
> all have the same issue.

All Logitech cameras, or other brands as well ?

Do other USB devices connected to the same controller still work after the 
camera starts to fail ?

> Sometimes it doesn't work straight after booting.. but most of the time
> it works fine for a few hours.
> 
> Any ideas or patches that could solve this issue?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Dec 22 17:27:20 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 22 Dec 2010 17:27:20 +0100
Subject: [Linux-uvc-devel] Can't use uvc driver (Dropping payload)
In-Reply-To: <AANLkTi=_0auDshGGTT0bnUH8vyi=RscrNZrXuHPtGO7x@mail.gmail.com>
References: <AANLkTi=_0auDshGGTT0bnUH8vyi=RscrNZrXuHPtGO7x@mail.gmail.com>
Message-ID: <201012221727.20745.laurent.pinchart@ideasonboard.com>

Hi,

On Tuesday 14 December 2010 12:46:12 emre cantimur wrote:
> Hi all,
> 
> I have been trying to integrate a Logitech webcam (Pro 9000 or c200) into
> an embedded linux environment. It is running 2.6.20 kernel on MIPS arch.
> 
> # cpuinfo
>   system type             : INCAIP2
>   processor                 : 0
>   cpu model                : MIPS 4Kec V4.0
>   BogoMIPS                : 130.66
>   wait instruction          : yes
>   microsecond timers   : yes
>   tlb_entries                 : 16
>   extra interrupt vector  : yes
>   hardware watchpoint  : yes
>   VCED exceptions      : not available
>   VCEI exceptions       : not available
> 
> I can successfully compile and load v4l2 modules and uvc. However, when I
> try to use an application to capture video (ffmpeg or famous v4l2 video
> capture example) it stucks and gives no repsonse ("select timeout"). What I
> get from syslog and dmesg are messages like (lots of them):
> 
> <7>uvcvideo: Dropping payload (error bit set).
> <7>uvcvideo: Dropping payload (error bit set).
> <7>uvcvideo: Dropping payload (error bit set).
> <7>uvcvideo: Dropping payload (error bit set).
> <7>uvcvideo: Dropping payload (error bit set).
> <7>uvcvideo: Dropping payload (out of sync).
> <7>uvcvideo: Dropping payload (out of sync).
> <7>uvcvideo: Dropping payload (out of sync).
> <7>uvcvideo: Dropping payload (out of sync).
> <7>uvcvideo: Unknown status event type 10.
> <7>uvcvideo: Unknown status event type 4.

Your USB controller and/or driver might be too slow.

> Do you think the kernel version is too old ?

It's definitely old. Please try a new kernel if possible.

> I googled for the error messages but could not find any usable information.
> I need to solve the problem soon. Thanks for your help.

-- 
Regards,

Laurent Pinchart


From tomsunchen at gmail.com  Thu Dec 23 04:11:16 2010
From: tomsunchen at gmail.com (tomsun)
Date: Thu, 23 Dec 2010 11:11:16 +0800
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135) UVC control 2
 (unit 2) : -110 (exp. 2).
In-Reply-To: <201012221725.39044.laurent.pinchart@ideasonboard.com>
References: <mailman.35.1284026406.31352.linux-uvc-devel@lists.berlios.de>
	<4D055090.70600@xnet.co.nz>
	<201012221725.39044.laurent.pinchart@ideasonboard.com>
Message-ID: <AANLkTi=b7QtbK+1kHjwCwNebYA0qFQfHBEnM2u4SmJJq@mail.gmail.com>

Hi All:
     i have met same problem.  The ucview default button can't work, so it
can't
set defaults value by defaults button, but OS reboot.
    So unplugging and replugging the camera doesn't help ?
    i had tried it, but not help.

The information is as below.
[  104.558118] uvcvideo: Failed to query (129) UVC control 2 (unit 2) : -110
(exp. 2).
[  104.858153] uvcvideo: Failed to query (129) UVC control 3 (unit 2) : -110
(exp. 2).
[  104.960430] uvcvideo: Failed to query (129) UVC control 6 (unit 2) : -32
(exp. 2).


Best Regards,
tomsun




2010/12/23 Laurent Pinchart <laurent.pinchart at ideasonboard.com>

> Hi Chris,
>
> On Sunday 12 December 2010 23:45:36 Chris wrote:
> > Hi All,
> >
> > Getting this error after a period of correct operation:
> > [ 2890.610992] uvcvideo: Failed to query (135) UVC control 2 (unit 2) :
> > -110 (exp. 2).
> > [ 2890.939117] uvcvideo: Failed to query (135) UVC control 2 (unit 2) :
> > -110 (exp. 2).
> > [ 2891.267242] uvcvideo: Failed to query (135) UVC control 3 (unit 2) :
> > -110 (exp. 2).
> > [ 2891.595367] uvcvideo: Failed to query (135) UVC control 7 (unit 2) :
> > -110 (exp. 2).
> > [ 2891.923492] uvcvideo: Failed to query (135) UVC control 11 (unit 2) :
> > -110 (exp. 1).
> > [ 2892.251617] uvcvideo: Failed to query (135) UVC control 4 (unit 2) :
> > -110 (exp. 2).
> > [ 2892.579742] uvcvideo: Failed to query (135) UVC control 5 (unit 2) :
> > -110 (exp. 1).
> > [ 2892.907867] uvcvideo: Failed to query (135) UVC control 8 (unit 2) :
> > -110 (exp. 2).
> > [ 2893.235992] uvcvideo: Failed to query (135) UVC control 1 (unit 2) :
> > -110 (exp. 2).
>
> Looks like a camera or USB controller crash.
>
> > How long the unit runs for before failing varies.
> > The only way to bring it back - that I have found so far - is a system
> > reboot.
>
> So unplugging and replugging the camera doesn't help ?
>
> > I have seen a number of posts that are similar to this problem but very
> > very old.
> > I am using the Logitech C910 - but have tried about 6 other cameras that
> > all have the same issue.
>
> All Logitech cameras, or other brands as well ?
>
> Do other USB devices connected to the same controller still work after the
> camera starts to fail ?
>
> > Sometimes it doesn't work straight after booting.. but most of the time
> > it works fine for a few hours.
> >
> > Any ideas or patches that could solve this issue?
>
> --
> Regards,
>
> Laurent Pinchart
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>



-- 
Best Regards,
tomsun
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101223/bb4efeb7/attachment.html>

From nick.chorley at gmail.com  Fri Dec 24 11:52:49 2010
From: nick.chorley at gmail.com (Nicky Chorley)
Date: Fri, 24 Dec 2010 10:52:49 +0000
Subject: [Linux-uvc-devel] Supported device: Trust Chat Webcam (16430-02)
Message-ID: <AANLkTimb+=WWFgAAMxd29NsxyJ=M1mqAYhhf6_6zH30X@mail.gmail.com>

Hi,

The aforementioned device appears to work with the uvcvideo driver,
tested on Linux Mint 9 (kernel 2.6.32-21-generic,
usbutils-0.86-2ubuntu1) and Slackware 13.1 (kernel 2.6.33.4,
usbutils-0.87).

lsusb gives Bus 001 Device 003: ID 0c45:6310 Microdia

and the output from lsusb -v -d 0c45:6310 appears below.

Kind regards,

Nicky Chorley

$ lsusb -v -d 0c45:6310

Bus 001 Device 003: ID 0c45:6310 Microdia
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0c45 Microdia
  idProduct          0x6310
  bcdDevice            1.00
  iManufacturer           2 Sonix Technology Co., Ltd.
  iProduct                1 USB 2.0 Camera
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          569
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower               98mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               5 USB Camera
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              5 USB Camera
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          103
        dwClockFrequency       15.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {7033f028-1163-2e4a-ba2c-6890eb334016}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x0f
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 5
        guidExtensionCode         {3fae1228-d7bc-114e-a357-6f1edef7d61d}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          4
        bControlSize            1
        bmControls( 0)       0xff
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000004
          Auto-Exposure Priority
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000053f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x 0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         1
        wTotalLength                      323
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                  3072000
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  1013760
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   768000
        dwMaxBitRate                  4608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   253440
        dwMaxBitRate                  1520640
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   192000
        dwMaxBitRate                  1152000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            26
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        352
        wHeight( 1)                       288
        wWidth( 2)                        320
        wHeight( 2)                       240
        wWidth( 3)                        176
        wHeight( 3)                       144
        wWidth( 4)                        160
        wHeight( 4)                       120
        bNumCompressionPatterns             5
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0002
  (Bus Powered)
  Remote Wakeup Enabled


From glyokov at gmail.com  Sun Dec 26 18:01:23 2010
From: glyokov at gmail.com (=?KOI8-R?B?5dfHxc7JyiDnzKPLz9c=?=)
Date: Mon, 27 Dec 2010 00:01:23 +0700
Subject: [Linux-uvc-devel] UVC device not in list of supported devices
Message-ID: <AANLkTikhi77e+1KwH-RGtnjUmt8wtDUepHDh=iic2GNK@mail.gmail.com>

Hello. Would like to adjust the device, but it isn't present in the list of
the supported. What can you advise? And than I can help you?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101227/94514c5c/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dmi.log
Type: text/x-log
Size: 17236 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101227/94514c5c/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb.log
Type: text/x-log
Size: 240 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101227/94514c5c/attachment-0001.bin>

From nick.chorley at gmail.com  Thu Dec 30 12:46:53 2010
From: nick.chorley at gmail.com (Nicky Chorley)
Date: Thu, 30 Dec 2010 11:46:53 +0000
Subject: [Linux-uvc-devel] UVC device not in list of supported devices
In-Reply-To: <AANLkTikhi77e+1KwH-RGtnjUmt8wtDUepHDh=iic2GNK@mail.gmail.com>
References: <AANLkTikhi77e+1KwH-RGtnjUmt8wtDUepHDh=iic2GNK@mail.gmail.com>
Message-ID: <AANLkTin+AVH5GGjk_8i95x+p3MfwOPFAyHSVeYM5mHie@mail.gmail.com>

On 26 December 2010 17:01, ??????? ?????? <glyokov at gmail.com> wrote:
> Hello. Would like to adjust the device, but it isn't present in the list of
> the supported. What can you advise? And than I can help you?

Your device (looking at your lsusb.log) doesn't appear to be the same
as the one I have, so you should probably create a separate thread on
the mailing list..

Regards,

Nicky Chorley


