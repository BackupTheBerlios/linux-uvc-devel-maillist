From brandon at ifup.org  Fri Feb  1 01:16:07 2008
From: brandon at ifup.org (Brandon Philips)
Date: Thu, 31 Jan 2008 16:16:07 -0800
Subject: [Linux-uvc-devel] isight
In-Reply-To: <dd18b0c30801291259x7f44a9b1n6556ef8cb94ee56f@mail.gmail.com>
References: <dd18b0c30801291259x7f44a9b1n6556ef8cb94ee56f@mail.gmail.com>
Message-ID: <20080201001607.GA10738@plankton.ifup.org>

On 20:59 Tue 29 Jan 2008, Justin Mattock wrote:
> make[2]:  Entering directory `/home/kernel/linux-2.6.24-rc8'
>      CC [M]    /home/?/against-revision-140/src/uvc_driver.o
> /home/?/against-revision-140/src/uvc_driver.c: In function
> 'uvc_register_video' :
> /home/?/against-revision-140/src/uvc_driver.c:1442: error: 'struct
> video_device' has no member named 'hardware'

Please update to the latest svn version.  r141 fixed this bug.

Thanks,

	Brandon


From herton at mandriva.com.br  Fri Feb  1 07:26:20 2008
From: herton at mandriva.com.br (Herton Ronaldo Krzesinski)
Date: Fri, 1 Feb 2008 04:26:20 -0200
Subject: [Linux-uvc-devel] ALI 5606
In-Reply-To: <200801301140.27889.mikiwoz@yahoo.co.uk>
References: <200801301140.27889.mikiwoz@yahoo.co.uk>
Message-ID: <200802010426.20353.herton@mandriva.com.br>

Em Wednesday 30 January 2008 08:40:23 Micha? Andrzej Wo?niak escreveu:
> Hi guys
>
> I am trying to get ALI 5606 to work (ID 0402:5606) on Kubuntu 7.10 (Gutsy
> Gibbon).
>
> The uvcvideo module (from SVN, rev173) compiled nicely and loads OK, but
> does *not* print anything in dmesg/syslog upon loading. When I try to run
> luvcview, I get:
>
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 5.
>  Init v4L2 failed !! exit fatal
>
> ...regardless, what format and/or other settings I use. On syslog/dmesg I
> ony get:
>
> uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 2 (exp. 26).
>
> That is *very similar* to what has been described (and marked as solved!)
> here:
> http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002486.html
>
> I even checked uvc_driver.c and I *do* have the lines as they should look
> after the patch has been applied. So, most probably, I am missing something
> very obvious. Or am I not?..
>
> Any pointers will be apprecieated. Thanks

Strange, because I retested yesterday with a kernel 2.6.24+uvcvideo r173 and 
it worked on the same webcam (looking at lsusb output you posted nothing 
relevant differs from the one I tested).

> Mike
>
> P.S.
> Attached, outputs of:
>  - lsusb -v (for the webcam device),
>  - luvcview
>  - luvcview -L
>  - xawtv -hwscan
>  - v4l-info

--
[]'s
Herton


From brandon at ifup.org  Fri Feb  1 08:14:47 2008
From: brandon at ifup.org (Brandon Philips)
Date: Thu, 31 Jan 2008 23:14:47 -0800
Subject: [Linux-uvc-devel] Acer Crystal Eye
In-Reply-To: <JVFP0H$1236FB34AB9715D4ED453F49CEB2BAED@bol.com.br>
References: <JVFP0H$1236FB34AB9715D4ED453F49CEB2BAED@bol.com.br>
Message-ID: <20080201071447.GA443@plankton.ifup.org>

On 23:48 Tue 29 Jan 2008, daniel-linux wrote:
> I have the Acer 5720 laptop with Crystal Eye built-in (Bus 007 Device
> 002: ID 064e:a101 Suyin Corp) . My doubt.
> 
> The cam works ! But when I access any IM (amsn or kopete) I just can
> sent video for some minutes, after that the image just freeze. Than i
> need restart the video to get work. 

What do you need to restart?  Your computer or the application?

> So, what do i need show here for you guys gimme some tips ?

First, make sure you are using the latest SVN version of the driver.

Run the following commands as root:
rmmod uvcvideo
modprobe uvcvideo trace=0x1ff

This will set uvcvideo up to include debugging output.

Then run your application and try to recreate the freeze.  After the
application has broken include the output from `dmesg`. 

Also include the output from `uname -a`

Thanks,

	Brandon


From brandon at ifup.org  Fri Feb  1 08:17:55 2008
From: brandon at ifup.org (Brandon Philips)
Date: Thu, 31 Jan 2008 23:17:55 -0800
Subject: [Linux-uvc-devel] Grabbee X (Terratec Cinergy 200 USB)
In-Reply-To: <47A0E881.6070807@picus.org.il>
References: <47A0E881.6070807@picus.org.il>
Message-ID: <20080201071755.GB443@plankton.ifup.org>

On 23:13 Wed 30 Jan 2008, matti wrote:
> I got the grabbee X usb 2.0 video grabber to work on ubuntu 7.10 by
> using the stock kernel e28xx module then using usbreplay to load up a
> usbsnoop processed logfile. 

Good to hear you got your hardware working.  However, this is not the
right list.  This conversation should happen on the video4linux list.

  http://www.redhat.com/mailman/listinfo/video4linux-list

Thanks,

	Brandon


From brandon at ifup.org  Fri Feb  1 08:26:12 2008
From: brandon at ifup.org (Brandon Philips)
Date: Thu, 31 Jan 2008 23:26:12 -0800
Subject: [Linux-uvc-devel] convert MJPEG to YUYV on-the-fly
In-Reply-To: <47A12110.4010701@sms.ed.ac.uk>
References: <47A12110.4010701@sms.ed.ac.uk>
Message-ID: <20080201072612.GC443@plankton.ifup.org>

On 01:14 Thu 31 Jan 2008, Ioannis Nousias wrote:
> Now my question is this. Is there an application/module that can sit 
> between the video device and something like skype, converting the MJPEG 
> in run-time to YUYV? Some kind of post-processing module that creates a 
> re-directed video device, which can then be used by other applications. 
> So you'll probably get something like '/dev/video1' which is in fact the 
> processed '/dev/video0' (in my case the decoded MJPEG stream).

Doing a format conversion and spitting it back out on an emulated device
node is ugly and I don't think anything like that exists.  

A good solution would be a v4l user space library that sits between the
/dev/video* devices and user space applications.  The library could do
things like format conversion, auto-focus, and etc.  Something like
PulseAudio for video.  Now, someone just needs to write it.

Any takers?  8-)

Cheers,

	Brandon


From s0238762 at sms.ed.ac.uk  Fri Feb  1 13:55:50 2008
From: s0238762 at sms.ed.ac.uk (Ioannis Nousias)
Date: Fri, 01 Feb 2008 12:55:50 +0000
Subject: [Linux-uvc-devel] convert MJPEG to YUYV on-the-fly
In-Reply-To: <47A31334.5040808@vidsoft.de>
References: <47A12110.4010701@sms.ed.ac.uk> <47A31334.5040808@vidsoft.de>
Message-ID: <47A316D6.8080602@sms.ed.ac.uk>

Gregor Jasny wrote:
> Hello,
>
> Ioannis Nousias wrote:
>> Now my question is this. Is there an application/module that can sit
>> between the video device and something like skype, converting the MJPEG
>> in run-time to YUYV? Some kind of post-processing module that creates a
>> re-directed video device, which can then be used by other applications.
>> So you'll probably get something like '/dev/video1' which is in fact the
>> processed '/dev/video0' (in my case the decoded MJPEG stream).
>
> Some time ago Thierry Merle was working on a V4L extension module. He 
> already posted some patches to the V4L2-Library list 
> (v4l2-library at linuxtv.org).
>
> Another starting point would be the "Video Four Linux Loopback Device"
> http://www.lavrsen.dk/twiki/bin/view/Motion/VideoFourLinuxLoopbackDevice
> which is at the moment V4L version 1 only.
>
> Gregor
>
>
Thanks Gregor,

these are what I was looking for. The v4l2extension seems actively 
maintained, so I guess I'll have a look at that first.

cheers,
Ioannis


From mikiwoz at yahoo.co.uk  Fri Feb  1 09:39:53 2008
From: mikiwoz at yahoo.co.uk (=?utf-8?q?Micha=C5=82_Andrzej_Wo=C5=BAniak?=)
Date: Fri, 1 Feb 2008 09:39:53 +0100
Subject: [Linux-uvc-devel] ALI 5606
In-Reply-To: <200802010426.20353.herton@mandriva.com.br>
References: <200801301140.27889.mikiwoz@yahoo.co.uk>
	<200802010426.20353.herton@mandriva.com.br>
Message-ID: <200802010939.53928.mikiwoz@yahoo.co.uk>

Dnia pi?tek 01 luty 2008, Herton Ronaldo Krzesinski napisa?(a):
> Em Wednesday 30 January 2008 08:40:23 Micha? Andrzej Wo?niak escreveu:
> > Hi guys
> >
> > I am trying to get ALI 5606 to work (ID 0402:5606) on Kubuntu 7.10 (Gutsy
> > Gibbon).
> >
> > The uvcvideo module (from SVN, rev173) compiled nicely and loads OK, but
> > does *not* print anything in dmesg/syslog upon loading. When I try to run
> > luvcview, I get:
> >
> > luvcview version 0.2.1
> > Video driver: x11
> > A window manager is available
> > video /dev/video0
> > Unable to set format: 5.
> >  Init v4L2 failed !! exit fatal
> >
> > ...regardless, what format and/or other settings I use. On syslog/dmesg I
> > ony get:
> >
> > uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 2 (exp. 26).
> >
> > That is *very similar* to what has been described (and marked as solved!)
> > here:
> > http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002486.ht
> >ml
> >
> > I even checked uvc_driver.c and I *do* have the lines as they should look
> > after the patch has been applied. So, most probably, I am missing
> > something very obvious. Or am I not?..
> >
> > Any pointers will be apprecieated. Thanks
>
> Strange, because I retested yesterday with a kernel 2.6.24+uvcvideo r173
> and it worked on the same webcam (looking at lsusb output you posted
> nothing relevant differs from the one I tested).

Aye... Could you please post what (if anything) do you get upon inserting the 
module into the kernel? I get naught.

Also, please post the version of luvcview you are using - mine is 20070512.

luvcview gives me exact same error when I run it with sudo.

BTW, forgot to post my kernel, it's 2.6.22-14-generic (a standard Ubuntu 7.10 
kernel).

Cheers
mike


From jasny at vidsoft.de  Fri Feb  1 13:40:20 2008
From: jasny at vidsoft.de (Gregor Jasny)
Date: Fri, 01 Feb 2008 13:40:20 +0100
Subject: [Linux-uvc-devel] convert MJPEG to YUYV on-the-fly
In-Reply-To: <47A12110.4010701@sms.ed.ac.uk>
References: <47A12110.4010701@sms.ed.ac.uk>
Message-ID: <47A31334.5040808@vidsoft.de>

Hello,

Ioannis Nousias wrote:
> Now my question is this. Is there an application/module that can sit
> between the video device and something like skype, converting the MJPEG
> in run-time to YUYV? Some kind of post-processing module that creates a
> re-directed video device, which can then be used by other applications.
> So you'll probably get something like '/dev/video1' which is in fact the
> processed '/dev/video0' (in my case the decoded MJPEG stream).

Some time ago Thierry Merle was working on a V4L extension module. He 
already posted some patches to the V4L2-Library list 
(v4l2-library at linuxtv.org).

Another starting point would be the "Video Four Linux Loopback Device"
http://www.lavrsen.dk/twiki/bin/view/Motion/VideoFourLinuxLoopbackDevice
which is at the moment V4L version 1 only.

Gregor


From gaute at div.org  Fri Feb  1 15:26:34 2008
From: gaute at div.org (Gaute Amundsen)
Date: Fri, 1 Feb 2008 15:26:34 +0100
Subject: [Linux-uvc-devel] Creative Live! Cam Optia - horrible image quality
Message-ID: <200802011526.34258.gaute@div.org>

Hi.

Just acquired two Optias (not AF) for use on dell laptops running Ubuntu 
Gutsy, after spotting them on the http://linux-uvc.berlios.de/#devices page.
 
Got them to work with Ekiga after selecting v4l2 but with horrible quality.
Compiled luvcview and that gave just slightly better quality. 

A recorded avi from luvcview:
"totem" reports: 320 x 240 Motion JPEG 16 fps.
"file" reports:  RIFF (little-endian) data, AVI, 320 x 240, video: Motion JPEG

a still from same: 
"xview": 320x240 JPEG image, color space YCbCr, 3 comps, Huffman coding.
"file":  JPEG image data, JFIF standard 1.02, baseline, precision 0, 4360x240

This can't be the best I  can get out of this camera?
The pics from the reviews I have seen don't look like this.

My rotten old Philips PCA 645VC/EU that I got at a fleemarket for ~5$ gives 
much better results...

After extensive googling I still can't find any clues. 
What to do?

Regards

Gaute Amundsen



From herton at mandriva.com.br  Fri Feb  1 16:54:35 2008
From: herton at mandriva.com.br (Herton Ronaldo Krzesinski)
Date: Fri, 1 Feb 2008 13:54:35 -0200
Subject: [Linux-uvc-devel] ALI 5606
In-Reply-To: <200802010939.53928.mikiwoz@yahoo.co.uk>
References: <200801301140.27889.mikiwoz@yahoo.co.uk>
	<200802010426.20353.herton@mandriva.com.br>
	<200802010939.53928.mikiwoz@yahoo.co.uk>
Message-ID: <200802011354.36249.herton@mandriva.com.br>

Em Friday 01 February 2008 06:39:53 Micha? Andrzej Wo?niak escreveu:
> Dnia pi?tek 01 luty 2008, Herton Ronaldo Krzesinski napisa?(a):
> > Em Wednesday 30 January 2008 08:40:23 Micha? Andrzej Wo?niak escreveu:
> > > Hi guys
> > >
> > > I am trying to get ALI 5606 to work (ID 0402:5606) on Kubuntu 7.10
> > > (Gutsy Gibbon).
> > >
> > > The uvcvideo module (from SVN, rev173) compiled nicely and loads OK,
> > > but does *not* print anything in dmesg/syslog upon loading. When I try
> > > to run luvcview, I get:
> > >
> > > luvcview version 0.2.1
> > > Video driver: x11
> > > A window manager is available
> > > video /dev/video0
> > > Unable to set format: 5.
> > >  Init v4L2 failed !! exit fatal
> > >
> > > ...regardless, what format and/or other settings I use. On syslog/dmesg
> > > I ony get:
> > >
> > > uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 2 (exp. 26).
> > >
> > > That is *very similar* to what has been described (and marked as
> > > solved!) here:
> > > http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002486.
> > >ht ml
> > >
> > > I even checked uvc_driver.c and I *do* have the lines as they should
> > > look after the patch has been applied. So, most probably, I am missing
> > > something very obvious. Or am I not?..
> > >
> > > Any pointers will be apprecieated. Thanks
> >
> > Strange, because I retested yesterday with a kernel 2.6.24+uvcvideo r173
> > and it worked on the same webcam (looking at lsusb output you posted
> > nothing relevant differs from the one I tested).
>
> Aye... Could you please post what (if anything) do you get upon inserting
> the module into the kernel? I get naught.
>
> Also, please post the version of luvcview you are using - mine is 20070512.
>
> luvcview gives me exact same error when I run it with sudo.
>
> BTW, forgot to post my kernel, it's 2.6.22-14-generic (a standard Ubuntu
> 7.10 kernel).

I just get normal messages from uvcvideo, that it found 0402:5606 device (no 
query errors), and when using luvcview when opening the device I always get a 
message like "device ... requested null bandwidth, defaulting to lowest." 
(harmless, webcam works ok). I'm using the same luvcview version and 
kernel-desktop-2.6.24-1mdv-1-1mdv2008.1 in Mandriva cooker.
 
>
> Cheers
> mike

--
[]'s
Herton


From NathanaelGalpin at smarttech.com  Fri Feb  1 18:05:03 2008
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Fri, 1 Feb 2008 10:05:03 -0700
Subject: [Linux-uvc-devel] Creative Live! Cam Optia - horrible image
	quality
In-Reply-To: <200802011526.34258.gaute@div.org>
References: <200802011526.34258.gaute@div.org>
Message-ID: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C11391@calmail1.smarttech.inc>

Hi Gaute,


> This can't be the best I can get out of this camera?
> The pics from the reviews I have seen don't look like this.

Can you tell us what you mean by image quality is horrible? Is it out of
focus, noisy, resolution or frame rate to low? 

The Optia supports up to 640x480 @ 30 FPS. Depending on how high you set
the exposure, you may not get 30 FPS. At least with luvcview you can
pass in command line arguments to force the resolution and frame rate
higher.

I couldn't tell you anything about Ekiga since I've never used it.

> Just acquired two Optias (not AF) for use on dell laptops running
Ubuntu 
> Gutsy...

I've run into bandwidth issues running multiple UVC cams in Ubuntu Linux
on the same USB host controller. It's possible that Ekiga is lowering
the resolution of the cams to be able to run both of them at once. You
could try running one at a time. If that improves the image quality then
at least you have a better idea what the problem is.

  -- Nathanael

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel



From conrad_videokonferenz at gmx.de  Fri Feb  1 19:02:45 2008
From: conrad_videokonferenz at gmx.de (Conrad Beckert)
Date: Fri, 01 Feb 2008 19:02:45 +0100
Subject: [Linux-uvc-devel] [Linphone-developers] 064e:a101 Suyin Corp.
	Cam	in Acer Notebook - Still no image on Linphone 2.0.1
In-Reply-To: <200710301105.47982.simon.morlat@linphone.org>
References: <20070923125827.10910@gmx.net>
	<200710121450.38041.simon.morlat@linphone.org>
	<200710131223.57515.laurent.pinchart@skynet.be>
	<200710301105.47982.simon.morlat@linphone.org>
Message-ID: <1201888966.6114.1.camel@larissa>

Hi Folks,

... recently I had some time to install Linphone 2.0.1 on my
abovementioned notebook.

Unfortunately the problem with the camera persists. I got a black screen
and an error message somewhat different then in earlier tests:

ortp-message-v4l_start: open, fd=15
ortp-message-v4lv2: V4L2_PIX_FMT_YUYV choosen
ortp-message-Device is a video4linux V2 one.
ortp-message-ms_filter_link: MSV4l:0x821aac0,0-->MSPixConv:0x8214d58,0
ortp-message-ms_filter_link:
MSPixConv:0x8214d58,0-->MSVideoOut:0x81e4b88,0
ortp-message-v4l_thread starting
ortp-message-Using yuv overlay.
ortp-message-YUV overlay using hardware acceleration.
ortp-error-VIDIOC_STREAMON failed: Protocol error  
ortp-message-eXosip: Reseting timer to 15s before waking up!
ortp-message-v4l thread has joined.
ortp-message-v4l fd 15 closed
ortp-message-ms_filter_unlink: MSV4l:0x821aac0,0-->MSPixConv:0x8214d58,0
ortp-message-ms_filter_unlink:
MSPixConv:0x8214d58,0-->MSVideoOut:0x81e4b88,0
ortp-message-MSTicker thread exiting
ortp-message-Release a terminated transaction
ortp-message-Release a terminated transaction
ortp-message-free transaction ressource 1 1351328649
ortp-message-free nict ressource

The camera itself works on Linux. Strangely - Kopete, of which the (not
so useful) webcam functionality has always been a source of crashes or
even system freezes - gets be a bright, clear picture. I can even adjust
brightness, contrast, color etc. there.

What is wrong with Linphone? 

I then tried the latest Linphone version on Windows Vista - with the
same result.

What's wrong?


Thank you for help
Conrad



From daniel-linux at bol.com.br  Fri Feb  1 19:22:54 2008
From: daniel-linux at bol.com.br (daniel-linux)
Date: Fri,  1 Feb 2008 16:22:54 -0200
Subject: [Linux-uvc-devel] Acer Crystal Eye
Message-ID: <JVKOE6$3D75317834E6F4C6D218B8D7D36857A9@bol.com.br>

Hi Brandon,

Here things wasn't too easy. :-)
I twisted a lot to my cam freeze ..and nothing.. I did all you wrote and nothing.. my webcam don't freeze. I tried with amsn and kopete.. but nothing. So my thoughts are:

- I always use the last SVN.
- I tested the webcam with local friends.. but
- The cam always freeze when I use with some friends from Thailand. I am from Brazil. 
- So the only thing I can imagine is the distance or some time out that happen.

Now all my thai friends are sleeping.. so i will test with then at night (my night), so i will send the log.

Thanks,
Daniel



> First, make sure you are using the latest SVN version of the driver.
> 
> Run the following commands as root:
> rmmod uvcvideo
> modprobe uvcvideo trace=0x1ff
> 
> This will set uvcvideo up to include debugging output.
> 
> Then run your application and try to recreate the freeze.  After the
> application has broken include the output from `dmesg`. 
> 
> Also include the output from `uname -a`
> 
> Thanks,
> 
> 	Brandon
> 



From daniel-linux at bol.com.br  Sat Feb  2 00:28:32 2008
From: daniel-linux at bol.com.br (daniel-linux)
Date: Fri,  1 Feb 2008 21:28:32 -0200
Subject: [Linux-uvc-devel] Acer Crystal Eye
Message-ID: <JVL2JK$468A97969D671E586A6F731EC89F415B@bol.com.br>

Hi, 
I got the cam freeze.. 

When the cam freeze the only thing i see in the log is this:

uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).

I am using OpenSuse 10.3 - Linux daniel-laptop 2.6.22.13-0.3-default #1 SMP 2007/11/19 15:02:58 UTC i686 i686 i386 GNU/Linux

If needs more informations, please just tell me,

Best,
Daniel



From xavier.gnata at gmail.com  Sun Feb  3 01:06:54 2008
From: xavier.gnata at gmail.com (Gnata Xavier)
Date: Sun, 03 Feb 2008 01:06:54 +0100
Subject: [Linux-uvc-devel] OmniVision OEM Dell Notebook : Please add into
	the svn
Message-ID: <47A5059E.2040002@gmail.com>

Hi,

uvc_driver works just fine with "OmniVision OEM Dell Notebook" but only 
if we add this peace of code at line 1661 of uvc_driver.c

/* OmniVision OEM Dell Notebook */
    { .match_flags        = USB_DEVICE_ID_MATCH_DEVICE
                | USB_DEVICE_ID_MATCH_INT_INFO,
      .idVendor        = 0x05a9,
      .idProduct        = 0x2640,
      .bInterfaceClass    = USB_CLASS_VIDEO,
      .bInterfaceSubClass    = 1,
      .bInterfaceProtocol    = 0,
      .driver_info        = UVC_QUIRK_PROBE_MINMAX },


Please add these peace of code into the current svn (if needed I can 
prepare a real patch but that is a so simple change...)

Thanks for you job on this driver,
Xavier


From mikiwoz at yahoo.co.uk  Sun Feb  3 01:37:20 2008
From: mikiwoz at yahoo.co.uk (=?utf-8?q?Micha=C5=82_Andrzej_Wo=C5=BAniak?=)
Date: Sun, 3 Feb 2008 01:37:20 +0100
Subject: [Linux-uvc-devel] ALI 5606
In-Reply-To: <200802011354.36249.herton@mandriva.com.br>
References: <200801301140.27889.mikiwoz@yahoo.co.uk>
	<200802010939.53928.mikiwoz@yahoo.co.uk>
	<200802011354.36249.herton@mandriva.com.br>
Message-ID: <200802030137.20609.mikiwoz@yahoo.co.uk>

Dnia pi?tek 01 luty 2008, Herton Ronaldo Krzesinski napisa?(a):
> Em Friday 01 February 2008 06:39:53 Micha? Andrzej Wo?niak escreveu:
> > Dnia pi?tek 01 luty 2008, Herton Ronaldo Krzesinski napisa?(a):
> > > Em Wednesday 30 January 2008 08:40:23 Micha? Andrzej Wo?niak escreveu:
> > > > Hi guys
> > > >
> > > > I am trying to get ALI 5606 to work (ID 0402:5606) on Kubuntu 7.10
> > > > (Gutsy Gibbon).
> > > >
> > > > The uvcvideo module (from SVN, rev173) compiled nicely and loads OK,
> > > > but does *not* print anything in dmesg/syslog upon loading. When I
> > > > try to run luvcview, I get:
> > > >
> > > > luvcview version 0.2.1
> > > > Video driver: x11
> > > > A window manager is available
> > > > video /dev/video0
> > > > Unable to set format: 5.
> > > >  Init v4L2 failed !! exit fatal
> > > >
> > > > ...regardless, what format and/or other settings I use. On
> > > > syslog/dmesg I ony get:
> > > >
> > > > uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 2 (exp. 26).
> > > >
> > > > That is *very similar* to what has been described (and marked as
> > > > solved!) here:
> > > > http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/00248
> > > >6. ht ml
> > > >
> > > > I even checked uvc_driver.c and I *do* have the lines as they should
> > > > look after the patch has been applied. So, most probably, I am
> > > > missing something very obvious. Or am I not?..
> > > >
> > > > Any pointers will be apprecieated. Thanks
> > >
> > > Strange, because I retested yesterday with a kernel 2.6.24+uvcvideo
> > > r173 and it worked on the same webcam (looking at lsusb output you
> > > posted nothing relevant differs from the one I tested).
> >
> > Aye... Could you please post what (if anything) do you get upon inserting
> > the module into the kernel? I get naught.
> >
> > Also, please post the version of luvcview you are using - mine is
> > 20070512.
> >
> > luvcview gives me exact same error when I run it with sudo.
> >
> > BTW, forgot to post my kernel, it's 2.6.22-14-generic (a standard Ubuntu
> > 7.10 kernel).
>
> I just get normal messages from uvcvideo, that it found 0402:5606 device
> (no query errors), and when using luvcview when opening the device I always
> get a message like "device ... requested null bandwidth, defaulting to
> lowest." (harmless, webcam works ok). I'm using the same luvcview version
> and kernel-desktop-2.6.24-1mdv-1-1mdv2008.1 in Mandriva cooker.

Hmmm... I started getting the "Found UVC 1.00 device..." etc dmesg messages 
after I loaded the module, unloaded it and loaded again. Trying to use 
luvcview gives me the same "Unable to set format: 5." error.

I am out of ideas...

Cheers
mike


From audiflitzer at gmx.de  Sun Feb  3 11:56:51 2008
From: audiflitzer at gmx.de (Till Franitza)
Date: Sun, 3 Feb 2008 11:56:51 +0100
Subject: [Linux-uvc-devel] damn small linux webcam system
In-Reply-To: <EAEJJKBLCEPCCOOPJLEIGECKCEAA.till.franitza@gmx.de>
Message-ID: <EAEJJKBLCEPCCOOPJLEIGECLCEAA.audiflitzer@gmx.de>


Dear developers,
I am trying to set up a small webcam system that runs from silicon disk on a
small geode board.
So i chose damn small linux 2.4.5 with kernel 2.4.31 (or is it a modified
2.4.24?).
Unfortunately i did not succeed in compiling the necessary drivers for my
quickcam9000.
I searced and red a lot and i fond information that it is quite difficult to
compile certain sources for Damn small linux because of the modified sources
and libraries.
Does anyone of you have experience with installing uvc with damn small
linux?
Or any other idea to get that QC9000 working with webcam on Damn Small
Linux?
Best Regards,
Till



From gaute at div.org  Sun Feb  3 12:16:11 2008
From: gaute at div.org (Gaute Amundsen)
Date: Sun, 03 Feb 2008 12:16:11 +0100
Subject: [Linux-uvc-devel] Creative Live! Cam Optia - horrible image
	quality
In-Reply-To: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C11391@calmail1.smarttech.inc>
References: <200802011526.34258.gaute@div.org>
	<8FF3AEDFC5ABAE42A50A92DBBFD702EF02C11391@calmail1.smarttech.inc>
Message-ID: <200802031216.11778.gaute@div.org>

On Friday 01 February 2008 18:05:03 Nathanael Galpin wrote:
> Hi Gaute,
>
> > This can't be the best I can get out of this camera?
> > The pics from the reviews I have seen don't look like this.
>
> Can you tell us what you mean by image quality is horrible? Is it out of
> focus, noisy, resolution or frame rate to low?

Focus and framerate is ok. 
I guess noise and resolution must be the problem.
I'm not totally sure, but it looks a bit like compression artifacts to me.
I will post a link to an example when I'm back at the office.

> The Optia supports up to 640x480 @ 30 FPS. Depending on how high you set
> the exposure, you may not get 30 FPS. At least with luvcview you can
> pass in command line arguments to force the resolution and frame rate
> higher.

Hm.. I didn't spot those options, Will try that.

> I couldn't tell you anything about Ekiga since I've never used it.

I notice now that ekiga's codec preferences has a max bandwidth setting of 32 
kb/s. Could that be a factor? I really have no idea what 32 kb/s means in 
terms of video quality..

> > Just acquired two Optias (not AF) for use on dell laptops running
>
> Ubuntu
>
> > Gutsy...
>
> I've run into bandwidth issues running multiple UVC cams in Ubuntu
> <snip> 

I'm not running two at once. I'ts just two people that needed webcams, and 
twice as bad if we have to dump them :)

Thanks

Gaute Amundsen




From laurent.pinchart at skynet.be  Sun Feb  3 20:10:07 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:07 +0100
Subject: [Linux-uvc-devel] OmniVision OEM Dell Notebook : Please add
	into the svn
In-Reply-To: <47A5059E.2040002@gmail.com>
References: <47A5059E.2040002@gmail.com>
Message-ID: <200802032010.07552.laurent.pinchart@skynet.be>

Hi Xavier,

On Sunday 03 February 2008, Gnata Xavier wrote:
> Hi,
>
> uvc_driver works just fine with "OmniVision OEM Dell Notebook" but only
> if we add this peace of code at line 1661 of uvc_driver.c
>
> /* OmniVision OEM Dell Notebook */
>     { .match_flags        = USB_DEVICE_ID_MATCH_DEVICE
>
>                 | USB_DEVICE_ID_MATCH_INT_INFO,
>
>       .idVendor        = 0x05a9,
>       .idProduct        = 0x2640,
>       .bInterfaceClass    = USB_CLASS_VIDEO,
>       .bInterfaceSubClass    = 1,
>       .bInterfaceProtocol    = 0,
>       .driver_info        = UVC_QUIRK_PROBE_MINMAX },
>
>
> Please add these peace of code into the current svn (if needed I can
> prepare a real patch but that is a so simple change...)

I've received numerous reports in the past that indicated success without the 
above patch. Does the Linux UVC driver print error messages in the kernel log 
if you don't apply the patch ? If so, please report them here.

> Thanks for you job on this driver,

You're welcome. Thanks for the time you spent trying to improve it.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:10 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:10 +0100
Subject: [Linux-uvc-devel] damn small linux webcam system
In-Reply-To: <EAEJJKBLCEPCCOOPJLEIGECLCEAA.audiflitzer@gmx.de>
References: <EAEJJKBLCEPCCOOPJLEIGECLCEAA.audiflitzer@gmx.de>
Message-ID: <200802032010.10850.laurent.pinchart@skynet.be>

Hi Till,

On Sunday 03 February 2008, Till Franitza wrote:
> Dear developers,
> I am trying to set up a small webcam system that runs from silicon disk on
> a small geode board.
> So i chose damn small linux 2.4.5 with kernel 2.4.31 (or is it a modified
> 2.4.24?).
> Unfortunately i did not succeed in compiling the necessary drivers for my
> quickcam9000.
> I searced and red a lot and i fond information that it is quite difficult
> to compile certain sources for Damn small linux because of the modified
> sources and libraries.
> Does anyone of you have experience with installing uvc with damn small
> linux?
> Or any other idea to get that QC9000 working with webcam on Damn Small
> Linux?

The UVC driver requires Linux kernel 2.6.15 or newer. It might be possible to 
backport it to 2.4.x but that would require lots of work (and probably a 
backport of the 2.6 USB stack).

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:14 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:14 +0100
Subject: [Linux-uvc-devel] Acer Crystal Eye webcam (5986:0102)
In-Reply-To: <20080126114159.M49744@vip.cybercity.dk>
References: <20080126114159.M49744@vip.cybercity.dk>
Message-ID: <200802032010.14476.laurent.pinchart@skynet.be>

Hi Jesper,

On Saturday 26 January 2008, Jesper Pedersen wrote:
> Hi.
>
> I have a Acer TravelMate 6592 which contains the subject.
>
> The device doesn't deliver any output with Ekiga 2.0.11 (wrong color
> format) and luvcview - device information attached.
>
> I would be happy to install patches or provide additional feedback.
>
> Any ideas would be great !

Please make sure you're really using the driver you compiled and not an older 
version installed with your distribution. Remove all occurrences of 
uvcvideo.ko in /lib/modules/<kernel_version> and reinstall the driver from 
sources.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:17 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:17 +0100
Subject: [Linux-uvc-devel] Driver 05a9:2641 OmniVision Technologies
In-Reply-To: <loom.20080126T121144-953@post.gmane.org>
References: <loom.20080126T121144-953@post.gmane.org>
Message-ID: <200802032010.17362.laurent.pinchart@skynet.be>

Hi Fabrizio,

On Saturday 26 January 2008, Fabrizio wrote:
> Hi guys,
>
> I've the same webcam integrated in the same monitor.
> Here's mine lspci -v

That's lsusb :-)

> Bus 008 Device 008: ID 05a9:2641 OmniVision Technologies, Inc.
[snip]

> Could someone please tell me which is the right driver for this webcam?
> Thanks in advance.

This is the right driver. See my answer to Lawrence for an explanation of the 
issue.

Regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:21 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:21 +0100
Subject: [Linux-uvc-devel]
 =?iso-8859-1?q?=5BLinphone-developers=5D_064e?=
 =?iso-8859-1?q?=3Aa101_Suyin_Corp=2E_Cam=09in_Acer_Notebook_-_Still_no_im?=
 =?iso-8859-1?q?age_on_Linphone_2=2E0=2E1?=
In-Reply-To: <1201888966.6114.1.camel@larissa>
References: <20070923125827.10910@gmx.net>
	<200710301105.47982.simon.morlat@linphone.org>
	<1201888966.6114.1.camel@larissa>
Message-ID: <200802032010.21733.laurent.pinchart@skynet.be>

On Friday 01 February 2008, Conrad Beckert wrote:
> Hi Folks,
>
> ... recently I had some time to install Linphone 2.0.1 on my
> abovementioned notebook.
>
> Unfortunately the problem with the camera persists. I got a black screen
> and an error message somewhat different then in earlier tests:
>
> ortp-message-v4l_start: open, fd=15
> ortp-message-v4lv2: V4L2_PIX_FMT_YUYV choosen
> ortp-message-Device is a video4linux V2 one.
> ortp-message-ms_filter_link: MSV4l:0x821aac0,0-->MSPixConv:0x8214d58,0
> ortp-message-ms_filter_link:
> MSPixConv:0x8214d58,0-->MSVideoOut:0x81e4b88,0
> ortp-message-v4l_thread starting
> ortp-message-Using yuv overlay.
> ortp-message-YUV overlay using hardware acceleration.
> ortp-error-VIDIOC_STREAMON failed: Protocol error
> ortp-message-eXosip: Reseting timer to 15s before waking up!
> ortp-message-v4l thread has joined.
> ortp-message-v4l fd 15 closed
> ortp-message-ms_filter_unlink: MSV4l:0x821aac0,0-->MSPixConv:0x8214d58,0
> ortp-message-ms_filter_unlink:
> MSPixConv:0x8214d58,0-->MSVideoOut:0x81e4b88,0
> ortp-message-MSTicker thread exiting
> ortp-message-Release a terminated transaction
> ortp-message-Release a terminated transaction
> ortp-message-free transaction ressource 1 1351328649
> ortp-message-free nict ressource
>
> The camera itself works on Linux. Strangely - Kopete, of which the (not
> so useful) webcam functionality has always been a source of crashes or
> even system freezes - gets be a bright, clear picture. I can even adjust
> brightness, contrast, color etc. there.
>
> What is wrong with Linphone?
>
> I then tried the latest Linphone version on Windows Vista - with the
> same result.
>
> What's wrong?

Please check the kernel log (dmesg) after starting linphone and report 
messages printed by the UVC driver.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:24 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:24 +0100
Subject: [Linux-uvc-devel] ALI 5606
In-Reply-To: <200801301140.27889.mikiwoz@yahoo.co.uk>
References: <200801301140.27889.mikiwoz@yahoo.co.uk>
Message-ID: <200802032010.25099.laurent.pinchart@skynet.be>

Hi Mike,

On Wednesday 30 January 2008, Micha? Andrzej Wo?niak wrote:
> Hi guys
>
> I am trying to get ALI 5606 to work (ID 0402:5606) on Kubuntu 7.10 (Gutsy
> Gibbon).
>
> The uvcvideo module (from SVN, rev173) compiled nicely and loads OK, but
> does *not* print anything in dmesg/syslog upon loading. When I try to run
> luvcview, I get:
>
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 5.
>  Init v4L2 failed !! exit fatal
>
> ...regardless, what format and/or other settings I use. On syslog/dmesg I
> ony get:
>
> uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 2 (exp. 26).
>
> That is *very similar* to what has been described (and marked as solved!)
> here:
> http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002486.html
>
> I even checked uvc_driver.c and I *do* have the lines as they should look
> after the patch has been applied. So, most probably, I am missing something
> very obvious. Or am I not?..

Please make sure you're really using the driver you compiled and not an older 
version installed with your distribution. Remove all occurrences of 
uvcvideo.ko in /lib/modules/<kernel_version> and reinstall the driver from 
sources.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:28 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:28 +0100
Subject: [Linux-uvc-devel] convert MJPEG to YUYV on-the-fly
In-Reply-To: <47A316D6.8080602@sms.ed.ac.uk>
References: <47A12110.4010701@sms.ed.ac.uk> <47A31334.5040808@vidsoft.de>
	<47A316D6.8080602@sms.ed.ac.uk>
Message-ID: <200802032010.28244.laurent.pinchart@skynet.be>

On Friday 01 February 2008, Ioannis Nousias wrote:
> Gregor Jasny wrote:
> > Hello,
> >
> > Ioannis Nousias wrote:
> >> Now my question is this. Is there an application/module that can sit
> >> between the video device and something like skype, converting the MJPEG
> >> in run-time to YUYV? Some kind of post-processing module that creates a
> >> re-directed video device, which can then be used by other applications.
> >> So you'll probably get something like '/dev/video1' which is in fact the
> >> processed '/dev/video0' (in my case the decoded MJPEG stream).
> >
> > Some time ago Thierry Merle was working on a V4L extension module. He
> > already posted some patches to the V4L2-Library list
> > (v4l2-library at linuxtv.org).
> >
> > Another starting point would be the "Video Four Linux Loopback Device"
> > http://www.lavrsen.dk/twiki/bin/view/Motion/VideoFourLinuxLoopbackDevice
> > which is at the moment V4L version 1 only.
> >
> > Gregor
>
> Thanks Gregor,
>
> these are what I was looking for. The v4l2extension seems actively
> maintained, so I guess I'll have a look at that first.

Please note that this is a temporary solution until a proper userspace v4l2 
library sees the light (temporary means anything between a few months and a 
few years :-)).

Cheers,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:32 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:32 +0100
Subject: [Linux-uvc-devel] Dino-Lite uvc support
In-Reply-To: <7BDA60158DFB57459DA4FDC11DE91A830135B228@ex5.mail.win.hw.ac.uk>
References: <7BDA60158DFB57459DA4FDC11DE91A830135B228@ex5.mail.win.hw.ac.uk>
Message-ID: <200802032010.33089.laurent.pinchart@skynet.be>

Hi Maiwenn,

On Friday 25 January 2008, Kersaudy Kerhoas, Maiwenn wrote:
> Hi,
>
> I would like to install the Dino-Lite, which is a hand-held microscope
> camera, similar to ProScopeHR, on my machine with Linux.
>
> Dino-Lite is sold by Big Catch, www.BigC.com <http://www.bigc.com/>
>
> It would be great if you could do something about it.

Only UVC compatible devices are supported by the Linux UVC driver. Check 
http://linux-uvc.berlios.de/faq/ to find out if your device is UVC 
compatible. If you need more help, please post the output of lsusb -v (using 
usbutils 0.72 or newer).

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:35 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:35 +0100
Subject: [Linux-uvc-devel] Logitech Quickcam Deluxe (0x046d:0x0992) is
	temperamental
In-Reply-To: <274836.46427.qm@web52911.mail.re2.yahoo.com>
References: <274836.46427.qm@web52911.mail.re2.yahoo.com>
Message-ID: <200802032010.36021.laurent.pinchart@skynet.be>

Hi Chris,

On Tuesday 29 January 2008, Chris Rankin wrote:
> Hi,
>
> I have a Logitech Quickcam Deluxe webcam (0x046d:0x0992) but have
> discovered that it has some "quirks" under the uvcvideo (SVN #173, probably
> other versions too) driver:
>
> a) Sometimes, there is no picture at all when I start ekiga
> (video-conferencing) up. In order to restore the picture I either need to
> replug the device into the hub or reload the uvcvideo module - I'm not sure
> exactly what it is that starts the webcam working again. The microphone
> still works, though.

Could you check the kernel log (using the dmesg command) to see if the driver 
reports errors when you get no picture in Ekiga ?

> b) Despite being a USB 2.0 device, the picture is blurry when it moves.
> This does not compare at all well with the picture from my Logitech
> 0x46d:0x09c1 device (also UVC), which has "movie camera" quality on the
> same machine.

When auto exposure is enabled (which is the default), the exposure time is 
greater in low light conditions. This can result in blurry images.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:40 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:40 +0100
Subject: [Linux-uvc-devel] Panasonic NV-GS230
In-Reply-To: <1201639618.29447.84.camel@mobilus>
References: <1201639618.29447.84.camel@mobilus>
Message-ID: <200802032010.40286.laurent.pinchart@skynet.be>

Hi Andreas,

On Tuesday 29 January 2008, Andreas Ferm wrote:
> Hello good people,
>
> According to the list on http://linux-uvc.berlios.de/#devices this model
> is not officially supported, and since one of those just popped in by
> mail i would give it a try here.
>
> Like some other cameras it has 2 modes, a dv and webcam mode. When in
> webcam mode it is being identified as
>
> Bus 003 Device 012: ID 04da:2318 Panasonic (Matsushita)
>
> Which is the same as the Panasonic NV-GS11 camera. It can stream in
> luvcview, but when used in other programs (especially mjpeg-streamer) to
> for example output jpegs it fails. The jpegs are around 20k which sounds
> correct, but when opening them it complains over "Huffman table 0x00 was
> not defined" so they've either been bad captured or there's something
> spooky with the jpegs the camera outputs (less likely?).

MJPEG devices don't include Huffman tables in the JPEG data. Resulting images 
can't be opened by most image viewers. This is normal and there's nothing to 
worry about. You can convert MJPEG data to JPEG using the attached python 
script.

> lsusb output for webcam mode >>
[snip]

> The story for dv-mode is a bit different though, no output at all (not
> so strange).
>
> Bus 001 Device 020: ID 04da:231a Panasonic (Matsushita)
>
> lsusb output for dv-mode >>
[snip]

Most applications don't support DV data. You might have more success with 
MPlayer which should be able to display the DV stream.

Best regards,

Laurent Pinchart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mjpeg2jpeg.py
Type: application/x-python
Size: 3797 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080203/f342dc24/attachment.bin>

From laurent.pinchart at skynet.be  Sun Feb  3 20:10:46 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:46 +0100
Subject: [Linux-uvc-devel] complete routine...
In-Reply-To: <a81f87bb0801291143q4e7b905dsb01fac5f72a28946@mail.gmail.com>
References: <a81f87bb0801291143q4e7b905dsb01fac5f72a28946@mail.gmail.com>
Message-ID: <200802032010.46715.laurent.pinchart@skynet.be>

Hi Brian,

On Tuesday 29 January 2008, Brian Pin wrote:
> Hello,
>
> Won't we spend a lot of time at video complete routine?
> for each packet, there is 40 packets to deal with.
> and if there is data inside each packet,
> we are going to use memcpy to move data...and that could be
> very slow. On the other side, we are doing completion in
> interrupt....

The URB completion code can indeed use a good share of CPU time, especially 
for uncompressed video streams. However, there is no way to copy data 
directly to the V4L2 buffers as headers must be stripped.

> So does anybody think that completion routine would cause
> serious perforamnce degradation? Or I just thought too much?

I won't go as far as serious performance degradation. If you want to preserve 
CPU time you should use a PCI video capture device instead of a USB camera 
anyway, as PCI devices will be able to fill the video buffers using DMA.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:50 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:50 +0100
Subject: [Linux-uvc-devel] device ID  0471:0331 not actually working
In-Reply-To: <479A156C.1090707@email.it>
References: <4799C027.7090409@email.it>
	<200801251512.40322.laurent.pinchart@skynet.be>
	<479A156C.1090707@email.it>
Message-ID: <200802032010.50840.laurent.pinchart@skynet.be>

Hi Franco,

On Friday 25 January 2008, Franco wrote:
> >> 0471:0331    Philips SPC 1300NC    Philips    Status: device works
> >
> > Instead or relying on v4l2-tool's output, why don't you actually try
> > using your webcams with the Linux UVC driver ?
>
> OK, I installed kernel-devel and after that,
> I compiled and installed uvcvideo from these sources:
> http://svn.berlios.de/svnroot/repos/linux-uvc/linux-uvc/branches/dynctrl/
> (is this the correct version to use?)

No, you should use 
http://svn.berlios.de/svnroot/repos/linux-uvc/linux-uvc/trunk/. The dynctrl 
branch has been merged into the trunk and isn't maintained anymore.

> After that, Skype and Ekiga seem to work normally.

Good news. So the camera is actually working. You won't have wasted your money 
completely :-)

> I also downloaded luvcview-20070512 but that, instead, gives a kernel
> OOPS after a little bit of usage (see other message)

That might be a bug in the dynctrl branch. Please use sources from the trunk. 
If you still get an oops I'll investigate and try to fix it.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb  3 20:10:54 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 3 Feb 2008 20:10:54 +0100
Subject: [Linux-uvc-devel] Slow framerate ...
In-Reply-To: <a81f87bb0801251045n5b9a1803qc532a365ddde0ca9@mail.gmail.com>
References: <a81f87bb0801241713y6aa8538esba971b1e47516923@mail.gmail.com>
	<200801251416.57578.laurent.pinchart@skynet.be>
	<a81f87bb0801251045n5b9a1803qc532a365ddde0ca9@mail.gmail.com>
Message-ID: <200802032010.54757.laurent.pinchart@skynet.be>

Hi Brian,

On Friday 25 January 2008, Brian Pin wrote:
> Hi Laurent:
> This OS is quite simple and made by my colleague, it is running on
> ARM926ejs, I adopted the driver from our USB IP vendor, and developing USB
> layer from USBD, roothub to UVC driver. And I did not using the same user
> space app on my FPGA platform. On PC, I am using windows application, on
> FPGA, I am using my own simulated test thread to do streaming.( Because I
> don't have V4L2 and I dont have app to test UVC device yet)

Thanks for the information. I suppose you are aware that the UVC driver (and 
the Linux USB stack) is covered by the GPL. Don't forget to make the source 
code available to people who will receive binaries :-)

Best regards,

Laurent Pinchart


From mythtv at email.it  Sun Feb  3 20:38:04 2008
From: mythtv at email.it (Franco)
Date: Sun, 03 Feb 2008 20:38:04 +0100
Subject: [Linux-uvc-devel] device ID  0471:0331 not actually working
In-Reply-To: <200802032010.50840.laurent.pinchart@skynet.be>
References: <4799C027.7090409@email.it>
	<200801251512.40322.laurent.pinchart@skynet.be>
	<479A156C.1090707@email.it>
	<200802032010.50840.laurent.pinchart@skynet.be>
Message-ID: <47A6181C.9020900@email.it>

Hi Laurent,

> http://svn.berlios.de/svnroot/repos/linux-uvc/linux-uvc/trunk/. The dynctrl 
> branch has been merged into the trunk and isn't maintained anymore.
>> I also downloaded luvcview-20070512 but that, instead, gives a kernel
>> OOPS after a little bit of usage (see other message)
> That might be a bug in the dynctrl branch. Please use sources from the trunk. 
> If you still get an oops I'll investigate and try to fix it.

thank you. I currently have kernel 2.6.23.14-64.fc7, I downloaded the 
last 'trunk' version available and recompiled the module. Also 
recompiled luvcview-20070512.

I do not get oopses any more. luvcview seems a little unstable, it tends 
to segfault (e.g. if I try to resize the video window) but as said, no 
more oopses any more!

Thank you,
Franco



From mikiwoz at yahoo.co.uk  Sun Feb  3 20:45:51 2008
From: mikiwoz at yahoo.co.uk (=?utf-8?q?Micha=C5=82_Andrzej_Wo=C5=BAniak?=)
Date: Sun, 3 Feb 2008 20:45:51 +0100
Subject: [Linux-uvc-devel] ALI 5606
In-Reply-To: <200802032010.25099.laurent.pinchart@skynet.be>
References: <200801301140.27889.mikiwoz@yahoo.co.uk>
	<200802032010.25099.laurent.pinchart@skynet.be>
Message-ID: <200802032045.52185.mikiwoz@yahoo.co.uk>

Dnia niedziela 03 luty 2008, Laurent Pinchart napisa?(a):
> Hi Mike,
>
> On Wednesday 30 January 2008, Micha? Andrzej Wo?niak wrote:
> > Hi guys
> >
> > I am trying to get ALI 5606 to work (ID 0402:5606) on Kubuntu 7.10 (Gutsy
> > Gibbon).
> >
> > The uvcvideo module (from SVN, rev173) compiled nicely and loads OK, but
> > does *not* print anything in dmesg/syslog upon loading. When I try to run
> > luvcview, I get:
> >
> > luvcview version 0.2.1
> > Video driver: x11
> > A window manager is available
> > video /dev/video0
> > Unable to set format: 5.
> >  Init v4L2 failed !! exit fatal
> >
> > ...regardless, what format and/or other settings I use. On syslog/dmesg I
> > ony get:
> >
> > uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 2 (exp. 26).
> >
> > That is *very similar* to what has been described (and marked as solved!)
> > here:
> > http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002486.ht
> >ml
> >
> > I even checked uvc_driver.c and I *do* have the lines as they should look
> > after the patch has been applied. So, most probably, I am missing
> > something very obvious. Or am I not?..
>
> Please make sure you're really using the driver you compiled and not an
> older version installed with your distribution. Remove all occurrences of
> uvcvideo.ko in /lib/modules/<kernel_version> and reinstall the driver from
> sources.
>
> Best regards,
>
> Laurent Pinchart

Thanks, Laurent! That solved it, turns out (K)ubuntu ships with some (older) 
version of uvcvideo... Now, everything works like a charm! Where do I send 
the flowers/beer*? ;)

*) select one

And just to get this noted (might save somebody some frustration): if you are 
running compiz/beryl and get crashes upon running luvcview ("X Error of 
failed request: BadAlloc"), you are probably running an Intel 965/X3100. Try 
the "-w" luvcview option to disable the buggy (on this particular card and 
with compiz...) SDL acceleration.

Cheers
Mike


From xavier.gnata at gmail.com  Sun Feb  3 22:36:23 2008
From: xavier.gnata at gmail.com (Gnata Xavier)
Date: Sun, 03 Feb 2008 22:36:23 +0100
Subject: [Linux-uvc-devel] OmniVision OEM Dell Notebook : Please add
 into the svn
In-Reply-To: <200802032010.07552.laurent.pinchart@skynet.be>
References: <47A5059E.2040002@gmail.com>
	<200802032010.07552.laurent.pinchart@skynet.be>
Message-ID: <47A633D7.5060800@gmail.com>

Laurent Pinchart wrote:
> Hi Xavier,
>
> On Sunday 03 February 2008, Gnata Xavier wrote:
>   
>> Hi,
>>
>> uvc_driver works just fine with "OmniVision OEM Dell Notebook" but only
>> if we add this peace of code at line 1661 of uvc_driver.c
>>
>> /* OmniVision OEM Dell Notebook */
>>     { .match_flags        = USB_DEVICE_ID_MATCH_DEVICE
>>
>>                 | USB_DEVICE_ID_MATCH_INT_INFO,
>>
>>       .idVendor        = 0x05a9,
>>       .idProduct        = 0x2640,
>>       .bInterfaceClass    = USB_CLASS_VIDEO,
>>       .bInterfaceSubClass    = 1,
>>       .bInterfaceProtocol    = 0,
>>       .driver_info        = UVC_QUIRK_PROBE_MINMAX },
>>
>>
>> Please add these peace of code into the current svn (if needed I can
>> prepare a real patch but that is a so simple change...)
>>     
>
> I've received numerous reports in the past that indicated success without the 
> above patch. Does the Linux UVC driver print error messages in the kernel log 
> if you don't apply the patch ? If so, please report them here.
>
>   
>> Thanks for you job on this driver,
>>     
>
> You're welcome. Thanks for the time you spent trying to improve it.
>
> Best regards,
>
> Laurent Pinchart
>   
Oups! Sorry for the noise...it was an udev issue (I'm also playing with 
ubuntu boot sequence...)
It works just fine without the patch (even better, this driver compiles 
without a warning :) )

Xavier


From jice at free.fr  Sun Feb  3 23:22:36 2008
From: jice at free.fr (Jean-Christophe Jice Cardot)
Date: Sun, 3 Feb 2008 23:22:36 +0100
Subject: [Linux-uvc-devel] problem with Kopete and uvc
Message-ID: <200802032322.39638.jice@free.fr>

Hi

My webcam is a 0471:0332 Philips SPC 1000 NC. I'm using revision 173 (last 
one) of the driver.

Starting the configuration of Kopete, in the "devices" tab, where the webcam 
preview should be displayed give the following error message in dmesg (3 
times):
uvcvideo: Failed to query (1) UVC control 9 (unit 3) : -32 (exp. 2).

The preview stays black, but the cam is activated (there is a LED on the 
webcam that is turning on when you activate it).

What can I do?

Thanks in advance
-- 
Jean-Christophe "Jic?" Cardot - cofondateur de http://lea-linux.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080203/e9eafec2/attachment.pgp>

From mhenriquezs at terra.cl  Mon Feb  4 01:55:07 2008
From: mhenriquezs at terra.cl (Mauricio Henriquez)
Date: Sun, 03 Feb 2008 21:55:07 -0300
Subject: [Linux-uvc-devel] Eee PC UVC webcam streaming problem
Message-ID: <47A6626B.2010808@terra.cl>

Hi Guys:

My name is Mauricio  and this is my first post to the list, so hi to all..
Recently i buy a new Eee PC (Asus sub-notebook) that have a UVC webcam 
integrated (Eee PC have a Xandros linux distro), the camera work perfect 
with the included UCView program, but i have problems when i try to 
streaming from the webcam with the uvc-straming (or mjpeg-streaming), or 
ffmpeg, becouse the /dev/video0 device is created dinamically, I mean 
when the camera is not used, the video0 device don't exist and only 
exist when the ucview program is running, so uvc-streaming or ffmpeg 
claim me about that the device don't exist...also i check the kernel 
modules and in all time the uvcvideo module is loaded (also the v4l2, 
videodev and other related..)
Also i try to manually make the device with mknod video0...., but don't 
work..

any ideas?

Thanks

Mauricio



From gaute at div.org  Mon Feb  4 10:13:58 2008
From: gaute at div.org (Gaute Amundsen)
Date: Mon, 4 Feb 2008 10:13:58 +0100
Subject: [Linux-uvc-devel] Creative Live! Cam Optia - horrible image
	quality
In-Reply-To: <200802031216.11778.gaute@div.org>
References: <200802011526.34258.gaute@div.org>
	<8FF3AEDFC5ABAE42A50A92DBBFD702EF02C11391@calmail1.smarttech.inc>
	<200802031216.11778.gaute@div.org>
Message-ID: <200802041013.59085.gaute@div.org>

On Sunday 03 February 2008 12:16:11 Gaute Amundsen wrote:
> On Friday 01 February 2008 18:05:03 Nathanael Galpin wrote:
> > Hi Gaute,
> >
> > > This can't be the best I can get out of this camera?
> > > The pics from the reviews I have seen don't look like this.
> >
> > Can you tell us what you mean by image quality is horrible? Is it out of
> > focus, noisy, resolution or frame rate to low?
>
> Focus and framerate is ok.
> I guess noise and resolution must be the problem.
> I'm not totally sure, but it looks a bit like compression artifacts to me.
> I will post a link to an example when I'm back at the office.

Maybe I wont bother anyway.

It's amazing what a weekend and a rested pair of eyes can do.
After fooling around a bit with camorama, cheese and luvcview the problem have 
all but vanished :)

With "luvcview -s 640x480" the optia is stil jagged along thin diagonal lines, 
but the resolution makes up for it. 

I guess the optics in the Philips are probably better.

Then I found the gconf key /apps/ekiga/devices/video/size and changed that 
from 0 to 1 (QCIF 176x144 to CIF 352x288) and performance i perfectly fine.

Only regret now is that there is no microphone on them.

Thanks for your attention :)

Gaute



From phil at sanslogic.co.uk  Mon Feb  4 10:50:21 2008
From: phil at sanslogic.co.uk (Philip Heron)
Date: Mon, 04 Feb 2008 09:50:21 +0000
Subject: [Linux-uvc-devel] Eee PC UVC webcam streaming problem
In-Reply-To: <47A6626B.2010808@terra.cl>
References: <47A6626B.2010808@terra.cl>
Message-ID: <47A6DFDD.7010204@sanslogic.co.uk>

Mauricio Henriquez wrote:
> Hi Guys:
> 
> My name is Mauricio  and this is my first post to the list, so hi to all..
> Recently i buy a new Eee PC (Asus sub-notebook) that have a UVC webcam 
> integrated (Eee PC have a Xandros linux distro), the camera work perfect 
> with the included UCView program, but i have problems when i try to 
> streaming from the webcam with the uvc-straming (or mjpeg-streaming), or 
> ffmpeg, becouse the /dev/video0 device is created dinamically, I mean 
> when the camera is not used, the video0 device don't exist and only 
> exist when the ucview program is running, so uvc-streaming or ffmpeg 
> claim me about that the device don't exist...also i check the kernel 
> modules and in all time the uvcvideo module is loaded (also the v4l2, 
> videodev and other related..)
> Also i try to manually make the device with mknod video0...., but don't 
> work..

Hi Mauricio,

Make sure the camera is enabled in the BIOS, and try running this as root:

echo 1 > /proc/acpi/asus/camera

-Phil


From jews at vip.cybercity.dk  Mon Feb  4 11:34:36 2008
From: jews at vip.cybercity.dk (Jesper Pedersen)
Date: Mon, 4 Feb 2008 11:34:36 +0100
Subject: [Linux-uvc-devel] Acer Crystal Eye webcam (5986:0102)
In-Reply-To: <200802032010.14476.laurent.pinchart@skynet.be>
References: <20080126114159.M49744@vip.cybercity.dk>
	<200802032010.14476.laurent.pinchart@skynet.be>
Message-ID: <20080204103150.M40515@vip.cybercity.dk>

Hi Laurent.

On Sun, 3 Feb 2008 20:10:14 +0100, Laurent Pinchart wrote
> On Saturday 26 January 2008, Jesper Pedersen wrote:
> > Hi.
> >
> > I have a Acer TravelMate 6592 which contains the subject.
> >
> > The device doesn't deliver any output with Ekiga 2.0.11 (wrong color
> > format) and luvcview - device information attached.
> >
> > I would be happy to install patches or provide additional feedback.
> >
> > Any ideas would be great !
> 
> Please make sure you're really using the driver you compiled and not 
> an older version installed with your distribution. Remove all 
> occurrences of uvcvideo.ko in /lib/modules/<kernel_version> and 
> reinstall the driver from sources.
> 

That did the trick :)

An idea could be to display the SVN revision when the driver is loaded - e.g.

uvcvideo: Found UVC 1.00 device Acer Crystal Eye webcam  (5986:0102) (rev 173)

Thanks for your help !

Best regards,
 Jesper



From mikiwoz at yahoo.co.uk  Mon Feb  4 11:47:58 2008
From: mikiwoz at yahoo.co.uk (=?iso-8859-2?q?Micha=B3_Andrzej_Wo=BCniak?=)
Date: Mon, 4 Feb 2008 11:47:58 +0100
Subject: [Linux-uvc-devel] Acer Crystal Eye webcam (5986:0102)
In-Reply-To: <20080204103150.M40515@vip.cybercity.dk>
References: <20080126114159.M49744@vip.cybercity.dk>
	<200802032010.14476.laurent.pinchart@skynet.be>
	<20080204103150.M40515@vip.cybercity.dk>
Message-ID: <200802041147.58647.mikiwoz@yahoo.co.uk>

Dnia poniedzia?ek 04 luty 2008, Jesper Pedersen napisa?(a):
> Hi Laurent.
>
> On Sun, 3 Feb 2008 20:10:14 +0100, Laurent Pinchart wrote
>
> > On Saturday 26 January 2008, Jesper Pedersen wrote:
> > > Hi.
> > >
> > > I have a Acer TravelMate 6592 which contains the subject.
> > >
> > > The device doesn't deliver any output with Ekiga 2.0.11 (wrong color
> > > format) and luvcview - device information attached.
> > >
> > > I would be happy to install patches or provide additional feedback.
> > >
> > > Any ideas would be great !
> >
> > Please make sure you're really using the driver you compiled and not
> > an older version installed with your distribution. Remove all
> > occurrences of uvcvideo.ko in /lib/modules/<kernel_version> and
> > reinstall the driver from sources.
>
> That did the trick :)
>
> An idea could be to display the SVN revision when the driver is loaded -
> e.g.
>
> uvcvideo: Found UVC 1.00 device Acer Crystal Eye webcam  (5986:0102) (rev
> 173)

I second that. Seems like many problems stem from the wrong version being 
loaded - and displaying the version/revision in dmesg could definitely help.

Cheers
mike


From santino at cubic.ch  Mon Feb  4 19:13:33 2008
From: santino at cubic.ch (Martin Petruzzi)
Date: Mon, 04 Feb 2008 19:13:33 +0100
Subject: [Linux-uvc-devel] Logitech Quickcam for Notebooks (Device id /
	lsusb: 046d:08dd)
Message-ID: <47A755CD.1070607@cubic.ch>

Hi list members

On the website you are asking to report not working cameras: I have a:

- Logitech Quickcam for Notebooks (Device id / lsusb: 046d:08dd)

Either that one is not working or you may be able to advice how to make it working.

Many thanks
Martin Petruzzi 


From felix at derklecks.de  Mon Feb  4 19:18:59 2008
From: felix at derklecks.de (=?UTF-8?B?RmVsaXggTcKaw7ZsbGVy?=)
Date: Mon, 04 Feb 2008 19:18:59 +0100
Subject: [Linux-uvc-devel] Logitech Quickcam for Notebooks (Device id
 /	lsusb: 046d:08dd)
In-Reply-To: <47A755CD.1070607@cubic.ch>
References: <47A755CD.1070607@cubic.ch>
Message-ID: <47A75713.9060100@derklecks.de>

Hi,

> On the website you are asking to report not working cameras: I have
> a:
> 
> - Logitech Quickcam for Notebooks (Device id / lsusb: 046d:08dd)
> 
> Either that one is not working or you may be able to advice how to
> make it working.
This is not a uvc camera and therefore not support by the uvc-driver. 
See more at:
http://lists.berlios.de/pipermail/linux-uvc-devel/2007-August/002034.html

HTH
Felix M?ller


From mhenriquezs at terra.cl  Mon Feb  4 20:09:20 2008
From: mhenriquezs at terra.cl (Mauricio Henriquez)
Date: Mon, 04 Feb 2008 16:09:20 -0300
Subject: [Linux-uvc-devel] Eee PC UVC webcam streaming problem
In-Reply-To: <47A6DFDD.7010204@sanslogic.co.uk>
References: <47A6626B.2010808@terra.cl> <47A6DFDD.7010204@sanslogic.co.uk>
Message-ID: <47A762E0.3040003@terra.cl>

Hi Philip:
thanks for the help...
I allready try with echo 1 > /proc/acpi/asus/camera becouse i see that 
on the ucview launching script...and with that the video0 device appear 
but don't work with vlc, uvc-streaming or ffmpeg...
I check in BIOS and the camera was disable, so I enable the camera and 
the video0 device exist when the system start, but no of the programs 
work...

The uvc-viewer say to me that can't set the MJPEG format for the video0 
device...can i change the format?

any ideas?

in advance, thank you very much..

Mauricio


Philip Heron wrote:
> Mauricio Henriquez wrote:
>> Hi Guys:
>>
>> My name is Mauricio  and this is my first post to the list, so hi to 
>> all..
>> Recently i buy a new Eee PC (Asus sub-notebook) that have a UVC 
>> webcam integrated (Eee PC have a Xandros linux distro), the camera 
>> work perfect with the included UCView program, but i have problems 
>> when i try to streaming from the webcam with the uvc-straming (or 
>> mjpeg-streaming), or ffmpeg, becouse the /dev/video0 device is 
>> created dinamically, I mean when the camera is not used, the video0 
>> device don't exist and only exist when the ucview program is running, 
>> so uvc-streaming or ffmpeg claim me about that the device don't 
>> exist...also i check the kernel modules and in all time the uvcvideo 
>> module is loaded (also the v4l2, videodev and other related..)
>> Also i try to manually make the device with mknod video0...., but 
>> don't work..
>
> Hi Mauricio,
>
> Make sure the camera is enabled in the BIOS, and try running this as 
> root:
>
> echo 1 > /proc/acpi/asus/camera
>
> -Phil
>



From phil at sanslogic.co.uk  Mon Feb  4 20:21:10 2008
From: phil at sanslogic.co.uk (Philip Heron)
Date: Mon, 04 Feb 2008 19:21:10 +0000
Subject: [Linux-uvc-devel] Eee PC UVC webcam streaming problem
In-Reply-To: <47A762E0.3040003@terra.cl>
References: <47A6626B.2010808@terra.cl> <47A6DFDD.7010204@sanslogic.co.uk>
	<47A762E0.3040003@terra.cl>
Message-ID: <47A765A6.7010909@sanslogic.co.uk>

Mauricio Henriquez wrote:
> Hi Philip:
> thanks for the help...
> I allready try with echo 1 > /proc/acpi/asus/camera becouse i see that 
> on the ucview launching script...and with that the video0 device appear 
> but don't work with vlc, uvc-streaming or ffmpeg...
> I check in BIOS and the camera was disable, so I enable the camera and 
> the video0 device exist when the system start, but no of the programs 
> work...
> 
> The uvc-viewer say to me that can't set the MJPEG format for the video0 
> device...can i change the format?

Ah, that makes sense. The webcam in the EeePC only supports YUYV and 
UYVY formats. I'm not sure if VLC or ffmpeg have V4L2 support either, 
which uvcvideo needs.

All of the programs on this list should work:
http://www.quickcamteam.net/software/linux/v4l2-software/

Though I note ffmpeg is there- you may have too old a version?

-Phil


From mhenriquezs at terra.cl  Mon Feb  4 22:14:44 2008
From: mhenriquezs at terra.cl (Mauricio Henriquez)
Date: Mon, 04 Feb 2008 18:14:44 -0300
Subject: [Linux-uvc-devel] Eee PC UVC webcam streaming problem
In-Reply-To: <47A765A6.7010909@sanslogic.co.uk>
References: <47A6626B.2010808@terra.cl> <47A6DFDD.7010204@sanslogic.co.uk>
	<47A762E0.3040003@terra.cl> <47A765A6.7010909@sanslogic.co.uk>
Message-ID: <47A78044.8010204@terra.cl>

sorry, about the format i mean the UVC-streamer and mjpg-streamer claim 
the same "Unable to set format MJPEG for video0", i check the help for 
those program but don't show options to change the format....
Even if i set video0 for ffmpeg , ffmpeg try to check for video (without 
number) device, don't find the device and don't do anithing else...

I really need to do video streaming from the EeePC, if i use othe v4l 
webcam all work perfect (for other test i use a logitech webcam 
orbit)..so please tell me if you recomend any streaming program that you 
know that work ..or how to change the format  or any other sugestion..

in advance, thank you very much..

Mauricio


Philip Heron wrote:
> Mauricio Henriquez wrote:
>> Hi Philip:
>> thanks for the help...
>> I allready try with echo 1 > /proc/acpi/asus/camera becouse i see 
>> that on the ucview launching script...and with that the video0 device 
>> appear but don't work with vlc, uvc-streaming or ffmpeg...
>> I check in BIOS and the camera was disable, so I enable the camera 
>> and the video0 device exist when the system start, but no of the 
>> programs work...
>>
>> The uvc-viewer say to me that can't set the MJPEG format for the 
>> video0 device...can i change the format?
>
> Ah, that makes sense. The webcam in the EeePC only supports YUYV and 
> UYVY formats. I'm not sure if VLC or ffmpeg have V4L2 support either, 
> which uvcvideo needs.
>
> All of the programs on this list should work:
> http://www.quickcamteam.net/software/linux/v4l2-software/
>
> Though I note ffmpeg is there- you may have too old a version?
>
> -Phil
>



From dionoea at videolan.org  Mon Feb  4 22:22:22 2008
From: dionoea at videolan.org (Antoine Cellerier)
Date: Mon, 4 Feb 2008 22:22:22 +0100
Subject: [Linux-uvc-devel] Eee PC UVC webcam streaming problem
In-Reply-To: <47A78044.8010204@terra.cl>
References: <47A6626B.2010808@terra.cl> <47A6DFDD.7010204@sanslogic.co.uk>
	<47A762E0.3040003@terra.cl> <47A765A6.7010909@sanslogic.co.uk>
	<47A78044.8010204@terra.cl>
Message-ID: <20080204212222.GC24860@via.ecp.fr>

On Mon, Feb 04, 2008, Mauricio Henriquez wrote:
> sorry, about the format i mean the UVC-streamer and mjpg-streamer claim 
> the same "Unable to set format MJPEG for video0", i check the help for 
> those program but don't show options to change the format....
> Even if i set video0 for ffmpeg , ffmpeg try to check for video (without 
> number) device, don't find the device and don't do anithing else...
> 
> I really need to do video streaming from the EeePC, if i use othe v4l 
> webcam all work perfect (for other test i use a logitech webcam 
> orbit)..so please tell me if you recomend any streaming program that you 
> know that work ..or how to change the format  or any other sugestion..

You can try a VLC SVN build. (We have nightly builds for debian sid and
ubuntu on http://nightlies.videolan.org if that can help)

-- 
Antoine Cellerier
dionoea


From laurent.pinchart at skynet.be  Mon Feb  4 22:37:17 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 4 Feb 2008 22:37:17 +0100
Subject: [Linux-uvc-devel] Acer Crystal Eye webcam (5986:0102)
In-Reply-To: <200802041147.58647.mikiwoz@yahoo.co.uk>
References: <20080126114159.M49744@vip.cybercity.dk>
	<20080204103150.M40515@vip.cybercity.dk>
	<200802041147.58647.mikiwoz@yahoo.co.uk>
Message-ID: <200802042237.17459.laurent.pinchart@skynet.be>

On Monday 04 February 2008, Micha? Andrzej Wo?niak wrote:
> Dnia poniedzia?ek 04 luty 2008, Jesper Pedersen napisa?(a):
> > Hi Laurent.
> >
> > On Sun, 3 Feb 2008 20:10:14 +0100, Laurent Pinchart wrote
> >
> > > On Saturday 26 January 2008, Jesper Pedersen wrote:
> > > > Hi.
> > > >
> > > > I have a Acer TravelMate 6592 which contains the subject.
> > > >
> > > > The device doesn't deliver any output with Ekiga 2.0.11 (wrong color
> > > > format) and luvcview - device information attached.
> > > >
> > > > I would be happy to install patches or provide additional feedback.
> > > >
> > > > Any ideas would be great !
> > >
> > > Please make sure you're really using the driver you compiled and not
> > > an older version installed with your distribution. Remove all
> > > occurrences of uvcvideo.ko in /lib/modules/<kernel_version> and
> > > reinstall the driver from sources.
> >
> > That did the trick :)
> >
> > An idea could be to display the SVN revision when the driver is loaded -
> > e.g.
> >
> > uvcvideo: Found UVC 1.00 device Acer Crystal Eye webcam  (5986:0102) (rev
> > 173)
>
> I second that. Seems like many problems stem from the wrong version being
> loaded - and displaying the version/revision in dmesg could definitely
> help.

Good idea. Please update your SVN workspace and tell me if it helps.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Feb  4 22:46:55 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 4 Feb 2008 22:46:55 +0100
Subject: [Linux-uvc-devel] problem with Kopete and uvc
In-Reply-To: <200802032322.39638.jice@free.fr>
References: <200802032322.39638.jice@free.fr>
Message-ID: <200802042246.55959.laurent.pinchart@skynet.be>

Hi Jean-Christophe,

On Sunday 03 February 2008, Jean-Christophe Jice Cardot wrote:
> Hi
>
> My webcam is a 0471:0332 Philips SPC 1000 NC. I'm using revision 173 (last
> one) of the driver.
>
> Starting the configuration of Kopete, in the "devices" tab, where the
> webcam preview should be displayed give the following error message in
> dmesg (3 times):
> uvcvideo: Failed to query (1) UVC control 9 (unit 3) : -32 (exp. 2).

Kopete tried to set the Gamma control and the device timed out. Either the 
requested value is out of range, or the camera is buggy. It shouldn't matter 
much though.

> The preview stays black, but the cam is activated (there is a LED on the
> webcam that is turning on when you activate it).
>
> What can I do?

Try to modify the brightness, contrast and/or saturation in the Kopete preview 
window.

Best regards,

Laurent Pinchart


From kristian at noergaard.dk  Mon Feb  4 22:57:12 2008
From: kristian at noergaard.dk (=?ISO-8859-1?Q?Kristian_N=F8rgaard?=)
Date: Mon, 04 Feb 2008 22:57:12 +0100
Subject: [Linux-uvc-devel] missing support for 0ac8:c303 Z-Star
Message-ID: <47A78A38.7020601@noergaard.dk>

Hi

I'm a newbee around webcams.
I have USB webcam built into my Samsung screen, and can not make it work.
Using Ubuntu 7.10.

When I launch camorama I get the message:
"Could not connect to video device (/dev/video0).
Please check connection"

Any help will be appreciated.
See below what the kernel thinks about this.

regards,
Kristian
---------------------------------------------------

$ dmesg:
...
[ 1729.041430] usb 5-1.3: new high speed USB device using ehci_hcd and 
address 9
[ 1729.179485] usb 5-1.3: configuration #1 chosen from 1 choice
[ 1729.179805] uvcvideo: Found UVC 1.00 device Saturn USB 2.0 Camera. 
(0ac8:c303)


$ sudo lsusb -v -d 0ac8:c303
Bus 005 Device 009: ID 0ac8:c303 Z-Star Microelectronics Corp.
Device Descriptor:
 bLength                18
 bDescriptorType         1
 bcdUSB               2.00
 bDeviceClass          239 Miscellaneous Device
 bDeviceSubClass         2 Common Class
 bDeviceProtocol         1 Interface Association
 bMaxPacketSize0        64
 idVendor           0x0ac8 Z-Star Microelectronics Corp.
 idProduct          0xc303
 bcdDevice            1.00
 iManufacturer           1 Vimicro Corp.
 iProduct                2 Saturn USB 2.0 Camera.
 iSerial                 0
 bNumConfigurations      1
 Configuration Descriptor:
   bLength                 9
   bDescriptorType         2
   wTotalLength          615
   bNumInterfaces          2
   bConfigurationValue     1
   iConfiguration          0
   bmAttributes         0x80
     (Bus Powered)
   MaxPower              500mA
   Interface Association:
     bLength                 8
     bDescriptorType        11
     bFirstInterface         0
     bInterfaceCount         2
     bFunctionClass         14 Video
     bFunctionSubClass       3 Video Interface Collection
     bFunctionProtocol       0
     iFunction               2 Saturn USB 2.0 Camera.
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        0
     bAlternateSetting       0
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      1 Video Control
     bInterfaceProtocol      0
     iInterface              2 Saturn USB 2.0 Camera.
     VideoControl Interface Descriptor:
       bLength                13
       bDescriptorType        36
       bDescriptorSubtype      1 (HEADER)
       bcdUVC               1.00
       wTotalLength           79
       dwClockFrequency       24.000000MHz
       bInCollection           1
       baInterfaceNr( 0)       1
     VideoControl Interface Descriptor:
       bLength                18
       bDescriptorType        36
       bDescriptorSubtype      2 (INPUT_TERMINAL)
       bTerminalID             1
       wTerminalType      0x0201 Camera Sensor
       bAssocTerminal          0
       iTerminal               0
       wObjectiveFocalLengthMin      0
       wObjectiveFocalLengthMax      0
       wOcularFocalLength            0
       bControlSize                  3
       bmControls           0x0004000a
         Auto-Exposure Mode
         Exposure Time (Absolute)
         Privacy
     VideoControl Interface Descriptor:
       bLength                11
       bDescriptorType        36
       bDescriptorSubtype      5 (PROCESSING_UNIT)
     Warning: Descriptor too short
       bUnitID                 2
       bSourceID               1
       wMaxMultiplier          0
       bControlSize            2
       bmControls     0x0000177f
         Brightness
         Contrast
         Hue
         Saturation
         Sharpness
         Gamma
         White Balance Temperature
         Backlight Compensation
         Gain
         Power Line Frequency
         White Balance Temperature, Auto
       iProcessing             0
       bmVideoStandards     0x 9
         None
         SECAM - 625/50
     VideoControl Interface Descriptor:
       bLength                 9
       bDescriptorType        36
       bDescriptorSubtype      3 (OUTPUT_TERMINAL)
       bTerminalID             3
       wTerminalType      0x0101 USB Streaming
       bAssocTerminal          0
       bSourceID               2
       iTerminal               0
     VideoControl Interface Descriptor:
       bLength                28
       bDescriptorType        36
       bDescriptorSubtype      6 (EXTENSION_UNIT)
       bUnitID                 4
       guidExtensionCode         {a917c75d-4119-11da-ae0e-000d56ac7b4c}
       bNumControl            13
       bNrPins                 1
       baSourceID( 0)          1
       bControlSize            3
       bmControls( 0)       0xf9
       bmControls( 1)       0x1f
       bmControls( 2)       0x18
       iExtension              0
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x81  EP 1 IN
       bmAttributes            3
         Transfer Type            Interrupt
         Synch Type               None
         Usage Type               Data
       wMaxPacketSize     0x000a  1x 10 bytes
       bInterval               5
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        1
     bAlternateSetting       0
     bNumEndpoints           0
     bInterfaceClass        14 Video
     bInterfaceSubClass      2 Video Streaming
     bInterfaceProtocol      0
     iInterface              0
     VideoStreaming Interface Descriptor:
       bLength                            14
       bDescriptorType                    36
       bDescriptorSubtype                  1 (INPUT_HEADER)
       bNumFormarts                        1
       wTotalLength                    33281
       bEndPointAddress                    0
       bmInfo                              3
       bTerminalLink                       2
       bStillCaptureMethod                 1
       bTriggerSupport                     1
       bTriggerUsage                       1
       bControlSize                        1
       bmaControls( 0)                    27
     VideoStreaming Interface Descriptor:
       bLength                            27
       bDescriptorType                    36
       bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
       bFormatIndex                        1
       bNumFrameDescriptors                6
       guidFormat {32595559-0000-0010-8000-00aa00389b71}
       bBitsPerPixel                      16
       bDefaultFrameIndex                  1
       bAspectRatioX                       0
       bAspectRatioY                       0
       bmInterlaceFlags                 0x00
         Interlaced stream or variable: No
         Fields per frame: 1 fields
         Field 1 first: No
         Field pattern: Field 1 only
         bCopyProtect                      0
     VideoStreaming Interface Descriptor:
       bLength                            54
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         1
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                            640
       wHeight                           480
       dwMinBitRate                 24576000
       dwMaxBitRate                147456000
       dwMaxVideoFrameBufferSize      614400
       dwDefaultFrameInterval         333333
       bFrameIntervalType                  7
       dwFrameInterval( 0)            333333
       dwFrameInterval( 1)            400000
       dwFrameInterval( 2)            500000
       dwFrameInterval( 3)            666667
       dwFrameInterval( 4)           1000000
       dwFrameInterval( 5)           1333333
       dwFrameInterval( 6)           2000000
     VideoStreaming Interface Descriptor:
       bLength                            54
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         2
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                            352
       wHeight                           288
       dwMinBitRate                 24576000
       dwMaxBitRate                147456000
       dwMaxVideoFrameBufferSize      202752
       dwDefaultFrameInterval         333333
       bFrameIntervalType                  7
       dwFrameInterval( 0)            333333
       dwFrameInterval( 1)            400000
       dwFrameInterval( 2)            500000
       dwFrameInterval( 3)            666667
       dwFrameInterval( 4)           1000000
       dwFrameInterval( 5)           1333333
       dwFrameInterval( 6)           2000000
     VideoStreaming Interface Descriptor:
       bLength                            54
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         3
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                            320
       wHeight                           240
       dwMinBitRate                 24576000
       dwMaxBitRate                147456000
       dwMaxVideoFrameBufferSize      153600
       dwDefaultFrameInterval         333333
       bFrameIntervalType                  7
       dwFrameInterval( 0)            333333
       dwFrameInterval( 1)            400000
       dwFrameInterval( 2)            500000
       dwFrameInterval( 3)            666667
       dwFrameInterval( 4)           1000000
       dwFrameInterval( 5)           1333333
       dwFrameInterval( 6)           2000000
     VideoStreaming Interface Descriptor:
       bLength                            54
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         4
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                            176
       wHeight                           144
       dwMinBitRate                 24576000
       dwMaxBitRate                147456000
       dwMaxVideoFrameBufferSize       50688
       dwDefaultFrameInterval         333333
       bFrameIntervalType                  7
       dwFrameInterval( 0)            333333
       dwFrameInterval( 1)            400000
       dwFrameInterval( 2)            500000
       dwFrameInterval( 3)            666667
       dwFrameInterval( 4)           1000000
       dwFrameInterval( 5)           1333333
       dwFrameInterval( 6)           2000000
     VideoStreaming Interface Descriptor:
       bLength                            54
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         5
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                            160
       wHeight                           120
       dwMinBitRate                 24576000
       dwMaxBitRate                147456000
       dwMaxVideoFrameBufferSize       38400
       dwDefaultFrameInterval         333333
       bFrameIntervalType                  7
       dwFrameInterval( 0)            333333
       dwFrameInterval( 1)            400000
       dwFrameInterval( 2)            500000
       dwFrameInterval( 3)            666667
       dwFrameInterval( 4)           1000000
       dwFrameInterval( 5)           1333333
       dwFrameInterval( 6)           2000000
     VideoStreaming Interface Descriptor:
       bLength                            30
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         6
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                           1600
       wHeight                          1200
       dwMinBitRate                104857600
       dwMaxBitRate                104857600
       dwMaxVideoFrameBufferSize     3840000
       dwDefaultFrameInterval        2000000
       bFrameIntervalType                  1
       dwFrameInterval( 0)           2000000
     VideoStreaming Interface Descriptor:
       bLength                            30
       bDescriptorType                    36
       bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
       bEndpointAddress                    0
       bNumImageSizePatterns               6
       wWidth( 0)                        640
       wHeight( 0)                       480
       wWidth( 1)                        352
       wHeight( 1)                       288
       wWidth( 2)                        320
       wHeight( 2)                       240
       wWidth( 3)                        176
       wHeight( 3)                       144
       wWidth( 4)                        160
       wHeight( 4)                       120
       wWidth( 5)                       1600
       wHeight( 5)                      1200
       bNumCompressionPatterns             6
     VideoStreaming Interface Descriptor:
       bLength                             6
       bDescriptorType                    36
       bDescriptorSubtype                 13 (COLORFORMAT)
       bColorPrimaries                     0 (Unspecified)
       bTransferCharacteristics            0 (Unspecified)
       bMatrixCoefficients                 0 (Unspecified)
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        1
     bAlternateSetting       1
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      2 Video Streaming
     bInterfaceProtocol      0
     iInterface              0
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x82  EP 2 IN
       bmAttributes            5
         Transfer Type            Isochronous
         Synch Type               Asynchronous
         Usage Type               Data
       wMaxPacketSize     0x0080  1x 128 bytes
       bInterval               1
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        1
     bAlternateSetting       2
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      2 Video Streaming
     bInterfaceProtocol      0
     iInterface              0
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x82  EP 2 IN
       bmAttributes            5
         Transfer Type            Isochronous
         Synch Type               Asynchronous
         Usage Type               Data
       wMaxPacketSize     0x0200  1x 512 bytes
       bInterval               1
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        1
     bAlternateSetting       3
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      2 Video Streaming
     bInterfaceProtocol      0
     iInterface              0
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x82  EP 2 IN
       bmAttributes            5
         Transfer Type            Isochronous
         Synch Type               Asynchronous
         Usage Type               Data
       wMaxPacketSize     0x0400  1x 0 bytes
       bInterval               1
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        1
     bAlternateSetting       4
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      2 Video Streaming
     bInterfaceProtocol      0
     iInterface              0
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x82  EP 2 IN
       bmAttributes            5
         Transfer Type            Isochronous
         Synch Type               Asynchronous
         Usage Type               Data
       wMaxPacketSize     0x0b00  2x 768 bytes
       bInterval               1
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        1
     bAlternateSetting       5
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      2 Video Streaming
     bInterfaceProtocol      0
     iInterface              0
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x82  EP 2 IN
       bmAttributes            5
         Transfer Type            Isochronous
         Synch Type               Asynchronous
         Usage Type               Data
       wMaxPacketSize     0x0c00  2x 0 bytes
       bInterval               1
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        1
     bAlternateSetting       6
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      2 Video Streaming
     bInterfaceProtocol      0
     iInterface              0
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x82  EP 2 IN
       bmAttributes            5
         Transfer Type            Isochronous
         Synch Type               Asynchronous
         Usage Type               Data
       wMaxPacketSize     0x1380  3x 896 bytes
       bInterval               1
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        1
     bAlternateSetting       7
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      2 Video Streaming
     bInterfaceProtocol      0
     iInterface              0
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x82  EP 2 IN
       bmAttributes            5
         Transfer Type            Isochronous
         Synch Type               Asynchronous
         Usage Type               Data
       wMaxPacketSize     0x1400  3x 0 bytes
       bInterval               1
Device Qualifier (for other device speed):
 bLength                10
 bDescriptorType         6
 bcdUSB               2.00
 bDeviceClass          239 Miscellaneous Device
 bDeviceSubClass         2 Common Class
 bDeviceProtocol         1 Interface Association
 bMaxPacketSize0        64
 bNumConfigurations      1
Device Status:     0x0000
 (Bus Powered)



From mxhaard at magic.fr  Tue Feb  5 01:31:44 2008
From: mxhaard at magic.fr (Michel Xhaard)
Date: Tue, 5 Feb 2008 01:31:44 +0100
Subject: [Linux-uvc-devel] Logitech Quickcam for Notebooks (Device id /
	lsusb: 046d:08dd)
In-Reply-To: <47A755CD.1070607@cubic.ch>
References: <47A755CD.1070607@cubic.ch>
Message-ID: <200802050131.44286.mxhaard@magic.fr>

Le lundi 4 f?vrier 2008 19:13, Martin Petruzzi a ?crit?:
> Hi list members
>
> On the website you are asking to report not working cameras: I have a:
>
> - Logitech Quickcam for Notebooks (Device id / lsusb: 046d:08dd)
>
> Either that one is not working or you may be able to advice how to make it
> working.
>
> Many thanks
> Martin Petruzzi
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
try the last gspca driver
http://mxhaard.free.fr/download.html
-- 
Michel Xhaard
http://mxhaard.free.fr


From jews at vip.cybercity.dk  Tue Feb  5 15:34:38 2008
From: jews at vip.cybercity.dk (Jesper Pedersen)
Date: Tue, 5 Feb 2008 15:34:38 +0100
Subject: [Linux-uvc-devel] Acer Crystal Eye webcam (5986:0102)
In-Reply-To: <200802042237.17459.laurent.pinchart@skynet.be>
References: <20080126114159.M49744@vip.cybercity.dk>
	<20080204103150.M40515@vip.cybercity.dk>
	<200802041147.58647.mikiwoz@yahoo.co.uk>
	<200802042237.17459.laurent.pinchart@skynet.be>
Message-ID: <20080205143333.M15121@vip.cybercity.dk>

Hi Laurent.

On Mon, 4 Feb 2008 22:37:17 +0100, Laurent Pinchart wrote
> > > An idea could be to display the SVN revision when the driver is loaded -
> > > e.g.
> > >
> > > uvcvideo: Found UVC 1.00 device Acer Crystal Eye webcam  (5986:0102) (rev
> > > 173)
> >
> > I second that. Seems like many problems stem from the wrong version being
> > loaded - and displaying the version/revision in dmesg could definitely
> > help.
> 
> Good idea. Please update your SVN workspace and tell me if it helps.
> 

Works here :)

Thanks !

Best regards,
 Jesper



From mhenriquezs at terra.cl  Tue Feb  5 18:42:26 2008
From: mhenriquezs at terra.cl (Mauricio Henriquez)
Date: Tue, 05 Feb 2008 14:42:26 -0300
Subject: [Linux-uvc-devel] Eee PC UVC webcam streaming problem
In-Reply-To: <20080204212222.GC24860@via.ecp.fr>
References: <47A6626B.2010808@terra.cl>
	<47A6DFDD.7010204@sanslogic.co.uk>	<47A762E0.3040003@terra.cl>
	<47A765A6.7010909@sanslogic.co.uk>	<47A78044.8010204@terra.cl>
	<20080204212222.GC24860@via.ecp.fr>
Message-ID: <47A8A002.1030805@terra.cl>

with the last vlc sources the EeePC webcam work?, or is only a 
posibility?, i ask that becouse vlc use ffmpeg and if i have problems 
with ffmpeg so may be i ave to update ffmpeg instan of vlc, also there 
is any other alternative?, i think that compile vlc and/or ffmpeg is 
going to take to much space of the tiny EeePC hd...

thanks

Mauricio

Antoine Cellerier wrote:
> On Mon, Feb 04, 2008, Mauricio Henriquez wrote:
>   
>> sorry, about the format i mean the UVC-streamer and mjpg-streamer claim 
>> the same "Unable to set format MJPEG for video0", i check the help for 
>> those program but don't show options to change the format....
>> Even if i set video0 for ffmpeg , ffmpeg try to check for video (without 
>> number) device, don't find the device and don't do anithing else...
>>
>> I really need to do video streaming from the EeePC, if i use othe v4l 
>> webcam all work perfect (for other test i use a logitech webcam 
>> orbit)..so please tell me if you recomend any streaming program that you 
>> know that work ..or how to change the format  or any other sugestion..
>>     
>
> You can try a VLC SVN build. (We have nightly builds for debian sid and
> ubuntu on http://nightlies.videolan.org if that can help)
>
>   



From laurent.pinchart at skynet.be  Tue Feb  5 20:52:57 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 5 Feb 2008 20:52:57 +0100
Subject: [Linux-uvc-devel] missing support for 0ac8:c303 Z-Star
In-Reply-To: <47A78A38.7020601@noergaard.dk>
References: <47A78A38.7020601@noergaard.dk>
Message-ID: <200802052052.58012.laurent.pinchart@skynet.be>

Hi Kristian,

On Monday 04 February 2008, Kristian N?rgaard wrote:
> Hi
>
> I'm a newbee around webcams.
> I have USB webcam built into my Samsung screen, and can not make it work.
> Using Ubuntu 7.10.
>
> When I launch camorama I get the message:
> "Could not connect to video device (/dev/video0).
> Please check connection"

camorame doesn't support v4l2 yet. Please try luvcview, ucview, ekiga, ...

> Any help will be appreciated.
> See below what the kernel thinks about this.
>
> regards,
> Kristian
> ---------------------------------------------------
>
> $ dmesg:
> ...
> [ 1729.041430] usb 5-1.3: new high speed USB device using ehci_hcd and
> address 9
> [ 1729.179485] usb 5-1.3: configuration #1 chosen from 1 choice
> [ 1729.179805] uvcvideo: Found UVC 1.00 device Saturn USB 2.0 Camera.
> (0ac8:c303)

Looks fine to me.

> $ sudo lsusb -v -d 0ac8:c303
> Bus 005 Device 009: ID 0ac8:c303 Z-Star Microelectronics Corp.
[snip]

Best regards,

Laurent Pinchart


From fett_uvcvideo at fragcom.de  Wed Feb  6 14:54:26 2008
From: fett_uvcvideo at fragcom.de (Daniel Fett)
Date: Wed, 06 Feb 2008 14:54:26 +0100
Subject: [Linux-uvc-devel] Good news :-)
Message-ID: <47A9BC12.2020502@fragcom.de>

Hi!

A few weeks ago, I told you about problems with the built-in camera of 
the Asus G1S notebook. Today, I downloaded the latest driver version
from SVN and my camera (174f:5a35) finally works! :-)

At least when I use the gstreamer-properties tool. Skype works most of 
the time. The picture is upside-down, as described on the web page.

Good work!

Daniel



From jice at free.fr  Wed Feb  6 19:55:58 2008
From: jice at free.fr (Jean-Christophe Jice Cardot)
Date: Wed, 6 Feb 2008 19:55:58 +0100
Subject: [Linux-uvc-devel] problem with Kopete and uvc
In-Reply-To: <200802042246.55959.laurent.pinchart@skynet.be>
References: <200802032322.39638.jice@free.fr>
	<200802042246.55959.laurent.pinchart@skynet.be>
Message-ID: <200802061956.03136.jice@free.fr>

Hi Laurent

Le lundi 4 f?vrier 2008, Laurent Pinchart a ?crit :
> Hi Jean-Christophe,
>
> On Sunday 03 February 2008, Jean-Christophe Jice Cardot wrote:
> > Hi
> >
> > My webcam is a 0471:0332 Philips SPC 1000 NC. I'm using revision 
173Laurent Pinchart <laurent.pinchart at skynet.be>
> > (last one) of the driver.
> >
> > Starting the configuration of Kopete, in the "devices" tab, where the
> > webcam preview should be displayed give the following error message in
> > dmesg (3 times):
> > uvcvideo: Failed to query (1) UVC control 9 (unit 3) : -32 (exp. 2).
>
> Kopete tried to set the Gamma control and the device timed out. Either the
> requested value is out of range, or the camera is buggy. It shouldn't
> matter much though.
>
> > The preview stays black, but the cam is activated (there is a LED on the
> > webcam that is turning on when you activate it).
> >
> > What can I do?
>
> Try to modify the brightness, contrast and/or saturation in the Kopete
> preview window.

unfortunately I tried every control in the configuration dialog, and the 
preview windows keeps black. May be kopete does not like mjpeg...

> Best regards,
>
> Laurent Pinchart

bye

-- 
Jean-Christophe "Jic?" Cardot - cofondateur de http://lea-linux.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080206/252274fb/attachment.pgp>

From jice at free.fr  Wed Feb  6 20:02:33 2008
From: jice at free.fr (Jean-Christophe Jice Cardot)
Date: Wed, 6 Feb 2008 20:02:33 +0100
Subject: [Linux-uvc-devel] AMSN crashes (Was: xawtv crashes)
In-Reply-To: <200802032010.03001.laurent.pinchart@skynet.be>
References: <200801261600.23740.tux.le.pingouin@free.fr>
	<200802032010.03001.laurent.pinchart@skynet.be>
Message-ID: <200802062002.34240.jice@free.fr>

Le dimanche 3 f?vrier 2008, vous avez ?crit :
> Hi,
>
> On Saturday 26 January 2008, Jice wrote:
> > Hi Laurent
> >
> > I'm using version 173 or the driver now and it works perfectly with
> > luvcview, and I just managed to have ekiga display the webcam also 5
> > minutes ago.
> >
> > Unfortunately I'm trying to use the webcam to chat with people using
> > skype (forget it) or msn. Nor Amsn or Kopete are willing to display
> > anything. Amsn crashes, and Kopete only display garbage :-(
> > I tried xawtv (which always worked with my old cam and my old tv card)
> > but it also segfaults (I'm using the 3.95-7mdv version from Mandriva).
> > Did you hear something about xawtv crashing with uvcvideo? And the 2
> > above?
> >
> > Sorry to bother you but I'm searching for a few weeks and cannot find
> > anything.
>
> Check the kernel log (dmesg) after aMsn/Kopete/xaxtv failures to see if the
> driver prints any error/warning message. If so, please report them on the
> linux-uvc-devel mailing list.
>
> Best regards,
>
> Laurent Pinchart

Hi Laurent

For kopete I already reported the problem on the ml, for xawtv I've isolated 
the crash (thanks gdb ;) and will post another email.

For AMSN crash, nothing in the kernel log, just the following output:

ioctl: VIDIOC_QUERYMENU(id=134217738;index=0;name="60 
Hz";reserved=3081900320): Invalid argument
ioctl: VIDIOC_QUERYMENU(id=134217738;index=0;name="60 
Hz";reserved=3081900320): Invalid argument
Corrupt JPEG data: premature end of data segment
Invalid JPEG file structure: two SOI markers
Oops: malloc_video_bufs is 1 (expected 0) 
[utils/linux/capture/libng/grab-ng.c:malloc_bufs_check:235]
Oops: processes is 1 (expected 0) 
[utils/linux/capture/libng/convert.c:process_check:179]
         
Must be a bug in Amsn (?), or could it be a problem with the webcam (as it 
says that the jpeg stream is corrupted) ?

TIA
-- 
Jean-Christophe "Jic?" Cardot - cofondateur de http://lea-linux.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080206/a1c6a190/attachment.pgp>

From dionoea at videolan.org  Wed Feb  6 20:59:35 2008
From: dionoea at videolan.org (Antoine Cellerier)
Date: Wed, 6 Feb 2008 20:59:35 +0100
Subject: [Linux-uvc-devel] Eee PC UVC webcam streaming problem
In-Reply-To: <47A8A002.1030805@terra.cl>
References: <47A6626B.2010808@terra.cl> <47A6DFDD.7010204@sanslogic.co.uk>
	<47A762E0.3040003@terra.cl> <47A765A6.7010909@sanslogic.co.uk>
	<47A78044.8010204@terra.cl> <20080204212222.GC24860@via.ecp.fr>
	<47A8A002.1030805@terra.cl>
Message-ID: <20080206195935.GA18008@via.ecp.fr>

On Tue, Feb 05, 2008, Mauricio Henriquez wrote:
> with the last vlc sources the EeePC webcam work?, or is only a 
> posibility?, i ask that becouse vlc use ffmpeg and if i have problems 
> with ffmpeg so may be i ave to update ffmpeg instan of vlc, also there 
> is any other alternative?, i think that compile vlc and/or ffmpeg is 
> going to take to much space of the tiny EeePC hd...

I honestly don't have a clue (as I don't own an EeePC). VLC uses ffmpeg
for some stuff, not everything. So you might get lucky. (The v4l2 access
is completely independant from ffmpeg, and according to your email that
was the problematic part)

-- 
Antoine Cellerier
dionoea


From jice at free.fr  Wed Feb  6 21:46:39 2008
From: jice at free.fr (Jean-Christophe Jice Cardot)
Date: Wed, 6 Feb 2008 21:46:39 +0100
Subject: [Linux-uvc-devel] xawtv crash
Message-ID: <200802062146.43972.jice@free.fr>

ok here it is. xawtv crash with uvcvideo rel 173, webcam philips spc1000nc.

the crash must be a bug in xawtv (?). In libng/grab-ng.c, line 235 says:
for (i = 0; attr->choices[i].str != NULL; i++)

but for one of the attr(ibutes), attr->choices is NULL, which leads to 
segfault. For information, the attribute's name is "Exposure, Auto" (which 
must be different from another attribute whose name is "Exposure, Auto 
Priority" and whose possible values are true/false).

this attribute comes from the following v4l init code (add_attrs):

static void
grabber_init(void)
{
    drv = ng_vid_open(ng_dev.video,NULL,NULL,0,&h_drv);
    if (NULL == drv) {
        fprintf(stderr,"no grabber device available\n");
        exit(1);
    }
    f_drv = drv->capabilities(h_drv);
    add_attrs(drv->list_attrs(h_drv));
}

where list_attrs is :
static struct ng_attribute* v4l2_attrs(void *handle)
{
    struct v4l2_handle *h = handle;
    return h->attr;
}

hence the faulty attribute comes directly from the driver (if I get it right). 
Is it normal that the attribute has no possible choice (so it would be an 
xawtv bug) or could it be a driver's bug? (I must admit I'm stuck there...)

TIA
-- 
Jean-Christophe "Jic?" Cardot - cofondateur de http://lea-linux.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080206/04f1792d/attachment.pgp>

From jice at free.fr  Wed Feb  6 22:50:58 2008
From: jice at free.fr (Jean-Christophe Jice Cardot)
Date: Wed, 6 Feb 2008 22:50:58 +0100
Subject: [Linux-uvc-devel] convert MJPEG to YUYV on-the-fly
In-Reply-To: <47A12110.4010701@sms.ed.ac.uk>
References: <47A12110.4010701@sms.ed.ac.uk>
Message-ID: <200802062251.01896.jice@free.fr>

Le jeudi 31 janvier 2008, Ioannis Nousias a ?crit :
> Although not directly related to linux-uvc development, I think this is
> the right crowd to ask this question.
>
> I have a point-and-shoot Fuji camera, with webcam support. It works
> really well with linux-uvc driver thanks to  Laurent's efforts a while
> back. It produces MJPEG only. It doesn't have a YUYV option. That's ok
> for something like egika, but skype seems to not like it. I think it
> only accepts YUV raw streams.
>
> Now my question is this. Is there an application/module that can sit
> between the video device and something like skype, converting the MJPEG
> in run-time to YUYV? Some kind of post-processing module that creates a
> re-directed video device, which can then be used by other applications.
> So you'll probably get something like '/dev/video1' which is in fact the
> processed '/dev/video0' (in my case the decoded MJPEG stream).
>
> I would be really surprised if something like this doesn't exist. It's a
> really cool thing to have in general. A basic search on google didn't
> return anything relevant.
>
> regards
> -Ioannis

Hi  Ioannis

I have the same problem as yours, and I just came accross this:
http://mrk.sed.pl/node/22/

I think that this is exactly what you are searching for. I've not tried it 
yet, though, but I'm going to do it.

regards
-- 
Jean-Christophe "Jic?" Cardot - cofondateur de http://lea-linux.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080206/3c23999b/attachment.pgp>

From jice at free.fr  Wed Feb  6 23:48:11 2008
From: jice at free.fr (Jean-Christophe Jice Cardot)
Date: Wed, 6 Feb 2008 23:48:11 +0100
Subject: [Linux-uvc-devel] convert MJPEG to YUYV on-the-fly
In-Reply-To: <200802062251.01896.jice@free.fr>
References: <47A12110.4010701@sms.ed.ac.uk> <200802062251.01896.jice@free.fr>
Message-ID: <200802062348.11425.jice@free.fr>

Le mercredi 6 f?vrier 2008, Jean-Christophe Jice Cardot a ?crit :
> Le jeudi 31 janvier 2008, Ioannis Nousias a ?crit :
> > Although not directly related to linux-uvc development, I think this is
> > the right crowd to ask this question.
> >
> > I have a point-and-shoot Fuji camera, with webcam support. It works
> > really well with linux-uvc driver thanks to  Laurent's efforts a while
> > back. It produces MJPEG only. It doesn't have a YUYV option. That's ok
> > for something like egika, but skype seems to not like it. I think it
> > only accepts YUV raw streams.
> >
> > Now my question is this. Is there an application/module that can sit
> > between the video device and something like skype, converting the MJPEG
> > in run-time to YUYV? Some kind of post-processing module that creates a
> > re-directed video device, which can then be used by other applications.
> > So you'll probably get something like '/dev/video1' which is in fact the
> > processed '/dev/video0' (in my case the decoded MJPEG stream).
> >
> > I would be really surprised if something like this doesn't exist. It's a
> > really cool thing to have in general. A basic search on google didn't
> > return anything relevant.
> >
> > regards
> > -Ioannis
>
> Hi  Ioannis
>
> I have the same problem as yours, and I just came accross this:
> http://mrk.sed.pl/node/22/
>
> I think that this is exactly what you are searching for. I've not tried it
> yet, though, but I'm going to do it.
>
> regards

did not manage to make it work for the moment.

Googling, I found this: https://developer.skype.com/jira/browse/SCW-273
You reported the issue to Skype already, for MJPEG cams... This is a small 
world ;)

-- 
Jean-Christophe "Jic?" Cardot - cofondateur de http://lea-linux.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080206/89f91199/attachment.pgp>

From NathanaelGalpin at smarttech.com  Wed Feb  6 23:55:15 2008
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Wed, 6 Feb 2008 15:55:15 -0700
Subject: [Linux-uvc-devel] Kernel Version Number
Message-ID: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1139C@calmail1.smarttech.inc>

Hi all,

What's the minimum kernel version required to install the Linux UVC
Driver? I looked around on the site/wiki but if it was there I missed it
:-).

I imagine it would have to be at least 2.6 since V4L2 was not present
before that?

As a side question, are there any kernels known to have problems with
the UVC driver?

Thanks,

Nathanael


From felix at derklecks.de  Thu Feb  7 00:13:55 2008
From: felix at derklecks.de (=?UTF-8?B?RmVsaXggTcKaw7ZsbGVy?=)
Date: Thu, 07 Feb 2008 00:13:55 +0100
Subject: [Linux-uvc-devel] Kernel Version Number
In-Reply-To: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1139C@calmail1.smarttech.inc>
References: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1139C@calmail1.smarttech.inc>
Message-ID: <47AA3F33.4020508@derklecks.de>

Hi,

> What's the minimum kernel version required to install the Linux UVC
> Driver? I looked around on the site/wiki but if it was there I missed it
> :-).
> 
> I imagine it would have to be at least 2.6 since V4L2 was not present
> before that?
> 
> As a side question, are there any kernels known to have problems with
> the UVC driver?

Laurent wrote just yesterday:
> The UVC driver requires Linux kernel 2.6.15 or newer. It might be possible to 
> backport it to 2.4.x but that would require lots of work (and probably a 
> backport of the 2.6 USB stack).
> 
> Best regards,
> 
> Laurent Pinchart

HTH
Felix M?ller


From jorgesmbox-ml at yahoo.es  Thu Feb  7 13:50:24 2008
From: jorgesmbox-ml at yahoo.es (jorgesmbox-ml at yahoo.es)
Date: Thu, 7 Feb 2008 13:50:24 +0100 (CET)
Subject: [Linux-uvc-devel] Omnivision Technologies ID 05a9:7670
Message-ID: <954278.24206.qm@web27902.mail.ukl.yahoo.com>

I have a Dell XPS m1330 that comes withis webcam. It works ok (mplayer,
skype-2.0.0.27), even if there is an error message in dmesg output (see
below, there's also the lsusb -v output). What's the meaning of this
error? Is there any functionality missing because of it? 

A bit out of topic: Is it possible to get "raw" output from this
camera? With what program? Do i have to make one specifically? By "raw"
I mean no color-processing, no gamma correction, no compression, etc.
Please excuse me if this question is ridiculous, I work on image
processing algorithms but have no idea about the UVC devices.

Thanks,

jorges

============
System info:

The version of the linux-uvc driver installed is 0.1.0_pre173 (this is
Gentoo, I guess it's version 0.1.0 patched up to revision 173)

$ dmesg | grep uvc
uvcvideo: Found UVC 1.00 device Laptop Integrated Webcam (05a9:7670)
uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -110 (exp.
26).
usbcore: registered new interface driver uvcvideo

$ lsusb -v -s 002:003

Bus 002 Device 003: ID 05a9:7670 OmniVision Technologies, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x05a9 OmniVision Technologies, Inc.
  idProduct          0x7670
  bcdDevice            1.00
  iManufacturer           1 OmniVision Technologies, Inc.
-7670-07.05.15.1
  iProduct                2 Laptop Integrated Webcam
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          713
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    UNRECOGNIZED:  30 ff 42 49 53 54 00 01 08 01 10 00 00 00 00 00 d1
03 f4 01 d2 04 f4 01 d3 05 f4 01 d4 06 f4 01 d5 07 f4 01 d6 08 f4 01 d7
09 f4 01 d8 0a f4 01
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               2 Laptop Integrated Webcam
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              2 Laptop Integrated Webcam
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          109
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                17
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  2
        bmControls           0x00000a00
          Zoom (Absolute)
          PanTilt (Absolute)
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      4 (SELECTOR_UNIT)
        bUnitID                 4
        bNrInPins               1
        baSource( 0)            1
        iSelector               0
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 5
        bSourceID               4
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000557f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
          Digital Multiplier
        iProcessing             0
        bmVideoStandards     0x1a
          NTSC - 525/60
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 7
        guidExtensionCode        
{dd880f8a-1cba-4954-8a25-f7875967f0f7}
        bNumControl             1
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 6
        guidExtensionCode        
{dd880f8a-1cba-4954-8a25-f7875967f0f7}
        bNumControl             1
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              1 OmniVision Technologies, Inc.
-7670-07.05.15.1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              16
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        2
        wTotalLength                    33025
        bEndPointAddress                    0
        bmInfo                              3
        bTerminalLink                       0
        bStillCaptureMethod                 0
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
        bmaControls( 1)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat                           
{32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  8110080
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 24576000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1000000
        dwFrameInterval( 1)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  6144000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  2027520
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1536000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        2
        bNumFrameDescriptors                5
        bFlags                              1
          Fixed-size samples: Yes
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 24576000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  8110080
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  6144000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  2027520
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1536000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x03fc  1x 1020 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0         8
  bNumConfigurations      1
can't get debug descriptor: Connection timed out
Device Status:     0x0000
  (Bus Powered)






       
______________________________________________ 
?Con Mascota por primera vez? S? un mejor Amigo. Entra en Yahoo! Respuestas http://es.answers.yahoo.com/info/welcome


From lucasvr at gobolinux.org  Fri Feb  8 06:03:58 2008
From: lucasvr at gobolinux.org (Lucas C. Villa Real)
Date: Thu, 7 Feb 2008 21:03:58 -0800
Subject: [Linux-uvc-devel] [PATCH] isight firmware extractor: find_offset()
Message-ID: <2c03f9590802072103g3f420ee3ve96bfcfd0e717be0@mail.gmail.com>

Hi,

I'm not very sure about the best place to submit this, since I didn't
find any repository where the firmware loader could be found, except
for a few stand alone patches. Please tell me if you know a more
appropriate list to forward this to.

This patch adds, based on the description of the firmware format, a
routine to find the right offset for an unknown/unsupported iSight
firmware. Tested with my "unsupported" one (sha1sum
1c60ef27d57221cf3d76687a4973ec72ff6fa103) and it matches fine. I'm
attaching the final file as well, just in case.

Cheers,

-- 
Lucas
powered by /dev/dsp
-------------- next part --------------
A non-text attachment was scrubbed...
Name: extract.c
Type: application/octet-stream
Size: 7202 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080207/dfe97099/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: extract.patch
Type: application/octet-stream
Size: 3311 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080207/dfe97099/attachment-0001.obj>

From felix at derklecks.de  Fri Feb  8 08:49:23 2008
From: felix at derklecks.de (=?UTF-8?B?RmVsaXggTcKaw7ZsbGVy?=)
Date: Fri, 08 Feb 2008 08:49:23 +0100
Subject: [Linux-uvc-devel] [PATCH] isight firmware extractor:
	find_offset()
In-Reply-To: <2c03f9590802072103g3f420ee3ve96bfcfd0e717be0@mail.gmail.com>
References: <2c03f9590802072103g3f420ee3ve96bfcfd0e717be0@mail.gmail.com>
Message-ID: <47AC0983.5010207@derklecks.de>

Hi,

> I'm not very sure about the best place to submit this, since I didn't
> find any repository where the firmware loader could be found, except
> for a few stand alone patches. Please tell me if you know a more
> appropriate list to forward this to.
> 
> This patch adds, based on the description of the firmware format, a
> routine to find the right offset for an unknown/unsupported iSight
> firmware. Tested with my "unsupported" one (sha1sum
> 1c60ef27d57221cf3d76687a4973ec72ff6fa103) and it matches fine. I'm
> attaching the final file as well, just in case.
The current tools for the isight can be found at
http://bersace03.free.fr/ift/ it is maintained by ?tienne Bersac
(bersace03 at gmail dot c o m).

HTH
Felix M?ller



From lucasvr at gobolinux.org  Fri Feb  8 08:53:28 2008
From: lucasvr at gobolinux.org (Lucas C. Villa Real)
Date: Thu, 7 Feb 2008 23:53:28 -0800
Subject: [Linux-uvc-devel] [PATCH] isight firmware extractor:
	find_offset()
In-Reply-To: <47AC0983.5010207@derklecks.de>
References: <2c03f9590802072103g3f420ee3ve96bfcfd0e717be0@mail.gmail.com>
	<47AC0983.5010207@derklecks.de>
Message-ID: <2c03f9590802072353uef77892qe229c9b66d0111d1@mail.gmail.com>

On Feb 7, 2008 11:49 PM, Felix M??ller <felix at derklecks.de> wrote:
>
> Hi,
>
> > I'm not very sure about the best place to submit this, since I didn't
> > find any repository where the firmware loader could be found, except
> > for a few stand alone patches. Please tell me if you know a more
> > appropriate list to forward this to.
> >
> > This patch adds, based on the description of the firmware format, a
> > routine to find the right offset for an unknown/unsupported iSight
> > firmware. Tested with my "unsupported" one (sha1sum
> > 1c60ef27d57221cf3d76687a4973ec72ff6fa103) and it matches fine. I'm
> > attaching the final file as well, just in case.
>
> The current tools for the isight can be found at
> http://bersace03.free.fr/ift/ it is maintained by ?tienne Bersac
> (bersace03 at gmail dot c o m).

Ah, nice! Thanks a lot for the pointer!

-- 
Lucas
powered by /dev/dsp


From borje4 at gmail.com  Sat Feb  9 10:04:07 2008
From: borje4 at gmail.com (Borje Holmberg)
Date: Sat, 9 Feb 2008 10:04:07 +0100
Subject: [Linux-uvc-devel] hp dv6744 webcam
Message-ID: <a7bfb7650802090104w39162603if1dafca3a05de827@mail.gmail.com>

Hi!

Here is the specs for the built in webcam of unknown model for my
laptop hp dv6744. Greatful for any light on whether it is possible to
get to work on linux.

Regards,

B?rje Holmberg aka linfan
borje4 at comhem.se
______________
lsusb -d 0408:030c -v

Bus 002 Device 002: ID 0408:030c Quanta Computer, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0408 Quanta Computer, Inc.
  idProduct          0x030c
  bcdDevice            1.06
  iManufacturer           2 QCM
  iProduct                1 HP Webcam
  iSerial                 3 SN0001
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          549
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower               98mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               5 HP Webcam
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              5 HP Webcam
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          103
        dwClockFrequency        6.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {7033f028-1163-2e4a-ba2c-6890eb334016}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x0f
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 5
        guidExtensionCode         {3fae1228-d7bc-114e-a357-6f1edef7d61d}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          4
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000053f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x 0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                        1
        wTotalLength                      303
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 2
        bTriggerSupport                     0
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                  4915200
        dwMaxBitRate                153600000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  1622016
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  1228800
        dwMaxBitRate                153600000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   405504
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   307200
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            26
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        352
        wHeight( 1)                       288
        wWidth( 2)                        320
        wHeight( 2)                       240
        wWidth( 3)                        176
        wHeight( 3)                       144
        wWidth( 4)                        160
        wHeight( 4)                       120
        bNumCompressionPatterns             5
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytesHi!

Here is the specs for the built in webcam of unknown model for my
laptop hp dv6744. Greatful for any light on whether it is possible to
get to work on linux.

Please reply to borje4 at comhem.se

Regards,

B?rje Holmberg aka linfan
borje4 at comhem.se
______________
lsusb -d 0408:030c -v

Bus 002 Device 002: ID 0408:030c Quanta Computer, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0408 Quanta Computer, Inc.
  idProduct          0x030c
  bcdDevice            1.06
  iManufacturer           2 QCM
  iProduct                1 HP Webcam
  iSerial                 3 SN0001
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          549
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower               98mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               5 HP Webcam
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              5 HP Webcam
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          103
        dwClockFrequency        6.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {7033f028-1163-2e4a-ba2c-6890eb334016}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x0f
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 5
        guidExtensionCode         {3fae1228-d7bc-114e-a357-6f1edef7d61d}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          4
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000053f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x 0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                        1
        wTotalLength                      303
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 2
        bTriggerSupport                     0
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                  4915200
        dwMaxBitRate                153600000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  1622016
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  1228800
        dwMaxBitRate                153600000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   405504
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   307200
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  5
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            26
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        352
        wHeight( 1)                       288
        wWidth( 2)                        320
        wHeight( 2)                       240
        wWidth( 3)                        176
        wHeight( 3)                       144
        wWidth( 4)                        160
        wHeight( 4)                       120
        bNumCompressionPatterns             5
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0002
  (Bus Powered)
  Remote Wakeup Enabled

        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0002
  (Bus Powered)
  Remote Wakeup Enabled


From brandon at ifup.org  Sat Feb  9 10:31:22 2008
From: brandon at ifup.org (Brandon Philips)
Date: Sat, 9 Feb 2008 01:31:22 -0800
Subject: [Linux-uvc-devel] hp dv6744 webcam
In-Reply-To: <a7bfb7650802090104w39162603if1dafca3a05de827@mail.gmail.com>
References: <a7bfb7650802090104w39162603if1dafca3a05de827@mail.gmail.com>
Message-ID: <20080209093122.GB22381@plankton.ifup.org>

On 10:04 Sat 09 Feb 2008, Borje Holmberg wrote:
> Here is the specs for the built in webcam of unknown model for my
> laptop hp dv6744. Greatful for any light on whether it is possible to
> get to work on linux.

Your device appears to be a UVC device.  You can either build the UVC
driver or grab it from your distro.

build steps
-----------

# svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk uvc
# cd uvc
# make
# su
# make install

Plug-in device and test- luvcview[1] is a good place to start.

Cheers, 

	Brandon

[1] http://mxhaard.free.fr/spca50x/Investigation/uvc/luvcview-20070512.tar.gz


From anand_shankar at yahoo.com  Sat Feb  9 13:21:08 2008
From: anand_shankar at yahoo.com (Anand Shankar)
Date: Sat, 9 Feb 2008 04:21:08 -0800 (PST)
Subject: [Linux-uvc-devel] Quickcampro 9000: Protocol Error
Message-ID: <120278.33597.qm@web50501.mail.re2.yahoo.com>

I get the following errors with quickcam pro 9000. I am using Fedora 8 Kernel 2.6.23.9-85.fc8 with Rev 177 of the driver from http://linux-uvc.berlios.de/

extract from dmesg:

Linux video capture interface: v2.00
usbcore: registered new interface driver snd-usb-audio
uvcvideo: Found UVC 1.00 device <unnamed> (046d:0990)
uvcvideo: Failed to query (1) UVC control 2 (unit 0) : -71 (exp. 26).
uvcvideo: Failed to initialize the device (-5).
usbcore: registered new interface driver uvcvideo
USB Video Class driver (SVN r177)


extract from lsusb -v:

Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1433
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
    MaxPower              500mA
    UNRECOGNIZED:  08 0b 00 02 0e 03 00 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              0 
      UNRECOGNIZED:  20 41 01 0c 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 50 14 01 04 03 ff ff 0f 00 00 00 00 00
      UNRECOGNIZED:  20 41 01 08 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 51 03 01 04 03 19 00 00 00 00 00 01 00
      UNRECOGNIZED:  20 41 01 0b 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 55 01 01 04 03 01 00 00 00 00 00 00 00
      UNRECOGNIZED:  20 41 01 09 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 56 02 01 04 03 0c 00 00 00 00 00 00 00
:
:
:
 Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting      11
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13fc  3x 1020 bytes
        bInterval               1
        UNRECOGNIZED:  08 0b 02 02 01 02 00 00
:
:
:

Thanks in advance for any inputs on resolving this error 


anand




      ____________________________________________________________________________________
Looking for last minute shopping deals?  
Find them fast with Yahoo! Search.  http://tools.search.yahoo.com/newsearch/category.php?category=shopping


From sampsa.riikonen at iki.fi  Sat Feb  9 19:46:39 2008
From: sampsa.riikonen at iki.fi (Sampsa Riikonen)
Date: Sat, 09 Feb 2008 20:46:39 +0200
Subject: [Linux-uvc-devel] V4L2 and Mplayer
Message-ID: <1202582799.2429.10.camel@linux-q5nk.site>

Dear List,

I have a Sonix USB 2.0 webcam that is using
V4L2. There seems to be a problem with
mplayer..

I did..

svn checkout svn://svn.mplayerhq.hu/mplayer/trunk mplayer

(there is an earlier posting to this mailing list
that says that the repository version should work
OK with V4L2).

Then complied (configure, gmake, gmake install) and
tried
--------------
linux-q5nk:/home/sampsa/mplayer # ./mencoder tv:// -v -tv
driver=v4l2:width=576:height=576:input=1:device=/dev/video0:immediatemode=0:forceaudio:outfmt=yv12  -o outfile.avi -lavcopts vcodec=mjpeg
-----------
It gave me the following output..
-------------
MEncoder dev-SVN-r25966-4.2.1 (C) 2000-2008 MPlayer Team
CPU: AMD Turion(tm) 64 X2 Mobile Technology TL-58 (Family: 15, Model:
104, Stepping: 1)
CPUflags: Type: 15 MMX: 1 MMX2: 1 3DNow: 1 3DNow2: 1 SSE: 1 SSE2: 1
Compiled for x86 CPU with extensions: MMX MMX2 3DNow 3DNowEx SSE SSE2

Configuration:
init_freetype
get_path('font/font.desc') -> '/root/.mplayer/font/font.desc'
font: can't open file: /root/.mplayer/font/font.desc
font: can't open file: /usr/local/share/mplayer/font/font.desc
Using MMX (with tiny bit MMX2) Optimized OnScreenDisplay
STREAM: [tv] tv://
STREAM: Description: TV Input
STREAM: Author: Benjamin Zores, Albeu
STREAM: Comment:
success: format: 9  data: 0x0 - 0x0
TV file format detected.
Selected driver: v4l2
 name: Video 4 Linux 2 input
 author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
 comment: first try, more to come ;-)
v4l2: ioctl get standard failed: Invalid argument
Selected device: USB 2.0 Camera
 Capabilites:  video capture  streaming
 supported norms:
 inputs: 0 = Camera 1;
 Current input: 0
 Format YUYV   (16 bits, YUV 4:2:2 (YUYV)): Packed YUY2
 Current format: YUYV
v4l2: set format: YVU420
v4l2: ioctl set format failed: Invalid argument
v4l2: set input: 1
v4l2: ioctl enum input failed: Invalid argument
tv.c: norm_from_string(pal): Bogus norm parameter, setting default.
Selected norm : pal
v4l2: ioctl enum norm failed: Invalid argument
Error: Cannot set norm!
v4l2: set width: 576
v4l2: set height: 576
Selected input hasn't got a tuner!
==> Found video stream: 0
v4l2: get format: YUYV
v4l2: get fps: nan
v4l2: get width: 640
v4l2: get height: 480
ioctl dsp getfmt: 0
Supported formats: 4b1f9
ioctl dsp setfmt: 0
ioctl dsp stereo: 0 (req: 1)
ioctl dsp speed: 0
ioctl dsp trigger: 0
trigger: 1
ioctl dsp trigger: 0
ioctl dsp getblocksize: 0
blocksize: 4096
Audio block size too low, setting to 16384!
v4l2: set audio samplerate: 44100
v4l2: get audio format: 9
==> Found audio stream: 0
v4l2: get audio samplerate: 44100
v4l2: get audio samplesize: 2
v4l2: get audio channels: 2
  TV audio: 2 channels, 16 bits, 44100 Hz
Audio capture - buffer 256 blocks of 16384 bytes, skew average from 16
meas.
Floating point exception
-----------

Please, does anyone have any idea how to get this working?

Regards,

Sampsa Riikonen







From sboyce at blueyonder.co.uk  Sat Feb  9 20:26:41 2008
From: sboyce at blueyonder.co.uk (Sid Boyce)
Date: Sat, 09 Feb 2008 19:26:41 +0000
Subject: [Linux-uvc-devel] 064e:a101 Suyin Corp. and Skype-2.0.0.43-suse
	partial success
Message-ID: <47ADFE71.7050304@blueyonder.co.uk>

With svn at revision 177, I can now get a picture when I do the skype 
camera test, but it freezes after a few frames. Camera is built-in on 
Acer Travelmate 7520 laptop.
Regards
Sid.
-- 
Sid Boyce ... Hamradio License G3VBV, Licensed Private Pilot
Emeritus IBM/Amdahl Mainframes and Sun/Fujitsu Servers Tech Support 
Specialist, Cricket Coach
Microsoft Windows Free Zone - Linux used for all Computing Tasks



From Detlef.Eberhardt at xtra.co.nz  Sat Feb  9 22:46:38 2008
From: Detlef.Eberhardt at xtra.co.nz (Detlef Eberhardt)
Date: Sun, 10 Feb 2008 10:46:38 +1300
Subject: [Linux-uvc-devel] Fwd: Philips SPC525NC
Message-ID: <200802101046.38171.Detlef.Eberhardt@xtra.co.nz>

Hi all,

thanks for the uvc driver. I just want to let you know that the driver works 
fine with my web cam Philips SPC525NC tested with skype 2.0.0.43 and Kopete 
0.12.7 (using KDE 3.5.8) on a Debian testing AMD64 system.

Cheers
bugger


From daniel-linux at bol.com.br  Sat Feb  9 23:24:13 2008
From: daniel-linux at bol.com.br (daniel-linux)
Date: Sat,  9 Feb 2008 20:24:13 -0200
Subject: [Linux-uvc-devel] En:Re:  Acer Crystal Eye
Message-ID: <JVZSWD$DDFF9DC3465CC9730BDCEFCC61363747@bol.com.br>

Hi, 

I have the Acer 5720 laptop with Crystal Eye built-in (Bus 007 Device 002: ID 064e:a101 Suyin Corp)

It get freeze.. after sometime. But this happens only in distance communications, like Brazil to Thailand or Brazil with Australia... I think when the connection is not good enough..  my cam dont' work well. If I use the cam with someone in my city, example, everything go well.

When the cam freeze the only thing i see in the log is this:

uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).

I am using OpenSuse 10.3 - Linux daniel-laptop 2.6.22.13-0.3-default #1 SMP 2007/11/19 15:02:58 UTC i686 i686 i386 GNU/Linux

If needs more informations, please just tell me,

Best,
Daniel



From asmo.koskinen at arkki.info  Sun Feb 10 14:45:11 2008
From: asmo.koskinen at arkki.info (Asmo Koskinen)
Date: Sun, 10 Feb 2008 15:45:11 +0200
Subject: [Linux-uvc-devel] V4L2 and Mplayer
In-Reply-To: <1202582799.2429.10.camel@linux-q5nk.site>
References: <1202582799.2429.10.camel@linux-q5nk.site>
Message-ID: <47AEFFE7.707@arkki.info>

Sampsa Riikonen kirjoitti:
> I have a Sonix USB 2.0 webcam that is using
> V4L2. There seems to be a problem with
> mplayer..
>   

I got a Wiki-page, this webcam use also v4l2.

http://wiki.ubuntu-fi.org/Logitech_QuickCam_Pro_9000

If I like to watch from CLI:

mplayer -tv 
driver=v4l2:width=640:height=480:device=/dev/video0:fps=30:outfmt=yuy2 tv://

If I like to capture from CLI:

ffmpeg -f video4linux2 -s 640x480 -r 15 -i /dev/video0 -f m4v out.m4v

Best Regards Asmo Koskinen.


From rankincj at yahoo.com  Sun Feb 10 23:43:18 2008
From: rankincj at yahoo.com (Chris Rankin)
Date: Sun, 10 Feb 2008 22:43:18 +0000 (GMT)
Subject: [Linux-uvc-devel] Logitech Quickcam Deluxe (0x046d:0x0992) is
	temperamental
In-Reply-To: <200802032010.36021.laurent.pinchart@skynet.be>
Message-ID: <112961.16998.qm@web52905.mail.re2.yahoo.com>

--- Laurent Pinchart <laurent.pinchart at skynet.be> wrote:
> Could you check the kernel log (using the dmesg command) to see if the driver 
> reports errors when you get no picture in Ekiga ?

OK. No messages are reported other than:

usb 1-2: new high speed USB device using ehci_hcd and address 8
usb 1-2: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device <unnamed> (046d:0992)

For what it's worth, I can change the uniformly black picture to various uniform shades of grey by
adjusting the brightness and contrast controls. And yes, I have raised the lens shutter cover ;-).

Cheers,
Chris



      ___________________________________________________________
Support the World Aids Awareness campaign this month with Yahoo! For Good http://uk.promotions.yahoo.com/forgood/


From arbuckle911 at gmail.com  Mon Feb 11 02:11:33 2008
From: arbuckle911 at gmail.com (Christopher Harvey)
Date: Sun, 10 Feb 2008 20:11:33 -0500
Subject: [Linux-uvc-devel] select() problems with uvc drivers.
Message-ID: <47AFA0C5.6050307@gmail.com>

Hello,
I sent this to the video 4 linux mailing list earlier, but perhaps it's
more appropriate here since the code is very uvc specific.
I've created a small c program that uses pure v4l2 code to read from a
webcam on a uvc driver then copy that data into an SDL overlay. I've
posted the code here:
http://basementcode.com/serverMain.html
and I've attached a log file I created from the output of that program.
Overall the program works great except that after a few frames, about 35
(varies each run) in my case, the select() function that is supposed to
block until new data from the webcam is available stops working and
returns right away. This isn't a huge problem because the following
ioctl(fd, VIDIOC_DQBUF, &buf)
call simply fails and sets errno to EAGAIN, then my app simply tries
again and again until it works. I'd rather select worked for the entire
duration of the capture to save cpu time and make sure that I read the
frame asap each time. The relevant function in the code I posted above
is "mainLoop", however I can't be sure the error is actually in that
function. I hope I've posted enough information.
Thanks in advance,
Chris.

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: log
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080210/6c09874f/attachment.ksh>

From mhenriquezs at terra.cl  Sun Feb 10 02:27:57 2008
From: mhenriquezs at terra.cl (Mauricio Henriquez)
Date: Sat, 09 Feb 2008 22:27:57 -0300
Subject: [Linux-uvc-devel] select() problems with uvc drivers.
In-Reply-To: <47AFA0C5.6050307@gmail.com>
References: <47AFA0C5.6050307@gmail.com>
Message-ID: <47AE531D.4010701@terra.cl>

Hi Chris:

I can help you to make some test, what librarie version are you using?, 
distro, etc..
send me also the compilation command that you are using...

Mauricio Henriquez


Christopher Harvey wrote:
> Hello,
> I sent this to the video 4 linux mailing list earlier, but perhaps it's
> more appropriate here since the code is very uvc specific.
> I've created a small c program that uses pure v4l2 code to read from a
> webcam on a uvc driver then copy that data into an SDL overlay. I've
> posted the code here:
> http://basementcode.com/serverMain.html
> and I've attached a log file I created from the output of that program.
> Overall the program works great except that after a few frames, about 35
> (varies each run) in my case, the select() function that is supposed to
> block until new data from the webcam is available stops working and
> returns right away. This isn't a huge problem because the following
> ioctl(fd, VIDIOC_DQBUF, &buf)
> call simply fails and sets errno to EAGAIN, then my app simply tries
> again and again until it works. I'd rather select worked for the entire
> duration of the capture to save cpu time and make sure that I read the
> frame asap each time. The relevant function in the code I posted above
> is "mainLoop", however I can't be sure the error is actually in that
> function. I hope I've posted enough information.
> Thanks in advance,
> Chris.
>
>   
> ------------------------------------------------------------------------
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel



From arbuckle911 at gmail.com  Mon Feb 11 03:19:11 2008
From: arbuckle911 at gmail.com (Christopher Harvey)
Date: Sun, 10 Feb 2008 21:19:11 -0500
Subject: [Linux-uvc-devel] select() problems with uvc drivers.
In-Reply-To: <47AE531D.4010701@terra.cl>
References: <47AFA0C5.6050307@gmail.com> <47AE531D.4010701@terra.cl>
Message-ID: <47AFB09F.6070304@gmail.com>

Mauricio Henriquez wrote:
> Hi Chris:
>
> I can help you to make some test, what librarie version are you
> using?, distro, etc..
> send me also the compilation command that you are using...
>
> Mauricio Henriquez
>
>
> Christopher Harvey wrote:
>> Hello,
>> I sent this to the video 4 linux mailing list earlier, but perhaps it's
>> more appropriate here since the code is very uvc specific.
>> I've created a small c program that uses pure v4l2 code to read from a
>> webcam on a uvc driver then copy that data into an SDL overlay. I've
>> posted the code here:
>> http://basementcode.com/serverMain.html
>> and I've attached a log file I created from the output of that program.
>> Overall the program works great except that after a few frames, about 35
>> (varies each run) in my case, the select() function that is supposed to
>> block until new data from the webcam is available stops working and
>> returns right away. This isn't a huge problem because the following
>> ioctl(fd, VIDIOC_DQBUF, &buf)
>> call simply fails and sets errno to EAGAIN, then my app simply tries
>> again and again until it works. I'd rather select worked for the entire
>> duration of the capture to save cpu time and make sure that I read the
>> frame asap each time. The relevant function in the code I posted above
>> is "mainLoop", however I can't be sure the error is actually in that
>> function. I hope I've posted enough information.
>> Thanks in advance,
>> Chris.
>>
>>  
>> ------------------------------------------------------------------------
>>
>> _______________________________________________
>> Linux-uvc-devel mailing list
>> Linux-uvc-devel at lists.berlios.de
>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
Hi Mauricio,
I'm using gentoo AMD64 with "linux-uvc-0.1.0_pre173" installed. If GUI
is defined in the code then I can compile with just gcc main.c if GUI is
defined I need to include SDL. The problem exists with or without SDL.
Also, I just tried it on another computer that is almost exactly the
same except there is no X11 installed and I'm only able to get 176 by
144. The select failure still occurs.
Thanks for helping,
Chris.



From armando at goodship.net  Mon Feb 11 19:25:56 2008
From: armando at goodship.net (Armando Di Cianno)
Date: Mon, 11 Feb 2008 13:25:56 -0500
Subject: [Linux-uvc-devel] Dell XPS m1330 / usb 05a9:7670
Message-ID: <1202754356.9882.29.camel@localhost>

I have a Dell XPS m1330 laptop, that has a camera that gets detected as
a UVC camera, but does not work.  I've tested r177 vanilla, and with a
patch I saw here:
http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg01797.html
... both versions do not work, with similar results.  Testing the
suggested luvcview (from that thread) results in luvcview segfaulting.

I'll happily test any patches.  I hope the output helps.

Relevant dmesg (vanilla):
[ 2489.681505] uvcvideo: Found UVC 1.00 device Laptop Integrated Webcam
(05a9:7670)
[ 2489.918202] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
-110 (exp. 26).
[ 2489.919715] usbcore: registered new interface driver uvcvideo
[ 2489.919725] USB Video Class driver (v0.1.0)

With trace=1:
[ 2669.833105] uvcvideo: Probing known UVC device 6 (05a9:7670)
[ 2669.833724] uvcvideo: Found UVC 1.00 device Laptop Integrated Webcam
(05a9:7670)
[ 2669.833731] uvcvideo: Scanning UVC chain: OT 3 <- PU 5 <- SU 4 <- IT
1
[ 2669.833735]  (-> XU 7 6)<6>uvcvideo: Found a valid video chain (1 ->
3).
[ 2670.163977] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
-110 (exp. 26).
[ 2670.165519] uvcvideo: UVC device initialized.
[ 2670.165569] usbcore: registered new interface driver uvcvideo
[ 2670.165578] USB Video Class driver (v0.1.0)

# lsusb -d 05a9:7670 -v

Bus 002 Device 003: ID 05a9:7670 OmniVision Technologies, Inc. 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x05a9 OmniVision Technologies, Inc.
  idProduct          0x7670 
  bcdDevice            1.00
  iManufacturer           1 OmniVision Technologies, Inc.
-7670-07.09.28.1
  iProduct                2 Laptop Integrated Webcam
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          713
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    UNRECOGNIZED:  30 ff 42 49 53 54 00 01 08 01 10 00 00 00 00 00 d1 03
f4 01 d2 04 f4 01 d3 05 f4 01 d4 06 f4 01 d5 07 f4 01 d6 08 f4 01 d7 09
f4 01 d8 0a f4 01
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               2 Laptop Integrated Webcam
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              2 Laptop Integrated Webcam
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          109
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                17
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  2
        bmControls           0x00000a00
          Zoom (Absolute)
          PanTilt (Absolute)
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0 
      VideoControl Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      4 (SELECTOR_UNIT)
        bUnitID                 4
        bNrInPins               1
        baSource( 0)            1
        iSelector               0 
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 5
        bSourceID               4
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000557f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
          Digital Multiplier
        iProcessing             0 
        bmVideoStandards     0x1a
          NTSC - 525/60
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 7
        guidExtensionCode         {dd880f8a-1cba-4954-8a25-f7875967f0f7}
        bNumControl             1
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0 
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 6
        guidExtensionCode         {dd880f8a-1cba-4954-8a25-f7875967f0f7}
        bNumControl             1
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              1 OmniVision Technologies, Inc.
-7670-07.09.28.1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              16
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        2
        wTotalLength                    33025
        bEndPointAddress                    0
        bmInfo                              3
        bTerminalLink                       0
        bStillCaptureMethod                 0
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
        bmaControls( 1)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  8110080
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 24576000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1000000
        dwFrameInterval( 1)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  6144000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  2027520
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1536000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        2
        bNumFrameDescriptors                5
        bFlags                              1
          Fixed-size samples: Yes
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 24576000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  8110080
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  6144000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  2027520
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1536000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x03fc  1x 1020 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0         8
  bNumConfigurations      1
can't get debug descriptor: Connection timed out
Device Status:     0x0000
  (Bus Powered)

-- 
Armando Di Cianno
http://dicianno.org/blog
armando at dicianno.org
armando at goodship.net




From felix at derklecks.de  Mon Feb 11 19:39:08 2008
From: felix at derklecks.de (=?UTF-8?B?RmVsaXggTcKaw7ZsbGVy?=)
Date: Mon, 11 Feb 2008 19:39:08 +0100
Subject: [Linux-uvc-devel] Dell XPS m1330 / usb 05a9:7670
In-Reply-To: <1202754356.9882.29.camel@localhost>
References: <1202754356.9882.29.camel@localhost>
Message-ID: <47B0964C.3060009@derklecks.de>

Hi,

> I have a Dell XPS m1330 laptop, that has a camera that gets detected as
> a UVC camera, but does not work.  I've tested r177 vanilla, and with a
> patch I saw here:
> http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg01797.html
> ... both versions do not work, with similar results.  Testing the
> suggested luvcview (from that thread) results in luvcview segfaulting.
> 
> I'll happily test any patches.  I hope the output helps.
> 
> Relevant dmesg (vanilla):
> [ 2489.681505] uvcvideo: Found UVC 1.00 device Laptop Integrated Webcam
> (05a9:7670)
> [ 2489.918202] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
> -110 (exp. 26).
> [ 2489.919715] usbcore: registered new interface driver uvcvideo
> [ 2489.919725] USB Video Class driver (v0.1.0)
are you sure you are using r177? The message should AFAIK look like the 
following:
usbcore: registered new interface driver uvcvideo
USB Video Class driver (SVN r177)

Make sure it is really your self compiled module that get loaded and not 
an older one.

HTH

Felix M?ller


From armando at goodship.net  Mon Feb 11 19:50:45 2008
From: armando at goodship.net (Armando Di Cianno)
Date: Mon, 11 Feb 2008 13:50:45 -0500
Subject: [Linux-uvc-devel] Dell XPS m1330 / usb 05a9:7670
In-Reply-To: <47B0964C.3060009@derklecks.de>
References: <1202754356.9882.29.camel@localhost>
	<47B0964C.3060009@derklecks.de>
Message-ID: <1202755845.9882.32.camel@localhost>


On Mon, 2008-02-11 at 19:39 +0100, Felix M??ller wrote:
> > [ 2489.919715] usbcore: registered new interface driver uvcvideo
> > [ 2489.919725] USB Video Class driver (v0.1.0)
> are you sure you are using r177? The message should AFAIK look like the 
> following:
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (SVN r177)

Hello, Felix.  Thanks for the quick response.

I was using gentoo ebuilds to help manage this -- and it looks like it
is versionating the modules.  Just to be sure, I did it completely from
a fresh checkout, and using insmod ./uvcvideo.ko got this:

[ 3155.616157] uvcvideo: Found UVC 1.00 device Laptop Integrated Webcam
(05a9:7670)
[ 3155.907511] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
-110 (exp. 26).
[ 3155.908924] usbcore: registered new interface driver uvcvideo
[ 3155.908934] USB Video Class driver (SVN r177)

-- 
Armando Di Cianno
http://dicianno.org/blog
armando at dicianno.org
armando at goodship.net




From gabi.udr.lin at gmail.com  Mon Feb 11 20:00:06 2008
From: gabi.udr.lin at gmail.com (Udrescu Gabriel Florin)
Date: Mon, 11 Feb 2008 21:00:06 +0200
Subject: [Linux-uvc-devel] Problem with Acer Crystal eye Webcam
Message-ID: <4d9ba24a0802111100q51b22d84s7ca9d3ecb917459c@mail.gmail.com>

Hello there!
I've got a problem with my newly bought Acer laptop. I've managed to make
almost everything work, except my Acer Crystal Eye Webcam. Following this
solution (
http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002394.html)
I've managed to make it run with Kopete. Skype still does not initialize it,
although he finds it on /dev/video0 and recognizes its name (Acer CrystalEye
Webcam). Neither Adobe Flash doesn't work with it.
I've got the latest Linux-UVC running, compilled from the SVN trunk. the
revision i've got it's r177. I'm running Mandriva 2008 with the following
kernel :
Linux localhost 2.6.22.12-laptop-1mdv #1 SMP Tue Nov 20 09:05:54 EST 2007
i686 AMD Turion(tm) 64 X2 Mobile Technology TL-58 GNU/Linux

lsusb says this :
lsusb
Unknown line at line 2389
Bus 002 Device 001: ID 0000:0000
Bus 001 Device 002: ID 5986:0102
Bus 001 Device 001: ID 0000:0000

and lsusb's more verbose output is the one you can find here :
http://pastebin.com/f4542003d

down here, you can find a little information related to this webcam from my
syslog :

Feb 11 15:53:46 localhost kernel: uvcvideo: Failed to query (130) UVC
control 1 (unit 0) : 2 (exp. 26).
Feb 11 15:55:27 localhost last message repeated 3 times
Feb 11 15:55:57 localhost last message repeated 15 times
Feb 11 15:56:28 localhost kernel: usbcore: deregistering interface driver
uvcvideo
Feb 11 16:02:44 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
Crystal Eye webcam  (5986:0102)
Feb 11 16:02:44 localhost kernel: usbcore: registered new interface driver
uvcvideo
Feb 11 16:02:44 localhost kernel: USB Video Class driver (v0.1.0)
Feb 11 16:02:47 localhost kernel: uvcvideo: Failed to query (130) UVC
control 1 (unit 0) : 2 (exp. 26).
Feb 11 16:19:57 localhost kernel: uvcvideo: Failed to query (130) UVC
control 1 (unit 0) : 2 (exp. 26).
Feb 11 16:23:02 localhost urpmi: called with: svn
Feb 11 16:24:24 localhost rpmdrake[10276]: opening the RPM database
Feb 11 16:24:38 localhost rpmdrake: transaction on / (remove=0, install=0,
upgrade=4)
Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
libapr1-1.2.11-1mdv2008.0installed
Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
libapr-util1-1.2.10-1mdv2008.0 installed
Feb 11 16:24:40 localhost rpmdrake[10276]: [RPM]
libsvn0-1.4.5-5mdv2008.0installed
Feb 11 16:24:41 localhost rpmdrake[10276]: [RPM]
subversion-1.4.5-5mdv2008.0installed
Feb 11 16:24:43 localhost rpmdrake[10276]: opening the RPM database
Feb 11 16:26:26 localhost kernel: usbcore: deregistering interface driver
uvcvideo
Feb 11 16:26:53 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
Crystal Eye webcam  (5986:0102)
Feb 11 16:26:53 localhost kernel: usbcore: registered new interface driver
uvcvideo
Feb 11 16:26:53 localhost kernel: USB Video Class driver (SVN r177)
Feb 11 16:27:47 localhost kernel: uvcvideo: device Acer Crystal Eye webcam
requested null bandwidth, defaulting to lowest.
Feb 11 16:28:08 localhost kernel: uvcvideo: device Acer Crystal Eye webcam
requested null bandwidth, defaulting to lowest.
Feb 11 16:31:37 localhost kernel: restoring control 00000000-0000-0000-0000
-000000000101/0/2
Feb 11 16:31:37 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/1/3
Feb 11 16:31:37 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/2/6
Feb 11 16:31:37 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/3/7
Feb 11 16:31:37 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/5/9
Feb 11 16:31:45 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/0/2
Feb 11 16:31:45 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/1/3
Feb 11 16:31:45 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/2/6
Feb 11 16:31:45 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/3/7
Feb 11 16:31:45 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/5/9
Feb 11 16:38:43 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/0/2
Feb 11 16:38:43 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/1/3
Feb 11 16:38:43 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/2/6
Feb 11 16:38:43 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/3/7
Feb 11 16:38:43 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/5/9
Feb 11 16:39:20 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/0/2
Feb 11 16:39:20 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/1/3
Feb 11 16:39:20 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/2/6
Feb 11 16:39:20 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/3/7
Feb 11 16:39:20 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/5/9

you can tell me if you need more informations. i make a promise that as soon
as i get this webcam work well, I'll write a walkthrough for other people
that face the same problem.

Best Regard,


-- 
Udrescu Gabriel Florin - A.Faith
http://afaith.eu  - Lumea lui A.Faith
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080211/a25e8373/attachment.html>

From pl4nkton at googlemail.com  Mon Feb 11 22:12:18 2008
From: pl4nkton at googlemail.com (pl4nkton at googlemail.com)
Date: Mon, 11 Feb 2008 22:12:18 +0100
Subject: [Linux-uvc-devel] Philips SPC520NC - usbid 0471:0334
Message-ID: <c89e0ec50802111312n42904256w24f878b9dcb5afe2@mail.gmail.com>

Hello,

I have a Philips SPC520NC web cam with usbid 0471:0334.
dmesg:
USB Video Class driver (SVN r177)
uvcvideo: Found UVC 1.00 device USB Video Camera (0471:0334)

In egika i get only a small green/black picture with horizontal strips.

luvcview gives me:
Unable to set format: 22.
 Init v4L2 failed !! exit fatal
init_VideoIn failed

luvcview -f yuv works

ffmpeg works only for a dark picture
else it stops:
The v4l2 frame is 608940 bytes, but 614400 bytes are expected
frame=   28 q=24.3 Lsize=     188kB time=0.9 bitrate=1647.3kbits/s

each cam access make a new line in dmesg:
uvcvideo: device USB Video Camera requested null bandwidth, defaulting
to lowest.

skype works.

Regards,
nicolas
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: usb.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080211/d44853b6/attachment.txt>

From armando at goodship.net  Mon Feb 11 22:20:17 2008
From: armando at goodship.net (Armando Di Cianno)
Date: Mon, 11 Feb 2008 16:20:17 -0500
Subject: [Linux-uvc-devel] Dell XPS m1330 / usb 05a9:7670
In-Reply-To: <1202755845.9882.32.camel@localhost>
References: <1202754356.9882.29.camel@localhost>
	<47B0964C.3060009@derklecks.de>  <1202755845.9882.32.camel@localhost>
Message-ID: <1202764817.9882.40.camel@localhost>

I take it back -- the driver works.

* I had trouble and error messages from programs I tried (v4l v. v4l2
differences, I believe)
* The error continues to show in dmesg, but doesn't seem to cause any
ill effects (yet)

__armando

On Mon, 2008-02-11 at 13:50 -0500, Armando Di Cianno wrote:
> On Mon, 2008-02-11 at 19:39 +0100, Felix M??ller wrote:
> > > [ 2489.919715] usbcore: registered new interface driver uvcvideo
> > > [ 2489.919725] USB Video Class driver (v0.1.0)
> > are you sure you are using r177? The message should AFAIK look like the 
> > following:
> > usbcore: registered new interface driver uvcvideo
> > USB Video Class driver (SVN r177)
> 
> Hello, Felix.  Thanks for the quick response.
> 
> I was using gentoo ebuilds to help manage this -- and it looks like it
> is versionating the modules.  Just to be sure, I did it completely from
> a fresh checkout, and using insmod ./uvcvideo.ko got this:
> 
> [ 3155.616157] uvcvideo: Found UVC 1.00 device Laptop Integrated Webcam
> (05a9:7670)
> [ 3155.907511] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
> -110 (exp. 26).
> [ 3155.908924] usbcore: registered new interface driver uvcvideo
> [ 3155.908934] USB Video Class driver (SVN r177)
> 
-- 
Armando Di Cianno
http://dicianno.org/blog
armando at dicianno.org
armando at goodship.net




From mhenriquezs at terra.cl  Mon Feb 11 23:14:18 2008
From: mhenriquezs at terra.cl (Mauricio Henriquez)
Date: Mon, 11 Feb 2008 19:14:18 -0300
Subject: [Linux-uvc-devel] Eee PC UVC webcam streaming problem
In-Reply-To: <20080206195935.GA18008@via.ecp.fr>
References: <47A6626B.2010808@terra.cl>
	<47A6DFDD.7010204@sanslogic.co.uk>	<47A762E0.3040003@terra.cl>
	<47A765A6.7010909@sanslogic.co.uk>	<47A78044.8010204@terra.cl>
	<20080204212222.GC24860@via.ecp.fr>	<47A8A002.1030805@terra.cl>
	<20080206195935.GA18008@via.ecp.fr>
Message-ID: <47B0C8BA.4050404@terra.cl>

Hi:

Ok, here what i did to get a straming from the uvc EeePc integrated 
webcam, no vlc or ffmpeg sources/compilation is needed:
1.- enable webcam device on BIOS
2.- make a symbolinc link from /dev/vide0 to /dev/video (ln -s 
/dev/video0 /dev/video , make sure that the /dev/video0 exist before 
make the link, if not exist start the camera as is explained in point 
3)..(ffmpeg check for the "video" device (without number) even if you 
specifie /dev/video0...
3.- Some config problem can disable the webcam, so is good to have at 
hand a script like this to enable again the webcam (runit when is needed 
with a simple ./enablecamera.sh), like a enablecamera.sh with this:
#!/bin/sh
if [ $(cat /proc/acpi/asus/camera) = "1" ]; then
        echo 0 > /proc/acpi/asus/camera
        sleep 1
fi

sudo echo 1 > /proc/acpi/asus/camera

until [ -a /dev/video0 ] ; do
        sleep 1
done

4.- you can check if ffmpeg is working capturing a sample video with:
ffmpeg -f video4linux2 -s 320x240 -r 5 -i /dev/video0 -f m4v out.m4v

5.- backup the /etc/ffserver.conf file (just in case :-)

6.- change the ffserver.conf file like (other formats in ffmpeg 
documentation, the values are good for quick streaming you can change, 
framerate, size, etc):
Port 8090
# bind to all IPs aliased or not
BindAddress 0.0.0.0
# max number of simultaneous clients
MaxClients 1000
# max bandwidth per-client (kb/s)
MaxBandwidth 10000
# Suppress that if you want to launch ffserver as a daemon.
NoDaemon

<Feed feed1.ffm>
File /tmp/feed1.ffm
FileMaxSize 5M
</Feed>

<Stream test.swf>
Feed feed1.ffm
Format swf
VideoCodec flv
VideoFrameRate 10
VideoBufferSize 200000
VideoBitRate 100
VideoQMin 1
VideoQMax 5
VideoSize 128x96
PreRoll 0
Noaudio
</Stream>

7.- start ffserver (if some warning show up about size or bitrate just 
stop the server wit a  ctrl+c and ffserver command again:
ffserver

8.- start the streaming seed (-r have to be acording to the 
VideoFramRate in ffserver.conf, the same for the -s parameter):
ffmpeg -r 10 -s 128x96 -f video4linux2 -i /dev/video0 
http://localhost:8090/feed1.ffm

9.- in the destination machine mahe a simple EeeCamera.html file with 
this (change 192.168.0.101 with the EeePC IP address, you can chose here 
a more big size like 320x240 if is needed):
<EMBED src="http://192.168.0.101:8090/test.swf" width=320 height=240
type="application/x-shockwave-flash"></EMBED>

10.- Open the EeeCamera.html file with mozilla, firefox or iexplorer...


Cheers,

Mauricio

P.D: I know that vlc can use all that with ffmpeg, but my vlc on xandros 
on my eeepc refuse to work with the camera, so probably is not a nice 
clean way but at least work :-) if you have any recomendation to do 
exactly the same with vlc i can try it here..


Antoine Cellerier wrote:
> On Tue, Feb 05, 2008, Mauricio Henriquez wrote:
>   
>> with the last vlc sources the EeePC webcam work?, or is only a 
>> posibility?, i ask that becouse vlc use ffmpeg and if i have problems 
>> with ffmpeg so may be i ave to update ffmpeg instan of vlc, also there 
>> is any other alternative?, i think that compile vlc and/or ffmpeg is 
>> going to take to much space of the tiny EeePC hd...
>>     
>
> I honestly don't have a clue (as I don't own an EeePC). VLC uses ffmpeg
> for some stuff, not everything. So you might get lucky. (The v4l2 access
> is completely independant from ffmpeg, and according to your email that
> was the problematic part)
>
>   



From nick at datacall.net.au  Mon Feb 11 23:07:36 2008
From: nick at datacall.net.au (Nick Sonneveld)
Date: Tue, 12 Feb 2008 09:07:36 +1100
Subject: [Linux-uvc-devel] Creative Live! Cam Optia - horrible image quality
Message-ID: <B10472081C389346A5EDD5CC436762BA41FF93@fulgur.POWERCOM.local>

G'day,

>Just acquired two Optias (not AF) for use on dell laptops running
Ubuntu 
>Gutsy, after spotting them on the http://linux-uvc.berlios.de/#devices
page.
 
>Got them to work with Ekiga after selecting v4l2 but with horrible
quality.
>Compiled luvcview and that gave just slightly better quality. 

I've noticed the same problem you've been having but with the Creative
Optia *AF*.
 
When I plug it into a machine that only has low/full speed usb (max
12mbit/s), either the driver or the hardware restricts me to MJPG at a
max res of 640x480 (with poor quality). If I plug it into a machine with
hi-speed usb (max 480mbit/s) then I can choose MJPG (with better
quality) or YUYV with a max resolution of around 1600x1200.  Something
must happen at the webcam interrogation to determine which formats are
available.

Check your logs when you plug in the webcam.  If it says xxx_ohci
instead of xxx_ehci, then you're probably just running at lo/full speed.

eg:
Feb 11 11:54:42 xxxx user.info kernel: usb 1-2: USB disconnect, address
3
Feb 11 11:54:50 xxxx user.info kernel: usb 1-2: new full speed USB
device using at91_ohci and address 4
Feb 11 11:54:50 xxxx user.info kernel: usb 1-2: configuration #1 chosen
from 1 choice
Feb 11 11:54:50 xxxx user.info kernel: uvcvideo: Found UVC 1.00 device
<unnamed> (041e:4058)

The fix for me was to either run on a machine with a better usb
controller or to make sure your xxx_ehci module is running (check
through modprobe). Or possibly checkout the latest version of the
uvcvideo module from svn.

- Nick


From laurent.pinchart at skynet.be  Mon Feb 11 23:42:13 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 11 Feb 2008 23:42:13 +0100
Subject: [Linux-uvc-devel] Problem with Acer Crystal eye Webcam
In-Reply-To: <4d9ba24a0802111100q51b22d84s7ca9d3ecb917459c@mail.gmail.com>
References: <4d9ba24a0802111100q51b22d84s7ca9d3ecb917459c@mail.gmail.com>
Message-ID: <200802112342.13124.laurent.pinchart@skynet.be>

Hi Gabriel,


On Monday 11 February 2008, Udrescu Gabriel Florin wrote:
> Hello there!
> I've got a problem with my newly bought Acer laptop. I've managed to make
> almost everything work, except my Acer Crystal Eye Webcam. Following this
> solution (
> http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002394.html
>) I've managed to make it run with Kopete. Skype still does not initialize
> it, although he finds it on /dev/video0 and recognizes its name (Acer
> CrystalEye Webcam). Neither Adobe Flash doesn't work with it.
> I've got the latest Linux-UVC running, compilled from the SVN trunk. the
> revision i've got it's r177. I'm running Mandriva 2008 with the following
> kernel :
> Linux localhost 2.6.22.12-laptop-1mdv #1 SMP Tue Nov 20 09:05:54 EST 2007
> i686 AMD Turion(tm) 64 X2 Mobile Technology TL-58 GNU/Linux
>
> lsusb says this :
> lsusb
> Unknown line at line 2389
> Bus 002 Device 001: ID 0000:0000
> Bus 001 Device 002: ID 5986:0102
> Bus 001 Device 001: ID 0000:0000
>
> and lsusb's more verbose output is the one you can find here :
> http://pastebin.com/f4542003d
>
> down here, you can find a little information related to this webcam from my
> syslog :
>
> Feb 11 15:53:46 localhost kernel: uvcvideo: Failed to query (130) UVC
> control 1 (unit 0) : 2 (exp. 26).
> Feb 11 15:55:27 localhost last message repeated 3 times
> Feb 11 15:55:57 localhost last message repeated 15 times
> Feb 11 15:56:28 localhost kernel: usbcore: deregistering interface driver
> uvcvideo
> Feb 11 16:02:44 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
> Crystal Eye webcam  (5986:0102)
> Feb 11 16:02:44 localhost kernel: usbcore: registered new interface driver
> uvcvideo
> Feb 11 16:02:44 localhost kernel: USB Video Class driver (v0.1.0)

The message should be "USB Video Class driver (SVN r177)". Please make sure 
you're not using an older driver supplied with your distribution. Remove all 
occurrences of uvcvideo.ko in /lib/modules/<kernel version> and reinstall it 
from SVN.

> Feb 11 16:02:47 localhost kernel: uvcvideo: Failed to query (130) UVC
> control 1 (unit 0) : 2 (exp. 26).
> Feb 11 16:19:57 localhost kernel: uvcvideo: Failed to query (130) UVC
> control 1 (unit 0) : 2 (exp. 26).

Those messages should go away with r177.

> Feb 11 16:23:02 localhost urpmi: called with: svn
> Feb 11 16:24:24 localhost rpmdrake[10276]: opening the RPM database
> Feb 11 16:24:38 localhost rpmdrake: transaction on / (remove=0, install=0,
> upgrade=4)
> Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> libapr1-1.2.11-1mdv2008.0installed
> Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> libapr-util1-1.2.10-1mdv2008.0 installed
> Feb 11 16:24:40 localhost rpmdrake[10276]: [RPM]
> libsvn0-1.4.5-5mdv2008.0installed
> Feb 11 16:24:41 localhost rpmdrake[10276]: [RPM]
> subversion-1.4.5-5mdv2008.0installed
> Feb 11 16:24:43 localhost rpmdrake[10276]: opening the RPM database
> Feb 11 16:26:26 localhost kernel: usbcore: deregistering interface driver
> uvcvideo
> Feb 11 16:26:53 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
> Crystal Eye webcam  (5986:0102)
> Feb 11 16:26:53 localhost kernel: usbcore: registered new interface driver
> uvcvideo
> Feb 11 16:26:53 localhost kernel: USB Video Class driver (SVN r177)
> Feb 11 16:27:47 localhost kernel: uvcvideo: device Acer Crystal Eye webcam
> requested null bandwidth, defaulting to lowest.
> Feb 11 16:28:08 localhost kernel: uvcvideo: device Acer Crystal Eye webcam
> requested null bandwidth, defaulting to lowest.
> Feb 11 16:31:37 localhost kernel: restoring control 00000000-0000-0000-0000
> -000000000101/0/2
> Feb 11 16:31:37 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/1/3
> Feb 11 16:31:37 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/2/6
> Feb 11 16:31:37 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/3/7
> Feb 11 16:31:37 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/5/9
> Feb 11 16:31:45 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/0/2
> Feb 11 16:31:45 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/1/3
> Feb 11 16:31:45 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/2/6
> Feb 11 16:31:45 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/3/7
> Feb 11 16:31:45 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/5/9
> Feb 11 16:38:43 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/0/2
> Feb 11 16:38:43 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/1/3
> Feb 11 16:38:43 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/2/6
> Feb 11 16:38:43 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/3/7
> Feb 11 16:38:43 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/5/9
> Feb 11 16:39:20 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/0/2
> Feb 11 16:39:20 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/1/3
> Feb 11 16:39:20 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/2/6
> Feb 11 16:39:20 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/3/7
> Feb 11 16:39:20 localhost kernel: restoring control
> 00000000-0000-0000-0000-000000000101/5/9
>
> you can tell me if you need more informations. i make a promise that as
> soon as i get this webcam work well, I'll write a walkthrough for other
> people that face the same problem.

I'll try to remember that :-)

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Feb 11 23:57:24 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 11 Feb 2008 23:57:24 +0100
Subject: [Linux-uvc-devel] select() problems with uvc drivers.
In-Reply-To: <47AFA0C5.6050307@gmail.com>
References: <47AFA0C5.6050307@gmail.com>
Message-ID: <200802112357.24363.laurent.pinchart@skynet.be>

Hi Christopher,

On Monday 11 February 2008, Christopher Harvey wrote:
> Hello,
> I sent this to the video 4 linux mailing list earlier, but perhaps it's
> more appropriate here since the code is very uvc specific.

Actually the bug is in your application, so it's not UVC specific :-)

> I've created a small c program that uses pure v4l2 code to read from a
> webcam on a uvc driver then copy that data into an SDL overlay. I've
> posted the code here:
> http://basementcode.com/serverMain.html
> and I've attached a log file I created from the output of that program.
> Overall the program works great except that after a few frames, about 35
> (varies each run) in my case, the select() function that is supposed to
> block until new data from the webcam is available stops working and
> returns right away. This isn't a huge problem because the following
> ioctl(fd, VIDIOC_DQBUF, &buf)
> call simply fails and sets errno to EAGAIN, then my app simply tries
> again and again until it works. I'd rather select worked for the entire
> duration of the capture to save cpu time and make sure that I read the
> frame asap each time. The relevant function in the code I posted above
> is "mainLoop", however I can't be sure the error is actually in that
> function. I hope I've posted enough information.

Your error is here:

  timeout.tv_sec = 2;
  timeout.tv_usec = 0;

  for(i = 0;i<200;i++)
  {
      FD_ZERO(&fds);
      FD_SET(fd, &fds);

      if(select(fd+1, &fds, NULL, NULL, &timeout)==-1)
      {
          printf("Error with select.\n");
          break;
      }

select() modifies the timeout parameter to return the remaining time. Your 
application will see timeout slowly decrementing until it reaches 0. select() 
will then always return immediately.

You must reinitialise timeout in the for loop.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 12 00:02:19 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 12 Feb 2008 00:02:19 +0100
Subject: [Linux-uvc-devel] Logitech Quickcam Deluxe (0x046d:0x0992) is
	temperamental
In-Reply-To: <112961.16998.qm@web52905.mail.re2.yahoo.com>
References: <112961.16998.qm@web52905.mail.re2.yahoo.com>
Message-ID: <200802120002.19785.laurent.pinchart@skynet.be>

On Sunday 10 February 2008, Chris Rankin wrote:
> --- Laurent Pinchart <laurent.pinchart at skynet.be> wrote:
> > Could you check the kernel log (using the dmesg command) to see if the
> > driver reports errors when you get no picture in Ekiga ?
>
> OK. No messages are reported other than:
>
> usb 1-2: new high speed USB device using ehci_hcd and address 8
> usb 1-2: configuration #1 chosen from 1 choice
> uvcvideo: Found UVC 1.00 device <unnamed> (046d:0992)
>
> For what it's worth, I can change the uniformly black picture to various
> uniform shades of grey by adjusting the brightness and contrast controls.
> And yes, I have raised the lens shutter cover ;-).

As the driver doesn't perform any image processing, changes in the shade of 
grey indicate that the driver and application work correctly :-)

Have you tried asking for help on the quickcamteam.net forums ? This seems to 
be Logitech specific, people there might have more information.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 12 00:03:14 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 12 Feb 2008 00:03:14 +0100
Subject: [Linux-uvc-devel] Fwd: Philips SPC525NC
In-Reply-To: <200802101046.38171.Detlef.Eberhardt@xtra.co.nz>
References: <200802101046.38171.Detlef.Eberhardt@xtra.co.nz>
Message-ID: <200802120003.14287.laurent.pinchart@skynet.be>

Hi,

On Saturday 09 February 2008, Detlef Eberhardt wrote:
> Hi all,
>
> thanks for the uvc driver. I just want to let you know that the driver
> works fine with my web cam Philips SPC525NC tested with skype 2.0.0.43 and
> Kopete 0.12.7 (using KDE 3.5.8) on a Debian testing AMD64 system.

Thanks for the report. Could you please post the output of lsusb -v (using 
usbutils 0.72 or newer) ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 12 00:03:50 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 12 Feb 2008 00:03:50 +0100
Subject: [Linux-uvc-devel] 064e:a101 Suyin Corp. and Skype-2.0.0.43-suse
	partial success
In-Reply-To: <47ADFE71.7050304@blueyonder.co.uk>
References: <47ADFE71.7050304@blueyonder.co.uk>
Message-ID: <200802120003.50182.laurent.pinchart@skynet.be>

On Saturday 09 February 2008, Sid Boyce wrote:
> With svn at revision 177, I can now get a picture when I do the skype
> camera test, but it freezes after a few frames. Camera is built-in on
> Acer Travelmate 7520 laptop.

Any suspicious message in the kernel log ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 12 00:13:50 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 12 Feb 2008 00:13:50 +0100
Subject: [Linux-uvc-devel] AMSN crashes (Was: xawtv crashes)
In-Reply-To: <200802062002.34240.jice@free.fr>
References: <200801261600.23740.tux.le.pingouin@free.fr>
	<200802032010.03001.laurent.pinchart@skynet.be>
	<200802062002.34240.jice@free.fr>
Message-ID: <200802120013.50998.laurent.pinchart@skynet.be>

On Wednesday 06 February 2008, Jean-Christophe Jice Cardot wrote:
> Le dimanche 3 f?vrier 2008, vous avez ?crit :
> > Hi,
> >
> > On Saturday 26 January 2008, Jice wrote:
> > > Hi Laurent
> > >
> > > I'm using version 173 or the driver now and it works perfectly with
> > > luvcview, and I just managed to have ekiga display the webcam also 5
> > > minutes ago.
> > >
> > > Unfortunately I'm trying to use the webcam to chat with people using
> > > skype (forget it) or msn. Nor Amsn or Kopete are willing to display
> > > anything. Amsn crashes, and Kopete only display garbage :-(
> > > I tried xawtv (which always worked with my old cam and my old tv card)
> > > but it also segfaults (I'm using the 3.95-7mdv version from Mandriva).
> > > Did you hear something about xawtv crashing with uvcvideo? And the 2
> > > above?
> > >
> > > Sorry to bother you but I'm searching for a few weeks and cannot find
> > > anything.
> >
> > Check the kernel log (dmesg) after aMsn/Kopete/xaxtv failures to see if
> > the driver prints any error/warning message. If so, please report them on
> > the linux-uvc-devel mailing list.
> >
> > Best regards,
> >
> > Laurent Pinchart
>
> Hi Laurent
>
> For kopete I already reported the problem on the ml, for xawtv I've
> isolated the crash (thanks gdb ;) and will post another email.
>
> For AMSN crash, nothing in the kernel log, just the following output:
>
> ioctl: VIDIOC_QUERYMENU(id=134217738;index=0;name="60
> Hz";reserved=3081900320): Invalid argument
> ioctl: VIDIOC_QUERYMENU(id=134217738;index=0;name="60
> Hz";reserved=3081900320): Invalid argument
> Corrupt JPEG data: premature end of data segment
> Invalid JPEG file structure: two SOI markers
> Oops: malloc_video_bufs is 1 (expected 0)
> [utils/linux/capture/libng/grab-ng.c:malloc_bufs_check:235]
> Oops: processes is 1 (expected 0)
> [utils/linux/capture/libng/convert.c:process_check:179]
>
> Must be a bug in Amsn (?), or could it be a problem with the webcam (as it
> says that the jpeg stream is corrupted) ?

Data corruption can occur, as isochronous USB transfers offer no guarantee. 
The application shouldn't crash, it's definitely a bug. Unfortunately there 
is no way for the driver to detect data corruption when transfering 
compressed (MJPEG) streams, so I can't drop corrupted compressed frames.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 12 00:16:01 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 12 Feb 2008 00:16:01 +0100
Subject: [Linux-uvc-devel] xawtv crash
In-Reply-To: <200802062146.43972.jice@free.fr>
References: <200802062146.43972.jice@free.fr>
Message-ID: <200802120016.01732.laurent.pinchart@skynet.be>

On Wednesday 06 February 2008, Jean-Christophe Jice Cardot wrote:
> ok here it is. xawtv crash with uvcvideo rel 173, webcam philips spc1000nc.
>
> the crash must be a bug in xawtv (?). In libng/grab-ng.c, line 235 says:
> for (i = 0; attr->choices[i].str != NULL; i++)
>
> but for one of the attr(ibutes), attr->choices is NULL, which leads to
> segfault. For information, the attribute's name is "Exposure, Auto" (which
> must be different from another attribute whose name is "Exposure, Auto
> Priority" and whose possible values are true/false).
>
> this attribute comes from the following v4l init code (add_attrs):
>
> static void
> grabber_init(void)
> {
>     drv = ng_vid_open(ng_dev.video,NULL,NULL,0,&h_drv);
>     if (NULL == drv) {
>         fprintf(stderr,"no grabber device available\n");
>         exit(1);
>     }
>     f_drv = drv->capabilities(h_drv);
>     add_attrs(drv->list_attrs(h_drv));
> }
>
> where list_attrs is :
> static struct ng_attribute* v4l2_attrs(void *handle)
> {
>     struct v4l2_handle *h = handle;
>     return h->attr;
> }
>
> hence the faulty attribute comes directly from the driver (if I get it
> right). Is it normal that the attribute has no possible choice (so it would
> be an xawtv bug) or could it be a driver's bug? (I must admit I'm stuck
> there...)

xawtv shouldn't crash, but it might be a problem in the driver. Could you 
please try with SVN r179 (or newer) ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 12 00:21:24 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 12 Feb 2008 00:21:24 +0100
Subject: [Linux-uvc-devel] Omnivision Technologies ID 05a9:7670
In-Reply-To: <954278.24206.qm@web27902.mail.ukl.yahoo.com>
References: <954278.24206.qm@web27902.mail.ukl.yahoo.com>
Message-ID: <200802120021.24950.laurent.pinchart@skynet.be>

Hi Jorges,

On Thursday 07 February 2008, jorgesmbox-ml at yahoo.es wrote:
> I have a Dell XPS m1330 that comes withis webcam. It works ok (mplayer,
> skype-2.0.0.27), even if there is an error message in dmesg output (see
> below, there's also the lsusb -v output). What's the meaning of this
> error? Is there any functionality missing because of it?

The "uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -110 (exp. 26)." 
message can be safely ignored. A mandatory request isn't implemented by the 
camera, but the UVC driver can work around the problem.

> A bit out of topic: Is it possible to get "raw" output from this
> camera? With what program? Do i have to make one specifically? By "raw"
> I mean no color-processing, no gamma correction, no compression, etc.
> Please excuse me if this question is ridiculous, I work on image
> processing algorithms but have no idea about the UVC devices.

Real raw output is device specific. You can get close to it by using an 
uncompressed format (YUV as opposed to MJPEG) and disabling auto exposure, 
auto white balance, ... Disabling color processing might be possible but only 
the chipset vendor can tell you how. Logitech published information about raw 
Bayer mode for some models some months ago on this list (you might be able to 
find the info on quickcamteam.net).

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 12 00:29:49 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 12 Feb 2008 00:29:49 +0100
Subject: [Linux-uvc-devel] hp dv6744 webcam
In-Reply-To: <20080209093122.GB22381@plankton.ifup.org>
References: <a7bfb7650802090104w39162603if1dafca3a05de827@mail.gmail.com>
	<20080209093122.GB22381@plankton.ifup.org>
Message-ID: <200802120029.49545.laurent.pinchart@skynet.be>

On Saturday 09 February 2008, Brandon Philips wrote:
> On 10:04 Sat 09 Feb 2008, Borje Holmberg wrote:
> > Here is the specs for the built in webcam of unknown model for my
> > laptop hp dv6744. Greatful for any light on whether it is possible to
> > get to work on linux.
>
> Your device appears to be a UVC device.  You can either build the UVC
> driver or grab it from your distro.
>
> build steps
> -----------
>
> # svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk uvc
> # cd uvc
> # make
> # su
> # make install
>
> Plug-in device and test- luvcview[1] is a good place to start.

I'd like to take this opportunity to say a big thank you to all of you for 
helping eachothers. Every answer any of you writes saves me time that I can 
spend on the driver itself. I'm really happy to see a community building up 
around the Linux UVC driver.

Borje, I'd appreciate if you could report any success (or failure) here, so 
that I can add the camera to the supported devices list.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 12 00:41:28 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 12 Feb 2008 00:41:28 +0100
Subject: [Linux-uvc-devel] ALI 5606
In-Reply-To: <200802032045.52185.mikiwoz@yahoo.co.uk>
References: <200801301140.27889.mikiwoz@yahoo.co.uk>
	<200802032010.25099.laurent.pinchart@skynet.be>
	<200802032045.52185.mikiwoz@yahoo.co.uk>
Message-ID: <200802120041.28260.laurent.pinchart@skynet.be>

Hi Mike,

On Sunday 03 February 2008, Micha? Andrzej Wo?niak wrote:
> Dnia niedziela 03 luty 2008, Laurent Pinchart napisa?(a):
> > Hi Mike,
> >
> > On Wednesday 30 January 2008, Micha? Andrzej Wo?niak wrote:
> > > Hi guys
> > >
> > > I am trying to get ALI 5606 to work (ID 0402:5606) on Kubuntu 7.10
> > > (Gutsy Gibbon).
> > >
> > > The uvcvideo module (from SVN, rev173) compiled nicely and loads OK,
> > > but does *not* print anything in dmesg/syslog upon loading. When I try
> > > to run luvcview, I get:
> > >
> > > luvcview version 0.2.1
> > > Video driver: x11
> > > A window manager is available
> > > video /dev/video0
> > > Unable to set format: 5.
> > >  Init v4L2 failed !! exit fatal
> > >
> > > ...regardless, what format and/or other settings I use. On syslog/dmesg
> > > I ony get:
> > >
> > > uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 2 (exp. 26).
> > >
> > > That is *very similar* to what has been described (and marked as
> > > solved!) here:
> > > http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002486.
> > >ht ml
> > >
> > > I even checked uvc_driver.c and I *do* have the lines as they should
> > > look after the patch has been applied. So, most probably, I am missing
> > > something very obvious. Or am I not?..
> >
> > Please make sure you're really using the driver you compiled and not an
> > older version installed with your distribution. Remove all occurrences of
> > uvcvideo.ko in /lib/modules/<kernel_version> and reinstall the driver
> > from sources.
> >
> > Best regards,
> >
> > Laurent Pinchart
>
> Thanks, Laurent! That solved it, turns out (K)ubuntu ships with some
> (older) version of uvcvideo... Now, everything works like a charm! Where do
> I send the flowers/beer*? ;)
>
> *) select one

As I don't like beer (and yes I'm truly Belgian) I guess I'll go for the 
flowers (or maybe Vodka as your name sounds Polish - can you get some good 
Krupnik ? :-))

> And just to get this noted (might save somebody some frustration): if you
> are running compiz/beryl and get crashes upon running luvcview ("X Error of
> failed request: BadAlloc"), you are probably running an Intel 965/X3100.
> Try the "-w" luvcview option to disable the buggy (on this particular card
> and with compiz...) SDL acceleration.

Best regards,

Laurent Pinchart


From sboyce at blueyonder.co.uk  Tue Feb 12 02:07:10 2008
From: sboyce at blueyonder.co.uk (Sid Boyce)
Date: Tue, 12 Feb 2008 01:07:10 +0000
Subject: [Linux-uvc-devel] 064e:a101 Suyin Corp. and Skype-2.0.0.43-suse
	partial success
In-Reply-To: <47ADFE71.7050304@blueyonder.co.uk>
References: <47ADFE71.7050304@blueyonder.co.uk>
Message-ID: <47B0F13E.6000503@blueyonder.co.uk>

Sid Boyce wrote:
> With svn at revision 177, I can now get a picture when I do the skype 
> camera test, but it freezes after a few frames. Camera is built-in on 
> Acer Travelmate 7520 laptop.
> Regards
> Sid.

Latest try with revision 177, dmesg output.
[10936.211150] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
[10936.211166] ioctl32(skype:28263): Unknown cmd fd(28) 
cmd(c0cc5616){t:'V';sz:204} arg(f6162e40) on /dev/video0
[10943.613436] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
[10943.613436] ioctl32(skype:28263): Unknown cmd fd(28) 
cmd(c0cc5616){t:'V';sz:204} arg(f6162e30) on /dev/video0
[10943.620761] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
[10943.620769] ioctl32(skype:28263): Unknown cmd fd(28) 
cmd(c0cc5616){t:'V';sz:204} arg(f6162e00) on /dev/video0
[10942.250515] PGD 8063 PUD 0
[10942.250523] CPA ffff810080000000 no pte level 0
[10942.367316] PGD 8063 PUD 0
[10942.367324] CPA ffff810080000000 no pte level 0
[10942.415711] PGD 8063 PUD 0
[10942.415720] CPA ffff810080000000 no pte level 0
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).

Regards
Sid.
-- 
Sid Boyce ... Hamradio License G3VBV, Licensed Private Pilot
Emeritus IBM/Amdahl Mainframes and Sun/Fujitsu Servers Tech Support 
Specialist, Cricket Coach
Microsoft Windows Free Zone - Linux used for all Computing Tasks



From sboyce at blueyonder.co.uk  Tue Feb 12 02:40:40 2008
From: sboyce at blueyonder.co.uk (Sid Boyce)
Date: Tue, 12 Feb 2008 01:40:40 +0000
Subject: [Linux-uvc-devel] revision 179 build errors on AMD64
In-Reply-To: <47ADFE71.7050304@blueyonder.co.uk>
References: <47ADFE71.7050304@blueyonder.co.uk>
Message-ID: <47B0F918.4050904@blueyonder.co.uk>


This is as is and when I place #include "uvc_compat.h" after #include 
"uvcvideo.h"

sepulot:/usr/src/UVC/trunk # make clean && make && make install
rm -f *.o *.ko .*.cmd .*.flags *.mod.c Module.symvers version.h
rm -rf .tmp_versions
Building USB Video Class driver...
make[1]: Entering directory `/usr/src/linux-2.6.25-rc1'
   CC [M]  /usr/src/UVC/trunk/uvc_driver.o
   CC [M]  /usr/src/UVC/trunk/uvc_queue.o
   CC [M]  /usr/src/UVC/trunk/uvc_v4l2.o
   CC [M]  /usr/src/UVC/trunk/uvc_video.o
   CC [M]  /usr/src/UVC/trunk/uvc_ctrl.o
/usr/src/UVC/trunk/uvc_ctrl.c:232: error: ?V4L2_CID_SHARPNESS? 
undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:252: error: 
?V4L2_CID_BACKLIGHT_COMPENSATION? undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:272: error: 
?V4L2_CID_POWER_LINE_FREQUENCY? undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:284: error: ?V4L2_CID_HUE_AUTO? undeclared 
here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:294: error: ?V4L2_CID_EXPOSURE_AUTO? 
undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:306: error: 
?V4L2_CID_EXPOSURE_AUTO_PRIORITY? undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:316: error: ?V4L2_CID_EXPOSURE_ABSOLUTE? 
undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:336: error: 
?V4L2_CID_WHITE_BALANCE_TEMPERATURE? undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:346: error: ?V4L2_CID_FOCUS_ABSOLUTE? 
undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:356: error: ?V4L2_CID_FOCUS_AUTO? 
undeclared here (not in a function)
make[2]: *** [/usr/src/UVC/trunk/uvc_ctrl.o] Error 1
make[1]: *** [_module_/usr/src/UVC/trunk] Error 2
make[1]: Leaving directory `/usr/src/linux-2.6.25-rc1'
make: *** [uvcvideo] Error 2

If I put #include "uvc_compat.h" at the top of the includes.
sepulot:/usr/src/UVC/trunk # make clean && make
rm -f *.o *.ko .*.cmd .*.flags *.mod.c Module.symvers version.h
rm -rf .tmp_versions
Building USB Video Class driver...
make[1]: Entering directory `/usr/src/linux-2.6.25-rc1'
   CC [M]  /usr/src/UVC/trunk/uvc_driver.o
   CC [M]  /usr/src/UVC/trunk/uvc_queue.o
   CC [M]  /usr/src/UVC/trunk/uvc_v4l2.o
   CC [M]  /usr/src/UVC/trunk/uvc_video.o
   CC [M]  /usr/src/UVC/trunk/uvc_ctrl.o
In file included from include/asm/mutex.h:4,
                  from /usr/src/UVC/trunk/uvc_compat.h:255,
                  from /usr/src/UVC/trunk/uvc_ctrl.c:14:
include/asm/mutex_64.h:49: error: expected ?)? before ?*? token
include/asm/mutex_64.h:97: error: expected ?)? before ?*? token
/usr/src/UVC/trunk/uvc_ctrl.c:233: error: ?V4L2_CID_SHARPNESS? 
undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:253: error: 
?V4L2_CID_BACKLIGHT_COMPENSATION? undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:273: error: 
?V4L2_CID_POWER_LINE_FREQUENCY? undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:285: error: ?V4L2_CID_HUE_AUTO? undeclared 
here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:295: error: ?V4L2_CID_EXPOSURE_AUTO? 
undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:307: error: 
?V4L2_CID_EXPOSURE_AUTO_PRIORITY? undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:317: error: ?V4L2_CID_EXPOSURE_ABSOLUTE? 
undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:337: error: 
?V4L2_CID_WHITE_BALANCE_TEMPERATURE? undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:347: error: ?V4L2_CID_FOCUS_ABSOLUTE? 
undeclared here (not in a function)
/usr/src/UVC/trunk/uvc_ctrl.c:357: error: ?V4L2_CID_FOCUS_AUTO? 
undeclared here (not in a function)
make[2]: *** [/usr/src/UVC/trunk/uvc_ctrl.o] Error 1
make[1]: *** [_module_/usr/src/UVC/trunk] Error 2
make[1]: Leaving directory `/usr/src/linux-2.6.25-rc1'
make: *** [uvcvideo] Error 2

Revision 177 is OK except as previously posted, the video freezes in 
skype after a number of frames.
Regards
Sid.
-- 
Sid Boyce ... Hamradio License G3VBV, Licensed Private Pilot
Emeritus IBM/Amdahl Mainframes and Sun/Fujitsu Servers Tech Support 
Specialist, Cricket Coach
Microsoft Windows Free Zone - Linux used for all Computing Tasks



From sboyce at blueyonder.co.uk  Tue Feb 12 02:46:09 2008
From: sboyce at blueyonder.co.uk (Sid Boyce)
Date: Tue, 12 Feb 2008 01:46:09 +0000
Subject: [Linux-uvc-devel] 064e:a101 Suyin Corp. and Skype-2.0.0.43-suse
 partial success
In-Reply-To: <200802120003.50182.laurent.pinchart@skynet.be>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<200802120003.50182.laurent.pinchart@skynet.be>
Message-ID: <47B0FA61.4080802@blueyonder.co.uk>

Laurent Pinchart wrote:
> On Saturday 09 February 2008, Sid Boyce wrote:
>> With svn at revision 177, I can now get a picture when I do the skype
>> camera test, but it freezes after a few frames. Camera is built-in on
>> Acer Travelmate 7520 laptop.
> 
> Any suspicious message in the kernel log ?
> 
> Best regards,
> 
> Laurent Pinchart
> 
> 

I posted more dmesg info just a while ago. Also another post about build 
errors on revision 179.

[10936.211150] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
[10936.211166] ioctl32(skype:28263): Unknown cmd fd(28) 
cmd(c0cc5616){t:'V';sz:204} arg(f6162e40) on /dev/video0
[10943.613436] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
[10943.613436] ioctl32(skype:28263): Unknown cmd fd(28) 
cmd(c0cc5616){t:'V';sz:204} arg(f6162e30) on /dev/video0
[10943.620761] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
[10943.620769] ioctl32(skype:28263): Unknown cmd fd(28) 
cmd(c0cc5616){t:'V';sz:204} arg(f6162e00) on /dev/video0
[10942.250515] PGD 8063 PUD 0
[10942.250523] CPA ffff810080000000 no pte level 0
[10942.367316] PGD 8063 PUD 0
[10942.367324] CPA ffff810080000000 no pte level 0
[10942.415711] PGD 8063 PUD 0
[10942.415720] CPA ffff810080000000 no pte level 0
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).
[10962.712515] uvcvideo: Failed to resubmit video URB (-45).
Regards
Sid.
-- 
Sid Boyce ... Hamradio License G3VBV, Licensed Private Pilot
Emeritus IBM/Amdahl Mainframes and Sun/Fujitsu Servers Tech Support 
Specialist, Cricket Coach
Microsoft Windows Free Zone - Linux used for all Computing Tasks



From brandon at ifup.org  Tue Feb 12 03:02:45 2008
From: brandon at ifup.org (Brandon Philips)
Date: Mon, 11 Feb 2008 18:02:45 -0800
Subject: [Linux-uvc-devel] revision 179 build errors on AMD64
In-Reply-To: <47B0F918.4050904@blueyonder.co.uk>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<47B0F918.4050904@blueyonder.co.uk>
Message-ID: <20080212020245.GA26169@plankton.ifup.org>

On 01:40 Tue 12 Feb 2008, Sid Boyce wrote:
> This is as is and when I place #include "uvc_compat.h" after #include 
> "uvcvideo.h"

We are in the middle of getting UVC into mainline and this is a bit of
the fallout.  The build should only be broken for 2.6.25 users.

Mauro- can we get the control definitions into the next RC?

> sepulot:/usr/src/UVC/trunk # make clean && make && make install
> rm -f *.o *.ko .*.cmd .*.flags *.mod.c Module.symvers version.h
> rm -rf .tmp_versions
> Building USB Video Class driver...
> make[1]: Entering directory `/usr/src/linux-2.6.25-rc1'
>    CC [M]  /usr/src/UVC/trunk/uvc_driver.o
>    CC [M]  /usr/src/UVC/trunk/uvc_queue.o
>    CC [M]  /usr/src/UVC/trunk/uvc_v4l2.o
>    CC [M]  /usr/src/UVC/trunk/uvc_video.o
>    CC [M]  /usr/src/UVC/trunk/uvc_ctrl.o
> /usr/src/UVC/trunk/uvc_ctrl.c:232: error: ?V4L2_CID_SHARPNESS? 
> undeclared here (not in a function)
> /usr/src/UVC/trunk/uvc_ctrl.c:252: error: 
...
> Revision 177 is OK except as previously posted, the video freezes in 
> skype after a number of frames.

For now you can downgrade to r178

 svn update -r178

Cheers,

	Brandon


From Detlef.Eberhardt at xtra.co.nz  Tue Feb 12 07:07:04 2008
From: Detlef.Eberhardt at xtra.co.nz (Detlef Eberhardt)
Date: Tue, 12 Feb 2008 19:07:04 +1300
Subject: [Linux-uvc-devel] Fwd: Philips SPC525NC
In-Reply-To: <200802120003.14287.laurent.pinchart@skynet.be>
References: <200802101046.38171.Detlef.Eberhardt@xtra.co.nz>
	<200802120003.14287.laurent.pinchart@skynet.be>
Message-ID: <200802121907.04704.Detlef.Eberhardt@xtra.co.nz>

here you go.

lsusb -v says:

Bus 001 Device 002: ID 04a9:220e Canon, Inc. CanoScan N1240U/LiDE 30
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass          255 Vendor Specific Class
  bDeviceSubClass         0 
  bDeviceProtocol       255 
  bMaxPacketSize0         8
  idVendor           0x04a9 Canon, Inc.
  idProduct          0x220e CanoScan N1240U/LiDE 30
  bcdDevice            1.00
  iManufacturer           1 Canon
  iProduct                2 CanoScan
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           39
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0xa0
      (Bus Powered)
      Remote Wakeup
    MaxPower              500mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      0 
      bInterfaceProtocol    255 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              16
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x03  EP 3 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
Device Status:     0x0000
  (Bus Powered)

Bus 001 Device 001: ID 0000:0000  
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         0 Full speed (or root) hub
  bMaxPacketSize0        64
  idVendor           0x0000 
  idProduct          0x0000 
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.24.1 ohci_hcd
  iProduct                2 OHCI Host Controller
  iSerial                 1 0000:00:02.0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 Full speed (or root) hub
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval             255
Hub Descriptor:
  bLength              11
  bDescriptorType      41
  nNbrPorts            10
  wHubCharacteristic 0x0002
    No power switching (usb 1.0)
    Ganged overcurrent protection
  bPwrOn2PwrGood        1 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00 0x00
  PortPwrCtrlMask    0xff 0xff
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0103 power enable connect
   Port 3: 0000.0100 power
   Port 4: 0000.0100 power
   Port 5: 0000.0100 power
   Port 6: 0000.0100 power
   Port 7: 0000.0100 power
   Port 8: 0000.0100 power
   Port 9: 0000.0100 power
   Port 10: 0000.0100 power
Device Status:     0x0003
  Self Powered
  Remote Wakeup Enabled

Bus 002 Device 003: ID 0471:0334 Philips 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0471 Philips
  idProduct          0x0334 
  bcdDevice            0.00
  iManufacturer           0 
  iProduct                1 USB Video Camera
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          422
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower               98mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               1 USB Video Camera
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              1 USB Video Camera
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           77
        dwClockFrequency       48.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000157b
          Brightness
          Contrast
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing            24 
        bmVideoStandards     0x1a
          NTSC - 525/60
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 6
        guidExtensionCode         {d2090058-6fe7-2446-8512-76cdd8dda14e}
        bNumControl             2
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x03
        iExtension              0 
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               6
        iTerminal               0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              16
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                        1
        wTotalLength                      157
        bEndPointAddress                  131
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 1
        bTriggerSupport                     1
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                2
        guidFormat                            
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            54
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                1179648000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  7
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            499998
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)            999996
        dwFrameInterval( 5)           1333332
        dwFrameInterval( 6)           1999992
      VideoStreaming Interface Descriptor:
        bLength                            62
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                1179648000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         166666
        bFrameIntervalType                  9
        dwFrameInterval( 0)            166666
        dwFrameInterval( 1)            200000
        dwFrameInterval( 2)            333333
        dwFrameInterval( 3)            400000
        dwFrameInterval( 4)            499998
        dwFrameInterval( 5)            666666
        dwFrameInterval( 6)            999996
        dwFrameInterval( 7)           1333332
        dwFrameInterval( 8)           1999992
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       2 Streaming
      bFunctionProtocol       0 
      iFunction               1 USB Video Camera
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0 
      iInterface              1 USB Video Camera
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           38
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0 
        iTerminal               0 
      AudioControl Interface Descriptor:
        bLength                 8
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 5
        bSourceID               3
        bControlSize            1
        bmaControls( 0)      0x43
          Mute
          Volume
          Automatic Gain
        iFeature                0 
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             4
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0 
      iInterface              0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           4
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                29
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            7 Discrete
        tSamFreq[ 0]         8000
        tSamFreq[ 1]        11025
        tSamFreq[ 2]        16000
        tSamFreq[ 3]        22050
        tSamFreq[ 4]        32000
        tSamFreq[ 5]        44100
        tSamFreq[ 6]        48000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x00
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)

Bus 002 Device 001: ID 0000:0000  
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         1 Single TT
  bMaxPacketSize0        64
  idVendor           0x0000 
  idProduct          0x0000 
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.24.1 ehci_hcd
  iProduct                2 EHCI Host Controller
  iSerial                 1 0000:00:02.1
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 Full speed (or root) hub
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0004  1x 4 bytes
        bInterval              12
Hub Descriptor:
  bLength              11
  bDescriptorType      41
  nNbrPorts            10
  wHubCharacteristic 0x000a
    No power switching (usb 1.0)
    Per-port overcurrent protection
    TT think time 8 FS bits
  bPwrOn2PwrGood       10 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00 0x00
  PortPwrCtrlMask    0xff 0xff
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0100 power
   Port 3: 0000.0100 power
   Port 4: 0000.0503 highspeed power enable connect
   Port 5: 0000.0100 power
   Port 6: 0000.0100 power
   Port 7: 0000.0100 power
   Port 8: 0000.0100 power
   Port 9: 0000.0100 power
   Port 10: 0000.0100 power
Device Status:     0x0003
  Self Powered
  Remote Wakeup Enabled



cheers 
bugger


From Wando-it at arcor.de  Tue Feb 12 10:04:16 2008
From: Wando-it at arcor.de (W@ndo-it, Lewandowsky)
Date: Tue, 12 Feb 2008 10:04:16 +0100
Subject: [Linux-uvc-devel] new usb webcam: 04f2:b022 Chicony Electronics Co.,
	Ltd
Message-ID: <47B16110.9080905@arcor.de>

hi developer team,

i'm dirk from germany and i've bought a notebook with a 1,3M chicony 
webcam (which is included in the top of the display). the customer from 
the notebook is called "one" -> http://www.one.de/shop/index.php
the notebook is from the c-series (c34xx). all harware works great with 
ubuntu 7.10 (intel chipset), except the webcam :(
this webcam doesn't work with the uvcvideo driver.

here are some informations about the cam:

dlewando at netcomp-mythtv:/var/log$ tail -f /var/log/messages
Feb 12 09:23:16 netcomp-mythtv kernel: [ 2437.228000] usb 7-3: USB 
disconnect, address 2
Feb 12 09:23:22 netcomp-mythtv kernel: [ 2443.064000] usb 7-3: new high 
speed USB device using ehci_hcd and address 3
Feb 12 09:23:22 netcomp-mythtv kernel: [ 2443.208000] usb 7-3: 
configuration #1 chosen from 1 choice
Feb 12 09:23:22 netcomp-mythtv kernel: [ 2443.208000] uvcvideo: Found 
UVC 1.00 device USB 2.0 Camera (04f2:b022)

dlewando at netcomp-mythtv:/var/log$ lsusb
Bus 007 Device 003: ID 04f2:b022 Chicony Electronics Co., Ltd

dlewando at netcomp-mythtv:/var/log$ luvcview
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
Init v4L2 failed !! exit fatal

it would be nice if you can support that cam in the future ...
if you need more information about my system, don't hesitate to contact me.

best regards
dirk



From felix at derklecks.de  Tue Feb 12 10:08:46 2008
From: felix at derklecks.de (=?UTF-8?B?RmVsaXggTcKaw7ZsbGVy?=)
Date: Tue, 12 Feb 2008 10:08:46 +0100
Subject: [Linux-uvc-devel] new usb webcam: 04f2:b022 Chicony Electronics
 Co., Ltd
In-Reply-To: <47B16110.9080905@arcor.de>
References: <47B16110.9080905@arcor.de>
Message-ID: <47B1621E.2090602@derklecks.de>

W at ndo-it, Lewandowsky schrieb:
> hi developer team,
> 
> i'm dirk from germany and i've bought a notebook with a 1,3M chicony 
> webcam (which is included in the top of the display). the customer from 
> the notebook is called "one" -> http://www.one.de/shop/index.php
> the notebook is from the c-series (c34xx). all harware works great with 
> ubuntu 7.10 (intel chipset), except the webcam :(
> this webcam doesn't work with the uvcvideo driver.
You should post your lsusb -v of the camera here. Furtherthemore I 
suggest to try the latest SVN revision of the driver (i.e. r179).

HTH
Felix M?ller


From mythtv at email.it  Tue Feb 12 10:39:28 2008
From: mythtv at email.it (Franco)
Date: Tue, 12 Feb 2008 10:39:28 +0100
Subject: [Linux-uvc-devel] make: *** [uvcvideo] Error 127
Message-ID: <47B16950.8030802@email.it>

Hello,

I downloaded the latest uvcvideo surces and now when I try to compile I 
get this error:
		make: *** [uvcvideo] Error 127

I was happily compiling it before... what has changed?
Error 127 should mean make doesn't find a program it needs, but I can't 
figure out which one.

Any hints?
Franco


From Wando-it at arcor.de  Tue Feb 12 10:55:55 2008
From: Wando-it at arcor.de (W@ndo-it, Lewandowsky)
Date: Tue, 12 Feb 2008 10:55:55 +0100
Subject: [Linux-uvc-devel] new usb webcam: 04f2:b022 Chicony Electronics Co., Ltd
References: 47B16110.9080905@arcor.de
Message-ID: <47B16D2B.2040907@arcor.de>

dlewando at netcomp-mythtv:~$ sudo lsusb -v -s 7:3

Bus 007 Device 003: ID 04f2:b022 Chicony Electronics Co., Ltd
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x04f2 Chicony Electronics Co., Ltd
  idProduct          0xb022
  bcdDevice            7.16
  iManufacturer           2 Chicony Electronics Co., Ltd.
  iProduct                1 USB 2.0 Camera
  iSerial                 3 SN0001
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          565
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               1 USB 2.0 Camera
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              1 USB 2.0 Camera
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           77
        dwClockFrequency       15.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               4
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {28f03370-6311-4a2e-ba2c-6890eb334016}
        bNumControl             1
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000053f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x20
          PAL - 525/60
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        1
        wTotalLength                    33025
        bEndPointAddress                    0
        bmInfo                              2
        bTerminalLink                       0
        bStillCaptureMethod                 1
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                7
        guidFormat                            
{32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   614400
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   202752
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   153600
        dwMaxBitRate                  4608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                    50688
        dwMaxBitRate                  1520640
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                    38400
        dwMaxBitRate                  1152000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                           960
        dwMinBitRate                  2457600
        dwMaxBitRate                 22118400
        dwMaxVideoFrameBufferSize     2457600
        dwDefaultFrameInterval        1333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1333333
        dwFrameInterval( 1)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         7
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                          1024
        dwMinBitRate                  2621440
        dwMaxBitRate                 23592960
        dwMaxVideoFrameBufferSize     2621440
        dwDefaultFrameInterval        1333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1333333
        dwFrameInterval( 1)           2000000
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13e8  3x 1000 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)



From ljakab at ac.upc.edu  Tue Feb 12 11:50:44 2008
From: ljakab at ac.upc.edu (=?utf-8?q?Lor=C3=A1nd_Jakab?=)
Date: Tue, 12 Feb 2008 11:50:44 +0100
Subject: [Linux-uvc-devel] Support for 046d:08b1 Logitech QuickCam Notebook
	Pro
Message-ID: <200802121150.45109.ljakab@ac.upc.edu>

Hello all,

I have the webcam mentioned in the subject line, and was wondering if it 
will ever be supported by the Linux UVC driver... and if not, why?

I am currently using the Philips pwc driver 
(http://www.saillard.org/linux/pwc/), but it would be great to have a 
UVC driver.

Regards,
Lorand Jakab


From sboyce at blueyonder.co.uk  Tue Feb 12 12:16:55 2008
From: sboyce at blueyonder.co.uk (Sid Boyce)
Date: Tue, 12 Feb 2008 11:16:55 +0000
Subject: [Linux-uvc-devel] revision 179 build errors on AMD64
In-Reply-To: <20080212020245.GA26169@plankton.ifup.org>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<47B0F918.4050904@blueyonder.co.uk>
	<20080212020245.GA26169@plankton.ifup.org>
Message-ID: <47B18027.3050800@blueyonder.co.uk>

Brandon Philips wrote:
> On 01:40 Tue 12 Feb 2008, Sid Boyce wrote:
>> This is as is and when I place #include "uvc_compat.h" after #include
>> "uvcvideo.h"
> 
> We are in the middle of getting UVC into mainline and this is a bit of
> the fallout.  The build should only be broken for 2.6.25 users.
> 
> Mauro- can we get the control definitions into the next RC?
> 
>> sepulot:/usr/src/UVC/trunk # make clean && make && make install
>> rm -f *.o *.ko .*.cmd .*.flags *.mod.c Module.symvers version.h
>> rm -rf .tmp_versions
>> Building USB Video Class driver...
>> make[1]: Entering directory `/usr/src/linux-2.6.25-rc1'
>>    CC [M]  /usr/src/UVC/trunk/uvc_driver.o
>>    CC [M]  /usr/src/UVC/trunk/uvc_queue.o
>>    CC [M]  /usr/src/UVC/trunk/uvc_v4l2.o
>>    CC [M]  /usr/src/UVC/trunk/uvc_video.o
>>    CC [M]  /usr/src/UVC/trunk/uvc_ctrl.o
>> /usr/src/UVC/trunk/uvc_ctrl.c:232: error: ???V4L2_CID_SHARPNESS???
>> undeclared here (not in a function)
>> /usr/src/UVC/trunk/uvc_ctrl.c:252: error:
> ...
>> Revision 177 is OK except as previously posted, the video freezes in
>> skype after a number of frames.
> 
> For now you can downgrade to r178
> 
>  svn update -r178
> 
> Cheers,
> 
> 	Brandon
> 
> 

Thanks, done that. Nice to hear integration into mainline in prospect.
Regards
Sid.
-- 
Sid Boyce ... Hamradio License G3VBV, Licensed Private Pilot
Emeritus IBM/Amdahl Mainframes and Sun/Fujitsu Servers Tech Support 
Specialist, Cricket Coach
Microsoft Windows Free Zone - Linux used for all Computing Tasks



From pl4nkton at googlemail.com  Tue Feb 12 13:20:53 2008
From: pl4nkton at googlemail.com (pl4nkton at googlemail.com)
Date: Tue, 12 Feb 2008 13:20:53 +0100
Subject: [Linux-uvc-devel] new usb webcam: 04f2:b022 Chicony Electronics
	Co., Ltd
In-Reply-To: <47B16110.9080905@arcor.de>
References: <47B16110.9080905@arcor.de>
Message-ID: <c89e0ec50802120420r47cd9000nab7dfc508ae3450c@mail.gmail.com>

try it with the option -f yuv - this worked for me yesterday

best regards,
nicolas

2008/2/12, W at ndo-it, Lewandowsky <Wando-it at arcor.de>:
> hi developer team,
>
> i'm dirk from germany and i've bought a notebook with a 1,3M chicony
> webcam (which is included in the top of the display). the customer from
> the notebook is called "one" -> http://www.one.de/shop/index.php
> the notebook is from the c-series (c34xx). all harware works great with
> ubuntu 7.10 (intel chipset), except the webcam :(
> this webcam doesn't work with the uvcvideo driver.
>
> here are some informations about the cam:
>
> dlewando at netcomp-mythtv:/var/log$ tail -f /var/log/messages
> Feb 12 09:23:16 netcomp-mythtv kernel: [ 2437.228000] usb 7-3: USB
> disconnect, address 2
> Feb 12 09:23:22 netcomp-mythtv kernel: [ 2443.064000] usb 7-3: new high
> speed USB device using ehci_hcd and address 3
> Feb 12 09:23:22 netcomp-mythtv kernel: [ 2443.208000] usb 7-3:
> configuration #1 chosen from 1 choice
> Feb 12 09:23:22 netcomp-mythtv kernel: [ 2443.208000] uvcvideo: Found
> UVC 1.00 device USB 2.0 Camera (04f2:b022)
>
> dlewando at netcomp-mythtv:/var/log$ lsusb
> Bus 007 Device 003: ID 04f2:b022 Chicony Electronics Co., Ltd
>
> dlewando at netcomp-mythtv:/var/log$ luvcview
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 22.
> Init v4L2 failed !! exit fatal
>
> it would be nice if you can support that cam in the future ...
> if you need more information about my system, don't hesitate to contact me.
>
> best regards
> dirk
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From Wando-it at arcor.de  Tue Feb 12 14:49:42 2008
From: Wando-it at arcor.de (W@ndo-it, Lewandowsky)
Date: Tue, 12 Feb 2008 14:49:42 +0100
Subject: [Linux-uvc-devel] new usb webcam: 04f2:b022 Chicony Electronics	Co., Ltd
References: 47B16110.9080905@arcor.de
Message-ID: <47B1A3F6.8030106@arcor.de>

yea! thx to all, that works.
for additional info: i'm using uvcvideo svn r177



From Wando-it at arcor.de  Tue Feb 12 17:17:49 2008
From: Wando-it at arcor.de (W@ndo-it, Lewandowsky)
Date: Tue, 12 Feb 2008 17:17:49 +0100
Subject: [Linux-uvc-devel] new usb webcam: 04f2:b022 Chicony Electronics	Co., Ltd
Message-ID: <47B1C6AD.7090203@arcor.de>

one more question:
how can i access the webcam now with other tools than luvcview?

applications like: wegophone or vlc media player?


From gabi.udr.lin at gmail.com  Tue Feb 12 17:58:33 2008
From: gabi.udr.lin at gmail.com (Udrescu Gabriel Florin)
Date: Tue, 12 Feb 2008 18:58:33 +0200
Subject: [Linux-uvc-devel]  Problem with Acer Crystal eye Webcam
In-Reply-To: <4d9ba24a0802120704g7208b0b1g44cf4afa57f4d24@mail.gmail.com>
References: <4d9ba24a0802111100q51b22d84s7ca9d3ecb917459c@mail.gmail.com>
	<200802112342.13124.laurent.pinchart@skynet.be>
	<4d9ba24a0802120704g7208b0b1g44cf4afa57f4d24@mail.gmail.com>
Message-ID: <4d9ba24a0802120858r1189835by3ded8bc265fb76ae@mail.gmail.com>

Thanks for the tip. I've deleted a few modules from the kernel and I've ran
make again. Now, works almost without any problem. I say almost because the
image is flipped on the x-axis. The left becomes the right and the right
becomes the left. Also, the colors aren't so vivid and I don't have any tool
to properly setup it. Any suggestions? About the tutorial, I'll write it
today and you will surely find it on my blog tonight. I'll also provide you
a pdf version.
Best wishes,
Gabriel

PS : a few logs if you might need them :
Feb 12 16:46:32 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
Crystal Eye webcam  (5986:0102)
Feb 12 16:46:32 localhost kernel: usbcore: registered new interface driver
uvcvideo
Feb 12 16:46:32 localhost kernel: USB Video Class driver (SVN r177)
Feb 12 16:47:08 localhost kernel: uvcvideo: device Acer Crystal Eye webcam
requested null bandwidth, defaulting to lowest.
Feb 12 16:47:40 localhost kernel: uvcvideo: device Acer Crystal Eye webcam
requested null bandwidth, defaulting to lowest.
Feb 12 16:48:58 localhost kernel: uvcvideo: device Acer Crystal Eye webcam
requested null bandwidth, defaulting to lowest.


On Feb 12, 2008 12:42 AM, Laurent Pinchart <laurent.pinchart at skynet.be>
wrote:

> Hi Gabriel,
>
>
> On Monday 11 February 2008, Udrescu Gabriel Florin wrote:
> > Hello there!
> > I've got a problem with my newly bought Acer laptop. I've managed to
> make
> > almost everything work, except my Acer Crystal Eye Webcam. Following
> this
> > solution (
> >
> http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002394.html
> >) I've managed to make it run with Kopete. Skype still does not
> initialize
> > it, although he finds it on /dev/video0 and recognizes its name (Acer
> > CrystalEye Webcam). Neither Adobe Flash doesn't work with it.
> > I've got the latest Linux-UVC running, compilled from the SVN trunk. the
> > revision i've got it's r177. I'm running Mandriva 2008 with the
> following
> > kernel :
> > Linux localhost 2.6.22.12-laptop-1mdv #1 SMP Tue Nov 20 09:05:54 EST
> 2007
> > i686 AMD Turion(tm) 64 X2 Mobile Technology TL-58 GNU/Linux
> >
> > lsusb says this :
> > lsusb
> > Unknown line at line 2389
> > Bus 002 Device 001: ID 0000:0000
> > Bus 001 Device 002: ID 5986:0102
> > Bus 001 Device 001: ID 0000:0000
> >
> > and lsusb's more verbose output is the one you can find here :
> > http://pastebin.com/f4542003d
> >
> > down here, you can find a little information related to this webcam from
> my
> > syslog :
> >
> > Feb 11 15:53:46 localhost kernel: uvcvideo: Failed to query (130) UVC
> > control 1 (unit 0) : 2 (exp. 26).
> > Feb 11 15:55:27 localhost last message repeated 3 times
> > Feb 11 15:55:57 localhost last message repeated 15 times
> > Feb 11 15:56:28 localhost kernel: usbcore: deregistering interface
> driver
> > uvcvideo
> > Feb 11 16:02:44 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
> > Crystal Eye webcam  (5986:0102)
> > Feb 11 16:02:44 localhost kernel: usbcore: registered new interface
> driver
> > uvcvideo
> > Feb 11 16:02:44 localhost kernel: USB Video Class driver (v0.1.0)
>
> The message should be "USB Video Class driver (SVN r177)". Please make
> sure
> you're not using an older driver supplied with your distribution. Remove
> all
> occurrences of uvcvideo.ko in /lib/modules/<kernel version> and reinstall
> it
> from SVN.
>
> > Feb 11 16:02:47 localhost kernel: uvcvideo: Failed to query (130) UVC
> > control 1 (unit 0) : 2 (exp. 26).
> > Feb 11 16:19:57 localhost kernel: uvcvideo: Failed to query (130) UVC
> > control 1 (unit 0) : 2 (exp. 26).
>
> Those messages should go away with r177.
>
> > Feb 11 16:23:02 localhost urpmi: called with: svn
> > Feb 11 16:24:24 localhost rpmdrake[10276]: opening the RPM database
> > Feb 11 16:24:38 localhost rpmdrake: transaction on / (remove=0,
> install=0,
> > upgrade=4)
> > Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> > libapr1-1.2.11-1mdv2008.0installed
> > Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> > libapr-util1-1.2.10-1mdv2008.0 installed
> > Feb 11 16:24:40 localhost rpmdrake[10276]: [RPM]
> > libsvn0-1.4.5-5mdv2008.0installed
> > Feb 11 16:24:41 localhost rpmdrake[10276]: [RPM]
> > subversion-1.4.5-5mdv2008.0installed
> > Feb 11 16:24:43 localhost rpmdrake[10276]: opening the RPM database
> > Feb 11 16:26:26 localhost kernel: usbcore: deregistering interface
> driver
> > uvcvideo
> > Feb 11 16:26:53 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
> > Crystal Eye webcam  (5986:0102)
> > Feb 11 16:26:53 localhost kernel: usbcore: registered new interface
> driver
> > uvcvideo
> > Feb 11 16:26:53 localhost kernel: USB Video Class driver (SVN r177)
> > Feb 11 16:27:47 localhost kernel: uvcvideo: device Acer Crystal Eye
> webcam
> > requested null bandwidth, defaulting to lowest.
> > Feb 11 16:28:08 localhost kernel: uvcvideo: device Acer Crystal Eye
> webcam
> > requested null bandwidth, defaulting to lowest.
> > Feb 11 16:31:37 localhost kernel: restoring control
> 00000000-0000-0000-0000
> > -000000000101/0/2
> > Feb 11 16:31:37 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/1/3
> > Feb 11 16:31:37 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/2/6
> > Feb 11 16:31:37 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/3/7
> > Feb 11 16:31:37 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/5/9
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/0/2
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/1/3
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/2/6
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/3/7
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/5/9
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/0/2
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/1/3
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/2/6
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/3/7
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/5/9
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/0/2
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/1/3
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/2/6
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/3/7
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/5/9
> >
> > you can tell me if you need more informations. i make a promise that as
> > soon as i get this webcam work well, I'll write a walkthrough for other
> > people that face the same problem.
>
> I'll try to remember that :-)
>
> Best regards,
>
> Laurent Pinchart
>



-- 
Udrescu Gabriel Florin - A.Faith
http://afaith.eu  - Lumea lui A.Faith



-- 
Udrescu Gabriel Florin - A.Faith
http://afaith.eu  - Lumea lui A.Faith
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080212/17cdf105/attachment.html>

From gabi.udr.lin at gmail.com  Tue Feb 12 19:01:08 2008
From: gabi.udr.lin at gmail.com (Udrescu Gabriel Florin)
Date: Tue, 12 Feb 2008 20:01:08 +0200
Subject: [Linux-uvc-devel] Problem with Acer Crystal eye Webcam
In-Reply-To: <200802112342.13124.laurent.pinchart@skynet.be>
References: <4d9ba24a0802111100q51b22d84s7ca9d3ecb917459c@mail.gmail.com>
	<200802112342.13124.laurent.pinchart@skynet.be>
Message-ID: <4d9ba24a0802121001g3eb98913kf66a31755a47fbac@mail.gmail.com>

Like I've promised, I've wrote a tutorial that can help people out with Acer
Crystal Eye Webcam setup. Here you can find it :
http://afaith.eu/blog/2008/02/12/how-to-make-acer-crystal-eye-work-in-mandriva-linux-2008/

On Feb 12, 2008 12:42 AM, Laurent Pinchart <laurent.pinchart at skynet.be>
wrote:

> Hi Gabriel,
>
>
> On Monday 11 February 2008, Udrescu Gabriel Florin wrote:
> > Hello there!
> > I've got a problem with my newly bought Acer laptop. I've managed to
> make
> > almost everything work, except my Acer Crystal Eye Webcam. Following
> this
> > solution (
> >
> http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002394.html
> >) I've managed to make it run with Kopete. Skype still does not
> initialize
> > it, although he finds it on /dev/video0 and recognizes its name (Acer
> > CrystalEye Webcam). Neither Adobe Flash doesn't work with it.
> > I've got the latest Linux-UVC running, compilled from the SVN trunk. the
> > revision i've got it's r177. I'm running Mandriva 2008 with the
> following
> > kernel :
> > Linux localhost 2.6.22.12-laptop-1mdv #1 SMP Tue Nov 20 09:05:54 EST
> 2007
> > i686 AMD Turion(tm) 64 X2 Mobile Technology TL-58 GNU/Linux
> >
> > lsusb says this :
> > lsusb
> > Unknown line at line 2389
> > Bus 002 Device 001: ID 0000:0000
> > Bus 001 Device 002: ID 5986:0102
> > Bus 001 Device 001: ID 0000:0000
> >
> > and lsusb's more verbose output is the one you can find here :
> > http://pastebin.com/f4542003d
> >
> > down here, you can find a little information related to this webcam from
> my
> > syslog :
> >
> > Feb 11 15:53:46 localhost kernel: uvcvideo: Failed to query (130) UVC
> > control 1 (unit 0) : 2 (exp. 26).
> > Feb 11 15:55:27 localhost last message repeated 3 times
> > Feb 11 15:55:57 localhost last message repeated 15 times
> > Feb 11 15:56:28 localhost kernel: usbcore: deregistering interface
> driver
> > uvcvideo
> > Feb 11 16:02:44 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
> > Crystal Eye webcam  (5986:0102)
> > Feb 11 16:02:44 localhost kernel: usbcore: registered new interface
> driver
> > uvcvideo
> > Feb 11 16:02:44 localhost kernel: USB Video Class driver (v0.1.0)
>
> The message should be "USB Video Class driver (SVN r177)". Please make
> sure
> you're not using an older driver supplied with your distribution. Remove
> all
> occurrences of uvcvideo.ko in /lib/modules/<kernel version> and reinstall
> it
> from SVN.
>
> > Feb 11 16:02:47 localhost kernel: uvcvideo: Failed to query (130) UVC
> > control 1 (unit 0) : 2 (exp. 26).
> > Feb 11 16:19:57 localhost kernel: uvcvideo: Failed to query (130) UVC
> > control 1 (unit 0) : 2 (exp. 26).
>
> Those messages should go away with r177.
>
> > Feb 11 16:23:02 localhost urpmi: called with: svn
> > Feb 11 16:24:24 localhost rpmdrake[10276]: opening the RPM database
> > Feb 11 16:24:38 localhost rpmdrake: transaction on / (remove=0,
> install=0,
> > upgrade=4)
> > Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> > libapr1-1.2.11-1mdv2008.0installed
> > Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> > libapr-util1-1.2.10-1mdv2008.0 installed
> > Feb 11 16:24:40 localhost rpmdrake[10276]: [RPM]
> > libsvn0-1.4.5-5mdv2008.0installed
> > Feb 11 16:24:41 localhost rpmdrake[10276]: [RPM]
> > subversion-1.4.5-5mdv2008.0installed
> > Feb 11 16:24:43 localhost rpmdrake[10276]: opening the RPM database
> > Feb 11 16:26:26 localhost kernel: usbcore: deregistering interface
> driver
> > uvcvideo
> > Feb 11 16:26:53 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
> > Crystal Eye webcam  (5986:0102)
> > Feb 11 16:26:53 localhost kernel: usbcore: registered new interface
> driver
> > uvcvideo
> > Feb 11 16:26:53 localhost kernel: USB Video Class driver (SVN r177)
> > Feb 11 16:27:47 localhost kernel: uvcvideo: device Acer Crystal Eye
> webcam
> > requested null bandwidth, defaulting to lowest.
> > Feb 11 16:28:08 localhost kernel: uvcvideo: device Acer Crystal Eye
> webcam
> > requested null bandwidth, defaulting to lowest.
> > Feb 11 16:31:37 localhost kernel: restoring control
> 00000000-0000-0000-0000
> > -000000000101/0/2
> > Feb 11 16:31:37 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/1/3
> > Feb 11 16:31:37 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/2/6
> > Feb 11 16:31:37 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/3/7
> > Feb 11 16:31:37 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/5/9
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/0/2
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/1/3
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/2/6
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/3/7
> > Feb 11 16:31:45 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/5/9
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/0/2
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/1/3
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/2/6
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/3/7
> > Feb 11 16:38:43 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/5/9
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/0/2
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/1/3
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/2/6
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/3/7
> > Feb 11 16:39:20 localhost kernel: restoring control
> > 00000000-0000-0000-0000-000000000101/5/9
> >
> > you can tell me if you need more informations. i make a promise that as
> > soon as i get this webcam work well, I'll write a walkthrough for other
> > people that face the same problem.
>
> I'll try to remember that :-)
>
> Best regards,
>
> Laurent Pinchart
>



-- 
Udrescu Gabriel Florin - A.Faith
http://afaith.eu  - Lumea lui A.Faith
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080212/1c18e8ff/attachment.html>

From arbuckle911 at gmail.com  Tue Feb 12 19:14:11 2008
From: arbuckle911 at gmail.com (Christopher Harvey)
Date: Tue, 12 Feb 2008 13:14:11 -0500
Subject: [Linux-uvc-devel] select() problems with uvc drivers.
In-Reply-To: <200802112357.24363.laurent.pinchart@skynet.be>
References: <47AFA0C5.6050307@gmail.com>
	<200802112357.24363.laurent.pinchart@skynet.be>
Message-ID: <47B1E1F3.1020705@gmail.com>

Laurent Pinchart wrote:
> Hi Christopher,
>
> On Monday 11 February 2008, Christopher Harvey wrote:
>   
>> Hello,
>> I sent this to the video 4 linux mailing list earlier, but perhaps it's
>> more appropriate here since the code is very uvc specific.
>>     
>
> Actually the bug is in your application, so it's not UVC specific :-)
>   
Good to know! I'd rather have to deal with a broken app than a broken
driver.
>   
>> I've created a small c program that uses pure v4l2 code to read from a
>> webcam on a uvc driver then copy that data into an SDL overlay. I've
>> posted the code here:
>> http://basementcode.com/serverMain.html
>> and I've attached a log file I created from the output of that program.
>> Overall the program works great except that after a few frames, about 35
>> (varies each run) in my case, the select() function that is supposed to
>> block until new data from the webcam is available stops working and
>> returns right away. This isn't a huge problem because the following
>> ioctl(fd, VIDIOC_DQBUF, &buf)
>> call simply fails and sets errno to EAGAIN, then my app simply tries
>> again and again until it works. I'd rather select worked for the entire
>> duration of the capture to save cpu time and make sure that I read the
>> frame asap each time. The relevant function in the code I posted above
>> is "mainLoop", however I can't be sure the error is actually in that
>> function. I hope I've posted enough information.
>>     
>
> Your error is here:
>
>   timeout.tv_sec = 2;
>   timeout.tv_usec = 0;
>
>   for(i = 0;i<200;i++)
>   {
>       FD_ZERO(&fds);
>       FD_SET(fd, &fds);
>
>       if(select(fd+1, &fds, NULL, NULL, &timeout)==-1)
>       {
>           printf("Error with select.\n");
>           break;
>       }
>
> select() modifies the timeout parameter to return the remaining time. Your 
> application will see timeout slowly decrementing until it reaches 0. select() 
> will then always return immediately.
>
> You must reinitialise timeout in the for loop.
>
> Best regards,
>
> Laurent Pinchart
>
>   
Great, I see it now. Thank you very much for taking the time to look
through my code and write up a reply.

Best regards,
Chris.


From daniel-linux at bol.com.br  Tue Feb 12 19:18:23 2008
From: daniel-linux at bol.com.br (daniel-linux)
Date: Tue, 12 Feb 2008 16:18:23 -0200
Subject: [Linux-uvc-devel] Problem with Acer Crystal eye Webcam
Message-ID: <JW51IN$A26B40B8971FA7D99DD1596FB835AFB7@bol.com.br>

Good work Grabiel...

Daniel

> Like I've promised, I've wrote a tutorial that can help people out with Acer
> Crystal Eye Webcam setup. Here you can find it :
> http://afaith.eu/blog/2008/02/12/how-to-make-acer-crystal-eye-work-in-mandriva-linux-2008/
> 
> On Feb 12, 2008 12:42 AM, Laurent Pinchart <laurent.pinchart at skynet.be>
> wrote:
> 
> > Hi Gabriel,
> >
> >
> > On Monday 11 February 2008, Udrescu Gabriel Florin wrote:
> > > Hello there!
> > > I've got a problem with my newly bought Acer laptop. I've managed to
> > make
> > > almost everything work, except my Acer Crystal Eye Webcam. Following
> > this
> > > solution (
> > >
> > http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002394.html
> > >) I've managed to make it run with Kopete. Skype still does not
> > initialize
> > > it, although he finds it on /dev/video0 and recognizes its name (Acer
> > > CrystalEye Webcam). Neither Adobe Flash doesn't work with it.
> > > I've got the latest Linux-UVC running, compilled from the SVN trunk. the
> > > revision i've got it's r177. I'm running Mandriva 2008 with the
> > following
> > > kernel :
> > > Linux localhost 2.6.22.12-laptop-1mdv #1 SMP Tue Nov 20 09:05:54 EST
> > 2007
> > > i686 AMD Turion(tm) 64 X2 Mobile Technology TL-58 GNU/Linux
> > >
> > > lsusb says this :
> > > lsusb
> > > Unknown line at line 2389
> > > Bus 002 Device 001: ID 0000:0000
> > > Bus 001 Device 002: ID 5986:0102
> > > Bus 001 Device 001: ID 0000:0000
> > >
> > > and lsusb's more verbose output is the one you can find here :
> > > http://pastebin.com/f4542003d
> > >
> > > down here, you can find a little information related to this webcam from
> > my
> > > syslog :
> > >
> > > Feb 11 15:53:46 localhost kernel: uvcvideo: Failed to query (130) UVC
> > > control 1 (unit 0) : 2 (exp. 26).
> > > Feb 11 15:55:27 localhost last message repeated 3 times
> > > Feb 11 15:55:57 localhost last message repeated 15 times
> > > Feb 11 15:56:28 localhost kernel: usbcore: deregistering interface
> > driver
> > > uvcvideo
> > > Feb 11 16:02:44 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
> > > Crystal Eye webcam  (5986:0102)
> > > Feb 11 16:02:44 localhost kernel: usbcore: registered new interface
> > driver
> > > uvcvideo
> > > Feb 11 16:02:44 localhost kernel: USB Video Class driver (v0.1.0)
> >
> > The message should be "USB Video Class driver (SVN r177)". Please make
> > sure
> > you're not using an older driver supplied with your distribution. Remove
> > all
> > occurrences of uvcvideo.ko in /lib/modules/<kernel version> and reinstall
> > it
> > from SVN.
> >
> > > Feb 11 16:02:47 localhost kernel: uvcvideo: Failed to query (130) UVC
> > > control 1 (unit 0) : 2 (exp. 26).
> > > Feb 11 16:19:57 localhost kernel: uvcvideo: Failed to query (130) UVC
> > > control 1 (unit 0) : 2 (exp. 26).
> >
> > Those messages should go away with r177.
> >
> > > Feb 11 16:23:02 localhost urpmi: called with: svn
> > > Feb 11 16:24:24 localhost rpmdrake[10276]: opening the RPM database
> > > Feb 11 16:24:38 localhost rpmdrake: transaction on / (remove=0,
> > install=0,
> > > upgrade=4)
> > > Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> > > libapr1-1.2.11-1mdv2008.0installed
> > > Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> > > libapr-util1-1.2.10-1mdv2008.0 installed
> > > Feb 11 16:24:40 localhost rpmdrake[10276]: [RPM]
> > > libsvn0-1.4.5-5mdv2008.0installed
> > > Feb 11 16:24:41 localhost rpmdrake[10276]: [RPM]
> > > subversion-1.4.5-5mdv2008.0installed
> > > Feb 11 16:24:43 localhost rpmdrake[10276]: opening the RPM database
> > > Feb 11 16:26:26 localhost kernel: usbcore: deregistering interface
> > driver
> > > uvcvideo
> > > Feb 11 16:26:53 localhost kernel: uvcvideo: Found UVC 1.00 device Acer
> > > Crystal Eye webcam  (5986:0102)
> > > Feb 11 16:26:53 localhost kernel: usbcore: registered new interface
> > driver
> > > uvcvideo
> > > Feb 11 16:26:53 localhost kernel: USB Video Class driver (SVN r177)
> > > Feb 11 16:27:47 localhost kernel: uvcvideo: device Acer Crystal Eye
> > webcam
> > > requested null bandwidth, defaulting to lowest.
> > > Feb 11 16:28:08 localhost kernel: uvcvideo: device Acer Crystal Eye
> > webcam
> > > requested null bandwidth, defaulting to lowest.
> > > Feb 11 16:31:37 localhost kernel: restoring control
> > 00000000-0000-0000-0000
> > > -000000000101/0/2
> > > Feb 11 16:31:37 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/1/3
> > > Feb 11 16:31:37 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/2/6
> > > Feb 11 16:31:37 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/3/7
> > > Feb 11 16:31:37 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/5/9
> > > Feb 11 16:31:45 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/0/2
> > > Feb 11 16:31:45 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/1/3
> > > Feb 11 16:31:45 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/2/6
> > > Feb 11 16:31:45 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/3/7
> > > Feb 11 16:31:45 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/5/9
> > > Feb 11 16:38:43 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/0/2
> > > Feb 11 16:38:43 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/1/3
> > > Feb 11 16:38:43 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/2/6
> > > Feb 11 16:38:43 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/3/7
> > > Feb 11 16:38:43 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/5/9
> > > Feb 11 16:39:20 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/0/2
> > > Feb 11 16:39:20 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/1/3
> > > Feb 11 16:39:20 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/2/6
> > > Feb 11 16:39:20 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/3/7
> > > Feb 11 16:39:20 localhost kernel: restoring control
> > > 00000000-0000-0000-0000-000000000101/5/9
> > >
> > > you can tell me if you need more informations. i make a promise that as
> > > soon as i get this webcam work well, I'll write a walkthrough for other
> > > people that face the same problem.
> >
> > I'll try to remember that :-)
> >
> > Best regards,
> >
> > Laurent Pinchart
> >
> 
> 
> 
> -- 
> Udrescu Gabriel Florin - A.Faith
> http://afaith.eu  - Lumea lui A.Faith
> 



From vanhtu1987 at gmail.com  Tue Feb 12 19:43:37 2008
From: vanhtu1987 at gmail.com (Tu Vuong)
Date: Tue, 12 Feb 2008 18:43:37 +0000
Subject: [Linux-uvc-devel] Please add support for Logitech Orbicam camera in
	Acer Aspire laptops
Message-ID: <f10e98be0802121043q71c78f4fl730b00316a60c4e5@mail.gmail.com>

Hi.

I've been using the gspca v4l1 for a while. It worked but the
quality's been pretty poor compared to those with v4l2 support. Can you
add Logitech Orbicam cameras found in Acer Aspire 5583WXMi (the 5580
family) to the supported list?. Its ID is 046d:0896 .

I tried to hack uvc_driver.c a bit to force it see the camera, but it
didn't create the corresponding /dev/video interface :-) .
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080212/a7d3becd/attachment.html>

From rgaelzer at gmail.com  Tue Feb 12 20:04:20 2008
From: rgaelzer at gmail.com (Rudi Gaelzer)
Date: Tue, 12 Feb 2008 17:04:20 -0200
Subject: [Linux-uvc-devel] Integrated WebCam not detected after compiling
	module.
Message-ID: <200802121704.20563.rudi@ufpel.edu.br>

With reference to the following threads and howtos:

http://forums.fedoraforum.org/showthread.php?t=174877
http://forums.fedoraforum.org/showthread.php?t=174845&page=1&pp=15&highlight=creative+webcam
http://liquidat.wordpress.com/2007/12/07/howto-logitech-quickcam-pro-9000-with-fedora-8/#comment-47679

I have a Dell Vostro 1500 with an integrated OmniVision webcam (05a9:2640). 
This is the relevant part of "lsusb -v":

-----------------------------------------------------------------------------------
Bus 002 Device 002: ID 05a9:2640 OmniVision Technologies, Inc.
Device Descriptor:
bLength 18
bDescriptorType 1
bcdUSB 2.00
bDeviceClass 239 Miscellaneous Device
bDeviceSubClass 2 ?
bDeviceProtocol 1 Interface Association
bMaxPacketSize0 64
idVendor 0x05a9 OmniVision Technologies, Inc.
idProduct 0x2640
bcdDevice 1.00
iManufacturer 1 OmniVision Technologies, Inc. -2640-07.07.20.3
iProduct 2 Laptop Integrated Webcam
iSerial 0
bNumConfigurations 1
Configuration Descriptor:
bLength 9
bDescriptorType 2
wTotalLength 705
bNumInterfaces 2
bConfigurationValue 1
-----------------------------------------------------------------------------------------

Following the steps on

http://liquidat.wordpress.com/2007/12/07/howto-logitech-quickcam-pro-9000-with-fedora-8/#comment-47679

I downloaded the svn trunk for the uvcvideo driver, compiled it with "make", 
thereby creating the kernel modules uvcvideo.ko and uvcvideo.mod.o (plus 
uvc_queue.o, uvc_status.o and other object files). Then, I issued "make  
install" and got the same reply as on the guide.

However, the device is still not recognized, even after a reboot. I tried 
CamStream, Kopete, and Ekiga; neither was able to find the webcam.
Also, running twice "make install" did not work.
Trying "modprobe uvcvideo" returns the following error message:

FATAL: Module uvcvideo not found.

For me, it means that the module files were not loaded into the correct 
directory.

When I look into /lib/modules/2.6.23.14-115.fc8/usb/media the directory is 
empty.

At least this is the directory I think the module should be loaded, according 
to the Makefile that came with the svn of linux-uvc.


Can anyone help me out? I'm guessing that I'm not loading the module on the 
kernel at all...

Thanks.
___________________________
Rudi Gaelzer
Registered Linux user # 153741


From sampsa.riikonen at iki.fi  Tue Feb 12 20:24:56 2008
From: sampsa.riikonen at iki.fi (Sampsa Riikonen)
Date: Tue, 12 Feb 2008 21:24:56 +0200
Subject: [Linux-uvc-devel] [Fwd: V4L2 and Mplayer]
Message-ID: <1202844296.4401.15.camel@linux-q5nk.site>

Dear List,

Is there any application that knows how to
grab V4L2 and a USB microphone at the same time?

ffmpeg grabs V4L2 OK, but does not grab correctly
(I dont get any sound from oss device /dev/dsp1) 
a usb microphone.

mplayer/mencoder does not work at all for V4L2
(or does someone has it working?), but grabs
usb mic ok (through alsa).

Below a question I posted to this list
a few days ago..

Regards,

Sampsa 
-------------- next part --------------
An embedded message was scrubbed...
From: Sampsa Riikonen <sampsa.riikonen at iki.fi>
Subject: V4L2 and Mplayer
Date: Sat, 09 Feb 2008 20:46:42 +0200
Size: 3252
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080212/07ece144/attachment.mht>

From gabi.udr.lin at gmail.com  Tue Feb 12 20:42:21 2008
From: gabi.udr.lin at gmail.com (Udrescu Gabriel Florin)
Date: Tue, 12 Feb 2008 21:42:21 +0200
Subject: [Linux-uvc-devel] Problem with Acer Crystal eye Webcam
In-Reply-To: <JW51IN$A26B40B8971FA7D99DD1596FB835AFB7@bol.com.br>
References: <JW51IN$A26B40B8971FA7D99DD1596FB835AFB7@bol.com.br>
Message-ID: <4d9ba24a0802121142r79936c21m567bdd919357d35e@mail.gmail.com>

Thanks for appreciation, but my name is Gabriel :P
Btw, I'm having a huge problem now! After using my webcam with Skype, I've
noticed that the entire usb system wasn't responding. No bluetooth, no USB
ports, no nothing. Plugged my USB stick, nothing. Plugged my mobile phone
and nothing. Neither tail -f /var/log/syslog worked. Kept saying the same
thing :

Feb 12 20:10:04 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/0/2
Feb 12 20:10:04 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/1/3
Feb 12 20:10:04 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/2/6
Feb 12 20:10:04 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/3/7
Feb 12 20:10:04 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/4/8
Feb 12 20:10:04 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/5/9
Feb 12 20:10:06 localhost kernel: uvcvideo: device Acer Crystal Eye webcam
requested null bandwidth, defaulting to lowest.
Feb 12 20:10:27 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/0/2
Feb 12 20:10:27 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/1/3
Feb 12 20:10:27 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/2/6
Feb 12 20:10:27 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/3/7
Feb 12 20:10:27 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/4/8
Feb 12 20:10:27 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/5/9
Feb 12 20:11:00 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/0/2
Feb 12 20:11:00 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/1/3
Feb 12 20:11:00 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/2/6
Feb 12 20:11:00 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/3/7
Feb 12 20:11:00 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/4/8
Feb 12 20:11:00 localhost kernel: restoring control
00000000-0000-0000-0000-000000000101/5/9
Feb 12 20:11:02 localhost kernel: uvcvideo: device Acer Crystal Eye webcam
requested null bandwidth, defaulting to lowest.
Feb 12 20:26:18 localhost kernel: usbcore: deregistering interface driver
uvcvideo

I've removed uvcvideo module, but nothing. I didn't restarted my laptop yet,
because I have something very important to do now, but still, no USB device
is working. this really makes me scared. it will be a real curse for me if
the USB interface won't work from now on.
Btw, to whom I have to thank about this link :
http://forum.ubuntu-fi.org/index.php?topic=15976.0 ?

On Feb 12, 2008 8:18 PM, daniel-linux <daniel-linux at bol.com.br> wrote:

> Good work Grabiel...
>
> Daniel
>
> > Like I've promised, I've wrote a tutorial that can help people out with
> Acer
> > Crystal Eye Webcam setup. Here you can find it :
> >
> http://afaith.eu/blog/2008/02/12/how-to-make-acer-crystal-eye-work-in-mandriva-linux-2008/
> >
> > On Feb 12, 2008 12:42 AM, Laurent Pinchart <laurent.pinchart at skynet.be>
> > wrote:
> >
> > > Hi Gabriel,
> > >
> > >
> > > On Monday 11 February 2008, Udrescu Gabriel Florin wrote:
> > > > Hello there!
> > > > I've got a problem with my newly bought Acer laptop. I've managed to
> > > make
> > > > almost everything work, except my Acer Crystal Eye Webcam. Following
> > > this
> > > > solution (
> > > >
> > >
> http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/002394.html
> > > >) I've managed to make it run with Kopete. Skype still does not
> > > initialize
> > > > it, although he finds it on /dev/video0 and recognizes its name
> (Acer
> > > > CrystalEye Webcam). Neither Adobe Flash doesn't work with it.
> > > > I've got the latest Linux-UVC running, compilled from the SVN trunk.
> the
> > > > revision i've got it's r177. I'm running Mandriva 2008 with the
> > > following
> > > > kernel :
> > > > Linux localhost 2.6.22.12-laptop-1mdv #1 SMP Tue Nov 20 09:05:54 EST
> > > 2007
> > > > i686 AMD Turion(tm) 64 X2 Mobile Technology TL-58 GNU/Linux
> > > >
> > > > lsusb says this :
> > > > lsusb
> > > > Unknown line at line 2389
> > > > Bus 002 Device 001: ID 0000:0000
> > > > Bus 001 Device 002: ID 5986:0102
> > > > Bus 001 Device 001: ID 0000:0000
> > > >
> > > > and lsusb's more verbose output is the one you can find here :
> > > > http://pastebin.com/f4542003d
> > > >
> > > > down here, you can find a little information related to this webcam
> from
> > > my
> > > > syslog :
> > > >
> > > > Feb 11 15:53:46 localhost kernel: uvcvideo: Failed to query (130)
> UVC
> > > > control 1 (unit 0) : 2 (exp. 26).
> > > > Feb 11 15:55:27 localhost last message repeated 3 times
> > > > Feb 11 15:55:57 localhost last message repeated 15 times
> > > > Feb 11 15:56:28 localhost kernel: usbcore: deregistering interface
> > > driver
> > > > uvcvideo
> > > > Feb 11 16:02:44 localhost kernel: uvcvideo: Found UVC 1.00 device
> Acer
> > > > Crystal Eye webcam  (5986:0102)
> > > > Feb 11 16:02:44 localhost kernel: usbcore: registered new interface
> > > driver
> > > > uvcvideo
> > > > Feb 11 16:02:44 localhost kernel: USB Video Class driver (v0.1.0)
> > >
> > > The message should be "USB Video Class driver (SVN r177)". Please make
> > > sure
> > > you're not using an older driver supplied with your distribution.
> Remove
> > > all
> > > occurrences of uvcvideo.ko in /lib/modules/<kernel version> and
> reinstall
> > > it
> > > from SVN.
> > >
> > > > Feb 11 16:02:47 localhost kernel: uvcvideo: Failed to query (130)
> UVC
> > > > control 1 (unit 0) : 2 (exp. 26).
> > > > Feb 11 16:19:57 localhost kernel: uvcvideo: Failed to query (130)
> UVC
> > > > control 1 (unit 0) : 2 (exp. 26).
> > >
> > > Those messages should go away with r177.
> > >
> > > > Feb 11 16:23:02 localhost urpmi: called with: svn
> > > > Feb 11 16:24:24 localhost rpmdrake[10276]: opening the RPM database
> > > > Feb 11 16:24:38 localhost rpmdrake: transaction on / (remove=0,
> > > install=0,
> > > > upgrade=4)
> > > > Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> > > > libapr1-1.2.11-1mdv2008.0installed
> > > > Feb 11 16:24:39 localhost rpmdrake[10276]: [RPM]
> > > > libapr-util1-1.2.10-1mdv2008.0 installed
> > > > Feb 11 16:24:40 localhost rpmdrake[10276]: [RPM]
> > > > libsvn0-1.4.5-5mdv2008.0installed
> > > > Feb 11 16:24:41 localhost rpmdrake[10276]: [RPM]
> > > > subversion-1.4.5-5mdv2008.0installed
> > > > Feb 11 16:24:43 localhost rpmdrake[10276]: opening the RPM database
> > > > Feb 11 16:26:26 localhost kernel: usbcore: deregistering interface
> > > driver
> > > > uvcvideo
> > > > Feb 11 16:26:53 localhost kernel: uvcvideo: Found UVC 1.00 device
> Acer
> > > > Crystal Eye webcam  (5986:0102)
> > > > Feb 11 16:26:53 localhost kernel: usbcore: registered new interface
> > > driver
> > > > uvcvideo
> > > > Feb 11 16:26:53 localhost kernel: USB Video Class driver (SVN r177)
> > > > Feb 11 16:27:47 localhost kernel: uvcvideo: device Acer Crystal Eye
> > > webcam
> > > > requested null bandwidth, defaulting to lowest.
> > > > Feb 11 16:28:08 localhost kernel: uvcvideo: device Acer Crystal Eye
> > > webcam
> > > > requested null bandwidth, defaulting to lowest.
> > > > Feb 11 16:31:37 localhost kernel: restoring control
> > > 00000000-0000-0000-0000
> > > > -000000000101/0/2
> > > > Feb 11 16:31:37 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/1/3
> > > > Feb 11 16:31:37 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/2/6
> > > > Feb 11 16:31:37 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/3/7
> > > > Feb 11 16:31:37 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/5/9
> > > > Feb 11 16:31:45 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/0/2
> > > > Feb 11 16:31:45 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/1/3
> > > > Feb 11 16:31:45 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/2/6
> > > > Feb 11 16:31:45 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/3/7
> > > > Feb 11 16:31:45 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/5/9
> > > > Feb 11 16:38:43 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/0/2
> > > > Feb 11 16:38:43 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/1/3
> > > > Feb 11 16:38:43 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/2/6
> > > > Feb 11 16:38:43 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/3/7
> > > > Feb 11 16:38:43 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/5/9
> > > > Feb 11 16:39:20 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/0/2
> > > > Feb 11 16:39:20 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/1/3
> > > > Feb 11 16:39:20 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/2/6
> > > > Feb 11 16:39:20 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/3/7
> > > > Feb 11 16:39:20 localhost kernel: restoring control
> > > > 00000000-0000-0000-0000-000000000101/5/9
> > > >
> > > > you can tell me if you need more informations. i make a promise that
> as
> > > > soon as i get this webcam work well, I'll write a walkthrough for
> other
> > > > people that face the same problem.
> > >
> > > I'll try to remember that :-)
> > >
> > > Best regards,
> > >
> > > Laurent Pinchart
> > >
> >
> >
> >
> > --
> > Udrescu Gabriel Florin - A.Faith
> > http://afaith.eu  - Lumea lui A.Faith
> >
>
>


-- 
Udrescu Gabriel Florin - A.Faith
http://afaith.eu  - Lumea lui A.Faith
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080212/6236c4ad/attachment.html>

From kristian at noergaard.dk  Tue Feb 12 21:01:51 2008
From: kristian at noergaard.dk (=?ISO-8859-1?Q?Kristian_N=F8rgaard?=)
Date: Tue, 12 Feb 2008 21:01:51 +0100
Subject: [Linux-uvc-devel] missing support for 0ac8:c303 Z-Star
In-Reply-To: <200802052052.58012.laurent.pinchart@skynet.be>
References: <47A78A38.7020601@noergaard.dk>
	<200802052052.58012.laurent.pinchart@skynet.be>
Message-ID: <47B1FB2F.7030005@noergaard.dk>


> camorame doesn't support v4l2 yet. Please try luvcview, ucview, ekiga, ...
>   
wow, thanks.
ekiga works!

I will need to do some more research on the different applications now.

/ Kristian


From NathanaelGalpin at smarttech.com  Tue Feb 12 21:15:49 2008
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Tue, 12 Feb 2008 13:15:49 -0700
Subject: [Linux-uvc-devel] Camera Restart Error
Message-ID: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc>

I've run into an error using the UVC driver with V4L2 to stream data from webcams. Everything works fine the first time around. I allocate buffers, enque them and then stream data from the camera. However, after stopping the camera and unmapping all the buffers, a subsequent attempt to map buffers and start streaming fails.

The only way I've found to get around this is to close the file handle to the camera and open the device file again. Is this the way it's supposed to work or am I doing something wrong? I'm using the latest UVC driver from SVN on Fedora 8.

If anyone wants I'll post a small sample app demonstrating the problem.

On a related note, whenever an errenous request is made to the camera, it goes into an error state and won't accept any other commands. Is there a way to clear this error state, or should I just close and reopen the device file?

Thanks for any help!

Nathanael
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080212/2c6afaa0/attachment.html>

From mythtv at email.it  Tue Feb 12 21:27:04 2008
From: mythtv at email.it (Franco)
Date: Tue, 12 Feb 2008 21:27:04 +0100
Subject: [Linux-uvc-devel] make: *** [uvcvideo] Error 127
In-Reply-To: <47B16950.8030802@email.it>
References: <47B16950.8030802@email.it>
Message-ID: <47B20118.2050906@email.it>

> get this error:
> 		make: *** [uvcvideo] Error 127
> Error 127 should mean make doesn't find a program it needs, but I can't 

Found it, the file svn-version.sh was missing

Franco



From mxhaard at magic.fr  Tue Feb 12 23:50:16 2008
From: mxhaard at magic.fr (Michel Xhaard)
Date: Tue, 12 Feb 2008 23:50:16 +0100
Subject: [Linux-uvc-devel] Please add support for Logitech Orbicam
	camera in Acer Aspire laptops
In-Reply-To: <f10e98be0802121043q71c78f4fl730b00316a60c4e5@mail.gmail.com>
References: <f10e98be0802121043q71c78f4fl730b00316a60c4e5@mail.gmail.com>
Message-ID: <200802122350.17232.mxhaard@magic.fr>

Le mardi 12 f?vrier 2008 19:43, Tu Vuong a ?crit?:
Hi,
> Hi.
>
> I've been using the gspca v4l1 for a while. It worked but the
> quality's been pretty poor compared to those with v4l2 support. Can you
> add Logitech Orbicam cameras found in Acer Aspire 5583WXMi (the 5580
> family) to the supported list?. Its ID is 046d:0896 .
This webcam is a "Usb Vendor Class" and did not support Usb Video Class 
spec ;-)
>
> I tried to hack uvc_driver.c a bit to force it see the camera, but it
> didn't create the corresponding /dev/video interface :-) .
regards
-- 
Michel Xhaard
http://mxhaard.free.fr


From laurent.pinchart at skynet.be  Tue Feb 12 23:43:05 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 12 Feb 2008 23:43:05 +0100
Subject: [Linux-uvc-devel] revision 179 build errors on AMD64
In-Reply-To: <47B18027.3050800@blueyonder.co.uk>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<20080212020245.GA26169@plankton.ifup.org>
	<47B18027.3050800@blueyonder.co.uk>
Message-ID: <200802122343.05697.laurent.pinchart@skynet.be>

On Tuesday 12 February 2008, Sid Boyce wrote:
> Brandon Philips wrote:
> > On 01:40 Tue 12 Feb 2008, Sid Boyce wrote:
> >> This is as is and when I place #include "uvc_compat.h" after #include
> >> "uvcvideo.h"
> >
> > We are in the middle of getting UVC into mainline and this is a bit of
> > the fallout.  The build should only be broken for 2.6.25 users.
> >
> > Mauro- can we get the control definitions into the next RC?
> >
> >> sepulot:/usr/src/UVC/trunk # make clean && make && make install
> >> rm -f *.o *.ko .*.cmd .*.flags *.mod.c Module.symvers version.h
> >> rm -rf .tmp_versions
> >> Building USB Video Class driver...
> >> make[1]: Entering directory `/usr/src/linux-2.6.25-rc1'
> >>    CC [M]  /usr/src/UVC/trunk/uvc_driver.o
> >>    CC [M]  /usr/src/UVC/trunk/uvc_queue.o
> >>    CC [M]  /usr/src/UVC/trunk/uvc_v4l2.o
> >>    CC [M]  /usr/src/UVC/trunk/uvc_video.o
> >>    CC [M]  /usr/src/UVC/trunk/uvc_ctrl.o
> >> /usr/src/UVC/trunk/uvc_ctrl.c:232: error: ???V4L2_CID_SHARPNESS???
> >> undeclared here (not in a function)
> >> /usr/src/UVC/trunk/uvc_ctrl.c:252: error:
> >
> > ...
> >
> >> Revision 177 is OK except as previously posted, the video freezes in
> >> skype after a number of frames.
> >
> > For now you can downgrade to r178
> >
> >  svn update -r178
> >
> > Cheers,
> >
> > 	Brandon
>
> Thanks, done that. Nice to hear integration into mainline in prospect.

r180 should fix compilation on 2.6.25-r1. I'll revert it if the v4l2 patches 
get merged into 2.6.25.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Feb 13 00:30:24 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 13 Feb 2008 00:30:24 +0100
Subject: [Linux-uvc-devel] Please add support for Logitech Orbicam
	camera in Acer Aspire laptops
In-Reply-To: <f10e98be0802121043q71c78f4fl730b00316a60c4e5@mail.gmail.com>
References: <f10e98be0802121043q71c78f4fl730b00316a60c4e5@mail.gmail.com>
Message-ID: <200802130030.24781.laurent.pinchart@skynet.be>

Hi,

On Tuesday 12 February 2008, Tu Vuong wrote:
> Hi.
>
> I've been using the gspca v4l1 for a while. It worked but the
> quality's been pretty poor compared to those with v4l2 support. Can you
> add Logitech Orbicam cameras found in Acer Aspire 5583WXMi (the 5580
> family) to the supported list?. Its ID is 046d:0896 .
>
> I tried to hack uvc_driver.c a bit to force it see the camera, but it
> didn't create the corresponding /dev/video interface :-) .

The 046d:0896 isn't UVC compatible. It will never be supported by the Linux 
UVC driver.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Feb 13 00:57:09 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 13 Feb 2008 00:57:09 +0100
Subject: [Linux-uvc-devel] Camera Restart Error
In-Reply-To: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc>
References: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc>
Message-ID: <200802130057.09994.laurent.pinchart@skynet.be>

On Tuesday 12 February 2008, Nathanael Galpin wrote:
> I've run into an error using the UVC driver with V4L2 to stream data from
> webcams. Everything works fine the first time around. I allocate buffers,
> enque them and then stream data from the camera. However, after stopping
> the camera and unmapping all the buffers, a subsequent attempt to map
> buffers and start streaming fails.
>
> The only way I've found to get around this is to close the file handle to
> the camera and open the device file again. Is this the way it's supposed to
> work or am I doing something wrong? I'm using the latest UVC driver from
> SVN on Fedora 8.

That's definitely not how this is supposed to work. Your code is probably 
missing something.

> If anyone wants I'll post a small sample app demonstrating the problem.

That would be easier. Without source code I can only guess, and that's not 
what I'm best at.

> On a related note, whenever an errenous request is made to the camera, it
> goes into an error state and won't accept any other commands. Is there a
> way to clear this error state, or should I just close and reopen the device
> file?

Which camera are you talking about ? What kind of erroneous request ? Please 
provide more details along with kernel log messages if available.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Feb 13 01:03:13 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 13 Feb 2008 01:03:13 +0100
Subject: [Linux-uvc-devel] Support for 046d:08b1 Logitech QuickCam
	Notebook Pro
In-Reply-To: <200802121150.45109.ljakab@ac.upc.edu>
References: <200802121150.45109.ljakab@ac.upc.edu>
Message-ID: <200802130103.13295.laurent.pinchart@skynet.be>

Hi,

On Tuesday 12 February 2008, Lor?nd Jakab wrote:
> Hello all,
>
> I have the webcam mentioned in the subject line, and was wondering if it
> will ever be supported by the Linux UVC driver... and if not, why?

It won't, because the Linux UVC driver supports UVC webcams only, and that 
webcam is not UVC compatible.

> I am currently using the Philips pwc driver
> (http://www.saillard.org/linux/pwc/), but it would be great to have a
> UVC driver.

Best regards,

Laurent Pinchart


From vanhtu1987 at gmail.com  Wed Feb 13 01:19:53 2008
From: vanhtu1987 at gmail.com (Tu Vuong)
Date: Wed, 13 Feb 2008 00:19:53 +0000
Subject: [Linux-uvc-devel] Please add support for Logitech Orbicam
	camera in Acer Aspire laptops
Message-ID: <f10e98be0802121619g40756141l10f598caa8cd6bd@mail.gmail.com>

>
> The 046d:0896 isn't UVC compatible. It will never be supported by the
> Linux
> UVC driver.
>
> Best regards,
>

Thanks, I realized it was the case after searching a bit on quickcamteam.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080213/cf398a3a/attachment.html>

From sboyce at blueyonder.co.uk  Wed Feb 13 04:26:05 2008
From: sboyce at blueyonder.co.uk (Sid Boyce)
Date: Wed, 13 Feb 2008 03:26:05 +0000
Subject: [Linux-uvc-devel] revision 179 build errors on AMD64
In-Reply-To: <200802122343.05697.laurent.pinchart@skynet.be>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<20080212020245.GA26169@plankton.ifup.org>
	<47B18027.3050800@blueyonder.co.uk>
	<200802122343.05697.laurent.pinchart@skynet.be>
Message-ID: <47B2634D.3060409@blueyonder.co.uk>

Laurent Pinchart wrote:
> On Tuesday 12 February 2008, Sid Boyce wrote:
>> Brandon Philips wrote:
>>> On 01:40 Tue 12 Feb 2008, Sid Boyce wrote:
>>>> This is as is and when I place #include "uvc_compat.h" after #include
>>>> "uvcvideo.h"
>>> We are in the middle of getting UVC into mainline and this is a bit of
>>> the fallout.  The build should only be broken for 2.6.25 users.
>>>
>>> Mauro- can we get the control definitions into the next RC?
>>>
>>>> sepulot:/usr/src/UVC/trunk # make clean && make && make install
>>>> rm -f *.o *.ko .*.cmd .*.flags *.mod.c Module.symvers version.h
>>>> rm -rf .tmp_versions
>>>> Building USB Video Class driver...
>>>> make[1]: Entering directory `/usr/src/linux-2.6.25-rc1'
>>>>    CC [M]  /usr/src/UVC/trunk/uvc_driver.o
>>>>    CC [M]  /usr/src/UVC/trunk/uvc_queue.o
>>>>    CC [M]  /usr/src/UVC/trunk/uvc_v4l2.o
>>>>    CC [M]  /usr/src/UVC/trunk/uvc_video.o
>>>>    CC [M]  /usr/src/UVC/trunk/uvc_ctrl.o
>>>> /usr/src/UVC/trunk/uvc_ctrl.c:232: error: ???V4L2_CID_SHARPNESS???
>>>> undeclared here (not in a function)
>>>> /usr/src/UVC/trunk/uvc_ctrl.c:252: error:
>>> ...
>>>
>>>> Revision 177 is OK except as previously posted, the video freezes in
>>>> skype after a number of frames.
>>> For now you can downgrade to r178
>>>
>>>  svn update -r178
>>>
>>> Cheers,
>>>
>>> 	Brandon
>> Thanks, done that. Nice to hear integration into mainline in prospect.
> 
> r180 should fix compilation on 2.6.25-r1. I'll revert it if the v4l2 patches
> get merged into 2.6.25.
> 
> Best regards,
> 
> Laurent Pinchart
> 
> 

It works with r180 and 2.6.25-rc1-git2. I get the occasional image 
flicker mostly when it accesses the hard drive, but it does not now freeze.
Thanks and Regards
Sid.
-- 
Sid Boyce ... Hamradio License G3VBV, Licensed Private Pilot
Emeritus IBM/Amdahl Mainframes and Sun/Fujitsu Servers Tech Support 
Specialist, Cricket Coach
Microsoft Windows Free Zone - Linux used for all Computing Tasks



From brandon at ifup.org  Wed Feb 13 09:18:10 2008
From: brandon at ifup.org (Brandon Philips)
Date: Wed, 13 Feb 2008 00:18:10 -0800
Subject: [Linux-uvc-devel] Integrated WebCam not detected
	after	compiling module.
In-Reply-To: <200802121704.20563.rudi@ufpel.edu.br>
References: <200802121704.20563.rudi@ufpel.edu.br>
Message-ID: <20080213081810.GA28669@plankton.ifup.org>

On 17:04 Tue 12 Feb 2008, Rudi Gaelzer wrote:
> I downloaded the svn trunk for the uvcvideo driver, compiled it with "make", 
> thereby creating the kernel modules uvcvideo.ko and uvcvideo.mod.o (plus 
> uvc_queue.o, uvc_status.o and other object files). Then, I issued "make  
> install" and got the same reply as on the guide.
> 
> However, the device is still not recognized, even after a reboot. I tried 
> CamStream, Kopete, and Ekiga; neither was able to find the webcam.
> Also, running twice "make install" did not work.
> Trying "modprobe uvcvideo" returns the following error message:
> 
> FATAL: Module uvcvideo not found.
> 
> For me, it means that the module files were not loaded into the correct 
> directory.

You are running make install as root? 

Run `insmod ./uvcvideo.ko` as root from the UVC build directory.  What
is the output from dmesg?

> When I look into /lib/modules/2.6.23.14-115.fc8/usb/media the directory is 
> empty.

What is `uname -a` on your machine? 

And the output from `ls -la /lib/modules/2.6.23.14-115.fc8/build`?

Cheers,

	Brandon


From sboyce at blueyonder.co.uk  Wed Feb 13 13:39:57 2008
From: sboyce at blueyonder.co.uk (Sid Boyce)
Date: Wed, 13 Feb 2008 12:39:57 +0000
Subject: [Linux-uvc-devel] Integrated WebCam not
	detected	after	compiling module.
In-Reply-To: <mailman.139.1202900556.32677.linux-uvc-devel@lists.berlios.de>
References: <mailman.139.1202900556.32677.linux-uvc-devel@lists.berlios.de>
Message-ID: <47B2E51D.9030800@blueyonder.co.uk>

linux-uvc-devel-request at lists.berlios.de wrote:
> Send Linux-uvc-devel mailing list submissions to
> 	linux-uvc-devel at lists.berlios.de
> 
> To subscribe or unsubscribe via the World Wide Web, visit
> 	https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> or, via email, send a message with subject or body 'help' to
> 	linux-uvc-devel-request at lists.berlios.de
> 
> You can reach the person managing the list at
> 	linux-uvc-devel-owner at lists.berlios.de
> 
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Linux-uvc-devel digest..."
> 
> 
> Today's Topics:
> 
>    1. Re: Integrated WebCam not detected	after	compiling module.
>       (Brandon Philips)
> 
> 
> ----------------------------------------------------------------------
> 
> Message: 1
> Date: Wed, 13 Feb 2008 00:18:10 -0800
> From: Brandon Philips <brandon at ifup.org>
> Subject: Re: [Linux-uvc-devel] Integrated WebCam not detected	after
> 	compiling module.
> To: Rudi Gaelzer <rgaelzer at gmail.com>
> Cc: linux-uvc-devel at lists.berlios.de
> Message-ID: <20080213081810.GA28669 at plankton.ifup.org>
> Content-Type: text/plain; charset=us-ascii
> 
> On 17:04 Tue 12 Feb 2008, Rudi Gaelzer wrote:
>> I downloaded the svn trunk for the uvcvideo driver, compiled it with "make",
>> thereby creating the kernel modules uvcvideo.ko and uvcvideo.mod.o (plus
>> uvc_queue.o, uvc_status.o and other object files). Then, I issued "make
>> install" and got the same reply as on the guide.
>>
>> However, the device is still not recognized, even after a reboot. I tried
>> CamStream, Kopete, and Ekiga; neither was able to find the webcam.
>> Also, running twice "make install" did not work.
>> Trying "modprobe uvcvideo" returns the following error message:
>>
>> FATAL: Module uvcvideo not found.
>>
>> For me, it means that the module files were not loaded into the correct
>> directory.
> 
> You are running make install as root?
> 
> Run `insmod ./uvcvideo.ko` as root from the UVC build directory.  What
> is the output from dmesg?
> 
>> When I look into /lib/modules/2.6.23.14-115.fc8/usb/media the directory is
>> empty.
> 
> What is `uname -a` on your machine?
> 
> And the output from `ls -la /lib/modules/2.6.23.14-115.fc8/build`?
> 
> Cheers,
> 
> 	Brandon
> 
> 
> ------------------------------

Here "make install" also runs "depmod -ae", if it doesn't do that the 
module will not be found.
Installing USB Video Class driver...
make[1]: Entering directory `/usr/src/linux-2.6.25-rc1-git2'
   INSTALL /usr/src/uvc_svn/trunk/uvcvideo.ko
   DEPMOD  2.6.25-rc1-git2-smp
make[1]: Leaving directory `/usr/src/linux-2.6.25-rc1-git2'
depmod -ae

If you really need to know where the module is, "find 
/lib/modules/2.6.23.14-115.fc8 -name uvcvideo.ko print0", however, from 
the Makefile, it should have been installed in the directory you looked 
for it in. You could also copy it there from the source directory where 
it's built and run "depmod -ae".
Regards
Sid.
-- 
Sid Boyce ... Hamradio License G3VBV, Licensed Private Pilot
Emeritus IBM/Amdahl Mainframes and Sun/Fujitsu Servers Tech Support 
Specialist, Cricket Coach
Microsoft Windows Free Zone - Linux used for all Computing Tasks



From cantap at tiscali.it  Wed Feb 13 17:36:55 2008
From: cantap at tiscali.it (Stefano M Canta)
Date: Wed, 13 Feb 2008 10:36:55 -0600
Subject: [Linux-uvc-devel] uvcvideo and snd_usb_audio
In-Reply-To: <47B31BAC.8030905@gmail.com>
References: <47B31BAC.8030905@gmail.com>
Message-ID: <47B31CA7.5000100@tiscali.it>

Hello,
I have noticed that uvcvideo and snd_usb_audio work perfectly on my 
046d:09c1 webcam ONLY IF used SEPARATELY. That means I can either record 
sound or record a video. When on EHCI and on Skype with a videocall, 
then the video gets garbled as soon as audio recording starts.
On OHCI I don't see this problem.
Why do they work perfectly if separate and they mess up when used 
together? Has anybody tried since 2006 to solve this problem? Wouldn't 
it be good to split the two flows of signals (audio and video) so that 
they don't conflict?
Thank you,
Stefano


From NathanaelGalpin at smarttech.com  Wed Feb 13 18:14:40 2008
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Wed, 13 Feb 2008 10:14:40 -0700
Subject: [Linux-uvc-devel] Camera Restart Error
References: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc>
	<200802130057.09994.laurent.pinchart@skynet.be>
Message-ID: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E5A2@calmail1.smarttech.inc>

Hi Laurent,

> > On Tuesday 12 February 2008, Nathanael Galpin wrote:
> > I've run into an error using the UVC driver with V4L2 to stream data from
> > webcams. Everything works fine the first time around. I allocate buffers,
> > enque them and then stream data from the camera. However, after stopping
> > the camera and unmapping all the buffers, a subsequent attempt to map
> > buffers and start streaming fails.
> 
> That's definitely not how this is supposed to work. Your code is probably 
> missing something.

I've attached a small sample app to the bottom of this email. It's written in
C++ and can be compiled with g++ <filename.cpp>.

> > On a related note, whenever an errenous request is made to the camera, it
> > goes into an error state and won't accept any other commands. Is there a
> > way to clear this error state, or should I just close and reopen the device
> > file?
>
> Which camera are you talking about ? What kind of erroneous request ? Please 
> provide more details along with kernel log messages if available.

I wasn't able to get kernel logging enabled last night for the uvc driver (but I
was pretty tired). I'll spend some more time debugging this and post more details
when I have them. I figured I would ask in case there was a generic way to clear
error states in a webcam I wasn't familiar with.

> Best regards,
> Laurent Pinchart

Thanks Laurent,

Nathanael Galpin

Sample App Below

/* Nathanael Galpin 
 *
 * File Name:	testvcamrestart.cpp
 * Description: Tests whether or not streaming data from a camera can be stopped
 *		and started without having to reopen the camera's device file.
 */

#ifdef HAVE_CONFIG_H
#include <config.h>
#endif

#include <errno.h>
#include <fcntl.h>
#include <sys/mman.h>
#include <linux/videodev2.h>
#include <sys/ioctl.h>	
#include <vector>
#include <sys/time.h>
#include <iostream>

#include <cstdlib>


#define CLEAR(x) memset (&(x), 0, sizeof (x))
#define PRINTERR(x,y) cout << "ERROR: " << x << " Code: " << y << endl; return y

typedef unsigned int UINT32;

using namespace std;

UINT32 g_xcount;
vector<char *> m_vecpFrameBuffers;
UINT32 m_uiBufferSize;

int xioctl( int fd, int request, void *arg )
{
	g_xcount++;
	int err;
	
	do err = ioctl( fd, request, arg );
	while ( err == -1 && errno == EINTR );
	
	return err;
}

int ReadFrameLoop( int DevHandle )
{
	for ( int i=0; i<10; i++ )
	{
		struct v4l2_buffer buf;
		CLEAR( buf );
		buf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
		buf.memory = V4L2_MEMORY_MMAP;
		
		if ( xioctl( DevHandle, VIDIOC_DQBUF, &buf ) )
		{
			if ( errno != EAGAIN )
			{
				PRINTERR( "Failed to Dequeue Buffer", errno );
			}
		}
		
		cout << "Processing frame: " << buf.sequence << endl;
		
		
		if ( xioctl( DevHandle, VIDIOC_QBUF, &buf ) == -1 )
		{ PRINTERR( "Unable to re-enque buffer", errno ); }	
	}
}

int RunCam()
{
	int DevHandle;
	
	cout << "Cam Test Project: Restarting a camera." << endl;
	
	// Open Camera and check capabilities
	struct v4l2_capability cap;
	struct v4l2_requestbuffers req;
	
	if ( (DevHandle = open( "/dev/video0" , O_RDWR, 0 )) == -1 )
	{ PRINTERR( "Unable to open device.", errno ); }
	
	if ( xioctl( DevHandle, VIDIOC_QUERYCAP, &cap ) == -1 )
	{ PRINTERR( "Not a V4L2 Device.", errno ); }
	
	if ( !(cap.capabilities & V4L2_CAP_VIDEO_CAPTURE) )
	{ PRINTERR( "Not a Video Capture Device.", -1 ); }
	
	if ( !(cap.capabilities & V4L2_CAP_STREAMING) )
	{ PRINTERR( "Not capable of streaming video.", -1 ); }
	
	cout << "Video Device Found." << endl;
	
	// Set Video Format
	
	struct v4l2_cropcap cropcap;
	struct v4l2_crop crop;
	struct v4l2_format format;
	
	cropcap.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
	if ( ( ioctl( DevHandle, VIDIOC_CROPCAP, &cropcap ) ) == -1 )
	{ PRINTERR( "Error Setting CropCap.", errno ); }
	
	// Reset crop to default
	crop.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
	crop.c = cropcap.defrect;
	if ( ( ioctl( DevHandle, VIDIOC_S_CROP, &crop ) ) == -1 )
	{
		/* EINVAL simply means cropping
		* is not supported.
		*/
		if ( errno != EINVAL )	 
		{ PRINTERR( "Error Setting Crop Area.", errno ); } 
	}
	
	CLEAR( format );
	
	format.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
	format.fmt.pix.width = 640;
	format.fmt.pix.height = 480;
	format.fmt.pix.pixelformat = V4L2_PIX_FMT_YUYV;
	format.fmt.pix.field = V4L2_FIELD_INTERLACED;
	
	if ( ( ioctl( DevHandle, VIDIOC_S_FMT, &format ) ) == -1 )
	{ PRINTERR( "Error Setting Video Format.", errno ); }
	
	cout << "Video Device Configured" << endl;
	
	
	
	// Loop to test Camera Restart
	for (UINT32 i=0; i<2; i++)
	{
		// Map Buffers
		CLEAR( req );
		req.count = 4;
		req.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
		req.memory = V4L2_MEMORY_MMAP;
	
		if ( xioctl( DevHandle, VIDIOC_REQBUFS, &req ) == -1 )
		{ PRINTERR( "Memory Mapped I/O not supported.", errno ); }
	
		if ( req.count < 2 )
		{ PRINTERR( "Insufficient buffer memory on the device", -1 ); }
	
		m_vecpFrameBuffers.resize( req.count );
	
		for ( UINT32 i=0; i<m_vecpFrameBuffers.size(); i++ )
		{
			struct v4l2_buffer buf;
	
			CLEAR( buf );
			buf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
			buf.memory = V4L2_MEMORY_MMAP;
			buf.index = i;
	
			if ( xioctl( DevHandle, VIDIOC_QUERYBUF, &buf ) == -1 )
			{ PRINTERR( "Unable to query buffer.", errno ); }
			else
			{
				m_vecpFrameBuffers[i] = (char *) mmap ( NULL, buf.length,
						PROT_READ | PROT_WRITE,
						MAP_SHARED, DevHandle,
						buf.m.offset );
	
	
				if ( m_vecpFrameBuffers[i] == MAP_FAILED )
				{ PRINTERR( "Mapping buffer failed.", -1 ); }
	
				m_uiBufferSize = buf.length;
			}
		}
	
		cout << "Allocated buffers for camera." << endl;
	
		// Enque Buffers
	
		for ( UINT32 i=0; i<m_vecpFrameBuffers.size(); i++ )
		{
			struct v4l2_buffer buf;
	
			CLEAR( buf );
			buf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
			buf.memory = V4L2_MEMORY_MMAP;
			buf.index = i;
	
			if ( xioctl( DevHandle, VIDIOC_QBUF, &buf ) == -1 )
			{ 
				PRINTERR( "Unable to enque buffer.", errno ); 
				return errno;
			}
		}
	
		cout << "Buffers enqueued to camera." << endl;
	
		// STREAM ON
	
		enum v4l2_buf_type type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
	
		if ( xioctl( DevHandle, VIDIOC_STREAMON, &type ) != 0 )
		{ PRINTERR( "Unable to start camera.", errno ); }
	
		cout << "Streaming data..." << endl;
	
		// Stream some data
	
		ReadFrameLoop( DevHandle );
	
		// STREAM OFF
	
		if ( xioctl( DevHandle, VIDIOC_STREAMOFF, &type ) == -1 )
		{ PRINTERR( "Camera may not have shut down cleanly.", errno ); }
	
		cout << "Streaming data stopped." << endl;
	
	
		for ( UINT32 i=0; i<m_vecpFrameBuffers.size(); i++ )
		{
			if ( munmap( m_vecpFrameBuffers[i], m_uiBufferSize ) == -1 )
			{ PRINTERR( "CViperCam: munmap of buffer failed!", errno ); }
		}
	
		m_vecpFrameBuffers.clear();
	}
	cout << endl << "Terminated Camera - Code: " << close( DevHandle ) << endl;
	return 0;
}

int main(int argc, char *argv[])
{
	RunCam();
	//RunCam();
	
	return EXIT_SUCCESS;
}

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080213/56919226/attachment.html>

From mchehab at infradead.org  Wed Feb 13 19:02:15 2008
From: mchehab at infradead.org (Mauro Carvalho Chehab)
Date: Wed, 13 Feb 2008 16:02:15 -0200
Subject: [Linux-uvc-devel] revision 179 build errors on AMD64
In-Reply-To: <20080212020245.GA26169@plankton.ifup.org>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<47B0F918.4050904@blueyonder.co.uk>
	<20080212020245.GA26169@plankton.ifup.org>
Message-ID: <20080213160215.00190df1@gaivota>

On Mon, 11 Feb 2008 18:02:45 -0800
Brandon Philips <brandon at ifup.org> wrote:

> On 01:40 Tue 12 Feb 2008, Sid Boyce wrote:
> > This is as is and when I place #include "uvc_compat.h" after #include 
> > "uvcvideo.h"
> 
> We are in the middle of getting UVC into mainline and this is a bit of
> the fallout.  The build should only be broken for 2.6.25 users.
> 
> Mauro- can we get the control definitions into the next RC?

Unfortunately, V4L2_CID_SHARPNESS caused a namespace collision with
include/linux/meye.h. Douglas offered to handle this. We can't send
this to kernel before fixing this.

Cheers,
Mauro


From rgaelzer at gmail.com  Wed Feb 13 19:18:47 2008
From: rgaelzer at gmail.com (Rudi Gaelzer)
Date: Wed, 13 Feb 2008 16:18:47 -0200
Subject: [Linux-uvc-devel] Integrated WebCam not detected after
	compiling module.
In-Reply-To: <20080213081810.GA28669@plankton.ifup.org>
References: <200802121704.20563.rudi@ufpel.edu.br>
	<20080213081810.GA28669@plankton.ifup.org>
Message-ID: <200802131618.47517.rudi@ufpel.edu.br>

Thanks for the reply.

On Wednesday 13 February 2008 06:18:10 you wrote:

>
> You are running make install as root?

Affirmative!

>
> Run `insmod ./uvcvideo.ko` as root from the UVC build directory. 

Right off, got the error message:
insmod: error inserting './uvcvideo.ko': -1 unknown symbol in module

>  Whatis the output from dmesg?

The messages from dmesg are:

uvcvideo: Unknown symbol v4l_compat_ioctl32
uvcvideo: Unknown symbol v4l_compat_translate_ioctl
uvcvideo: Unknown symbol video_devdata
uvcvideo: Unknown symbol v4l_printk_ioctl
uvcvideo: Unknown symbol v4l_printk_ioctl
uvcvideo: Unknown symbol  video_unregister_device
uvcvideo: Unknown symbol video_device_alloc
uvcvideo: Unknown symbol video_register_device
uvcvideo: Unknown symbol video_usercopy
uvcvideo: Unknown symbol video_device_release

Does it have anything to do with the fact that the webcam is integrated, and 
not external?
>
> > When I look into /lib/modules/2.6.23.14-115.fc8/usb/media the directory
> > is empty.
>
> What is `uname -a` on your machine?

Linux proteus.universe.net 2.6.23.14-115.fc8 #1 SMP Mon Jan 21 14:22:56 EST 
2008 x86_64 x86_64 x86_64 GNU/Linux


>
> And the output from `ls -la /lib/modules/2.6.23.14-115.fc8/build`?

This is fact a link to ' /usr/src/kernels/2.6.23.14-115.fc8-x86_64'

when I do ' ls -la /usr/src/kernels/2.6.23.14-115.fc8-x86_64' I get the 
entire kernel source tree:

/arch
/block
/crypto
/drivers
...
...
...


>


> Cheers,
>
> 	Brandon

Thanks again.

-- 
Rudi Gaelzer
Department of Physics
Institute of Physics and Mathematics
Federal University of Pelotas
BRAZIL
Registered linux user # 153741


From brandon at ifup.org  Wed Feb 13 21:23:36 2008
From: brandon at ifup.org (Brandon Philips)
Date: Wed, 13 Feb 2008 12:23:36 -0800
Subject: [Linux-uvc-devel] revision 179 build errors on AMD64
In-Reply-To: <20080213160215.00190df1@gaivota>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<47B0F918.4050904@blueyonder.co.uk>
	<20080212020245.GA26169@plankton.ifup.org>
	<20080213160215.00190df1@gaivota>
Message-ID: <20080213202336.GB5860@plankton.ifup.org>

On 16:02 Wed 13 Feb 2008, Mauro Carvalho Chehab wrote:
> On Mon, 11 Feb 2008 18:02:45 -0800
> Brandon Philips <brandon at ifup.org> wrote:
> 
> > On 01:40 Tue 12 Feb 2008, Sid Boyce wrote:
> > > This is as is and when I place #include "uvc_compat.h" after #include 
> > > "uvcvideo.h"
> > 
> > We are in the middle of getting UVC into mainline and this is a bit of
> > the fallout.  The build should only be broken for 2.6.25 users.
> > 
> > Mauro- can we get the control definitions into the next RC?
> 
> Unfortunately, V4L2_CID_SHARPNESS caused a namespace collision with
> include/linux/meye.h. Douglas offered to handle this. We can't send
> this to kernel before fixing this.

Why was I not CC'd on this problem?  It is really trivial.  I will send
out a patch in a second that should be folded with my spec additions on
your git tree.

Thanks,

	Brandon



From laurent.pinchart at skynet.be  Wed Feb 13 23:22:32 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 13 Feb 2008 23:22:32 +0100
Subject: [Linux-uvc-devel] Camera Restart Error
In-Reply-To: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E5A2@calmail1.smarttech.inc>
References: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc>
	<200802130057.09994.laurent.pinchart@skynet.be>
	<8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E5A2@calmail1.smarttech.inc>
Message-ID: <200802132322.32590.laurent.pinchart@skynet.be>

Hi Nathanael,

On Wednesday 13 February 2008, Nathanael Galpin wrote:
> Hi Laurent,
>
> > > On Tuesday 12 February 2008, Nathanael Galpin wrote:
> > > I've run into an error using the UVC driver with V4L2 to stream data
> > > from webcams. Everything works fine the first time around. I allocate
> > > buffers, enque them and then stream data from the camera. However,
> > > after stopping the camera and unmapping all the buffers, a subsequent
> > > attempt to map buffers and start streaming fails.
> >
> > That's definitely not how this is supposed to work. Your code is probably
> > missing something.
>
> I've attached a small sample app to the bottom of this email. It's written
> in C++ and can be compiled with g++ <filename.cpp>.

Thanks. I compiled and ran the application without any visible issue. Here is 
the application output.

Cam Test Project: Restarting a camera.
Video Device Found.
Video Device Configured
Allocated buffers for camera.
Buffers enqueued to camera.
Streaming data...
Processing frame: 0
Processing frame: 1
Processing frame: 2
Processing frame: 3
Processing frame: 4
Processing frame: 5
Processing frame: 6
Processing frame: 7
Processing frame: 8
Processing frame: 9
Streaming data stopped.
Allocated buffers for camera.
Buffers enqueued to camera.
Streaming data...
Processing frame: 0
Processing frame: 1
Processing frame: 2
Processing frame: 3
Processing frame: 4
Processing frame: 5
Processing frame: 6
Processing frame: 7
Processing frame: 8
Processing frame: 9
Streaming data stopped.

Terminated Camera - Code: 0

> > > On a related note, whenever an errenous request is made to the camera,
> > > it goes into an error state and won't accept any other commands. Is
> > > there a way to clear this error state, or should I just close and
> > > reopen the device file?
> >
> > Which camera are you talking about ? What kind of erroneous request ?
> > Please provide more details along with kernel log messages if available.
>
> I wasn't able to get kernel logging enabled last night for the uvc driver
> (but I was pretty tired). I'll spend some more time debugging this and post
> more details when I have them. I figured I would ask in case there was a
> generic way to clear error states in a webcam I wasn't familiar with.

UVC driver logging is controlled by the module's trace parameter. You can set 
it when loading the module with

modprobe uvcvideo trace=xxx

or modify it at runtime with

echo xxx > /sys/modules/uvcvideo/parameters/trace

The parameter is a bitmask. Bit flags are defined in uvcvideo.h and have the 
following meaning:

UVC_TRACE_PROBE		Device probing and scanning
UVC_TRACE_DESCR		Descriptors parsing
UVC_TRACE_CONTROL	Controls registration and requests
UVC_TRACE_FORMAT	Frame format modifications
UVC_TRACE_CAPTURE	Video buffers operations
UVC_TRACE_CALLS		V4L2 calls
UVC_TRACE_IOCTL		V4L2 ioctls
UVC_TRACE_FRAME		Video data frames parsing
UVC_TRACE_SUSPEND	Suspend/resume operations
UVC_TRACE_STATUS	Camera-driven event notifications

Setting UVC_TRACE_FRAME fills the kernel log quite fast. UVC_TRACE_IOCTL and 
UVC_TRACE_CALLS will also print a few messages per frame. Other traces output 
less information.

Best regards,

Laurent Pinchart


From dionoea at videolan.org  Wed Feb 13 23:21:53 2008
From: dionoea at videolan.org (Antoine Cellerier)
Date: Wed, 13 Feb 2008 23:21:53 +0100
Subject: [Linux-uvc-devel] [Fwd: V4L2 and Mplayer]
In-Reply-To: <1202844296.4401.15.camel@linux-q5nk.site>
References: <1202844296.4401.15.camel@linux-q5nk.site>
Message-ID: <20080213222153.GA5484@via.ecp.fr>

On Tue, Feb 12, 2008, Sampsa Riikonen wrote:
> Is there any application that knows how to
> grab V4L2 and a USB microphone at the same time?

I'd use the VLC developpement version, since we now have a v4l2 access
module. Audio input can be Alsa or OSS so I guess that it'll work.
(Although I've never given mplayer's v4l2 module a try, I'm sure that
you could get that to work too...)

-- 
Antoine Cellerier
dionoea


From NathanaelGalpin at smarttech.com  Wed Feb 13 23:25:51 2008
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Wed, 13 Feb 2008 15:25:51 -0700
Subject: [Linux-uvc-devel] Camera Restart Error
In-Reply-To: <200802132322.32590.laurent.pinchart@skynet.be>
References: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc>
	<200802130057.09994.laurent.pinchart@skynet.be>
	<8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E5A2@calmail1.smarttech.inc>
	<200802132322.32590.laurent.pinchart@skynet.be>
Message-ID: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1139F@calmail1.smarttech.inc>

Hi Laurent,

> Thanks. I compiled and ran the application without any visible issue.
Here > is the application output.

> Cam Test Project: Restarting a camera.
> <snip>
> Terminated Camera - Code: 0

Well that tells me something at least. I think the next step will be for
me to look into the camera firmware. Thanks for giving that a run.

> UVC driver logging is controlled by the module's trace parameter. You
can > set it when loading the module ...
> <snip>

I set it to 255 last night, but it didn't seem to be spitting anything
out to dmesg. I think this is probably a Fedora 8 issue, since it seems
like the kernel stops logging anything to dmesg after the initial system
startup.

> Best regards,
> Laurent Pinchart

Thanks again Laurent. Your help is always appreciated.

  -- Nathanael



From laurent.pinchart at skynet.be  Thu Feb 14 00:00:36 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 14 Feb 2008 00:00:36 +0100
Subject: [Linux-uvc-devel] ViewSonic VX2255WMB (Chicony 1.3M 04f2:b021)
In-Reply-To: <Pine.LNX.4.64.0801241819060.5441@bibic.local>
References: <Pine.LNX.4.64.0801142124390.13899@bird.szfki.kfki.hu>
	<200801191247.30047.laurent.pinchart@skynet.be>
	<Pine.LNX.4.64.0801241819060.5441@bibic.local>
Message-ID: <200802140000.36837.laurent.pinchart@skynet.be>

Hi Aurel,

sorry for the long delay.

On Thursday 24 January 2008, Aurel Gabris wrote:
> Hi Laurent,
>
> First of all, it seems that I have a problem with my on-board usb 2.0
> controller. Even after upgrading the BIOS to the most recent one, the USB
> 2.0 host writes this into the syslog:
> usb 4-2: new high speed USB device using ehci_hcd and address 3
> usb 4-2: unable to read config index 0 descriptor/start
> usb 4-2: chopping to 0 config(s)
> usb 4-2: string descriptor 0 read error: -71
> usb 4-2: string descriptor 0 read error: -71
> usb 4-2: string descriptor 0 read error: -71
> usb 4-2: no configuration chosen from 0 choices
>
> (the camera is plugged directly into a port on the motherboard, using the
> cable that came with the monitor)
>
> I've spent hours searching the web for a solution, but no success... I
> have upgraded to latest kernel, latest BIOS: nothing. Interestingly, it
> does seem to work in Windows! Anyway, I just thought I'll mention this,
> perhaps you have some ideas...

You should really raise this issue on the linux-usb-devel mailing list. There 
are a few USB gurus there.

> On the other hand, I tested the webcam with another machine (where USB 2.0
> worked). I tested both with and without the ehci-hcd module. With USB 2.0
> enabled everything was working fine:
>   luvcview (0.2.1)
>   amsn  (0.97b)
>   ekiga (2.0.11)
>
> When I unloaded ehci-hcd and left the USB only with ohci-hcd, I was
> receiving the same errors as I've reported in my last post. So, in
> nutshell luvcview and ekiga was basically usable, but amsn mostly died.
>
>
> There's one strange thing you may be interested in:
>
> With USB 2.0, luvcview can only use the yuv format: jpg dies with "Unable
> to set format: 22".
>
> With USB 1.1, it behaves the contrary: only "-f jpg" works.
>
> I wonder if this is on purpose. If not, I could send you some trace logs.

That's indeed interesting. If you look at the USB descriptors you posted, you 
will notice that the camera reports different frame formats depending on the 
USB version. With USB 2.0 (EHCI) it reports uncompressed formats only, and 
with USB 1.1 (OHCI) it reports compressed formats only. This is completely 
legal, but it's the first time I see a device that disables MJPEG when used 
with a USB 2.0 controller (most devices just disable YUV in USB 1.1 mode).

> So, in summary you can probably include this webcam on the supported list
> (limited support with USB 1.1).

Done. Thanks.

> I'm going to copy here the full outputs of 
> 'lsusb -v' both when the EHCI module was loaded, and when I used it with
> OHCI. The latter may be interesting for you if you'd like to go into the
> yuv<->jpg format issue.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Feb 14 00:04:33 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 14 Feb 2008 00:04:33 +0100
Subject: [Linux-uvc-devel] Camera Restart Error
In-Reply-To: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1139F@calmail1.smarttech.inc>
References: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc>
	<200802132322.32590.laurent.pinchart@skynet.be>
	<8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1139F@calmail1.smarttech.inc>
Message-ID: <200802140004.33115.laurent.pinchart@skynet.be>

Hi Nathanael,

On Wednesday 13 February 2008, Nathanael Galpin wrote:
> Hi Laurent,
>
> > Thanks. I compiled and ran the application without any visible issue. Here
> > is the application output. 
>
> > Cam Test Project: Restarting a camera.
> > <snip>
> > Terminated Camera - Code: 0
>
> Well that tells me something at least. I think the next step will be for
> me to look into the camera firmware. Thanks for giving that a run.

Are you developing a camera ? If so I'm really glad to hear of devices being 
tested with the Linux UVC driver in the development stage.

> > UVC driver logging is controlled by the module's trace parameter. You
> > can set it when loading the module ...
>
> <snip>
>
> I set it to 255 last night, but it didn't seem to be spitting anything
> out to dmesg. I think this is probably a Fedora 8 issue, since it seems
> like the kernel stops logging anything to dmesg after the initial system
> startup.

/proc/sys/kernel/printk tweaking might help (just a wild guess, I don't use 
Fedora).

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Feb 14 00:12:01 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 14 Feb 2008 00:12:01 +0100
Subject: [Linux-uvc-devel]
	=?iso-8859-1?q?new_usb_webcam=3A_04f2=3Ab022_Ch?=
	=?iso-8859-1?q?icony_Electronics=09Co=2E_=2C_Ltd?=
In-Reply-To: <47B1C6AD.7090203@arcor.de>
References: <47B1C6AD.7090203@arcor.de>
Message-ID: <200802140012.01207.laurent.pinchart@skynet.be>

Hi,

On Tuesday 12 February 2008, W at ndo-it, Lewandowsky wrote:
> one more question:
> how can i access the webcam now with other tools than luvcview?
>
> applications like: wegophone or vlc media player?

Try them :-)

The Linux UVC driver is compatible with V4L2 applications. Ekiga is known to 
work.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Feb 14 00:18:57 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 14 Feb 2008 00:18:57 +0100
Subject: [Linux-uvc-devel] 064e:a101 Suyin Corp. and Skype-2.0.0.43-suse
	partial success
In-Reply-To: <47B0FA61.4080802@blueyonder.co.uk>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<200802120003.50182.laurent.pinchart@skynet.be>
	<47B0FA61.4080802@blueyonder.co.uk>
Message-ID: <200802140018.57392.laurent.pinchart@skynet.be>

On Tuesday 12 February 2008, Sid Boyce wrote:
> Laurent Pinchart wrote:
> > On Saturday 09 February 2008, Sid Boyce wrote:
> >> With svn at revision 177, I can now get a picture when I do the skype
> >> camera test, but it freezes after a few frames. Camera is built-in on
> >> Acer Travelmate 7520 laptop.
> >
> > Any suspicious message in the kernel log ?
> >
> > Best regards,
> >
> > Laurent Pinchart
>
> I posted more dmesg info just a while ago. Also another post about build
> errors on revision 179.
>
> [10936.211150] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw
> (0xc0cc5616) [10936.211166] ioctl32(skype:28263): Unknown cmd fd(28)
> cmd(c0cc5616){t:'V';sz:204} arg(f6162e40) on /dev/video0
> [10943.613436] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw
> (0xc0cc5616) [10943.613436] ioctl32(skype:28263): Unknown cmd fd(28)
> cmd(c0cc5616){t:'V';sz:204} arg(f6162e30) on /dev/video0
> [10943.620761] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw
> (0xc0cc5616) [10943.620769] ioctl32(skype:28263): Unknown cmd fd(28)
> cmd(c0cc5616){t:'V';sz:204} arg(f6162e00) on /dev/video0

Funny, if you look at the timestamps, your computer jumps back in time at this 
point. Are you experimenting with time travel ? :-)

> [10942.250515] PGD 8063 PUD 0
> [10942.250523] CPA ffff810080000000 no pte level 0
> [10942.367316] PGD 8063 PUD 0
> [10942.367324] CPA ffff810080000000 no pte level 0
> [10942.415711] PGD 8063 PUD 0
> [10942.415720] CPA ffff810080000000 no pte level 0

I don't know where those messages come from, I'll just assume they don't hurt 
(they look related to memory management).

> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).

Basically, the EHCI scheduler says that the time slot that the URBs should be 
queued for has already elapsed. This is a valid error when a device driver 
specifies a time slot, but not when asking the EHCI scheduler to queue URBs 
ASAP. I believe this is a bug in the EHCI scheduler. Could you try to push 
the issue on the linux-usb-devel mailing list ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Feb 14 00:23:55 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 14 Feb 2008 00:23:55 +0100
Subject: [Linux-uvc-devel] Philips SPC520NC - usbid 0471:0334
In-Reply-To: <c89e0ec50802111312n42904256w24f878b9dcb5afe2@mail.gmail.com>
References: <c89e0ec50802111312n42904256w24f878b9dcb5afe2@mail.gmail.com>
Message-ID: <200802140023.55232.laurent.pinchart@skynet.be>

Hi Nicolas,

On Monday 11 February 2008, pl4nkton at googlemail.com wrote:
> Hello,
>
> I have a Philips SPC520NC web cam with usbid 0471:0334.
> dmesg:
> USB Video Class driver (SVN r177)
> uvcvideo: Found UVC 1.00 device USB Video Camera (0471:0334)
>
> In egika i get only a small green/black picture with horizontal strips.
>
> luvcview gives me:
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal
> init_VideoIn failed

That's pretty normal as your device doesn't support MJPEG, which is the 
default frame format used by luvcview.

> luvcview -f yuv works
>
> ffmpeg works only for a dark picture
> else it stops:
> The v4l2 frame is 608940 bytes, but 614400 bytes are expected
> frame=   28 q=24.3 Lsize=     188kB time=0.9 bitrate=1647.3kbits/s

This is caused by packet loss on the USB bus. ffmpeg shouldn't bail out but 
should skip the image instead. I still have a pending patch to drop 
incomplete frames in the driver, I'll try to integrate it in the near future.

> each cam access make a new line in dmesg:
> uvcvideo: device USB Video Camera requested null bandwidth, defaulting
> to lowest.

> skype works.

Thanks for the report.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Feb 14 00:27:32 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 14 Feb 2008 00:27:32 +0100
Subject: [Linux-uvc-devel] Quickcampro 9000: Protocol Error
In-Reply-To: <120278.33597.qm@web50501.mail.re2.yahoo.com>
References: <120278.33597.qm@web50501.mail.re2.yahoo.com>
Message-ID: <200802140027.32919.laurent.pinchart@skynet.be>

Hi Anand,

On Saturday 09 February 2008, Anand Shankar wrote:
> I get the following errors with quickcam pro 9000. I am using Fedora 8
> Kernel 2.6.23.9-85.fc8 with Rev 177 of the driver from
> http://linux-uvc.berlios.de/
>
> extract from dmesg:
>
> Linux video capture interface: v2.00
> usbcore: registered new interface driver snd-usb-audio
> uvcvideo: Found UVC 1.00 device <unnamed> (046d:0990)
> uvcvideo: Failed to query (1) UVC control 2 (unit 0) : -71 (exp. 26).
> uvcvideo: Failed to initialize the device (-5).
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (SVN r177)

This reminds me of an old friend (look for "Logitech hardware bug" in the 
mailing list archive). It shouldn't (in theory) affect your webcam model.

You posted the same request on quickcamteam.net, I'll ask you to follow up on 
the issue there as the problem is related to a specific Logitech device. 
Martin Rubli will contact me directly if he needs any help, or will ask you 
to come back to the list if needed.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Feb 14 00:45:39 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 14 Feb 2008 00:45:39 +0100
Subject: [Linux-uvc-devel] Slow framerate ...
In-Reply-To: <a81f87bb0801311608o1a72f485rea884e6e3633145b@mail.gmail.com>
References: <a81f87bb0801241713y6aa8538esba971b1e47516923@mail.gmail.com>
	<200801251416.57578.laurent.pinchart@skynet.be>
	<a81f87bb0801311608o1a72f485rea884e6e3633145b@mail.gmail.com>
Message-ID: <200802140045.40004.laurent.pinchart@skynet.be>

Hi Brian,

On Friday 01 February 2008, Brian Pin wrote:
> Hi Laurent, I found the answer why I get slow framerate on Microsoft CAM
> NX600. See the following three lines: (uvc_set_video_ctrl)
> *(__le16*)&data[16] = cpu_to_le16(ctrl->wDelay);
> *(__le32*)&data[18] = cpu_to_le32(ctrl->dwMaxVideoFrameSize);
> *(__le32*)&data[22] = cpu_to_le32(ctrl->dwMaxPayloadTransferSize);
> When I write dwMaxVideoFrameSize to data[18], it over writes the
> wDelay value and makes me like asking for delays in Microsoft CAM, so
> the CAM do what I said, and it gives me slow frame rate, actually the
> delay.
>
> The reason seems like when I try to cast &data[18] to a 32bit address,
> my system transfers it to a 32bit aligned address, which covers the
> address of wDelay. and that's why I get abnormal device behavior.
>
> Is it happening on other ARM platforms too?

Have you been able to solve your problem ? Did the patch I sent you help ?

Best regards,

Laurent Pinchart


From richard at rsk.demon.co.uk  Thu Feb 14 00:44:47 2008
From: richard at rsk.demon.co.uk (Richard Kennedy)
Date: Wed, 13 Feb 2008 23:44:47 +0000
Subject: [Linux-uvc-devel] Camera Restart Error
In-Reply-To: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1139F@calmail1.smarttech.inc>
References: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc>
	<200802130057.09994.laurent.pinchart@skynet.be>
	<8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E5A2@calmail1.smarttech.inc>
	<200802132322.32590.laurent.pinchart@skynet.be>
	<8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1139F@calmail1.smarttech.inc>
Message-ID: <1202946288.2921.3.camel@castor.localdomain>


On Wed, 2008-02-13 at 15:25 -0700, Nathanael Galpin wrote:

> I set it to 255 last night, but it didn't seem to be spitting anything
> out to dmesg. I think this is probably a Fedora 8 issue, since it seems
> like the kernel stops logging anything to dmesg after the initial system
> startup.
> 

Hi Nathanael,

IIRC, Fedora 8 sets the default log level to 3 ( I think !) so that may
be hiding the debug messages. you can set it back to 7 using the magic
sysrq key 

HTH

Richard
 




From shaohuang at gmail.com  Thu Feb 14 00:56:28 2008
From: shaohuang at gmail.com (Brian Pin)
Date: Wed, 13 Feb 2008 15:56:28 -0800
Subject: [Linux-uvc-devel] Slow framerate ...
In-Reply-To: <200802140045.40004.laurent.pinchart@skynet.be>
References: <a81f87bb0801241713y6aa8538esba971b1e47516923@mail.gmail.com>
	<200801251416.57578.laurent.pinchart@skynet.be>
	<a81f87bb0801311608o1a72f485rea884e6e3633145b@mail.gmail.com>
	<200802140045.40004.laurent.pinchart@skynet.be>
Message-ID: <a81f87bb0802131556y35fb24a4n68de04a11397f2d9@mail.gmail.com>

Hello Laurent,
I can't use your patch since I am not in a Linux OS system, but I do
believe your patch is going to be able to work. In my system, I use
the following method to patch these alignment problems:

static uint8_t get_byte(uint32_t dword, int offset)
{
    return (0x000000FF & (dword >> (offset * 8)));
}
:
//*(__le32*)&data[18] = cpu_to_le32(ctrl->dwMaxVideoFrameSize);
data[18] = get_byte(ctrl->dwMaxVideoFrameSize,0);
data[19] = get_byte(ctrl->dwMaxVideoFrameSize,1);
data[20] = get_byte(ctrl->dwMaxVideoFrameSize,2);
data[21] = get_byte(ctrl->dwMaxVideoFrameSize,3);

This is working solution and I carefully inspect these data on my USB
bus, it is fixed.

After I have done fixing the alignment issue, I found my MicroSoft
LifeCam NX-6000 still working on a very slow framerate. Fortunately by
examine the alignment issue I mentioned previously, I had accidentally
found that it is my system that caused the cam to work slowly. (I
added a breakpoint at the code that trying to set the format of the
cam, and that makes the hub_events(..) finished its execution by
stopping at my video streaming thread which has try_set_format
function, in this condition the video starts streaming at 30fps)

So, that's what I said, its my system that caused the streaming slow.
My system currently is a test system that once detect a UVC device, it
will start streaming for a while. There are no typical Linux device
driver architecture on my OS.

I just simulate important things on my system.

Hope that helps

-Brian




On Feb 13, 2008 3:45 PM, Laurent Pinchart <laurent.pinchart at skynet.be> wrote:
> Hi Brian,
>
> On Friday 01 February 2008, Brian Pin wrote:
> > Hi Laurent, I found the answer why I get slow framerate on Microsoft CAM
> > NX600. See the following three lines: (uvc_set_video_ctrl)
> > *(__le16*)&data[16] = cpu_to_le16(ctrl->wDelay);
> > *(__le32*)&data[18] = cpu_to_le32(ctrl->dwMaxVideoFrameSize);
> > *(__le32*)&data[22] = cpu_to_le32(ctrl->dwMaxPayloadTransferSize);
> > When I write dwMaxVideoFrameSize to data[18], it over writes the
> > wDelay value and makes me like asking for delays in Microsoft CAM, so
> > the CAM do what I said, and it gives me slow frame rate, actually the
> > delay.
> >
> > The reason seems like when I try to cast &data[18] to a 32bit address,
> > my system transfers it to a 32bit aligned address, which covers the
> > address of wDelay. and that's why I get abnormal device behavior.
> >
> > Is it happening on other ARM platforms too?
>
> Have you been able to solve your problem ? Did the patch I sent you help ?
>
> Best regards,
>
> Laurent Pinchart
>



-- 
Best Regards
Brian


From laurent.pinchart at skynet.be  Thu Feb 14 01:07:35 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 14 Feb 2008 01:07:35 +0100
Subject: [Linux-uvc-devel] En:Re:  Acer Crystal Eye
In-Reply-To: <JVZSWD$DDFF9DC3465CC9730BDCEFCC61363747@bol.com.br>
References: <JVZSWD$DDFF9DC3465CC9730BDCEFCC61363747@bol.com.br>
Message-ID: <200802140107.35324.laurent.pinchart@skynet.be>

Hi Daniel,

On Saturday 09 February 2008, daniel-linux wrote:
> Hi,
>
> I have the Acer 5720 laptop with Crystal Eye built-in (Bus 007 Device 002:
> ID 064e:a101 Suyin Corp)
>
> It get freeze.. after sometime. But this happens only in distance
> communications, like Brazil to Thailand or Brazil with Australia... I think
> when the connection is not good enough..  my cam dont' work well. If I use
> the cam with someone in my city, example, everything go well.
>
> When the cam freeze the only thing i see in the log is this:
>
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).

Does the message keep repeating forever, or does it stop after some time ? Are 
there other messages output to the kernel log ? The kernel log buffer is 
quite small so you should have a look at the kernel log file in /var/log.

> I am using OpenSuse 10.3 - Linux daniel-laptop 2.6.22.13-0.3-default #1 SMP
> 2007/11/19 15:02:58 UTC i686 i686 i386 GNU/Linux
>
> If needs more informations, please just tell me,

Best regards,

Laurent Pinchart


From sboyce at blueyonder.co.uk  Thu Feb 14 01:02:30 2008
From: sboyce at blueyonder.co.uk (Sid Boyce)
Date: Thu, 14 Feb 2008 00:02:30 +0000
Subject: [Linux-uvc-devel] 064e:a101 Suyin Corp. and Skype-2.0.0.43-suse
 partial success
In-Reply-To: <200802140018.57392.laurent.pinchart@skynet.be>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<200802120003.50182.laurent.pinchart@skynet.be>
	<47B0FA61.4080802@blueyonder.co.uk>
	<200802140018.57392.laurent.pinchart@skynet.be>
Message-ID: <47B38516.7060503@blueyonder.co.uk>

This is with vanilla kernel 2.6.25-rc1.
Regards
Sid.

Laurent Pinchart wrote:
> On Tuesday 12 February 2008, Sid Boyce wrote:
>> Laurent Pinchart wrote:
>>> On Saturday 09 February 2008, Sid Boyce wrote:
>>>> With svn at revision 177, I can now get a picture when I do the skype
>>>> camera test, but it freezes after a few frames. Camera is built-in on
>>>> Acer Travelmate 7520 laptop.
>>> Any suspicious message in the kernel log ?
>>>
>>> Best regards,
>>>
>>> Laurent Pinchart
>> I posted more dmesg info just a while ago. Also another post about build
>> errors on revision 179.
>>
>> [10936.211150] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw
>> (0xc0cc5616) [10936.211166] ioctl32(skype:28263): Unknown cmd fd(28)
>> cmd(c0cc5616){t:'V';sz:204} arg(f6162e40) on /dev/video0
>> [10943.613436] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw
>> (0xc0cc5616) [10943.613436] ioctl32(skype:28263): Unknown cmd fd(28)
>> cmd(c0cc5616){t:'V';sz:204} arg(f6162e30) on /dev/video0
>> [10943.620761] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw
>> (0xc0cc5616) [10943.620769] ioctl32(skype:28263): Unknown cmd fd(28)
>> cmd(c0cc5616){t:'V';sz:204} arg(f6162e00) on /dev/video0
> 
> Funny, if you look at the timestamps, your computer jumps back in time at this
> point. Are you experimenting with time travel ? :-)
> 

>> [10942.250515] PGD 8063 PUD 0
>> [10942.250523] CPA ffff810080000000 no pte level 0
>> [10942.367316] PGD 8063 PUD 0
>> [10942.367324] CPA ffff810080000000 no pte level 0
>> [10942.415711] PGD 8063 PUD 0
>> [10942.415720] CPA ffff810080000000 no pte level 0
> 
> I don't know where those messages come from, I'll just assume they don't hurt
> (they look related to memory management).
> 
>> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
>> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
>> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
>> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
>> [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
> 
> Basically, the EHCI scheduler says that the time slot that the URBs should be
> queued for has already elapsed. This is a valid error when a device driver
> specifies a time slot, but not when asking the EHCI scheduler to queue URBs
> ASAP. I believe this is a bug in the EHCI scheduler. Could you try to push
> the issue on the linux-usb-devel mailing list ?
> 
> Best regards,
> 
> Laurent Pinchart
> 
> 


-- 
Sid Boyce ... Hamradio License G3VBV, Licensed Private Pilot
Emeritus IBM/Amdahl Mainframes and Sun/Fujitsu Servers Tech Support 
Specialist, Cricket Coach
Microsoft Windows Free Zone - Linux used for all Computing Tasks



From herton at mandriva.com.br  Thu Feb 14 01:45:48 2008
From: herton at mandriva.com.br (Herton Ronaldo Krzesinski)
Date: Wed, 13 Feb 2008 22:45:48 -0200
Subject: [Linux-uvc-devel] 064e:a101 Suyin Corp. and Skype-2.0.0.43-suse
	partial success
In-Reply-To: <200802140018.57392.laurent.pinchart@skynet.be>
References: <47ADFE71.7050304@blueyonder.co.uk>
	<47B0FA61.4080802@blueyonder.co.uk>
	<200802140018.57392.laurent.pinchart@skynet.be>
Message-ID: <200802132245.48099.herton@mandriva.com.br>

Em Wednesday 13 February 2008 21:18:57 Laurent Pinchart escreveu:
> On Tuesday 12 February 2008, Sid Boyce wrote:
> > Laurent Pinchart wrote:
> > > On Saturday 09 February 2008, Sid Boyce wrote:
> > >> With svn at revision 177, I can now get a picture when I do the skype
> > >> camera test, but it freezes after a few frames. Camera is built-in on
> > >> Acer Travelmate 7520 laptop.
> > >
> > > Any suspicious message in the kernel log ?
> > >
> > > Best regards,
> > >
> > > Laurent Pinchart
> >
> > I posted more dmesg info just a while ago. Also another post about build
> > errors on revision 179.
> >
> > [10936.211150] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw
> > (0xc0cc5616) [10936.211166] ioctl32(skype:28263): Unknown cmd fd(28)
> > cmd(c0cc5616){t:'V';sz:204} arg(f6162e40) on /dev/video0
> > [10943.613436] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw
> > (0xc0cc5616) [10943.613436] ioctl32(skype:28263): Unknown cmd fd(28)
> > cmd(c0cc5616){t:'V';sz:204} arg(f6162e30) on /dev/video0
> > [10943.620761] compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw
> > (0xc0cc5616) [10943.620769] ioctl32(skype:28263): Unknown cmd fd(28)
> > cmd(c0cc5616){t:'V';sz:204} arg(f6162e00) on /dev/video0
>
> Funny, if you look at the timestamps, your computer jumps back in time at
> this point. Are you experimenting with time travel ? :-)
>
> > [10942.250515] PGD 8063 PUD 0
> > [10942.250523] CPA ffff810080000000 no pte level 0
> > [10942.367316] PGD 8063 PUD 0
> > [10942.367324] CPA ffff810080000000 no pte level 0
> > [10942.415711] PGD 8063 PUD 0
> > [10942.415720] CPA ffff810080000000 no pte level 0
>
> I don't know where those messages come from, I'll just assume they don't
> hurt (they look related to memory management).
>
> > [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
> > [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
> > [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
> > [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
> > [10962.712515] uvcvideo: Failed to resubmit video URB (-45).
>
> Basically, the EHCI scheduler says that the time slot that the URBs should
> be queued for has already elapsed. This is a valid error when a device
> driver specifies a time slot, but not when asking the EHCI scheduler to
> queue URBs ASAP. I believe this is a bug in the EHCI scheduler. Could you
> try to push the issue on the linux-usb-devel mailing list ?

There is an patch here:
http://bugzilla.kernel.org/show_bug.cgi?id=7694
That can solve this, solved a similar problem here with a Syntek webcam (after 
some time of streaming the -EL2NSYNC error would show up).

>
> Best regards,
>
> Laurent Pinchart

-- 
[]'s
Herton


From vradmin at gmail.com  Thu Feb 14 02:47:08 2008
From: vradmin at gmail.com (Albert Chuang)
Date: Thu, 14 Feb 2008 09:47:08 +0800
Subject: [Linux-uvc-devel] Report - workable Device,
	GenesysLogic USB2.0 PC Camera (05E3:0505)
Message-ID: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>

Hi Laurent..

The device GenesysLogic USB2.0 PC Camera (05E3:0505) can work with the
Syntek setting.
Could you add it PID and VID in next revision ?

$ svn diff uvc_driver.c
Index: uvc_driver.c
===================================================================
--- uvc_driver.c        (revision 180)
+++ uvc_driver.c        (working copy)
@@ -1763,8 +1763,8 @@
        /* Syntek (HP Spartan) */
        { .match_flags          = USB_DEVICE_ID_MATCH_DEVICE
                                | USB_DEVICE_ID_MATCH_INT_INFO,
-         .idVendor             = 0x174f,
-         .idProduct            = 0x5212,
+         .idVendor             = 0x05e3,// 0x174f,
+         .idProduct            = 0x0505,//0x5212,
          .bInterfaceClass      = USB_CLASS_VIDEO,
          .bInterfaceSubClass   = 1,
          .bInterfaceProtocol   = 0,



Sincerely,
Albert Chuang
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080214/41a982e0/attachment.html>

From daniel-linux at bol.com.br  Thu Feb 14 03:36:01 2008
From: daniel-linux at bol.com.br (daniel-linux)
Date: Thu, 14 Feb 2008 00:36:01 -0200
Subject: [Linux-uvc-devel] Acer problem
Message-ID: <JW7J81$C3A47BE388525BBB6570208F1DDCF568@bol.com.br>

Hi... sorry for the delay to answer...

Yes.. it keep forever and when freeze.. appear this in the final of the log.

uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Frame complete (EOF found).
uvcvideo: EOF in empty payload.
uvcvideo: uvc_v4l2_poll
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0445611)
uvcvideo: Dequeuing buffer 0.


Bests,
Daniel


> Does the message keep repeating forever, or does it stop after some time ? Are 
> there other messages output to the kernel log ? The kernel log buffer is 
> quite small so you should have a look at the kernel log file in /var/log.

> I am using OpenSuse 10.3 - Linux daniel-laptop 2.6.22.13-0.3-default #1 SMP
> 2007/11/19 15:02:58 UTC i686 i686 i386 GNU/Linux



From brandon at ifup.org  Thu Feb 14 08:31:39 2008
From: brandon at ifup.org (Brandon Philips)
Date: Wed, 13 Feb 2008 23:31:39 -0800
Subject: [Linux-uvc-devel] uvcvideo and snd_usb_audio
In-Reply-To: <47B31CA7.5000100@tiscali.it>
References: <47B31BAC.8030905@gmail.com> <47B31CA7.5000100@tiscali.it>
Message-ID: <20080214073139.GA19113@plankton.ifup.org>

On 10:36 Wed 13 Feb 2008, Stefano M Canta wrote:
> I have noticed that uvcvideo and snd_usb_audio work perfectly on my 
> 046d:09c1 webcam ONLY IF used SEPARATELY. That means I can either record 
> sound or record a video. When on EHCI and on Skype with a videocall, 
> then the video gets garbled as soon as audio recording starts.
> On OHCI I don't see this problem.

What model is your camera?  Can you include the output from dmesg when
the garbling happens?

> Has anybody tried since 2006 to solve this problem? 

What do you mean by 2006?

> Wouldn't it be good to split the two flows of signals (audio and
> video) so that they don't conflict?

The sound and video are split into two different drivers that don't know
about each other so they are separate in that degree.

Thanks,

	Brandon


From brandon at ifup.org  Thu Feb 14 08:34:13 2008
From: brandon at ifup.org (Brandon Philips)
Date: Wed, 13 Feb 2008 23:34:13 -0800
Subject: [Linux-uvc-devel] Report - workable Device,
	GenesysLogic	USB2.0 PC Camera (05E3:0505)
In-Reply-To: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>
References: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>
Message-ID: <20080214073413.GB19113@plankton.ifup.org>

On 09:47 Thu 14 Feb 2008, Albert Chuang wrote:
> The device GenesysLogic USB2.0 PC Camera (05E3:0505) can work with the
> Syntek setting.
>
> Could you add it PID and VID in next revision ?

Does the camera work without adding the PID and VIDs?

Can you please send the output from `lsusb -d 05E3:0505`.

Thanks,

	Brandon


From brandon at ifup.org  Thu Feb 14 08:39:56 2008
From: brandon at ifup.org (Brandon Philips)
Date: Wed, 13 Feb 2008 23:39:56 -0800
Subject: [Linux-uvc-devel] Integrated WebCam not detected
	after	compiling module.
In-Reply-To: <200802131618.47517.rudi@ufpel.edu.br>
References: <200802121704.20563.rudi@ufpel.edu.br>
	<20080213081810.GA28669@plankton.ifup.org>
	<200802131618.47517.rudi@ufpel.edu.br>
Message-ID: <20080214073956.GC28818@plankton.ifup.org>

On 16:18 Wed 13 Feb 2008, Rudi Gaelzer wrote:
> On Wednesday 13 February 2008 06:18:10 you wrote:
> > > When I look into /lib/modules/2.6.23.14-115.fc8/usb/media the directory
> > > is empty.

Can you copy uvcvideo.ko to /lib/modules/2.6.23.14-115.fc8/usb/media and
run depmod -ae?  Does modprobe work after that?

I can only assume something is going wrong when you run make install.
What is the output from the make install?

Cheers,

	Brandon


From scriptkiddie at wp.pl  Thu Feb 14 14:14:05 2008
From: scriptkiddie at wp.pl (Marek Szuba)
Date: Thu, 14 Feb 2008 14:14:05 +0100
Subject: [Linux-uvc-devel] uvcvideo Makefile patch to make depmod use
	KERNEL_VERSION
Message-ID: <20080214141405.6915bf4e@hiperon.ws.hirg>

Hello everyone,

It is a minor issue but nevertheless one worth solving, in my opinion
at least. The thing is, at present depmod in "make install" is called
without passing the value of KERNEL_VERSION to it, meaning that
although it's possible to build and install the module for a different
kernel than the one running, depmod is always called for the runningone
and therefore has to be called manually afterwards, with the version
number of the new kernel, to update the latter's dependency tree. The
attached patch fixes the problem.

Best regards,
-- 
MS
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Makefile-depmod_kernel_version.patch
Type: text/x-patch
Size: 451 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080214/c0ce687e/attachment.bin>

From Eugen.Dedu at pu-pm.univ-fcomte.fr  Thu Feb 14 17:55:59 2008
From: Eugen.Dedu at pu-pm.univ-fcomte.fr (Eugen Dedu)
Date: Thu, 14 Feb 2008 17:55:59 +0100
Subject: [Linux-uvc-devel] UVC: "unknown event type" in /var/log/syslog
Message-ID: <47B4729F.8070303@pu-pm.univ-fcomte.fr>

Hi,

When seing my video using ekiga, my /var/log/syslog file grows very fast
with the following lines:

snoopy:~# tail -f /var/log/messages
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.

I saw also types 51, 117...

This comes from uvc_status.c:90, but I do not know how t interpret it.

I have a macbookpro with isight built-in camera.

Is it normal?

Cheers,
-- 
Eugen Dedu



From NathanaelGalpin at smarttech.com  Thu Feb 14 17:52:55 2008
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Thu, 14 Feb 2008 09:52:55 -0700
Subject: [Linux-uvc-devel] Camera Restart Error
References: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc><200802130057.09994.laurent.pinchart@skynet.be><8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E5A2@calmail1.smarttech.inc><200802132322.32590.laurent.pinchart@skynet.be><8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1139F@calmail1.smarttech.inc>
	<1202946288.2921.3.camel@castor.localdomain>
Message-ID: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E5A6@calmail1.smarttech.inc>

Hi Richard,

> On Wed, 2008-02-13 at 15:25 -0700, Nathanael Galpin wrote:
>
> > I set it to 255 last night, but it didn't seem to be spitting anything
> > out to dmesg. I think this is probably a Fedora 8 issue, since it seems
> > like the kernel stops logging anything to dmesg after the initial system
> > startup.
> > 
> >
> Hi Nathanael,
>
> IIRC, Fedora 8 sets the default log level to 3 ( I think !) so that may
> be hiding the debug messages. you can set it back to 7 using the magic
> sysrq key 

I dropped a post about this onto fedoraforum.org. Turns out Fedora routes these
log messages to /var/log/messages. Thanks for pointing that out though!


> HTH
>
> Richard
 
Cheers,

Nathanael


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080214/85ac8cfa/attachment.html>

From NathanaelGalpin at smarttech.com  Thu Feb 14 22:06:54 2008
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Thu, 14 Feb 2008 14:06:54 -0700
Subject: [Linux-uvc-devel] Camera Restart Error
References: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E59F@calmail1.smarttech.inc>
	<200802130057.09994.laurent.pinchart@skynet.be>
	<8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E5A2@calmail1.smarttech.inc>
	<200802132322.32590.laurent.pinchart@skynet.be>
Message-ID: <8FF3AEDFC5ABAE42A50A92DBBFD702EF02C1E5AA@calmail1.smarttech.inc>

Hi,

> > > On a related note, whenever an errenous request is made to the camera,
> > > it goes into an error state and won't accept any other commands. Is
> > > there a way to clear this error state, or should I just close and
> > > reopen the device file?
> >
> > Which camera are you talking about ? What kind of erroneous request ?
> > Please provide more details along with kernel log messages if available.
>
> I wasn't able to get kernel logging enabled last night for the uvc driver
> (but I was pretty tired). I'll spend some more time debugging this and post
> more details when I have them. I figured I would ask in case there was a
> generic way to clear error states in a webcam I wasn't familiar with.

I spent some more time looking into this. The error occurs when I try to access
one of the extension unit controls I've added.

When the control adds fine and does not report any errors. I can also read from
the control without any errors. Any attempt to write to the control however returns
an I/O Error (5). I did some more digging and I found the errors the kernel is seeing.

It seems like the error originates in the function usb_start_wait_urb (message.c in the usb core section).
I get back both a -32 and a -110, Broken Pipe and Time out respectively. Here's the kernel log...

Feb 13 16:32:53 localhost kernel: unknown ioctl 'U', dir=-w, #4 (0x40085504)
Feb 13 16:32:53 localhost kernel: uvcvideo: Failed to query (1) UVC control 5 (unit 5) : -110 (exp. 2).
Feb 13 16:32:55 localhost kernel: unknown ioctl 'U', dir=-w, #4 (0x40085504)
Feb 13 16:32:55 localhost kernel: uvcvideo: Failed to query (1) UVC control 5 (unit 5) : -32 (exp. 2).
Feb 13 16:33:56 localhost kernel: unknown ioctl 'U', dir=-w, #4 (0x40085504)
Feb 13 16:33:56 localhost kernel: uvcvideo: Failed to query (1) UVC control 5 (unit 5) : -110 (exp. 2).

Again, I'm in Fedora 8, kernel 2.6.23.14-115.fc8

I'll be looking into the firmware on my end (since it's custom), but has anyone encountered this kind of error before?

Thanks,

Nathanael

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080214/1f7b98fb/attachment.html>

From vradmin at gmail.com  Fri Feb 15 02:03:58 2008
From: vradmin at gmail.com (Albert Chuang)
Date: Fri, 15 Feb 2008 09:03:58 +0800
Subject: [Linux-uvc-devel] Report - workable Device,
	GenesysLogic USB2.0 PC Camera (05E3:0505)
In-Reply-To: <20080214073413.GB19113@plankton.ifup.org>
References: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>
	<20080214073413.GB19113@plankton.ifup.org>
Message-ID: <51293c440802141703v13554a88u1445935dff954a52@mail.gmail.com>

Hi Brandon,

it not work if not add pid and vid.
the information from lsusb
ubuntu:~/$ lsusb -d 05e3:0505
Bus 005 Device 021: ID 05e3:0505 Genesys Logic, Inc.
ubuntu:~/$

Regards,
Albert

On Thu, Feb 14, 2008 at 3:34 PM, Brandon Philips <brandon at ifup.org> wrote:

> On 09:47 Thu 14 Feb 2008, Albert Chuang wrote:
> > The device GenesysLogic USB2.0 PC Camera (05E3:0505) can work with the
> > Syntek setting.
> >
> > Could you add it PID and VID in next revision ?
>
> Does the camera work without adding the PID and VIDs?
>
> Can you please send the output from `lsusb -d 05E3:0505`.
>
> Thanks,
>
>        Brandon
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080215/a9341033/attachment.html>

From brandon at ifup.org  Fri Feb 15 02:19:02 2008
From: brandon at ifup.org (Brandon Philips)
Date: Thu, 14 Feb 2008 17:19:02 -0800
Subject: [Linux-uvc-devel] Report - workable Device,
	GenesysLogic	USB2.0 PC Camera (05E3:0505)
In-Reply-To: <51293c440802141703v13554a88u1445935dff954a52@mail.gmail.com>
References: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>
	<20080214073413.GB19113@plankton.ifup.org>
	<51293c440802141703v13554a88u1445935dff954a52@mail.gmail.com>
Message-ID: <20080215011902.GB1807@plankton.ifup.org>

On 09:03 Fri 15 Feb 2008, Albert Chuang wrote:
> the information from lsusb
> ubuntu:~/$ lsusb -d 05e3:0505

Oops!  I meant:

lsusb -v -d 05E3:0505

Could you please include the output from that command when ran as root?

Thanks Again,

	Brandon

> On Thu, Feb 14, 2008 at 3:34 PM, Brandon Philips <brandon at ifup.org> wrote:
> 
> > On 09:47 Thu 14 Feb 2008, Albert Chuang wrote:
> > > The device GenesysLogic USB2.0 PC Camera (05E3:0505) can work with the
> > > Syntek setting.
> > >
> > > Could you add it PID and VID in next revision ?
> >
> > Does the camera work without adding the PID and VIDs?
> >
> > Can you please send the output from `lsusb -d 05E3:0505`.
> >
> > Thanks,
> >
> >        Brandon
> >


From daniel-linux at bol.com.br  Fri Feb 15 03:04:46 2008
From: daniel-linux at bol.com.br (daniel-linux)
Date: Fri, 15 Feb 2008 00:04:46 -0200
Subject: [Linux-uvc-devel] uvcvideo Makefile patch to make depmod use
	KERNEL_VERSION
Message-ID: <JW9CFY$6FE6121A8321571C27CE65AF209D0023@bol.com.br>

Good work... but dont fix my problem in compile linux-uvc using the build system at openSuse 10.3. Here is my output:

make: Entering directory `/usr/src/linux-2.6.22.16-0.2-obj/i386/bigsmp'
make -C ../../../linux-2.6.22.16-0.2 O=../linux-2.6.22.16-0.2-obj/i386/bigsmp modules
  CC [M]  /usr/src/packages/BUILD/uvcvideo-r182/obj/bigsmp/uvc_driver.o
/usr/src/packages/BUILD/uvcvideo-r182/obj/bigsmp/uvc_driver.c:46:21: error: version.h: No such file or directory
make[3]: *** [/usr/src/packages/BUILD/uvcvideo-r182/obj/bigsmp/uvc_driver.o] Error 1
make[2]: *** [_module_/usr/src/packages/BUILD/uvcvideo-r182/obj/bigsmp] Error 2
make[1]: *** [modules] Error 2
make: *** [modules] Error 2
make: Leaving directory `/usr/src/linux-2.6.22.16-0.2-obj/i386/bigsmp'
error: Bad exit status from /var/tmp/rpm-tmp.18658 (%build)

Any tip ?


> Hello everyone,
> 
> It is a minor issue but nevertheless one worth solving, in my opinion
> at least. The thing is, at present depmod in "make install" is called
> without passing the value of KERNEL_VERSION to it, meaning that
> although it's possible to build and install the module for a different
> kernel than the one running, depmod is always called for the runningone
> and therefore has to be called manually afterwards, with the version
> number of the new kernel, to update the latter's dependency tree. The
> attached patch fixes the problem.
> 
> Best regards,
> -- 
> MS
> 



From leszek.jakubowski at gmail.com  Fri Feb 15 05:38:00 2008
From: leszek.jakubowski at gmail.com (Leszek Jakubowski)
Date: Fri, 15 Feb 2008 05:38:00 +0100
Subject: [Linux-uvc-devel] 174f:5a11 not listed, not working
Message-ID: <1203050280.6798.12.camel@volt>

Hello,
I've got 174f:5a11 (mounted in an ASUS A8Sc) and all it's showing in
xawtv is a black window (log below). VID points at Syntek but the
iManufacturer is different. First thing I tried is enabling
UVC_QUIRK_STREAM_NO_FID for it. But it didn't help or I did it wrong
(copy, paste, change .idProduct).

Thanks for all your work.

lsusb -vv:
Bus 006 Device 002: ID 174f:5a11  
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x174f 
  idProduct          0x5a11 
  bcdDevice            5.11
  iManufacturer           2 
  iProduct                1 
  iSerial                 3 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          543
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               1 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              1 
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           77
        dwClockFrequency        6.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               4
        iTerminal               0 
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {28f03370-6311-4a2e-ba2c-6890eb334016}
        bNumControl             1
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0 
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000053f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Power Line Frequency
        iProcessing             0 
        bmVideoStandards     0x65
          None
          PAL - 625/50
          PAL - 525/60
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        1
        wTotalLength                    33025
        bEndPointAddress                    0
        bmInfo                              2
        bTerminalLink                       2
        bStillCaptureMethod                 1
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   614400
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   202752
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   153600
        dwMaxBitRate                  4608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                    50688
        dwMaxBitRate                  1520640
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                    38400
        dwMaxBitRate                  1152000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            26
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        352
        wHeight( 1)                       288
        wWidth( 2)                        320
        wHeight( 2)                       240
        wWidth( 3)                        176
        wHeight( 3)                       144
        wWidth( 4)                        160
        wHeight( 4)                       120
        bNumCompressionPatterns             5
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13e8  3x 1000 bytes
        bInterval               1


dmesg:
[ 5340.424000] usbcore: deregistering interface driver uvcvideo
[ 5344.228000] Linux video capture interface: v2.00
[ 5344.236000] uvcvideo: Found UVC 1.00 device USB 2.0 Camera
(174f:5a11)
[ 5344.272000] usbcore: registered new interface driver uvcvideo
[ 5344.272000] USB Video Class driver (v0.1.0)

xawtv log:
This is xawtv-3.95.dfsg.1, running on Linux/i686 (2.6.22-14-generic)
xinerama 0: 1440x900+0+0
WARNING: No DGA support available for this display.
/dev/video0 [v4l2]: no overlay support
v4l-conf had some trouble, trying to continue anyway
Warning: Cannot convert string
"-*-ledfixed-medium-r-*--39-*-*-*-c-*-*-*" to type FontStruct
ioctl: VIDIOC_G_STD(std=0xb7d3e450b7f3ee73
[PAL_B,PAL_B1,PAL_I,PAL_D,PAL_D1,PAL_N,PAL_Nc,PAL_60,NTSC_M_JP,?,?,SECAM_B,SECAM_D,SECAM_K,SECAM_K1,SECAM_L,?ATSC_8_VSB,ATSC_16_VSB,(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null)]): Invalid argument
ioctl: VIDIOC_S_STD(std=0x0 []): Invalid argument
ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
[];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0;memory=unknown): Invalid argument
ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
[];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0;memory=unknown): Invalid argument

-- 
Leszek Jakubowski




From brandon at ifup.org  Fri Feb 15 06:27:31 2008
From: brandon at ifup.org (Brandon Philips)
Date: Thu, 14 Feb 2008 21:27:31 -0800
Subject: [Linux-uvc-devel] 174f:5a11 not listed, not working
In-Reply-To: <1203050280.6798.12.camel@volt>
References: <1203050280.6798.12.camel@volt>
Message-ID: <20080215052731.GA22690@plankton.ifup.org>

On 05:38 Fri 15 Feb 2008, Leszek Jakubowski wrote:
> I've got 174f:5a11 (mounted in an ASUS A8Sc) and all it's showing in
> xawtv is a black window (log below). 

Can you please try using luvcview:

  http://mxhaard.free.fr/spca50x/Investigation/uvc/luvcview-20070512.tar.gz

> ioctl: VIDIOC_G_STD(std=0xb7d3e450b7f3ee73
> [PAL_B,PAL_B1,PAL_I,PAL_D,PAL_D1,PAL_N,PAL_Nc,PAL_60,NTSC_M_JP,?,?,SECAM_B,SECAM_D,SECAM_K,SECAM_K1,SECAM_L,?ATSC_8_VSB,ATSC_16_VSB,(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null)]):
> Invalid argument ioctl: VIDIOC_S_STD(std=0x0 []): Invalid argument

UVC doesn't support standards, this is expected.

> ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
> [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0;memory=unknown):
> Invalid argument ioctl:
> VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
> [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0;memory=unknown):
> Invalid argument

I am having a hard time understanding what this debugging output is.

Thanks,

	Brandon


From leszek.jakubowski at gmail.com  Fri Feb 15 06:49:29 2008
From: leszek.jakubowski at gmail.com (Leszek Jakubowski)
Date: Fri, 15 Feb 2008 06:49:29 +0100
Subject: [Linux-uvc-devel] 174f:5a11 not listed, not working
In-Reply-To: <20080215052731.GA22690@plankton.ifup.org>
References: <1203050280.6798.12.camel@volt>
	<20080215052731.GA22690@plankton.ifup.org>
Message-ID: <1203054569.6798.14.camel@volt>


Dnia 14-02-2008, czw o godzinie 21:27 -0800, Brandon Philips pisze:
> On 05:38 Fri 15 Feb 2008, Leszek Jakubowski wrote:
> > I've got 174f:5a11 (mounted in an ASUS A8Sc) and all it's showing in
> > xawtv is a black window (log below). 
> 
> Can you please try using luvcview:
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
Unable to set format: 22.
 Init v4L2 failed !! exit fatal

And ./luvcview -L shows this + lists all resolutions from 640x480 to
160x120:
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
/dev/video0 does not support read i/o


> 
>   http://mxhaard.free.fr/spca50x/Investigation/uvc/luvcview-20070512.tar.gz
> 
> > ioctl: VIDIOC_G_STD(std=0xb7d3e450b7f3ee73
> > [PAL_B,PAL_B1,PAL_I,PAL_D,PAL_D1,PAL_N,PAL_Nc,PAL_60,NTSC_M_JP,?,?,SECAM_B,SECAM_D,SECAM_K,SECAM_K1,SECAM_L,?ATSC_8_VSB,ATSC_16_VSB,(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null),(null)]):
> > Invalid argument ioctl: VIDIOC_S_STD(std=0x0 []): Invalid argument
> 
> UVC doesn't support standards, this is expected.
> 
> > ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
> > [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0;memory=unknown):
> > Invalid argument ioctl:
> > VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
> > [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0;memory=unknown):
> > Invalid argument
> 
> I am having a hard time understanding what this debugging output is.
> 
> Thanks,
> 
> 	Brandon

-- 
Leszek Jakubowski




From brandon at ifup.org  Fri Feb 15 07:32:48 2008
From: brandon at ifup.org (Brandon Philips)
Date: Thu, 14 Feb 2008 22:32:48 -0800
Subject: [Linux-uvc-devel] 174f:5a11 not listed, not working
In-Reply-To: <1203054569.6798.14.camel@volt>
References: <1203050280.6798.12.camel@volt>
	<20080215052731.GA22690@plankton.ifup.org>
	<1203054569.6798.14.camel@volt>
Message-ID: <20080215063248.GC17542@plankton.ifup.org>

On 06:49 Fri 15 Feb 2008, Leszek Jakubowski wrote:
> 
> Dnia 14-02-2008, czw o godzinie 21:27 -0800, Brandon Philips pisze:
> > On 05:38 Fri 15 Feb 2008, Leszek Jakubowski wrote:
> > > I've got 174f:5a11 (mounted in an ASUS A8Sc) and all it's showing in
> > > xawtv is a black window (log below). 
> > 
> > Can you please try using luvcview:
> luvcview version 0.2.1 
> Video driver: x11
> A window manager is available
> video /dev/video0 
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal

What is the output in dmesg?

Thanks,

	Brandon


From Marc.Sowen at ibeo-as.com  Fri Feb 15 08:29:43 2008
From: Marc.Sowen at ibeo-as.com (Marc Sowen)
Date: Fri, 15 Feb 2008 08:29:43 +0100
Subject: [Linux-uvc-devel] New UVC camera DFx 21BU04
Message-ID: <OFB2D8D7CB.E0D044B1-ONC12573F0.0028C27D-C12573F0.00292C5D@sick.de>

Hello,

our company just purchased an unlisted UVC compatible camera (DFK 21BU04 
from ImagingSource). Here is the trace output:

[35535.590541] Linux video capture interface: v2.00
[35535.596348] uvcvideo: Adding mapping Brightness to control 
00000000-0000-0000-0000-000000000101/2.
[35535.596544] uvcvideo: Adding mapping Contrast to control 
00000000-0000-0000-0000-000000000101/3.
[35535.596723] uvcvideo: Adding mapping Hue to control 
00000000-0000-0000-0000-000000000101/6.
[35535.596899] uvcvideo: Adding mapping Saturation to control 
00000000-0000-0000-0000-000000000101/7.
[35535.597080] uvcvideo: Adding mapping Sharpness to control 
00000000-0000-0000-0000-000000000101/8.
[35535.597260] uvcvideo: Adding mapping Gamma to control 
00000000-0000-0000-0000-000000000101/9.
[35535.597433] uvcvideo: Adding mapping Backlight Compensation to control 
00000000-0000-0000-0000-000000000101/1.
[35535.597635] uvcvideo: Adding mapping Gain to control 
00000000-0000-0000-0000-000000000101/4.
[35535.597807] uvcvideo: Adding mapping Power Line Frequency to control 
00000000-0000-0000-0000-000000000101/5.
[35535.598006] uvcvideo: Adding mapping Hue, Auto to control 
00000000-0000-0000-0000-000000000101/16.
[35535.598189] uvcvideo: Adding mapping Exposure, Auto to control 
00000000-0000-0000-0000-000000000001/2.
[35535.598378] uvcvideo: Adding mapping Exposure, Auto Priority to control 
00000000-0000-0000-0000-000000000001/3.
[35535.598581] uvcvideo: Adding mapping Exposure (Absolute) to control 
00000000-0000-0000-0000-000000000001/4.
[35535.598779] uvcvideo: Adding mapping White Balance Temperature, Auto to 
control 00000000-0000-0000-0000-000000000101/11.
[35535.598998] uvcvideo: Adding mapping White Balance Temperature to 
control 00000000-0000-0000-0000-000000000101/10.
[35535.599207] uvcvideo: Adding mapping Focus (absolute) to control 
00000000-0000-0000-0000-000000000001/6.
[35535.599400] uvcvideo: Adding mapping Focus, Auto to control 
00000000-0000-0000-0000-000000000001/8.
[35535.599637] uvcvideo: Probing generic UVC device 1
[35535.599752] uvcvideo: Found format YUV 4:2:2 (YUYV).
[35535.599758] uvcvideo: - 640x480 (30.0 fps)
[35535.599764] uvcvideo: Unknown video format 
30303859-0000-0010-8000-00aa00389b71
[35535.599771] uvcvideo: Found format 30303859-0000-0010-8000-00aa003.
[35535.599775] uvcvideo: - 640x480 (30.0 fps)
[35535.599781] uvcvideo: Unknown video format 
20385942-0000-0010-8000-00aa00389b71
[35535.599788] uvcvideo: Found format 20385942-0000-0010-8000-00aa003.
[35535.599793] uvcvideo: - 640x480 (30.0 fps)
[35535.599802] uvcvideo: Found UVC 1.00 device DFx 21BU04 (199e:8101)
[35535.600785] uvcvideo: Added control 
00000000-0000-0000-0000-000000000101/2 to device 1 entity 2
[35535.600793] uvcvideo: Added control 
00000000-0000-0000-0000-000000000101/6 to device 1 entity 2
[35535.600800] uvcvideo: Added control 
00000000-0000-0000-0000-000000000101/7 to device 1 entity 2
[35535.600807] uvcvideo: Added control 
00000000-0000-0000-0000-000000000101/9 to device 1 entity 2
[35535.600814] uvcvideo: Added control 
00000000-0000-0000-0000-000000000101/4 to device 1 entity 2
[35535.600822] uvcvideo: Added control 
00000000-0000-0000-0000-000000000001/2 to device 1 entity 1
[35535.600829] uvcvideo: Added control 
00000000-0000-0000-0000-000000000001/4 to device 1 entity 1
[35535.600836] uvcvideo: Scanning UVC chain: OT 3 <- SU 5 <- PU 2 <- XU 6 
<- IT 4
[35535.600845] uvcvideo: Found a valid video chain (4 -> 3).
[35535.606768] uvcvideo: UVC device initialized.
[35535.606890] usbcore: registered new interface driver uvcvideo
[35535.607010] USB Video Class driver (SVN 
r181)linux-uvc-devel at lists.berlios.de

I haven't tested the camera thorougly yet, but it seems to be recognized. 
Do you know what the two unknown video formats are? They don't seem to be 
supported yet.

Regards,

Marc Sowen
Research Department
______________________________
Ibeo Automobile Sensor GmbH
Merkurring 20
22143 Hamburg, Germany
telephone: +49 (0) 40 298 676 - 44
facsimile: +49 (0) 40 298 676 - 10
mobile: +49 (0)172 424 84 62
mailto: marc.sowen at ibeo-as.com
http://www.ibeo-as.com 
 
IBEO Automobile Sensor GmbH - Sitz: Hamburg - Handelsregister: Hamburg HRB 
67903 
Gesch?ftsf?hrer: Dr. Ulrich S. Lages 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080215/8f61ae7b/attachment.html>

From mythtv at email.it  Fri Feb 15 09:18:19 2008
From: mythtv at email.it (Franco)
Date: Fri, 15 Feb 2008 09:18:19 +0100
Subject: [Linux-uvc-devel] uvcvideo and snd_usb_audio
In-Reply-To: <20080214073139.GA19113@plankton.ifup.org>
References: <47B31BAC.8030905@gmail.com> <47B31CA7.5000100@tiscali.it>
	<20080214073139.GA19113@plankton.ifup.org>
Message-ID: <47B54ACB.7080509@email.it>

>> I have noticed that uvcvideo and snd_usb_audio work perfectly on my 
>> 046d:09c1 webcam ONLY IF used SEPARATELY. That means I can either record 
>> sound or record a video. When on EHCI and on Skype with a videocall, 
>> then the video gets garbled as soon as audio recording starts.

On my case I just can't use video on Skype-Linux.
I have a Philips SPC1300NC camera (0471:0331)
I can voice chat on Skype usig the webcam mic (we are using the same 
webcam and uvcvideo drivers on both ends) but as soon as we try to send 
video, one of the two persons stops receiving audio and the video, too, 
is not received both sides.
Also, the camera remains garbled till next reboot.

As luvcview works, I believed the uvcvideo driver was OK and Skype had a 
problem; maybe it's the opposite?

Franco



From contact at i-nz.net  Fri Feb 15 10:49:46 2008
From: contact at i-nz.net (Ivan N. Zlatev)
Date: Fri, 15 Feb 2008 09:49:46 +0000
Subject: [Linux-uvc-devel] uvcvideo Makefile patch to make depmod use
 KERNEL_VERSION
In-Reply-To: <JW9CFY$6FE6121A8321571C27CE65AF209D0023@bol.com.br>
References: <JW9CFY$6FE6121A8321571C27CE65AF209D0023@bol.com.br>
Message-ID: <47B5603A.6020701@i-nz.net>

daniel-linux wrote:
> Good work... but dont fix my problem in compile linux-uvc using the build system at openSuse 10.3. Here is my output:
> 
> make: Entering directory `/usr/src/linux-2.6.22.16-0.2-obj/i386/bigsmp'
> make -C ../../../linux-2.6.22.16-0.2 O=../linux-2.6.22.16-0.2-obj/i386/bigsmp modules
>   CC [M]  /usr/src/packages/BUILD/uvcvideo-r182/obj/bigsmp/uvc_driver.o
> /usr/src/packages/BUILD/uvcvideo-r182/obj/bigsmp/uvc_driver.c:46:21: error: version.h: No such file or directory
> make[3]: *** [/usr/src/packages/BUILD/uvcvideo-r182/obj/bigsmp/uvc_driver.o] Error 1
> make[2]: *** [_module_/usr/src/packages/BUILD/uvcvideo-r182/obj/bigsmp] Error 2
> make[1]: *** [modules] Error 2
> make: *** [modules] Error 2
> make: Leaving directory `/usr/src/linux-2.6.22.16-0.2-obj/i386/bigsmp'
> error: Bad exit status from /var/tmp/rpm-tmp.18658 (%build)
> 
> Any tip ?
> 

I can build it fine on openSUSE 10.3 also I have a build for multiple 
kernels in the OpenSUSE Build Service. You are probably doing something 
wrong or missing something.

> 
>> Hello everyone,
>>
>> It is a minor issue but nevertheless one worth solving, in my opinion
>> at least. The thing is, at present depmod in "make install" is called
>> without passing the value of KERNEL_VERSION to it, meaning that
>> although it's possible to build and install the module for a different
>> kernel than the one running, depmod is always called for the runningone
>> and therefore has to be called manually afterwards, with the version
>> number of the new kernel, to update the latter's dependency tree. The
>> attached patch fixes the problem.
>>
>> Best regards,
>> -- 
>> MS
>>
> 
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


-- 
Ivan N. Zlatev

Web: http://www.i-nZ.net
"It's all some kind of whacked out conspiracy."


From gabrisa at szfki.hu  Fri Feb 15 18:39:13 2008
From: gabrisa at szfki.hu (Aurel Gabris)
Date: Fri, 15 Feb 2008 18:39:13 +0100 (CET)
Subject: [Linux-uvc-devel] ViewSonic VX2255WMB (Chicony 1.3M 04f2:b021)
In-Reply-To: <200802140000.36837.laurent.pinchart@skynet.be>
References: <Pine.LNX.4.64.0801142124390.13899@bird.szfki.kfki.hu>
	<200801191247.30047.laurent.pinchart@skynet.be>
	<Pine.LNX.4.64.0801241819060.5441@bibic.local>
	<200802140000.36837.laurent.pinchart@skynet.be>
Message-ID: <Pine.LNX.4.64.0802151830240.18502@pingvin.local>

Hi Laurent,

On Thu, 14 Feb 2008, Laurent Pinchart wrote:

> sorry for the long delay.

No problem. But actually I was just about to sign off the list. ;-)

> You should really raise this issue on the linux-usb-devel mailing list. There
> are a few USB gurus there.

Thanks for the thoughts. I have actually gotten my boss to replace that 
machine... It's not good to have a flaky USB anyway.

> That's indeed interesting. If you look at the USB descriptors you posted, you
> will notice that the camera reports different frame formats depending on the

Oh, I wasn't paying attention to that. This makes it obvious that it's not 
a uvc driver issue...

I'm quite happy to use the webcam now. A lot of thanks to you and all the 
contributors for this driver!!!

Best regards,
  Aurel

---------------------------------------------------------
Web:    http://www.szfki.hu/~gabrisa
"Ha ezt el tudja olvasni, minden bizonnyal tud magyarul."
---------------------------------------------------------


From brandon at ifup.org  Fri Feb 15 20:40:23 2008
From: brandon at ifup.org (Brandon Philips)
Date: Fri, 15 Feb 2008 11:40:23 -0800
Subject: [Linux-uvc-devel] Report - workable Device,
	GenesysLogic	USB2.0 PC Camera (05E3:0505)
In-Reply-To: <51293c440802150309t1c6a2efcv7d20f92428d1a38b@mail.gmail.com>
References: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>
	<20080214073413.GB19113@plankton.ifup.org>
	<51293c440802141703v13554a88u1445935dff954a52@mail.gmail.com>
	<20080215011902.GB1807@plankton.ifup.org>
	<51293c440802141745n1909f96cp9c2f47c6da3e0b12@mail.gmail.com>
	<20080215021035.GA19258@plankton.ifup.org>
	<51293c440802142137p7946f94ch11bbd62f87550694@mail.gmail.com>
	<20080215063156.GB17542@plankton.ifup.org>
	<51293c440802150309t1c6a2efcv7d20f92428d1a38b@mail.gmail.com>
Message-ID: <20080215194023.GA26963@plankton.ifup.org>

On 19:09 Fri 15 Feb 2008, Albert Chuang wrote:
> I check the svn log and find it add the toggle bit in some revision.

I don't understand what you are saying here.

> I try the Syntek case and find it can work.

Ok, since you say the camera doesn't work without the quirk I will make
sure it is added.

Cheers,

	Brandon

> On Fri, Feb 15, 2008 at 2:31 PM, Brandon Philips <brandon at ifup.org> wrote:
> > On 13:37 Fri 15 Feb 2008, Albert Chuang wrote:
> > > Oh, I maybe understand your statements.
> > > Do you mean that it should work if the camera is a normal UVC device ?
> > > But I try the genesyslogic camera it seems to need the
> > > UVC_QUIRK_STREAM_NO_FID.
> >
> > Ok, if you tried the device without UVC_QUIRK_STREAM_NO_FID and it
> > didn't work then the entry is needed.  I will clean up your patch and
> > ask Laurent to add it.
> >
> > > So the uvc driver need to decide  the device by the vid and pid and is
> > > it right ?
> >
> > Yes, the PID/VID is needed if the UVC_QUIRK_STREAM_NO_FID quirk is
> > needed.
> >
> > > Maybe I need to study or read uvc spec to get the knowledge about uvc.
> > > I am glad to help if you need  I to try other things. You can tell me.
> >
> > That won't be necessary.  I was trying to figure out why you were adding
> > the entry.  But, as you said UVC_QUIRK_STREAM_NO_FID is required to make
> > it work.
> >
> > Thanks,
> >
> >        Brandon
> >
> > > On Fri, Feb 15, 2008 at 10:10 AM, Brandon Philips <brandon at ifup.org>
> > wrote:
> > > > On 09:45 Fri 15 Feb 2008, Albert Chuang wrote:
> > > > > On Fri, Feb 15, 2008 at 9:19 AM, Brandon Philips <brandon at ifup.org>
> > > > wrote:
> > > > >
> > > > > > On 09:03 Fri 15 Feb 2008, Albert Chuang wrote:
> > > > > > > the information from lsusb
> > > > > > > ubuntu:~/$ lsusb -d 05e3:0505
> > > > > >
> > > > > > Oops!  I meant:
> > > > > >
> > > > > > lsusb -v -d 05E3:0505
> > > > > >
> > > > > > Could you please include the output from that command when ran as
> > > > root?
> > > > > >
> > > > > > Thanks Again,
> > > > > >
> > > > > >        Brandon
> > > > > >
> > > > > > oh...that's all right..
> > > > > what do you want to get any informations from the output ?
> > > >
> > > > Just curious why a new PID/VID entry is needed to get this device
> > > > working.  Does the camera not work without the UVC_QUIRK_STREAM_NO_FID
> > > > quirk?
> > > >
> > > > >     Interface Descriptor:
> > > > >       bLength                 9
> > > > >       bDescriptorType         4
> > > > >       bInterfaceNumber        0
> > > > >       bAlternateSetting       0
> > > > >       bNumEndpoints           1
> > > > >       bInterfaceClass        14 Video
> > > > >       bInterfaceSubClass      1 Video Control
> > > > >       bInterfaceProtocol      0
> > > >
> > > > If it works without the quirk we shouldn't need the PID/VID entries
> > > > since it identifies itself as a video class device.
> > > >
> > > > Thanks again!
> > > >
> > > > Cheers,
> > > >
> > > >        Brandon
> > > >
> >


From brandon at ifup.org  Sat Feb 16 00:18:49 2008
From: brandon at ifup.org (Brandon Philips)
Date: Fri, 15 Feb 2008 15:18:49 -0800
Subject: [Linux-uvc-devel] [PATCH] [uvcvideo] Add GenesysLogic with
	UVC_QUIRK_STREAM_NO_FID
Message-ID: <20080215231849.GB5263@plankton.ifup.org>

As reported by Albert Chuang <vradmin at gmail.com> a quirk is necessary
for this device.

Signed-off-by: Brandon Philips <bphilips at suse.de>

---
 uvc_driver.c |    9 +++++++++
 1 file changed, 9 insertions(+)

Index: uvc/uvc_driver.c
===================================================================
--- uvc.orig/uvc_driver.c
+++ uvc/uvc_driver.c
@@ -1771,6 +1771,15 @@ static struct usb_device_id uvc_ids[] = 
 	  .bInterfaceSubClass	= 1,
 	  .bInterfaceProtocol	= 0,
 	  .driver_info		= UVC_QUIRK_STREAM_NO_FID },
+	/* GenesysLogic USB2.0 PC Camera */
+	{ .match_flags		= USB_DEVICE_ID_MATCH_DEVICE
+				| USB_DEVICE_ID_MATCH_INT_INFO,
+	  .idVendor		= 0x05e3,
+	  .idProduct		= 0x0505,
+	  .bInterfaceClass	= USB_CLASS_VIDEO,
+	  .bInterfaceSubClass	= 1,
+	  .bInterfaceProtocol	= 0,
+	  .driver_info		= UVC_QUIRK_STREAM_NO_FID },
 	/* Ecamm Pico iMage */
 	{ .match_flags		= USB_DEVICE_ID_MATCH_DEVICE
 				| USB_DEVICE_ID_MATCH_INT_INFO,


From brandon at ifup.org  Sat Feb 16 00:21:02 2008
From: brandon at ifup.org (Brandon Philips)
Date: Fri, 15 Feb 2008 15:21:02 -0800
Subject: [Linux-uvc-devel] [PATCH] [uvcvideo] Add a testquirk module param
Message-ID: <20080215232102.GC5263@plankton.ifup.org>

Allow people to test quirks without recompiling but strongly discourage
the use with a kernel log message.  Example:

  modprobe uvcvideo testquirk=10 # UVC_QUIRK_STREAM_NO_FID

Signed-off-by: Brandon Philips <bphilips at suse.de>

---
 uvc_driver.c |   14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

Index: uvc/uvc_driver.c
===================================================================
--- uvc.orig/uvc_driver.c
+++ uvc/uvc_driver.c
@@ -51,6 +51,8 @@
 #define DRIVER_VERSION		"v0.1.0"
 #endif
 
+static unsigned int uvc_testquirk_param;
+
 /* ------------------------------------------------------------------------
  * Control, formats, ...
  */
@@ -1539,7 +1541,7 @@ static int uvc_probe(struct usb_interfac
 	dev->udev = usb_get_dev(udev);
 	dev->intf = usb_get_intf(intf);
 	dev->intfnum = intf->cur_altsetting->desc.bInterfaceNumber;
-	dev->quirks = id->driver_info;
+	dev->quirks = id->driver_info | uvc_testquirk_param;
 
 	/* Parse the Video Class control descriptor */
 	if (uvc_parse_control(dev) < 0) {
@@ -1553,6 +1555,14 @@ static int uvc_probe(struct usb_interfac
 		le16_to_cpu(udev->descriptor.idVendor),
 		le16_to_cpu(udev->descriptor.idProduct));
 
+	if (uvc_testquirk_param != 0) {
+		uvc_printk(KERN_INFO, "WARNING: testquirk param (%d) is set, "
+					"this is for testing only.\nPlease "
+					"report required quirks to the "
+					"linux-uvc mailing list.\n",
+					uvc_testquirk_param);
+	}
+
 	/* Initialize controls */
 	if (uvc_ctrl_init_device(dev) < 0)
 		goto error;
@@ -1877,6 +1887,8 @@ module_exit(uvc_cleanup);
 unsigned int uvc_trace_param = 0;
 module_param_named(trace, uvc_trace_param, uint, S_IRUGO|S_IWUSR);
 
+module_param_named(testquirk, uvc_testquirk_param, uint, S_IRUGO|S_IWUSR);
+
 MODULE_AUTHOR(DRIVER_AUTHOR);
 MODULE_DESCRIPTION(DRIVER_DESC);
 MODULE_LICENSE("GPL");


From vradmin at gmail.com  Sat Feb 16 07:23:00 2008
From: vradmin at gmail.com (Albert Chuang)
Date: Sat, 16 Feb 2008 14:23:00 +0800
Subject: [Linux-uvc-devel] Report - workable Device,
	GenesysLogic USB2.0 PC Camera (05E3:0505)
In-Reply-To: <20080215194023.GA26963@plankton.ifup.org>
References: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>
	<20080214073413.GB19113@plankton.ifup.org>
	<51293c440802141703v13554a88u1445935dff954a52@mail.gmail.com>
	<20080215011902.GB1807@plankton.ifup.org>
	<51293c440802141745n1909f96cp9c2f47c6da3e0b12@mail.gmail.com>
	<20080215021035.GA19258@plankton.ifup.org>
	<51293c440802142137p7946f94ch11bbd62f87550694@mail.gmail.com>
	<20080215063156.GB17542@plankton.ifup.org>
	<51293c440802150309t1c6a2efcv7d20f92428d1a38b@mail.gmail.com>
	<20080215194023.GA26963@plankton.ifup.org>
Message-ID: <51293c440802152223m1537240epa29d4c3a9f6bc7cd@mail.gmail.com>

On Feb 16, 2008 3:40 AM, Brandon Philips <brandon at ifup.org> wrote:

> On 19:09 Fri 15 Feb 2008, Albert Chuang wrote:
> > I check the svn log and find it add the toggle bit in some revision.
>
> I don't understand what you are saying here.


I do command "svn log" and in r170
------------------------------------------------------------------------
r170 | pinchartl | 2008-01-18 08:13:21 +0800 (Fri, 18 Jan 2008) | 8 lines

Add EOF sync quirk and use with Syntek 174f:5212

The Syntek 174f:5212 UVC camera in HP Spartan laptops doesn't toggle the FID
bit. This patch adds a quirk to synchronize on the EOF bit only.

Thanks to Claudio Matsuoka and Herton Ronaldo Krzesinski from Mandriva for
reporting the issue and submitting a first patch proposal.
------------------------------------------------------------------------



>
>
> > I try the Syntek case and find it can work.
>
> Ok, since you say the camera doesn't work without the quirk I will make
> sure it is added.
>
> Cheers,
>
>        Brandon
>
> > On Fri, Feb 15, 2008 at 2:31 PM, Brandon Philips <brandon at ifup.org>
> wrote:
> > > On 13:37 Fri 15 Feb 2008, Albert Chuang wrote:
> > > > Oh, I maybe understand your statements.
> > > > Do you mean that it should work if the camera is a normal UVC device
> ?
> > > > But I try the genesyslogic camera it seems to need the
> > > > UVC_QUIRK_STREAM_NO_FID.
> > >
> > > Ok, if you tried the device without UVC_QUIRK_STREAM_NO_FID and it
> > > didn't work then the entry is needed.  I will clean up your patch and
> > > ask Laurent to add it.
> > >
> > > > So the uvc driver need to decide  the device by the vid and pid and
> is
> > > > it right ?
> > >
> > > Yes, the PID/VID is needed if the UVC_QUIRK_STREAM_NO_FID quirk is
> > > needed.
> > >
> > > > Maybe I need to study or read uvc spec to get the knowledge about
> uvc.
> > > > I am glad to help if you need  I to try other things. You can tell
> me.
> > >
> > > That won't be necessary.  I was trying to figure out why you were
> adding
> > > the entry.  But, as you said UVC_QUIRK_STREAM_NO_FID is required to
> make
> > > it work.
> > >
> > > Thanks,
> > >
> > >        Brandon
> > >
> > > > On Fri, Feb 15, 2008 at 10:10 AM, Brandon Philips <brandon at ifup.org>
> > > wrote:
> > > > > On 09:45 Fri 15 Feb 2008, Albert Chuang wrote:
> > > > > > On Fri, Feb 15, 2008 at 9:19 AM, Brandon Philips <
> brandon at ifup.org>
> > > > > wrote:
> > > > > >
> > > > > > > On 09:03 Fri 15 Feb 2008, Albert Chuang wrote:
> > > > > > > > the information from lsusb
> > > > > > > > ubuntu:~/$ lsusb -d 05e3:0505
> > > > > > >
> > > > > > > Oops!  I meant:
> > > > > > >
> > > > > > > lsusb -v -d 05E3:0505
> > > > > > >
> > > > > > > Could you please include the output from that command when ran
> as
> > > > > root?
> > > > > > >
> > > > > > > Thanks Again,
> > > > > > >
> > > > > > >        Brandon
> > > > > > >
> > > > > > > oh...that's all right..
> > > > > > what do you want to get any informations from the output ?
> > > > >
> > > > > Just curious why a new PID/VID entry is needed to get this device
> > > > > working.  Does the camera not work without the
> UVC_QUIRK_STREAM_NO_FID
> > > > > quirk?
> > > > >
> > > > > >     Interface Descriptor:
> > > > > >       bLength                 9
> > > > > >       bDescriptorType         4
> > > > > >       bInterfaceNumber        0
> > > > > >       bAlternateSetting       0
> > > > > >       bNumEndpoints           1
> > > > > >       bInterfaceClass        14 Video
> > > > > >       bInterfaceSubClass      1 Video Control
> > > > > >       bInterfaceProtocol      0
> > > > >
> > > > > If it works without the quirk we shouldn't need the PID/VID
> entries
> > > > > since it identifies itself as a video class device.
> > > > >
> > > > > Thanks again!
> > > > >
> > > > > Cheers,
> > > > >
> > > > >        Brandon
> > > > >
> > >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080216/574f6135/attachment.html>

From daniel-linux at bol.com.br  Sat Feb 16 16:36:34 2008
From: daniel-linux at bol.com.br (daniel-linux)
Date: Sat, 16 Feb 2008 13:36:34 -0200
Subject: [Linux-uvc-devel] Another Suyin Corp  problem
Message-ID: <JWC8OY$7A8DCD24A9614164BA5D3E3CBE7235E6@bol.com.br>

Hi.. my cam just freeze.. and when i went to dmesg.. i saw this.

uvcvideo: Failed to resubmit video URB (-45).


--------

Bus 007 Device 002: ID 064e:a101 Suyin Corp.
Linux bd07b407 2.6.22.17-0.1-default #1 SMP 2008/02/10 20:01:04 UTC i686 i686 i386 GNU/Linux - openSuse 10.3

Daniel




From daniel-linux at bol.com.br  Sat Feb 16 16:36:53 2008
From: daniel-linux at bol.com.br (daniel-linux)
Date: Sat, 16 Feb 2008 13:36:53 -0200
Subject: [Linux-uvc-devel] Another Suyin Corp  problem
Message-ID: <JWC8PH$EA729E7DFD2A5576908897E3A4EBE50C@bol.com.br>

Hi.. my cam just freeze.. and when i went to dmesg.. i saw this.

uvcvideo: Failed to resubmit video URB (-45).


--------

Bus 007 Device 002: ID 064e:a101 Suyin Corp.
Linux bd07b407 2.6.22.17-0.1-default #1 SMP 2008/02/10 20:01:04 UTC i686 i686 i386 GNU/Linux - openSuse 10.3

Daniel




From frederik.rozon at gmail.com  Sun Feb 17 04:41:58 2008
From: frederik.rozon at gmail.com (=?UTF-8?Q?Fr=C3=A9d=C3=A9rik_Rozon?=)
Date: Sat, 16 Feb 2008 22:41:58 -0500
Subject: [Linux-uvc-devel] Disabling Auto Exposure
Message-ID: <efcf3cf90802161941m3ce1597ah26ff86e39735698d@mail.gmail.com>

Hi everyone,

I know this has been discused before, but I just can't disable the
auto exposure feature on my Quickcam pro 5000. I'm coding a computer
vision program using the latest version of uvc (as of Febuary 16th).
I'm a newbie user of uvc, and I've look some sample programs, and I'm
confused about the fact that the IDs of the commands seems to change
between versions of uvc. So how do I know which one is the correct
one? Is V4L2_CID_EXPOSURE_AUTO the correct command ID for this
feature?

Here is the code I use for setting a control:

int
input_set_control (struct vdIn * device, unsigned int control, int val)
{

    int fd, ret;
    struct v4l2_control c;

    c.id  = control;
    c.value = val;
    ret = ioctl (fd, VIDIOC_S_CTRL, &c);

    return ret;
}

It always returns -1 for V4L2_CID_EXPOSURE_AUTO.

Thanks for your help.

-- 
Fr?d?rik Rozon
LIGUM - Universit? de Montr?al
http://www-etud.iro.umontreal.ca/~rozonfre

From laurent.pinchart at skynet.be  Tue Feb 19 00:06:36 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 19 Feb 2008 00:06:36 +0100
Subject: [Linux-uvc-devel] uvcvideo Makefile patch to make depmod use
	KERNEL_VERSION
In-Reply-To: <20080214141405.6915bf4e@hiperon.ws.hirg>
References: <20080214141405.6915bf4e@hiperon.ws.hirg>
Message-ID: <200802190006.36933.laurent.pinchart@skynet.be>

Hi Marek,

On Thursday 14 February 2008, Marek Szuba wrote:
> Hello everyone,
>
> It is a minor issue but nevertheless one worth solving, in my opinion
> at least. The thing is, at present depmod in "make install" is called
> without passing the value of KERNEL_VERSION to it, meaning that
> although it's possible to build and install the module for a different
> kernel than the one running, depmod is always called for the runningone
> and therefore has to be called manually afterwards, with the version
> number of the new kernel, to update the latter's dependency tree. The
> attached patch fixes the problem.

Thanks for the patch. I've just applied it.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 19 00:13:35 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 19 Feb 2008 00:13:35 +0100
Subject: [Linux-uvc-devel] Report - workable Device,
	GenesysLogic USB2.0 PC Camera (05E3:0505)
In-Reply-To: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>
References: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>
Message-ID: <200802190013.35736.laurent.pinchart@skynet.be>

Hi Albert,

On Thursday 14 February 2008, Albert Chuang wrote:
> Hi Laurent..
>
> The device GenesysLogic USB2.0 PC Camera (05E3:0505) can work with the
> Syntek setting.
> Could you add it PID and VID in next revision ?

Could you please post the output of lsusb -v -d 05E3:0505 (using usbutils 0.72 
or newer) ? I'll then add an entry for your device to the driver.

Best regards,

Laurent Pinchart


From brandon at ifup.org  Tue Feb 19 00:17:44 2008
From: brandon at ifup.org (Brandon Philips)
Date: Mon, 18 Feb 2008 15:17:44 -0800
Subject: [Linux-uvc-devel] Report - workable Device,
	GenesysLogic	USB2.0 PC Camera (05E3:0505)
In-Reply-To: <200802190013.35736.laurent.pinchart@skynet.be>
References: <51293c440802131747s5bfd3ea8o81eb2796626fecac@mail.gmail.com>
	<200802190013.35736.laurent.pinchart@skynet.be>
Message-ID: <20080218231744.GC5316@plankton.ifup.org>

On 00:13 Tue 19 Feb 2008, Laurent Pinchart wrote:
> Hi Albert,
> 
> On Thursday 14 February 2008, Albert Chuang wrote:
> > Hi Laurent..
> >
> > The device GenesysLogic USB2.0 PC Camera (05E3:0505) can work with the
> > Syntek setting.
> > Could you add it PID and VID in next revision ?
> 
> Could you please post the output of lsusb -v -d 05E3:0505 (using usbutils 0.72 
> or newer) ? I'll then add an entry for your device to the driver.

I sent you a patch based on this thread:

 [PATCH] [uvcvideo] Add GenesysLogic with UVC_QUIRK_STREAM_NO_FID

The output from lsusb that Albert sent the list a few days ago:

Bus 005 Device 021: ID 05e3:0505 Genesys Logic, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x05e3 Genesys Logic, Inc.
  idProduct          0x0505
  bcdDevice            2.20
  iManufacturer           0
  iProduct                1 USB 2.0 Camera
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          359
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              0
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           51
        dwClockFrequency        3.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             4
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               3
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000053f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x65
          None
          PAL - 625/50
          PAL - 525/60
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0004  1x 4 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        1
        wTotalLength                    33024
        bEndPointAddress                    0
        bmInfo                              4
        bTerminalLink                       1
        bStillCaptureMethod                 0
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 18432000
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1152000
        dwMaxBitRate                  1152000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  1520640
        dwMaxBitRate                  1520640
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  4608000
        dwMaxBitRate                  4608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  6082560
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     0 (Unspecified)
        bTransferCharacteristics            0 (Unspecified)
        bMatrixCoefficients                 0 (Unspecified)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0400  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0c00  2x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)

Cheers,

	Brandon


From laurent.pinchart at skynet.be  Tue Feb 19 00:39:43 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 19 Feb 2008 00:39:43 +0100
Subject: [Linux-uvc-devel] New UVC camera DFx 21BU04
In-Reply-To: <OFB2D8D7CB.E0D044B1-ONC12573F0.0028C27D-C12573F0.00292C5D@sick.de>
References: <OFB2D8D7CB.E0D044B1-ONC12573F0.0028C27D-C12573F0.00292C5D@sick.de>
Message-ID: <200802190039.43951.laurent.pinchart@skynet.be>

Hi Marc,

On Friday 15 February 2008, Marc Sowen wrote:
> Hello,
>
> our company just purchased an unlisted UVC compatible camera (DFK 21BU04
> from ImagingSource). Here is the trace output:
>
> [35535.590541] Linux video capture interface: v2.00
> [35535.596348] uvcvideo: Adding mapping Brightness to control
> 00000000-0000-0000-0000-000000000101/2.
> [35535.596544] uvcvideo: Adding mapping Contrast to control
> 00000000-0000-0000-0000-000000000101/3.
> [35535.596723] uvcvideo: Adding mapping Hue to control
> 00000000-0000-0000-0000-000000000101/6.
> [35535.596899] uvcvideo: Adding mapping Saturation to control
> 00000000-0000-0000-0000-000000000101/7.
> [35535.597080] uvcvideo: Adding mapping Sharpness to control
> 00000000-0000-0000-0000-000000000101/8.
> [35535.597260] uvcvideo: Adding mapping Gamma to control
> 00000000-0000-0000-0000-000000000101/9.
> [35535.597433] uvcvideo: Adding mapping Backlight Compensation to control
> 00000000-0000-0000-0000-000000000101/1.
> [35535.597635] uvcvideo: Adding mapping Gain to control
> 00000000-0000-0000-0000-000000000101/4.
> [35535.597807] uvcvideo: Adding mapping Power Line Frequency to control
> 00000000-0000-0000-0000-000000000101/5.
> [35535.598006] uvcvideo: Adding mapping Hue, Auto to control
> 00000000-0000-0000-0000-000000000101/16.
> [35535.598189] uvcvideo: Adding mapping Exposure, Auto to control
> 00000000-0000-0000-0000-000000000001/2.
> [35535.598378] uvcvideo: Adding mapping Exposure, Auto Priority to control
> 00000000-0000-0000-0000-000000000001/3.
> [35535.598581] uvcvideo: Adding mapping Exposure (Absolute) to control
> 00000000-0000-0000-0000-000000000001/4.
> [35535.598779] uvcvideo: Adding mapping White Balance Temperature, Auto to
> control 00000000-0000-0000-0000-000000000101/11.
> [35535.598998] uvcvideo: Adding mapping White Balance Temperature to
> control 00000000-0000-0000-0000-000000000101/10.
> [35535.599207] uvcvideo: Adding mapping Focus (absolute) to control
> 00000000-0000-0000-0000-000000000001/6.
> [35535.599400] uvcvideo: Adding mapping Focus, Auto to control
> 00000000-0000-0000-0000-000000000001/8.
> [35535.599637] uvcvideo: Probing generic UVC device 1
> [35535.599752] uvcvideo: Found format YUV 4:2:2 (YUYV).
> [35535.599758] uvcvideo: - 640x480 (30.0 fps)
> [35535.599764] uvcvideo: Unknown video format
> 30303859-0000-0010-8000-00aa00389b71
> [35535.599771] uvcvideo: Found format 30303859-0000-0010-8000-00aa003.
> [35535.599775] uvcvideo: - 640x480 (30.0 fps)
> [35535.599781] uvcvideo: Unknown video format
> 20385942-0000-0010-8000-00aa00389b71
> [35535.599788] uvcvideo: Found format 20385942-0000-0010-8000-00aa003.
> [35535.599793] uvcvideo: - 640x480 (30.0 fps)
> [35535.599802] uvcvideo: Found UVC 1.00 device DFx 21BU04 (199e:8101)
> [35535.600785] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/2 to device 1 entity 2
> [35535.600793] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/6 to device 1 entity 2
> [35535.600800] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/7 to device 1 entity 2
> [35535.600807] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/9 to device 1 entity 2
> [35535.600814] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/4 to device 1 entity 2
> [35535.600822] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000001/2 to device 1 entity 1
> [35535.600829] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000001/4 to device 1 entity 1
> [35535.600836] uvcvideo: Scanning UVC chain: OT 3 <- SU 5 <- PU 2 <- XU 6
> <- IT 4
> [35535.600845] uvcvideo: Found a valid video chain (4 -> 3).
> [35535.606768] uvcvideo: UVC device initialized.
> [35535.606890] usbcore: registered new interface driver uvcvideo
> [35535.607010] USB Video Class driver (SVN
> r181)linux-uvc-devel at lists.berlios.de
>
> I haven't tested the camera thorougly yet, but it seems to be recognized.

I have tested it and I confirm it works well. I've added the camera to the 
supported devices list on the website.

> Do you know what the two unknown video formats are? They don't seem to be
> supported yet.

Greyscale and RGB Bayer. I've just committed a patch to add support for those 
formats.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 19 00:44:48 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 19 Feb 2008 00:44:48 +0100
Subject: [Linux-uvc-devel] 174f:5a11 not listed, not working
In-Reply-To: <1203054569.6798.14.camel@volt>
References: <1203050280.6798.12.camel@volt>
	<20080215052731.GA22690@plankton.ifup.org>
	<1203054569.6798.14.camel@volt>
Message-ID: <200802190044.49040.laurent.pinchart@skynet.be>

On Friday 15 February 2008, Leszek Jakubowski wrote:
> Dnia 14-02-2008, czw o godzinie 21:27 -0800, Brandon Philips pisze:
> > On 05:38 Fri 15 Feb 2008, Leszek Jakubowski wrote:
> > > I've got 174f:5a11 (mounted in an ASUS A8Sc) and all it's showing in
> > > xawtv is a black window (log below).
> >
> > Can you please try using luvcview:
>
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal
>
> And ./luvcview -L shows this + lists all resolutions from 640x480 to
> 160x120:
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> /dev/video0 does not support read i/o

Your camera doesn't support MJPEG. You can select the YUV format with 
luvcview -f yuv.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 19 00:48:21 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 19 Feb 2008 00:48:21 +0100
Subject: [Linux-uvc-devel] [PATCH] [uvcvideo] Add GenesysLogic with
	UVC_QUIRK_STREAM_NO_FID
In-Reply-To: <20080215231849.GB5263@plankton.ifup.org>
References: <20080215231849.GB5263@plankton.ifup.org>
Message-ID: <200802190048.21807.laurent.pinchart@skynet.be>

Hi Brandon,

On Saturday 16 February 2008, Brandon Philips wrote:
> As reported by Albert Chuang <vradmin at gmail.com> a quirk is necessary
> for this device.

I'm waiting for Albert to send me the USB device descriptors before committing 
the patch.

> Signed-off-by: Brandon Philips <bphilips at suse.de>
>
> ---
>  uvc_driver.c |    9 +++++++++
>  1 file changed, 9 insertions(+)
>
> Index: uvc/uvc_driver.c
> ===================================================================
> --- uvc.orig/uvc_driver.c
> +++ uvc/uvc_driver.c
> @@ -1771,6 +1771,15 @@ static struct usb_device_id uvc_ids[] =
>  	  .bInterfaceSubClass	= 1,
>  	  .bInterfaceProtocol	= 0,
>  	  .driver_info		= UVC_QUIRK_STREAM_NO_FID },
> +	/* GenesysLogic USB2.0 PC Camera */
> +	{ .match_flags		= USB_DEVICE_ID_MATCH_DEVICE
> +				| USB_DEVICE_ID_MATCH_INT_INFO,
> +	  .idVendor		= 0x05e3,
> +	  .idProduct		= 0x0505,
> +	  .bInterfaceClass	= USB_CLASS_VIDEO,
> +	  .bInterfaceSubClass	= 1,
> +	  .bInterfaceProtocol	= 0,
> +	  .driver_info		= UVC_QUIRK_STREAM_NO_FID },
>  	/* Ecamm Pico iMage */
>  	{ .match_flags		= USB_DEVICE_ID_MATCH_DEVICE
>
>  				| USB_DEVICE_ID_MATCH_INT_INFO,
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From tompoe at fngi.net  Tue Feb 19 00:14:26 2008
From: tompoe at fngi.net (Tom Poe)
Date: Mon, 18 Feb 2008 17:14:26 -0600
Subject: [Linux-uvc-devel] fc8 sound issues for Quickcam Pro 9000 ?
Message-ID: <47BA1152.8080103@fngi.net>

Is the sound issue for Quickcam Pro 9000 resolved, yet?  I'm running 
FC8, but can't figure out why sound gets screwed up.

Is there a command that I can use to test sound and video?
Thanks, Tom


From laurent.pinchart at skynet.be  Tue Feb 19 01:09:35 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 19 Feb 2008 01:09:35 +0100
Subject: [Linux-uvc-devel] Disabling Auto Exposure
In-Reply-To: <efcf3cf90802161941m3ce1597ah26ff86e39735698d@mail.gmail.com>
References: <efcf3cf90802161941m3ce1597ah26ff86e39735698d@mail.gmail.com>
Message-ID: <200802190109.35718.laurent.pinchart@skynet.be>

Hi Fr?d?rick,

On Sunday 17 February 2008, Fr?d?rik Rozon wrote:
> Hi everyone,
>
> I know this has been discused before, but I just can't disable the
> auto exposure feature on my Quickcam pro 5000. I'm coding a computer
> vision program using the latest version of uvc (as of Febuary 16th).
> I'm a newbie user of uvc, and I've look some sample programs, and I'm
> confused about the fact that the IDs of the commands seems to change
> between versions of uvc. So how do I know which one is the correct
> one? Is V4L2_CID_EXPOSURE_AUTO the correct command ID for this
> feature?

That's the right control. I apologise for the control IDs mess. New controls 
are being added to V4L2 to prepare for a future inclusion of the UVC driver 
in the mainline Linux kernel. I had to break binary compatibility in the 
process.

> Here is the code I use for setting a control:
>
> int
> input_set_control (struct vdIn * device, unsigned int control, int val)
> {
>
>     int fd, ret;
>     struct v4l2_control c;
>
>     c.id  = control;
>     c.value = val;
>     ret = ioctl (fd, VIDIOC_S_CTRL, &c);
>
>     return ret;
> }
>
> It always returns -1 for V4L2_CID_EXPOSURE_AUTO.

Always use -W -Wall when compiling C code and fix the warnings. fd is used 
uninitialised. You must open the device before using it. If the above sample 
is an edited version of your code, check errno upon return of the ioctl call.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 19 01:37:47 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 19 Feb 2008 01:37:47 +0100
Subject: [Linux-uvc-devel] UVC: "unknown event type" in /var/log/syslog
In-Reply-To: <47B4729F.8070303@pu-pm.univ-fcomte.fr>
References: <47B4729F.8070303@pu-pm.univ-fcomte.fr>
Message-ID: <200802190137.47653.laurent.pinchart@skynet.be>

Hi Eugen,

On Thursday 14 February 2008, Eugen Dedu wrote:
> Hi,
>
> When seing my video using ekiga, my /var/log/syslog file grows very fast
> with the following lines:
>
> snoopy:~# tail -f /var/log/messages
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>
> I saw also types 51, 117...
>
> This comes from uvc_status.c:90, but I do not know how t interpret it.
>
> I have a macbookpro with isight built-in camera.
>
> Is it normal?

It seems the iSight spits invalid status messages out. That's probably some 
kind of proprietary extension. Do you get those messages all the time or only 
in response to specific events ?

Best regards,

Laurent Pinchart


From tompoe at fngi.net  Tue Feb 19 07:36:36 2008
From: tompoe at fngi.net (Tom Poe)
Date: Tue, 19 Feb 2008 00:36:36 -0600
Subject: [Linux-uvc-devel] Logitech 9000 audio steps question
Message-ID: <47BA78F4.8030100@fngi.net>

"you need to remove the uvcvideo.ko module from the /lib/modules 
subdirectory where it gets loaded automatically, and load it manually 
after plugging the webcam."

I just don't know what this means.  Do I unplug webcam, remove 
uvcvideo.ko with command:
# rm /lib/modules/2.6.23.15-137.fc8PAE/usb/media/uvcvideo.ko
then, reboot, then  ???
Any help appreciated.
Tom



From Eugen.Dedu at pu-pm.univ-fcomte.fr  Tue Feb 19 09:15:51 2008
From: Eugen.Dedu at pu-pm.univ-fcomte.fr (Eugen Dedu)
Date: Tue, 19 Feb 2008 09:15:51 +0100
Subject: [Linux-uvc-devel] UVC: "unknown event type" in /var/log/syslog
In-Reply-To: <200802190137.47653.laurent.pinchart@skynet.be>
References: <47B4729F.8070303@pu-pm.univ-fcomte.fr>
	<200802190137.47653.laurent.pinchart@skynet.be>
Message-ID: <47BA9037.1000906@pu-pm.univ-fcomte.fr>

Laurent Pinchart wrote:
> Hi Eugen,
> 
> On Thursday 14 February 2008, Eugen Dedu wrote:
>> Hi,
>>
>> When seing my video using ekiga, my /var/log/syslog file grows very fast
>> with the following lines:
>>
>> snoopy:~# tail -f /var/log/messages
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>>
>> I saw also types 51, 117...
>>
>> This comes from uvc_status.c:90, but I do not know how t interpret it.
>>
>> I have a macbookpro with isight built-in camera.
>>
>> Is it normal?
> 
> It seems the iSight spits invalid status messages out. That's probably some 
> kind of proprietary extension. Do you get those messages all the time or only 
> in response to specific events ?

I open ekiga.  The button "webcam" at left, which shows the local video, 
is up, so I do not see any video.  In this case, no message is added to 
/var/log/syslog and the led of the camera is switched off (on 
macbookpro, a led is near the camera and is green when the camera is 
opened).

When I press the "webcam" button of ekiga, tail -f /var/log/syslog 
starts printing lines as shown above, about 60 per second.

These lines are added if and only if the camera is switched on (I see 
the local video, the led is green).

Is there a site explaining these messages?

Cheers,
-- 
Eugen Dedu


From gianluca.cecchi at gmail.com  Tue Feb 19 09:52:07 2008
From: gianluca.cecchi at gmail.com (Gianluca Cecchi)
Date: Tue, 19 Feb 2008 09:52:07 +0100
Subject: [Linux-uvc-devel] Omnivision oem in Dell sp2208wfp monitor: it is
	working here
Message-ID: <561c252c0802190052k6ccf5a08w3e7f6a53e60fa24e@mail.gmail.com>

I'm using Fedora 8 32bit with kernel 2.6.23.15-137.fc8. Compiled and
installed from svn trunk today.
[gcecchi at tekkaman trunk]$ . ./svn-version.sh
#define DRIVER_VERSION  "SVN r182"

I'm able to use ekiga, skype beta 2.0.0.43 and mplayer with a command such
as

mplayer tv:// -fps 25 -tv
driver=v4l2:width=640:height=480:device=/dev/video0

Only problem is that, as seen on the list for other dell oem omnivision
cams, sometimes I get the 129 error on query of device, so that it is not
initialized.
Tipically on second or third try of rmmod/modprobe I get it with only the
135 one and the webcam then works.
for example
Feb 18 22:55:13 tekkaman kernel: uvcvideo: Found UVC 1.00 device Monitor
Webcam (SP2208WFP) (05a9:2643)
Feb 18 22:55:13 tekkaman kernel: uvcvideo: Failed to query (135) UVC control
1 (unit 0) : -32 (exp. 26).
Feb 18 22:55:13 tekkaman kernel: uvcvideo: Failed to query (129) UVC control
1 (unit 0) : -32 (exp. 26).
Feb 18 22:55:13 tekkaman kernel: uvcvideo: Failed to initialize the device
(-5).
Feb 18 22:55:13 tekkaman kernel: usbcore: registered new interface driver
uvcvideo
Feb 18 22:55:13 tekkaman kernel: USB Video Class driver (SVN r182)
Feb 18 22:55:23 tekkaman kernel: usbcore: deregistering interface driver
uvcvideo
Feb 18 22:55:25 tekkaman kernel: uvcvideo: Found UVC 1.00 device Monitor
Webcam (SP2208WFP) (05a9:2643)
Feb 18 22:55:26 tekkaman kernel: uvcvideo: Failed to query (135) UVC control
1 (unit 0) : -110 (exp. 26).
Feb 18 22:55:26 tekkaman kernel: usbcore: registered new interface driver
uvcvideo
Feb 18 22:55:26 tekkaman kernel: USB Video Class driver (SVN r182)

see below my device id, if you want to add to the compatibility list.
I atatch a zip for "lsusb -v" output, otherwise message too big for the
list.
Apart from writing a script that checks for 129 error code and in that case
does an rmmod/modprobe, are there any other hints?

I have to try sound yet.
Thanks for the good work
Gianluca

Bus 001 Device 007: ID 05a9:2643 OmniVision Technologies, Inc.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080219/cc6c63f5/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: omnivision 2643.zip
Type: application/zip
Size: 1467 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080219/cc6c63f5/attachment.zip>

From laurent.pinchart at skynet.be  Tue Feb 19 22:58:43 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 19 Feb 2008 22:58:43 +0100
Subject: [Linux-uvc-devel] Omnivision oem in Dell sp2208wfp monitor: it
	is working here
In-Reply-To: <561c252c0802190052k6ccf5a08w3e7f6a53e60fa24e@mail.gmail.com>
References: <561c252c0802190052k6ccf5a08w3e7f6a53e60fa24e@mail.gmail.com>
Message-ID: <200802192258.43590.laurent.pinchart@skynet.be>

Hi Gianluca,

On Tuesday 19 February 2008, Gianluca Cecchi wrote:
> I'm using Fedora 8 32bit with kernel 2.6.23.15-137.fc8. Compiled and
> installed from svn trunk today.
> [gcecchi at tekkaman trunk]$ . ./svn-version.sh
> #define DRIVER_VERSION  "SVN r182"
>
> I'm able to use ekiga, skype beta 2.0.0.43 and mplayer with a command such
> as
>
> mplayer tv:// -fps 25 -tv
> driver=v4l2:width=640:height=480:device=/dev/video0
>
> Only problem is that, as seen on the list for other dell oem omnivision
> cams, sometimes I get the 129 error on query of device, so that it is not
> initialized.
> Tipically on second or third try of rmmod/modprobe I get it with only the
> 135 one and the webcam then works.
> for example
> Feb 18 22:55:13 tekkaman kernel: uvcvideo: Found UVC 1.00 device Monitor
> Webcam (SP2208WFP) (05a9:2643)
> Feb 18 22:55:13 tekkaman kernel: uvcvideo: Failed to query (135) UVC
> control 1 (unit 0) : -32 (exp. 26).
> Feb 18 22:55:13 tekkaman kernel: uvcvideo: Failed to query (129) UVC
> control 1 (unit 0) : -32 (exp. 26).
> Feb 18 22:55:13 tekkaman kernel: uvcvideo: Failed to initialize the device
> (-5).
> Feb 18 22:55:13 tekkaman kernel: usbcore: registered new interface driver
> uvcvideo
> Feb 18 22:55:13 tekkaman kernel: USB Video Class driver (SVN r182)
> Feb 18 22:55:23 tekkaman kernel: usbcore: deregistering interface driver
> uvcvideo
> Feb 18 22:55:25 tekkaman kernel: uvcvideo: Found UVC 1.00 device Monitor
> Webcam (SP2208WFP) (05a9:2643)
> Feb 18 22:55:26 tekkaman kernel: uvcvideo: Failed to query (135) UVC
> control 1 (unit 0) : -110 (exp. 26).
> Feb 18 22:55:26 tekkaman kernel: usbcore: registered new interface driver
> uvcvideo
> Feb 18 22:55:26 tekkaman kernel: USB Video Class driver (SVN r182)
>
> see below my device id, if you want to add to the compatibility list.
> I atatch a zip for "lsusb -v" output, otherwise message too big for the
> list.

The lsusb output has been stripped from leading spaces. Could you please 
resend it without stripping white spaces ?

> Apart from writing a script that checks for 129 error code and in that case
> does an rmmod/modprobe, are there any other hints?

Unfortunately there is no universal solution for those problems. Many UVC 
cameras have been tested under Windows only. Linux produces slightly 
different USB timings that trigger firmware bugs in some devices. It might be 
possible to add small delays to the driver that might work around some 
issues, but that requires try-and-error testing and I don't own a SP2208WFP 
camera.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Feb 19 23:20:59 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 19 Feb 2008 23:20:59 +0100
Subject: [Linux-uvc-devel] UVC: "unknown event type" in /var/log/syslog
In-Reply-To: <47BA9037.1000906@pu-pm.univ-fcomte.fr>
References: <47B4729F.8070303@pu-pm.univ-fcomte.fr>
	<200802190137.47653.laurent.pinchart@skynet.be>
	<47BA9037.1000906@pu-pm.univ-fcomte.fr>
Message-ID: <200802192320.59491.laurent.pinchart@skynet.be>

Hi Eugen,

On Tuesday 19 February 2008, Eugen Dedu wrote:
> Laurent Pinchart wrote:
> > Hi Eugen,
> >
> > On Thursday 14 February 2008, Eugen Dedu wrote:
> >> Hi,
> >>
> >> When seing my video using ekiga, my /var/log/syslog file grows very fast
> >> with the following lines:
> >>
> >> snoopy:~# tail -f /var/log/messages
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
> >> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
> >>
> >> I saw also types 51, 117...
> >>
> >> This comes from uvc_status.c:90, but I do not know how t interpret it.
> >>
> >> I have a macbookpro with isight built-in camera.
> >>
> >> Is it normal?
> >
> > It seems the iSight spits invalid status messages out. That's probably
> > some kind of proprietary extension. Do you get those messages all the
> > time or only in response to specific events ?
>
> I open ekiga.  The button "webcam" at left, which shows the local video,
> is up, so I do not see any video.  In this case, no message is added to
> /var/log/syslog and the led of the camera is switched off (on
> macbookpro, a led is near the camera and is green when the camera is
> opened).
>
> When I press the "webcam" button of ekiga, tail -f /var/log/syslog
> starts printing lines as shown above, about 60 per second.
>
> These lines are added if and only if the camera is switched on (I see
> the local video, the led is green).
>
> Is there a site explaining these messages?

The UVC specifications are available at 
http://www.usb.org/developers/devclass_docs/USB_Video_Class_1_1.zip

Section 2.4.2.2 describes the format of event notification messages. The 
iSight isn't really UVC compliant so it probably uses the interrupt endpoint 
for a different purpose. Could you please apply the attached patch and send 
me the kernel log output after starting streaming ? It should print the 
content of every vent notification message.

Cheers,

Laurent Pinchart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: isight.diff
Type: text/x-diff
Size: 828 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080219/e24f958f/attachment.diff>

From gianluca.cecchi at gmail.com  Mon Feb 18 23:44:36 2008
From: gianluca.cecchi at gmail.com (Gianluca Cecchi)
Date: Mon, 18 Feb 2008 23:44:36 +0100
Subject: [Linux-uvc-devel] Omnivision oem in Dell sp2208wfp monitor: it is
	working here
Message-ID: <561c252c0802181444l5757c3e6xea858191cef8533d@mail.gmail.com>

I'm using Fedora 8 32bit with kernel 2.6.23.15-137.fc8. Compiled and
installed from svn trunk today.
[gcecchi at tekkaman trunk]$ . ./svn-version.sh
#define DRIVER_VERSION  "SVN r182"

I'm able to use ekiga, skype beta 2.0.0.43 and mplayer with a command such
as

mplayer tv:// -fps 25 -tv
driver=v4l2:width=640:height=480:device=/dev/video0

Only problem is that, as seen on the list for other dell oem omnivision
cams, sometimes I get the 129 error on query of device, so that it is not
initialized.
Tipically on second or third try of rmmod/modprobe I get it with only the
135 one and the webcam then works.
for example
Feb 18 22:55:13 tekkaman kernel: uvcvideo: Found UVC 1.00 device Monitor
Webcam (SP2208WFP) (05a9:2643)
Feb 18 22:55:13 tekkaman kernel: uvcvideo: Failed to query (135) UVC control
1 (unit 0) : -32 (exp. 26).
Feb 18 22:55:13 tekkaman kernel: uvcvideo: Failed to query (129) UVC control
1 (unit 0) : -32 (exp. 26).
Feb 18 22:55:13 tekkaman kernel: uvcvideo: Failed to initialize the device
(-5).
Feb 18 22:55:13 tekkaman kernel: usbcore: registered new interface driver
uvcvideo
Feb 18 22:55:13 tekkaman kernel: USB Video Class driver (SVN r182)
Feb 18 22:55:23 tekkaman kernel: usbcore: deregistering interface driver
uvcvideo
Feb 18 22:55:25 tekkaman kernel: uvcvideo: Found UVC 1.00 device Monitor
Webcam (SP2208WFP) (05a9:2643)
Feb 18 22:55:26 tekkaman kernel: uvcvideo: Failed to query (135) UVC control
1 (unit 0) : -110 (exp. 26).
Feb 18 22:55:26 tekkaman kernel: usbcore: registered new interface driver
uvcvideo
Feb 18 22:55:26 tekkaman kernel: USB Video Class driver (SVN r182)

see below my device id, if you want to add to the compatibility list.
Apart from writing a script that checks for 129 error code and in that case
does an rmmod/modprobe, are there any other hints?

I have to try sound yet.
Thanks for the good work
Gianluca

Bus 001 Device 007: ID 05a9:2643 OmniVision Technologies, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x05a9 OmniVision Technologies, Inc.
  idProduct          0x2643
  bcdDevice            1.00
  iManufacturer           1 Mic-OmniVision Technologies,
Inc.538-2640-07.08.09.6
  iProduct                2 Monitor Webcam (SP2208WFP)
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1051
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
    MaxPower              500mA
    UNRECOGNIZED:  08 0b 00 02 0e 03 00 02
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              2 Monitor Webcam (SP2208WFP)
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              16
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x00c0  1x 192 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming

      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0a80  2x 640 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0be0  2x 992 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13fc  3x 1020 bytes
        bInterval               1
        UNRECOGNIZED:  08 0b 02 02 01 01 00 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           43
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0205 Microphone Array
        bAssocTerminal          0
        bNrChannels             2
        wChannelConfig     0x0000
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               3
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 3
        bSourceID               1
        bControlSize            2
        bmaControls( 0)      0x43
        bmaControls( 0)      0x02
          Mute
          Volume
          Automatic Gain
          Loudness
        bmaControls( 1)      0x00
        bmaControls( 1)      0x00
        bmaControls( 2)      0x00
        bmaControls( 2)      0x00
        iFeature                0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           2
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                35
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             2
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            9 Discrete
        tSamFreq[ 0]        48000
        tSamFreq[ 1]        44100
        tSamFreq[ 2]        32000
        tSamFreq[ 3]        24000
        tSamFreq[ 4]        22050
        tSamFreq[ 5]        16000
        tSamFreq[ 6]        12000
        tSamFreq[ 7]        11025
        tSamFreq[ 8]         8000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x84  EP 4 IN
        bmAttributes           13
          Transfer Type            Isochronous
          Synch Type               Synchronous
          Usage Type               Data
        wMaxPacketSize     0x00c0  1x 192 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0         8
  bNumConfigurations      1
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080218/358186bf/attachment.html>

From laurent.pinchart at skynet.be  Wed Feb 20 00:22:25 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 20 Feb 2008 00:22:25 +0100
Subject: [Linux-uvc-devel] [PATCH] [uvcvideo] Add GenesysLogic with
	UVC_QUIRK_STREAM_NO_FID
In-Reply-To: <200802190048.21807.laurent.pinchart@skynet.be>
References: <20080215231849.GB5263@plankton.ifup.org>
	<200802190048.21807.laurent.pinchart@skynet.be>
Message-ID: <200802200022.25503.laurent.pinchart@skynet.be>

On Tuesday 19 February 2008, Laurent Pinchart wrote:
> Hi Brandon,
>
> On Saturday 16 February 2008, Brandon Philips wrote:
> > As reported by Albert Chuang <vradmin at gmail.com> a quirk is necessary
> > for this device.
>
> I'm waiting for Albert to send me the USB device descriptors before
> committing the patch.

Patch applied.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Feb 20 01:20:34 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 20 Feb 2008 01:20:34 +0100
Subject: [Linux-uvc-devel] [PATCH] [uvcvideo] Add a testquirk module
	param
In-Reply-To: <20080215232102.GC5263@plankton.ifup.org>
References: <20080215232102.GC5263@plankton.ifup.org>
Message-ID: <200802200120.34960.laurent.pinchart@skynet.be>

Hi Bradon,

On Saturday 16 February 2008, Brandon Philips wrote:
> Allow people to test quirks without recompiling but strongly discourage
> the use with a kernel log message.  Example:
>
>   modprobe uvcvideo testquirk=10 # UVC_QUIRK_STREAM_NO_FID

Thanks for the patch. I applied a slightly different version with a modified 
kernel log message.

> Signed-off-by: Brandon Philips <bphilips at suse.de>
>
> ---
>  uvc_driver.c |   14 +++++++++++++-
>  1 file changed, 13 insertions(+), 1 deletion(-)
>
> Index: uvc/uvc_driver.c
> ===================================================================
> --- uvc.orig/uvc_driver.c
> +++ uvc/uvc_driver.c
> @@ -51,6 +51,8 @@
>  #define DRIVER_VERSION		"v0.1.0"
>  #endif
>
> +static unsigned int uvc_testquirk_param;
> +
>  /*
> ------------------------------------------------------------------------ *
> Control, formats, ...
>   */
> @@ -1539,7 +1541,7 @@ static int uvc_probe(struct usb_interfac
>  	dev->udev = usb_get_dev(udev);
>  	dev->intf = usb_get_intf(intf);
>  	dev->intfnum = intf->cur_altsetting->desc.bInterfaceNumber;
> -	dev->quirks = id->driver_info;
> +	dev->quirks = id->driver_info | uvc_testquirk_param;
>
>  	/* Parse the Video Class control descriptor */
>  	if (uvc_parse_control(dev) < 0) {
> @@ -1553,6 +1555,14 @@ static int uvc_probe(struct usb_interfac
>  		le16_to_cpu(udev->descriptor.idVendor),
>  		le16_to_cpu(udev->descriptor.idProduct));
>
> +	if (uvc_testquirk_param != 0) {
> +		uvc_printk(KERN_INFO, "WARNING: testquirk param (%d) is set, "
> +					"this is for testing only.\nPlease "
> +					"report required quirks to the "
> +					"linux-uvc mailing list.\n",
> +					uvc_testquirk_param);

'\n' in log messages will confuse printk. The log level will be lost. A patch 
has been sent in January on the LKML to fix that. In the meantime I'll use 
two printk statements.

> +	}
> +
>  	/* Initialize controls */
>  	if (uvc_ctrl_init_device(dev) < 0)
>  		goto error;
> @@ -1877,6 +1887,8 @@ module_exit(uvc_cleanup);
>  unsigned int uvc_trace_param = 0;
>  module_param_named(trace, uvc_trace_param, uint, S_IRUGO|S_IWUSR);
>
> +module_param_named(testquirk, uvc_testquirk_param, uint, S_IRUGO|S_IWUSR);
> +
>  MODULE_AUTHOR(DRIVER_AUTHOR);
>  MODULE_DESCRIPTION(DRIVER_DESC);
>  MODULE_LICENSE("GPL");

Best regards,

Laurent Pinchart


From gianluca.cecchi at gmail.com  Wed Feb 20 06:14:27 2008
From: gianluca.cecchi at gmail.com (Gianluca Cecchi)
Date: Wed, 20 Feb 2008 06:14:27 +0100
Subject: [Linux-uvc-devel] Omnivision oem in Dell sp2208wfp monitor: it
	is working here
In-Reply-To: <200802192258.43590.laurent.pinchart@skynet.be>
References: <561c252c0802190052k6ccf5a08w3e7f6a53e60fa24e@mail.gmail.com>
	<200802192258.43590.laurent.pinchart@skynet.be>
Message-ID: <561c252c0802192114k657eb58ere072bf9e5672d477@mail.gmail.com>

>
>
> The lsusb output has been stripped from leading spaces. Could you please
> resend it without stripping white spaces ?
>
>

I send it in attach. let me know in case of problems.
Thanks,
Gianluca
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080220/924ddb8c/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb_059a-2643
Type: application/octet-stream
Size: 11081 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080220/924ddb8c/attachment.obj>

From Eugen.Dedu at pu-pm.univ-fcomte.fr  Wed Feb 20 11:29:09 2008
From: Eugen.Dedu at pu-pm.univ-fcomte.fr (Eugen Dedu)
Date: Wed, 20 Feb 2008 11:29:09 +0100
Subject: [Linux-uvc-devel] UVC: "unknown event type" in /var/log/syslog
In-Reply-To: <200802192320.59491.laurent.pinchart@skynet.be>
References: <47B4729F.8070303@pu-pm.univ-fcomte.fr>
	<200802190137.47653.laurent.pinchart@skynet.be>
	<47BA9037.1000906@pu-pm.univ-fcomte.fr>
	<200802192320.59491.laurent.pinchart@skynet.be>
Message-ID: <47BC00F5.9040601@pu-pm.univ-fcomte.fr>

Hi Laurent,

Thank you for investigating this.

I attach the new syslog.

Best regards,
Eugen Dedu

Laurent Pinchart wrote:
> Hi Eugen,
> 
> On Tuesday 19 February 2008, Eugen Dedu wrote:
>> Laurent Pinchart wrote:
>>> Hi Eugen,
>>>
>>> On Thursday 14 February 2008, Eugen Dedu wrote:
>>>> Hi,
>>>>
>>>> When seing my video using ekiga, my /var/log/syslog file grows very fast
>>>> with the following lines:
>>>>
>>>> snoopy:~# tail -f /var/log/messages
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 235.
>>>> Feb 14 17:20:10 snoopy kernel: uvcvideo: unknown event type 0.
>>>>
>>>> I saw also types 51, 117...
>>>>
>>>> This comes from uvc_status.c:90, but I do not know how t interpret it.
>>>>
>>>> I have a macbookpro with isight built-in camera.
>>>>
>>>> Is it normal?
>>> It seems the iSight spits invalid status messages out. That's probably
>>> some kind of proprietary extension. Do you get those messages all the
>>> time or only in response to specific events ?
>> I open ekiga.  The button "webcam" at left, which shows the local video,
>> is up, so I do not see any video.  In this case, no message is added to
>> /var/log/syslog and the led of the camera is switched off (on
>> macbookpro, a led is near the camera and is green when the camera is
>> opened).
>>
>> When I press the "webcam" button of ekiga, tail -f /var/log/syslog
>> starts printing lines as shown above, about 60 per second.
>>
>> These lines are added if and only if the camera is switched on (I see
>> the local video, the led is green).
>>
>> Is there a site explaining these messages?
> 
> The UVC specifications are available at 
> http://www.usb.org/developers/devclass_docs/USB_Video_Class_1_1.zip
> 
> Section 2.4.2.2 describes the format of event notification messages. The 
> iSight isn't really UVC compliant so it probably uses the interrupt endpoint 
> for a different purpose. Could you please apply the attached patch and send 
> me the kernel log output after starting streaming ? It should print the 
> content of every vent notification message.

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: syslog
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080220/4589cab0/attachment.ksh>

From chris at vandenberghe.org  Wed Feb 20 17:06:21 2008
From: chris at vandenberghe.org (Chris Vanden Berghe)
Date: Thu, 21 Feb 2008 00:06:21 +0800
Subject: [Linux-uvc-devel]  [SVN] iSight support
References: 47878326.8060005@i-nz.net
Message-ID: <47BC4FFD.2040807@vandenberghe.org>

Hi all,

I'm having exactly the same problem with revision 186 and kernel
2.6.24-8 on Kubuntu 8.04.

The isight firmware and module load successfully, but no video device is 
created.

Feb 20 23:35:52 darwin kernel: [ 35.648328] uvcvideo: Found UVC 1.00 
device Built-in iSight (05ac:8501)
Feb 20 23:35:52 darwin kernel: [ 35.648336] uvcvideo: No valid video 
chain found.
Feb 20 23:35:52 darwin kernel: [ 35.649122] usbcore: registered new 
interface driver uvcvideo
Feb 20 23:35:52 darwin kernel: [ 35.649126] USB Video Class driver (SVN 
r186)

Does anybody know a solution/workaround for this problem?

Thank you,
Chris.

---
> Using linux-uvc SVN revision 157 and isight-firmware-tools 1.0 (the
> versions available in Gentoo's tree), no device seems to be created for
> the camera. The driver claims to be loaded successfully, it seems, and
> the firmware tools never complain. /dev/video0 still doesn't exist,
> however, and neither does any other video device. Incidentally, running
> `udevstart' produces a message that the bus ID can't be determined. This
> is likely a problem with the environment variable business and I wonder
> if there's another way this could be dealt with.
>
>
> Se?n de B?rca
>   



From Eugen.Dedu at pu-pm.univ-fcomte.fr  Wed Feb 20 18:00:38 2008
From: Eugen.Dedu at pu-pm.univ-fcomte.fr (Eugen Dedu)
Date: Wed, 20 Feb 2008 18:00:38 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <47BC4FFD.2040807@vandenberghe.org>
References: 47878326.8060005@i-nz.net <47BC4FFD.2040807@vandenberghe.org>
Message-ID: <47BC5CB6.3020603@pu-pm.univ-fcomte.fr>

Hi,

What's interesting (for me) is that I have an iSight too (MacBookPro 
mid-2007), but the camera is (05ac:8502).  And it works with uvc, while 
yours not.  And grep 850 ~/linux-uvc prints only *yours* (8501):

snoopy:~/linux-uvc$ grep 850 *
uvc_driver.c:	  .idProduct		= 0x8501,
Binary file uvcvideo.ko matches
uvcvideo.mod.c:MODULE_ALIAS("usb:v05ACp8501d*dc*dsc*dp*ic*isc*ip*");
Binary file uvcvideo.mod.o matches
snoopy:~/linux-uvc$

HTH,
Eugen Dedu

Chris Vanden Berghe wrote:
> Hi all,
> 
> I'm having exactly the same problem with revision 186 and kernel
> 2.6.24-8 on Kubuntu 8.04.
> 
> The isight firmware and module load successfully, but no video device is 
> created.
> 
> Feb 20 23:35:52 darwin kernel: [ 35.648328] uvcvideo: Found UVC 1.00 
> device Built-in iSight (05ac:8501)
> Feb 20 23:35:52 darwin kernel: [ 35.648336] uvcvideo: No valid video 
> chain found.
> Feb 20 23:35:52 darwin kernel: [ 35.649122] usbcore: registered new 
> interface driver uvcvideo
> Feb 20 23:35:52 darwin kernel: [ 35.649126] USB Video Class driver (SVN 
> r186)
> 
> Does anybody know a solution/workaround for this problem?
> 
> Thank you,
> Chris.
> 
> ---
>> Using linux-uvc SVN revision 157 and isight-firmware-tools 1.0 (the
>> versions available in Gentoo's tree), no device seems to be created for
>> the camera. The driver claims to be loaded successfully, it seems, and
>> the firmware tools never complain. /dev/video0 still doesn't exist,
>> however, and neither does any other video device. Incidentally, running
>> `udevstart' produces a message that the bus ID can't be determined. This
>> is likely a problem with the environment variable business and I wonder
>> if there's another way this could be dealt with.
>>
>>
>> Se?n de B?rca



From brandon at ifup.org  Wed Feb 20 19:28:59 2008
From: brandon at ifup.org (Brandon Philips)
Date: Wed, 20 Feb 2008 10:28:59 -0800
Subject: [Linux-uvc-devel] [PATCH] [uvcvideo] Add a testquirk
	module	param
In-Reply-To: <200802200120.34960.laurent.pinchart@skynet.be>
References: <20080215232102.GC5263@plankton.ifup.org>
	<200802200120.34960.laurent.pinchart@skynet.be>
Message-ID: <20080220182859.GA7501@plankton>

On 01:20 Wed 20 Feb 2008, Laurent Pinchart wrote:
> On Saturday 16 February 2008, Brandon Philips wrote:
> > Allow people to test quirks without recompiling but strongly discourage
> > the use with a kernel log message.  Example:
> >
> >   modprobe uvcvideo testquirk=10 # UVC_QUIRK_STREAM_NO_FID
> 
> Thanks for the patch. I applied a slightly different version with a modified 
> kernel log message.

Ok.  Thanks.

> '\n' in log messages will confuse printk. The log level will be lost. A patch 
> has been sent in January on the LKML to fix that. In the meantime I'll use 
> two printk statements.

I didn't know that.  Thanks for fixing it up.

Cheers,

	Brandon


From felix at derklecks.de  Wed Feb 20 20:49:16 2008
From: felix at derklecks.de (=?ISO-8859-1?Q?Felix_M=F6ller?=)
Date: Wed, 20 Feb 2008 20:49:16 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <47BC4FFD.2040807@vandenberghe.org>
References: 47878326.8060005@i-nz.net <47BC4FFD.2040807@vandenberghe.org>
Message-ID: <47BC843C.5000106@derklecks.de>

Chris Vanden Berghe schrieb:
> Hi all,
> 
> I'm having exactly the same problem with revision 186 and kernel
> 2.6.24-8 on Kubuntu 8.04.
> 
> The isight firmware and module load successfully, but no video device is 
> created.
> 
> Feb 20 23:35:52 darwin kernel: [ 35.648328] uvcvideo: Found UVC 1.00 
> device Built-in iSight (05ac:8501)
> Feb 20 23:35:52 darwin kernel: [ 35.648336] uvcvideo: No valid video 
> chain found.
> Feb 20 23:35:52 darwin kernel: [ 35.649122] usbcore: registered new 
> interface driver uvcvideo
> Feb 20 23:35:52 darwin kernel: [ 35.649126] USB Video Class driver (SVN 
> r186)
> 
> Does anybody know a solution/workaround for this problem?
It does work for me.

dmesg:
> uvcvideo: Adding mapping Brightness to control 00000000-0000-0000-0000-000000000101/2.
> uvcvideo: Adding mapping Contrast to control 00000000-0000-0000-0000-000000000101/3.
> uvcvideo: Adding mapping Hue to control 00000000-0000-0000-0000-000000000101/6.
> uvcvideo: Adding mapping Saturation to control 00000000-0000-0000-0000-000000000101/7.
> uvcvideo: Adding mapping Sharpness to control 00000000-0000-0000-0000-000000000101/8.
> uvcvideo: Adding mapping Gamma to control 00000000-0000-0000-0000-000000000101/9.
> uvcvideo: Adding mapping Backlight Compensation to control 00000000-0000-0000-0000-000000000101/1.
> uvcvideo: Adding mapping Gain to control 00000000-0000-0000-0000-000000000101/4.
> uvcvideo: Adding mapping Power Line Frequency to control 00000000-0000-0000-0000-000000000101/5.
> uvcvideo: Adding mapping Hue, Auto to control 00000000-0000-0000-0000-000000000101/16.
> uvcvideo: Adding mapping Exposure, Auto to control 00000000-0000-0000-0000-000000000001/2.
> uvcvideo: Adding mapping Exposure, Auto Priority to control 00000000-0000-0000-0000-000000000001/3.
> uvcvideo: Adding mapping Exposure (Absolute) to control 00000000-0000-0000-0000-000000000001/4.
> uvcvideo: Adding mapping White Balance Temperature, Auto to control 00000000-0000-0000-0000-000000000101/11.
> uvcvideo: Adding mapping White Balance Temperature to control 00000000-0000-0000-0000-000000000101/10.
> uvcvideo: Adding mapping Focus (absolute) to control 00000000-0000-0000-0000-000000000001/6.
> uvcvideo: Adding mapping Focus, Auto to control 00000000-0000-0000-0000-000000000001/8.
> uvcvideo: Probing known UVC device 4 (05ac:8501)
> uvcvideo: Found format YUV 4:2:2 (UYVY).
> uvcvideo: - 640x480 (30.0 fps)
> uvcvideo: - 352x288 (30.0 fps)
> uvcvideo: - 320x240 (30.0 fps)
> uvcvideo: Found a Status endpoint (addr 81).
> uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to device 4 entity 2
> uvcvideo: Added contlrol 00000000-0000-0000-0000-000000000101/7 to device 4 entity 2
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/8 to device 4 entity 2
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/9 to device 4 entity 2
> uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
> uvcvideo: Found a valid video chain (1 -> 3).
> uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp. 26).
> uvcvideo: UVC device initialized.
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (SVN r186)

# lsusb
Bus 001 Device 006: ID 05ac:8501 Apple Computer, Inc. Built-in iSight 
[Micron]

# md5sum /lib/firmware/isight.fw
6d4b6764538e85ab9e7e15ed21b7a60c  /lib/firmware/isight.fw

You should reread http://bersace03.free.fr/ift/ and ask ?tienne Bersac 
for some help.

greetings
Felix M?ller


From filippo.argiolas at gmail.com  Thu Feb 21 20:39:56 2008
From: filippo.argiolas at gmail.com (Filippo Argiolas)
Date: Thu, 21 Feb 2008 20:39:56 +0100
Subject: [Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
Message-ID: <1203622796.21356.8.camel@tux>

Hi I've installed freshly updated v4l-dvb drivers from mercurial
repository to make my dvb-t stick work. 
After that my uvc based webcam stopped working giving Unknown symbol
errors. I've updated links in /lib/modules/`uname -r`/build to point to
the v4l-dvb mercurial tree (running make kernel-links from the tree). So
I've tried to compile again uvcvideo from the svn trunk but it won't
even compile giving errors related to the kernel version check in
uvc_compat.h.
So I've bypassed the whole uvc_compat thing with an #ifdef. The driver
now compiles but gives "insmod: error inserting 'uvcvideo.ko': -1
Unknown symbol in module" if I try to insert it.
I've search list archives and it seems a common problem caused by
linux-uvc being out of the mainline kernel and that could be solved
easily if it would be included in the kernel tree.
So there is no solution to this problem at the moment?

Thanks,
Filippo




From brandon at ifup.org  Thu Feb 21 21:03:55 2008
From: brandon at ifup.org (Brandon Philips)
Date: Thu, 21 Feb 2008 12:03:55 -0800
Subject: [Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
In-Reply-To: <1203622796.21356.8.camel@tux>
References: <1203622796.21356.8.camel@tux>
Message-ID: <20080221200355.GA4861@plankton>

On 20:39 Thu 21 Feb 2008, Filippo Argiolas wrote:
> Hi I've installed freshly updated v4l-dvb drivers from mercurial
> repository to make my dvb-t stick work. 
>
> After that my uvc based webcam stopped working giving Unknown symbol
> errors. I've updated links in /lib/modules/`uname -r`/build to point to
> the v4l-dvb mercurial tree (running make kernel-links from the tree). So
> I've tried to compile again uvcvideo from the svn trunk but it won't
> even compile giving errors related to the kernel version check in
> uvc_compat.h.

What are those errors?

> So I've bypassed the whole uvc_compat thing with an #ifdef. The driver
> now compiles but gives "insmod: error inserting 'uvcvideo.ko': -1
> Unknown symbol in module" if I try to insert it.

Can you please paste the entire error?  What symbol is "unknown"?

> I've search list archives and it seems a common problem caused by
> linux-uvc being out of the mainline kernel and that could be solved
> easily if it would be included in the kernel tree.

We are working on getting it merged into the tree- maybe even before
2.6.25 but don't quote me.  :D

> So there is no solution to this problem at the moment?

I will try getting this working on my machine- a few people have
complained about it not working.

Cheers,

	Brandon


From filippo.argiolas at gmail.com  Thu Feb 21 21:24:56 2008
From: filippo.argiolas at gmail.com (Filippo Argiolas)
Date: Thu, 21 Feb 2008 21:24:56 +0100
Subject: [Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
In-Reply-To: <20080221200355.GA4861@plankton>
References: <1203622796.21356.8.camel@tux>  <20080221200355.GA4861@plankton>
Message-ID: <1203625496.22454.11.camel@tux>

Il giorno gio, 21/02/2008 alle 12.03 -0800, Brandon Philips ha scritto:
> What are those errors?

Ok here's a summary of the errors I get with different situations:

1. uvcvideo bundled with ubuntu gutsy (kernel 2.6.22-14-generic) after
the v4l-dvb mercurial installation, dmesg output:

[26144.476000] uvcvideo: disagrees about version of symbol video_devdata
[26144.476000] uvcvideo: Unknown symbol video_devdata
[26144.476000] uvcvideo: disagrees about version of symbol
video_unregister_device
[26144.476000] uvcvideo: Unknown symbol video_unregister_device
[26144.476000] uvcvideo: disagrees about version of symbol
video_device_alloc
[26144.476000] uvcvideo: Unknown symbol video_device_alloc
[26144.476000] uvcvideo: disagrees about version of symbol
video_register_device
[26144.476000] uvcvideo: Unknown symbol video_register_device
[26144.476000] uvcvideo: disagrees about version of symbol
video_device_release
[26144.476000] uvcvideo: Unknown symbol video_device_release


2. After running make kernel-links from the v4l-dvb tree (it updates
symlinks in /lib/modules/`uname -r`/build to point to the v4l-dvb source
tree), I get these compile errors with linux-uvc:

In file included from /home/pippo/linux-uvc/uvcvideo.h:8,
                 from /home/pippo/linux-uvc/uvc_driver.c:45:
/home/pippo/linux-uvc/uvc_compat.h:147:1: warning:
"V4L2_CTRL_CLASS_CAMERA" redefined
In file included from include/linux/videodev.h:16,
                 from /home/pippo/linux-uvc/uvc_driver.c:36:
include/linux/videodev2.h:798:1: warning: this is the location of the
previous definition
In file included from /home/pippo/linux-uvc/uvcvideo.h:8,
                 from /home/pippo/linux-uvc/uvc_driver.c:45:
/home/pippo/linux-uvc/uvc_compat.h:150: error: nested redefinition of
?enum v4l2_power_line_frequency?
/home/pippo/linux-uvc/uvc_compat.h:150: error: redeclaration of ?enum
v4l2_power_line_frequency?
/home/pippo/linux-uvc/uvc_compat.h:151: error: redeclaration of
enumerator ?V4L2_CID_POWER_LINE_FREQUENCY_DISABLED?
include/linux/videodev2.h:874: error: previous definition of
?V4L2_CID_POWER_LINE_FREQUENCY_DISABLED? was here
/home/pippo/linux-uvc/uvc_compat.h:152: error: redeclaration of
enumerator ?V4L2_CID_POWER_LINE_FREQUENCY_50HZ?
include/linux/videodev2.h:875: error: previous definition of
?V4L2_CID_POWER_LINE_FREQUENCY_50HZ? was here
/home/pippo/linux-uvc/uvc_compat.h:153: error: redeclaration of
enumerator ?V4L2_CID_POWER_LINE_FREQUENCY_60HZ?
include/linux/videodev2.h:876: error: previous definition of
?V4L2_CID_POWER_LINE_FREQUENCY_60HZ? was here
/home/pippo/linux-uvc/uvc_compat.h:165: error: nested redefinition of
?enum v4l2_exposure_auto_type?
/home/pippo/linux-uvc/uvc_compat.h:165: error: redeclaration of ?enum
v4l2_exposure_auto_type?
/home/pippo/linux-uvc/uvc_compat.h:166: error: redeclaration of
enumerator ?V4L2_EXPOSURE_MANUAL?
include/linux/videodev2.h:1077: error: previous definition of
?V4L2_EXPOSURE_MANUAL? was here
/home/pippo/linux-uvc/uvc_compat.h:167: error: redeclaration of
enumerator ?V4L2_EXPOSURE_AUTO?
include/linux/videodev2.h:1076: error: previous definition of
?V4L2_EXPOSURE_AUTO? was here
/home/pippo/linux-uvc/uvc_compat.h:168: error: redeclaration of
enumerator ?V4L2_EXPOSURE_SHUTTER_PRIORITY?
include/linux/videodev2.h:1078: error: previous definition of
?V4L2_EXPOSURE_SHUTTER_PRIORITY? was here
/home/pippo/linux-uvc/uvc_compat.h:170: error: redeclaration of
enumerator ?V4L2_EXPOSURE_APERTURE_PRIORITY?
include/linux/videodev2.h:1080: error: previous definition of
?V4L2_EXPOSURE_APERTURE_PRIORITY? was here
make[2]: *** [/home/pippo/linux-uvc/uvc_driver.o] Error 1
make[1]: *** [_module_/home/pippo/linux-uvc] Error 2
make: *** [uvcvideo] Error 2

Hope this helps someway.
Thanks,

Filippo



From laurent.pinchart at skynet.be  Thu Feb 21 23:45:15 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 21 Feb 2008 23:45:15 +0100
Subject: [Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
In-Reply-To: <1203625496.22454.11.camel@tux>
References: <1203622796.21356.8.camel@tux> <20080221200355.GA4861@plankton>
	<1203625496.22454.11.camel@tux>
Message-ID: <200802212345.16002.laurent.pinchart@skynet.be>

On Thursday 21 February 2008, Filippo Argiolas wrote:
> Il giorno gio, 21/02/2008 alle 12.03 -0800, Brandon Philips ha scritto:
> > What are those errors?
>
> Ok here's a summary of the errors I get with different situations:
>
> 1. uvcvideo bundled with ubuntu gutsy (kernel 2.6.22-14-generic) after
> the v4l-dvb mercurial installation, dmesg output:
>
> [26144.476000] uvcvideo: disagrees about version of symbol video_devdata
> [26144.476000] uvcvideo: Unknown symbol video_devdata
> [26144.476000] uvcvideo: disagrees about version of symbol
> video_unregister_device
> [26144.476000] uvcvideo: Unknown symbol video_unregister_device
> [26144.476000] uvcvideo: disagrees about version of symbol
> video_device_alloc
> [26144.476000] uvcvideo: Unknown symbol video_device_alloc
> [26144.476000] uvcvideo: disagrees about version of symbol
> video_register_device
> [26144.476000] uvcvideo: Unknown symbol video_register_device
> [26144.476000] uvcvideo: disagrees about version of symbol
> video_device_release
> [26144.476000] uvcvideo: Unknown symbol video_device_release
>
>
> 2. After running make kernel-links from the v4l-dvb tree (it updates
> symlinks in /lib/modules/`uname -r`/build to point to the v4l-dvb source
> tree), I get these compile errors with linux-uvc:
>
> In file included from /home/pippo/linux-uvc/uvcvideo.h:8,
>                  from /home/pippo/linux-uvc/uvc_driver.c:45:
> /home/pippo/linux-uvc/uvc_compat.h:147:1: warning:
> "V4L2_CTRL_CLASS_CAMERA" redefined
> In file included from include/linux/videodev.h:16,
>                  from /home/pippo/linux-uvc/uvc_driver.c:36:
> include/linux/videodev2.h:798:1: warning: this is the location of the
> previous definition
> In file included from /home/pippo/linux-uvc/uvcvideo.h:8,
>                  from /home/pippo/linux-uvc/uvc_driver.c:45:
> /home/pippo/linux-uvc/uvc_compat.h:150: error: nested redefinition of
> ?enum v4l2_power_line_frequency?
> /home/pippo/linux-uvc/uvc_compat.h:150: error: redeclaration of ?enum
> v4l2_power_line_frequency?
> /home/pippo/linux-uvc/uvc_compat.h:151: error: redeclaration of
> enumerator ?V4L2_CID_POWER_LINE_FREQUENCY_DISABLED?
> include/linux/videodev2.h:874: error: previous definition of
> ?V4L2_CID_POWER_LINE_FREQUENCY_DISABLED? was here
> /home/pippo/linux-uvc/uvc_compat.h:152: error: redeclaration of
> enumerator ?V4L2_CID_POWER_LINE_FREQUENCY_50HZ?
> include/linux/videodev2.h:875: error: previous definition of
> ?V4L2_CID_POWER_LINE_FREQUENCY_50HZ? was here
> /home/pippo/linux-uvc/uvc_compat.h:153: error: redeclaration of
> enumerator ?V4L2_CID_POWER_LINE_FREQUENCY_60HZ?
> include/linux/videodev2.h:876: error: previous definition of
> ?V4L2_CID_POWER_LINE_FREQUENCY_60HZ? was here
> /home/pippo/linux-uvc/uvc_compat.h:165: error: nested redefinition of
> ?enum v4l2_exposure_auto_type?
> /home/pippo/linux-uvc/uvc_compat.h:165: error: redeclaration of ?enum
> v4l2_exposure_auto_type?
> /home/pippo/linux-uvc/uvc_compat.h:166: error: redeclaration of
> enumerator ?V4L2_EXPOSURE_MANUAL?
> include/linux/videodev2.h:1077: error: previous definition of
> ?V4L2_EXPOSURE_MANUAL? was here
> /home/pippo/linux-uvc/uvc_compat.h:167: error: redeclaration of
> enumerator ?V4L2_EXPOSURE_AUTO?
> include/linux/videodev2.h:1076: error: previous definition of
> ?V4L2_EXPOSURE_AUTO? was here
> /home/pippo/linux-uvc/uvc_compat.h:168: error: redeclaration of
> enumerator ?V4L2_EXPOSURE_SHUTTER_PRIORITY?
> include/linux/videodev2.h:1078: error: previous definition of
> ?V4L2_EXPOSURE_SHUTTER_PRIORITY? was here
> /home/pippo/linux-uvc/uvc_compat.h:170: error: redeclaration of
> enumerator ?V4L2_EXPOSURE_APERTURE_PRIORITY?
> include/linux/videodev2.h:1080: error: previous definition of
> ?V4L2_EXPOSURE_APERTURE_PRIORITY? was here
> make[2]: *** [/home/pippo/linux-uvc/uvc_driver.o] Error 1
> make[1]: *** [_module_/home/pippo/linux-uvc] Error 2
> make: *** [uvcvideo] Error 2

uvc_compat.h defines macros, structures and functions not available in older 
kernels to enable the UVC driver to be built on Linux kernels starting at 
2.6.15.

Which macros are defined depends on the kernel version. As the v4l-dvb tree 
includes V4L2 headers more recent than the kernel you are building for, 
uvc_compat.h will redefine symbols.

You can safely modify uvc_compat.h to remove all macros and structures that 
are already defined in v4l-dvb.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Feb 21 23:51:53 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 21 Feb 2008 23:51:53 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <47BC4FFD.2040807@vandenberghe.org>
References: <47BC4FFD.2040807@vandenberghe.org>
Message-ID: <200802212351.53175.laurent.pinchart@skynet.be>

Hi Chris,

On Wednesday 20 February 2008, Chris Vanden Berghe wrote:
> Hi all,
>
> I'm having exactly the same problem with revision 186 and kernel
> 2.6.24-8 on Kubuntu 8.04.
>
> The isight firmware and module load successfully, but no video device is
> created.
>
> Feb 20 23:35:52 darwin kernel: [ 35.648328] uvcvideo: Found UVC 1.00
> device Built-in iSight (05ac:8501)
> Feb 20 23:35:52 darwin kernel: [ 35.648336] uvcvideo: No valid video
> chain found.
> Feb 20 23:35:52 darwin kernel: [ 35.649122] usbcore: registered new
> interface driver uvcvideo
> Feb 20 23:35:52 darwin kernel: [ 35.649126] USB Video Class driver (SVN
> r186)
>
> Does anybody know a solution/workaround for this problem?

Could you please post the output of lsusb -d 05ac:8501 -v (using usbutils 0.72 
or newer, go for the latest version if possible) ?

Please load the driver with the trace parameter set to 255 (modprobe uvcvideo 
trace=255) and post the kernel log messages printed by the UVC driver.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Feb 21 23:53:00 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 21 Feb 2008 23:53:00 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <47BC5CB6.3020603@pu-pm.univ-fcomte.fr>
References: <47BC4FFD.2040807@vandenberghe.org>
	<47BC5CB6.3020603@pu-pm.univ-fcomte.fr>
Message-ID: <200802212353.00658.laurent.pinchart@skynet.be>

Hi Eugen,

On Wednesday 20 February 2008, Eugen Dedu wrote:
> Hi,
>
> What's interesting (for me) is that I have an iSight too (MacBookPro
> mid-2007), but the camera is (05ac:8502).  And it works with uvc, while
> yours not.  And grep 850 ~/linux-uvc prints only *yours* (8501):

Could you please post the output of lsusb -d 05ac:8502 -v (using usbutils 0.72 
or newer, go for the latest version if possible) ?

> snoopy:~/linux-uvc$ grep 850 *
> uvc_driver.c:	  .idProduct		= 0x8501,
> Binary file uvcvideo.ko matches
> uvcvideo.mod.c:MODULE_ALIAS("usb:v05ACp8501d*dc*dsc*dp*ic*isc*ip*");
> Binary file uvcvideo.mod.o matches
> snoopy:~/linux-uvc$

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Feb 22 00:36:57 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 22 Feb 2008 00:36:57 +0100
Subject: [Linux-uvc-devel] Logitech 9000 audio steps question
In-Reply-To: <47BA78F4.8030100@fngi.net>
References: <47BA78F4.8030100@fngi.net>
Message-ID: <200802220036.57274.laurent.pinchart@skynet.be>

On Tuesday 19 February 2008, Tom Poe wrote:
> "you need to remove the uvcvideo.ko module from the /lib/modules
> subdirectory where it gets loaded automatically, and load it manually
> after plugging the webcam."
>
> I just don't know what this means.  Do I unplug webcam, remove
> uvcvideo.ko with command:
> # rm /lib/modules/2.6.23.15-137.fc8PAE/usb/media/uvcvideo.ko
> then, reboot, then  ???

1. Move the uvcvideo.ko away from /lib/modules

mv /lib/modules/2.6.23.15-137.fc8PAE/usb/media/uvcvideo.ko ~/uvcvideo.ko

2. Plug the webcam.

3. Load the uvcvideo.ko module

insmod ~/uvcvideo.ko

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Feb 22 00:41:44 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 22 Feb 2008 00:41:44 +0100
Subject: [Linux-uvc-devel] Another Suyin Corp  problem
In-Reply-To: <JWC8PH$EA729E7DFD2A5576908897E3A4EBE50C@bol.com.br>
References: <JWC8PH$EA729E7DFD2A5576908897E3A4EBE50C@bol.com.br>
Message-ID: <200802220041.45098.laurent.pinchart@skynet.be>

Hi Daniel,

On Saturday 16 February 2008, daniel-linux wrote:
> Hi.. my cam just freeze.. and when i went to dmesg.. i saw this.
>
> uvcvideo: Failed to resubmit video URB (-45).

Basically, the EHCI scheduler says that the time slot that the URBs should be
queued for has already elapsed. This is a valid error when a device driver
specifies a time slot, but not when asking the EHCI scheduler to queue URBs
ASAP. I believe this is a bug in the EHCI scheduler.

A proper solution requires fixing the EHCI driver. This should be discussed on 
the linux-usb mailing list.

Best regards,

Laurent Pinchart


From felix at derklecks.de  Fri Feb 22 00:47:24 2008
From: felix at derklecks.de (=?ISO-8859-1?Q?Felix_M=F6ller?=)
Date: Fri, 22 Feb 2008 00:47:24 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <200802212353.00658.laurent.pinchart@skynet.be>
References: <47BC4FFD.2040807@vandenberghe.org>	<47BC5CB6.3020603@pu-pm.univ-fcomte.fr>
	<200802212353.00658.laurent.pinchart@skynet.be>
Message-ID: <47BE0D8C.6020802@derklecks.de>

Hi,
> On Wednesday 20 February 2008, Eugen Dedu wrote:
>> Hi,
>>
>> What's interesting (for me) is that I have an iSight too (MacBookPro
>> mid-2007), but the camera is (05ac:8502).  And it works with uvc, while
>> yours not.  And grep 850 ~/linux-uvc prints only *yours* (8501):
> 
> Could you please post the output of lsusb -d 05ac:8502 -v (using usbutils 0.72 
> or newer, go for the latest version if possible) ?
This seems to be interesting. I have attached lsusb and dmesg of the 
device one time with firmware loaded and another with no firmware 
loaded. Both are attached.

I compiled the latest cvs lsusb as of today.

Earlier the device did change its usb id with loading the firmware ...

HTH
Felix M?ller
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: isight-05ac:8501-lsusb-withfirmware.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080222/ee5ba59d/attachment.txt>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: isight-05ac:8501-lsusb-withoutfirmware.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080222/ee5ba59d/attachment-0001.txt>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: dmesg-with-firmware.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080222/ee5ba59d/attachment-0002.txt>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: dmesg-without-firmware.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080222/ee5ba59d/attachment-0003.txt>

From laurent.pinchart at skynet.be  Fri Feb 22 00:59:52 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 22 Feb 2008 00:59:52 +0100
Subject: [Linux-uvc-devel] Acer problem
In-Reply-To: <JW7J81$C3A47BE388525BBB6570208F1DDCF568@bol.com.br>
References: <JW7J81$C3A47BE388525BBB6570208F1DDCF568@bol.com.br>
Message-ID: <200802220059.52303.laurent.pinchart@skynet.be>

Hi Daniel,

On Thursday 14 February 2008, daniel-linux wrote:
> Hi... sorry for the delay to answer...

sorry for the delay as well :-)

> Yes.. it keep forever and when freeze.. appear this in the final of the
> log.
>
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
[snip]
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Frame complete (EOF found).
> uvcvideo: EOF in empty payload.
> uvcvideo: uvc_v4l2_poll
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0445611)
> uvcvideo: Dequeuing buffer 0.

Please upgrade to r188 and retry. The last message ("Dequeing buffer 0") 
should now provide some more information.

Does the driver stop printing messages at that point ? Does it print 
any "Dropping payload (out of sync)" message while you use the webcam 
*before* the freeze happens ? What are the few last messages printed by the 
driver *before* the first "Dropping payload (out of sync)" message ?

You will have to check the system log files to get the messages 
before "Dropping payload (out of sync)", as the kernel log buffer isn't big 
enough to hold all messages. Kernel messages are in /var/log, probably 
in /var/log/kernel.log (this can change depending on your distribution).

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Feb 22 01:19:22 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 22 Feb 2008 01:19:22 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <47BE0D8C.6020802@derklecks.de>
References: <47BC4FFD.2040807@vandenberghe.org>
	<200802212353.00658.laurent.pinchart@skynet.be>
	<47BE0D8C.6020802@derklecks.de>
Message-ID: <200802220119.22893.laurent.pinchart@skynet.be>

Hi Felix,

On Friday 22 February 2008, Felix M?ller wrote:
> Hi,
>
> > On Wednesday 20 February 2008, Eugen Dedu wrote:
> >> Hi,
> >>
> >> What's interesting (for me) is that I have an iSight too (MacBookPro
> >> mid-2007), but the camera is (05ac:8502).  And it works with uvc, while
> >> yours not.  And grep 850 ~/linux-uvc prints only *yours* (8501):
> >
> > Could you please post the output of lsusb -d 05ac:8502 -v (using usbutils
> > 0.72 or newer, go for the latest version if possible) ?
>
> This seems to be interesting. I have attached lsusb and dmesg of the
> device one time with firmware loaded and another with no firmware
> loaded. Both are attached.

I'm pretty sure there was a firmware loaded in your iSight when you grabbed 
the kernel log and lsusb output. As a wild guess, did you boot MacOS X and 
reboot into Linux ?

Could you please try the attached patch ? It avoids probing the camera when an 
unpatched firmware is loaded by OS X.

> I compiled the latest cvs lsusb as of today.
>
> Earlier the device did change its usb id with loading the firmware ...

Best regards,

Laurent Pinchart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: isight.diff
Type: text/x-diff
Size: 703 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080222/dfaecda0/attachment.diff>

From rahul.mvgr at gmail.com  Fri Feb 22 06:46:32 2008
From: rahul.mvgr at gmail.com (Rahul K S)
Date: Thu, 21 Feb 2008 22:46:32 -0700
Subject: [Linux-uvc-devel] HP Webcam Driver
Message-ID: <56d92e830802212146ya1313b6sf71bebd555f2f039@mail.gmail.com>

Hello Guys,
                 I tried UVC Driver for my HP dv6426 notebook, but it doesnt
seem to detect my webcam.
But on the Website it seems to show as tested.

Chicony - Hp Pavillion Webcam

Fedora 8 (OS) KDE.

could some one help me in this regard or suggest what i need to do in order
to get it working ?


-- 
Rahul S. Kavalapara
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080221/183ec5c9/attachment.html>

From filippo.argiolas at gmail.com  Fri Feb 22 09:02:17 2008
From: filippo.argiolas at gmail.com (Filippo Argiolas)
Date: Fri, 22 Feb 2008 09:02:17 +0100
Subject: [Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
In-Reply-To: <200802212345.16002.laurent.pinchart@skynet.be>
References: <1203622796.21356.8.camel@tux> <20080221200355.GA4861@plankton>
	<1203625496.22454.11.camel@tux>
	<200802212345.16002.laurent.pinchart@skynet.be>
Message-ID: <1203667338.8548.6.camel@tux>


Il giorno gio, 21/02/2008 alle 23.45 +0100, Laurent Pinchart ha scritto:
> uvc_compat.h defines macros, structures and functions not available in older 
> kernels to enable the UVC driver to be built on Linux kernels starting at 
> 2.6.15.
> 
> Which macros are defined depends on the kernel version. As the v4l-dvb tree 
> includes V4L2 headers more recent than the kernel you are building for, 
> uvc_compat.h will redefine symbols.
> 
> You can safely modify uvc_compat.h to remove all macros and structures that 
> are already defined in v4l-dvb.

I've removed all redefinitions from uvc_compat.h untill I got no
warnings and errors, the driver compiled successfully but if I try to
insmod it gives me again an unknonw symbol error:

pippo at tux:~/linux-uvc$ sudo insmod uvcvideo.ko
insmod: error inserting 'uvcvideo.ko': -1 Unknown symbol in module

pippo at tux:~/linux-uvc$ dmesg
[ 1402.632000] uvcvideo: disagrees about version of symbol video_devdata
[ 1402.632000] uvcvideo: Unknown symbol video_devdata
[ 1402.632000] uvcvideo: disagrees about version of symbol
video_unregister_device
[ 1402.632000] uvcvideo: Unknown symbol video_unregister_device
[ 1402.632000] uvcvideo: disagrees about version of symbol
video_device_alloc
[ 1402.632000] uvcvideo: Unknown symbol video_device_alloc
[ 1402.632000] uvcvideo: disagrees about version of symbol
video_register_device
[ 1402.632000] uvcvideo: Unknown symbol video_register_device
[ 1402.632000] uvcvideo: disagrees about version of symbol
video_device_release
[ 1402.632000] uvcvideo: Unknown symbol video_device_release

Note that I tried removing redefinitions one by one and even changing
line 143: 
#if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,26) to 
#if LINUX_VERSION_CODE > KERNEL_VERSION(2,6,26)

Both methods give no compile errors but the unknown symbol error is the
same.
Any idea?
Thank you again!

Filippo






From felix at derklecks.de  Fri Feb 22 10:10:59 2008
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Fri, 22 Feb 2008 10:10:59 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <200802220119.22893.laurent.pinchart@skynet.be>
References: <47BC4FFD.2040807@vandenberghe.org>
	<200802212353.00658.laurent.pinchart@skynet.be>
	<47BE0D8C.6020802@derklecks.de>
	<200802220119.22893.laurent.pinchart@skynet.be>
Message-ID: <47BE91A3.4050408@derklecks.de>

Hi,

>>>> What's interesting (for me) is that I have an iSight too (MacBookPro
>>>> mid-2007), but the camera is (05ac:8502).  And it works with uvc, while
>>>> yours not.  And grep 850 ~/linux-uvc prints only *yours* (8501):
>>> Could you please post the output of lsusb -d 05ac:8502 -v (using usbutils
>>> 0.72 or newer, go for the latest version if possible) ?
>> This seems to be interesting. I have attached lsusb and dmesg of the
>> device one time with firmware loaded and another with no firmware
>> loaded. Both are attached.
> 
> I'm pretty sure there was a firmware loaded in your iSight when you grabbed 
> the kernel log and lsusb output. As a wild guess, did you boot MacOS X and 
> reboot into Linux ?
Yes you are correct yesterday I had OS X running and rebooted into Linux.

> Could you please try the attached patch ? It avoids probing the camera when an 
> unpatched firmware is loaded by OS X.
The patch works for me.

Felix M?ller


From Eugen.Dedu at pu-pm.univ-fcomte.fr  Fri Feb 22 14:29:51 2008
From: Eugen.Dedu at pu-pm.univ-fcomte.fr (Eugen Dedu)
Date: Fri, 22 Feb 2008 14:29:51 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <200802212353.00658.laurent.pinchart@skynet.be>
References: <47BC4FFD.2040807@vandenberghe.org>
	<47BC5CB6.3020603@pu-pm.univ-fcomte.fr>
	<200802212353.00658.laurent.pinchart@skynet.be>
Message-ID: <47BECE4F.6070209@pu-pm.univ-fcomte.fr>

Hi Laurent,

Attached.  usbutils 0.73-5 (debian).

Cheers,
Eugen Dedu

Laurent Pinchart wrote:
> Hi Eugen,
> 
> On Wednesday 20 February 2008, Eugen Dedu wrote:
>> Hi,
>>
>> What's interesting (for me) is that I have an iSight too (MacBookPro
>> mid-2007), but the camera is (05ac:8502).  And it works with uvc, while
>> yours not.  And grep 850 ~/linux-uvc prints only *yours* (8501):
> 
> Could you please post the output of lsusb -d 05ac:8502 -v (using usbutils 0.72 
> or newer, go for the latest version if possible) ?
> 
>> snoopy:~/linux-uvc$ grep 850 *
>> uvc_driver.c:	  .idProduct		= 0x8501,
>> Binary file uvcvideo.ko matches
>> uvcvideo.mod.c:MODULE_ALIAS("usb:v05ACp8501d*dc*dsc*dp*ic*isc*ip*");
>> Binary file uvcvideo.mod.o matches
>> snoopy:~/linux-uvc$
> 
> Best regards,
> 
> Laurent Pinchart
> 
> 

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: lsusb.out
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080222/3ee966a3/attachment.ksh>

From Eugen.Dedu at pu-pm.univ-fcomte.fr  Fri Feb 22 14:50:26 2008
From: Eugen.Dedu at pu-pm.univ-fcomte.fr (Eugen Dedu)
Date: Fri, 22 Feb 2008 14:50:26 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <47BE91A3.4050408@derklecks.de>
References: <47BC4FFD.2040807@vandenberghe.org>	<200802212353.00658.laurent.pinchart@skynet.be>	<47BE0D8C.6020802@derklecks.de>	<200802220119.22893.laurent.pinchart@skynet.be>
	<47BE91A3.4050408@derklecks.de>
Message-ID: <47BED322.6040603@pu-pm.univ-fcomte.fr>

Felix M?ller wrote:
> Hi,
> 
>>>>> What's interesting (for me) is that I have an iSight too (MacBookPro
>>>>> mid-2007), but the camera is (05ac:8502).  And it works with uvc, while
>>>>> yours not.  And grep 850 ~/linux-uvc prints only *yours* (8501):
>>>> Could you please post the output of lsusb -d 05ac:8502 -v (using usbutils
>>>> 0.72 or newer, go for the latest version if possible) ?
>>> This seems to be interesting. I have attached lsusb and dmesg of the
>>> device one time with firmware loaded and another with no firmware
>>> loaded. Both are attached.
>> I'm pretty sure there was a firmware loaded in your iSight when you grabbed 
>> the kernel log and lsusb output. As a wild guess, did you boot MacOS X and 
>> reboot into Linux ?
> Yes you are correct yesterday I had OS X running and rebooted into Linux.

Hi,

It's a question I have aways asked myself: I did not installed any 
firmware (isight-firmware and so on).  But my camera works!

I imagine that this is because:
- either I installed linux-uvc-source from debian
- or, more probable, I used a messenger from OSX, and this has loaded 
the firmware inside the camera, so it is not necessary anymore to load 
it from linux <-- this is what you say in the previous message, isn't it?

-- 
Eugen Dedu


From filippo.argiolas at gmail.com  Sat Feb 23 11:05:16 2008
From: filippo.argiolas at gmail.com (Filippo Argiolas)
Date: Sat, 23 Feb 2008 11:05:16 +0100
Subject: [Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
In-Reply-To: <1203667338.8548.6.camel@tux>
References: <1203622796.21356.8.camel@tux> <20080221200355.GA4861@plankton>
	<1203625496.22454.11.camel@tux>
	<200802212345.16002.laurent.pinchart@skynet.be>
	<1203667338.8548.6.camel@tux>
Message-ID: <1203761116.14696.5.camel@tux>

Il giorno ven, 22/02/2008 alle 09.02 +0100, Filippo Argiolas ha scritto:
> Il giorno gio, 21/02/2008 alle 23.45 +0100, Laurent Pinchart ha scritto:
> > uvc_compat.h defines macros, structures and functions not available in older 
> > kernels to enable the UVC driver to be built on Linux kernels starting at 
> > 2.6.15.
> > 
> > Which macros are defined depends on the kernel version. As the v4l-dvb tree 
> > includes V4L2 headers more recent than the kernel you are building for, 
> > uvc_compat.h will redefine symbols.
> > 
> > You can safely modify uvc_compat.h to remove all macros and structures that 
> > are already defined in v4l-dvb.
> 
> I've removed all redefinitions from uvc_compat.h untill I got no
> warnings and errors, the driver compiled successfully but if I try to
> insmod it gives me again an unknonw symbol error:
> 
> pippo at tux:~/linux-uvc$ sudo insmod uvcvideo.ko
> insmod: error inserting 'uvcvideo.ko': -1 Unknown symbol in module
> 
> pippo at tux:~/linux-uvc$ dmesg
> [ 1402.632000] uvcvideo: disagrees about version of symbol video_devdata
> [ 1402.632000] uvcvideo: Unknown symbol video_devdata
> [ 1402.632000] uvcvideo: disagrees about version of symbol
> video_unregister_device
> [ 1402.632000] uvcvideo: Unknown symbol video_unregister_device
> [ 1402.632000] uvcvideo: disagrees about version of symbol
> video_device_alloc
> [ 1402.632000] uvcvideo: Unknown symbol video_device_alloc
> [ 1402.632000] uvcvideo: disagrees about version of symbol
> video_register_device
> [ 1402.632000] uvcvideo: Unknown symbol video_register_device
> [ 1402.632000] uvcvideo: disagrees about version of symbol
> video_device_release
> [ 1402.632000] uvcvideo: Unknown symbol video_device_release
> 
> Note that I tried removing redefinitions one by one and even changing
> line 143: 
> #if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,26) to 
> #if LINUX_VERSION_CODE > KERNEL_VERSION(2,6,26)
> 
> Both methods give no compile errors but the unknown symbol error is the
> same.
> Any idea?
> Thank you again!
> 
> Filippo

Great!! I've solved it! :D :D
I don't know if this is the right way to do it but it worked. It seems
that, when uvcvideo.mod.c is created, version checksums are taken
from /lib/modules/`uname -r`/build/Module.symvers. But this checksums
are not updated with v4l-dvb mercurial symbol versions, so I've copied
Module.symvers from the v4l-dvb tree to linux-uvc tree and recompiled.
Now version checksums are ok, so the module loads with no error :D.
Please tell me if I did something wrong,
Thanks again

Filippo




From tompoe at fngi.net  Sun Feb 24 00:47:18 2008
From: tompoe at fngi.net (Tom Poe)
Date: Sat, 23 Feb 2008 17:47:18 -0600
Subject: [Linux-uvc-devel] moving stak from one kernel to another
Message-ID: <47C0B086.2050908@fngi.net>

Can I remove svn trunk and reinstall uvcvideo?  What do I need to do?  I 
am on FC8, and I can run luvcview in one kernel, but now want to switch 
to another.  Connection log follows, then error message when attempting 
to run luvcview:

Feb 23 17:33:53 localhost kernel: usb 1-1: new high speed USB device 
using ehci_hcd and address 4
Feb 23 17:33:53 localhost kernel: usb 1-1: configuration #1 chosen from 
1 choice
Feb 23 17:33:53 localhost kernel: ALSA sound/usb/usbaudio.c:2753: 4:3:1: 
add audio endpoint 0x86
Feb 23 17:33:53 localhost kernel: ALSA sound/usb/usbmixer.c:989: [5] FU 
[Mic Capture Switch] ch = 1, val = 0/1/1
Feb 23 17:33:53 localhost kernel: ALSA sound/usb/usbmixer.c:989: [5] FU 
[Mic Capture Volume] ch = 1, val = 4608/7680/1
Feb 23 17:33:54 localhost kernel: Linux video capture interface: v2.00
Feb 23 17:33:54 localhost kernel: uvcvideo: version magic 
'2.6.23.15-137.fc8PAE SMP mod_unload 686 4KSTACKS ' should be 
'2.6.24.2-1.rt1.3.fc8.ccrmart SMP preempt mod_unload 686 '
Feb 23 17:33:56 localhost kernel: ALSA sound/usb/usbaudio.c:1327: 
setting usb interface 3:1
Feb 23 17:33:56 localhost pulseaudio[2807]: alsa-util.c: Device hw:1 
doesn't support 44100 Hz, changed to 16000 Hz.
Feb 23 17:33:56 localhost pulseaudio[2807]: alsa-util.c: Device hw:1 
doesn't support 2 channels, changed to 1.

luvcview
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
ERROR opening V4L interface
: No such file or directory



From skliarie at gmail.com  Sun Feb 24 00:55:52 2008
From: skliarie at gmail.com (Arie Skliarouk)
Date: Sun, 24 Feb 2008 01:55:52 +0200
Subject: [Linux-uvc-devel] Unknown symbol uvc_status_suspend
Message-ID: <73c0dfd30802231555n3580a417m2b251182a56ffa75@mail.gmail.com>

Hi,

I downloaded the latests SVN checkout of the driver and tried to build it
under kernel 2.6.21:

/usr/src/modules/linux-uvc# make
Building USB Video Class driver...
(cd /lib/modules/`uname -r`/build && make -C /lib/modules/`uname -r`/build
-I/usr/include SUBDIRS=/usr/src/modules/linux-uvc CROSS_COMPILE= modules)
make[1]: Entering directory `/usr/src/linux-2.6.21'
  Building modules, stage 2.
  MODPOST 1 modules
WARNING: "uvc_video_decode_isight" [/usr/src/modules/linux-uvc/uvcvideo.ko]
undefined!
WARNING: "uvc_status_resume" [/usr/src/modules/linux-uvc/uvcvideo.ko]
undefined!
WARNING: "uvc_status_init" [/usr/src/modules/linux-uvc/uvcvideo.ko]
undefined!
WARNING: "uvc_status_cleanup" [/usr/src/modules/linux-uvc/uvcvideo.ko]
undefined!
WARNING: "uvc_status_suspend" [/usr/src/modules/linux-uvc/uvcvideo.ko]
undefined!
make[1]: Leaving directory `/usr/src/linux-2.6.21'

The compilation had warnings, which made the resulting kernel module
unloadable

/usr/src/modules/linux-uvc# dmesg -c
/usr/src/modules/linux-uvc# insmod uvcvideo.ko
insmod: error inserting 'uvcvideo.ko': -1 Unknown symbol in module
depot12:/usr/src/modules/linux-uvc# dmesg
uvcvideo: Unknown symbol uvc_status_suspend
uvcvideo: Unknown symbol uvc_status_cleanup
uvcvideo: Unknown symbol uvc_status_init
uvcvideo: Unknown symbol uvc_status_resume
uvcvideo: Unknown symbol uvc_video_decode_isight

How can I make the driver to build the symbols?

Thank you!

-- 
Arie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080224/a20228ec/attachment.html>

From tompoe at fngi.net  Sun Feb 24 02:48:27 2008
From: tompoe at fngi.net (Tom Poe)
Date: Sat, 23 Feb 2008 19:48:27 -0600
Subject: [Linux-uvc-devel] stak question resolved
Message-ID: <47C0CCEB.5080201@fngi.net>

Well, that was easy enough.  I ran svn-chekout and installed, and video 
works.  Still don't have sound.  Tried five different options in my FC8 
volume control, but no luck.  I have good results with sound when I run:
 arecord -d 10 -f S16_LE -c 1 -r16000 -t wav -D hw:1,0 test.wav

Can I run luvcview with hw:1,0 as a parameter?  Or, is there a file that 
I can substitute?
Thanks, Tom


From skliarie at gmail.com  Sun Feb 24 12:18:35 2008
From: skliarie at gmail.com (Arie Skliarouk)
Date: Sun, 24 Feb 2008 13:18:35 +0200
Subject: [Linux-uvc-devel] eMPIA 2881 (Pinnacle PCTV TV-C Digital DD 4)
Message-ID: <73c0dfd30802240318m1704ab9dicb9cc616b66b4e7f@mail.gmail.com>

Hi,

I am trying to use the Digital TV tuner USB dongle (Pinnacle PCTV TV-C
Digital DD 4).
The device is seen in lsusb as follows:

Bus 003 Device 003: ID eb1a:2881 eMPIA Technology, Inc.

When I load the uvcvideo kernel driver (compiled from SVN), no /dev/video0
device is created and the only message in dmesg is:

usbcore: registered new interface driver uvcvideo
USB Video Class driver (SVN r188)

Does that mean that the device is not supported?

-- 
Arie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080224/c11d93c3/attachment.html>

From felix at derklecks.de  Sun Feb 24 12:35:58 2008
From: felix at derklecks.de (=?UTF-8?B?RmVsaXggTcKaw7ZsbGVy?=)
Date: Sun, 24 Feb 2008 12:35:58 +0100
Subject: [Linux-uvc-devel] eMPIA 2881 (Pinnacle PCTV TV-C Digital DD 4)
In-Reply-To: <73c0dfd30802240318m1704ab9dicb9cc616b66b4e7f@mail.gmail.com>
References: <73c0dfd30802240318m1704ab9dicb9cc616b66b4e7f@mail.gmail.com>
Message-ID: <47C1569E.9030807@derklecks.de>

Hi,

> I am trying to use the Digital TV tuner USB dongle (Pinnacle PCTV TV-C 
> Digital DD 4).
> The device is seen in lsusb as follows:
> 
> Bus 003 Device 003: ID eb1a:2881 eMPIA Technology, Inc.
> 
> When I load the uvcvideo kernel driver (compiled from SVN), no 
> /dev/video0 device is created and the only message in dmesg is:
> 
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (SVN r188)
please post the output of lsusb -v of your camera and in addition 
probably the dmesg of modprobe uvcvideo trace=255.

HTH
Felix M?ller


From skliarie at gmail.com  Sun Feb 24 13:18:27 2008
From: skliarie at gmail.com (Arie Skliarouk)
Date: Sun, 24 Feb 2008 14:18:27 +0200
Subject: [Linux-uvc-devel] eMPIA 2881 (Pinnacle PCTV TV-C Digital DD 4)
In-Reply-To: <47C1569E.9030807@derklecks.de>
References: <73c0dfd30802240318m1704ab9dicb9cc616b66b4e7f@mail.gmail.com>
	<47C1569E.9030807@derklecks.de>
Message-ID: <73c0dfd30802240418o2303dcf1g70543d64ed8e784e@mail.gmail.com>

Hi,

On Sun, Feb 24, 2008 at 1:35 PM, Felix M??ller <felix at derklecks.de> wrote:

> please post the output of lsusb -v of your camera and in addition
> probably the dmesg of modprobe uvcvideo trace=255.


Find both attached.

Thank you for looking into that!

-- 
Arie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080224/e166c2c2/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dmesg
Type: application/octet-stream
Size: 1845 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080224/e166c2c2/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb-v
Type: application/octet-stream
Size: 25219 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080224/e166c2c2/attachment-0001.obj>

From Chris at VandenBerghe.org  Sun Feb 24 18:57:08 2008
From: Chris at VandenBerghe.org (Chris Vanden Berghe)
Date: Sun, 24 Feb 2008 18:57:08 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <47BC843C.5000106@derklecks.de>
References: 47878326.8060005@i-nz.net <47BC4FFD.2040807@vandenberghe.org>
	<47BC843C.5000106@derklecks.de>
Message-ID: <20080224185708.fdv3o4nhcksgosc4@mail.absurdistan.org>

Hi all,

Thank you for the responses on the iSight issue.

I have managed to resolve the issue over the weekend... the problem  
was due to the firmware loading.  Although that the extract tool  
reported that the firmware was loaded successfully, it apparently  
wasn't.  After installing the isight firmware tool package, everything  
started working perfectly.

Best regards,
Chris.

---
> Chris Vanden Berghe schrieb:
>> Hi all,
>>
>> I'm having exactly the same problem with revision 186 and kernel
>> 2.6.24-8 on Kubuntu 8.04.
>>
>> The isight firmware and module load successfully, but no video   
>> device is created.
>>
>> Feb 20 23:35:52 darwin kernel: [ 35.648328] uvcvideo: Found UVC   
>> 1.00 device Built-in iSight (05ac:8501)
>> Feb 20 23:35:52 darwin kernel: [ 35.648336] uvcvideo: No valid   
>> video chain found.
>> Feb 20 23:35:52 darwin kernel: [ 35.649122] usbcore: registered new  
>>  interface driver uvcvideo
>> Feb 20 23:35:52 darwin kernel: [ 35.649126] USB Video Class driver   
>> (SVN r186)
>>
>> Does anybody know a solution/workaround for this problem?
> It does work for me.
>
> dmesg:
>> uvcvideo: Adding mapping Brightness to control   
>> 00000000-0000-0000-0000-000000000101/2.
>> uvcvideo: Adding mapping Contrast to control   
>> 00000000-0000-0000-0000-000000000101/3.
>> uvcvideo: Adding mapping Hue to control   
>> 00000000-0000-0000-0000-000000000101/6.
>> uvcvideo: Adding mapping Saturation to control   
>> 00000000-0000-0000-0000-000000000101/7.
>> uvcvideo: Adding mapping Sharpness to control   
>> 00000000-0000-0000-0000-000000000101/8.
>> uvcvideo: Adding mapping Gamma to control   
>> 00000000-0000-0000-0000-000000000101/9.
>> uvcvideo: Adding mapping Backlight Compensation to control   
>> 00000000-0000-0000-0000-000000000101/1.
>> uvcvideo: Adding mapping Gain to control   
>> 00000000-0000-0000-0000-000000000101/4.
>> uvcvideo: Adding mapping Power Line Frequency to control   
>> 00000000-0000-0000-0000-000000000101/5.
>> uvcvideo: Adding mapping Hue, Auto to control   
>> 00000000-0000-0000-0000-000000000101/16.
>> uvcvideo: Adding mapping Exposure, Auto to control   
>> 00000000-0000-0000-0000-000000000001/2.
>> uvcvideo: Adding mapping Exposure, Auto Priority to control   
>> 00000000-0000-0000-0000-000000000001/3.
>> uvcvideo: Adding mapping Exposure (Absolute) to control   
>> 00000000-0000-0000-0000-000000000001/4.
>> uvcvideo: Adding mapping White Balance Temperature, Auto to control  
>>  00000000-0000-0000-0000-000000000101/11.
>> uvcvideo: Adding mapping White Balance Temperature to control   
>> 00000000-0000-0000-0000-000000000101/10.
>> uvcvideo: Adding mapping Focus (absolute) to control   
>> 00000000-0000-0000-0000-000000000001/6.
>> uvcvideo: Adding mapping Focus, Auto to control   
>> 00000000-0000-0000-0000-000000000001/8.
>> uvcvideo: Probing known UVC device 4 (05ac:8501)
>> uvcvideo: Found format YUV 4:2:2 (UYVY).
>> uvcvideo: - 640x480 (30.0 fps)
>> uvcvideo: - 352x288 (30.0 fps)
>> uvcvideo: - 320x240 (30.0 fps)
>> uvcvideo: Found a Status endpoint (addr 81).
>> uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
>> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to   
>> device 4 entity 2
>> uvcvideo: Added contlrol 00000000-0000-0000-0000-000000000101/7 to   
>> device 4 entity 2
>> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/8 to   
>> device 4 entity 2
>> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/9 to   
>> device 4 entity 2
>> uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
>> uvcvideo: Found a valid video chain (1 -> 3).
>> uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp. 26).
>> uvcvideo: UVC device initialized.
>> usbcore: registered new interface driver uvcvideo
>> USB Video Class driver (SVN r186)
>
> # lsusb
> Bus 001 Device 006: ID 05ac:8501 Apple Computer, Inc. Built-in   
> iSight [Micron]
>
> # md5sum /lib/firmware/isight.fw
> 6d4b6764538e85ab9e7e15ed21b7a60c  /lib/firmware/isight.fw
>
> You should reread http://bersace03.free.fr/ift/ and ask ?tienne  
> Bersac for some help.
>
> greetings
> Felix M?ller



----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.




From laurent.pinchart at skynet.be  Sun Feb 24 21:31:13 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 21:31:13 +0100
Subject: [Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
In-Reply-To: <1203761116.14696.5.camel@tux>
References: <1203622796.21356.8.camel@tux> <1203667338.8548.6.camel@tux>
	<1203761116.14696.5.camel@tux>
Message-ID: <200802242131.14010.laurent.pinchart@skynet.be>

Hi Filippo,

On Saturday 23 February 2008, Filippo Argiolas wrote:
> Il giorno ven, 22/02/2008 alle 09.02 +0100, Filippo Argiolas ha scritto:
> > Il giorno gio, 21/02/2008 alle 23.45 +0100, Laurent Pinchart ha scritto:
> > > uvc_compat.h defines macros, structures and functions not available in
> > > older kernels to enable the UVC driver to be built on Linux kernels
> > > starting at 2.6.15.
> > >
> > > Which macros are defined depends on the kernel version. As the v4l-dvb
> > > tree includes V4L2 headers more recent than the kernel you are building
> > > for, uvc_compat.h will redefine symbols.
> > >
> > > You can safely modify uvc_compat.h to remove all macros and structures
> > > that are already defined in v4l-dvb.
> >
> > I've removed all redefinitions from uvc_compat.h untill I got no
> > warnings and errors, the driver compiled successfully but if I try to
> > insmod it gives me again an unknonw symbol error:
> >
> > pippo at tux:~/linux-uvc$ sudo insmod uvcvideo.ko
> > insmod: error inserting 'uvcvideo.ko': -1 Unknown symbol in module
> >
> > pippo at tux:~/linux-uvc$ dmesg
> > [ 1402.632000] uvcvideo: disagrees about version of symbol video_devdata
> > [ 1402.632000] uvcvideo: Unknown symbol video_devdata
> > [ 1402.632000] uvcvideo: disagrees about version of symbol
> > video_unregister_device
> > [ 1402.632000] uvcvideo: Unknown symbol video_unregister_device
> > [ 1402.632000] uvcvideo: disagrees about version of symbol
> > video_device_alloc
> > [ 1402.632000] uvcvideo: Unknown symbol video_device_alloc
> > [ 1402.632000] uvcvideo: disagrees about version of symbol
> > video_register_device
> > [ 1402.632000] uvcvideo: Unknown symbol video_register_device
> > [ 1402.632000] uvcvideo: disagrees about version of symbol
> > video_device_release
> > [ 1402.632000] uvcvideo: Unknown symbol video_device_release
> >
> > Note that I tried removing redefinitions one by one and even changing
> > line 143:
> > #if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,26) to
> > #if LINUX_VERSION_CODE > KERNEL_VERSION(2,6,26)
> >
> > Both methods give no compile errors but the unknown symbol error is the
> > same.
> > Any idea?
> > Thank you again!
> >
> > Filippo
>
> Great!! I've solved it! :D :D

Congratulations :-)

> I don't know if this is the right way to do it but it worked. It seems
> that, when uvcvideo.mod.c is created, version checksums are taken
> from /lib/modules/`uname -r`/build/Module.symvers. But this checksums
> are not updated with v4l-dvb mercurial symbol versions, so I've copied
> Module.symvers from the v4l-dvb tree to linux-uvc tree and recompiled.
> Now version checksums are ok, so the module loads with no error :D.
> Please tell me if I did something wrong,

Your explanation makes sense and your solution seems correct. The v4l-dvb 
installation process should update Module.symvers. You should send a mail to 
the v4l-dvb developers to complain about that.

Thanks for posting the solution on the list, that will probably be helpful for 
other v4l-dvb users.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb 24 21:57:11 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 21:57:11 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <47BED322.6040603@pu-pm.univ-fcomte.fr>
References: <47BC4FFD.2040807@vandenberghe.org> <47BE91A3.4050408@derklecks.de>
	<47BED322.6040603@pu-pm.univ-fcomte.fr>
Message-ID: <200802242157.11533.laurent.pinchart@skynet.be>

On Friday 22 February 2008, Eugen Dedu wrote:
> Felix M?ller wrote:
> > Hi,
> >
> >>>>> What's interesting (for me) is that I have an iSight too (MacBookPro
> >>>>> mid-2007), but the camera is (05ac:8502).  And it works with uvc,
> >>>>> while yours not.  And grep 850 ~/linux-uvc prints only *yours*
> >>>>> (8501):
> >>>>
> >>>> Could you please post the output of lsusb -d 05ac:8502 -v (using
> >>>> usbutils 0.72 or newer, go for the latest version if possible) ?
> >>>
> >>> This seems to be interesting. I have attached lsusb and dmesg of the
> >>> device one time with firmware loaded and another with no firmware
> >>> loaded. Both are attached.
> >>
> >> I'm pretty sure there was a firmware loaded in your iSight when you
> >> grabbed the kernel log and lsusb output. As a wild guess, did you boot
> >> MacOS X and reboot into Linux ?
> >
> > Yes you are correct yesterday I had OS X running and rebooted into Linux.
>
> Hi,
>
> It's a question I have aways asked myself: I did not installed any
> firmware (isight-firmware and so on).  But my camera works!
>
> I imagine that this is because:
> - either I installed linux-uvc-source from debian
> - or, more probable, I used a messenger from OSX, and this has loaded
> the firmware inside the camera, so it is not necessary anymore to load
> it from linux <-- this is what you say in the previous message, isn't it?

The camera has no flash memory to hold the firmware when you power your 
computer off. If it works when you cold boot your computer into Linux, you 
probably have the iSight firmware loader installed by Debian.

Best regards,

Laurent Pinchart


From iceman at shamashcorps.com  Sun Feb 24 22:02:33 2008
From: iceman at shamashcorps.com (iceman)
Date: Sun, 24 Feb 2008 22:02:33 +0100
Subject: [Linux-uvc-devel] Bus 002 Device 003: ID 05e3:0503 Genesys Logic,
	Inc.
Message-ID: <1203886953.5838.9.camel@kaeina>

hello,
        
        i've got the following webcam :
        
        
        Bus 002 Device 003: ID 05e3:0503 Genesys Logic, Inc. 
        Device Descriptor:
          bLength                18
          bDescriptorType         1
          bcdUSB               2.00
          bDeviceClass            0 (Defined at Interface level)
          bDeviceSubClass         0 
          bDeviceProtocol         0 
          bMaxPacketSize0        64
          idVendor           0x05e3 Genesys Logic, Inc.
          idProduct          0x0503 
          bcdDevice            1.03
          iManufacturer           0 
          iProduct                1 USB 2.0 PC Camera
          iSerial                 0 
          bNumConfigurations      1
          Configuration Descriptor:
            bLength                 9
            bDescriptorType         2
            wTotalLength          129
            bNumInterfaces          1
            bConfigurationValue     1
            iConfiguration          0 
            bmAttributes         0x80
              (Bus Powered)
            MaxPower              140mA
            Interface Descriptor:
              bLength                 9
              bDescriptorType         4
              bInterfaceNumber        0
              bAlternateSetting       0
              bNumEndpoints           3
              bInterfaceClass       255 Vendor Specific Class
              bInterfaceSubClass      0 
              bInterfaceProtocol      0 
              iInterface              0 
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x81  EP 1 IN
                bmAttributes            1
                  Transfer Type            Isochronous
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0000  1x 0 bytes
                bInterval               1
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x02  EP 2 OUT
                bmAttributes            2
                  Transfer Type            Bulk
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0200  1x 512 bytes
                bInterval               1
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x83  EP 3 IN
                bmAttributes            3
                  Transfer Type            Interrupt
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0001  1x 1 bytes
                bInterval               5
            Interface Descriptor:
              bLength                 9
              bDescriptorType         4
              bInterfaceNumber        0
              bAlternateSetting       1
              bNumEndpoints           3
              bInterfaceClass       255 Vendor Specific Class
              bInterfaceSubClass      0 
              bInterfaceProtocol      0 
              iInterface              0 
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x81  EP 1 IN
                bmAttributes            1
                  Transfer Type            Isochronous
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x1400  3x 0 bytes
                bInterval               1
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x02  EP 2 OUT
                bmAttributes            2
                  Transfer Type            Bulk
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0200  1x 512 bytes
                bInterval               1
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x83  EP 3 IN
                bmAttributes            3
                  Transfer Type            Interrupt
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0001  1x 1 bytes
                bInterval               5
            Interface Descriptor:
              bLength                 9
              bDescriptorType         4
              bInterfaceNumber        0
              bAlternateSetting       2
              bNumEndpoints           3
              bInterfaceClass       255 Vendor Specific Class
              bInterfaceSubClass      0 
              bInterfaceProtocol      0 
              iInterface              0 
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x81  EP 1 IN
                bmAttributes            1
                  Transfer Type            Isochronous
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0400  1x 0 bytes
                bInterval               1
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x02  EP 2 OUT
                bmAttributes            2
                  Transfer Type            Bulk
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0200  1x 512 bytes
                bInterval               1
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x83  EP 3 IN
                bmAttributes            3
                  Transfer Type            Interrupt
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0001  1x 1 bytes
                bInterval               5
            Interface Descriptor:
              bLength                 9
              bDescriptorType         4
              bInterfaceNumber        0
              bAlternateSetting       3
              bNumEndpoints           3
              bInterfaceClass       255 Vendor Specific Class
              bInterfaceSubClass      0 
              bInterfaceProtocol      0 
              iInterface              0 
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x81  EP 1 IN
                bmAttributes            1
                  Transfer Type            Isochronous
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0c00  2x 0 bytes
                bInterval               1
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x02  EP 2 OUT
                bmAttributes            2
                  Transfer Type            Bulk
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0200  1x 512 bytes
                bInterval               1
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x83  EP 3 IN
                bmAttributes            3
                  Transfer Type            Interrupt
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0001  1x 1 bytes
                bInterval               5
        Device Qualifier (for other device speed):
          bLength                10
          bDescriptorType         6
          bcdUSB               2.00
          bDeviceClass            0 (Defined at Interface level)
          bDeviceSubClass         0 
          bDeviceProtocol         0 
          bMaxPacketSize0        64
          bNumConfigurations      1
        Device Status:     0x0000
          (Bus Powered)
        
        if you need another information to add this webcam to the driver
        uvc
        
        thanks
        by
        ice
        



From laurent.pinchart at skynet.be  Sun Feb 24 22:13:47 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 22:13:47 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <47BE91A3.4050408@derklecks.de>
References: <47BC4FFD.2040807@vandenberghe.org>
	<200802220119.22893.laurent.pinchart@skynet.be>
	<47BE91A3.4050408@derklecks.de>
Message-ID: <200802242213.47565.laurent.pinchart@skynet.be>

On Friday 22 February 2008, Felix M?ller wrote:
> Hi,
>
> >>>> What's interesting (for me) is that I have an iSight too (MacBookPro
> >>>> mid-2007), but the camera is (05ac:8502).  And it works with uvc,
> >>>> while yours not.  And grep 850 ~/linux-uvc prints only *yours* (8501):
> >>>
> >>> Could you please post the output of lsusb -d 05ac:8502 -v (using
> >>> usbutils 0.72 or newer, go for the latest version if possible) ?
> >>
> >> This seems to be interesting. I have attached lsusb and dmesg of the
> >> device one time with firmware loaded and another with no firmware
> >> loaded. Both are attached.
> >
> > I'm pretty sure there was a firmware loaded in your iSight when you
> > grabbed the kernel log and lsusb output. As a wild guess, did you boot
> > MacOS X and reboot into Linux ?
>
> Yes you are correct yesterday I had OS X running and rebooted into Linux.
>
> > Could you please try the attached patch ? It avoids probing the camera
> > when an unpatched firmware is loaded by OS X.
>
> The patch works for me.

Thanks. I've just committed it.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb 24 22:20:54 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 22:20:54 +0100
Subject: [Linux-uvc-devel] HP Webcam Driver
In-Reply-To: <56d92e830802212146ya1313b6sf71bebd555f2f039@mail.gmail.com>
References: <56d92e830802212146ya1313b6sf71bebd555f2f039@mail.gmail.com>
Message-ID: <200802242220.54987.laurent.pinchart@skynet.be>

On Friday 22 February 2008, Rahul K S wrote:
> Hello Guys,
>                  I tried UVC Driver for my HP dv6426 notebook, but it
> doesnt seem to detect my webcam.
> But on the Website it seems to show as tested.
>
> Chicony - Hp Pavillion Webcam
>
> Fedora 8 (OS) KDE.
>
> could some one help me in this regard or suggest what i need to do in order
> to get it working ?

Check the kernel log to see if the Linux UVC driver prints any message.

Manufacturers sometime ship different hardware under the same name. Check 
http://linux-uvc.berlios.de/faq/ to see how to find out if your webcam is 
compatible with the UVC driver.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb 24 22:27:31 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 22:27:31 +0100
Subject: [Linux-uvc-devel] stak question resolved
In-Reply-To: <47C0CCEB.5080201@fngi.net>
References: <47C0CCEB.5080201@fngi.net>
Message-ID: <200802242227.31533.laurent.pinchart@skynet.be>

Hi Tom,

On Sunday 24 February 2008, Tom Poe wrote:
> Well, that was easy enough.  I ran svn-chekout and installed, and video
> works.  Still don't have sound.  Tried five different options in my FC8
> volume control, but no luck.  I have good results with sound when I run:
>  arecord -d 10 -f S16_LE -c 1 -r16000 -t wav -D hw:1,0 test.wav
>
> Can I run luvcview with hw:1,0 as a parameter?  Or, is there a file that
> I can substitute?

I don't think luvcview supports sound.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb 24 22:34:04 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 22:34:04 +0100
Subject: [Linux-uvc-devel] Unknown symbol uvc_status_suspend
In-Reply-To: <73c0dfd30802231555n3580a417m2b251182a56ffa75@mail.gmail.com>
References: <73c0dfd30802231555n3580a417m2b251182a56ffa75@mail.gmail.com>
Message-ID: <200802242234.04438.laurent.pinchart@skynet.be>

On Sunday 24 February 2008, Arie Skliarouk wrote:
> Hi,
>
> I downloaded the latests SVN checkout of the driver and tried to build it
> under kernel 2.6.21:
>
> /usr/src/modules/linux-uvc# make

You shouldn't compile as root. The Linux UVC driver doesn't care, but it has 
potential security implications.

> Building USB Video Class driver...
> (cd /lib/modules/`uname -r`/build && make -C /lib/modules/`uname -r`/build
> -I/usr/include SUBDIRS=/usr/src/modules/linux-uvc CROSS_COMPILE= modules)
> make[1]: Entering directory `/usr/src/linux-2.6.21'
>   Building modules, stage 2.
>   MODPOST 1 modules
> WARNING: "uvc_video_decode_isight" [/usr/src/modules/linux-uvc/uvcvideo.ko]
> undefined!
> WARNING: "uvc_status_resume" [/usr/src/modules/linux-uvc/uvcvideo.ko]
> undefined!
> WARNING: "uvc_status_init" [/usr/src/modules/linux-uvc/uvcvideo.ko]
> undefined!
> WARNING: "uvc_status_cleanup" [/usr/src/modules/linux-uvc/uvcvideo.ko]
> undefined!
> WARNING: "uvc_status_suspend" [/usr/src/modules/linux-uvc/uvcvideo.ko]
> undefined!
> make[1]: Leaving directory `/usr/src/linux-2.6.21'
>
> The compilation had warnings, which made the resulting kernel module
> unloadable
>
> /usr/src/modules/linux-uvc# dmesg -c
> /usr/src/modules/linux-uvc# insmod uvcvideo.ko
> insmod: error inserting 'uvcvideo.ko': -1 Unknown symbol in module
> depot12:/usr/src/modules/linux-uvc# dmesg
> uvcvideo: Unknown symbol uvc_status_suspend
> uvcvideo: Unknown symbol uvc_status_cleanup
> uvcvideo: Unknown symbol uvc_status_init
> uvcvideo: Unknown symbol uvc_status_resume
> uvcvideo: Unknown symbol uvc_video_decode_isight
>
> How can I make the driver to build the symbols?

There was something wrong with the build process. Try to clean compilation 
outputs with 'make clean' and then run 'make' again.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb 24 22:35:25 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 22:35:25 +0100
Subject: [Linux-uvc-devel] eMPIA 2881 (Pinnacle PCTV TV-C Digital DD 4)
In-Reply-To: <73c0dfd30802240318m1704ab9dicb9cc616b66b4e7f@mail.gmail.com>
References: <73c0dfd30802240318m1704ab9dicb9cc616b66b4e7f@mail.gmail.com>
Message-ID: <200802242235.25916.laurent.pinchart@skynet.be>

On Sunday 24 February 2008, Arie Skliarouk wrote:
> Hi,
>
> I am trying to use the Digital TV tuner USB dongle (Pinnacle PCTV TV-C
> Digital DD 4).
> The device is seen in lsusb as follows:
>
> Bus 003 Device 003: ID eb1a:2881 eMPIA Technology, Inc.
>
> When I load the uvcvideo kernel driver (compiled from SVN), no /dev/video0
> device is created and the only message in dmesg is:
>
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (SVN r188)
>
> Does that mean that the device is not supported?

The device is indeed unsupported, as it's not UVC compatible.

http://linux-uvc.berlios.de/faq/

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb 24 22:53:22 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 22:53:22 +0100
Subject: [Linux-uvc-devel] Bus 002 Device 003: ID 05e3:0503 Genesys
	Logic, Inc.
In-Reply-To: <1203886953.5838.9.camel@kaeina>
References: <1203886953.5838.9.camel@kaeina>
Message-ID: <200802242253.22716.laurent.pinchart@skynet.be>

Hi,

On Sunday 24 February 2008, iceman wrote:
> hello,
>
>         i've got the following webcam :
>
>
>         Bus 002 Device 003: ID 05e3:0503 Genesys Logic, Inc.
[snip]
>
>         if you need another information to add this webcam to the driver
>         uvc

Your webcam isn't UVC compatible, so I can't be supported by the UVC driver. 
Sorry.

Best regards,

Laurent Pinchart


From iceman at shamashcorps.com  Sun Feb 24 23:23:52 2008
From: iceman at shamashcorps.com (iceman)
Date: Sun, 24 Feb 2008 23:23:52 +0100
Subject: [Linux-uvc-devel] Bus 002 Device 003: ID 05e3:0503
	Genesys	Logic, Inc.
In-Reply-To: <200802242253.22716.laurent.pinchart@skynet.be>
References: <1203886953.5838.9.camel@kaeina>
	<200802242253.22716.laurent.pinchart@skynet.be>
Message-ID: <1203891833.6363.0.camel@kaeina>

thanks a lot!
By the way did you know another driver which could be compilant?

cheers

ice
Le dimanche 24 f?vrier 2008 ? 22:53 +0100, Laurent Pinchart a ?crit :
> Hi,
> 
> On Sunday 24 February 2008, iceman wrote:
> > hello,
> >
> >         i've got the following webcam :
> >
> >
> >         Bus 002 Device 003: ID 05e3:0503 Genesys Logic, Inc.
> [snip]
> >
> >         if you need another information to add this webcam to the driver
> >         uvc
> 
> Your webcam isn't UVC compatible, so I can't be supported by the UVC driver. 
> Sorry.
> 
> Best regards,
> 
> Laurent Pinchart



From rasasi78 at gmail.com  Sun Feb 24 23:20:51 2008
From: rasasi78 at gmail.com (=?UTF-8?B?UmHDumwgU8OhbmNoZXogU2lsZXM=?=)
Date: Sun, 24 Feb 2008 23:20:51 +0100
Subject: [Linux-uvc-devel] luvcview fails to work.
Message-ID: <fpsql9$u4d$1@ger.gmane.org>

  Hello All:

  I own a laptop with a webcam supported by the uvc driver. I can use it for
videoconference successfully but I fail to take an single jpg photo. I use
luvcview 0.2.1 in order to have it, with no success.

  I have just built the latest svn driver (r188), with same result. I'm on a
Debian unstable distro using 2.6.24.2 for and Core2 Duo laptop. This is the
output of luvcview:

luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
 Init v4L2 failed !! exit fatal

  Same result for luvcview -w, -c, -C and -S . -g fails since direct I/O is
not supported.

  What does this message mean? Is there a way I could get a simple
screenshot using the driver. Pointers are appreciated.

  Only -f yuv worked, but well, what about the others?

 I've also tried some other parameters. This is their output:

luvcview -L
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
/dev/video0 does not support read i/o
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 352, height = 288 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 176, height = 144 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 160, height = 120 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 1280, height = 800 }
        Time interval between frame: 2/15, 1/5, 1/1,
{ discrete: width = 1280, height = 1024 }
        Time interval between frame: 2/15, 1/5, 1/1,


  Thanks and best regards,

-- 
     Ra?l S?nchez Siles
----->Proud Debian user<-----
Linux registered user #416098



From laurent.pinchart at skynet.be  Sun Feb 24 23:52:16 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 23:52:16 +0100
Subject: [Linux-uvc-devel]
	=?utf-8?q?Bus_002_Device_003=3A_ID_05e3=3A0503_?=
	=?utf-8?q?Genesys=09Logic_=2C_Inc=2E?=
In-Reply-To: <1203891833.6363.0.camel@kaeina>
References: <1203886953.5838.9.camel@kaeina>
	<200802242253.22716.laurent.pinchart@skynet.be>
	<1203891833.6363.0.camel@kaeina>
Message-ID: <200802242352.16254.laurent.pinchart@skynet.be>

Hi,

On Sunday 24 February 2008, iceman wrote:
> thanks a lot!
> By the way did you know another driver which could be compilant?

Have a look at the spca5xx/gspca driver. It supports lots of webcams, your 
might be in the list.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Feb 24 23:53:49 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 24 Feb 2008 23:53:49 +0100
Subject: [Linux-uvc-devel] luvcview fails to work.
In-Reply-To: <fpsql9$u4d$1@ger.gmane.org>
References: <fpsql9$u4d$1@ger.gmane.org>
Message-ID: <200802242353.49605.laurent.pinchart@skynet.be>

Hi Ra?l,

On Sunday 24 February 2008, Ra?l S?nchez Siles wrote:
>   Hello All:
>
>   I own a laptop with a webcam supported by the uvc driver. I can use it
> for videoconference successfully but I fail to take an single jpg photo. I
> use luvcview 0.2.1 in order to have it, with no success.
>
>   I have just built the latest svn driver (r188), with same result. I'm on
> a Debian unstable distro using 2.6.24.2 for and Core2 Duo laptop. This is
> the output of luvcview:
>
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal
>
>   Same result for luvcview -w, -c, -C and -S . -g fails since direct I/O is
> not supported.
>
>   What does this message mean? Is there a way I could get a simple
> screenshot using the driver. Pointers are appreciated.
>
>   Only -f yuv worked, but well, what about the others?

Your camera supports YUV only, so there is no other format :-)

>  I've also tried some other parameters. This is their output:
>
> luvcview -L
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> /dev/video0 does not support read i/o
> { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
> { discrete: width = 640, height = 480 }
>         Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
> { discrete: width = 352, height = 288 }
>         Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
> { discrete: width = 320, height = 240 }
>         Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
> { discrete: width = 176, height = 144 }
>         Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
> { discrete: width = 160, height = 120 }
>         Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
> { discrete: width = 1280, height = 800 }
>         Time interval between frame: 2/15, 1/5, 1/1,
> { discrete: width = 1280, height = 1024 }
>         Time interval between frame: 2/15, 1/5, 1/1,

Best regards,

Laurent Pinchart


From tompoe at fngi.net  Sun Feb 24 23:48:26 2008
From: tompoe at fngi.net (Tom Poe)
Date: Sun, 24 Feb 2008 16:48:26 -0600
Subject: [Linux-uvc-devel] stak question resolved
In-Reply-To: <200802242227.31533.laurent.pinchart@skynet.be>
References: <47C0CCEB.5080201@fngi.net>
	<200802242227.31533.laurent.pinchart@skynet.be>
Message-ID: <47C1F43A.70206@fngi.net>

Laurent Pinchart wrote:
> Hi Tom,
>
> On Sunday 24 February 2008, Tom Poe wrote:
>   
>> Well, that was easy enough.  I ran svn-chekout and installed, and video
>> works.  Still don't have sound.  Tried five different options in my FC8
>> volume control, but no luck.  I have good results with sound when I run:
>>  arecord -d 10 -f S16_LE -c 1 -r16000 -t wav -D hw:1,0 test.wav
>>
>> Can I run luvcview with hw:1,0 as a parameter?  Or, is there a file that
>> I can substitute?
>>     
>
> I don't think luvcview supports sound.
>
> Best regards,
>
> Laurent Pinchart
>
>   
Laurent:  Thanks for responding.  I've found a workaround.  I use a 
command line that works for recording video and sound:
ffmpeg -f video4linux2 -s 320x240 -i /dev/video0 -f oss -ac 2 -i 
/dev/dsp -f mp4 test.mp4

It doesn't use the microphone on the webcam.  I'd like to be able to 
direct the sound input command part to hw:1,0  which works when I use:
$ arecord -d 10 -f S16_LE -c 1 -r16000 -t wav -D hw:1,0 test.wav

Then, I'd just have to figure a nifty way to sync the two commands and 
create one audio/video file.  Considering I can barely get a computer to 
turn on, it may be awhile before I make any progress.
Thanks, again for the update,
Tom




From georgeps at xmission.com  Mon Feb 25 05:23:34 2008
From: georgeps at xmission.com (George Peter Staplin)
Date: Sun, 24 Feb 2008 21:23:34 -0700
Subject: [Linux-uvc-devel] luvcview fails to work.
In-Reply-To: <200802242353.49605.laurent.pinchart@skynet.be>
References: <fpsql9$u4d$1@ger.gmane.org>
	<200802242353.49605.laurent.pinchart@skynet.be>
Message-ID: <20080224212334.3ea82jvvj5coo04w@webmail.xmission.com>

Quoted Laurent Pinchart <laurent.pinchart at skynet.be>:

> Hi Ra?l,
>
> On Sunday 24 February 2008, Ra?l S?nchez Siles wrote:
>>   Hello All:
>>
>>   I own a laptop with a webcam supported by the uvc driver. I can use it
>> for videoconference successfully but I fail to take an single jpg photo. I
>> use luvcview 0.2.1 in order to have it, with no success.
>>
>>   I have just built the latest svn driver (r188), with same result. I'm on
>> a Debian unstable distro using 2.6.24.2 for and Core2 Duo laptop. This is
>> the output of luvcview:
>>
>> luvcview version 0.2.1
>> Video driver: x11
>> A window manager is available
>> video /dev/video0
>> Unable to set format: 22.
>>  Init v4L2 failed !! exit fatal
>>
>>   Same result for luvcview -w, -c, -C and -S . -g fails since direct I/O is
>> not supported.
>>
>>   What does this message mean? Is there a way I could get a simple
>> screenshot using the driver. Pointers are appreciated.
>>
>>   Only -f yuv worked, but well, what about the others?
>
> Your camera supports YUV only, so there is no other format :-)

What you may be able to do is use the mjpg-streamer project's  
uvc_stream.  The only problem I've had is writing a suitable program  
to work with its somewhat bizarre MJPEG format.  Mozilla Firefox will  
display the JPEG frames, although with some bugs, so I wrote my own  
viewer.  My viewer supports Linux and Win32.  I just share the viewer  
program with my friends so that they can connect to the MJPEG stream.

I also have a small patch to uvc_stream that seems to be useful.
$ svn diff uvc_stream.c
Index: uvc_stream.c
===================================================================
--- uvc_stream.c        (revision 56)
+++ uvc_stream.c        (working copy)
@@ -460,8 +460,11 @@

    /* create a child for every client that connects */
    while ( 1 ) {
+    struct sockaddr_in saddr;
+    socklen_t slen = sizeof (saddr);
      int *pfd = (int *)calloc(1, sizeof(int));
-    *pfd = accept(sd, 0, 0);
+    *pfd = accept(sd, (struct sockaddr *)&saddr, &slen);
+    fprintf (stderr, "accept %s\n", inet_ntoa (saddr.sin_addr));
      pthread_create(&client, NULL, &client_thread, pfd);
      pthread_detach(client);


If desired I could clean it up a bit (it's only ~100 lines of code),  
and add a grab option to save individual frames.  It uses code from my  
project called megapkg, specifically the megaimage, jpegext2, and ntk  
extensions to Tcl.

By the way, how difficult would it be to add a read() interface to the  
uvc driver?  Is there something that makes that inherently difficult  
that the hardware imposes?


George
-- 
http://www.xmission.com/~georgeps/  http://whim.linuxsys.net
http://code.google.com/p/megapkg/   http://code.google.com/p/opennexx/



From mrechberger at gmail.com  Mon Feb 25 08:34:33 2008
From: mrechberger at gmail.com (Markus Rechberger)
Date: Mon, 25 Feb 2008 08:34:33 +0100
Subject: [Linux-uvc-devel] Linux-uvc-devel Digest, Vol 20, Issue 48
In-Reply-To: <mailman.224.1203913518.29873.linux-uvc-devel@lists.berlios.de>
References: <mailman.224.1203913518.29873.linux-uvc-devel@lists.berlios.de>
Message-ID: <d9def9db0802242334k7c770175jde9ccbf7279b4b35@mail.gmail.com>

>
>  Message: 3
>  Date: Sun, 24 Feb 2008 22:35:25 +0100
>  From: Laurent Pinchart <laurent.pinchart at skynet.be>
>  Subject: Re: [Linux-uvc-devel] eMPIA 2881 (Pinnacle PCTV TV-C Digital
>         DD 4)
>  To: linux-uvc-devel at lists.berlios.de
>  Message-ID: <200802242235.25916.laurent.pinchart at skynet.be>
>  Content-Type: text/plain;  charset="utf-8"
>
>  On Sunday 24 February 2008, Arie Skliarouk wrote:
>  > Hi,
>  >
>  > I am trying to use the Digital TV tuner USB dongle (Pinnacle PCTV TV-C
>  > Digital DD 4).
>  > The device is seen in lsusb as follows:
>  >
>  > Bus 003 Device 003: ID eb1a:2881 eMPIA Technology, Inc.
>  >
>  > When I load the uvcvideo kernel driver (compiled from SVN), no /dev/video0
>  > device is created and the only message in dmesg is:
>  >
>  > usbcore: registered new interface driver uvcvideo
>  > USB Video Class driver (SVN r188)
>  >
>  > Does that mean that the device is not supported?
>
>  The device is indeed unsupported, as it's not UVC compatible.
>
>  http://linux-uvc.berlios.de/faq/
>
>  Best regards,
>

This device is a hybrid TV/DTV device (at least that chip supports
it), the driverproject for it is hosted on mcentral.de

Markus


From pedroabcd at mixmail.com  Mon Feb 25 13:15:39 2008
From: pedroabcd at mixmail.com (Pedro P )
Date: Mon, 25 Feb 2008 13:15:39 +0100
Subject: [Linux-uvc-devel] Problems to install Logitech QuickCam Pro 5000
Message-ID: <E1JTcF9-0005hW-00@relay.mixmail.com>


Hello,
My name is Javier and I have a webCam "Logitech QuickCam Pro 5000" and my kernel is Linux
2.6.22.17-0.1-bigsmpi686 .

Konsole-> lsusb:
Bus 002 Device 003: ID 046d:08ce Logitech, Inc.

Also I've instaled driver uvcvideo (for kernel 2.6.22.17_0.1-1.1) kmp-debug, kmp-default,
kmp-xen, kmp-xenpae
My webCam not runing. 

I'm a new Linux user and I don't perfectly know this  I use software EKIGA to trial
videoconference.
Can you help me?

Regards,
Javier
---------------------------------------------------------
Ya.com ADSL 24h + Llamadas Nacionales y Locales 24h + Llamadas a M?VILES.
Desde 9,95 ?/mes+IVA. http://acceso.ya.com/ADSLllamadas/3mbvoz/


From laurent.pinchart at skynet.be  Mon Feb 25 21:19:25 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 25 Feb 2008 21:19:25 +0100
Subject: [Linux-uvc-devel] luvcview fails to work.
In-Reply-To: <20080224212334.3ea82jvvj5coo04w@webmail.xmission.com>
References: <fpsql9$u4d$1@ger.gmane.org>
	<200802242353.49605.laurent.pinchart@skynet.be>
	<20080224212334.3ea82jvvj5coo04w@webmail.xmission.com>
Message-ID: <200802252119.25801.laurent.pinchart@skynet.be>

Hi George,

On Monday 25 February 2008, George Peter Staplin wrote:
> Quoted Laurent Pinchart <laurent.pinchart at skynet.be>:
> > Hi Ra?l,
> >
> > On Sunday 24 February 2008, Ra?l S?nchez Siles wrote:
> >>   Hello All:
> >>
> >>   I own a laptop with a webcam supported by the uvc driver. I can use it
> >> for videoconference successfully but I fail to take an single jpg photo.
> >> I use luvcview 0.2.1 in order to have it, with no success.
> >>
> >>   I have just built the latest svn driver (r188), with same result. I'm
> >> on a Debian unstable distro using 2.6.24.2 for and Core2 Duo laptop.
> >> This is the output of luvcview:
> >>
> >> luvcview version 0.2.1
> >> Video driver: x11
> >> A window manager is available
> >> video /dev/video0
> >> Unable to set format: 22.
> >>  Init v4L2 failed !! exit fatal
> >>
> >>   Same result for luvcview -w, -c, -C and -S . -g fails since direct I/O
> >> is not supported.
> >>
> >>   What does this message mean? Is there a way I could get a simple
> >> screenshot using the driver. Pointers are appreciated.
> >>
> >>   Only -f yuv worked, but well, what about the others?
> >
> > Your camera supports YUV only, so there is no other format :-)
>
> What you may be able to do is use the mjpg-streamer project's
> uvc_stream.  The only problem I've had is writing a suitable program
> to work with its somewhat bizarre MJPEG format.  Mozilla Firefox will
> display the JPEG frames, although with some bugs, so I wrote my own
> viewer.  My viewer supports Linux and Win32.  I just share the viewer
> program with my friends so that they can connect to the MJPEG stream.
>
> I also have a small patch to uvc_stream that seems to be useful.
> $ svn diff uvc_stream.c
> Index: uvc_stream.c
> ===================================================================
> --- uvc_stream.c        (revision 56)
> +++ uvc_stream.c        (working copy)
> @@ -460,8 +460,11 @@
>
>     /* create a child for every client that connects */
>     while ( 1 ) {
> +    struct sockaddr_in saddr;
> +    socklen_t slen = sizeof (saddr);
>       int *pfd = (int *)calloc(1, sizeof(int));
> -    *pfd = accept(sd, 0, 0);
> +    *pfd = accept(sd, (struct sockaddr *)&saddr, &slen);
> +    fprintf (stderr, "accept %s\n", inet_ntoa (saddr.sin_addr));
>       pthread_create(&client, NULL, &client_thread, pfd);
>       pthread_detach(client);
>
>
> If desired I could clean it up a bit (it's only ~100 lines of code),
> and add a grab option to save individual frames.  It uses code from my
> project called megapkg, specifically the megaimage, jpegext2, and ntk
> extensions to Tcl.
>
> By the way, how difficult would it be to add a read() interface to the
> uvc driver?  Is there something that makes that inherently difficult
> that the hardware imposes?

It wouldn't be too difficult. I will try to find some time to implement read() 
support, but my motivation isn't as high as it could be as I think the read() 
interface was a bad idea in the first place.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Feb 25 21:51:37 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 25 Feb 2008 21:51:37 +0100
Subject: [Linux-uvc-devel] Problems to install Logitech QuickCam Pro 5000
In-Reply-To: <E1JTcF9-0005hW-00@relay.mixmail.com>
References: <E1JTcF9-0005hW-00@relay.mixmail.com>
Message-ID: <200802252151.37106.laurent.pinchart@skynet.be>

Hi Javier,

On Monday 25 February 2008, Pedro P wrote:
> Hello,
> My name is Javier and I have a webCam "Logitech QuickCam Pro 5000" and my
> kernel is Linux 2.6.22.17-0.1-bigsmpi686 .
>
> Konsole-> lsusb:
> Bus 002 Device 003: ID 046d:08ce Logitech, Inc.
>
> Also I've instaled driver uvcvideo (for kernel 2.6.22.17_0.1-1.1)
> kmp-debug, kmp-default, kmp-xen, kmp-xenpae
> My webCam not runing.
>
> I'm a new Linux user and I don't perfectly know this  I use software EKIGA
> to trial videoconference.
> Can you help me?

You need to provide more information to get help. What do you do ? What 
happens ? What are the exact error messages you get ?

Check your kernel log for UVC-related message after plugging the webcam and 
post them here.

Best regards,

Laurent Pinchart


From rasasi78 at gmail.com  Mon Feb 25 23:45:08 2008
From: rasasi78 at gmail.com (=?UTF-8?B?UmHDumwgU8OhbmNoZXogU2lsZXM=?=)
Date: Mon, 25 Feb 2008 23:45:08 +0100
Subject: [Linux-uvc-devel] luvcview fails to work.
References: <fpsql9$u4d$1@ger.gmane.org>
	<200802242353.49605.laurent.pinchart@skynet.be>
	<20080224212334.3ea82jvvj5coo04w@webmail.xmission.com>
Message-ID: <fpvgeo$bto$1@ger.gmane.org>

  Hello All:

  Thanks for you kind answers and also for your great efforts on providing
free drivers for our hardware.

George Peter Staplin wrote:

> Quoted Laurent Pinchart <laurent.pinchart at skynet.be>:
> 
>> Hi Ra?l,
>>
>>> luvcview version 0.2.1
>>> Video driver: x11
>>> A window manager is available
>>> video /dev/video0
>>> Unable to set format: 22.
>>>  Init v4L2 failed !! exit fatal
>>>
>>>   What does this message mean? Is there a way I could get a simple
>>> screenshot using the driver. Pointers are appreciated.
>>>
>>>   Only -f yuv worked, but well, what about the others?
>>
>> Your camera supports YUV only, so there is no other format :-)
  What about a more descriptive error message? If you agree I may try to
work into a patch.

> 
> What you may be able to do is use the mjpg-streamer project's
> uvc_stream.  The only problem I've had is writing a suitable program
> to work with its somewhat bizarre MJPEG format.  Mozilla Firefox will
> display the JPEG frames, although with some bugs, so I wrote my own
> viewer.  My viewer supports Linux and Win32.  I just share the viewer
> program with my friends so that they can connect to the MJPEG stream.
> 
> I also have a small patch to uvc_stream that seems to be useful.
> 
> If desired I could clean it up a bit (it's only ~100 lines of code),
> and add a grab option to save individual frames.  It uses code from my
> project called megapkg, specifically the megaimage, jpegext2, and ntk
> extensions to Tcl.
> 
  I think this could be a solution as well, but I may not the be the right
person to look into it. Thanks, by the way.

  Regards,

-- 
     Ra?l S?nchez Siles
----->Proud Debian user<-----
Linux registered user #416098



From pedroabcd at mixmail.com  Tue Feb 26 00:32:38 2008
From: pedroabcd at mixmail.com (Pedro P )
Date: Tue, 26 Feb 2008 00:32:38 +0100
Subject: [Linux-uvc-devel] Problems to install Logitech QuickCam Pro 5000
Message-ID: <E1JTmoK-0008I3-00@relay.mixmail.com>

An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080226/f98c7494/attachment.html>

From kyo.yin at gmail.com  Tue Feb 26 02:52:58 2008
From: kyo.yin at gmail.com (Kyo Yin)
Date: Tue, 26 Feb 2008 09:52:58 +0800
Subject: [Linux-uvc-devel] uvcvideo on omap5912
Message-ID: <783559620802251752v1208699cq42638022dde7b90@mail.gmail.com>

i want to use my Logitech Quickcam Communicate Deluxe(Device id is
046d:0992) on the omap5912(arm).i have use this camera with ubuntu and
uvcvideo on pc successfully. when i insert the camera in omap5912 via usb,
omap5912 support ohci.ohci can find the camera and can not configure it. the
log is:

root at 192.168.167.221:~# ohci ohci: wakeup
usb 1-1: new full speed USB device using ohci and address 2
usb 1-1: SerialNumber: D51070F1
usb 1-1: rejected 1 configuration due to insufficient available bus power
usb 1-1: no configuration chosen from 1 choice

in linux kernel i have select usb support and usb mass storage.

can some body help me?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080226/d960e11b/attachment.html>

From brandon at ifup.org  Tue Feb 26 07:32:03 2008
From: brandon at ifup.org (Brandon Philips)
Date: Mon, 25 Feb 2008 22:32:03 -0800
Subject: [Linux-uvc-devel] Problems to install Logitech QuickCam Pro	5000
In-Reply-To: <E1JTmoK-0008I3-00@relay.mixmail.com>
References: <E1JTmoK-0008I3-00@relay.mixmail.com>
Message-ID: <20080226063203.GB18344@plankton>

On 00:32 Tue 26 Feb 2008, Pedro P  wrote:
> Hi Laurent, Thanks a lot for your mail. I think to use WebCam for
> videoconference and instantmessenger.. When I run "Ekiga" appears this error
> message: His controller of video does not support the format of requested
> video. If you need more information, send me command console. I'm new in Linux.
> I've recopiled this Technical information: javier at linux-losada:~> lsusb Bus 004
> Device 001: ID 0000:0000 Bus 005 Device 001: ID 0000:0000 Bus 003 Device 001:
> ID 0000:0000 Bus 001 Device 001: ID 0000:0000 Bus 002 Device 004: ID 0bda:0111
> Realtek Semiconductor Corp. Bus 002 Device 003: ID 046d:08ce Logitech, Inc. Bus
> 002 Device 002: ID 152e:2507 LG (HLDS) Bus 002 Device 001: ID 0000:0000
> javier at linux-losada:~> lsusb -t /: Bus 05.Port 1: Dev 1, Class=root_hub, Driver
> =uhci_hcd/2p, 12M /: Bus 04.Port 1: Dev 1, Class=root_hub, Driver=uhci_hcd/2p,

As you can see this email came out really garbled.  Could you please try
resending this as plain text.

Cheers,

	Brandon


From brandon at ifup.org  Tue Feb 26 07:29:08 2008
From: brandon at ifup.org (Brandon Philips)
Date: Mon, 25 Feb 2008 22:29:08 -0800
Subject: [Linux-uvc-devel] uvcvideo on omap5912
In-Reply-To: <783559620802251752v1208699cq42638022dde7b90@mail.gmail.com>
References: <783559620802251752v1208699cq42638022dde7b90@mail.gmail.com>
Message-ID: <20080226062908.GA18344@plankton>

On 09:52 Tue 26 Feb 2008, Kyo Yin wrote:
> i want to use my Logitech Quickcam Communicate Deluxe(Device id is
> 046d:0992) on the omap5912(arm).i have use this camera with ubuntu and
> uvcvideo on pc successfully. when i insert the camera in omap5912 via usb,
> omap5912 support ohci.ohci can find the camera and can not configure it. the
> log is:
> 
> root at 192.168.167.221:~# ohci ohci: wakeup
> usb 1-1: new full speed USB device using ohci and address 2
> usb 1-1: SerialNumber: D51070F1
> usb 1-1: rejected 1 configuration due to insufficient available bus power
> usb 1-1: no configuration chosen from 1 choice
> 
> in linux kernel i have select usb support and usb mass storage.
> 
> can some body help me?

Ubuntu ships UVC with the distro so you probably just don't have the
driver installed on your ARM box.  You will need to download, build and
install the UVC driver on this machine:

$ svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk uvc
$ cd uvc/
$ make
$ su
Password: 
# make install

Cheers,

	Brandon


From kyo.yin at gmail.com  Tue Feb 26 15:00:53 2008
From: kyo.yin at gmail.com (Kyo Yin)
Date: Tue, 26 Feb 2008 22:00:53 +0800
Subject: [Linux-uvc-devel] uvcvideo on omap5912
In-Reply-To: <20080226062908.GA18344@plankton>
References: <783559620802251752v1208699cq42638022dde7b90@mail.gmail.com>
	<20080226062908.GA18344@plankton>
Message-ID: <783559620802260600q10818843wb4029ada4502a68@mail.gmail.com>

yes,i have make uvcvideo on omap and modprobe it.but it seems uvcvideo does
not work or maybe the usb core donot work correcttly and uvcvideo had not
been called.

omap do not support ehci,the camera in pc use echi. Does ehci_hcd is
necessary?


2008/2/26, Brandon Philips <brandon at ifup.org>:
>
> On 09:52 Tue 26 Feb 2008, Kyo Yin wrote:
> > i want to use my Logitech Quickcam Communicate Deluxe(Device id is
> > 046d:0992) on the omap5912(arm).i have use this camera with ubuntu and
> > uvcvideo on pc successfully. when i insert the camera in omap5912 via
> usb,
> > omap5912 support ohci.ohci can find the camera and can not configure it.
> the
> > log is:
> >
> > root at 192.168.167.221:~# ohci ohci: wakeup
> > usb 1-1: new full speed USB device using ohci and address 2
> > usb 1-1: SerialNumber: D51070F1
> > usb 1-1: rejected 1 configuration due to insufficient available bus
> power
> > usb 1-1: no configuration chosen from 1 choice
> >
> > in linux kernel i have select usb support and usb mass storage.
> >
> > can some body help me?
>
> Ubuntu ships UVC with the distro so you probably just don't have the
> driver installed on your ARM box.  You will need to download, build and
> install the UVC driver on this machine:
>
> $ svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk uvc
> $ cd uvc/
> $ make
> $ su
> Password:
> # make install
>
> Cheers,
>
>        Brandon
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080226/5f803018/attachment.html>

From simon.morlat at linphone.org  Tue Feb 26 16:05:53 2008
From: simon.morlat at linphone.org (Simon Morlat)
Date: Tue, 26 Feb 2008 16:05:53 +0100
Subject: [Linux-uvc-devel] [Linphone-developers] 064e:a101 Suyin Corp.
	Cam in Acer Notebook - Still no image on Linphone 2.0.1
In-Reply-To: <1201888966.6114.1.camel@larissa>
References: <20070923125827.10910@gmx.net>
	<200710301105.47982.simon.morlat@linphone.org>
	<1201888966.6114.1.camel@larissa>
Message-ID: <200802261605.54164.simon.morlat@linphone.org>

Hi Conrad,

My only hypothesis concerning this problem is that the linux usb stack does 
not like that linphone makes call to it using 2 different threads (through 
the uvc driver). I plan to rework the grabbing component to get only one 
thread talking with the driver.
I experience also very strange problem with that uvc driver with pictures 
being splitted or very unstable and ffmpeg complaning of corrupted mjpeg 
bitstream. I think all this is related to the threading design used in 
linphone.
Concerning windows vista, I know there are several problems but unfortunately 
I could never have a try myself. A friend of mine is going to give me its PC 
with vista installed to get a chance to solve all those problems.

Simon


Le Friday 01 February 2008 19:02:45 Conrad Beckert, vous avez ?crit?:
> Hi Folks,
>
> ... recently I had some time to install Linphone 2.0.1 on my
> abovementioned notebook.
>
> Unfortunately the problem with the camera persists. I got a black screen
> and an error message somewhat different then in earlier tests:
>
> ortp-message-v4l_start: open, fd=15
> ortp-message-v4lv2: V4L2_PIX_FMT_YUYV choosen
> ortp-message-Device is a video4linux V2 one.
> ortp-message-ms_filter_link: MSV4l:0x821aac0,0-->MSPixConv:0x8214d58,0
> ortp-message-ms_filter_link:
> MSPixConv:0x8214d58,0-->MSVideoOut:0x81e4b88,0
> ortp-message-v4l_thread starting
> ortp-message-Using yuv overlay.
> ortp-message-YUV overlay using hardware acceleration.
> ortp-error-VIDIOC_STREAMON failed: Protocol error
> ortp-message-eXosip: Reseting timer to 15s before waking up!
> ortp-message-v4l thread has joined.
> ortp-message-v4l fd 15 closed
> ortp-message-ms_filter_unlink: MSV4l:0x821aac0,0-->MSPixConv:0x8214d58,0
> ortp-message-ms_filter_unlink:
> MSPixConv:0x8214d58,0-->MSVideoOut:0x81e4b88,0
> ortp-message-MSTicker thread exiting
> ortp-message-Release a terminated transaction
> ortp-message-Release a terminated transaction
> ortp-message-free transaction ressource 1 1351328649
> ortp-message-free nict ressource
>
> The camera itself works on Linux. Strangely - Kopete, of which the (not
> so useful) webcam functionality has always been a source of crashes or
> even system freezes - gets be a bright, clear picture. I can even adjust
> brightness, contrast, color etc. there.
>
> What is wrong with Linphone?
>
> I then tried the latest Linphone version on Windows Vista - with the
> same result.
>
> What's wrong?
>
>
> Thank you for help
> Conrad
>
>
>
> _______________________________________________
> Linphone-developers mailing list
> Linphone-developers at nongnu.org
> http://lists.nongnu.org/mailman/listinfo/linphone-developers




From richard at rsk.demon.co.uk  Tue Feb 26 16:33:36 2008
From: richard at rsk.demon.co.uk (Richard Kennedy)
Date: Tue, 26 Feb 2008 15:33:36 +0000
Subject: [Linux-uvc-devel] uvcvideo on omap5912
In-Reply-To: <783559620802251752v1208699cq42638022dde7b90@mail.gmail.com>
References: <783559620802251752v1208699cq42638022dde7b90@mail.gmail.com>
Message-ID: <1204040016.2968.3.camel@castor.localdomain>


On Tue, 2008-02-26 at 09:52 +0800, Kyo Yin wrote:
> i want to use my Logitech Quickcam Communicate Deluxe(Device id is
> 046d:0992) on the omap5912(arm).i have use this camera with ubuntu and
> uvcvideo on pc successfully. when i insert the camera in omap5912 via
> usb, omap5912 support ohci.ohci can find the camera and can not
> configure it. the log is:
>  
> root at 192.168.167.221:~# ohci ohci: wakeup
> usb 1-1: new full speed USB device using ohci and address 2
> usb 1-1: SerialNumber: D51070F1
> usb 1-1: rejected 1 configuration due to insufficient available bus
> power
> usb 1-1: no configuration chosen from 1 choice
>  
> in linux kernel i have select usb support and usb mass storage.
>  
> can some body help me?

Hi,

> usb 1-1: rejected 1 configuration due to insufficient available bus
power

AFAICT -- the usb sub system really means this ^^^^

The hub can't power the camera.

Try plugging it into a powered hub, or maybe just a different one!


HTH
Richard 



From Eugen.Dedu at pu-pm.univ-fcomte.fr  Tue Feb 26 17:54:22 2008
From: Eugen.Dedu at pu-pm.univ-fcomte.fr (Eugen Dedu)
Date: Tue, 26 Feb 2008 17:54:22 +0100
Subject: [Linux-uvc-devel] [SVN] iSight support
In-Reply-To: <200802242157.11533.laurent.pinchart@skynet.be>
References: <47BC4FFD.2040807@vandenberghe.org> <47BE91A3.4050408@derklecks.de>
	<47BED322.6040603@pu-pm.univ-fcomte.fr>
	<200802242157.11533.laurent.pinchart@skynet.be>
Message-ID: <47C4443E.1040900@pu-pm.univ-fcomte.fr>

Laurent Pinchart wrote:
> On Friday 22 February 2008, Eugen Dedu wrote:
>> Felix M?ller wrote:
>>> Hi,
>>>
>>>>>>> What's interesting (for me) is that I have an iSight too (MacBookPro
>>>>>>> mid-2007), but the camera is (05ac:8502).  And it works with uvc,
>>>>>>> while yours not.  And grep 850 ~/linux-uvc prints only *yours*
>>>>>>> (8501):
>>>>>> Could you please post the output of lsusb -d 05ac:8502 -v (using
>>>>>> usbutils 0.72 or newer, go for the latest version if possible) ?
>>>>> This seems to be interesting. I have attached lsusb and dmesg of the
>>>>> device one time with firmware loaded and another with no firmware
>>>>> loaded. Both are attached.
>>>> I'm pretty sure there was a firmware loaded in your iSight when you
>>>> grabbed the kernel log and lsusb output. As a wild guess, did you boot
>>>> MacOS X and reboot into Linux ?
>>> Yes you are correct yesterday I had OS X running and rebooted into Linux.
>> Hi,
>>
>> It's a question I have aways asked myself: I did not installed any
>> firmware (isight-firmware and so on).  But my camera works!
>>
>> I imagine that this is because:
>> - either I installed linux-uvc-source from debian
>> - or, more probable, I used a messenger from OSX, and this has loaded
>> the firmware inside the camera, so it is not necessary anymore to load
>> it from linux <-- this is what you say in the previous message, isn't it?
> 
> The camera has no flash memory to hold the firmware when you power your 
> computer off. If it works when you cold boot your computer into Linux, you 
> probably have the iSight firmware loader installed by Debian.

Hi,

Humm...:

snoopy:~$ dpkg -L linux-uvc-source
/.
/usr
/usr/share
/usr/share/doc
/usr/share/doc/linux-uvc-source
/usr/share/doc/linux-uvc-source/README.Debian
/usr/share/doc/linux-uvc-source/copyright
/usr/share/doc/linux-uvc-source/changelog.Debian.gz
/usr/src
/usr/src/linux-uvc.tar.bz2
snoopy:~$
snoopy:~$ dpkg -s linux-uvc-source
Package: linux-uvc-source
[...]
Depends: debhelper, module-assistant
[...]

Can someone with debian confirm that linux-uvc-source installs the 
iSight firmware??

Cheers,
-- 
Eugen Dedu


From pedroabcd at mixmail.com  Tue Feb 26 18:21:16 2008
From: pedroabcd at mixmail.com (Pedro P )
Date: Tue, 26 Feb 2008 18:21:16 +0100
Subject: [Linux-uvc-devel] Problems to install Logitech QuickCam Pro 5000
Message-ID: <E1JU3UX-0005cS-00@relay.mixmail.com>


Hi Laurent,

Thanks a lot for your mail.
I think to use WebCam for videoconference and instantmessenger..
When I run "Ekiga" appears this error message:
His controller of video does not support the format of requested video.

If you need more information, send me command console. I'm new in Linux.

I've recopiled this Technical information:
javier at linux-losada:~> lsusb
Bus 004 Device 001: ID 0000:0000
Bus 005 Device 001: ID 0000:0000
Bus 003 Device 001: ID 0000:0000
Bus 001 Device 001: ID 0000:0000
Bus 002 Device 004: ID 0bda:0111 Realtek Semiconductor Corp.
Bus 002 Device 003: ID 046d:08ce Logitech, Inc.
Bus 002 Device 002: ID 152e:2507 LG (HLDS)
Bus 002 Device 001: ID 0000:0000


javier at linux-losada:~> lsusb -t
/:  Bus 05.Port 1: Dev 1, Class=root_hub, Driver=uhci_hcd/2p, 12M
/:  Bus 04.Port 1: Dev 1, Class=root_hub, Driver=uhci_hcd/2p, 12M
/:  Bus 03.Port 1: Dev 1, Class=root_hub, Driver=uhci_hcd/2p, 12M
/:  Bus 02.Port 1: Dev 1, Class=root_hub, Driver=ehci_hcd/8p, 480M
    |__ Port 2: Dev 2, If 0, Class=stor., Driver=usb-storage, 480M
    |__ Port 4: Dev 3, If 3, Class=audio, Driver=snd-usb-audio, 480M
    |__ Port 4: Dev 3, If 2, Class=audio, Driver=snd-usb-audio, 480M
    |__ Port 4: Dev 3, If 1, Class='bInterfaceClass 0x0e not yet handled',
Driver=uvcvideo, 480M
    |__ Port 4: Dev 3, If 0, Class='bInterfaceClass 0x0e not yet handled',
Driver=uvcvideo, 480M
    |__ Port 8: Dev 4, If 0, Class=stor., Driver=usb-storage, 480M
/:  Bus 01.Port 1: Dev 1, Class=root_hub, Driver=uhci_hcd/2p, 12M


javier at linux-losada:~> lsusb -V
lsusb (usbutils) 0.72



javier at linux-losada:~> lsusb -v
------------------------------------ONLY Device 003
Bus 002 Device 003: ID 046d:08ce Logitech, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x046d Logitech, Inc.
  idProduct          0x08ce
  bcdDevice            0.05
  iManufacturer           0
  iProduct                0
  iSerial                 2
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1267
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              0
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          133
        dwClockFrequency       48.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x0000000e
          Auto-Exposure Mode
          Auto-Exposure Priority
          Exposure Time (Absolute)
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 2
        bSourceID               1
        wMaxMultiplier      16384
        bControlSize            2
        bmControls     0x0000175b
          Brightness
          Contrast
          Saturation
          Sharpness
          White Balance Temperature
          Backlight Compensation
          Gain
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0
        bmVideoStandards     0x1c
          PAL - 625/50
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                28
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 3
        guidExtensionCode         {82066163-7050-ab49-b8cc-b3855e8d221d}
        bNumControl            22
        bNrPins                 1
        baSourceID( 0)          2
        bControlSize            3
        bmControls( 0)       0xfe
        bmControls( 1)       0xff
        bmControls( 2)       0xdf
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                27
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {82066163-7050-ab49-b8cc-b3855e8d221e}
        bNumControl            10
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            2
        bmControls( 0)       0xff
        bmControls( 1)       0x03
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                27
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                13
        guidExtensionCode         {82066163-7050-ab49-b8cc-b3855e8d221f}
        bNumControl             7
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            2
        bmControls( 0)       0x7f
        bmControls( 1)       0x00
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             5
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               4
        iTerminal               0
      UNRECOGNIZED:  20 41 01 0c 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 50
 13 01 04 03 fe ff 0f 00 00 00 00 00
      UNRECOGNIZED:  20 41 01 08 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 51
 03 01 04 03 19 00 00 00 00 00 01 00
      UNRECOGNIZED:  22 41 01 0a 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 52
 20 01 04 04 ff ff ff ff 00 00 00 00 01 00
      UNRECOGNIZED:  20 41 01 0b 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 55
 01 01 04 03 01 00 00 00 00 00 00 00
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x87  EP 7 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               8
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            16
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        3
        wTotalLength                    33026
        bEndPointAddress                    0
        bmInfo                              5
        bTerminalLink                       2
        bStillCaptureMethod                 1
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    11
        bmaControls( 1)                    11
        bmaControls( 2)                    11
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        bFlags                              1
          Fixed-size samples: Yes
        bDefaultFrameIndex                  3
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1536000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  2027520
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  6144000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  8110080
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 24576000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            31
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        160
        wHeight( 0)                       120
        wWidth( 1)                        176
        wHeight( 1)                       144
        wWidth( 2)                        320
        wHeight( 2)                       240
        wWidth( 3)                        352
        wHeight( 3)                       288
        wWidth( 4)                        640
        wHeight( 4)                       480
        bNumCompressionPatterns             5
        bCompression( 0)                    5
        bCompression( 1)                   10
        bCompression( 2)                   15
        bCompression( 3)                   20
        bCompression( 4)                   25
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        2
        bNumFrameDescriptors                5
        guidFormat                            {59555932-0000-1000-8000-00aa00389
b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  3
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1536000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  2027520
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  6144000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  8110080
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 24576000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666666
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        160
        wHeight( 0)                       120
        wWidth( 1)                        176
        wHeight( 1)                       144
        wWidth( 2)                        320
        wHeight( 2)                       240
        wWidth( 3)                        352
        wHeight( 3)                       288
        wWidth( 4)                        640
        wHeight( 4)                       480
        bNumCompressionPatterns             5
        bCompression( 0)                    5
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x00c0  1x 192 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0280  1x 640 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x03b0  1x 944 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       7
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0a80  2x 640 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       8
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       9
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0be0  2x 992 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting      10
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1380  3x 896 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting      11
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13fc  3x 1020 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       2 Streaming
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           38
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 8
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 5
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x03
          Mute
          Volume
        iFeature                0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0030  1x 48 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
can't get device qualifier: Operation not permitted
can't get debug descriptor: Operation not permitted
cannot read device status, Operation not permitted (1)
----------------------------------------------------------

Best regards,
Javier
---------------------------------------------------------
Ya.com ADSL 24h + Llamadas Nacionales y Locales 24h + Llamadas a M?VILES.
Desde 9,95 ?/mes+IVA. http://acceso.ya.com/ADSLllamadas/3mbvoz/


From laurent.pinchart at skynet.be  Tue Feb 26 23:24:56 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 26 Feb 2008 23:24:56 +0100
Subject: [Linux-uvc-devel] luvcview fails to work.
In-Reply-To: <fpvgeo$bto$1@ger.gmane.org>
References: <fpsql9$u4d$1@ger.gmane.org>
	<20080224212334.3ea82jvvj5coo04w@webmail.xmission.com>
	<fpvgeo$bto$1@ger.gmane.org>
Message-ID: <200802262324.57132.laurent.pinchart@skynet.be>

On Monday 25 February 2008, Ra?l S?nchez Siles wrote:
>   Hello All:
>
>   Thanks for you kind answers and also for your great efforts on providing
> free drivers for our hardware.
>
> George Peter Staplin wrote:
> > Quoted Laurent Pinchart <laurent.pinchart at skynet.be>:
> >> Hi Ra?l,
> >>
> >>> luvcview version 0.2.1
> >>> Video driver: x11
> >>> A window manager is available
> >>> video /dev/video0
> >>> Unable to set format: 22.
> >>>  Init v4L2 failed !! exit fatal
> >>>
> >>>   What does this message mean? Is there a way I could get a simple
> >>> screenshot using the driver. Pointers are appreciated.
> >>>
> >>>   Only -f yuv worked, but well, what about the others?
> >>
> >> Your camera supports YUV only, so there is no other format :-)
>
>   What about a more descriptive error message? If you agree I may try to
> work into a patch.

A better way would be to fall back to YUV if MJPEG is not available. Available 
formats can be enumerated, so this shouldn't be too difficult to implement.

> > What you may be able to do is use the mjpg-streamer project's
> > uvc_stream.  The only problem I've had is writing a suitable program
> > to work with its somewhat bizarre MJPEG format.  Mozilla Firefox will
> > display the JPEG frames, although with some bugs, so I wrote my own
> > viewer.  My viewer supports Linux and Win32.  I just share the viewer
> > program with my friends so that they can connect to the MJPEG stream.
> >
> > I also have a small patch to uvc_stream that seems to be useful.
> >
> > If desired I could clean it up a bit (it's only ~100 lines of code),
> > and add a grab option to save individual frames.  It uses code from my
> > project called megapkg, specifically the megaimage, jpegext2, and ntk
> > extensions to Tcl.
>
>   I think this could be a solution as well, but I may not the be the right
> person to look into it. Thanks, by the way.

Best regards,

Laurent Pinchart


From brandon at ifup.org  Tue Feb 26 17:46:23 2008
From: brandon at ifup.org (Brandon Philips)
Date: Tue, 26 Feb 2008 08:46:23 -0800
Subject: [Linux-uvc-devel] uvcvideo on omap5912
In-Reply-To: <1204040016.2968.3.camel@castor.localdomain>
References: <783559620802251752v1208699cq42638022dde7b90@mail.gmail.com>
	<1204040016.2968.3.camel@castor.localdomain>
Message-ID: <20080226164623.GC18344@plankton>

On 15:33 Tue 26 Feb 2008, Richard Kennedy wrote:
> 
> On Tue, 2008-02-26 at 09:52 +0800, Kyo Yin wrote:
> > i want to use my Logitech Quickcam Communicate Deluxe(Device id is
> > 046d:0992) on the omap5912(arm).i have use this camera with ubuntu and
> > uvcvideo on pc successfully. when i insert the camera in omap5912 via
> > usb, omap5912 support ohci.ohci can find the camera and can not
> > configure it. the log is:
> >  
> > root at 192.168.167.221:~# ohci ohci: wakeup
> > usb 1-1: new full speed USB device using ohci and address 2
> > usb 1-1: SerialNumber: D51070F1
> > usb 1-1: rejected 1 configuration due to insufficient available bus
> > power
> > usb 1-1: no configuration chosen from 1 choice
> >  
> > in linux kernel i have select usb support and usb mass storage.
> >  
> > can some body help me?
> 
> Hi,
> 
> > usb 1-1: rejected 1 configuration due to insufficient available bus
> power
> 
> AFAICT -- the usb sub system really means this ^^^^
> 
> The hub can't power the camera.
> 
> Try plugging it into a powered hub, or maybe just a different one!

Heh, duh.  Fix this up first :D

Cheers,

	Brandon


From demsnawak at gmail.com  Thu Feb 28 12:08:51 2008
From: demsnawak at gmail.com (Dems)
Date: Thu, 28 Feb 2008 12:08:51 +0100
Subject: [Linux-uvc-devel] Xbox live Vision webcam not working with latest
	svn version
Message-ID: <47C69643.7070504@gmail.com>


Hi, I have a Xbox live Vision webcam (045e:0294) device, and i managed 
to get it working with uvcvideo driver but with revision 147 ( svn 
checkout -r 147 svn://svn.berlios.de/linux-uvc/linux-uvc/trunk)
With this older revision my webcam work fine and here is what i can see 
in dmesg :


[590301.554701] Linux video capture interface: v2.00
[590301.558325] uvcvideo: Found UVC 1.00 device Video Camera            
(045e:0294)
[590301.565932] usbcore: registered new interface driver uvcvideo
[590301.565936] USB Video Class driver (v0.1.0)
[590362.019163] uvcvideo: Failed to query (129) UVC control 1 (unit 0) : 
-32 (exp. 26).
[590438.635275] uvcvideo: Failed to query (1) UVC control 1 (unit 0) : 
-32 (exp. 26).
[590461.272334] uvcvideo: Failed to query (1) UVC control 1 (unit 0) : 
-110 (exp. 26).
[590474.309501] uvcvideo: Failed to query (1) UVC control 1 (unit 0) : 
-110 (exp. 26).
[590553.455579] uvcvideo: Failed to query (1) UVC control 1 (unit 0) : 
-110 (exp. 26).
[590656.259387] uvcvideo: Failed to query (1) UVC control 1 (unit 0) : 
-110 (exp. 26).



But when I get latest svn version, recompile install the driver and load 
the module my webcam does not work anymore. There is still /dev/video0 
created but it deos not work and here is what i can see in dmesg :

[591039.607261] Linux video capture interface: v2.00
[591039.611234] uvcvideo: Found UVC 1.00 device Video Camera            
(045e:0294)
[591039.699539] usbcore: registered new interface driver uvcvideo
[591039.699545] USB Video Class driver (v0.1.0)
[591051.421402] uvcvideo: Failed to query (131) UVC control 7 (unit 2) : 
-32 (exp. 2).
[591051.422758] uvcvideo: Failed to query (135) UVC control 2 (unit 2) : 
-32 (exp. 2).


I use Ubuntu 7.10 with kernel 2.6.22-14-generic.



From pedroabcd at mixmail.com  Thu Feb 28 22:49:14 2008
From: pedroabcd at mixmail.com (Pedro P )
Date: Thu, 28 Feb 2008 22:49:14 +0100
Subject: [Linux-uvc-devel] Problems to install Logitech QuickCam Pro 5000
Message-ID: <E1JUqct-00040E-00@relay.mixmail.com>


Hi,

Please, Can you help me with the problem to install drivers of webcam 
Logitech QuickCam Pro 5000

I think to use WebCam for videoconference and instantmessenger..
When I run "Ekiga" appears this error message:
Your controller of video does not support the format of requested video.

If you need more information, send me command console. I'm new in Linux.

I've recopiled this Technical information:
javier at linux-losada:~> lsusb
Bus 004 Device 001: ID 0000:0000
Bus 005 Device 001: ID 0000:0000
Bus 003 Device 001: ID 0000:0000
Bus 001 Device 001: ID 0000:0000
Bus 002 Device 004: ID 0bda:0111 Realtek Semiconductor Corp.
Bus 002 Device 003: ID 046d:08ce Logitech, Inc.
Bus 002 Device 002: ID 152e:2507 LG (HLDS)
Bus 002 Device 001: ID 0000:0000


javier at linux-losada:~> lsusb -t
/: Bus 05.Port 1: Dev 1, Class=root_hub, Driver=uhci_hcd/2p, 12M
/: Bus 04.Port 1: Dev 1, Class=root_hub, Driver=uhci_hcd/2p, 12M
/: Bus 03.Port 1: Dev 1, Class=root_hub, Driver=uhci_hcd/2p, 12M
/: Bus 02.Port 1: Dev 1, Class=root_hub, Driver=ehci_hcd/8p, 480M
|__ Port 2: Dev 2, If 0, Class=stor., Driver=usb-storage, 480M
|__ Port 4: Dev 3, If 3, Class=audio, Driver=snd-usb-audio, 480M
|__ Port 4: Dev 3, If 2, Class=audio, Driver=snd-usb-audio, 480M
|__ Port 4: Dev 3, If 1, Class='bInterfaceClass 0x0e not yet handled',
Driver=uvcvideo, 480M
|__ Port 4: Dev 3, If 0, Class='bInterfaceClass 0x0e not yet handled',
Driver=uvcvideo, 480M
|__ Port 8: Dev 4, If 0, Class=stor., Driver=usb-storage, 480M
/: Bus 01.Port 1: Dev 1, Class=root_hub, Driver=uhci_hcd/2p, 12M


javier at linux-losada:~> lsusb -V
lsusb (usbutils) 0.72



javier at linux-losada:~> lsusb -v
------------------------------------ONLY Device 003
Bus 002 Device 003: ID 046d:08ce Logitech, Inc.
Device Descriptor:
bLength 18
bDescriptorType 1
bcdUSB 2.00
bDeviceClass 239 Miscellaneous Device
bDeviceSubClass 2 Common Class
bDeviceProtocol 1 Interface Association
bMaxPacketSize0 64
idVendor 0x046d Logitech, Inc.
idProduct 0x08ce
bcdDevice 0.05
iManufacturer 0
iProduct 0
iSerial 2
bNumConfigurations 1
Configuration Descriptor:
bLength 9
bDescriptorType 2
wTotalLength 1267
bNumInterfaces 4
bConfigurationValue 1
iConfiguration 0
bmAttributes 0x80
(Bus Powered)
MaxPower 500mA
Interface Association:
bLength 8
bDescriptorType 11
bFirstInterface 0
bInterfaceCount 2
bFunctionClass 14 Video
bFunctionSubClass 3 Video Interface Collection
bFunctionProtocol 0
iFunction 0
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 0
bAlternateSetting 0
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 1 Video Control
bInterfaceProtocol 0
iInterface 0
VideoControl Interface Descriptor:
bLength 13
bDescriptorType 36
bDescriptorSubtype 1 (HEADER)
bcdUVC 1.00
wTotalLength 133
dwClockFrequency 48.000000MHz
bInCollection 1
baInterfaceNr( 0) 1
VideoControl Interface Descriptor:
bLength 18
bDescriptorType 36
bDescriptorSubtype 2 (INPUT_TERMINAL)
bTerminalID 1
wTerminalType 0x0201 Camera Sensor
bAssocTerminal 0
iTerminal 0
wObjectiveFocalLengthMin 0
wObjectiveFocalLengthMax 0
wOcularFocalLength 0
bControlSize 3
bmControls 0x0000000e
Auto-Exposure Mode
Auto-Exposure Priority
Exposure Time (Absolute)
VideoControl Interface Descriptor:
bLength 11
bDescriptorType 36
bDescriptorSubtype 5 (PROCESSING_UNIT)
Warning: Descriptor too short
bUnitID 2
bSourceID 1
wMaxMultiplier 16384
bControlSize 2
bmControls 0x0000175b
Brightness
Contrast
Saturation
Sharpness
White Balance Temperature
Backlight Compensation
Gain
Power Line Frequency
White Balance Temperature, Auto
iProcessing 0
bmVideoStandards 0x1c
PAL - 625/50
SECAM - 625/50
NTSC - 625/50
VideoControl Interface Descriptor:
bLength 28
bDescriptorType 36
bDescriptorSubtype 6 (EXTENSION_UNIT)
bUnitID 3
guidExtensionCode {82066163-7050-ab49-b8cc-b3855e8d221d}
bNumControl 22
bNrPins 1
baSourceID( 0) 2
bControlSize 3
bmControls( 0) 0xfe
bmControls( 1) 0xff
bmControls( 2) 0xdf
iExtension 0
VideoControl Interface Descriptor:
bLength 27
bDescriptorType 36
bDescriptorSubtype 6 (EXTENSION_UNIT)
bUnitID 4
guidExtensionCode {82066163-7050-ab49-b8cc-b3855e8d221e}
bNumControl 10
bNrPins 1
baSourceID( 0) 3
bControlSize 2
bmControls( 0) 0xff
bmControls( 1) 0x03
iExtension 0
VideoControl Interface Descriptor:
bLength 27
bDescriptorType 36
bDescriptorSubtype 6 (EXTENSION_UNIT)
bUnitID 13
guidExtensionCode {82066163-7050-ab49-b8cc-b3855e8d221f}
bNumControl 7
bNrPins 1
baSourceID( 0) 3
bControlSize 2
bmControls( 0) 0x7f
bmControls( 1) 0x00
iExtension 0
VideoControl Interface Descriptor:
bLength 9
bDescriptorType 36
bDescriptorSubtype 3 (OUTPUT_TERMINAL)
bTerminalID 5
wTerminalType 0x0101 USB Streaming
bAssocTerminal 0
bSourceID 4
iTerminal 0
UNRECOGNIZED: 20 41 01 0c 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 
50
13 01 04 03 fe ff 0f 00 00 00 00 00
UNRECOGNIZED: 20 41 01 08 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 
51
03 01 04 03 19 00 00 00 00 00 01 00
UNRECOGNIZED: 22 41 01 0a 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 
52
20 01 04 04 ff ff ff ff 00 00 00 00 01 00
UNRECOGNIZED: 20 41 01 0b 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 
55
01 01 04 03 01 00 00 00 00 00 00 00
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x87 EP 7 IN
bmAttributes 3
Transfer Type Interrupt
Synch Type None
Usage Type Data
wMaxPacketSize 0x0010 1x 16 bytes
bInterval 8
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 0
bNumEndpoints 0
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
VideoStreaming Interface Descriptor:
bLength 16
bDescriptorType 36
bDescriptorSubtype 1 (INPUT_HEADER)
bNumFormarts 3
wTotalLength 33026
bEndPointAddress 0
bmInfo 5
bTerminalLink 2
bStillCaptureMethod 1
bTriggerSupport 0
bTriggerUsage 1
bControlSize 1
bmaControls( 0) 11
bmaControls( 1) 11
bmaControls( 2) 11
VideoStreaming Interface Descriptor:
bLength 11
bDescriptorType 36
bDescriptorSubtype 6 (FORMAT_MJPEG)
bFormatIndex 1
bNumFrameDescriptors 5
bFlags 1
Fixed-size samples: Yes
bDefaultFrameIndex 3
bAspectRatioX 0
bAspectRatioY 0
bmInterlaceFlags 0x00
Interlaced stream or variable: No
Fields per frame: 1 fields
Field 1 first: No
Field pattern: Field 1 only
bCopyProtect 0
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 7 (FRAME_MJPEG)
bFrameIndex 1
bmCapabilities 0x00
Still image unsupported
wWidth 160
wHeight 120
dwMinBitRate 1536000
dwMaxBitRate 9216000
dwMaxVideoFrameBufferSize 38400
dwDefaultFrameInterval 333333
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 7 (FRAME_MJPEG)
bFrameIndex 2
bmCapabilities 0x00
Still image unsupported
wWidth 176
wHeight 144
dwMinBitRate 2027520
dwMaxBitRate 12165120
dwMaxVideoFrameBufferSize 50688
dwDefaultFrameInterval 333333
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 7 (FRAME_MJPEG)
bFrameIndex 3
bmCapabilities 0x00
Still image unsupported
wWidth 320
wHeight 240
dwMinBitRate 6144000
dwMaxBitRate 36864000
dwMaxVideoFrameBufferSize 153600
dwDefaultFrameInterval 666666
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 7 (FRAME_MJPEG)
bFrameIndex 4
bmCapabilities 0x00
Still image unsupported
wWidth 352
wHeight 288
dwMinBitRate 8110080
dwMaxBitRate 48660480
dwMaxVideoFrameBufferSize 202752
dwDefaultFrameInterval 666666
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 7 (FRAME_MJPEG)
bFrameIndex 5
bmCapabilities 0x00
Still image unsupported
wWidth 640
wHeight 480
dwMinBitRate 24576000
dwMaxBitRate 147456000
dwMaxVideoFrameBufferSize 614400
dwDefaultFrameInterval 666666
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 31
bDescriptorType 36
bDescriptorSubtype 3 (STILL_IMAGE_FRAME)
bEndpointAddress 0
bNumImageSizePatterns 5
wWidth( 0) 160
wHeight( 0) 120
wWidth( 1) 176
wHeight( 1) 144
wWidth( 2) 320
wHeight( 2) 240
wWidth( 3) 352
wHeight( 3) 288
wWidth( 4) 640
wHeight( 4) 480
bNumCompressionPatterns 5
bCompression( 0) 5
bCompression( 1) 10
bCompression( 2) 15
bCompression( 3) 20
bCompression( 4) 25
VideoStreaming Interface Descriptor:
bLength 6
bDescriptorType 36
bDescriptorSubtype 13 (COLORFORMAT)
bColorPrimaries 1 (BT.709,sRGB)
bTransferCharacteristics 1 (BT.709)
bMatrixCoefficients 4 (SMPTE 170M (BT.601))
VideoStreaming Interface Descriptor:
bLength 27
bDescriptorType 36
bDescriptorSubtype 4 (FORMAT_UNCOMPRESSED)
bFormatIndex 2
bNumFrameDescriptors 5
guidFormat {59555932-0000-1000-8000-00aa00389
b71}
bBitsPerPixel 16
bDefaultFrameIndex 3
bAspectRatioX 0
bAspectRatioY 0
bmInterlaceFlags 0x00
Interlaced stream or variable: No
Fields per frame: 1 fields
Field 1 first: No
Field pattern: Field 1 only
bCopyProtect 0
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 1
bmCapabilities 0x00
Still image unsupported
wWidth 160
wHeight 120
dwMinBitRate 1536000
dwMaxBitRate 9216000
dwMaxVideoFrameBufferSize 38400
dwDefaultFrameInterval 333333
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 2
bmCapabilities 0x00
Still image unsupported
wWidth 176
wHeight 144
dwMinBitRate 2027520
dwMaxBitRate 12165120
dwMaxVideoFrameBufferSize 50688
dwDefaultFrameInterval 333333
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 3
bmCapabilities 0x00
Still image unsupported
wWidth 320
wHeight 240
dwMinBitRate 6144000
dwMaxBitRate 36864000
dwMaxVideoFrameBufferSize 153600
dwDefaultFrameInterval 666666
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 4
bmCapabilities 0x00
Still image unsupported
wWidth 352
wHeight 288
dwMinBitRate 8110080
dwMaxBitRate 48660480
dwMaxVideoFrameBufferSize 202752
dwDefaultFrameInterval 666666
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 5
bmCapabilities 0x00
Still image unsupported
wWidth 640
wHeight 480
dwMinBitRate 24576000
dwMaxBitRate 147456000
dwMaxVideoFrameBufferSize 614400
dwDefaultFrameInterval 666666
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 400000
dwFrameInterval( 2) 500000
dwFrameInterval( 3) 666666
dwFrameInterval( 4) 1000000
dwFrameInterval( 5) 2000000
VideoStreaming Interface Descriptor:
bLength 27
bDescriptorType 36
bDescriptorSubtype 3 (STILL_IMAGE_FRAME)
bEndpointAddress 0
bNumImageSizePatterns 5
wWidth( 0) 160
wHeight( 0) 120
wWidth( 1) 176
wHeight( 1) 144
wWidth( 2) 320
wHeight( 2) 240
wWidth( 3) 352
wHeight( 3) 288
wWidth( 4) 640
wHeight( 4) 480
bNumCompressionPatterns 5
bCompression( 0) 5
VideoStreaming Interface Descriptor:
bLength 6
bDescriptorType 36
bDescriptorSubtype 13 (COLORFORMAT)
bColorPrimaries 1 (BT.709,sRGB)
bTransferCharacteristics 1 (BT.709)
bMatrixCoefficients 4 (SMPTE 170M (BT.601))
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 1
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x00c0 1x 192 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 2
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0180 1x 384 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 3
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0200 1x 512 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 4
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0280 1x 640 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 5
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0320 1x 800 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 6
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x03b0 1x 944 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 7
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0a80 2x 640 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 8
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0b20 2x 800 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 9
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0be0 2x 992 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 10
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x1380 3x 896 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 11
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x13fc 3x 1020 bytes
bInterval 1
Interface Association:
bLength 8
bDescriptorType 11
bFirstInterface 2
bInterfaceCount 2
bFunctionClass 1 Audio
bFunctionSubClass 2 Streaming
bFunctionProtocol 0
iFunction 0
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 2
bAlternateSetting 0
bNumEndpoints 0
bInterfaceClass 1 Audio
bInterfaceSubClass 1 Control Device
bInterfaceProtocol 0
iInterface 0
AudioControl Interface Descriptor:
bLength 9
bDescriptorType 36
bDescriptorSubtype 1 (HEADER)
bcdADC 1.00
wTotalLength 38
bInCollection 1
baInterfaceNr( 0) 3
AudioControl Interface Descriptor:
bLength 12
bDescriptorType 36
bDescriptorSubtype 2 (INPUT_TERMINAL)
bTerminalID 1
wTerminalType 0x0201 Microphone
bAssocTerminal 0
bNrChannels 1
wChannelConfig 0x0000
iChannelNames 0
iTerminal 0
AudioControl Interface Descriptor:
bLength 9
bDescriptorType 36
bDescriptorSubtype 3 (OUTPUT_TERMINAL)
bTerminalID 3
wTerminalType 0x0101 USB Streaming
bAssocTerminal 0
bSourceID 5
iTerminal 0
AudioControl Interface Descriptor:
bLength 8
bDescriptorType 36
bDescriptorSubtype 6 (FEATURE_UNIT)
bUnitID 5
bSourceID 1
bControlSize 1
bmaControls( 0) 0x03
Mute
Volume
iFeature 0
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 3
bAlternateSetting 0
bNumEndpoints 0
bInterfaceClass 1 Audio
bInterfaceSubClass 2 Streaming
bInterfaceProtocol 0
iInterface 0
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 3
bAlternateSetting 1
bNumEndpoints 1
bInterfaceClass 1 Audio
bInterfaceSubClass 2 Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 9
bDescriptorType 5
bEndpointAddress 0x86 EP 6 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0000 1x 0 bytes
bInterval 4
bRefresh 0
bSynchAddress 0
AudioControl Endpoint Descriptor:
bLength 7
bDescriptorType 37
bDescriptorSubtype 1 (EP_GENERAL)
bmAttributes 0x01
Sampling Frequency
bLockDelayUnits 0 Undefined
wLockDelay 0 Undefined
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 3
bAlternateSetting 2
bNumEndpoints 1
bInterfaceClass 1 Audio
bInterfaceSubClass 2 Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 9
bDescriptorType 5
bEndpointAddress 0x86 EP 6 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0000 1x 0 bytes
bInterval 4
bRefresh 0
bSynchAddress 0
AudioControl Endpoint Descriptor:
bLength 7
bDescriptorType 37
bDescriptorSubtype 1 (EP_GENERAL)
bmAttributes 0x01
Sampling Frequency
bLockDelayUnits 0 Undefined
wLockDelay 0 Undefined
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 3
bAlternateSetting 3
bNumEndpoints 1
bInterfaceClass 1 Audio
bInterfaceSubClass 2 Streaming
bInterfaceProtocol 0
iInterface 0
AudioStreaming Interface Descriptor:
bLength 7
bDescriptorType 36
bDescriptorSubtype 1 (AS_GENERAL)
bTerminalLink 3
bDelay 1 frames
wFormatTag 1 PCM
AudioStreaming Interface Descriptor:
bLength 11
bDescriptorType 36
bDescriptorSubtype 2 (FORMAT_TYPE)
bFormatType 1 (FORMAT_TYPE_I)
bNrChannels 1
bSubframeSize 2
bBitResolution 16
bSamFreqType 1 Discrete
tSamFreq[ 0] 16000
Endpoint Descriptor:
bLength 9
bDescriptorType 5
bEndpointAddress 0x86 EP 6 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0030 1x 48 bytes
bInterval 4
bRefresh 0
bSynchAddress 0
AudioControl Endpoint Descriptor:
bLength 7
bDescriptorType 37
bDescriptorSubtype 1 (EP_GENERAL)
bmAttributes 0x01
Sampling Frequency
bLockDelayUnits 0 Undefined
wLockDelay 0 Undefined
can't get device qualifier: Operation not permitted
can't get debug descriptor: Operation not permitted
cannot read device status, Operation not permitted (1)
----------------------------------------------------------

Best regards,
Javier

---------------------------------------------------------
Ya.com ADSL 24h + Llamadas Nacionales y Locales 24h + Llamadas a M?VILES.
Desde 9,95 ?/mes+IVA. http://acceso.ya.com/ADSLllamadas/3mbvoz/


From georgeps at xmission.com  Fri Feb 29 00:20:33 2008
From: georgeps at xmission.com (George Peter Staplin)
Date: Thu, 28 Feb 2008 16:20:33 -0700
Subject: [Linux-uvc-devel] A uvc_stream-compatible viewer
Message-ID: <20080228162033.7s00vipoyss4g00o@webmail.xmission.com>

Hi,

I have written some software that may be of interest to some of you.   
If you have wanted to grab JPEG frames from a UVC compatible device,  
or just allow people to watch your webcam over the net.

uvc_stream is a program that is part of the mjpg-streamer project.

I did a checkout of the latest from the mjpg-streamer svn and found  
that it sort of works with Mozilla Firefox, but not quite well enough  
(friends had to keep clicking refresh).

So, faced with the problem of having a good viewer for my friends, I  
wrote a program to share with my friends that use Linux or Windows XP  
(it should also work with NT4).

The binaries are here:
http://www.xmission.com/~georgeps/implementation/software/megapkg/ntk_mjpeg_viewer_linux.bin.bz2

http://www.xmission.com/~georgeps/implementation/software/megapkg/ntk_mjpeg_viewer_win.exe

$ md5sum ntk_mjpeg_viewer_*
453d4c0b546bdcf74cc3ec5ff66ddff6  ntk_mjpeg_viewer_linux.bin.bz2
059858f4c37e98de63d0dd8239d90726  ntk_mjpeg_viewer_win.exe

The sources are here:
http://code.google.com/p/megapkg/source/browse/trunk/ntk_mjpeg_viewer.vfs/main.tcl

The C code extensions are in the trunk too (under csrc).  If you need  
help building it, first consult the README for megapkg.  I made the  
executables (Starpacks) using something called tclkit and sdx.kit. For  
more information: http://www.equi4.com/tclkit/index.html

Usage is quite simple.  After starting the program, enter a uvc_stream  
server host or IP address, and a port number.  Click connect and it  
should work :-)

Please let me know if there are any problems.

Have fun!

George
-- 
http://www.xmission.com/~georgeps/  http://whim.linuxsys.net
http://code.google.com/p/megapkg/   http://code.google.com/p/opennexx/



From lizhenqing.fudan at gmail.com  Fri Feb 29 09:41:17 2008
From: lizhenqing.fudan at gmail.com (LI Zhenqing)
Date: Fri, 29 Feb 2008 03:41:17 -0500
Subject: [Linux-uvc-devel] Microsoft VX-3000 WebCam
Message-ID: <96315b0a0802290041j1aab9a5cx74abfef5b889079@mail.gmail.com>

Guys:

I compiled the SVN branch of UVC, I got kernel message to my Webcam like
this:

[  101.212000] usb 1-2: new full speed USB device using uhci_hcd and address
2
[  101.428000] usb 1-2: configuration #1 chosen from 1 choice
[  101.900000] usbcore: registered new interface driver snd-usb-audio
[  101.920000] Linux video capture interface: v2.00
[  102.012000] sn9c102: V4L2 driver for SN9C1xx PC Camera Controllers v1:
1.44
[  102.012000] usb 1-2: SN9C105 PC Camera Controller detected (vid:pid
0x045E:0x00F5)
[  102.116000] usb 1-2: No supported image sensor detected for this bridge
[  102.116000] usbcore: registered new interface driver sn9c102

My system is Ubuntu 7.10 with 2.6.22 kernel.

After these messages, I didn't see /dev/video0 appear. And Camoramo told me
that it can't find /dev/video0 either. And I also did lsmod:

...
> videodev               29312  1 sn9c102
> v4l1_compat            15364  1 videodev
> v4l2_common            18432  2 sn9c102,videodev
> snd_usb_audio          81024  0
> snd_usb_lib            17920  1 snd_usb_audio
> snd_hwdep              10244  1 snd_usb_audio
> ...
>

It seems something happened (driver loaded), but /dev/video0 is missing thus
no further test could be made.

Hope someone could fix it soon!

Best wishes,
Zhenqing

-- 
Zhenqing Li
Materials Science & Engineering (Emphasis on Polymer)
161 Sirrine Hall, Clemson University
Clemson, SC, 29634, U.S.A
Tel: (864)656-0888
E-mail: zhenqil at clemson.edu

ALL WE SEE IS ILLUSION.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080229/35910387/attachment.html>

From Serge.A.S at tochka.ru  Fri Feb 29 09:57:11 2008
From: Serge.A.S at tochka.ru (Serge A. Suchkov)
Date: Fri, 29 Feb 2008 11:57:11 +0300
Subject: [Linux-uvc-devel] Microsoft VX-3000 WebCam
In-Reply-To: <96315b0a0802290041j1aab9a5cx74abfef5b889079@mail.gmail.com>
References: <96315b0a0802290041j1aab9a5cx74abfef5b889079@mail.gmail.com>
Message-ID: <200802291157.11217.Serge.A.S@tochka.ru>


1) Microsoft VX3000 is NOT UVC webcam
2)This webcam support gspca driver 
http://mxhaard.free.fr/download.html
3) For properly work with gspca 
driver, you need blacklisted sn9c102 module
> Guys:
>
> I compiled the SVN branch of UVC, I got kernel message to my Webcam like
> this:
>
> [  101.212000] usb 1-2: new full speed USB device using uhci_hcd and
> address 2
> [  101.428000] usb 1-2: configuration #1 chosen from 1 choice
> [  101.900000] usbcore: registered new interface driver snd-usb-audio
> [  101.920000] Linux video capture interface: v2.00
> [  102.012000] sn9c102: V4L2 driver for SN9C1xx PC Camera Controllers v1:
> 1.44
> [  102.012000] usb 1-2: SN9C105 PC Camera Controller detected (vid:pid
> 0x045E:0x00F5)
> [  102.116000] usb 1-2: No supported image sensor detected for this bridge
> [  102.116000] usbcore: registered new interface driver sn9c102
>
> My system is Ubuntu 7.10 with 2.6.22 kernel.
>
> After these messages, I didn't see /dev/video0 appear. And Camoramo told me
> that it can't find /dev/video0 either. And I also did lsmod:
>
> ...
>
> > videodev               29312  1 sn9c102
> > v4l1_compat            15364  1 videodev
> > v4l2_common            18432  2 sn9c102,videodev
> > snd_usb_audio          81024  0
> > snd_usb_lib            17920  1 snd_usb_audio
> > snd_hwdep              10244  1 snd_usb_audio
> > ...
>
> It seems something happened (driver loaded), but /dev/video0 is missing
> thus no further test could be made.
>
> Hope someone could fix it soon!
>
> Best wishes,
> Zhenqing



-- 
Regards,
Serge A. Suchkov
--
I don't know anything about music.  In my line you don't have to.
		-- Elvis Presley


