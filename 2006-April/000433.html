<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] [ANNOUNCE] fswebcam-20060415
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-April/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20%5BANNOUNCE%5D%20fswebcam-20060415&In-Reply-To=%3CPine.LNX.4.58.0604151302520.5506%40localhost.bourget.cc%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000432.html">
   <LINK REL="Next"  HREF="000434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] [ANNOUNCE] fswebcam-20060415</H1>
    <B>Alexandre Bourget</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20%5BANNOUNCE%5D%20fswebcam-20060415&In-Reply-To=%3CPine.LNX.4.58.0604151302520.5506%40localhost.bourget.cc%3E"
       TITLE="[Linux-uvc-devel] [ANNOUNCE] fswebcam-20060415">wackysalut at bourget.cc
       </A><BR>
    <I>Sat Apr 15 19:03:43 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000432.html">[Linux-uvc-devel] [ANNOUNCE] fswebcam-20060415
</A></li>
        <LI>Next message: <A HREF="000434.html">[Linux-uvc-devel] [ANNOUNCE] fswebcam-20060415
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#433">[ date ]</a>
              <a href="thread.html#433">[ thread ]</a>
              <a href="subject.html#433">[ subject ]</a>
              <a href="author.html#433">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I've tried fswebcam with my Logitech Quickcam Fusion with the
following results:

First, the palette option 'MJPEG' doesn't exist in the list when I try
it: (it's only in the help, however the camera supports it)

[<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">wacky at theGrinch</A> Desktop]$ fswebcam -v -r 320x240 -d V4L2:/dev/video0 --palette MJPG --frames 25 ahuh.yuv
Unrecognised palette format &quot;MJPG&quot;. Supported formats:
PNG
JPEG
RGB32
RGB24
YUYV
UYVY
YUV420P
BAYER
RGB565
RGB555
GREY
[<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">wacky at theGrinch</A> Desktop]$ fswebcam -v -r 320x240 -d V4L2:/dev/video0 --palette MJPEG --frames 25 ahuh.yuv
Unrecognised palette format &quot;MJPEG&quot;. Supported formats:
[snip]


[<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">wacky at theGrinch</A> Desktop]$ fswebcam -v -r 320x240 -d V4L2:/dev/video0 --palette YUYV --frames 25 ahuh.yuv
--- Opening V4L2:/dev/video0...
&gt;&gt;&gt;<i> Using 'v4l2' source module.
</I>/dev/video0 opened.
src_v4l2_get_capability,76: /dev/video0 information:
src_v4l2_get_capability,77: cap.driver: &quot;uvcvideo&quot;
src_v4l2_get_capability,78: cap.card: &quot;&quot;
src_v4l2_get_capability,79: cap.bus_info: &quot;0000:00:1d.7&quot;
src_v4l2_get_capability,80: cap.capabilities=0x04000001
src_v4l2_get_capability,81: - VIDEO_CAPTURE
src_v4l2_get_capability,92: - STREAMING
No input was specified, using the first.
src_v4l2_set_input,168: /dev/video0: Input 0 information:
src_v4l2_set_input,169: name = &quot;Camera&quot;
src_v4l2_set_input,170: type = 00000002
src_v4l2_set_input,172: - CAMERA
src_v4l2_set_input,173: audioset = 00000000
src_v4l2_set_input,174: tuner = 00000000
src_v4l2_set_input,175: status = 00000000
src_v4l2_set_pix_format,525: Device offers the following V4L2 pixel formats:
src_v4l2_set_pix_format,537: 0: MJPG (MJPEG)
src_v4l2_set_pix_format,537: 1: YUYV (Uncompressed)
Using palette YUYV
Adjusting resolution from 320x240 to 1024x576.
src_v4l2_set_mmap,643: mmap information:
src_v4l2_set_mmap,644: frames=4
src_v4l2_set_mmap,689: 0 length=1179648
src_v4l2_set_mmap,689: 1 length=1179648
src_v4l2_set_mmap,689: 2 length=1179648
src_v4l2_set_mmap,689: 3 length=1179648
--- Capturing 25 frames...
VIDIOC_DQBUF: Input/output error
No frames captured.



With the --read option:
--- Opening V4L2:/dev/video0...
&gt;&gt;&gt;<i> Using 'v4l2' source module.
</I>/dev/video0 opened.
src_v4l2_get_capability,76: /dev/video0 information:
src_v4l2_get_capability,77: cap.driver: &quot;uvcvideo&quot;
src_v4l2_get_capability,78: cap.card: &quot;&quot;
src_v4l2_get_capability,79: cap.bus_info: &quot;0000:00:1d.7&quot;
src_v4l2_get_capability,80: cap.capabilities=0x04000001
src_v4l2_get_capability,81: - VIDEO_CAPTURE
src_v4l2_get_capability,92: - STREAMING
No input was specified, using the first.
src_v4l2_set_input,168: /dev/video0: Input 0 information:
src_v4l2_set_input,169: name = &quot;Camera&quot;
src_v4l2_set_input,170: type = 00000002
src_v4l2_set_input,172: - CAMERA
src_v4l2_set_input,173: audioset = 00000000
src_v4l2_set_input,174: tuner = 00000000
src_v4l2_set_input,175: status = 00000000
src_v4l2_set_pix_format,525: Device offers the following V4L2 pixel formats:
src_v4l2_set_pix_format,537: 0: MJPG (MJPEG)
src_v4l2_set_pix_format,537: 1: YUYV (Uncompressed)
Using palette YUYV
Adjusting resolution from 320x240 to 1024x576.
--- Capturing 25 frames...
Unable to read a frame.
read: No such device
No frames captured.





This tiny patch shows the switch of resolution, just to make sure:
=== src_v4l2.c
==================================================================
--- src_v4l2.c  (/fswebcam/fswebcam-2006-04-14) (revision 3)
+++ src_v4l2.c  (/fswebcam/trunk)       (revision 3)
@@ -583,10 +583,10 @@
                        if(s-&gt;fmt.fmt.pix.width != src-&gt;width ||
                           s-&gt;fmt.fmt.pix.height != src-&gt;height)
                        {
+                               MSG(&quot;Adjusting resolution from %ix%i to %ix%i.&quot;,
+                                   src-&gt;width, src-&gt;height, s-&gt;fmt.fmt.pix.width, s-&gt;fmt.fmt.pix.height);
                                src-&gt;width = s-&gt;fmt.fmt.pix.width;
                                src-&gt;height = s-&gt;fmt.fmt.pix.height;
-                               MSG(&quot;Adjusting resolution to %ix%i.&quot;,
-                                   src-&gt;width, src-&gt;height);
                         }

                        if(ioctl(s-&gt;fd, VIDIOC_S_FMT, &amp;s-&gt;fmt) == -1)


I know the resolution thing might be in the UVC driver, because
everything is not done yet, but with other programs (read uvccapture),
it can set it to 640x480 or 320x240 and capture frames.

Oh well.. that's it. I tried tweaking with the src_palette to add
'MJPEG' somewhere, but I couldn't :) Anyway it can't read from the
device so in a mode or another, I don't think I'd be able to grab
frames.

I need something to read a video from the webcam, could this app help
me ?  I'm willing to give access to my Linux box for the developer to
work out a solution for these little quickcams that look so promising
:<i>)  FireStorm, mail me if you want to do so.
</I>

thanks a whole lot for the hope you give :)

Alexandre Bourget
wacky - at - bourget - dot - cc









On Sat, 15 Apr 2006, Philip Heron wrote:
&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i>  The latest version of fswebcam is finally out. It's a fairly major
</I>&gt;<i> re-write of the previous version, with proper V4L2 support so it should
</I>&gt;<i> work nicely with linux-uvc. If your interested then point your browsers
</I>&gt;<i> this way: <A HREF="http://www.firestorm.cx/fswebcam/">http://www.firestorm.cx/fswebcam/</A>
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> -Phil &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">phil at firestorm.cx</A>&gt;
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Linux-uvc-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="http://lists.berlios.de/mailman/listinfo/linux-uvc-devel">http://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000432.html">[Linux-uvc-devel] [ANNOUNCE] fswebcam-20060415
</A></li>
	<LI>Next message: <A HREF="000434.html">[Linux-uvc-devel] [ANNOUNCE] fswebcam-20060415
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#433">[ date ]</a>
              <a href="thread.html#433">[ thread ]</a>
              <a href="subject.html#433">[ subject ]</a>
              <a href="author.html#433">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
