<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] uvc header question
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20uvc%20header%20question&In-Reply-To=%3C4E64EF5A.4050608%40fisher-privat.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006879.html">
   <LINK REL="Next"  HREF="006878.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] uvc header question</H1>
    <B>Alexey Fisher</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20uvc%20header%20question&In-Reply-To=%3C4E64EF5A.4050608%40fisher-privat.net%3E"
       TITLE="[Linux-uvc-devel] uvc header question">bug-track at fisher-privat.net
       </A><BR>
    <I>Mon Sep  5 17:48:42 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006879.html">[Linux-uvc-devel] Sweex WC061 HD Webcam Sliver
</A></li>
        <LI>Next message: <A HREF="006878.html">[Linux-uvc-devel] uvc header question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6875">[ date ]</a>
              <a href="thread.html#6875">[ thread ]</a>
              <a href="subject.html#6875">[ subject ]</a>
              <a href="author.html#6875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 31.08.2011 00:32, schrieb Laurent Pinchart:
&gt;<i> Hi Alexey,
</I>&gt;<i>
</I>&gt;<i> On Thursday 25 August 2011 09:44:10 Alexey Fisher wrote:
</I>&gt;&gt;<i> Hi Laurent,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> are there any reason why uvc_video_decode_start do not do precise header
</I>&gt;&gt;<i> size checks? Are there many cameras with broken header size too?
</I>&gt;<i>
</I>&gt;<i> How precise do you mean ? The driver currently doesn't use much of the header,
</I>&gt;<i> so it just makes sure that the header size is smaller than or equal to the
</I>&gt;<i> packet size, and that it's at least 2 bytes long.
</I>&gt;<i>
</I>&gt;&gt;<i> I send you patch on what i work now to catch streams with fragmented
</I>&gt;&gt;<i> packets.. what do you think about it? Will you apply some thing like this?
</I>&gt;<i>
</I>&gt;<i> I'm not sure about that. Webcams that would require something like that are so
</I>&gt;<i> broken that I'm tempted to consider them as not UVC-compliant. They should be
</I>&gt;<i> returned to vendors with a loud complaint.
</I>&gt;<i>
</I>&gt;<i> Your patch might help, but the sad story is that it can't completely fix the
</I>&gt;<i> streams. There's always a chance that fragmented packets that contains no
</I>&gt;<i> header will start with data that looks like a header. You won't be able to
</I>&gt;<i> find a buller-proof solution.
</I>
You are right,
the idea is not to show definitely broken frames. If there is some thing 
what we can't filter, is ok. we did our best.

I just thinking about build in uvc compliance tester insight of the 
module. Some thing what users can use right in shop or at home before 14 
day return guarantee.
You enables compliance test and it print results in in dmesg.  One of 
test should be header check, error/drop rate, and so on.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006879.html">[Linux-uvc-devel] Sweex WC061 HD Webcam Sliver
</A></li>
	<LI>Next message: <A HREF="006878.html">[Linux-uvc-devel] uvc header question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6875">[ date ]</a>
              <a href="thread.html#6875">[ thread ]</a>
              <a href="subject.html#6875">[ subject ]</a>
              <a href="author.html#6875">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
