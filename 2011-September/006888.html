<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Microsoft Lifecam Cinema
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Microsoft%20Lifecam%20Cinema&In-Reply-To=%3CCAPueXH689LpM2rPZx6n8_4Loqn0xJ4z8TXf4B9vV4v--Q2wZ6A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006887.html">
   <LINK REL="Next"  HREF="006889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Microsoft Lifecam Cinema</H1>
    <B>Paulo Assis</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Microsoft%20Lifecam%20Cinema&In-Reply-To=%3CCAPueXH689LpM2rPZx6n8_4Loqn0xJ4z8TXf4B9vV4v--Q2wZ6A%40mail.gmail.com%3E"
       TITLE="[Linux-uvc-devel] Microsoft Lifecam Cinema">pj.assis at gmail.com
       </A><BR>
    <I>Thu Sep  8 00:15:19 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006887.html">[Linux-uvc-devel] Microsoft Lifecam Cinema
</A></li>
        <LI>Next message: <A HREF="006889.html">[Linux-uvc-devel] Problem booting with kernel 3.0 and ASUS UVC	webcams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6888">[ date ]</a>
              <a href="thread.html#6888">[ thread ]</a>
              <a href="subject.html#6888">[ subject ]</a>
              <a href="author.html#6888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
Well if the audio comes first it means you are dropping audio frames
making audio capture shorter than video, this usually means issues
with the audio source, you seem to have confirmed this by changing to
another mic and verifying that the recorded video works fine in that
case.
There could be several reasons to why these audio frames are dropped,
from hardware/firmware to low level usb issues, does your dmesg output
prints anything related to  snd_usb_audio module?

Also are you sure cheese is using your camera mic? For what I
understand it always uses the system default audio input (in your case
is the pulse server virtual alsa device).

Regards,
Paulo


2011/9/7 Steffen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">stesind at googlemail.com</A>&gt;:
&gt;<i> Hi Paulo,
</I>&gt;<i>
</I>&gt;<i> I am using a quite powerful PC i5 2.8 8 Gig RAM, ... and even with
</I>&gt;<i> lowest settings, 640 x 480 the result is the same. The audio always
</I>&gt;<i> comes out first. If I choose a different audio source like my other
</I>&gt;<i> Logitech C525 or Lifecam VX-2000 the recording of the Lifecam Cinema is
</I>&gt;<i> fine and even syncron to audio. So I think it is a guvcview - uvc
</I>&gt;<i> problem. In cheese it is also ok but cheese unfortunately records in low
</I>&gt;<i> frame rates.
</I>&gt;<i>
</I>&gt;<i> Steffen
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Am Mittwoch, den 07.09.2011, 16:58 +0100 schrieb Paulo Assis:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> if you are using any of the mpeg4 codecs, you will need a rather
</I>&gt;&gt;<i> powerful cpu for encoding at high frame rates, specially at any decent
</I>&gt;&gt;<i> resolution.
</I>&gt;&gt;<i> As an example I don't have any special problems with the following
</I>&gt;&gt;<i> configuration:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> device input: MJPEG <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">800x600 at 25</A> fps
</I>&gt;&gt;<i> video codec - mpeg 4 - avc (h264)
</I>&gt;&gt;<i> audio codec - mpeg2
</I>&gt;&gt;<i> container - matroska
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2.8.38 - 64bit kernel
</I>&gt;&gt;<i> hardware: intel QuadCore 2,8 Ghz (45nm), 4 GB ram
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> but if I increase the input to 30 fps I'll only get about 28 when encoding.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you changed the codec to MJPEG, and still have issues then there
</I>&gt;&gt;<i> could be something wrong with your setup, is the audio OK except for
</I>&gt;&gt;<i> the sync issues? As for the sync issues, do you get the audio before
</I>&gt;&gt;<i> the video or vice versa ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i> Paulo
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2011/9/7 Steffen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">stesind at googlemail.com</A>&gt;:
</I>&gt;&gt;<i> &gt; Hi Paolo,
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Thank you for your answer!
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I reduced the frame rate, resolution and changed the video codec. But
</I>&gt;&gt;<i> &gt; still the same. Sound and audio is still unsyncron in guvcview. Cheese
</I>&gt;&gt;<i> &gt; records all well but in 15 fps.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Steffen
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Am Mittwoch, den 07.09.2011, 09:35 +0100 schrieb Paulo Assis:
</I>&gt;&gt;<i> &gt;&gt; Hi,
</I>&gt;&gt;<i> &gt;&gt; guvcview detects some sync issues, it seems although you select 30
</I>&gt;&gt;<i> &gt;&gt; fps, for that resolution (1280x720) your hardware is just not powerful
</I>&gt;&gt;<i> &gt;&gt; enough to decode the MJPG stream and re-encode it with whatever coded
</I>&gt;&gt;<i> &gt;&gt; you are using.
</I>&gt;&gt;<i> &gt;&gt; Some solutions:
</I>&gt;&gt;<i> &gt;&gt; -reduce the fps
</I>&gt;&gt;<i> &gt;&gt; -reduce the resolution
</I>&gt;&gt;<i> &gt;&gt; -try using a less resource demanding video codec (MJPG will save the
</I>&gt;&gt;<i> &gt;&gt; video stream directly to disk, no compression is done in this case,
</I>&gt;&gt;<i> &gt;&gt; but it generates a huge file if compared with any of the mpeg codecs)
</I>&gt;&gt;<i> &gt;&gt; -use the matroska container instead of avi, it is much better since
</I>&gt;&gt;<i> &gt;&gt; individual frames are timed stamped. Avi only sets a average fps (15
</I>&gt;&gt;<i> &gt;&gt; according to your log)
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Regards,
</I>&gt;&gt;<i> &gt;&gt; Paulo
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; 2011/9/7 Steffen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">stesind at googlemail.com</A>&gt;:
</I>&gt;&gt;<i> &gt;&gt; &gt; Hello,
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; I am testing Microsoft Lifecam Cinema now, but I am not able to record
</I>&gt;&gt;<i> &gt;&gt; &gt; audio and video syncronusely with that cam and guvcview. The Logitech
</I>&gt;&gt;<i> &gt;&gt; &gt; C525 works but has a crappy image. Also cheese works with both cams but
</I>&gt;&gt;<i> &gt;&gt; &gt; has a little frame rate. Skype works for both.
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; Do you have any ideas? I have already installed that medibuild version
</I>&gt;&gt;<i> &gt;&gt; &gt; of uvc and the latest guvcview from the ppa. But the same result even
</I>&gt;&gt;<i> &gt;&gt; &gt; with the old ubuntu natty versions.
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; Steffen
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; &gt; Linux-uvc-devel mailing list
</I>&gt;&gt;<i> &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;&gt;<i> &gt;&gt; &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006887.html">[Linux-uvc-devel] Microsoft Lifecam Cinema
</A></li>
	<LI>Next message: <A HREF="006889.html">[Linux-uvc-devel] Problem booting with kernel 3.0 and ASUS UVC	webcams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6888">[ date ]</a>
              <a href="thread.html#6888">[ thread ]</a>
              <a href="subject.html#6888">[ subject ]</a>
              <a href="author.html#6888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
