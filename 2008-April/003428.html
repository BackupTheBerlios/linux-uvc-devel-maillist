<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Image Capture Issues
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Image%20Capture%20Issues&In-Reply-To=%3C480FFEC8.1060108%40mitre.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003436.html">
   <LINK REL="Next"  HREF="003430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Image Capture Issues</H1>
    <B>Bryan Murawski</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Image%20Capture%20Issues&In-Reply-To=%3C480FFEC8.1060108%40mitre.org%3E"
       TITLE="[Linux-uvc-devel] Image Capture Issues">bmurawski at mitre.org
       </A><BR>
    <I>Thu Apr 24 05:30:16 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003436.html">[Linux-uvc-devel] Embedded board + Kernel 2.6.15 + Quickcam pro	9000
</A></li>
        <LI>Next message: <A HREF="003430.html">[Linux-uvc-devel] Hardware Timestamps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3428">[ date ]</a>
              <a href="thread.html#3428">[ thread ]</a>
              <a href="subject.html#3428">[ subject ]</a>
              <a href="author.html#3428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all, I'm trying to write a simple application to capture images from 
my uvc supported camera (an Imaging Source DFK-21BU04), but I've run 
into some problems with the images tearing.  I need to capture an image, 
do some processing on that image, and then repeat that process after a 
delay of around 1 second.  I tried to do this using the capture.c 
example from the V4L2 documentation, but noticed that sometimes the 
image I got back was torn horizontally.  Due to these issues I thought 
that I should try to use some other example code so I downloaded the 
guvcview application source code.  This viewer seemed to run fine out of 
the box, but it was running much faster than my application is going 
to.  To emulate some of the delays in my system I added a sleep(2) 
command on line 526 of v4l2uvc.c in guvcview.  Sure enough, adding this 
delay caused the image tearing to happen on almost every frame.  Usually 
the image was torn horizontally, but sometimes it was torn vertically or 
colored neon green/pink.  After playing around with some sleeps it seems 
that once streaming is turned on, the larger the delay between calls to 
DQBUF the more likely it is that the image will be corrupted.  Is this a 
function of my camera or is this something common across all UVC 
cameras?  Also, is there a different way I should be capturing images 
since I'm not really looking for a stream just individual frames?  I 
really need to find a way to get good images reliably from my camera so 
if anyone has any other ideas I'd really appreciate it.  Thanks

-- 
Bryan Murawski

Senior Software Systems Engineer
The MITRE Corporation


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003436.html">[Linux-uvc-devel] Embedded board + Kernel 2.6.15 + Quickcam pro	9000
</A></li>
	<LI>Next message: <A HREF="003430.html">[Linux-uvc-devel] Hardware Timestamps
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3428">[ date ]</a>
              <a href="thread.html#3428">[ thread ]</a>
              <a href="subject.html#3428">[ subject ]</a>
              <a href="author.html#3428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
