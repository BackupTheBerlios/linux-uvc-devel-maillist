<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] uvc_queue_next_buffer called at an interval	greater than framerate.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20uvc_queue_next_buffer%20called%20at%20an%20interval%0A%09greater%20than%20framerate.&In-Reply-To=%3C000301cb9d83%24bf2d8860%243d889920%24%40org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006140.html">
   <LINK REL="Next"  HREF="006144.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] uvc_queue_next_buffer called at an interval	greater than framerate.</H1>
    <B>Shuzhen Wang</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20uvc_queue_next_buffer%20called%20at%20an%20interval%0A%09greater%20than%20framerate.&In-Reply-To=%3C000301cb9d83%24bf2d8860%243d889920%24%40org%3E"
       TITLE="[Linux-uvc-devel] uvc_queue_next_buffer called at an interval	greater than framerate.">shuzhenw at codeaurora.org
       </A><BR>
    <I>Fri Dec 17 01:45:48 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006140.html">[Linux-uvc-devel] flipped webcam on asus laptop
</A></li>
        <LI>Next message: <A HREF="006144.html">[Linux-uvc-devel] uvc_queue_next_buffer called at an interval	greater than framerate.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6141">[ date ]</a>
              <a href="thread.html#6141">[ thread ]</a>
              <a href="subject.html#6141">[ subject ]</a>
              <a href="author.html#6141">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, 

We are using UVC driver with a Chicony USB camera. The camera runs at 30fps
fixed frame rate. 

We see some jittering in the video stream. When we look at dmesg, it shows
that sometimes the interval between 2 uvc_queue_next_buffer calls are about
65 ms. Most of the time it's around 30-33ms. Obviously frame drop is
happening here.

My understanding is that uvc_queue_next_buffer is called in interrupt
contexts. So it's unlikely it's scheduling issue. I can think of 2
possibilities:
1. Problem with camera firmware: the frame stream coming from the camera
module is already problematic.
2. Memory/Cache performance issue causing the frame processing takes too
long.

How can I narrow down the issue furthuer? Your comment is appreciated.

-Shuzhen


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006140.html">[Linux-uvc-devel] flipped webcam on asus laptop
</A></li>
	<LI>Next message: <A HREF="006144.html">[Linux-uvc-devel] uvc_queue_next_buffer called at an interval	greater than framerate.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6141">[ date ]</a>
              <a href="thread.html#6141">[ thread ]</a>
              <a href="subject.html#6141">[ subject ]</a>
              <a href="author.html#6141">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
