<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Image format on Luvcview
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Image%20format%20on%20Luvcview&In-Reply-To=%3CBLU137-W177E502E5EB7BCDF1A0D4FD90E0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003170.html">
   <LINK REL="Next"  HREF="003202.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Image format on Luvcview</H1>
    <B>H&#233;ctor Hugo Avil&#233;s Arriaga</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Image%20format%20on%20Luvcview&In-Reply-To=%3CBLU137-W177E502E5EB7BCDF1A0D4FD90E0%40phx.gbl%3E"
       TITLE="[Linux-uvc-devel] Image format on Luvcview">hector_hugo_aviles at hotmail.com
       </A><BR>
    <I>Tue Mar 11 00:19:10 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003170.html">[Linux-uvc-devel] Supported webcam
</A></li>
        <LI>Next message: <A HREF="003202.html">[Linux-uvc-devel] Image format on Luvcview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3172">[ date ]</a>
              <a href="thread.html#3172">[ thread ]</a>
              <a href="subject.html#3172">[ subject ]</a>
              <a href="author.html#3172">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Dear all,

I'm a newbie in all this webcam stuff and trying the Luvcview source code. 
Luvcview is useful to me because it allows to display images from two videcameras at the
same time. Doing the same with OpenCV retrieves corrupted images. 

I want to access the pixel information. I'm able to convert 
YUYV format to 24RGB easily using the Pyuv422torgb24 function,
and the display the images using a 24bits BGR format directly.

Unfortunately, I cannot do the same with the MJPEG format.
I realize that the image is decompressed into the
videoIn-&gt;framebuffer buffer before displaying it, but I don't know how to access 
the pixel information correctly. 
I have tried to copy the image into an OpenCV buffer in this way:

opencv-&gt;imageData[curr_pos] = videoIn-&gt;framebuffer[curr_pos++]; // B
opencv-&gt;imageData[curr_pos] = videoIn-&gt;framebuffer[curr_pos++]; // G
opencv-&gt;imageData[curr_pos] = videoIn-&gt;framebuffer[curr_pos++]; // R

However, all I see are vertical lines and 
my silhouette repeated three times on the image.
As you can see,  I'm assuming this information is stored in BGR format
in the videoIn-&gt;framebuffer. 

The questions are: which is the correct form to access the information captured with
the MJPEG format?  and, using this format speeds up the capturing process after all?

Best regards,
Hector. 


_________________________________________________________________
Participa en nanometrajes y gana grandes premios 
<A HREF="http://cine.prodigymsn.com/nanometraje">http://cine.prodigymsn.com/nanometraje</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003170.html">[Linux-uvc-devel] Supported webcam
</A></li>
	<LI>Next message: <A HREF="003202.html">[Linux-uvc-devel] Image format on Luvcview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3172">[ date ]</a>
              <a href="thread.html#3172">[ thread ]</a>
              <a href="subject.html#3172">[ subject ]</a>
              <a href="author.html#3172">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
