<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Black image on videoconferencing apps.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Black%20image%20on%20videoconferencing%20apps.&In-Reply-To=%3C200803252224.39945.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003295.html">
   <LINK REL="Next"  HREF="003158.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Black image on videoconferencing apps.</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Black%20image%20on%20videoconferencing%20apps.&In-Reply-To=%3C200803252224.39945.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] Black image on videoconferencing apps.">laurent.pinchart at skynet.be
       </A><BR>
    <I>Tue Mar 25 22:24:39 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003295.html">[Linux-uvc-devel] Black image on videoconferencing apps.
</A></li>
        <LI>Next message: <A HREF="003158.html">[Linux-uvc-devel] Philips SPC 1000NC Webcam and VideoLan v4l2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3298">[ date ]</a>
              <a href="thread.html#3298">[ thread ]</a>
              <a href="subject.html#3298">[ subject ]</a>
              <a href="author.html#3298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ra&#250;l,

On Tuesday 25 March 2008, Ra&#250;l S&#225;nchez Siles wrote:
&gt;<i> Laurent Pinchart wrote:
</I>&gt;<i> &gt; Hi Ra&#250;l,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; sorry for the late reply, and thanks for the very detailled description
</I>&gt;<i> &gt; of your problem.
</I>&gt;<i>
</I>&gt;<i>   No, that's ok. We are all quite busy, specially if you are doing some
</I>&gt;<i> important development like it is this driver.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt;   Now I'm more certain that this is a trouble in the light regulation
</I>&gt;<i> &gt;&gt; mechanism, but I don't know how to get more information from the driver.
</I>&gt;<i> &gt;&gt; I don't know even where the light regulation happens. Is it on driver,
</I>&gt;<i> &gt;&gt; on hardware or in the userspace application by chance (doubtfully this
</I>&gt;<i> &gt;&gt; last)?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The driver doesn't perform any image processing. What you call light
</I>&gt;<i> &gt; regulation is mostly auto-exposure (and maybe to a lesser extent auto
</I>&gt;<i> &gt; white balance). Your camera doesn't report any exposure-related control
</I>&gt;<i> &gt; in its USB descriptors, so it's not clear if the camera doesn't do any
</I>&gt;<i> &gt; exposure control or if it doesn't allow exposure parameters to be
</I>&gt;<i> &gt; changed. I'd vote for the second option.
</I>&gt;<i>
</I>&gt;<i>   I can't be sure about this as well, even more when I haven't tried with
</I>&gt;<i> another drivers (BillyOS). But I think it would be odd that having the
</I>&gt;<i> possibility of running into this trouble the camera doesn't provide this
</I>&gt;<i> controls.
</I>&gt;<i>
</I>&gt;<i> &gt; Userspace applications can also implement all kind of image enhancement
</I>&gt;<i> &gt; algorithms. That's up to the application, and there's no easy way to know
</I>&gt;<i> &gt; what skype does due to its closed-source nature.
</I>&gt;<i>
</I>&gt;<i>   Well, skype is one case more. As I mentioned the problem also raised with
</I>&gt;<i> kopete.
</I>&gt;<i>
</I>&gt;<i> &gt;&gt;   My most reliable method to reproduce up to know is being on a very
</I>&gt;<i> &gt;&gt; soft light environment, for example: night with a dim indirect light(12W
</I>&gt;<i> &gt;&gt; low consumption lamp). In this situation you will see the image, but not
</I>&gt;<i> &gt;&gt; very well defined using a regular videoconferencing resolution and frame
</I>&gt;<i> &gt;&gt; rate. Now cover the camera focus completely using your hand, the image
</I>&gt;<i> &gt;&gt; will become totally black and, if the light is not clear enough it will
</I>&gt;<i> &gt;&gt; remain in that state unless you reinitialise the video streaming or use
</I>&gt;<i> &gt;&gt; a light enough light so the brightness regulates automatically to a
</I>&gt;<i> &gt;&gt; useful value.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That seems to be a bug either in the camera hardware/firmware or in the
</I>&gt;<i> &gt; application. I'd try using the camera with luvcview. If you can reproduce
</I>&gt;<i> &gt; the problem the hardware will be to blame. Otherwise skype will be at
</I>&gt;<i> &gt; fault.
</I>&gt;<i>
</I>&gt;<i>   Now that I know how to reproduce the problem and provided your
</I>&gt;<i> information I've tried with luvcview and well, I got to reproduce it as
</I>&gt;<i> well. So this could be a better starting or (maybe unhopefully) ending
</I>&gt;<i> point.
</I>
If Skype, Kopete and luvcview are all affected I'm afraid the problem is at 
the camera level.

&gt;<i>   In summary turn on the video streaming where there's very little light,
</I>&gt;<i> in the end the camera stream will turn black.
</I>
If your camera exposed exposure-related controls I'd advice you to play with 
them, but as this isn't the case I'm afraid there's not much you can do 
beside restarting the video stream. Sorry. Buggy devices seem to be way too 
common.

Best regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003295.html">[Linux-uvc-devel] Black image on videoconferencing apps.
</A></li>
	<LI>Next message: <A HREF="003158.html">[Linux-uvc-devel] Philips SPC 1000NC Webcam and VideoLan v4l2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3298">[ date ]</a>
              <a href="thread.html#3298">[ thread ]</a>
              <a href="subject.html#3298">[ subject ]</a>
              <a href="author.html#3298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
