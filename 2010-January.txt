From laurent.pinchart at ideasonboard.com  Fri Jan  1 22:40:59 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 1 Jan 2010 22:40:59 +0100
Subject: [Linux-uvc-devel] Timestamp Accuracy Patch
In-Reply-To: <833B0B09C5041D42A9924A3BA6A12B9A0375E949D3@CALMAIL-CMS.smarttech.inc>
References: <833B0B09C5041D42A9924A3BA6A12B9A028FB22085@CALMAIL-CMS.smarttech.inc>
	<200911250217.19104.laurent.pinchart@ideasonboard.com>
	<833B0B09C5041D42A9924A3BA6A12B9A0375E949D3@CALMAIL-CMS.smarttech.inc>
Message-ID: <201001012240.59920.laurent.pinchart@ideasonboard.com>

Hi Jacob,

On Tuesday 22 December 2009 19:32:38 Jacob Fehr wrote:
> Hey Laurent,
> 
> I'm just having a quick look at section 2.4.3.3 in the UVC spec. If I read
> that correctly, the SCR SOF counter is not necessarily the same as the USB
> SOF frame number. The device can maintain it's own 1 KHz counter and send
> that instead of the USBS SOF frame number.

That's correct.

> That would mean that there is no way to correlate device time to USB time
> for devices that maintain their own counter. The only thing the PTS, SCR
> could be used for is to determine interframe jitter/skew.
>
> I have a camera that seems to take advantage of this. I modified the UVC
> driver to print out the SCR SOF and urb.start_frame then I plugged two
> cameras into the same USB controller. This is a sample log:
> 
> [  249.799452] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 7590
> [  249.812207] uvcvideo: stream = 0xe9ea5000, sof = 1158
> [  249.812217] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 7700
> [  249.815195] uvcvideo: stream = 0xe9ea2000, sof = 843
> [  249.815203] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 7723
> [  249.830206] uvcvideo: stream = 0xe9ea5000, sof = 1174
> [  249.830216] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 7834
> [  249.833196] uvcvideo: stream = 0xe9ea2000, sof = 860
> [  249.833205] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 7857
> [  249.845958] uvcvideo: stream = 0xe9ea5000, sof = 1191
> [  249.845967] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 7967
> [  249.848949] uvcvideo: stream = 0xe9ea2000, sof = 877
> [  249.848957] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 7990
> [  249.861710] uvcvideo: stream = 0xe9ea5000, sof = 1208
> [  249.861720] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 8100
> [  249.864701] uvcvideo: stream = 0xe9ea2000, sof = 893
> [  249.864710] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 8123
> [  249.879704] uvcvideo: stream = 0xe9ea5000, sof = 1224
> [  249.879714] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 41
> [  249.882696] uvcvideo: stream = 0xe9ea2000, sof = 910
> [  249.882705] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 64
> [  249.895457] uvcvideo: stream = 0xe9ea5000, sof = 1241
> [  249.895466] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 175
> [  249.898451] uvcvideo: stream = 0xe9ea2000, sof = 927
> 
> Camera 0xe9ea5000 seems to be running off a different time reference from
> camera 0xe9ea2000. If the cameras did echo the USB SOF into the SCR they
> should track with urb->start_frame.

Just for the sake of correctness, the start_frame field isn't the SOF counter. 
It seems to wrap around at 8192, so I guess it's a micro-frame count for high-
speed transfers.

> As far as I can tell there is no way to correlate the SCR SOF counter to
> the USB SOF. It looks like there is no way to (generically) determine the
> device latency...

The SCR SOF and USB SOF *are* correlated. They run at the same speed and 
differ by a fixed (but non-deterministic) value.

The PTS/SCR relationship can be computed using the PTS/SCR fields in video 
data headers. The SCR/SOF relationship is known (except for the constant 
difference), and the SOF/host clock relationship can be computed using the SOF 
counter and the system time. With all those information, the PTS timestamp 
associated with the image can be converted to a system time, eliminating clock 
drift between the camera and system clocks. That's what the PTS/SCR fields are 
for.

> I can't tell when a device will use it's own counter or when it'll echo the
> USB SOF frame number.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Fri Jan  1 22:43:06 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 1 Jan 2010 22:43:06 +0100
Subject: [Linux-uvc-devel] Is it possible to have two streaming
	interfaces for ISOC & BULK under one configuration ?
In-Reply-To: <abc44c8d0912262220sff9a2fbg4ba7802a1fa51b9e@mail.gmail.com>
References: <abc44c8d0912230310x2de5185bw19376771f5cb3845@mail.gmail.com>
	<200912261936.31130.laurent.pinchart@ideasonboard.com>
	<abc44c8d0912262220sff9a2fbg4ba7802a1fa51b9e@mail.gmail.com>
Message-ID: <201001012243.07053.laurent.pinchart@ideasonboard.com>

Hi Ramesh,

On Sunday 27 December 2009 07:20:19 Ramesh Rajagopal wrote:
> Hi Laurent,
> Thanks for the reply. Yes, I tried with same INPUT/OUTPUT terminal for
> both Video streaming interfaces.
> I will try with different INPUT/OUTPUT terminal. But physcially there is
> only one INPUT/OUTPUT terminal in the device.
> Can I logically create two INPUT/OUTPUT terminal both pointing the same
> physical entity?

You shouldn't do that.

> Both there INPUT/OUTPUT terminal are part of the same CONTROL interface
> right?

That's right.

> Basically what I am trying to acheive is, give user a flexiblity of
> choosing the transfer type based on thier required bandwidth.
> I decided to give two logical devices on the host side, so that user
> can exclusively select one device and stream it.
> Will the above approach work in this way or i am missing something here,
> suggestions?

UVC doesn't provide any support for that. You can't provide both isochronous 
and bulk transfers for the main video stream in a single configuration. 
However, you could have two configurations, one with isochronous transfers and 
the other with bulk transfers.

-- 
Regars,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Fri Jan  1 22:47:51 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 1 Jan 2010 22:47:51 +0100
Subject: [Linux-uvc-devel] another UVC-compatible webcam
In-Reply-To: <4B38AFFF.6010407@gmx.net>
References: <4B38AFFF.6010407@gmx.net>
Message-ID: <201001012247.51447.laurent.pinchart@ideasonboard.com>

Hi Michael,

On Monday 28 December 2009 14:17:51 Michael Schmidt wrote:
> Hi,
> 
> The 'avatec CMA-L688' (USB 'Microdia 0c45:62f1') works flawlessly under
> Ubuntu Linux 9.10 (PC, 32 bit). Both camera and microphone work.

Thanks for the report. Could you please send me the output of

lsusb -v -d 0c45:62f1

with your webcam plugged in ?

-- 
Regards,

Laurent Pinchart


From linux at patocarr.com  Sat Jan  2 10:29:55 2010
From: linux at patocarr.com (Pat Carr)
Date: Sat, 02 Jan 2010 01:29:55 -0800
Subject: [Linux-uvc-devel] Unlisted supported webcam
Message-ID: <4B3F1213.8050304@patocarr.com>

Hi,

  I plugged an unlisted webcam and am happy to report that it worked
properly, video and mic. It's an Agama V-315 device. I tested in on
Ubuntu 9.10 (2.6.31-16) i386, and Ubuntu 9.10 PPC.

  As reported by dmesg:
[1365347.342003] uvcvideo: Found UVC 1.00 device Agama V-315 (093a:2900)
[1365347.358070] input: Agama V-315 as
/devices/pci0000:00/0000:00:1a.0/usb3/3-2/3-2:1.0/input/input11

  Sorry for the lengthy output that follows. It's from libusb, as
requested recently in the mailing list.

Thanks!
-Pat


Bus 003 Device 005: ID 093a:2900 Pixart Imaging, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x093a Pixart Imaging, Inc.
  idProduct          0x2900
  bcdDevice           10.07
  iManufacturer           1 PixArt Imaging Inc.
  iProduct                2 Agama V-315
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          735
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               2 Agama V-315
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              2 Agama V-315
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           77
        dwClockFrequency       12.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               4
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {f07735d1-898d-0047-812e-7dd5e2fdb898}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0xff
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000200
          Zoom (Absolute)
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000057f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x 0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         2
        wTotalLength                      424
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    11
        bmaControls( 1)                    11
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        bFlags                              1
          Fixed-size samples: Yes
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                  4915200
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  1228800
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   307200
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   405504
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  1622016
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        160
        wHeight( 1)                       120
        wWidth( 2)                        176
        wHeight( 2)                       144
        wWidth( 3)                        320
        wHeight( 3)                       240
        wWidth( 4)                        352
        wHeight( 4)                       288
        bNumCompressionPatterns             5
        bCompression( 0)                  100
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        2
        bNumFrameDescriptors                4
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  1228800
        dwMaxBitRate                  7372800
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval        2000000
        bFrameIntervalType                  1
        dwFrameInterval( 0)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   307200
        dwMaxBitRate                  7680000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         500000
        bFrameIntervalType                  1
        dwFrameInterval( 0)            500000
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   405504
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  1
        dwFrameInterval( 0)            666666
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  1622016
        dwMaxBitRate                  6488064
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval        2500000
        bFrameIntervalType                  1
        dwFrameInterval( 0)           2500000
      VideoStreaming Interface Descriptor:
        bLength                            22
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               4
        wWidth( 0)                        320
        wHeight( 0)                       240
        wWidth( 1)                        160
        wHeight( 1)                       120
        wWidth( 2)                        176
        wHeight( 2)                       144
        wWidth( 3)                        352
        wHeight( 3)                       288
        bNumCompressionPatterns             4
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0300  1x 768 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0350  1x 848 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0380  1x 896 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x039f  1x 927 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       0
      bFunctionProtocol       0
      iFunction               4 Agama V-315
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              4 Agama V-315
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           38
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 8
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 5
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x03
          Mute
          Volume
        iFeature                0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        48000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0060  1x 96 bytes
        bInterval               1
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Status:     0x0000
  (Bus Powered)




From nick.chorley at gmail.com  Sun Jan  3 12:47:43 2010
From: nick.chorley at gmail.com (Nicky Chorley)
Date: Sun, 3 Jan 2010 11:47:43 +0000
Subject: [Linux-uvc-devel] 064e:d101 Suyin Corp. Acer CrystalEye Webcam
	supported with uvcvideo
Message-ID: <f5bc463e1001030347u63d5850fp92be82256f9c8572@mail.gmail.com>

Hi,

This is just to make the developers aware that the aforementioned
webcam is supported with their driver. I have this device in an Acer
Aspire One (AOA 150-Ab) netbook..

Kind regards,

Nicky Chorley


From freimanis_renars at mail.ru  Mon Jan  4 21:21:12 2010
From: freimanis_renars at mail.ru (Freimanis Renars)
Date: Mon, 04 Jan 2010 23:21:12 +0300
Subject: [Linux-uvc-devel] Genius iSlim 1300 V2
Message-ID: <4B424DB8.8090907@mail.ru>

Device ID: 0458:7071
Name: Genius iSlim 1300 V2
Manufacturer: Genius

This device works on openSUSE 11.2



From nick.chorley at gmail.com  Mon Jan  4 21:23:42 2010
From: nick.chorley at gmail.com (Nicky Chorley)
Date: Mon, 4 Jan 2010 20:23:42 +0000
Subject: [Linux-uvc-devel] 064e:d101 Suyin Corp. Acer CrystalEye Webcam
	supported with uvcvideo
In-Reply-To: <f5bc463e1001030347u63d5850fp92be82256f9c8572@mail.gmail.com>
References: <f5bc463e1001030347u63d5850fp92be82256f9c8572@mail.gmail.com>
Message-ID: <f5bc463e1001041223t5b12f769gfab10561467775ae@mail.gmail.com>

Oh, and I'm using this with Slackware 13.0, kernel 2.6.29.6.

Regards,

Nicky Chorley

2010/1/3 Nicky Chorley <nick.chorley at gmail.com>:
> Hi,
>
> This is just to make the developers aware that the aforementioned
> webcam is supported with their driver. I have this device in an Acer
> Aspire One (AOA 150-Ab) netbook..
>
> Kind regards,
>
> Nicky Chorley
>


From systemsconsultant at gmail.com  Mon Jan  4 22:26:37 2010
From: systemsconsultant at gmail.com (Dave Smif)
Date: Mon, 4 Jan 2010 21:26:37 +0000
Subject: [Linux-uvc-devel] 'BisonCam' - USB ID 5986:0241 & Ubuntu 9.10
	Karmic Koala 2.6.31-15
Message-ID: <11c350d01001041326p6721d031g7ab227f1211b8105@mail.gmail.com>

Hi,


I am using Ubuntu 9.10 on a laptop with the 'BisonCam' (USB ID is
5986:0241). dmesg shows

"No valid video chain found."

It seems that if I were able to compile the latest driver, I'd be able
to get my webcam to work - is this fair to say?

I tried downloading the latest tarball for uvc and running "make", but
it stopped with errors. When I ran "make all" it appeared to suggest
that I'd need a 2.6.32 kernel or greater.

Can anyone offer any guidance on how to get my webcam working? My
initial guess would be that I need something other than the very
latest and greatest as I think this problem was fixed a few months
back, and that release would probably compile?

Thanks in advance.


From pj.assis at gmail.com  Tue Jan  5 10:39:53 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 5 Jan 2010 09:39:53 +0000
Subject: [Linux-uvc-devel] 'BisonCam' - USB ID 5986:0241 & Ubuntu 9.10
	Karmic Koala 2.6.31-15
In-Reply-To: <11c350d01001041326p6721d031g7ab227f1211b8105@mail.gmail.com>
References: <11c350d01001041326p6721d031g7ab227f1211b8105@mail.gmail.com>
Message-ID: <59cf47a81001050139t43af3377u6d41e25fe64970d4@mail.gmail.com>

Hi,
Just get the mercurial version with:
hg clone http://linuxtv.org/hg/~pinchartl/uvcvideo/

then disable fireDTV and floppyDTV with:
sudo make menuconfig

it's under Multimedia support/DVB ATSC adapters - save the
configuration when exiting menuconfig

(ubuntu kernel headers package is missing some includes needed to
compile fireDTV)

then try:

make
sudo make install
sudo make unload
sudo modprobe uvcvideo

to recompile against a new kernel, remember to use:
make distclean

before any of the above.

Regards,
Paulo

2010/1/4 Dave Smif <systemsconsultant at gmail.com>:
> Hi,
>
>
> I am using Ubuntu 9.10 on a laptop with the 'BisonCam' (USB ID is
> 5986:0241). dmesg shows
>
> "No valid video chain found."
>
> It seems that if I were able to compile the latest driver, I'd be able
> to get my webcam to work - is this fair to say?
>
> I tried downloading the latest tarball for uvc and running "make", but
> it stopped with errors. When I ran "make all" it appeared to suggest
> that I'd need a 2.6.32 kernel or greater.
>
> Can anyone offer any guidance on how to get my webcam working? My
> initial guess would be that I need something other than the very
> latest and greatest as I think this problem was fixed a few months
> back, and that release would probably compile?
>
> Thanks in advance.
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From Robert.Lukassen at tomtom.com  Tue Jan  5 13:49:34 2010
From: Robert.Lukassen at tomtom.com (Robert Lukassen)
Date: Tue, 5 Jan 2010 13:49:34 +0100
Subject: [Linux-uvc-devel] Disconnect video out device from non-root hub.
Message-ID: <C3C930591D7B9D4083B73AC7CB7A5FF364F475@nl-exc-02.intra.local>

Hi,

In Ubuntu 9.10, support for Video Out devices (bulk-only) has been added. We noticed that when such a device is disconnected from a non-root hub, the queued urbs are returned with usb->status == -EPROTO. The video completion callback cancels the queue, and does not re-submit the urb.

Because the hub driver needs some time to process the disconnect properly, there is a brief interval in time where queued urbs for the disconnected device do not result in -ESHUTDOWN, as expected, but with other error codes (such as EPROTO).

We have found that (in case of status == -EPROTO) resubmitting the urb and not canceling the queue results in the correct behaviour. Eventually one of the urbs indeed comes back with status == -ESHUTDOWN and the device is properly administrated as disconnected. Subsequent QBUF attempts then also result in correct user-space experience.

We propose the following simple patch:

In uvc_video.c:

static void uvc_video_complete(struct urb *urb)
{
	struct uvc_video_device *video = urb->context;
	struct uvc_video_queue *queue = &video->queue;
	struct uvc_buffer *buf = NULL;
	unsigned long flags;
	int ret;

	switch (urb->status) {
	case 0:
		break;

	default:
		uvc_printk(KERN_WARNING, "Non-zero status (%d) in video "
			"completion handler.\n", urb->status);
+		break;

	case -ENOENT:		/* usb_kill_urb() called. */
		if (video->frozen)
			return;

	case -ECONNRESET:	/* usb_unlink_urb() called. */
	case -ESHUTDOWN:	/* The endpoint is being disabled. */
		uvc_queue_cancel(queue, urb->status == -ESHUTDOWN);
		return;
	}

	spin_lock_irqsave(&queue->irqlock, flags);
	if (!list_empty(&queue->irqqueue))
		buf = list_first_entry(&queue->irqqueue, struct uvc_buffer,
				       queue);
	spin_unlock_irqrestore(&queue->irqlock, flags);

	video->decode(urb, video, buf);

	if ((ret = usb_submit_urb(urb, GFP_ATOMIC)) < 0) {
		uvc_printk(KERN_ERR, "Failed to resubmit video URB (%d).\n",
			ret);
	}
}

We welcome your comments.

Thanks,

Robert Lukassen




This e-mail message contains information which is confidential and may be privileged. It is intended for use by the addressee only. If you are not the intended addressee, we request that you notify the sender immediately and delete or destroy this e-mail message and any attachment(s), without copying, saving, forwarding, disclosing or using its contents in any other way. TomTom N.V., TomTom International BV or any other company belonging to the TomTom group of companies will not be liable for damage relating to the communication by e-mail of data, documents or any other information.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100105/a839f664/attachment.html>

From oztiks at yewnix.net  Tue Jan  5 16:54:20 2010
From: oztiks at yewnix.net (Seth W)
Date: Tue, 5 Jan 2010 10:54:20 -0500
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d) bandwidth
	reservation issues?
Message-ID: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>

Greetings,

I have two Microsoft LifeCam Cinema Cameras attached to a single system
(only one USB 2.0 controller). I have set trace=1024 on uvcvideo and find
that the driver allocates the same amount of bandwidth regardless of what I
specify for resolution, fps, or codec in ffmpeg, vlc, etc.

Example:

[root at fedora11-test ~]# ffmpeg   -f video4linux2 -s 1280x800 -r 30 -i
/dev/video1 -f m4v 2-1280-800-maxfps.m4v
FFmpeg version SVN-r20557-snapshot, Copyright (c) 2000-2009 Fabrice Bellard,
et al.
  built on Nov 22 2009 01:51:55 with gcc 4.4.1 20090725 (Red Hat 4.4.1-2)
  configuration: --prefix=/usr --libdir=/usr/lib --shlibdir=/usr/lib
--mandir=/usr/share/man --enable-shared --enable-gpl --enable-version3
--enable-nonfree --enable-postproc --enable-avfilter --enable-avfilter-lavf
--enable-pthreads --enable-x11grab --enable-vdpau --disable-avisynth
--enable-libdc1394 --enable-libdirac --enable-libfaac --enable-libfaad
--enable-libfaadbin --enable-libgsm --enable-libmp3lame --enable-libnut
--enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
--enable-libschroedinger --enable-libspeex --enable-libtheora
--enable-libvorbis --enable-libx264 --enable-libxvid --extra-cflags='-O2 -g
-pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector
--param=ssp-buffer-size=4 -m32 -march=i586 -mtune=generic
-fasynchronous-unwind-tables' --disable-stripping
  libavutil     50. 4. 0 / 50. 4. 0
  libavcodec    52.41. 0 / 52.41. 0
  libavformat   52.39. 2 / 52.39. 2
  libavdevice   52. 2. 0 / 52. 2. 0
  libavfilter    1. 8. 0 /  1. 8. 0
  libswscale     0. 7. 1 /  0. 7. 1
  libpostproc   51. 2. 0 / 51. 2. 0
[video4linux2 @ 0x858a860][3]Capabilities: 4000001
Input #0, video4linux2, from '/dev/video1':
  Duration: N/A, start: 1262673238.027945, bitrate: 491519 kb/s
    Stream #0.0: Video: rawvideo, yuyv422, 1280x800, 491519 kb/s, 30 tbr,
1000k tbn, 30 tbc
Output #0, m4v, to '2-1280-800-maxfps.m4v':
    Stream #0.0: Video: mpeg4, yuv420p, 1280x800, q=2-31, 200 kb/s, 90k tbn,
30 tbc
Stream mapping:
  Stream #0.0 -> #0.0
Press [q] to stop encoding
frame=  147 fps= 30 q=31.0 Lsize=     356kB time=4.90 bitrate= 595.6kbits/s
video:356kB audio:0kB global headers:0kB muxing overhead 0.000000%

And from dmesg:

uvcvideo: Device requested 3072 B/frame bandwidth.
uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.

---

[root at fedora11-test ~]# ffmpeg   -f video4linux2 -s 640x480 -r 30 -i
/dev/video1 -f m4v 2-640x480.m4v
FFmpeg version SVN-r20557-snapshot, Copyright (c) 2000-2009 Fabrice Bellard,
et al.
  built on Nov 22 2009 01:51:55 with gcc 4.4.1 20090725 (Red Hat 4.4.1-2)
  configuration: --prefix=/usr --libdir=/usr/lib --shlibdir=/usr/lib
--mandir=/usr/share/man --enable-shared --enable-gpl --enable-version3
--enable-nonfree --enable-postproc --enable-avfilter --enable-avfilter-lavf
--enable-pthreads --enable-x11grab --enable-vdpau --disable-avisynth
--enable-libdc1394 --enable-libdirac --enable-libfaac --enable-libfaad
--enable-libfaadbin --enable-libgsm --enable-libmp3lame --enable-libnut
--enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
--enable-libschroedinger --enable-libspeex --enable-libtheora
--enable-libvorbis --enable-libx264 --enable-libxvid --extra-cflags='-O2 -g
-pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector
--param=ssp-buffer-size=4 -m32 -march=i586 -mtune=generic
-fasynchronous-unwind-tables' --disable-stripping
  libavutil     50. 4. 0 / 50. 4. 0
  libavcodec    52.41. 0 / 52.41. 0
  libavformat   52.39. 2 / 52.39. 2
  libavdevice   52. 2. 0 / 52. 2. 0
  libavfilter    1. 8. 0 /  1. 8. 0
  libswscale     0. 7. 1 /  0. 7. 1
  libpostproc   51. 2. 0 / 51. 2. 0
[video4linux2 @ 0x9a15860][3]Capabilities: 4000001
Input #0, video4linux2, from '/dev/video1':
  Duration: N/A, start: 1262673302.162194, bitrate: 147456 kb/s
    Stream #0.0: Video: rawvideo, yuyv422, 640x480, 147456 kb/s, 30 tbr,
1000k tbn, 30 tbc
Output #0, m4v, to '2-640x480.m4v':
    Stream #0.0: Video: mpeg4, yuv420p, 640x480, q=2-31, 200 kb/s, 90k tbn,
30 tbc
Stream mapping:
  Stream #0.0 -> #0.0
Press [q] to stop encoding
frame=  152 fps= 30 q=5.2 Lsize=     347kB time=5.07 bitrate= 561.4kbits/s
video:347kB audio:0kB global headers:0kB muxing overhead 0.000000%


and from dmesg:

vcvideo: Device requested 3072 B/frame bandwidth.
uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.


----

I had planned on showing the example from dmesg of the same allocation when
using mencoder with --v4l2-chroma=mjpeg ; but unfortunately the machine is
remote and just died...

At any rate, if anyone can verify that this is the (in)correct behavior of
uvcvideo i would appreciate it (but I am under the impression it is not
supposed to work this way, and is supposed to allocate bandwidth based on
the input parameters). I would be happy to provide any debugging information
necessary.

Thanks in advance.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100105/b46983b4/attachment.html>

From hemzet at gmx.net  Tue Jan  5 17:30:45 2010
From: hemzet at gmx.net (Oliver B.)
Date: Tue, 05 Jan 2010 17:30:45 +0100
Subject: [Linux-uvc-devel] UVC device not listed
Message-ID: <4B436935.2070402@gmx.net>

Hi,

The listed device:

0c45:62c0
Microdia Sonix USB 2.0 Camera

is actually also sold as:

Trust SpotLight Webcam Pro
(see http://www.trust.com/products/product.aspx?artnr=16428)

So it should be listed under this name as well in your list.

Thanks a lot for your support.

Regards,
Oliver



From laurent.pinchart at ideasonboard.com  Wed Jan  6 01:50:40 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 6 Jan 2010 01:50:40 +0100
Subject: [Linux-uvc-devel] Unlisted supported webcam
In-Reply-To: <4B3F1213.8050304@patocarr.com>
References: <4B3F1213.8050304@patocarr.com>
Message-ID: <201001060150.40649.laurent.pinchart@ideasonboard.com>

Hi Pat,

On Saturday 02 January 2010 10:29:55 Pat Carr wrote:
> Hi,
> 
>   I plugged an unlisted webcam and am happy to report that it worked
> properly, video and mic. It's an Agama V-315 device. I tested in on
> Ubuntu 9.10 (2.6.31-16) i386, and Ubuntu 9.10 PPC.
> 
>   As reported by dmesg:
> [1365347.342003] uvcvideo: Found UVC 1.00 device Agama V-315 (093a:2900)
> [1365347.358070] input: Agama V-315 as
> /devices/pci0000:00/0000:00:1a.0/usb3/3-2/3-2:1.0/input/input11
> 
> Sorry for the lengthy output that follows. It's from libusb, as
> requested recently in the mailing list.

Thanks for the report and the lsusb output. No need to be sorry, that's 
exactly what I wanted :-)

I've updated the supported devices list on the website.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Jan  6 01:53:58 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 6 Jan 2010 01:53:58 +0100
Subject: [Linux-uvc-devel] Webcam: Microsoft LifeCam VX-800
In-Reply-To: <d1b8d3fc1001021348jf8dc6dcu7f6a3f3dd0d21734@mail.gmail.com>
References: <mailman.2281.1262468740.19088.linux-uvc-devel@lists.berlios.de>
	<d1b8d3fc1001021348jf8dc6dcu7f6a3f3dd0d21734@mail.gmail.com>
Message-ID: <201001060153.58835.laurent.pinchart@ideasonboard.com>

Hi Chetan,

> ---------- Forwarded message ----------
> From: chetan bl <blchetan at gmail.com>
> To: linux-uvc-devel at lists.berlios.de
> Date: Sat, 2 Jan 2010 17:45:35 -0400
> Subject: Webcam: Microsoft LifeCam VX-800
> Webcam: Microsoft LifeCam VX-800 is working.
> 
> 1) I added the following section in uvc_driver.c
> 
>         /* Microsoft Lifecam VX-800 */
>         { .match_flags          = USB_DEVICE_ID_MATCH_DEVICE
> 
>                                 | USB_DEVICE_ID_MATCH_INT_INFO,
> 
>           .idVendor             = 0x045e,
>           .idProduct            = 0x0766,
>           .bInterfaceClass      = USB_CLASS_VIDEO,
>           .bInterfaceSubClass   = 1,
>           .bInterfaceProtocol   = 0,
>           .driver_info          = UVC_QUIRK_PROBE_MINMAX },
> 
> 2) Compiled the uvcvideo.ko module
> 
> make -C /lib/modules/2.6.26/build/ CONFIG_USB_VIDEO_CLASS=m
> SUBDIRS=/home/chetan/linux-2.6.26/drivers/media/video/uvc modules
> 
> 3) Inserting the modules in this order
> 
> insmod compat_ioctl32.ko
> insmod v4l1_compat.ko
> insmod videodev.ko
> insmod uvcvideo.ko
> 
> lsmod: (showing only the needed modules)
> uvcvideo               49800  0
> videodev               29952  1 uvcvideo
> v4l1_compat            16004  2 uvcvideo,videodev
> compat_ioctl32          5248  1 uvcvideo
> 
> 4) In skype->options->Video Devices I was able to see the device Microsoft
> LifeCam VX-800
> (/dev/video0) and test it to see myself in the video.

Thanks for the report.

Could you please confirm that the device didn't work without the patch ? The 
uvcvideo driver should have printed an error message in the kernel log 
(dmesg).

> Thanks to all the developers for this driver.

You're welcome.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Jan  6 01:55:18 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 6 Jan 2010 01:55:18 +0100
Subject: [Linux-uvc-devel] 064e:d101 Suyin Corp. Acer CrystalEye Webcam
	supported with uvcvideo
In-Reply-To: <f5bc463e1001030347u63d5850fp92be82256f9c8572@mail.gmail.com>
References: <f5bc463e1001030347u63d5850fp92be82256f9c8572@mail.gmail.com>
Message-ID: <201001060155.18913.laurent.pinchart@ideasonboard.com>

Hi Nicky,

On Sunday 03 January 2010 12:47:43 Nicky Chorley wrote:
> Hi,
> 
> This is just to make the developers aware that the aforementioned
> webcam is supported with their driver. I have this device in an Acer
> Aspire One (AOA 150-Ab) netbook..

Thanks for the report. Could you please send me the output of

lsusb -v -d 064e:d101

using usbutils 0.72 or newer (0.73+ preferred) ? I'll then update the 
supported devices list on the uvcvideo driver's website.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Jan  6 01:56:54 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 6 Jan 2010 01:56:54 +0100
Subject: [Linux-uvc-devel] Genius iSlim 1300 V2
In-Reply-To: <4B424DB8.8090907@mail.ru>
References: <4B424DB8.8090907@mail.ru>
Message-ID: <201001060156.54364.laurent.pinchart@ideasonboard.com>

Hi,

On Monday 04 January 2010 21:21:12 Freimanis Renars wrote:
> Device ID: 0458:7071
> Name: Genius iSlim 1300 V2
> Manufacturer: Genius
> 
> This device works on openSUSE 11.2

Thanks for the report. Could you please send me the output of

lsusb -v -d 0458:7071

using usbutils 0.72 or newer (0.73+ preferred) ? I'll then update the 
supported devices list on the uvcvideo driver's website.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Jan  6 01:58:59 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 6 Jan 2010 01:58:59 +0100
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
	bandwidth reservation issues?
In-Reply-To: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
References: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
Message-ID: <201001060158.59543.laurent.pinchart@ideasonboard.com>

Hi Seth,

On Tuesday 05 January 2010 16:54:20 Seth W wrote:
> Greetings,
> 
> I have two Microsoft LifeCam Cinema Cameras attached to a single system
> (only one USB 2.0 controller). I have set trace=1024 on uvcvideo and find
> that the driver allocates the same amount of bandwidth regardless of what I
> specify for resolution, fps, or codec in ffmpeg, vlc, etc.
> 
> Example:
> 
> [root at fedora11-test ~]# ffmpeg   -f video4linux2 -s 1280x800 -r 30 -i
> /dev/video1 -f m4v 2-1280-800-maxfps.m4v
> FFmpeg version SVN-r20557-snapshot, Copyright (c) 2000-2009 Fabrice
>  Bellard, et al.
>   built on Nov 22 2009 01:51:55 with gcc 4.4.1 20090725 (Red Hat 4.4.1-2)
>   configuration: --prefix=/usr --libdir=/usr/lib --shlibdir=/usr/lib
> --mandir=/usr/share/man --enable-shared --enable-gpl --enable-version3
> --enable-nonfree --enable-postproc --enable-avfilter --enable-avfilter-lavf
> --enable-pthreads --enable-x11grab --enable-vdpau --disable-avisynth
> --enable-libdc1394 --enable-libdirac --enable-libfaac --enable-libfaad
> --enable-libfaadbin --enable-libgsm --enable-libmp3lame --enable-libnut
> --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
> --enable-libschroedinger --enable-libspeex --enable-libtheora
> --enable-libvorbis --enable-libx264 --enable-libxvid --extra-cflags='-O2 -g
> -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector
> --param=ssp-buffer-size=4 -m32 -march=i586 -mtune=generic
> -fasynchronous-unwind-tables' --disable-stripping
>   libavutil     50. 4. 0 / 50. 4. 0
>   libavcodec    52.41. 0 / 52.41. 0
>   libavformat   52.39. 2 / 52.39. 2
>   libavdevice   52. 2. 0 / 52. 2. 0
>   libavfilter    1. 8. 0 /  1. 8. 0
>   libswscale     0. 7. 1 /  0. 7. 1
>   libpostproc   51. 2. 0 / 51. 2. 0
> [video4linux2 @ 0x858a860][3]Capabilities: 4000001
> Input #0, video4linux2, from '/dev/video1':
>   Duration: N/A, start: 1262673238.027945, bitrate: 491519 kb/s
>     Stream #0.0: Video: rawvideo, yuyv422, 1280x800, 491519 kb/s, 30 tbr,
> 1000k tbn, 30 tbc
> Output #0, m4v, to '2-1280-800-maxfps.m4v':
>     Stream #0.0: Video: mpeg4, yuv420p, 1280x800, q=2-31, 200 kb/s, 90k
>  tbn, 30 tbc
> Stream mapping:
>   Stream #0.0 -> #0.0
> Press [q] to stop encoding
> frame=  147 fps= 30 q=31.0 Lsize=     356kB time=4.90 bitrate= 595.6kbits/s
> video:356kB audio:0kB global headers:0kB muxing overhead 0.000000%
> 
> And from dmesg:
> 
> uvcvideo: Device requested 3072 B/frame bandwidth.
> uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.
> 
> ---
> 
> [root at fedora11-test ~]# ffmpeg   -f video4linux2 -s 640x480 -r 30 -i
> /dev/video1 -f m4v 2-640x480.m4v
> FFmpeg version SVN-r20557-snapshot, Copyright (c) 2000-2009 Fabrice
>  Bellard, et al.
>   built on Nov 22 2009 01:51:55 with gcc 4.4.1 20090725 (Red Hat 4.4.1-2)
>   configuration: --prefix=/usr --libdir=/usr/lib --shlibdir=/usr/lib
> --mandir=/usr/share/man --enable-shared --enable-gpl --enable-version3
> --enable-nonfree --enable-postproc --enable-avfilter --enable-avfilter-lavf
> --enable-pthreads --enable-x11grab --enable-vdpau --disable-avisynth
> --enable-libdc1394 --enable-libdirac --enable-libfaac --enable-libfaad
> --enable-libfaadbin --enable-libgsm --enable-libmp3lame --enable-libnut
> --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
> --enable-libschroedinger --enable-libspeex --enable-libtheora
> --enable-libvorbis --enable-libx264 --enable-libxvid --extra-cflags='-O2 -g
> -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector
> --param=ssp-buffer-size=4 -m32 -march=i586 -mtune=generic
> -fasynchronous-unwind-tables' --disable-stripping
>   libavutil     50. 4. 0 / 50. 4. 0
>   libavcodec    52.41. 0 / 52.41. 0
>   libavformat   52.39. 2 / 52.39. 2
>   libavdevice   52. 2. 0 / 52. 2. 0
>   libavfilter    1. 8. 0 /  1. 8. 0
>   libswscale     0. 7. 1 /  0. 7. 1
>   libpostproc   51. 2. 0 / 51. 2. 0
> [video4linux2 @ 0x9a15860][3]Capabilities: 4000001
> Input #0, video4linux2, from '/dev/video1':
>   Duration: N/A, start: 1262673302.162194, bitrate: 147456 kb/s
>     Stream #0.0: Video: rawvideo, yuyv422, 640x480, 147456 kb/s, 30 tbr,
> 1000k tbn, 30 tbc
> Output #0, m4v, to '2-640x480.m4v':
>     Stream #0.0: Video: mpeg4, yuv420p, 640x480, q=2-31, 200 kb/s, 90k tbn,
> 30 tbc
> Stream mapping:
>   Stream #0.0 -> #0.0
> Press [q] to stop encoding
> frame=  152 fps= 30 q=5.2 Lsize=     347kB time=5.07 bitrate= 561.4kbits/s
> video:347kB audio:0kB global headers:0kB muxing overhead 0.000000%
> 
> 
> and from dmesg:
> 
> vcvideo: Device requested 3072 B/frame bandwidth.
> uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.
> 
> 
> ----
> 
> I had planned on showing the example from dmesg of the same allocation when
> using mencoder with --v4l2-chroma=mjpeg ; but unfortunately the machine is
> remote and just died...
> 
> At any rate, if anyone can verify that this is the (in)correct behavior of
> uvcvideo i would appreciate it (but I am under the impression it is not
> supposed to work this way, and is supposed to allocate bandwidth based on
> the input parameters). I would be happy to provide any debugging
>  information necessary.

Could you please send me the lsusb -v output for your cameras ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Jan  6 02:00:43 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 6 Jan 2010 02:00:43 +0100
Subject: [Linux-uvc-devel] UVC device not listed
In-Reply-To: <4B436935.2070402@gmx.net>
References: <4B436935.2070402@gmx.net>
Message-ID: <201001060200.43687.laurent.pinchart@ideasonboard.com>

Hi Oliver,

On Tuesday 05 January 2010 17:30:45 Oliver B. wrote:
> Hi,
> 
> The listed device:
> 
> 0c45:62c0
> Microdia Sonix USB 2.0 Camera
> 
> is actually also sold as:
> 
> Trust SpotLight Webcam Pro
> (see http://www.trust.com/products/product.aspx?artnr=16428)
> 
> So it should be listed under this name as well in your list.

Thanks for the report. Website updated.

> Thanks a lot for your support.

You're welcome.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Jan  6 02:54:58 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 6 Jan 2010 02:54:58 +0100
Subject: [Linux-uvc-devel] uvcvideo Logitech patch
In-Reply-To: <4B3A3382.4080203@tnode.com>
References: <4B27DD88.3090900@tnode.com>
	<200912262048.53769.laurent.pinchart@ideasonboard.com>
	<4B3A3382.4080203@tnode.com>
Message-ID: <201001060254.58500.laurent.pinchart@ideasonboard.com>

Hi Mitar,

On Tuesday 29 December 2009 17:51:14 Mitar wrote:
> Hi!
> 
> > Could be, but I'd like to know if increasing the control streaming
> > timeout is required as well.
> 
> I had some time now and have tested it and it is enough just to increase
> UVC_CTRL_STREAMING_TIMEOUT to 5000, I left UVC_CTRL_CONTROL_TIMEOUT at
> 300. And everything seems to work.

Thanks. I'll increase the streaming timeout value to 5000.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Jan  6 02:50:24 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 6 Jan 2010 02:50:24 +0100
Subject: [Linux-uvc-devel] Disconnect video out device from non-root hub.
In-Reply-To: <C3C930591D7B9D4083B73AC7CB7A5FF364F475@nl-exc-02.intra.local>
References: <C3C930591D7B9D4083B73AC7CB7A5FF364F475@nl-exc-02.intra.local>
Message-ID: <201001060250.24579.laurent.pinchart@ideasonboard.com>

Hi Robert,

On Tuesday 05 January 2010 13:49:34 Robert Lukassen wrote:
> Hi,
> 
> In Ubuntu 9.10, support for Video Out devices (bulk-only) has been added.

That's right. Just out of curiosity, could you tell me which video output 
device you're working with ? I'm only aware of a single one so far.

Support for isochronous video output devices could also be implemented, feel 
free to contact me if needed.

>  We noticed that when such a device is disconnected from a non-root hub,
>  the queued urbs are returned with usb->status == -EPROTO. The video
>  completion callback cancels the queue, and does not re-submit the urb.
> 
> Because the hub driver needs some time to process the disconnect properly,
>  there is a brief interval in time where queued urbs for the disconnected
>  device do not result in -ESHUTDOWN, as expected, but with other error
>  codes (such as EPROTO).
> 
> We have found that (in case of status == -EPROTO) resubmitting the urb and
>  not canceling the queue results in the correct behaviour. Eventually one
>  of the urbs indeed comes back with status == -ESHUTDOWN and the device is
>  properly administrated as disconnected. Subsequent QBUF attempts then also
>  result in correct user-space experience.
>
> We propose the following simple patch:
> 
> In uvc_video.c:
> 
> static void uvc_video_complete(struct urb *urb)
> {
> 	struct uvc_video_device *video = urb->context;
> 	struct uvc_video_queue *queue = &video->queue;
> 	struct uvc_buffer *buf = NULL;
> 	unsigned long flags;
> 	int ret;
> 
> 	switch (urb->status) {
> 	case 0:
> 		break;
> 
> 	default:
> 		uvc_printk(KERN_WARNING, "Non-zero status (%d) in video "
> 			"completion handler.\n", urb->status);
> +		break;
> 
> 	case -ENOENT:		/* usb_kill_urb() called. */
> 		if (video->frozen)
> 			return;
> 
> 	case -ECONNRESET:	/* usb_unlink_urb() called. */
> 	case -ESHUTDOWN:	/* The endpoint is being disabled. */
> 		uvc_queue_cancel(queue, urb->status == -ESHUTDOWN);
> 		return;
> 	}
> 
> 	spin_lock_irqsave(&queue->irqlock, flags);
> 	if (!list_empty(&queue->irqqueue))
> 		buf = list_first_entry(&queue->irqqueue, struct uvc_buffer,
> 				       queue);
> 	spin_unlock_irqrestore(&queue->irqlock, flags);
> 
> 	video->decode(urb, video, buf);
> 
> 	if ((ret = usb_submit_urb(urb, GFP_ATOMIC)) < 0) {
> 		uvc_printk(KERN_ERR, "Failed to resubmit video URB (%d).\n",
> 			ret);
> 	}
> }

That would work in your case, but devices that constantly return -EPROTO will 
never see their queue canceled and will flood the kernel log.

A possible solution would be to count the number of URBs returning with the -
EPROTO status and cancel the queue only when a hardcoded limit is reached. 
Could you count how many URBs you get back with a -EPROTO state before the 
driver receives -ESHUTDOWN ?

Another solution would be to cancel all buffer queues when the uvc_disconnect 
function is called. The QBUF ioctl could still be called during to "EPROTO - 
ESHUTDOWN" window, but buffers would be woken up again when uvc_disconnect is 
called.

The best solution might be a mix between those two: ignore -EPROTO/-EILSEQ/-
ETIME errors up to a maximum number (the threshold could be the total number 
or errors, or the number of consecutive errors), and cancel the queues anyway 
when the device is disconnected. What's your opinion ?

-- 
Regards,

Laurent Pinchart


From oztiks at yewnix.net  Wed Jan  6 03:54:11 2010
From: oztiks at yewnix.net (Seth W)
Date: Tue, 5 Jan 2010 21:54:11 -0500
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
	bandwidth reservation issues?
In-Reply-To: <201001060158.59543.laurent.pinchart@ideasonboard.com>
References: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
	<201001060158.59543.laurent.pinchart@ideasonboard.com>
Message-ID: <e77a8d391001051854u4fd3b1efwa7a32c2f062c3a37@mail.gmail.com>

Here you are. Thanks  in advance for your assistance. (PS - Please note
there are two cameras, both same make/model therefore share the same ID)


Bus 001 Device 003: ID 045e:075d Microsoft Corp.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x045e Microsoft Corp.
  idProduct          0x075d
  bcdDevice            1.00
  iManufacturer           1 Microsoft
  iProduct                2 Microsoft? LifeCam Cinema(TM)
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1429
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               4 Microsoft? LifeCam Cinema(TM)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              4 Microsoft? LifeCam Cinema(TM)
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           85
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00020a2a
          Auto-Exposure Mode
          Exposure Time (Absolute)
          Focus (Absolute)
          Zoom (Absolute)
          PanTilt (Absolute)
          Focus, Auto
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      4 (SELECTOR_UNIT)
        bUnitID                 3
        bNrInPins               1
        baSource( 0)            1
        iSelector               0
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 4
        bSourceID               3
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000155b
          Brightness
          Contrast
          Saturation
          Sharpness
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0
        bmVideoStandards     0x1b
          None
          NTSC - 525/60
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                27
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 5
        guidExtensionCode         {29a787c9-d359-6945-8467-ff0849fc19e8}
        bNumControl            16
        bNrPins                 1
        baSourceID( 0)          4
        bControlSize            2
        bmControls( 0)       0xff
        bmControls( 1)       0xff
        iExtension              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval               8
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                        2
        wTotalLength                     1075
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 1
        bTriggerSupport                     1
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
        bmaControls( 1)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors               12
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 36864000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                           1280
        wHeight                           720
        dwMinBitRate                110592000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize     1843200
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1000000
        dwFrameInterval( 1)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            960
        wHeight                           544
        dwMinBitRate                 62668800
        dwMaxBitRate                125337600
        dwMaxVideoFrameBufferSize     1044480
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  3
        dwFrameInterval( 0)            666666
        dwFrameInterval( 1)           1000000
        dwFrameInterval( 2)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            800
        wHeight                           448
        dwMinBitRate                 43008000
        dwMaxBitRate                114688000
        dwMaxVideoFrameBufferSize      716800
        dwDefaultFrameInterval         500000
        bFrameIntervalType                  4
        dwFrameInterval( 0)            500000
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           360
        dwMinBitRate                 27648000
        dwMaxBitRate                110592000
        dwMaxVideoFrameBufferSize      460800
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x01
          Still image supported
        wWidth                            424
        wHeight                           240
        dwMinBitRate                 12211200
        dwMaxBitRate                 48844800
        dwMaxVideoFrameBufferSize      203520
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         7
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                 12165120
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         8
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  9216000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         9
        bmCapabilities                   0x01
          Still image supported
        wWidth                            800
        wHeight                           600
        dwMinBitRate                 57600000
        dwMaxBitRate                115200000
        dwMaxVideoFrameBufferSize      960000
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  3
        dwFrameInterval( 0)            666666
        dwFrameInterval( 1)           1000000
        dwFrameInterval( 2)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                        10
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  3041280
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                        11
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  2304000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                        12
        bmCapabilities                   0x01
          Still image supported
        wWidth                           1280
        wHeight                           800
        dwMinBitRate                163840000
        dwMaxBitRate                163840000
        dwMaxVideoFrameBufferSize     2048000
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  1
        dwFrameInterval( 0)           1000000
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        2
        bNumFrameDescriptors               11
        bFlags                              0
          Fixed-size samples: No
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 36864000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                           1280
        wHeight                           720
        dwMinBitRate                110592000
        dwMaxBitRate                442368000
        dwMaxVideoFrameBufferSize     1843200
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            960
        wHeight                           544
        dwMinBitRate                 62668800
        dwMaxBitRate                250675200
        dwMaxVideoFrameBufferSize     1044480
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            800
        wHeight                           448
        dwMinBitRate                 43008000
        dwMaxBitRate                172032000
        dwMaxVideoFrameBufferSize      716800
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           360
        dwMinBitRate                 27648000
        dwMaxBitRate                110592000
        dwMaxVideoFrameBufferSize      460800
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         6
        bmCapabilities                   0x01
          Still image supported
        wWidth                            800
        wHeight                           600
        dwMinBitRate                 57600000
        dwMaxBitRate                230400000
        dwMaxVideoFrameBufferSize      960000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         7
        bmCapabilities                   0x01
          Still image supported
        wWidth                            416
        wHeight                           240
        dwMinBitRate                 11980800
        dwMaxBitRate                 47923200
        dwMaxVideoFrameBufferSize      199680
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         8
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                 12165120
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         9
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  3041280
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                        10
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  9216000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                        11
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  2304000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0400  1x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0c00  2x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       2 Streaming
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           39
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0202 Desktop Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 5
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x01
          Mute
        bmaControls( 1)      0x02
          Volume
        iFeature                0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          1
        bSourceID               5
        iTerminal               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                29
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            7 Discrete
        tSamFreq[ 0]         8000
        tSamFreq[ 1]        16000
        tSamFreq[ 2]        22050
        tSamFreq[ 3]        24000
        tSamFreq[ 4]        32000
        tSamFreq[ 5]        44100
        tSamFreq[ 6]        48000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)
Bus 001 Device 004: ID 045e:075d Microsoft Corp.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x045e Microsoft Corp.
  idProduct          0x075d
  bcdDevice            1.00
  iManufacturer           1 Microsoft
  iProduct                2 Microsoft? LifeCam Cinema(TM)
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1429
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               4 Microsoft? LifeCam Cinema(TM)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              4 Microsoft? LifeCam Cinema(TM)
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           85
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00020a2a
          Auto-Exposure Mode
          Exposure Time (Absolute)
          Focus (Absolute)
          Zoom (Absolute)
          PanTilt (Absolute)
          Focus, Auto
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      4 (SELECTOR_UNIT)
        bUnitID                 3
        bNrInPins               1
        baSource( 0)            1
        iSelector               0
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 4
        bSourceID               3
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000155b
          Brightness
          Contrast
          Saturation
          Sharpness
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0
        bmVideoStandards     0x1b
          None
          NTSC - 525/60
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                27
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 5
        guidExtensionCode         {29a787c9-d359-6945-8467-ff0849fc19e8}
        bNumControl            16
        bNrPins                 1
        baSourceID( 0)          4
        bControlSize            2
        bmControls( 0)       0xff
        bmControls( 1)       0xff
        iExtension              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval               8
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                        2
        wTotalLength                     1075
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 1
        bTriggerSupport                     1
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
        bmaControls( 1)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors               12
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 36864000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                           1280
        wHeight                           720
        dwMinBitRate                110592000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize     1843200
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1000000
        dwFrameInterval( 1)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            960
        wHeight                           544
        dwMinBitRate                 62668800
        dwMaxBitRate                125337600
        dwMaxVideoFrameBufferSize     1044480
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  3
        dwFrameInterval( 0)            666666
        dwFrameInterval( 1)           1000000
        dwFrameInterval( 2)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            800
        wHeight                           448
        dwMinBitRate                 43008000
        dwMaxBitRate                114688000
        dwMaxVideoFrameBufferSize      716800
        dwDefaultFrameInterval         500000
        bFrameIntervalType                  4
        dwFrameInterval( 0)            500000
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           360
        dwMinBitRate                 27648000
        dwMaxBitRate                110592000
        dwMaxVideoFrameBufferSize      460800
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x01
          Still image supported
        wWidth                            424
        wHeight                           240
        dwMinBitRate                 12211200
        dwMaxBitRate                 48844800
        dwMaxVideoFrameBufferSize      203520
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         7
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                 12165120
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         8
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  9216000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         9
        bmCapabilities                   0x01
          Still image supported
        wWidth                            800
        wHeight                           600
        dwMinBitRate                 57600000
        dwMaxBitRate                115200000
        dwMaxVideoFrameBufferSize      960000
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  3
        dwFrameInterval( 0)            666666
        dwFrameInterval( 1)           1000000
        dwFrameInterval( 2)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                        10
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  3041280
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                        11
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  2304000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                        12
        bmCapabilities                   0x01
          Still image supported
        wWidth                           1280
        wHeight                           800
        dwMinBitRate                163840000
        dwMaxBitRate                163840000
        dwMaxVideoFrameBufferSize     2048000
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  1
        dwFrameInterval( 0)           1000000
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        2
        bNumFrameDescriptors               11
        bFlags                              0
          Fixed-size samples: No
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 36864000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                           1280
        wHeight                           720
        dwMinBitRate                110592000
        dwMaxBitRate                442368000
        dwMaxVideoFrameBufferSize     1843200
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            960
        wHeight                           544
        dwMinBitRate                 62668800
        dwMaxBitRate                250675200
        dwMaxVideoFrameBufferSize     1044480
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            800
        wHeight                           448
        dwMinBitRate                 43008000
        dwMaxBitRate                172032000
        dwMaxVideoFrameBufferSize      716800
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           360
        dwMinBitRate                 27648000
        dwMaxBitRate                110592000
        dwMaxVideoFrameBufferSize      460800
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         6
        bmCapabilities                   0x01
          Still image supported
        wWidth                            800
        wHeight                           600
        dwMinBitRate                 57600000
        dwMaxBitRate                230400000
        dwMaxVideoFrameBufferSize      960000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         7
        bmCapabilities                   0x01
          Still image supported
        wWidth                            416
        wHeight                           240
        dwMinBitRate                 11980800
        dwMaxBitRate                 47923200
        dwMaxVideoFrameBufferSize      199680
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         8
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                 12165120
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         9
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  3041280
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                        10
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  9216000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                        11
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  2304000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1333333
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0400  1x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0c00  2x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       2 Streaming
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           39
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0202 Desktop Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 5
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x01
          Mute
        bmaControls( 1)      0x02
          Volume
        iFeature                0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          1
        bSourceID               5
        iTerminal               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                29
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            7 Discrete
        tSamFreq[ 0]         8000
        tSamFreq[ 1]        16000
        tSamFreq[ 2]        22050
        tSamFreq[ 3]        24000
        tSamFreq[ 4]        32000
        tSamFreq[ 5]        44100
        tSamFreq[ 6]        48000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)

----------------------------------------------------------

On Tue, Jan 5, 2010 at 7:58 PM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi Seth,
>
> On Tuesday 05 January 2010 16:54:20 Seth W wrote:
> > Greetings,
> >
> > I have two Microsoft LifeCam Cinema Cameras attached to a single system
> > (only one USB 2.0 controller). I have set trace=1024 on uvcvideo and find
> > that the driver allocates the same amount of bandwidth regardless of what
> I
> > specify for resolution, fps, or codec in ffmpeg, vlc, etc.
> >
> > Example:
> >
> > [root at fedora11-test ~]# ffmpeg   -f video4linux2 -s 1280x800 -r 30 -i
> > /dev/video1 -f m4v 2-1280-800-maxfps.m4v
> > FFmpeg version SVN-r20557-snapshot, Copyright (c) 2000-2009 Fabrice
> >  Bellard, et al.
> >   built on Nov 22 2009 01:51:55 with gcc 4.4.1 20090725 (Red Hat 4.4.1-2)
> >   configuration: --prefix=/usr --libdir=/usr/lib --shlibdir=/usr/lib
> > --mandir=/usr/share/man --enable-shared --enable-gpl --enable-version3
> > --enable-nonfree --enable-postproc --enable-avfilter
> --enable-avfilter-lavf
> > --enable-pthreads --enable-x11grab --enable-vdpau --disable-avisynth
> > --enable-libdc1394 --enable-libdirac --enable-libfaac --enable-libfaad
> > --enable-libfaadbin --enable-libgsm --enable-libmp3lame --enable-libnut
> > --enable-libopencore-amrnb --enable-libopencore-amrwb
> --enable-libopenjpeg
> > --enable-libschroedinger --enable-libspeex --enable-libtheora
> > --enable-libvorbis --enable-libx264 --enable-libxvid --extra-cflags='-O2
> -g
> > -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector
> > --param=ssp-buffer-size=4 -m32 -march=i586 -mtune=generic
> > -fasynchronous-unwind-tables' --disable-stripping
> >   libavutil     50. 4. 0 / 50. 4. 0
> >   libavcodec    52.41. 0 / 52.41. 0
> >   libavformat   52.39. 2 / 52.39. 2
> >   libavdevice   52. 2. 0 / 52. 2. 0
> >   libavfilter    1. 8. 0 /  1. 8. 0
> >   libswscale     0. 7. 1 /  0. 7. 1
> >   libpostproc   51. 2. 0 / 51. 2. 0
> > [video4linux2 @ 0x858a860][3]Capabilities: 4000001
> > Input #0, video4linux2, from '/dev/video1':
> >   Duration: N/A, start: 1262673238.027945, bitrate: 491519 kb/s
> >     Stream #0.0: Video: rawvideo, yuyv422, 1280x800, 491519 kb/s, 30 tbr,
> > 1000k tbn, 30 tbc
> > Output #0, m4v, to '2-1280-800-maxfps.m4v':
> >     Stream #0.0: Video: mpeg4, yuv420p, 1280x800, q=2-31, 200 kb/s, 90k
> >  tbn, 30 tbc
> > Stream mapping:
> >   Stream #0.0 -> #0.0
> > Press [q] to stop encoding
> > frame=  147 fps= 30 q=31.0 Lsize=     356kB time=4.90 bitrate=
> 595.6kbits/s
> > video:356kB audio:0kB global headers:0kB muxing overhead 0.000000%
> >
> > And from dmesg:
> >
> > uvcvideo: Device requested 3072 B/frame bandwidth.
> > uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.
> >
> > ---
> >
> > [root at fedora11-test ~]# ffmpeg   -f video4linux2 -s 640x480 -r 30 -i
> > /dev/video1 -f m4v 2-640x480.m4v
> > FFmpeg version SVN-r20557-snapshot, Copyright (c) 2000-2009 Fabrice
> >  Bellard, et al.
> >   built on Nov 22 2009 01:51:55 with gcc 4.4.1 20090725 (Red Hat 4.4.1-2)
> >   configuration: --prefix=/usr --libdir=/usr/lib --shlibdir=/usr/lib
> > --mandir=/usr/share/man --enable-shared --enable-gpl --enable-version3
> > --enable-nonfree --enable-postproc --enable-avfilter
> --enable-avfilter-lavf
> > --enable-pthreads --enable-x11grab --enable-vdpau --disable-avisynth
> > --enable-libdc1394 --enable-libdirac --enable-libfaac --enable-libfaad
> > --enable-libfaadbin --enable-libgsm --enable-libmp3lame --enable-libnut
> > --enable-libopencore-amrnb --enable-libopencore-amrwb
> --enable-libopenjpeg
> > --enable-libschroedinger --enable-libspeex --enable-libtheora
> > --enable-libvorbis --enable-libx264 --enable-libxvid --extra-cflags='-O2
> -g
> > -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector
> > --param=ssp-buffer-size=4 -m32 -march=i586 -mtune=generic
> > -fasynchronous-unwind-tables' --disable-stripping
> >   libavutil     50. 4. 0 / 50. 4. 0
> >   libavcodec    52.41. 0 / 52.41. 0
> >   libavformat   52.39. 2 / 52.39. 2
> >   libavdevice   52. 2. 0 / 52. 2. 0
> >   libavfilter    1. 8. 0 /  1. 8. 0
> >   libswscale     0. 7. 1 /  0. 7. 1
> >   libpostproc   51. 2. 0 / 51. 2. 0
> > [video4linux2 @ 0x9a15860][3]Capabilities: 4000001
> > Input #0, video4linux2, from '/dev/video1':
> >   Duration: N/A, start: 1262673302.162194, bitrate: 147456 kb/s
> >     Stream #0.0: Video: rawvideo, yuyv422, 640x480, 147456 kb/s, 30 tbr,
> > 1000k tbn, 30 tbc
> > Output #0, m4v, to '2-640x480.m4v':
> >     Stream #0.0: Video: mpeg4, yuv420p, 640x480, q=2-31, 200 kb/s, 90k
> tbn,
> > 30 tbc
> > Stream mapping:
> >   Stream #0.0 -> #0.0
> > Press [q] to stop encoding
> > frame=  152 fps= 30 q=5.2 Lsize=     347kB time=5.07 bitrate=
> 561.4kbits/s
> > video:347kB audio:0kB global headers:0kB muxing overhead 0.000000%
> >
> >
> > and from dmesg:
> >
> > vcvideo: Device requested 3072 B/frame bandwidth.
> > uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.
> >
> >
> > ----
> >
> > I had planned on showing the example from dmesg of the same allocation
> when
> > using mencoder with --v4l2-chroma=mjpeg ; but unfortunately the machine
> is
> > remote and just died...
> >
> > At any rate, if anyone can verify that this is the (in)correct behavior
> of
> > uvcvideo i would appreciate it (but I am under the impression it is not
> > supposed to work this way, and is supposed to allocate bandwidth based on
> > the input parameters). I would be happy to provide any debugging
> >  information necessary.
>
> Could you please send me the lsusb -v output for your cameras ?
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100105/d0353d36/attachment.html>

From anto.costantino at gmail.com  Fri Jan  8 20:47:21 2010
From: anto.costantino at gmail.com (Antonio C. Costantino)
Date: Fri, 8 Jan 2010 20:47:21 +0100
Subject: [Linux-uvc-devel] Philips webcam spc2050nc support
In-Reply-To: <200910271116.47154.laurent.pinchart@ideasonboard.com>
References: <200910261305.59080.anto.costantino@gmail.com>
	<200910271116.47154.laurent.pinchart@ideasonboard.com>
Message-ID: <201001082047.21837.anto.costantino@gmail.com>

Hi Laurent,

In data marted? 27 ottobre 2009 11:16:47, Laurent Pinchart ha scritto:
> Hi Antonio,
> 
> On Monday 26 October 2009 13:05:58 Antonio C. Costantino wrote:
> > Hi all,
> >
> > I'm pretty new to the Linux "video sphere", so I thought writing to the
> >  list to get some facts about a webcam I'd like to buy.
> >
> > Indeed, I'm going to buy a spc2050nc from Philips. I was induced to
> > Philips by the extensive list of supported devices at this link
> > (http://linux- uvc.berlios.de/).

I finally got it.

> >
> > Although the spc2050nc is not listed as a supported device, the
> > data-sheet
> > (http://www.p4c.philips.com/files/s/spc2050nc_93/spc2050nc_93_pss_aen.pdf
> >) states clearly that the webcam is an UVC USB video class. So my question
> > is, being it a UVC device, will it work out of the box? or will I need to
> > provide you with some data for you to "enable" spc2050nc support?
> 
> It should work out of the box. At least in theory :-)

It works indeed, although I'm still checking different programmes and 
resolutions.

> 
> In practice webcams can be buggy. The same applies to the uvcvideo driver
>  of course, but experience showed that there are nowadays more bugs in the
>  webcams than in the driver.
> 
> The uvcvideo driver has a list of "quirks" it can use for various devices
>  that are not 100% UVC compatible. If you're not lucky your camera will
>  need one of those, and you'll have to pass an extra parameter when loading
>  the driver until I fix it. If you're really not lucky your camera will
>  require a new quirk and will steal a few hours of my sleep. And if you're
>  really really really not lucky it might not work at all, but that tends to
>  be quite uncommon nowadays.
> 

When you have time, tell me what output I may provide you in order to add the 
device to the list of supported webcams.


Regards,
Antonio


From dotancohen at gmail.com  Sat Jan  9 00:35:15 2010
From: dotancohen at gmail.com (Dotan Cohen)
Date: Sat, 9 Jan 2010 01:35:15 +0200
Subject: [Linux-uvc-devel] Philips webcam spc2050nc support
In-Reply-To: <201001082047.21837.anto.costantino@gmail.com>
References: <200910261305.59080.anto.costantino@gmail.com>
	<200910271116.47154.laurent.pinchart@ideasonboard.com>
	<201001082047.21837.anto.costantino@gmail.com>
Message-ID: <880dece01001081535i7b2eb991ga3a9a6a6706b6ab2@mail.gmail.com>

>> > Although the spc2050nc is not listed as a supported device, the
>> > data-sheet
>> > (http://www.p4c.philips.com/files/s/spc2050nc_93/spc2050nc_93_pss_aen.pdf
>> >) states clearly that the webcam is an UVC USB video class. So my question
>> > is, being it a UVC device, will it work out of the box? or will I need to
>> > provide you with some data for you to "enable" spc2050nc support?
>>
>> It should work out of the box. At least in theory :-)
>
> It works indeed, although I'm still checking different programmes and
> resolutions.
>

I also have a very similar camera. For you it works out of the box?
With what distro? With what software? Skype? Kopete?


-- 
Dotan Cohen

http://what-is-what.com
http://gibberish.co.il


From anto.costantino at gmail.com  Sat Jan  9 10:03:21 2010
From: anto.costantino at gmail.com (Antonio C. Costantino)
Date: Sat, 9 Jan 2010 10:03:21 +0100
Subject: [Linux-uvc-devel] Philips webcam spc2050nc support
In-Reply-To: <880dece01001081535i7b2eb991ga3a9a6a6706b6ab2@mail.gmail.com>
References: <200910261305.59080.anto.costantino@gmail.com>
	<201001082047.21837.anto.costantino@gmail.com>
	<880dece01001081535i7b2eb991ga3a9a6a6706b6ab2@mail.gmail.com>
Message-ID: <201001091003.21636.anto.costantino@gmail.com>

In data sabato 09 gennaio 2010 00:35:15, Dotan Cohen ha scritto:
> >> > Although the spc2050nc is not listed as a supported device, the
> >> > data-sheet
> >> > (http://www.p4c.philips.com/files/s/spc2050nc_93/spc2050nc_93_pss_aen.
> >> >pdf ) states clearly that the webcam is an UVC USB video class. So my
> >> > question is, being it a UVC device, will it work out of the box? or
> >> > will I need to provide you with some data for you to "enable"
> >> > spc2050nc support?
> >>
> >> It should work out of the box. At least in theory :-)
> >
> > It works indeed, although I'm still checking different programmes and
> > resolutions.
> 
> I also have a very similar camera. For you it works out of the box?
> With what distro? With what software? Skype? Kopete?
> 

Well, actually I didn't do anything else than plugging the camera usb. So yes, 
it works out of the box.

I'm with kubuntu 9.10, 2.6.31-17-generic. So far I positively tried Cheese, 
Skype, Kopete and Ekiga.


Regards,
Antonio


From laurent.pinchart at ideasonboard.com  Sat Jan  9 13:11:19 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 9 Jan 2010 13:11:19 +0100
Subject: [Linux-uvc-devel] Philips webcam spc2050nc support
In-Reply-To: <201001082047.21837.anto.costantino@gmail.com>
References: <200910261305.59080.anto.costantino@gmail.com>
	<200910271116.47154.laurent.pinchart@ideasonboard.com>
	<201001082047.21837.anto.costantino@gmail.com>
Message-ID: <201001091311.19422.laurent.pinchart@ideasonboard.com>

Hi Antonio,

On Friday 08 January 2010 20:47:21 Antonio C. Costantino wrote:
> In data marted? 27 ottobre 2009 11:16:47, Laurent Pinchart ha scritto:
> > On Monday 26 October 2009 13:05:58 Antonio C. Costantino wrote:
> > > Hi all,
> > >
> > > I'm pretty new to the Linux "video sphere", so I thought writing to the
> > >  list to get some facts about a webcam I'd like to buy.
> > >
> > > Indeed, I'm going to buy a spc2050nc from Philips. I was induced to
> > > Philips by the extensive list of supported devices at this link
> > > (http://linux- uvc.berlios.de/).
> 
> I finally got it.
> 
> > > Although the spc2050nc is not listed as a supported device, the
> > > data-sheet
> > > (http://www.p4c.philips.com/files/s/spc2050nc_93/spc2050nc_93_pss_aen.p
> > >df ) states clearly that the webcam is an UVC USB video class. So my
> > > question is, being it a UVC device, will it work out of the box? or
> > > will I need to provide you with some data for you to "enable" spc2050nc
> > > support?
> >
> > It should work out of the box. At least in theory :-)
> 
> It works indeed, although I'm still checking different programmes and
> resolutions.
> 
> > In practice webcams can be buggy. The same applies to the uvcvideo driver
> >  of course, but experience showed that there are nowadays more bugs in
> > the webcams than in the driver.
> >
> > The uvcvideo driver has a list of "quirks" it can use for various devices
> >  that are not 100% UVC compatible. If you're not lucky your camera will
> >  need one of those, and you'll have to pass an extra parameter when
> > loading the driver until I fix it. If you're really not lucky your camera
> > will require a new quirk and will steal a few hours of my sleep. And if
> > you're really really really not lucky it might not work at all, but that
> > tends to be quite uncommon nowadays.
> 
> When you have time, tell me what output I may provide you in order to add
>  the device to the list of supported webcams.

All I need it the output of lsusb -v for your webcam.

-- 
Regards,

Laurent Pinchart


From anto.costantino at gmail.com  Sat Jan  9 14:40:52 2010
From: anto.costantino at gmail.com (Antonio C. Costantino)
Date: Sat, 9 Jan 2010 14:40:52 +0100
Subject: [Linux-uvc-devel] Philips webcam spc2050nc support
In-Reply-To: <201001091311.19422.laurent.pinchart@ideasonboard.com>
References: <200910261305.59080.anto.costantino@gmail.com>
	<201001082047.21837.anto.costantino@gmail.com>
	<201001091311.19422.laurent.pinchart@ideasonboard.com>
Message-ID: <201001091440.53048.anto.costantino@gmail.com>

[...]

> >
> > When you have time, tell me what output I may provide you in order to add
> >  the device to the list of supported webcams.
> 
> All I need it the output of lsusb -v for your webcam.
> 

I'm sending it as attachment (does it look "good"?)

Regards,
A.
-------------- next part --------------
Bus 001 Device 007: ID 0471:2038 Philips 
Device Descriptor:                       
  bLength                18              
  bDescriptorType         1              
  bcdUSB               2.00              
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?                   
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64                      
  idVendor           0x0471 Philips              
  idProduct          0x2038                      
  bcdDevice            1.00                      
  iManufacturer           2 Philips              
  iProduct                1 Philips SPC 2050NC   
  iSerial                 0                      
  bNumConfigurations      1                      
  Configuration Descriptor:                      
    bLength                 9                    
    bDescriptorType         2                    
    wTotalLength         1173                    
    bNumInterfaces          4                    
    bConfigurationValue     1                    
    iConfiguration          0                    
    bmAttributes         0x80                    
      (Bus Powered)                              
    MaxPower              500mA                  
    Interface Association:                       
      bLength                 8                  
      bDescriptorType        11                  
      bFirstInterface         0                  
      bInterfaceCount         2                  
      bFunctionClass         14 Video            
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0                           
      iFunction               5 Philips SPC 2050NC        
    Interface Descriptor:                                 
      bLength                 9                           
      bDescriptorType         4                           
      bInterfaceNumber        0                           
      bAlternateSetting       0                           
      bNumEndpoints           1                           
      bInterfaceClass        14 Video                     
      bInterfaceSubClass      1 Video Control             
      bInterfaceProtocol      0                           
      iInterface              5 Philips SPC 2050NC        
      VideoControl Interface Descriptor:                  
        bLength                13                         
        bDescriptorType        36                         
        bDescriptorSubtype      1 (HEADER)                
        bcdUVC               1.00                         
        wTotalLength          103                         
        dwClockFrequency       15.000000MHz               
        bInCollection           1                         
        baInterfaceNr( 0)       1                         
      VideoControl Interface Descriptor:                  
        bLength                 9                         
        bDescriptorType        36                         
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)       
        bTerminalID             2                         
        wTerminalType      0x0101 USB Streaming           
        bAssocTerminal          0                         
        bSourceID               5                         
        iTerminal               0                         
      VideoControl Interface Descriptor:                  
        bLength                26                         
        bDescriptorType        36                         
        bDescriptorSubtype      6 (EXTENSION_UNIT)        
        bUnitID                 4                         
        guidExtensionCode         {7033f028-1163-2e4a-ba2c-6890eb334016}
        bNumControl             8                                       
        bNrPins                 1                                       
        baSourceID( 0)          3                                       
        bControlSize            1                                       
        bmControls( 0)       0x3f                                       
        iExtension              0                                       
      VideoControl Interface Descriptor:                                
        bLength                26                                       
        bDescriptorType        36                                       
        bDescriptorSubtype      6 (EXTENSION_UNIT)                      
        bUnitID                 5                                       
        guidExtensionCode         {3fae1228-d7bc-114e-a357-6f1edef7d61d}
        bNumControl             8                                       
        bNrPins                 1                                       
        baSourceID( 0)          4                                       
        bControlSize            1                                       
        bmControls( 0)       0x00                                       
        iExtension              0                                       
      VideoControl Interface Descriptor:                                
        bLength                18                                       
        bDescriptorType        36                                       
        bDescriptorSubtype      2 (INPUT_TERMINAL)                      
        bTerminalID             1                                       
        wTerminalType      0x0201 Camera Sensor                         
        bAssocTerminal          0                                       
        iTerminal               0                                       
        wObjectiveFocalLengthMin      0                                 
        wObjectiveFocalLengthMax      0                                 
        wOcularFocalLength            0                                 
        bControlSize                  3                                 
        bmControls           0x00020a2e                                 
          Auto-Exposure Mode                                            
          Auto-Exposure Priority                                        
          Exposure Time (Absolute)                                      
          Focus (Absolute)                                              
          Zoom (Absolute)                                               
          PanTilt (Absolute)                                            
          Focus, Auto                                                   
      VideoControl Interface Descriptor:                                
        bLength                11                                       
        bDescriptorType        36                                       
        bDescriptorSubtype      5 (PROCESSING_UNIT)                     
      Warning: Descriptor too short                                     
        bUnitID                 3                                       
        bSourceID               1                                       
        wMaxMultiplier          0                                       
        bControlSize            2                                       
        bmControls     0x0000177f                                       
          Brightness                                                    
          Contrast                                                      
          Hue                                                           
          Saturation                                                    
          Sharpness                                                     
          Gamma                                                         
          White Balance Temperature                                     
          Backlight Compensation                                        
          Gain                                                          
          Power Line Frequency                                          
          White Balance Temperature, Auto                               
        iProcessing             0                                       
        bmVideoStandards     0x 0                                       
      Endpoint Descriptor:                                              
        bLength                 7                                       
        bDescriptorType         5                                       
        bEndpointAddress     0x83  EP 3 IN                              
        bmAttributes            3                                       
          Transfer Type            Interrupt                            
          Synch Type               None                                 
          Usage Type               Data                                 
        wMaxPacketSize     0x0010  1x 16 bytes                          
        bInterval               6                                       
    Interface Descriptor:                                               
      bLength                 9                                         
      bDescriptorType         4                                         
      bInterfaceNumber        1                                         
      bAlternateSetting       0                                         
      bNumEndpoints           0                                         
      bInterfaceClass        14 Video                                   
      bInterfaceSubClass      2 Video Streaming                         
      bInterfaceProtocol      0                                         
      iInterface              0                                         
      VideoStreaming Interface Descriptor:                              
        bLength                            15                           
        bDescriptorType                    36                           
        bDescriptorSubtype                  1 (INPUT_HEADER)            
        bNumFormats                         2                           
        wTotalLength                      806                           
        bEndPointAddress                  129                           
        bmInfo                              0                           
        bTerminalLink                       2                           
        bStillCaptureMethod                 2                           
        bTriggerSupport                     1                           
        bTriggerUsage                       1                           
        bControlSize                        1                           
        bmaControls( 0)                    27                           
        bmaControls( 1)                    27                           
      VideoStreaming Interface Descriptor:                              
        bLength                            27                           
        bDescriptorType                    36                           
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)     
        bFormatIndex                        1                           
        bNumFrameDescriptors                8                           
        guidFormat                            {59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16                                       
        bDefaultFrameIndex                  1                                       
        bAspectRatioX                       0                                       
        bAspectRatioY                       0                                       
        bmInterlaceFlags                 0x00                                       
          Interlaced stream or variable: No                                         
          Fields per frame: 1 fields                                                
          Field 1 first: No                                                         
          Field pattern: Field 1 only                                               
          bCopyProtect                      0                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)                  
        bFrameIndex                         1                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            640                                       
        wHeight                           480                                       
        dwMinBitRate                  3072000                                       
        dwMaxBitRate                 18432000                                       
        dwMaxVideoFrameBufferSize      614400                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)                  
        bFrameIndex                         2                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            352                                       
        wHeight                           288                                       
        dwMinBitRate                  1013760                                       
        dwMaxBitRate                  6082560                                       
        dwMaxVideoFrameBufferSize      202752                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)                  
        bFrameIndex                         3                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            320                                       
        wHeight                           240                                       
        dwMinBitRate                   768000                                       
        dwMaxBitRate                  4608000                                       
        dwMaxVideoFrameBufferSize      153600                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)                  
        bFrameIndex                         4                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            176                                       
        wHeight                           144                                       
        dwMinBitRate                   253440                                       
        dwMaxBitRate                  1520640                                       
        dwMaxVideoFrameBufferSize       50688                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)                  
        bFrameIndex                         5                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            160                                       
        wHeight                           120                                       
        dwMinBitRate                   192000                                       
        dwMaxBitRate                  1152000                                       
        dwMaxVideoFrameBufferSize       38400                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            42                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)                  
        bFrameIndex                         6                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            800                                       
        wHeight                           600                                       
        dwMinBitRate                  4800000                                       
        dwMaxBitRate                 19200000                                       
        dwMaxVideoFrameBufferSize      960000                                       
        dwDefaultFrameInterval         500000                                       
        bFrameIntervalType                  4                                       
        dwFrameInterval( 0)            500000                                       
        dwFrameInterval( 1)            666666                                       
        dwFrameInterval( 2)           1000000                                       
        dwFrameInterval( 3)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            30                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)                  
        bFrameIndex                         7                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                           1280                                       
        wHeight                           960                                       
        dwMinBitRate                 14745600                                       
        dwMaxBitRate                 14745600                                       
        dwMaxVideoFrameBufferSize     2457600                                       
        dwDefaultFrameInterval        1666666                                       
        bFrameIntervalType                  1                                       
        dwFrameInterval( 0)           1666666                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            30                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)                  
        bFrameIndex                         8                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                           1600                                       
        wHeight                          1200                                       
        dwMinBitRate                 23040000                                       
        dwMaxBitRate                 23040000                                       
        dwMaxVideoFrameBufferSize     3840000                                       
        dwDefaultFrameInterval        1666666                                       
        bFrameIntervalType                  1                                       
        dwFrameInterval( 0)           1666666                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            38                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)                   
        bEndpointAddress                    0                                       
        bNumImageSizePatterns               8                                       
        wWidth( 0)                       1600                                       
        wHeight( 0)                      1200                                       
        wWidth( 1)                       1280                                       
        wHeight( 1)                       960                                       
        wWidth( 2)                        800                                       
        wHeight( 2)                       600                                       
        wWidth( 3)                        640                                       
        wHeight( 3)                       480                                       
        wWidth( 4)                        352                                       
        wHeight( 4)                       288                                       
        wWidth( 5)                        320                                       
        wHeight( 5)                       240                                       
        wWidth( 6)                        176                                       
        wHeight( 6)                       144                                       
        wWidth( 7)                        160                                       
        wHeight( 7)                       120                                       
        bNumCompressionPatterns             8                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            11                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  6 (FORMAT_MJPEG)                        
        bFormatIndex                        2                                       
        bNumFrameDescriptors                7                                       
        bFlags                              0                                       
          Fixed-size samples: No                                                    
        bDefaultFrameIndex                  1                                       
        bAspectRatioX                       0                                       
        bAspectRatioY                       0                                       
        bmInterlaceFlags                 0x00                                       
          Interlaced stream or variable: No                                         
          Fields per frame: 1 fields                                                
          Field 1 first: No                                                         
          Field pattern: Field 1 only                                               
          bCopyProtect                      0                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  7 (FRAME_MJPEG)                         
        bFrameIndex                         1                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            640                                       
        wHeight                           480                                       
        dwMinBitRate                   384000                                       
        dwMaxBitRate                  2304000                                       
        dwMaxVideoFrameBufferSize       76800                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  7 (FRAME_MJPEG)                         
        bFrameIndex                         2                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            352                                       
        wHeight                           288                                       
        dwMinBitRate                   126720                                       
        dwMaxBitRate                   760320                                       
        dwMaxVideoFrameBufferSize       25344                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  7 (FRAME_MJPEG)                         
        bFrameIndex                         3                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            320                                       
        wHeight                           240                                       
        dwMinBitRate                    96000                                       
        dwMaxBitRate                   576000                                       
        dwMaxVideoFrameBufferSize       19200                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  7 (FRAME_MJPEG)                         
        bFrameIndex                         4                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            176                                       
        wHeight                           144                                       
        dwMinBitRate                    31680                                       
        dwMaxBitRate                   190080                                       
        dwMaxVideoFrameBufferSize        6336                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            50                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  7 (FRAME_MJPEG)                         
        bFrameIndex                         5                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            160                                       
        wHeight                           120                                       
        dwMinBitRate                    24000                                       
        dwMaxBitRate                   144000                                       
        dwMaxVideoFrameBufferSize        4800                                       
        dwDefaultFrameInterval         333333                                       
        bFrameIntervalType                  6                                       
        dwFrameInterval( 0)            333333                                       
        dwFrameInterval( 1)            400000                                       
        dwFrameInterval( 2)            500000                                       
        dwFrameInterval( 3)            666666                                       
        dwFrameInterval( 4)           1000000                                       
        dwFrameInterval( 5)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            42                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  7 (FRAME_MJPEG)                         
        bFrameIndex                         6                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                            800                                       
        wHeight                           600                                       
        dwMinBitRate                   600000                                       
        dwMaxBitRate                  2400000                                       
        dwMaxVideoFrameBufferSize      120000                                       
        dwDefaultFrameInterval         500000                                       
        bFrameIntervalType                  4                                       
        dwFrameInterval( 0)            500000                                       
        dwFrameInterval( 1)            666666                                       
        dwFrameInterval( 2)           1000000                                       
        dwFrameInterval( 3)           2000000                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            30                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  7 (FRAME_MJPEG)                         
        bFrameIndex                         7                                       
        bmCapabilities                   0x00                                       
          Still image unsupported                                                   
        wWidth                           1280                                       
        wHeight                           960                                       
        dwMinBitRate                  1843200                                       
        dwMaxBitRate                  1843200                                       
        dwMaxVideoFrameBufferSize      307200                                       
        dwDefaultFrameInterval        1666666                                       
        bFrameIntervalType                  1                                       
        dwFrameInterval( 0)           1666666                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                            35                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)                   
        bEndpointAddress                    0                                       
        bNumImageSizePatterns               7                                       
        wWidth( 0)                       1280                                       
        wHeight( 0)                       960                                       
        wWidth( 1)                        800                                       
        wHeight( 1)                       600                                       
        wWidth( 2)                        640                                       
        wHeight( 2)                       480                                       
        wWidth( 3)                        352                                       
        wHeight( 3)                       288                                       
        wWidth( 4)                        320                                       
        wHeight( 4)                       240                                       
        wWidth( 5)                        176                                       
        wHeight( 5)                       144                                       
        wWidth( 6)                        160                                       
        wHeight( 6)                       120                                       
        bNumCompressionPatterns             7                                       
        bCompression( 0)                    0                                       
      VideoStreaming Interface Descriptor:                                          
        bLength                             6                                       
        bDescriptorType                    36                                       
        bDescriptorSubtype                 13 (COLORFORMAT)                         
        bColorPrimaries                     1 (BT.709,sRGB)                         
        bTransferCharacteristics            1 (BT.709)                              
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))                 
    Interface Descriptor:                                                           
      bLength                 9                                                     
      bDescriptorType         4                                                     
      bInterfaceNumber        1                                                     
      bAlternateSetting       1                                                     
      bNumEndpoints           1                                                     
      bInterfaceClass        14 Video                                               
      bInterfaceSubClass      2 Video Streaming                                     
      bInterfaceProtocol      0                                                     
      iInterface              0                                                     
      Endpoint Descriptor:                                                          
        bLength                 7                                                   
        bDescriptorType         5                                                   
        bEndpointAddress     0x81  EP 1 IN                                          
        bmAttributes            5                                                   
          Transfer Type            Isochronous                                      
          Synch Type               Asynchronous                                     
          Usage Type               Data                                             
        wMaxPacketSize     0x0080  1x 128 bytes                                     
        bInterval               1                                                   
    Interface Descriptor:                                                           
      bLength                 9                                                     
      bDescriptorType         4                                                     
      bInterfaceNumber        1                                                     
      bAlternateSetting       2                                                     
      bNumEndpoints           1                                                     
      bInterfaceClass        14 Video                                               
      bInterfaceSubClass      2 Video Streaming                                     
      bInterfaceProtocol      0                                                     
      iInterface              0                                                     
      Endpoint Descriptor:                                                          
        bLength                 7                                                   
        bDescriptorType         5                                                   
        bEndpointAddress     0x81  EP 1 IN                                          
        bmAttributes            5                                                   
          Transfer Type            Isochronous                                      
          Synch Type               Asynchronous                                     
          Usage Type               Data                                             
        wMaxPacketSize     0x0100  1x 256 bytes                                     
        bInterval               1                                                   
    Interface Descriptor:                                                           
      bLength                 9                                                     
      bDescriptorType         4                                                     
      bInterfaceNumber        1                                                     
      bAlternateSetting       3                                                     
      bNumEndpoints           1                                                     
      bInterfaceClass        14 Video                                               
      bInterfaceSubClass      2 Video Streaming                                     
      bInterfaceProtocol      0                                                     
      iInterface              0                                                     
      Endpoint Descriptor:                                                          
        bLength                 7                                                   
        bDescriptorType         5                                                   
        bEndpointAddress     0x81  EP 1 IN                                          
        bmAttributes            5                                                   
          Transfer Type            Isochronous                                      
          Synch Type               Asynchronous                                     
          Usage Type               Data                                             
        wMaxPacketSize     0x0320  1x 800 bytes                                     
        bInterval               1                                                   
    Interface Descriptor:                                                           
      bLength                 9                                                     
      bDescriptorType         4                                                     
      bInterfaceNumber        1                                                     
      bAlternateSetting       4                                                     
      bNumEndpoints           1                                                     
      bInterfaceClass        14 Video                                               
      bInterfaceSubClass      2 Video Streaming                                     
      bInterfaceProtocol      0                                                     
      iInterface              0                                                     
      Endpoint Descriptor:                                                          
        bLength                 7                                                   
        bDescriptorType         5                                                   
        bEndpointAddress     0x81  EP 1 IN                                          
        bmAttributes            5                                                   
          Transfer Type            Isochronous                                      
          Synch Type               Asynchronous                                     
          Usage Type               Data                                             
        wMaxPacketSize     0x0b20  2x 800 bytes                                     
        bInterval               1                                                   
    Interface Descriptor:                                                           
      bLength                 9                                                     
      bDescriptorType         4                                                     
      bInterfaceNumber        1                                                     
      bAlternateSetting       5                                                     
      bNumEndpoints           1                                                     
      bInterfaceClass        14 Video                                               
      bInterfaceSubClass      2 Video Streaming                                     
      bInterfaceProtocol      0                                                     
      iInterface              0                                                     
      Endpoint Descriptor:                                                          
        bLength                 7                                                   
        bDescriptorType         5                                                   
        bEndpointAddress     0x81  EP 1 IN                                          
        bmAttributes            5                                                   
          Transfer Type            Isochronous                                      
          Synch Type               Asynchronous                                     
          Usage Type               Data                                             
        wMaxPacketSize     0x1320  3x 800 bytes                                     
        bInterval               1                                                   
    Interface Descriptor:                                                           
      bLength                 9                                                     
      bDescriptorType         4                                                     
      bInterfaceNumber        1                                                     
      bAlternateSetting       6                                                     
      bNumEndpoints           1                                                     
      bInterfaceClass        14 Video                                               
      bInterfaceSubClass      2 Video Streaming                                     
      bInterfaceProtocol      0                                                     
      iInterface              0                                                     
      Endpoint Descriptor:                                                          
        bLength                 7                                                   
        bDescriptorType         5                                                   
        bEndpointAddress     0x81  EP 1 IN                                          
        bmAttributes            5                                                   
          Transfer Type            Isochronous                                      
          Synch Type               Asynchronous                                     
          Usage Type               Data                                             
        wMaxPacketSize     0x1400  3x 1024 bytes                                    
        bInterval               1                                                   
    Interface Association:                                                          
      bLength                 8                                                     
      bDescriptorType        11                                                     
      bFirstInterface         2                                                     
      bInterfaceCount         2                                                     
      bFunctionClass          1 Audio                                               
      bFunctionSubClass       0                                                     
      bFunctionProtocol       0                                                     
      iFunction               4 Philips SPC 2050NC                                  
    Interface Descriptor:                                                           
      bLength                 9                                                     
      bDescriptorType         4                                                     
      bInterfaceNumber        2                                                     
      bAlternateSetting       0                                                     
      bNumEndpoints           0                                                     
      bInterfaceClass         1 Audio                                               
      bInterfaceSubClass      1 Control Device                                      
      bInterfaceProtocol      0                                                     
      iInterface              4 Philips SPC 2050NC                                  
      AudioControl Interface Descriptor:                                            
        bLength                 9                                                   
        bDescriptorType        36                                                   
        bDescriptorSubtype      1 (HEADER)                                          
        bcdADC               1.00                                                   
        wTotalLength           43                                                   
        bInCollection           1                                                   
        baInterfaceNr( 0)       3                                                   
      AudioControl Interface Descriptor:                                            
        bLength                12                                                   
        bDescriptorType        36                                                   
        bDescriptorSubtype      2 (INPUT_TERMINAL)                                  
        bTerminalID             1                                                   
        wTerminalType      0x0201 Microphone                                        
        bAssocTerminal          0                                                   
        bNrChannels             2                                                   
        wChannelConfig     0x0000                                                   
        iChannelNames           0                                                   
        iTerminal               0                                                   
      AudioControl Interface Descriptor:                                            
        bLength                13                                                   
        bDescriptorType        36                                                   
        bDescriptorSubtype      6 (FEATURE_UNIT)                                    
        bUnitID                 2                                                   
        bSourceID               1                                                   
        bControlSize            2                                                   
        bmaControls( 0)      0x01                                                   
        bmaControls( 0)      0x00                                                   
          Mute                                                                      
        bmaControls( 1)      0x02                                                   
        bmaControls( 1)      0x00                                                   
          Volume                                                                    
        bmaControls( 2)      0x02                                                   
        bmaControls( 2)      0x00                                                   
          Volume                                                                    
        iFeature                0                                                   
      AudioControl Interface Descriptor:                                            
        bLength                 9                                                   
        bDescriptorType        36                                                   
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)                                 
        bTerminalID             3                                                   
        wTerminalType      0x0101 USB Streaming                                     
        bAssocTerminal          0                                                   
        bSourceID               2                                                   
        iTerminal               0                                                   
    Interface Descriptor:                                                           
      bLength                 9                                                     
      bDescriptorType         4                                                     
      bInterfaceNumber        3                                                     
      bAlternateSetting       0                                                     
      bNumEndpoints           0                                                     
      bInterfaceClass         1 Audio                                               
      bInterfaceSubClass      2 Streaming                                           
      bInterfaceProtocol      0                                                     
      iInterface              0                                                     
    Interface Descriptor:                                                           
      bLength                 9                                                     
      bDescriptorType         4                                                     
      bInterfaceNumber        3                                                     
      bAlternateSetting       1                                                     
      bNumEndpoints           1                                                     
      bInterfaceClass         1 Audio                                               
      bInterfaceSubClass      2 Streaming                                           
      bInterfaceProtocol      0                                                     
      iInterface              0                                                     
      AudioStreaming Interface Descriptor:                                          
        bLength                 7                                                   
        bDescriptorType        36                                                   
        bDescriptorSubtype      1 (AS_GENERAL)                                      
        bTerminalLink           3                                                   
        bDelay                  1 frames                                            
        wFormatTag              1 PCM                                               
      AudioStreaming Interface Descriptor:                                          
        bLength                20                                                   
        bDescriptorType        36                                                   
        bDescriptorSubtype      2 (FORMAT_TYPE)                                     
        bFormatType             1 (FORMAT_TYPE_I)                                   
        bNrChannels             2                                                   
        bSubframeSize           2                                                   
        bBitResolution         16                                                   
        bSamFreqType            4 Discrete                                          
        tSamFreq[ 0]         8000                                                   
        tSamFreq[ 1]        16000                                                   
        tSamFreq[ 2]        24000                                                   
        tSamFreq[ 3]        48000                                                   
      Endpoint Descriptor:                                                          
        bLength                 9                                                   
        bDescriptorType         5                                                   
        bEndpointAddress     0x84  EP 4 IN                                          
        bmAttributes            5                                                   
          Transfer Type            Isochronous                                      
          Synch Type               Asynchronous                                     
          Usage Type               Data                                             
        wMaxPacketSize     0x0190  1x 400 bytes                                     
        bInterval               4                                                   
        bRefresh                0                                                   
        bSynchAddress           0                                                   
        AudioControl Endpoint Descriptor:                                           
          bLength                 7                                                 
          bDescriptorType        37                                                 
          bDescriptorSubtype      1 (EP_GENERAL)                                    
          bmAttributes         0x01                                                 
            Sampling Frequency                                                      
          bLockDelayUnits         0 Undefined                                       
          wLockDelay              0 Undefined                                       
Device Qualifier (for other device speed):                                          
  bLength                10                                                         
  bDescriptorType         6                                                         
  bcdUSB               2.00                                                         
  bDeviceClass          239 Miscellaneous Device                                    
  bDeviceSubClass         2 ?                                                       
  bDeviceProtocol         1 Interface Association                                   
  bMaxPacketSize0        64                                                         
  bNumConfigurations      1                                                         
Device Status:     0x0002                                                           
  (Bus Powered)                                                                     
  Remote Wakeup Enabled

From oztiks at yewnix.net  Sun Jan 10 19:26:19 2010
From: oztiks at yewnix.net (Seth W)
Date: Sun, 10 Jan 2010 13:26:19 -0500
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
	bandwidth reservation issues?
In-Reply-To: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
References: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
Message-ID: <e77a8d391001101026m2c33ba14o4c694415bc018cb8@mail.gmail.com>

Just out of curiosity, am I correct in understanding that the driver (per
what the camera is telling it) is allocating too much bandwidth on the USB
bus or is this proper behavior? I am trying to determine if I will be able
to have two of these cameras operating simultaneously on the same machine...


Thanks.

On Tue, Jan 5, 2010 at 10:54 AM, Seth W <oztiks at yewnix.net> wrote:

> Greetings,
>
> I have two Microsoft LifeCam Cinema Cameras attached to a single system
> (only one USB 2.0 controller). I have set trace=1024 on uvcvideo and find
> that the driver allocates the same amount of bandwidth regardless of what I
> specify for resolution, fps, or codec in ffmpeg, vlc, etc.
>
> Example:
>
> [root at fedora11-test ~]# ffmpeg   -f video4linux2 -s 1280x800 -r 30 -i
> /dev/video1 -f m4v 2-1280-800-maxfps.m4v
> FFmpeg version SVN-r20557-snapshot, Copyright (c) 2000-2009 Fabrice
> Bellard, et al.
>   built on Nov 22 2009 01:51:55 with gcc 4.4.1 20090725 (Red Hat 4.4.1-2)
>   configuration: --prefix=/usr --libdir=/usr/lib --shlibdir=/usr/lib
> --mandir=/usr/share/man --enable-shared --enable-gpl --enable-version3
> --enable-nonfree --enable-postproc --enable-avfilter --enable-avfilter-lavf
> --enable-pthreads --enable-x11grab --enable-vdpau --disable-avisynth
> --enable-libdc1394 --enable-libdirac --enable-libfaac --enable-libfaad
> --enable-libfaadbin --enable-libgsm --enable-libmp3lame --enable-libnut
> --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
> --enable-libschroedinger --enable-libspeex --enable-libtheora
> --enable-libvorbis --enable-libx264 --enable-libxvid --extra-cflags='-O2 -g
> -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector
> --param=ssp-buffer-size=4 -m32 -march=i586 -mtune=generic
> -fasynchronous-unwind-tables' --disable-stripping
>   libavutil     50. 4. 0 / 50. 4. 0
>   libavcodec    52.41. 0 / 52.41. 0
>   libavformat   52.39. 2 / 52.39. 2
>   libavdevice   52. 2. 0 / 52. 2. 0
>   libavfilter    1. 8. 0 /  1. 8. 0
>   libswscale     0. 7. 1 /  0. 7. 1
>   libpostproc   51. 2. 0 / 51. 2. 0
> [video4linux2 @ 0x858a860][3]Capabilities: 4000001
> Input #0, video4linux2, from '/dev/video1':
>   Duration: N/A, start: 1262673238.027945, bitrate: 491519 kb/s
>     Stream #0.0: Video: rawvideo, yuyv422, 1280x800, 491519 kb/s, 30 tbr,
> 1000k tbn, 30 tbc
> Output #0, m4v, to '2-1280-800-maxfps.m4v':
>     Stream #0.0: Video: mpeg4, yuv420p, 1280x800, q=2-31, 200 kb/s, 90k
> tbn, 30 tbc
> Stream mapping:
>   Stream #0.0 -> #0.0
> Press [q] to stop encoding
> frame=  147 fps= 30 q=31.0 Lsize=     356kB time=4.90 bitrate= 595.6kbits/s
> video:356kB audio:0kB global headers:0kB muxing overhead 0.000000%
>
> And from dmesg:
>
> uvcvideo: Device requested 3072 B/frame bandwidth.
> uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.
>
> ---
>
> [root at fedora11-test ~]# ffmpeg   -f video4linux2 -s 640x480 -r 30 -i
> /dev/video1 -f m4v 2-640x480.m4v
> FFmpeg version SVN-r20557-snapshot, Copyright (c) 2000-2009 Fabrice
> Bellard, et al.
>   built on Nov 22 2009 01:51:55 with gcc 4.4.1 20090725 (Red Hat 4.4.1-2)
>   configuration: --prefix=/usr --libdir=/usr/lib --shlibdir=/usr/lib
> --mandir=/usr/share/man --enable-shared --enable-gpl --enable-version3
> --enable-nonfree --enable-postproc --enable-avfilter --enable-avfilter-lavf
> --enable-pthreads --enable-x11grab --enable-vdpau --disable-avisynth
> --enable-libdc1394 --enable-libdirac --enable-libfaac --enable-libfaad
> --enable-libfaadbin --enable-libgsm --enable-libmp3lame --enable-libnut
> --enable-libopencore-amrnb --enable-libopencore-amrwb --enable-libopenjpeg
> --enable-libschroedinger --enable-libspeex --enable-libtheora
> --enable-libvorbis --enable-libx264 --enable-libxvid --extra-cflags='-O2 -g
> -pipe -Wall -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector
> --param=ssp-buffer-size=4 -m32 -march=i586 -mtune=generic
> -fasynchronous-unwind-tables' --disable-stripping
>   libavutil     50. 4. 0 / 50. 4. 0
>   libavcodec    52.41. 0 / 52.41. 0
>   libavformat   52.39. 2 / 52.39. 2
>   libavdevice   52. 2. 0 / 52. 2. 0
>   libavfilter    1. 8. 0 /  1. 8. 0
>   libswscale     0. 7. 1 /  0. 7. 1
>   libpostproc   51. 2. 0 / 51. 2. 0
> [video4linux2 @ 0x9a15860][3]Capabilities: 4000001
> Input #0, video4linux2, from '/dev/video1':
>   Duration: N/A, start: 1262673302.162194, bitrate: 147456 kb/s
>     Stream #0.0: Video: rawvideo, yuyv422, 640x480, 147456 kb/s, 30 tbr,
> 1000k tbn, 30 tbc
> Output #0, m4v, to '2-640x480.m4v':
>     Stream #0.0: Video: mpeg4, yuv420p, 640x480, q=2-31, 200 kb/s, 90k tbn,
> 30 tbc
> Stream mapping:
>   Stream #0.0 -> #0.0
> Press [q] to stop encoding
> frame=  152 fps= 30 q=5.2 Lsize=     347kB time=5.07 bitrate= 561.4kbits/s
> video:347kB audio:0kB global headers:0kB muxing overhead 0.000000%
>
>
> and from dmesg:
>
> vcvideo: Device requested 3072 B/frame bandwidth.
> uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.
>
>
> ----
>
> I had planned on showing the example from dmesg of the same allocation when
> using mencoder with --v4l2-chroma=mjpeg ; but unfortunately the machine is
> remote and just died...
>
> At any rate, if anyone can verify that this is the (in)correct behavior of
> uvcvideo i would appreciate it (but I am under the impression it is not
> supposed to work this way, and is supposed to allocate bandwidth based on
> the input parameters). I would be happy to provide any debugging information
> necessary.
>
> Thanks in advance.
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100110/c951ef20/attachment.html>

From laurent.pinchart at ideasonboard.com  Mon Jan 11 02:30:44 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Mon, 11 Jan 2010 02:30:44 +0100
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
	bandwidth reservation issues?
In-Reply-To: <e77a8d391001051854u4fd3b1efwa7a32c2f062c3a37@mail.gmail.com>
References: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
	<201001060158.59543.laurent.pinchart@ideasonboard.com>
	<e77a8d391001051854u4fd3b1efwa7a32c2f062c3a37@mail.gmail.com>
Message-ID: <201001110230.44910.laurent.pinchart@ideasonboard.com>

Hi Seth,

On Wednesday 06 January 2010 03:54:11 Seth W wrote:
> Here you are. Thanks  in advance for your assistance. (PS - Please note
> there are two cameras, both same make/model therefore share the same ID)

Thanks for the information. The device supports the following bandwidths 
(unrelated information removed for the sake of clarity):

>         wMaxPacketSize     0x0080  1x 128 bytes
>         wMaxPacketSize     0x0100  1x 256 bytes
>         wMaxPacketSize     0x0200  1x 512 bytes
>         wMaxPacketSize     0x0400  1x 1024 bytes
>         wMaxPacketSize     0x0c00  2x 1024 bytes
>         wMaxPas.cketSize     0x1400  3x 1024 bytes

Your previous e-mail included an excerpt from the kernel log clearly showing 
that the device asked for 3x 1024 bytes per microframe in both 640x480 and 
1280x800.

The default frame rate at those resolutions is 30fps and 10fps respectively. 
As every pixel takes 2 bytes in uncompressed YUV, this leads to

640*480*2*30 = 18000 KiB/s
1280*800*2*10 = 20000 KiB/s

Divided by 8000 microframes per second, we get

640x480 -> 2304 bytes / microframe
1280x800 -> 2560 bytes / microframe

The lowest bandwidth compatible with those values is 3x 1024 bytes per 
microframe, which is too high to stream from both cameras at the same time.

You could try lowering the frame rate. The average required bandwidth will be 
lower, but the device might not have enough internal memory to store a 
complete frame and smooth bandwidth usage. In that case it will still ask for 
a high bandwidth, and streaming from two devices simultaneously will fail.

The other option is to use MJPEG instead of YUV. That will reduce the 
bandwidth requirements drastically, but you will have to decompress the MJPEG 
stream

-- 
Regards,

Laurent Pinchart


From oztiks at yewnix.net  Mon Jan 11 03:45:21 2010
From: oztiks at yewnix.net (Seth W)
Date: Sun, 10 Jan 2010 21:45:21 -0500
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
	bandwidth reservation issues?
In-Reply-To: <201001110230.44910.laurent.pinchart@ideasonboard.com>
References: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
	<201001060158.59543.laurent.pinchart@ideasonboard.com>
	<e77a8d391001051854u4fd3b1efwa7a32c2f062c3a37@mail.gmail.com>
	<201001110230.44910.laurent.pinchart@ideasonboard.com>
Message-ID: <e77a8d391001101845u25afbb94pc8bdcdb824e25250@mail.gmail.com>

Thanks for the prompt response - I had actually tried MJPEG in mencoder (not
sure how to test it in ffmpeg); but for some reason it allocates the same
exact bandwidth as well, no matter what resolution, codec (mjpeg or yuv), or
frame rate. If you can provide any insight into this or suggest any other
methods of testing I would greatly appreciate it. Once again, I'd like to
thank you for your time.

---

320x240, 5fps, MJPG:

cvlc  -vv v4l2:///dev/video0 :v4l2-vdev="/dev/video0"  :v4l2-width=320
:v4l2-height=240 :v4l2-fps=5 :v4l2-caching=300 :v4l2-chroma=MJPG
--no-plugins-cache --album-art=0

[chopped output]
[0xb6300c08] v4l2 demux debug: using streaming i/o (mmap)
[0xb6300c08] v4l2 demux debug: trying specified size 320x240
[0xb6300c08] v4l2 demux debug: Driver requires at most 153600 bytes to store
a complete image
[0xb6300c08] v4l2 demux debug: Interlacing setting: progressive
[0xb6300c08] v4l2 demux debug: supported frame intervals for MJPG, 320x240:
[0xb6300c08] v4l2 demux debug:     supported frame interval: 1/30
[0xb6300c08] v4l2 demux debug:     supported frame interval: 1/20
[0xb6300c08] v4l2 demux debug:     supported frame interval: 1/15
[0xb6300c08] v4l2 demux debug:     supported frame interval: 1/10
[0xb6300c08] v4l2 demux debug:     supported frame interval: 2/15
[0xb6300c08] v4l2 demux debug: added new video es MJPG 320x240
[0xb6500608] main input debug: selecting program id=0
[0xb6300c08] v4l2 demux debug: User set fps=5.000000
[0xb6300c08] main demux debug: using access_demux module "v4l2"
[0xb6300c08] main demux debug: TIMER module_need() : 260.411 ms - Total
260.411 ms / 1 intvls (Avg 260.411 ms)
[0xb63019b0] main decoder debug: looking for decoder module: 39 candidates
[0xb63019b0] avcodec decoder debug: libavcodec initialized (interface
0x342900)
[0xb63019b0] avcodec decoder debug: using direct rendering
[0xb63019b0] avcodec decoder debug: ffmpeg codec (Motion JPEG Video) started
[0xb63019b0] main decoder debug: using decoder module "avcodec"
[0xb63019b0] main decoder debug: TIMER module_need() : 2.954 ms - Total
2.954 ms / 1 intvls (Avg 2.954 ms)
[0xb63019b0] main decoder debug: thread (decoder) created at priority 0
(input/decoder.c:315)
[0xb63019b0] main decoder debug: thread started
[0xb6500608] main input debug: `v4l2:///dev/video0' successfully opened
--
dmesg:
uvcvideo: Device requested 3072 B/frame bandwidth.
uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.
-----

1280x800, 30FPS, mjpeg:

 cvlc  -vv v4l2:///dev/video0 :v4l2-vdev="/dev/video0"  :v4l2-width=1280
:v4l2-height=800 :v4l2-fps=30 :v4l2-caching=300 :v4l2-chroma=MJPG
--no-plugins-cache --album-art=0

[0xb6600e90] v4l2 demux debug: trying specified size 1280x800
[0xb6600e90] v4l2 demux debug: Driver requires at most 1843200 bytes to
store a complete image
[0xb6600e90] v4l2 demux debug: Interlacing setting: progressive
[0xb6600e90] v4l2 demux debug: supported frame intervals for MJPG, 1280x720:
[0xb6600e90] v4l2 demux debug:     supported frame interval: 1/30
[0xb6600e90] v4l2 demux debug:     supported frame interval: 1/20
[0xb6600e90] v4l2 demux debug:     supported frame interval: 1/15
[0xb6600e90] v4l2 demux debug:     supported frame interval: 1/10
[0xb6600e90] v4l2 demux debug:     supported frame interval: 2/15
[0xb6600e90] v4l2 demux debug: added new video es MJPG 1280x720
[0xb6700608] main input debug: selecting program id=0
[0xb6600e90] v4l2 demux debug: User set fps=30.000000
[0xb6600e90] main demux debug: using access_demux module "v4l2"
[0xb6600e90] main demux debug: TIMER module_need() : 252.439 ms - Total
252.439 ms / 1 intvls (Avg 252.439 ms)
[0xb6601c58] main decoder debug: looking for decoder module: 39 candidates
[0xb6601c58] avcodec decoder debug: libavcodec initialized (interface
0x342900)
[0xb6601c58] avcodec decoder debug: using direct rendering
[0xb6601c58] avcodec decoder debug: ffmpeg codec (Motion JPEG Video) started
[0xb6601c58] main decoder debug: using decoder module "avcodec"
[0xb6601c58] main decoder debug: TIMER module_need() : 2.521 ms - Total
2.521 ms / 1 intvls (Avg 2.521 ms)
[0xb6601c58] main decoder debug: thread (decoder) created at priority 0
(input/decoder.c:315)
[0xb6601c58] main decoder debug: thread started
[0xb6700608] main input debug: `v4l2:///dev/video0' successfully opened
------
dmesg:

uvcvideo: Device requested 3072 B/frame bandwidth.
uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.

-----

1280x800, 30fps, YUY2:

[0xb6a00e90] v4l2 demux debug: using streaming i/o (mmap)
[0xb6a00e90] v4l2 demux debug: trying specified size 1280x800
[0xb6a00e90] v4l2 demux debug: Driver requires at most 2048000 bytes to
store a complete image
[0xb6a00e90] v4l2 demux debug: Interlacing setting: progressive
[0xb6a00e90] v4l2 demux debug: supported frame intervals for YUY2, 1280x800:
[0xb6a00e90] v4l2 demux debug:     supported frame interval: 1/10
[0xb6a00e90] v4l2 demux debug: added new video es YUY2 1280x800
[0xb6b00608] main input debug: selecting program id=0
[0xb6a00e90] v4l2 demux debug: User set fps=30.000000
[0xb6a00e90] main demux debug: using access_demux module "v4l2"
[0xb6a00e90] main demux debug: TIMER module_need() : 253.072 ms - Total
253.072 ms / 1 intvls (Avg 253.072 ms)
[0xb6a01c58] main decoder debug: looking for decoder module: 39 candidates
[0xb6a01c58] rawvideo decoder warning: invalid frame rate 0/0, using 25 fps
instead
[0xb6a01c58] main decoder debug: using decoder module "rawvideo"
[0xb6a01c58] main decoder debug: TIMER module_need() : 0.836 ms - Total
0.836 ms / 1 intvls (Avg 0.836 ms)
[0xb6a01c58] main decoder debug: thread started
[0xb6a01c58] main decoder debug: thread (decoder) created at priority 0
(input/decoder.c:315)
[0xb6b00608] main input debug: `v4l2:///dev/video0' successfully opened

dmesg:

uvcvideo: Device requested 3072 B/frame bandwidth.
uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.

-----------------------



On Sun, Jan 10, 2010 at 8:30 PM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi Seth,
>
> On Wednesday 06 January 2010 03:54:11 Seth W wrote:
> > Here you are. Thanks  in advance for your assistance. (PS - Please note
> > there are two cameras, both same make/model therefore share the same ID)
>
> Thanks for the information. The device supports the following bandwidths
> (unrelated information removed for the sake of clarity):
>
> >         wMaxPacketSize     0x0080  1x 128 bytes
> >         wMaxPacketSize     0x0100  1x 256 bytes
> >         wMaxPacketSize     0x0200  1x 512 bytes
> >         wMaxPacketSize     0x0400  1x 1024 bytes
> >         wMaxPacketSize     0x0c00  2x 1024 bytes
> >         wMaxPas.cketSize     0x1400  3x 1024 bytes
>
> Your previous e-mail included an excerpt from the kernel log clearly
> showing
> that the device asked for 3x 1024 bytes per microframe in both 640x480 and
> 1280x800.
>
> The default frame rate at those resolutions is 30fps and 10fps
> respectively.
> As every pixel takes 2 bytes in uncompressed YUV, this leads to
>
> 640*480*2*30 = 18000 KiB/s
> 1280*800*2*10 = 20000 KiB/s
>
> Divided by 8000 microframes per second, we get
>
> 640x480 -> 2304 bytes / microframe
> 1280x800 -> 2560 bytes / microframe
>
> The lowest bandwidth compatible with those values is 3x 1024 bytes per
> microframe, which is too high to stream from both cameras at the same time.
>
> You could try lowering the frame rate. The average required bandwidth will
> be
> lower, but the device might not have enough internal memory to store a
> complete frame and smooth bandwidth usage. In that case it will still ask
> for
> a high bandwidth, and streaming from two devices simultaneously will fail.
>
> The other option is to use MJPEG instead of YUV. That will reduce the
> bandwidth requirements drastically, but you will have to decompress the
> MJPEG
> stream
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100110/6787c88b/attachment.html>

From celejar at gmail.com  Wed Jan 13 00:12:27 2010
From: celejar at gmail.com (Celejar)
Date: Tue, 12 Jan 2010 18:12:27 -0500
Subject: [Linux-uvc-devel] Yet another unlisted, supported webcam
Message-ID: <20100112181227.16e0472e.celejar@gmail.com>

Hi,

I have a cheap, no-name webcam from FocalPoint.com.  Video seems to
basically work (tried with xawtv and mplayer), but with banding
(regularly spaced bluish horizontal bands that seem to move vertically
upward, taking about a second or two to travel from the bottom of the
image to the top).  Haven't tried sound since the short lengths of the
USB and mic cables and the location of my machine's ports make plugging
both in simultaneously difficult or impossible.

Thanks for your work on this project!

The camera is (similar to?) this one:

http://www.focalprice.com/CW013B/USB_Digital_Video_4_LED_Webcam_PC_Camera_with_Microphone_Black.html


From laurent.pinchart at ideasonboard.com  Fri Jan 15 01:16:08 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 15 Jan 2010 01:16:08 +0100
Subject: [Linux-uvc-devel] Philips webcam spc2050nc support
In-Reply-To: <201001091440.53048.anto.costantino@gmail.com>
References: <200910261305.59080.anto.costantino@gmail.com>
	<201001091311.19422.laurent.pinchart@ideasonboard.com>
	<201001091440.53048.anto.costantino@gmail.com>
Message-ID: <201001150116.09062.laurent.pinchart@ideasonboard.com>

Hi Antonio,

On Saturday 09 January 2010 14:40:52 Antonio C. Costantino wrote:
> [...]
> 
> > > When you have time, tell me what output I may provide you in order to
> > > add the device to the list of supported webcams.
> >
> > All I need it the output of lsusb -v for your webcam.
> 
> I'm sending it as attachment (does it look "good"?)

That's exactly what I needed, thanks. I'll update the list as soon as Berlios 
becomes responsive again.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Fri Jan 15 01:20:07 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 15 Jan 2010 01:20:07 +0100
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
	bandwidth reservation issues?
In-Reply-To: <e77a8d391001101845u25afbb94pc8bdcdb824e25250@mail.gmail.com>
References: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
	<201001110230.44910.laurent.pinchart@ideasonboard.com>
	<e77a8d391001101845u25afbb94pc8bdcdb824e25250@mail.gmail.com>
Message-ID: <201001150120.07332.laurent.pinchart@ideasonboard.com>

Hi Seth,

On Monday 11 January 2010 03:45:21 Seth W wrote:
> Thanks for the prompt response

I wouldn't call it prompt, and I apologize for that.

> - I had actually tried MJPEG in mencoder (not sure how to test it in
> ffmpeg); but for some reason it allocates the same exact bandwidth as well,
> no matter what resolution, codec (mjpeg or yuv), or frame rate. If you can
> provide any insight into this or suggest any other methods of testing I
> would greatly appreciate it.

Could you set the trace parameter to 0x40f and send me all messages printed by 
the driver to the kernel log when running mencoder in MJPEG mode ?

> Once again, I'd like to thank you for your time.

You're really welcome.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Fri Jan 15 01:32:03 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 15 Jan 2010 01:32:03 +0100
Subject: [Linux-uvc-devel] Yet another unlisted, supported webcam
In-Reply-To: <20100112181227.16e0472e.celejar@gmail.com>
References: <20100112181227.16e0472e.celejar@gmail.com>
Message-ID: <201001150132.03689.laurent.pinchart@ideasonboard.com>

Hi Celejar,

On Wednesday 13 January 2010 00:12:27 Celejar wrote:
> Hi,
> 
> I have a cheap, no-name webcam from FocalPoint.com.  Video seems to
> basically work (tried with xawtv and mplayer), but with banding
> (regularly spaced bluish horizontal bands that seem to move vertically
> upward, taking about a second or two to travel from the bottom of the
> image to the top).

That's usually caused by a mismatch between the power supply frequency and the 
sensor sampling rate. Have you tried in plain daylight ?

> Haven't tried sound since the short lengths of the USB and mic cables and
> the location of my machine's ports make plugging both in simultaneously
> difficult or impossible.
> 
> Thanks for your work on this project!

You're welcome. Thanks for the report. I'll update the supported devices list 
as soon as Berlios become responsive again.

> The camera is (similar to?) this one:
> 
> http://www.focalprice.com/CW013B/USB_Digital_Video_4_LED_Webcam_PC_Camera_w
> ith_Microphone_Black.html
> 
> From syslog:
> 
> [12312.163037] usb 1-3: new high speed USB device using ehci_hcd and address
> 6
> [12312.287782] uvcvideo: Found UVC 1.00 device USB2.0 Camera (1e4e:0100)
> [12312.292382] uvcvideo: UVC non compliance - GET_DEF(PROBE) not supported.
> Enabling workaround.
> [12312.293512] input: USB2.0 Camera as
> /devices/pci0000:00/0000:00:1d.7/usb1/1-3/1-3:1.0/input/input14
> 
> Note that the camera doesn't seem to work when plugged into my (cheap)
> USB hub - both mplayer and xawtv complain of "select timeout".
> 
> From syslog (when plugged into the hub):
> 
> [12132.686602] usb 3-1.1: new full speed USB device using uhci_hcd and
> address 4
> [12132.793599] usb 3-1.1: not running at top speed; connect to a high speed
> hub
> [12132.837654] uvcvideo: Found UVC 1.00 device USB2.0 Camera (1e4e:0100)
> [12132.843584] uvcvideo: UVC non compliance - GET_DEF(PROBE) not supported.
> Enabling workaround. Jan 12 17:49:00 localhost kernel:
> [12132.844729] input: USB2.0 Camera as
> /devices/pci0000:00/0000:00:1d.1/usb3/3-1/3-1.1/3-1.1:1.0/input/input13

As stated by the log, you should connect the camera to a high speed hub :-) 
Your hub is probably running at full speed only (12 Mb/s), and the camera 
seems to require high speed (480 Mb/s).

-- 
Regards,

Laurent Pinchart


From celejar at gmail.com  Fri Jan 15 02:59:51 2010
From: celejar at gmail.com (Celejar)
Date: Thu, 14 Jan 2010 20:59:51 -0500
Subject: [Linux-uvc-devel] Yet another unlisted, supported webcam
In-Reply-To: <201001150132.03689.laurent.pinchart@ideasonboard.com>
References: <20100112181227.16e0472e.celejar@gmail.com>
	<201001150132.03689.laurent.pinchart@ideasonboard.com>
Message-ID: <20100114205951.5e123539.celejar@gmail.com>

On Fri, 15 Jan 2010 01:32:03 +0100
Laurent Pinchart <laurent.pinchart at ideasonboard.com> wrote:

> Hi Celejar,
> 
> On Wednesday 13 January 2010 00:12:27 Celejar wrote:
> > Hi,
> > 
> > I have a cheap, no-name webcam from FocalPoint.com.  Video seems to
> > basically work (tried with xawtv and mplayer), but with banding
> > (regularly spaced bluish horizontal bands that seem to move vertically
> > upward, taking about a second or two to travel from the bottom of the
> > image to the top).
> 
> That's usually caused by a mismatch between the power supply frequency and the 
> sensor sampling rate. Have you tried in plain daylight ?

I haven't.  By power supply, do you mean the power that supplies the
room lighting?

> > Haven't tried sound since the short lengths of the USB and mic cables and
> > the location of my machine's ports make plugging both in simultaneously
> > difficult or impossible.
> > 
> > Thanks for your work on this project!
> 
> You're welcome. Thanks for the report. I'll update the supported devices list 
> as soon as Berlios become responsive again.

Thanks again.

> As stated by the log, you should connect the camera to a high speed hub :-) 
> Your hub is probably running at full speed only (12 Mb/s), and the camera 
> seems to require high speed (480 Mb/s).

Makes sense - this is a cheap, no-name hub bought on Ebay.  OTOH, I'm
looking at it now and it has a sticker on it proclaiming "480 Mbps";
have I been cheated?

In any event, the notion that "high speed" is faster than "full speed"
always confuses me ;)

Celejar
-- 
foffl.sourceforge.net - Feeds OFFLine, an offline RSS/Atom aggregator
mailmin.sourceforge.net - remote access via secure (OpenPGP) email
ssuds.sourceforge.net - A Simple Sudoku Solver and Generator



From oztiks at yewnix.net  Fri Jan 15 04:50:38 2010
From: oztiks at yewnix.net (Seth W)
Date: Thu, 14 Jan 2010 22:50:38 -0500
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
	bandwidth reservation issues?
In-Reply-To: <201001150120.07332.laurent.pinchart@ideasonboard.com>
References: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
	<201001110230.44910.laurent.pinchart@ideasonboard.com>
	<e77a8d391001101845u25afbb94pc8bdcdb824e25250@mail.gmail.com>
	<201001150120.07332.laurent.pinchart@ideasonboard.com>
Message-ID: <e77a8d391001141950m513751a7i536b0ba7171bb15a@mail.gmail.com>

Here you go..

[including dmesg information directly after modprobe uvcvideo];

For the sake of clarity I have sent the output as three different
attachments,

uvcvideo-modprobe-dmesg.txt:  output from dmesg/kernel buffer after
'modprobe uvcvideo' (with options uvcvideo trace=0x40f)
mencoder-dmesg.txt: output from dmesg/kernel buffer after running mencoder
mencoder-output.txt: STDOUT from mencoder

I am not terribly familiar with mencoder as I have been doing most of my
testing with VLC, but the syntax I used for mencoder was

mencoder tv:// -tv
driver=v4l2:width=1280:height=720:device=/dev/video0:noaudio:fps=30:outfmt=mjpeg
-ovc lavc -lavcopts vcodec=mpeg4:vpass=1:autoaspect  -o camera1.avi

I did notice that when using mencoder there were tons of 'duplicate frames'
messages which I am not sure if is related to this issue or not.

If you need any further details please let me know. Thanks again for your
assistance and commitment to this project :0



On Thu, Jan 14, 2010 at 7:20 PM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi Seth,
>
> On Monday 11 January 2010 03:45:21 Seth W wrote:
> > Thanks for the prompt response
>
> I wouldn't call it prompt, and I apologize for that.
>
> > - I had actually tried MJPEG in mencoder (not sure how to test it in
> > ffmpeg); but for some reason it allocates the same exact bandwidth as
> well,
> > no matter what resolution, codec (mjpeg or yuv), or frame rate. If you
> can
> > provide any insight into this or suggest any other methods of testing I
> > would greatly appreciate it.
>
> Could you set the trace parameter to 0x40f and send me all messages printed
> by
> the driver to the kernel log when running mencoder in MJPEG mode ?
>
> > Once again, I'd like to thank you for your time.
>
> You're really welcome.
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100114/ce0a938f/attachment.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: uvcvideo-modprobe-dmesg.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100114/ce0a938f/attachment.txt>
-------------- next part --------------
[root at fedora11-test ~]# dmesg
uvcvideo: Trying format 0x47504a4d (MJPG): 640x480.
uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
uvcvideo: Trying format 0x47504a4d (MJPG): 640x480.
uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
uvcvideo: Trying format 0x47504a4d (MJPG): 1280x720.
uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
uvcvideo: Trying format 0x47504a4d (MJPG): 1280x720.
uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
uvcvideo: Trying format 0x47504a4d (MJPG): 1280x720.
uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
uvcvideo: Control 0x00980909 not found.
uvcvideo: Control 0x00980903 not found.
uvcvideo: Device requested 3072 B/frame bandwidth.
uvcvideo: Allocated 5 URB buffers of 32x3072 bytes each.
uvcvideo: Control 0x00980909 not found.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: mencoder-output.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100114/ce0a938f/attachment-0001.txt>

From makarov.alex at gmail.com  Fri Jan 15 09:25:10 2010
From: makarov.alex at gmail.com (Alex Makarov)
Date: Fri, 15 Jan 2010 10:25:10 +0200
Subject: [Linux-uvc-devel] AF on Syntek 174f:5271
Message-ID: <2e314aae1001150025i75f8ebc7x6ecdfe07ae36ba18@mail.gmail.com>

Hello

Can't make AF to work on Syntek camera 174f:5271. It doesn't work out
of the box, and setting appropriate ioctl doesn't help (setting
brightness etc via the same ioctl works). Ioctl says the feature is
not supported, meanwhile, AFAIK, this camera has auto-focus.

Any information on that?

Regards,
Alex


From pj.assis at gmail.com  Fri Jan 15 12:37:50 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Fri, 15 Jan 2010 11:37:50 +0000
Subject: [Linux-uvc-devel] AF on Syntek 174f:5271
In-Reply-To: <2e314aae1001150025i75f8ebc7x6ecdfe07ae36ba18@mail.gmail.com>
References: <2e314aae1001150025i75f8ebc7x6ecdfe07ae36ba18@mail.gmail.com>
Message-ID: <59cf47a81001150337k299a5516s3953a63b1894dec4@mail.gmail.com>

Hi,,
Autofocus is probably software driven in windows.
Does the camera export a manual focus at least ?
If it does it may be possible to patch guvcview so that it's internal
software AF engine can be used with that particular model, like it is
now for some logitech models.

Regards,
Paulo

2010/1/15 Alex Makarov <makarov.alex at gmail.com>:
> Hello
>
> Can't make AF to work on Syntek camera 174f:5271. It doesn't work out
> of the box, and setting appropriate ioctl doesn't help (setting
> brightness etc via the same ioctl works). Ioctl says the feature is
> not supported, meanwhile, AFAIK, this camera has auto-focus.
>
> Any information on that?
>
> Regards,
> Alex
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From makarov.alex at gmail.com  Fri Jan 15 12:50:43 2010
From: makarov.alex at gmail.com (Alex Makarov)
Date: Fri, 15 Jan 2010 13:50:43 +0200
Subject: [Linux-uvc-devel] AF on Syntek 174f:5271
In-Reply-To: <59cf47a81001150337k299a5516s3953a63b1894dec4@mail.gmail.com>
References: <2e314aae1001150025i75f8ebc7x6ecdfe07ae36ba18@mail.gmail.com> 
	<59cf47a81001150337k299a5516s3953a63b1894dec4@mail.gmail.com>
Message-ID: <2e314aae1001150350h4e9315f3m9cbed1d110b25a03@mail.gmail.com>

Hi,

It looks like it does not export any focus:

 VideoControl Interface Descriptor:
      bLength                18
      bDescriptorType        36
      bDescriptorSubtype      2 (INPUT_TERMINAL)
      bTerminalID             1
      wTerminalType      0x0201 Camera Sensor
      bAssocTerminal          0
      iTerminal               0
      wObjectiveFocalLengthMin      0
      wObjectiveFocalLengthMax      0
      wOcularFocalLength            0
      bControlSize                  3
>>       bmControls           0x0000000a
>>         Auto-Exposure Mode
>>         Exposure Time (Absolute)
VideoControl Interface Descriptor:

Does that mean the camera has no focus control at all?

Regards,
Alex


On Fri, Jan 15, 2010 at 13:37, Paulo Assis <pj.assis at gmail.com> wrote:
> Hi,,
> Autofocus is probably software driven in windows.
> Does the camera export a manual focus at least ?
> If it does it may be possible to patch guvcview so that it's internal
> software AF engine can be used with that particular model, like it is
> now for some logitech models.
>
> Regards,
> Paulo
>
> 2010/1/15 Alex Makarov <makarov.alex at gmail.com>:
>> Hello
>>
>> Can't make AF to work on Syntek camera 174f:5271. It doesn't work out
>> of the box, and setting appropriate ioctl doesn't help (setting
>> brightness etc via the same ioctl works). Ioctl says the feature is
>> not supported, meanwhile, AFAIK, this camera has auto-focus.
>>
>> Any information on that?
>>
>> Regards,
>> Alex
>> _______________________________________________
>> Linux-uvc-devel mailing list
>> Linux-uvc-devel at lists.berlios.de
>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>
>


From javier at candeira.com  Fri Jan 15 12:56:55 2010
From: javier at candeira.com (Javier Candeira)
Date: Fri, 15 Jan 2010 22:56:55 +1100
Subject: [Linux-uvc-devel] Minoru Webcam with python-opencv: VIDIOC_STREAMON
	error 28, No space 	left on device
Message-ID: <1c62ab981001150356m573d6e79rde8109e8ad162aff@mail.gmail.com>

I am working with minoru3D, a dual-webcam that is really two z-star
vimicro webcams and a usb hub in a single package.

I can get images from either one of the cameras using python-opencv
(Ubuntu 9.10, 32 bits), but when I try to capture from both cameras in
sequence I get this error:

"VIDIOC_STREAMON error 28, No space left on device"

Here are the error (funnily, there is no traceback) and code I am using:

####### Error from command line (not even a traceback):
"""
kandinski at derive:~/data/work/hack/pyralax$ python dualcam.py
VIDIOC_STREAMON error 28, No space left on device
"""

####### CODE:

import pygame
import Image
from pygame.locals import *
import sys

import opencv
#this is important for capturing/displaying images
from opencv import highgui

cameras = []

def create_camera(n):
  camera = highgui.cvCreateCameraCapture(n)
  highgui.cvSetCaptureProperty(camera, highgui.CV_CAP_PROP_FRAME_WIDTH, 640)
  highgui.cvSetCaptureProperty(camera, highgui.CV_CAP_PROP_FRAME_HEIGHT, 480)
  return camera

def get_image(camera):
    im = highgui.cvQueryFrame(camera)
    # Add the line below if you need it (Ubuntu 8.04+)
    im = opencv.cvGetMat(im)
    #convert Ipl image to PIL image
    return opencv.adaptors.Ipl2PIL(im)

def blit_image(im, camera):
    pg_img = pygame.image.frombuffer(im.tostring(), im.size, im.mode)
    screen.blit(pg_img, (640*i,0))


fps =  15.0
pygame.init()
window = pygame.display.set_mode((1280,480))
pygame.display.set_caption("WebCam Demo")
screen = pygame.display.get_surface()

for i in (0, 1):
    cameras.append(create_camera(i))

while True:
    events = pygame.event.get()
    for event in events:
        if event.type == QUIT or event.type == KEYDOWN:
            sys.exit(0)

    for i, camera in enumerate(cameras):
        im = get_image(camera)
        blit_image(im, i)

    pygame.display.flip()
    pygame.time.delay(int(1000 * 1.0/fps))


From pj.assis at gmail.com  Fri Jan 15 15:11:59 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Fri, 15 Jan 2010 14:11:59 +0000
Subject: [Linux-uvc-devel] AF on Syntek 174f:5271
In-Reply-To: <2e314aae1001150350h4e9315f3m9cbed1d110b25a03@mail.gmail.com>
References: <2e314aae1001150025i75f8ebc7x6ecdfe07ae36ba18@mail.gmail.com>
	<59cf47a81001150337k299a5516s3953a63b1894dec4@mail.gmail.com>
	<2e314aae1001150350h4e9315f3m9cbed1d110b25a03@mail.gmail.com>
Message-ID: <59cf47a81001150611v3cd18355odd01b037e0267ce1@mail.gmail.com>

Could you check the entire control list with:
 "luvcview -L" or "guvcview --verbose"

Regards,
Paulo


2010/1/15 Alex Makarov <makarov.alex at gmail.com>:
> Hi,
>
> It looks like it does not export any focus:
>
> ?VideoControl Interface Descriptor:
> ? ? ?bLength ? ? ? ? ? ? ? ?18
> ? ? ?bDescriptorType ? ? ? ?36
> ? ? ?bDescriptorSubtype ? ? ?2 (INPUT_TERMINAL)
> ? ? ?bTerminalID ? ? ? ? ? ? 1
> ? ? ?wTerminalType ? ? ?0x0201 Camera Sensor
> ? ? ?bAssocTerminal ? ? ? ? ?0
> ? ? ?iTerminal ? ? ? ? ? ? ? 0
> ? ? ?wObjectiveFocalLengthMin ? ? ?0
> ? ? ?wObjectiveFocalLengthMax ? ? ?0
> ? ? ?wOcularFocalLength ? ? ? ? ? ?0
> ? ? ?bControlSize ? ? ? ? ? ? ? ? ?3
>>> ? ? ? bmControls ? ? ? ? ? 0x0000000a
>>> ? ? ? ? Auto-Exposure Mode
>>> ? ? ? ? Exposure Time (Absolute)
> VideoControl Interface Descriptor:
>
> Does that mean the camera has no focus control at all?
>
> Regards,
> Alex
>
>
> On Fri, Jan 15, 2010 at 13:37, Paulo Assis <pj.assis at gmail.com> wrote:
>> Hi,,
>> Autofocus is probably software driven in windows.
>> Does the camera export a manual focus at least ?
>> If it does it may be possible to patch guvcview so that it's internal
>> software AF engine can be used with that particular model, like it is
>> now for some logitech models.
>>
>> Regards,
>> Paulo
>>
>> 2010/1/15 Alex Makarov <makarov.alex at gmail.com>:
>>> Hello
>>>
>>> Can't make AF to work on Syntek camera 174f:5271. It doesn't work out
>>> of the box, and setting appropriate ioctl doesn't help (setting
>>> brightness etc via the same ioctl works). Ioctl says the feature is
>>> not supported, meanwhile, AFAIK, this camera has auto-focus.
>>>
>>> Any information on that?
>>>
>>> Regards,
>>> Alex
>>> _______________________________________________
>>> Linux-uvc-devel mailing list
>>> Linux-uvc-devel at lists.berlios.de
>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>>
>>
>


From pj.assis at gmail.com  Fri Jan 15 15:30:06 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Fri, 15 Jan 2010 14:30:06 +0000
Subject: [Linux-uvc-devel] Minoru Webcam with python-opencv:
	VIDIOC_STREAMON error 28, No space left on device
In-Reply-To: <1c62ab981001150356m573d6e79rde8109e8ad162aff@mail.gmail.com>
References: <1c62ab981001150356m573d6e79rde8109e8ad162aff@mail.gmail.com>
Message-ID: <59cf47a81001150630y4acfb987tc977728d33b74ef3@mail.gmail.com>

Hi,

2010/1/15 Javier Candeira <javier at candeira.com>:
> I am working with minoru3D, a dual-webcam that is really two z-star
> vimicro webcams and a usb hub in a single package.
>
> I can get images from either one of the cameras using python-opencv
> (Ubuntu 9.10, 32 bits), but when I try to capture from both cameras in
> sequence I get this error:
>
> "VIDIOC_STREAMON error 28, No space left on device"

It seems there is not enough USB bandwidth for streaming from both
cameras at the specified resolution/Mode.

I'm not a opencv expert but it looks you are asking for a  640x480
resolution, this shouldn't be a problem even for a uncompressed yuv
stream, in any case if the camera supports MJPG could you force that
mode instead and check if you still get the same error. Also try other
applications (luvcview, guvcview, cheese, ....)

I'm pretty sure that Laurent fixed some bandwidth issues with this
camera some time back, I'm surprised that this doesn't work in 2.6.31.

Regards,
Paulo


> Here are the error (funnily, there is no traceback) and code I am using:
>
> ####### Error from command line (not even a traceback):
> """
> kandinski at derive:~/data/work/hack/pyralax$ python dualcam.py
> VIDIOC_STREAMON error 28, No space left on device
> """
>
> ####### CODE:
>
> import pygame
> import Image
> from pygame.locals import *
> import sys
>
> import opencv
> #this is important for capturing/displaying images
> from opencv import highgui
>
> cameras = []
>
> def create_camera(n):
> ?camera = highgui.cvCreateCameraCapture(n)
> ?highgui.cvSetCaptureProperty(camera, highgui.CV_CAP_PROP_FRAME_WIDTH, 640)
> ?highgui.cvSetCaptureProperty(camera, highgui.CV_CAP_PROP_FRAME_HEIGHT, 480)
> ?return camera
>
> def get_image(camera):
> ? ?im = highgui.cvQueryFrame(camera)
> ? ?# Add the line below if you need it (Ubuntu 8.04+)
> ? ?im = opencv.cvGetMat(im)
> ? ?#convert Ipl image to PIL image
> ? ?return opencv.adaptors.Ipl2PIL(im)
>
> def blit_image(im, camera):
> ? ?pg_img = pygame.image.frombuffer(im.tostring(), im.size, im.mode)
> ? ?screen.blit(pg_img, (640*i,0))
>
>
> fps = ?15.0
> pygame.init()
> window = pygame.display.set_mode((1280,480))
> pygame.display.set_caption("WebCam Demo")
> screen = pygame.display.get_surface()
>
> for i in (0, 1):
> ? ?cameras.append(create_camera(i))
>
> while True:
> ? ?events = pygame.event.get()
> ? ?for event in events:
> ? ? ? ?if event.type == QUIT or event.type == KEYDOWN:
> ? ? ? ? ? ?sys.exit(0)
>
> ? ?for i, camera in enumerate(cameras):
> ? ? ? ?im = get_image(camera)
> ? ? ? ?blit_image(im, i)
>
> ? ?pygame.display.flip()
> ? ?pygame.time.delay(int(1000 * 1.0/fps))
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From makarov.alex at gmail.com  Fri Jan 15 15:30:35 2010
From: makarov.alex at gmail.com (Alex Makarov)
Date: Fri, 15 Jan 2010 16:30:35 +0200
Subject: [Linux-uvc-devel] AF on Syntek 174f:5271
In-Reply-To: <59cf47a81001150611v3cd18355odd01b037e0267ce1@mail.gmail.com>
References: <2e314aae1001150025i75f8ebc7x6ecdfe07ae36ba18@mail.gmail.com> 
	<59cf47a81001150337k299a5516s3953a63b1894dec4@mail.gmail.com> 
	<2e314aae1001150350h4e9315f3m9cbed1d110b25a03@mail.gmail.com> 
	<59cf47a81001150611v3cd18355odd01b037e0267ce1@mail.gmail.com>
Message-ID: <2e314aae1001150630o595e9e8egc2aa6bbae50071a@mail.gmail.com>

Hi,

here's what it says:

luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video1
Available controls of device 'Camera 1' (Type 1=Integer 2=Boolean
3=Menu 4=Button)
V4L2_CID_BASE         (predefined controls):
 index:9963776    name:Brightness                       type:1 min:0
  max:9     step:1     def:5     now:5
 index:9963777    name:Contrast                         type:1 min:0
  max:9     step:1     def:4     now:4
 index:9963778    name:Saturation                       type:1 min:0
  max:9     step:1     def:4     now:4
 index:9963779    name:Hue                              type:1 min:-5
  max:5     step:1     def:0     now:0
 index:9963792    name:Gamma                            type:1 min:0
  max:4     step:1     def:2     now:2
V4L2_CID_PRIVATE_BASE (driver specific controls):

Stop asked
 Clean Up done Quit


luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video1
/dev/video1 does not support read i/o
{ pixelformat = 'MJPG', description = 'MJPEG' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/1,
{ discrete: width = 1280, height = 1024 }
        Time interval between frame: 1/10, 2/15, 1/5, 1/1,
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/1,
{ discrete: width = 1600, height = 1200 }
        Time interval between frame: 1/10, 2/15, 1/5, 1/1,
{ discrete: width = 2048, height = 1536 }
        Time interval between frame: 1/10, 2/15, 1/5, 1/1,
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/1,
{ discrete: width = 1280, height = 1024 }
        Time interval between frame: 1/10, 2/15, 1/5, 1/1,
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/1,
{ discrete: width = 1600, height = 1200 }
        Time interval between frame: 1/10, 2/15, 1/5, 1/1,
{ discrete: width = 2048, height = 1536 }
        Time interval between frame: 1/10, 2/15, 1/5, 1/1,

Regards,
Alex


On Fri, Jan 15, 2010 at 16:11, Paulo Assis <pj.assis at gmail.com> wrote:
> Could you check the entire control list with:
> ?"luvcview -L" or "guvcview --verbose"
>
> Regards,
> Paulo
>
>
> 2010/1/15 Alex Makarov <makarov.alex at gmail.com>:
>> Hi,
>>
>> It looks like it does not export any focus:
>>
>> ?VideoControl Interface Descriptor:
>> ? ? ?bLength ? ? ? ? ? ? ? ?18
>> ? ? ?bDescriptorType ? ? ? ?36
>> ? ? ?bDescriptorSubtype ? ? ?2 (INPUT_TERMINAL)
>> ? ? ?bTerminalID ? ? ? ? ? ? 1
>> ? ? ?wTerminalType ? ? ?0x0201 Camera Sensor
>> ? ? ?bAssocTerminal ? ? ? ? ?0
>> ? ? ?iTerminal ? ? ? ? ? ? ? 0
>> ? ? ?wObjectiveFocalLengthMin ? ? ?0
>> ? ? ?wObjectiveFocalLengthMax ? ? ?0
>> ? ? ?wOcularFocalLength ? ? ? ? ? ?0
>> ? ? ?bControlSize ? ? ? ? ? ? ? ? ?3
>>>> ? ? ? bmControls ? ? ? ? ? 0x0000000a
>>>> ? ? ? ? Auto-Exposure Mode
>>>> ? ? ? ? Exposure Time (Absolute)
>> VideoControl Interface Descriptor:
>>
>> Does that mean the camera has no focus control at all?
>>
>> Regards,
>> Alex
>>
>>
>> On Fri, Jan 15, 2010 at 13:37, Paulo Assis <pj.assis at gmail.com> wrote:
>>> Hi,,
>>> Autofocus is probably software driven in windows.
>>> Does the camera export a manual focus at least ?
>>> If it does it may be possible to patch guvcview so that it's internal
>>> software AF engine can be used with that particular model, like it is
>>> now for some logitech models.
>>>
>>> Regards,
>>> Paulo
>>>
>>> 2010/1/15 Alex Makarov <makarov.alex at gmail.com>:
>>>> Hello
>>>>
>>>> Can't make AF to work on Syntek camera 174f:5271. It doesn't work out
>>>> of the box, and setting appropriate ioctl doesn't help (setting
>>>> brightness etc via the same ioctl works). Ioctl says the feature is
>>>> not supported, meanwhile, AFAIK, this camera has auto-focus.
>>>>
>>>> Any information on that?
>>>>
>>>> Regards,
>>>> Alex
>>>> _______________________________________________
>>>> Linux-uvc-devel mailing list
>>>> Linux-uvc-devel at lists.berlios.de
>>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>>>
>>>
>>
>


From laurent.pinchart at ideasonboard.com  Fri Jan 15 15:38:39 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 15 Jan 2010 15:38:39 +0100
Subject: [Linux-uvc-devel] AF on Syntek 174f:5271
In-Reply-To: <2e314aae1001150350h4e9315f3m9cbed1d110b25a03@mail.gmail.com>
References: <2e314aae1001150025i75f8ebc7x6ecdfe07ae36ba18@mail.gmail.com>
	<59cf47a81001150337k299a5516s3953a63b1894dec4@mail.gmail.com>
	<2e314aae1001150350h4e9315f3m9cbed1d110b25a03@mail.gmail.com>
Message-ID: <201001151538.39264.laurent.pinchart@ideasonboard.com>

Hi Alex,

On Friday 15 January 2010 12:50:43 Alex Makarov wrote:
> Hi,
> 
> It looks like it does not export any focus:
> 
>  VideoControl Interface Descriptor:
>       bLength                18
>       bDescriptorType        36
>       bDescriptorSubtype      2 (INPUT_TERMINAL)
>       bTerminalID             1
>       wTerminalType      0x0201 Camera Sensor
>       bAssocTerminal          0
>       iTerminal               0
>       wObjectiveFocalLengthMin      0
>       wObjectiveFocalLengthMax      0
>       wOcularFocalLength            0
>       bControlSize                  3
> 
> >>       bmControls           0x0000000a
> >>         Auto-Exposure Mode
> >>         Exposure Time (Absolute)
> 
> VideoControl Interface Descriptor:
> 
> Does that mean the camera has no focus control at all?

It means the camera doesn't advertise any standard focus control. It could 
still implement a standard focus control but not advertise it, or implement a 
vendor-specific focus control through an extension unit.

-- 
Regards,

Laurent Pinchart


From javier at candeira.com  Fri Jan 15 15:45:31 2010
From: javier at candeira.com (Javier Candeira)
Date: Sat, 16 Jan 2010 01:45:31 +1100
Subject: [Linux-uvc-devel] Minoru Webcam with python-opencv:
	VIDIOC_STREAMON error 28, No space left on device
In-Reply-To: <59cf47a81001150630y4acfb987tc977728d33b74ef3@mail.gmail.com>
References: <1c62ab981001150356m573d6e79rde8109e8ad162aff@mail.gmail.com>
	<59cf47a81001150630y4acfb987tc977728d33b74ef3@mail.gmail.com>
Message-ID: <1c62ab981001150645g238700b5u1353d93124b6453a@mail.gmail.com>

On Sat, Jan 16, 2010 at 1:30 AM, Paulo Assis <pj.assis at gmail.com> wrote:

> 2010/1/15 Javier Candeira <javier at candeira.com>:
>> I am working with minoru3D, a dual-webcam that is really two z-star
>> vimicro webcams and a usb hub in a single package.
>>
>> I can get images from either one of the cameras using python-opencv
>> (Ubuntu 9.10, 32 bits), but when I try to capture from both cameras in
>> sequence I get this error:
>>
>> "VIDIOC_STREAMON error 28, No space left on device"
>
> It seems there is not enough USB bandwidth for streaming from both
> cameras at the specified resolution/Mode.
>
> I'm not a opencv expert but it looks you are asking for a ?640x480
> resolution, this shouldn't be a problem even for a uncompressed yuv
> stream, in any case if the camera supports MJPG could you force that

Unfortunately the Minoru cams do not support MJPG.

> mode instead and check if you still get the same error. Also try other
> applications (luvcview, guvcview, cheese, ....)

I have tried running two instances of luvcview, two instances of
guvcview, one of each, one of either and one of cheese, to no avail.

When I try to run two instances of luvcview, one with /dev/video0 and
the other with /dev/video1, the first works fine, but the second
instance exits with this error:

kandinski at derive:~/data/work/hack/pyralax$ luvcview -d /dev/video1
luvcview 0.2.4

SDL information:
  Video driver: x11
  A window manager is available
Device information:
  Device path:  /dev/video1
Stream settings:
  Frame format: YUYV (MJPG is not supported by device)
  Frame size:   640x480
  Frame rate:   30 fps
Unable to start capture: No space left on device
Error grabbing
Cleanup done. Exiting ...

> I'm pretty sure that Laurent fixed some bandwidth issues with this
> camera some time back, I'm surprised that this doesn't work in 2.6.31.

Thanks a lot for your answer!

Cheers,

Javier


From laurent.pinchart at ideasonboard.com  Fri Jan 15 15:53:04 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 15 Jan 2010 15:53:04 +0100
Subject: [Linux-uvc-devel] Minoru Webcam with python-opencv:
	VIDIOC_STREAMON error 28, No space left on device
In-Reply-To: <1c62ab981001150645g238700b5u1353d93124b6453a@mail.gmail.com>
References: <1c62ab981001150356m573d6e79rde8109e8ad162aff@mail.gmail.com>
	<59cf47a81001150630y4acfb987tc977728d33b74ef3@mail.gmail.com>
	<1c62ab981001150645g238700b5u1353d93124b6453a@mail.gmail.com>
Message-ID: <201001151553.04769.laurent.pinchart@ideasonboard.com>

Hi Javier,

On Friday 15 January 2010 15:45:31 Javier Candeira wrote:
> On Sat, Jan 16, 2010 at 1:30 AM, Paulo Assis <pj.assis at gmail.com> wrote:
> > 2010/1/15 Javier Candeira <javier at candeira.com>:
> >> I am working with minoru3D, a dual-webcam that is really two z-star
> >> vimicro webcams and a usb hub in a single package.
> >>
> >> I can get images from either one of the cameras using python-opencv
> >> (Ubuntu 9.10, 32 bits), but when I try to capture from both cameras in
> >> sequence I get this error:
> >>
> >> "VIDIOC_STREAMON error 28, No space left on device"
> >
> > It seems there is not enough USB bandwidth for streaming from both
> > cameras at the specified resolution/Mode.
> >
> > I'm not a opencv expert but it looks you are asking for a  640x480
> > resolution, this shouldn't be a problem even for a uncompressed yuv
> > stream, in any case if the camera supports MJPG could you force that
> 
> Unfortunately the Minoru cams do not support MJPG.
> 
> > mode instead and check if you still get the same error. Also try other
> > applications (luvcview, guvcview, cheese, ....)
> 
> I have tried running two instances of luvcview, two instances of
> guvcview, one of each, one of either and one of cheese, to no avail.
> 
> When I try to run two instances of luvcview, one with /dev/video0 and
> the other with /dev/video1, the first works fine, but the second
> instance exits with this error:
> 
> kandinski at derive:~/data/work/hack/pyralax$ luvcview -d /dev/video1
> luvcview 0.2.4
> 
> SDL information:
>   Video driver: x11
>   A window manager is available
> Device information:
>   Device path:  /dev/video1
> Stream settings:
>   Frame format: YUYV (MJPG is not supported by device)
>   Frame size:   640x480
>   Frame rate:   30 fps
> Unable to start capture: No space left on device
> Error grabbing
> Cleanup done. Exiting ...

Could you please set the trace parameter to 0x400 and check the kernel log to 
see how much bandwidth the driver requests ? You will need to use the latest 
driver version from linuxtv.org for that.

-- 
Regards,

Laurent Pinchart


From javier at candeira.com  Fri Jan 15 16:21:56 2010
From: javier at candeira.com (Javier Candeira)
Date: Sat, 16 Jan 2010 02:21:56 +1100
Subject: [Linux-uvc-devel] Minoru Webcam with python-opencv:
	VIDIOC_STREAMON error 28, No space left on device
In-Reply-To: <201001151553.04769.laurent.pinchart@ideasonboard.com>
References: <1c62ab981001150356m573d6e79rde8109e8ad162aff@mail.gmail.com>
	<59cf47a81001150630y4acfb987tc977728d33b74ef3@mail.gmail.com>
	<1c62ab981001150645g238700b5u1353d93124b6453a@mail.gmail.com>
	<201001151553.04769.laurent.pinchart@ideasonboard.com>
Message-ID: <1c62ab981001150721h191c6536l1a5bd34d92f7610b@mail.gmail.com>

On Sat, Jan 16, 2010 at 1:53 AM, Laurent Pinchart
<laurent.pinchart at ideasonboard.com> wrote:
> Hi Javier,

> Could you please set the trace parameter to 0x400 and check the kernel log to
> see how much bandwidth the driver requests ? You will need to use the latest
> driver version from linuxtv.org for that.

Thanks. I don't know if I will be able to. I am a starting python
programmer with not much experience (Ubuntu is great that way, it just
works... so far). If you have the time, I will appreciate a bit of
hand-holding.

If I understand correctly, I have to:

- Download and install the latest driver from
http://linuxtv.org/downloads/ - which one should I pick?
- Then, set the trace parameter to 0x400... where is that parameter set?
- Then, launch my code and/or the dual luvcview applications, and when
it doesn't work, check the kernel log... but what do I have to search
it for?

Thanks a lot,

Javier Candeira


From jlegg3 at gmail.com  Fri Jan 15 19:52:23 2010
From: jlegg3 at gmail.com (jean-luc-ernest grimard-gauthereau)
Date: Fri, 15 Jan 2010 19:52:23 +0100
Subject: [Linux-uvc-devel] 04f2:a216
Message-ID: <dd6eaf011001151052o570b97b1i6c85b402dc6b7f7d@mail.gmail.com>

Bonjour,
        I saw the mailing list looking for any solution to make a hd-dv
        camcorder (camileo from toshiba) work like a usb-cam  (on hardy
heron -
        Ubuntu 8.04). did not find any at this time . (i tried a quick
"modprobe uvcvideo -f id=04f2:a216
with no result)
        If this can help i paste here what
                                               lsusb gives:

        Bus 007 Device 003: ID 04f2:a216 Chicony Electronics Co., Ltd
        Device Descriptor:
          bLength                18
          bDescriptorType         1
          bcdUSB               2.00
          bDeviceClass            0 (Defined at Interface level)
          bDeviceSubClass         0
          bDeviceProtocol         0
          bMaxPacketSize0        64
          idVendor           0x04f2 Chicony Electronics Co., Ltd
          idProduct          0xa216
          bcdDevice            0.00
          iManufacturer           1
          iProduct                2 Digital Video XXVIII-H
          iSerial                 3 0000000000001
          bNumConfigurations      1
          Configuration Descriptor:
            bLength                 9
            bDescriptorType         2
            wTotalLength           32
            bNumInterfaces          1
            bConfigurationValue     1
            iConfiguration          0
            bmAttributes         0x80
              (Bus Powered)
            MaxPower              100mA
            Interface Descriptor:
              bLength                 9
              bDescriptorType         4
              bInterfaceNumber        0
              bAlternateSetting       0
              bNumEndpoints           2
              bInterfaceClass         0 (Defined at Interface level)
              bInterfaceSubClass      0
              bInterfaceProtocol      0
              iInterface              0
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x01  EP 1 OUT
                bmAttributes            2
                  Transfer Type            Bulk
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0200  1x 512 bytes
                bInterval               0
              Endpoint Descriptor:
                bLength                 7
                bDescriptorType         5
                bEndpointAddress     0x81  EP 1 IN
                bmAttributes            2
                  Transfer Type            Bulk
                  Synch Type               None
                  Usage Type               Data
                wMaxPacketSize     0x0200  1x 512 bytes
                bInterval               0
        Device Qualifier (for other device speed):
          bLength                10
          bDescriptorType         6
          bcdUSB               2.00
          bDeviceClass            0 (Defined at Interface level)
          bDeviceSubClass         0
          bDeviceProtocol         0
          bMaxPacketSize0        64
          bNumConfigurations      1
        Device Status:     0x0001
          Self Powered

                                  lshw gives :
         *-usb:3
                     description: USB Controller
                     product: 82801JI (ICH10 Family) USB2 EHCI Controller #2
                     vendor: Intel Corporation
                     physical id: 1a.7
                     bus info: pci at 0000:00:1a.7
                     version: 00
                     width: 32 bits
                     clock: 33MHz
                     capabilities: ehci bus_master cap_list
                     configuration: driver=ehci_hcd latency=0
module=ehci_hcd
                   *-usbhost
                        product: EHCI Host Controller
                        vendor: Linux 2.6.24-26-generic ehci_hcd
                        physical id: 1
                        bus info: usb at 7
                        logical name: usb7
                        version: 2.06
                        capabilities: usb-2.00
                        configuration: maxpower=0mA slots=6 speed=480.0MB/s
                      *-usb UNCLAIMED
                           description: Generic USB device
                           product: Digital Video XXVIII-H
                           physical id: 1
                           bus info: usb at 7:1
                           version: 0.00
                           serial: 0000000000001
                           capabilities: usb-2.00
                           configuration: maxpower=100mA speed=480.0MB/s

        seems to be the same camera than the dragon D 50H from chicony

        i'm not very familiar with tweaking and looking at  hardware but
i'll
        disponible to communicate the result of some commands you'd give
        P.S.:j'habite Paris et voyant votre nom je serais bien s?r heureux
de
        pr?ter cette camera pour du "back-engeneering" si besoin . (il
semble
        que ce soit le m?me chip/ID sur la webcam de pas mal de portables)
        cordialement
        --
        Grimard-Gauthereau Jean-Luc <jlegg1 at free.fr>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100115/1f8277ee/attachment.html>

From javier at candeira.com  Sat Jan 16 04:20:12 2010
From: javier at candeira.com (Javier Candeira)
Date: Sat, 16 Jan 2010 14:20:12 +1100
Subject: [Linux-uvc-devel] Minoru Webcam with python-opencv:
	VIDIOC_STREAMON error 28, No space left on device
In-Reply-To: <1c62ab981001150721h191c6536l1a5bd34d92f7610b@mail.gmail.com>
References: <1c62ab981001150356m573d6e79rde8109e8ad162aff@mail.gmail.com>
	<59cf47a81001150630y4acfb987tc977728d33b74ef3@mail.gmail.com>
	<1c62ab981001150645g238700b5u1353d93124b6453a@mail.gmail.com>
	<201001151553.04769.laurent.pinchart@ideasonboard.com>
	<1c62ab981001150721h191c6536l1a5bd34d92f7610b@mail.gmail.com>
Message-ID: <1c62ab981001151920t7595a84aq79a1a83652f52b3a@mail.gmail.com>

On Sat, Jan 16, 2010 at 2:21 AM, Javier Candeira <javier at candeira.com> wrote:
> On Sat, Jan 16, 2010 at 1:53 AM, Laurent Pinchart
> <laurent.pinchart at ideasonboard.com> wrote:
>> Hi Javier,
>
>> Could you please set the trace parameter to 0x400 and check the kernel log to
>> see how much bandwidth the driver requests ? You will need to use the latest
>> driver version from linuxtv.org for that.

First of all, thanks to Paulo for explaining to me this process step-by-step.

After installing the driver from the linuxtv.org hg repo, I ran my
original python program, wich failed with the same message as before:

> kandinski at derive:~/data/work/hack/pyralax$ python dualcam.py
> VIDIOC_STREAMON error 28, No space left on device

Trying to run two concurrent instances of luvcview results in the
second one failing like before as well.

First instance:

> kandinski at derive:~/data/work/hack/pyralax$ luvcview -d /dev/video0
> luvcview 0.2.4
>
> SDL information:
>   Video driver: x11
>   A window manager is available
>   Device information:
>   Device path:  /dev/video0
> Stream settings:
>   Frame format: YUYV (MJPG is not supported by device)
>   Frame size:   640x480
>   Frame rate:   30 fps

Second instance:

> kandinski at derive:~/data/work/hack/pyralax$ luvcview -d /dev/video1
> luvcview 0.2.4
>
> SDL information:
>   Video driver: x11
>   A window manager is available
>   Device information:
>   Device path:  /dev/video1
> Stream settings:
>   Frame format: YUYV (MJPG is not supported by device)
>   Frame size:   640x480
>   Frame rate:   30 fps

> Unable to start capture: No space left on device
> Error grabbing
> Cleanup done. Exiting ...

This is what the mesages from uvcvideo look like:

kandinski at derive:~/data/work/hack/pyralax$ dmesg | grep uvcvideo
[ 9991.627425] uvcvideo: Found UVC 1.00 device Vimicro USB2.0 PC
Camera (0ac8:3420)
[ 9991.633086] uvcvideo: Found UVC 1.00 device Vimicro USB2.0 PC
Camera (0ac8:3410)
[ 9991.635317] usbcore: registered new interface driver uvcvideo
[17672.423723] uvcvideo: Failed to submit URB 0 (-28).
[17785.433643] uvcvideo: Failed to submit URB 0 (-28).
[17810.411517] uvcvideo: Failed to submit URB 0 (-28).
[18868.166622] uvcvideo: Failed to submit URB 0 (-28).
[25447.685380] uvcvideo: Failed to submit URB 0 (-28).
[28978.598598] uvcvideo: Found UVC 1.00 device Vimicro USB2.0 PC
Camera (0ac8:3420)
[28978.848173] uvcvideo: Found UVC 1.00 device Vimicro USB2.0 PC
Camera (0ac8:3410)
[28990.870555] uvcvideo: Failed to submit URB 0 (-28).
[29014.852066] uvcvideo: Failed to submit URB 0 (-28).
[29499.300886] uvcvideo: Failed to submit URB 0 (-28).
[31311.344253] uvcvideo: Failed to submit URB 0 (-28).
[31518.620630] uvcvideo: Failed to submit URB 0 (-28).
[48679.556337] uvcvideo: Failed to submit URB 0 (-28).
[61661.423977] uvcvideo: Failed to submit URB 0 (-28).
[64564.673552] uvcvideo: Failed to submit URB 0 (-28).
[64668.729047] uvcvideo: Failed to submit URB 0 (-28).

Cheers,


From javier at candeira.com  Sat Jan 16 09:22:33 2010
From: javier at candeira.com (Javier Candeira)
Date: Sat, 16 Jan 2010 19:22:33 +1100
Subject: [Linux-uvc-devel] Minoru Webcam with python-opencv:
	VIDIOC_STREAMON error 28, No space left on device
In-Reply-To: <1c62ab981001151920t7595a84aq79a1a83652f52b3a@mail.gmail.com>
References: <1c62ab981001150356m573d6e79rde8109e8ad162aff@mail.gmail.com>
	<59cf47a81001150630y4acfb987tc977728d33b74ef3@mail.gmail.com>
	<1c62ab981001150645g238700b5u1353d93124b6453a@mail.gmail.com>
	<201001151553.04769.laurent.pinchart@ideasonboard.com>
	<1c62ab981001150721h191c6536l1a5bd34d92f7610b@mail.gmail.com>
	<1c62ab981001151920t7595a84aq79a1a83652f52b3a@mail.gmail.com>
Message-ID: <1c62ab981001160022r60839facvdb17bd84a7488fc5@mail.gmail.com>

I finally managed to get images from both cameras by setting FPS to 15:

kandinski at derive:~/data/work/hack/pyralax$ luvcview -d /dev/video0 -i
15 & luvcview -d /dev/video1 -i 15

However, when trying to set the camera pfs property to 15 in
python-opencv, I get an error. This line of python:

>  highgui.cvSetCaptureProperty(camera, highgui.CV_CAP_PROP_FPS, 15.0)

produces this output on the console:

> kandinski at derive:~/data/work/hack/pyralax$ python dualcam.py
> HIGHGUI ERROR: V4L: setting property #5 is not supported
> HIGHGUI ERROR: V4L: setting property #5 is not supported
> VIDIOC_STREAMON error 28, No space left on device

Since the driver can set FPS (I tested that with luvcview), I think I
better take this to the python-opencv list.

Cheers and thanks for the help,

Javier Candeira


From laurent.pinchart at ideasonboard.com  Sun Jan 17 22:32:44 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sun, 17 Jan 2010 22:32:44 +0100
Subject: [Linux-uvc-devel] 04f2:a216
In-Reply-To: <dd6eaf011001151052o570b97b1i6c85b402dc6b7f7d@mail.gmail.com>
References: <dd6eaf011001151052o570b97b1i6c85b402dc6b7f7d@mail.gmail.com>
Message-ID: <201001172232.44141.laurent.pinchart@ideasonboard.com>

Hi Jean-Luc-Ernest,

On Friday 15 January 2010 19:52:23 jean-luc-ernest grimard-gauthereau wrote:
> Bonjour,
>
> I saw the mailing list looking for any solution to make a hd-dv
> camcorder (camileo from toshiba) work like a usb-cam  (on hardy heron -
> Ubuntu 8.04). did not find any at this time . (i tried a quick
> "modprobe uvcvideo -f id=04f2:a216 with no result)
>
> If this can help i paste here what lsusb gives:

[snip]

The camera is not UVC-compatible, so it will not be supported by the uvcvideo 
driver.

> seems to be the same camera than the dragon D 50H from chicony
> 
> i'm not very familiar with tweaking and looking at  hardware but i'll
> disponible to communicate the result of some commands you'd give
> P.S.:j'habite Paris et voyant votre nom je serais bien s?r heureux de
> pr?ter cette camera pour du "back-engeneering" si besoin . (il semble
> que ce soit le m?me chip/ID sur la webcam de pas mal de portables)

Thanks for your offer, but I'm not involved with USB camera drivers beside 
uvcvideo. You could try contacting the linux-media mailing list, maybe someone 
there could be able to help you.

-- 
Regards,

Laurent Pinchart


From oztiks at yewnix.net  Thu Jan 21 04:54:34 2010
From: oztiks at yewnix.net (Seth W)
Date: Wed, 20 Jan 2010 22:54:34 -0500
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
	bandwidth reservation issues?
In-Reply-To: <e77a8d391001141950m513751a7i536b0ba7171bb15a@mail.gmail.com>
References: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
	<201001110230.44910.laurent.pinchart@ideasonboard.com>
	<e77a8d391001101845u25afbb94pc8bdcdb824e25250@mail.gmail.com>
	<201001150120.07332.laurent.pinchart@ideasonboard.com>
	<e77a8d391001141950m513751a7i536b0ba7171bb15a@mail.gmail.com>
Message-ID: <e77a8d391001201954u297a3847xdebbeada931b824e@mail.gmail.com>

Hi Laurent,


I hate to be a pest but am curious as to whether or not you think this issue
will be solvable.  I am trying to determine if I will be keeping these two
cameras or returning them, as they are only useful to me if they will both
work (simultaneously) within the uvcvideo project. Thanks again for your
time.




On Thu, Jan 14, 2010 at 10:50 PM, Seth W <oztiks at yewnix.net> wrote:

> Here you go..
>
> [including dmesg information directly after modprobe uvcvideo];
>
> For the sake of clarity I have sent the output as three different
> attachments,
>
> uvcvideo-modprobe-dmesg.txt:  output from dmesg/kernel buffer after
> 'modprobe uvcvideo' (with options uvcvideo trace=0x40f)
> mencoder-dmesg.txt: output from dmesg/kernel buffer after running mencoder
> mencoder-output.txt: STDOUT from mencoder
>
> I am not terribly familiar with mencoder as I have been doing most of my
> testing with VLC, but the syntax I used for mencoder was
>
> mencoder tv:// -tv
> driver=v4l2:width=1280:height=720:device=/dev/video0:noaudio:fps=30:outfmt=mjpeg
> -ovc lavc -lavcopts vcodec=mpeg4:vpass=1:autoaspect  -o camera1.avi
>
> I did notice that when using mencoder there were tons of 'duplicate frames'
> messages which I am not sure if is related to this issue or not.
>
> If you need any further details please let me know. Thanks again for your
> assistance and commitment to this project :0
>
>
>
>
> On Thu, Jan 14, 2010 at 7:20 PM, Laurent Pinchart <
> laurent.pinchart at ideasonboard.com> wrote:
>
>> Hi Seth,
>>
>> On Monday 11 January 2010 03:45:21 Seth W wrote:
>> > Thanks for the prompt response
>>
>> I wouldn't call it prompt, and I apologize for that.
>>
>> > - I had actually tried MJPEG in mencoder (not sure how to test it in
>> > ffmpeg); but for some reason it allocates the same exact bandwidth as
>> well,
>> > no matter what resolution, codec (mjpeg or yuv), or frame rate. If you
>> can
>> > provide any insight into this or suggest any other methods of testing I
>> > would greatly appreciate it.
>>
>> Could you set the trace parameter to 0x40f and send me all messages
>> printed by
>> the driver to the kernel log when running mencoder in MJPEG mode ?
>>
>> > Once again, I'd like to thank you for your time.
>>
>> You're really welcome.
>>
>> --
>> Regards,
>>
>> Laurent Pinchart
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100120/65c64a08/attachment.html>

From sergiosanzzz at gmail.com  Fri Jan 22 09:08:03 2010
From: sergiosanzzz at gmail.com (Sergio)
Date: Fri, 22 Jan 2010 09:08:03 +0100
Subject: [Linux-uvc-devel] Driver webcam ID 1b3b:2937
In-Reply-To: <56cbd4381001220005p6c54ad3fm67ca3fc11171792c@mail.gmail.com>
References: <56cbd4381001220005p6c54ad3fm67ca3fc11171792c@mail.gmail.com>
Message-ID: <56cbd4381001220008r8c500qc339e8e9bb07a1d9@mail.gmail.com>

Hello.

Recently I've bought a MSI starcam mini+ Webcam and it doesn't have support
under Linux..

The driver disk that shipped with it contains a Windows program named
iP293x.exe.  A Google search based on that
suggests that this web cam is based on the iPassion iP2936/37 series of
chips.
Given that the USB product id is 2937, I assume that this one uses the
iP2397
chip. This web cam has a microphone and the iP2937 chip supports
microphones.
The technical brochure for this chip is
http://www.ipassion.com.tw/pdf/iP2937_DSH_1.pdf.

ID 1b3b:2937


Thank you very much.

-- 

Un saludo,

Sergio Sanz.



-- 

Un saludo,

Sergio Sanz.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100122/dbe78114/attachment.html>

From laurent.pinchart at ideasonboard.com  Sat Jan 23 14:18:25 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 23 Jan 2010 14:18:25 +0100
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
	bandwidth reservation issues?
In-Reply-To: <e77a8d391001201954u297a3847xdebbeada931b824e@mail.gmail.com>
References: <e77a8d391001050754h69f2886of2ab391d74169bc1@mail.gmail.com>
	<e77a8d391001141950m513751a7i536b0ba7171bb15a@mail.gmail.com>
	<e77a8d391001201954u297a3847xdebbeada931b824e@mail.gmail.com>
Message-ID: <201001231418.25611.laurent.pinchart@ideasonboard.com>

Hi Seth,

On Thursday 21 January 2010 04:54:34 Seth W wrote:
> Hi Laurent,
> 
> I hate to be a pest

Don't worry. I may be slow to answer due to my current work load, but I'm not 
ignoring you :-)

> but am curious as to whether or not you think this issue will be solvable.
> I am trying to determine if I will be keeping these two cameras or returning
> them, as they are only useful to me if they will both work (simultaneously)
> within the uvcvideo project. Thanks again for your time.

From the kernel log messages, it seems your camera requests the highest 
bandwidth even though it should be able to work with a much lower one. It's 
worth a try giving the camera less bandwidth that it asks for.

Bandwidth supported by the camera are 128, 256, 512, 1024, 2048 and 3072. 
Could you try to replace

	bandwidth = stream->ctrl.dwMaxPayloadTransferSize;

in uvc_video.c by all of the above bandwidths in turn to see which one work in 
1280x720 (MJPEG) ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Jan 23 14:08:47 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 23 Jan 2010 14:08:47 +0100
Subject: [Linux-uvc-devel] Driver webcam ID 1b3b:2937
In-Reply-To: <56cbd4381001220008r8c500qc339e8e9bb07a1d9@mail.gmail.com>
References: <56cbd4381001220005p6c54ad3fm67ca3fc11171792c@mail.gmail.com>
	<56cbd4381001220008r8c500qc339e8e9bb07a1d9@mail.gmail.com>
Message-ID: <201001231408.47881.laurent.pinchart@ideasonboard.com>

Hi Sergio,

On Friday 22 January 2010 09:08:03 Sergio wrote:
> Hello.
> 
> Recently I've bought a MSI starcam mini+ Webcam and it doesn't have support
> under Linux..
> 
> The driver disk that shipped with it contains a Windows program named
> iP293x.exe.  A Google search based on that suggests that this web cam is
> based on the iPassion iP2936/37 series of chips.
> Given that the USB product id is 2937, I assume that this one uses the
> iP2397 chip. This web cam has a microphone and the iP2937 chip supports
> microphones.
> The technical brochure for this chip is
> http://www.ipassion.com.tw/pdf/iP2937_DSH_1.pdf.
> 
> ID 1b3b:2937

Please read http://linux-uvc.berlios.de/faq/ to check if the camera is UVC 
compatible. If it is, please send me the output of

lsusb -v -d 1b3b:2937

as well as all messages printed to the kernel log when you plug the camera to 
your system.

If the camera isn't UVC compatible I'm afraid I won't be able to help you.

-- 
Regards,

Laurent Pinchart


From pdurand13 at libertysurf.fr  Sun Jan 24 20:29:30 2010
From: pdurand13 at libertysurf.fr (pdurand13 at libertysurf.fr)
Date: Sun, 24 Jan 2010 20:29:30 +0100
Subject: [Linux-uvc-devel] 0ac8:0332 webcam
Message-ID: <1264361370.4b5c9f9a2ddb0@webmail.aliceadsl.fr>


Hi,

If anyone has get good with webcam Targus AVC05EU, I'm interested:

Ubuntu Hardy Heon
lsusb
Bus 004 Device 004: ID 0ac8:0332 Z-Star Microelectronics Corp.
uname -a
Linux cascade 2.6.24-26-generic #1 SMP Tue Dec 1 18:37:31 UTC 2009 i686
GNU/Linux
dmseg
[ 3310.922125] uvcvideo: Found UVC 1.00 device USB 2.0 Camera (0ac8:0332)
[ 3310.939188] input: USB 2.0 Camera as
/devices/pci0000:00/0000:00:1d.7/usb4/4-1/4-1:1.0/input/input10
[ 3310.950460] usbcore: registered new interface driv

Thanks

Pierrotlancien


From laurent.pinchart at ideasonboard.com  Mon Jan 25 19:09:13 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Mon, 25 Jan 2010 19:09:13 +0100
Subject: [Linux-uvc-devel] 0ac8:0332 webcam
In-Reply-To: <1264361370.4b5c9f9a2ddb0@webmail.aliceadsl.fr>
References: <1264361370.4b5c9f9a2ddb0@webmail.aliceadsl.fr>
Message-ID: <201001251909.13754.laurent.pinchart@ideasonboard.com>

Hi,

On Sunday 24 January 2010 20:29:30 pdurand13 at libertysurf.fr wrote:
> Hi,
> 
> If anyone has get good with webcam Targus AVC05EU, I'm interested:
> 
> Ubuntu Hardy Heon
> lsusb
> Bus 004 Device 004: ID 0ac8:0332 Z-Star Microelectronics Corp.
> uname -a
> Linux cascade 2.6.24-26-generic #1 SMP Tue Dec 1 18:37:31 UTC 2009 i686
> GNU/Linux
> dmseg
> [ 3310.922125] uvcvideo: Found UVC 1.00 device USB 2.0 Camera (0ac8:0332)
> [ 3310.939188] input: USB 2.0 Camera as
> /devices/pci0000:00/0000:00:1d.7/usb4/4-1/4-1:1.0/input/input10
> [ 3310.950460] usbcore: registered new interface driv

That looks fine, what's your issue ?

-- 
Regards,

Laurent Pinchart


From bram at luon.net  Tue Jan 26 16:12:02 2010
From: bram at luon.net (Bram Senders)
Date: Tue, 26 Jan 2010 16:12:02 +0100
Subject: [Linux-uvc-devel] Unlisted partially-supported webcam
Message-ID: <1e0de1821001260712t59f5e468y6dec85871dab2289@mail.gmail.com>

Hi there,

I have here a partially working webcam which is unlisted on the list
of known cameras; it's the built-in camera found in the Asus EeePC T91
netbook.

"dmesg" says:
===
[    3.683885] uvcvideo: Found UVC 1.00 device USB 2.0 Camera (13d3:509b)
[    3.685259] Error: Driver 'pcspkr' is already registered, aborting...
[    3.695705] input: USB 2.0 Camera as
/devices/pci0000:00/0000:00:1d.7/usb1/1-7/1-7:1.0/input/input6
[    3.695886] usbcore: registered new interface driver uvcvideo
[    3.695898] USB Video Class driver (v0.1.0)
===

"lsusb -v" says:
====
Bus 001 Device 005: ID 13d3:509b IMC Networks
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x13d3 IMC Networks
  idProduct          0x509b
  bcdDevice            3.07
  iManufacturer           2 GenesysLogic Technology Co., Ltd.
  iProduct                3 USB 2.0 Camera
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          446
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower               98mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               1 USB 2.0 Camera
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              1 USB 2.0 Camera
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           78
        dwClockFrequency       60.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             4
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                27
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 2
        guidExtensionCode         {0b365d5e-5fe4-8145-9b0b-374669ba05d4}
        bNumControl            16
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            2
        bmControls( 0)       0xff
        bmControls( 1)       0x00
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000077f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Gain
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x 0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0017  1x 23 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         1
        wTotalLength                      257
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       4
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                6
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 18432000
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1152000
        dwMaxBitRate                  1152000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  1520640
        dwMaxBitRate                  1520640
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  4608000
        dwMaxBitRate                  4608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  6082560
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 18432000
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               6
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        160
        wHeight( 1)                       120
        wWidth( 2)                        176
        wHeight( 2)                       144
        wWidth( 3)                        320
        wHeight( 3)                       240
        wWidth( 4)                        352
        wHeight( 4)                       288
        wWidth( 5)                        640
        wHeight( 5)                       480
        bNumCompressionPatterns             6
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0400  1x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0c00  2x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)
====

Now, as far as the working status of this camera is concerned, some
apps work and others don't.  For example, I can display video with the
GUVCView application, and I can record video with FFmpeg using "ffmpeg
-f video4linux2 -s 640x480 -r 30 -i /dev/video0 -vcodec copy bla.avi".
 However, particularly GStreamer-based applications seem not to work
at all; for example the standard GNOME webcam app Cheese does not
work.

This seems to be the case because GStreamer's v4l2src element want to
get a camera attribute which seems to be not supported by the driver.
For example, gst-launch says:
====
$ gst-launch v4l2src ! filesink location=foo
Setting pipeline to PAUSED ...
ERROR: Pipeline doesn't want to pause.
ERROR: from element /GstPipeline:pipeline0/GstV4l2Src:v4l2src0: Failed
getting controls attributes on device '/dev/video0'.
Additional debug info:
v4l2_calls.c(264): gst_v4l2_fill_lists ():
/GstPipeline:pipeline0/GstV4l2Src:v4l2src0:
Failed querying control 9963795 on device '/dev/video0'. (5 -
Input/output error)
Setting pipeline to NULL ...
Freeing pipeline ...
====

When I execute this command, I get the following message from dmesg:
====
[ 1799.428886] uvcvideo: Failed to query (135) UVC control 4 (unit 3)
: -32 (exp. 2).
====

This is using kernel 2.6.32-trunk-686 from Debian unstable.

Now I don't really know what control 9963795 is, or what UVC control 4
(unit 3) is, but since I would like to do some simple GStreamer-based
development with this webcam myself, any help on getting this to work
would be appreciated!  I don't know whether this is a bug in the
kernel driver or in GStreamer or possibly in the camera itself, but
any way in which I could try to get this to work (either by patching
the kernel driver, or possibly trying to patch the GStreamer v4l2src
element to not query the relevant control?) or further debug this
thing would be really really helpful.

Thanks in advance,

Bram Senders
bram at luon.net


From sergiosanzzz at gmail.com  Mon Jan 25 20:31:32 2010
From: sergiosanzzz at gmail.com (Sergio)
Date: Mon, 25 Jan 2010 20:31:32 +0100
Subject: [Linux-uvc-devel] MSI starcam mini+ compatible with Linux
Message-ID: <56cbd4381001251131s4e73356cs1a35c97045e9046d@mail.gmail.com>

Hello,

I think that the camera MSI starcam mini+ isn't compatible with Linux,
because the command doesn't output anything. I thought that it could be
compatible becouse other model from MSI "1b3b:2951 MSI StarCam 370i" is
compatible with the uvc driver.

# lsusb -v -d 1b3b:2937 | grep "14 Video"
Doesn't print anything.

I put the next outputs for someone wants and knows how to help me:

Bus 002 Device 003: ID 1b3b:2937 iPassion Technology Inc. PC Camera/Webcam
controller
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0         8
  idVendor           0x1b3b iPassion Technology Inc.
  idProduct          0x2937 PC Camera/Webcam controller
  bcdDevice            1.00
  iManufacturer           0
  iProduct                0
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          313
    bNumInterfaces          3
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      0
      bInterfaceProtocol    255
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x03  EP 3 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       1
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      0
      bInterfaceProtocol    255
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x03  EP 3 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       2
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      0
      bInterfaceProtocol    255
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x03  EP 3 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       3
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      0
      bInterfaceProtocol    255
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0280  1x 640 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x03  EP 3 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       4
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      0
      bInterfaceProtocol    255
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0300  1x 768 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x03  EP 3 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       5
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      0
      bInterfaceProtocol    255
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0380  1x 896 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x03  EP 3 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       6
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      0
      bInterfaceProtocol    255
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x03ff  1x 1023 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x03  EP 3 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           39
        bInCollection           1
        baInterfaceNr( 0)       2
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 2
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x03
          Mute
          Volume
        bmaControls( 1)      0x00
        iFeature                0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               1
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x00
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]         8000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               1
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x00
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Status:     0x0000
  (Bus Powered)




#uname -r
2.6.31-17-generic-pae

#dmesg
[ 4783.832021] usb 2-1: new full speed USB device using uhci_hcd and address
3
[ 4784.017044] usb 2-1: configuration #1 chosen from 1 choice
[ 4784.089260] usbcore: registered new interface driver snd-usb-audio}

thaks a lot


2010/1/25 <linux-uvc-devel-request at lists.berlios.de>

> Send Linux-uvc-devel mailing list submissions to
>        linux-uvc-devel at lists.berlios.de
>
> To subscribe or unsubscribe via the World Wide Web, visit
>        https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> or, via email, send a message with subject or body 'help' to
>        linux-uvc-devel-request at lists.berlios.de
>
> You can reach the person managing the list at
>        linux-uvc-devel-owner at lists.berlios.de
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Linux-uvc-devel digest..."
>
>
> Today's Topics:
>
>   1. Re: Microsoft LifeCam Cinema (045e:075d)  bandwidth
>      reservation issues? (Laurent Pinchart)
>   2. Re: Driver webcam ID 1b3b:2937 (Laurent Pinchart)
>   3. 0ac8:0332 webcam (pdurand13 at libertysurf.fr)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Sat, 23 Jan 2010 14:18:25 +0100
> From: Laurent Pinchart <laurent.pinchart at ideasonboard.com>
> Subject: Re: [Linux-uvc-devel] Microsoft LifeCam Cinema (045e:075d)
>        bandwidth reservation issues?
> To: Seth W <oztiks at yewnix.net>
> Cc: linux-uvc-devel at lists.berlios.de
> Message-ID: <201001231418.25611.laurent.pinchart at ideasonboard.com>
> Content-Type: Text/Plain;  charset="iso-8859-15"
>
> Hi Seth,
>
> On Thursday 21 January 2010 04:54:34 Seth W wrote:
> > Hi Laurent,
> >
> > I hate to be a pest
>
> Don't worry. I may be slow to answer due to my current work load, but I'm
> not
> ignoring you :-)
>
> > but am curious as to whether or not you think this issue will be
> solvable.
> > I am trying to determine if I will be keeping these two cameras or
> returning
> > them, as they are only useful to me if they will both work
> (simultaneously)
> > within the uvcvideo project. Thanks again for your time.
>
> From the kernel log messages, it seems your camera requests the highest
> bandwidth even though it should be able to work with a much lower one. It's
> worth a try giving the camera less bandwidth that it asks for.
>
> Bandwidth supported by the camera are 128, 256, 512, 1024, 2048 and 3072.
> Could you try to replace
>
>        bandwidth = stream->ctrl.dwMaxPayloadTransferSize;
>
> in uvc_video.c by all of the above bandwidths in turn to see which one work
> in
> 1280x720 (MJPEG) ?
>
> --
> Regards,
>
> Laurent Pinchart
>
>
> ------------------------------
>
> Message: 2
> Date: Sat, 23 Jan 2010 14:08:47 +0100
> From: Laurent Pinchart <laurent.pinchart at ideasonboard.com>
> Subject: Re: [Linux-uvc-devel] Driver webcam ID 1b3b:2937
> To: linux-uvc-devel at lists.berlios.de
> Cc: Sergio <sergiosanzzz at gmail.com>
> Message-ID: <201001231408.47881.laurent.pinchart at ideasonboard.com>
> Content-Type: Text/Plain;  charset="iso-8859-15"
>
> Hi Sergio,
>
> On Friday 22 January 2010 09:08:03 Sergio wrote:
> > Hello.
> >
> > Recently I've bought a MSI starcam mini+ Webcam and it doesn't have
> support
> > under Linux..
> >
> > The driver disk that shipped with it contains a Windows program named
> > iP293x.exe.  A Google search based on that suggests that this web cam is
> > based on the iPassion iP2936/37 series of chips.
> > Given that the USB product id is 2937, I assume that this one uses the
> > iP2397 chip. This web cam has a microphone and the iP2937 chip supports
> > microphones.
> > The technical brochure for this chip is
> > http://www.ipassion.com.tw/pdf/iP2937_DSH_1.pdf.
> >
> > ID 1b3b:2937
>
> Please read http://linux-uvc.berlios.de/faq/ to check if the camera is UVC
> compatible. If it is, please send me the output of
>
> lsusb -v -d 1b3b:2937
>
> as well as all messages printed to the kernel log when you plug the camera
> to
> your system.
>
> If the camera isn't UVC compatible I'm afraid I won't be able to help you.
>
> --
> Regards,
>
> Laurent Pinchart
>
>
> ------------------------------
>
> Message: 3
> Date: Sun, 24 Jan 2010 20:29:30 +0100
> From: pdurand13 at libertysurf.fr
> Subject: [Linux-uvc-devel] 0ac8:0332 webcam
> To: linux-uvc-devel at lists.berlios.de
> Message-ID: <1264361370.4b5c9f9a2ddb0 at webmail.aliceadsl.fr>
> Content-Type: text/plain; charset=ISO-8859-1
>
>
> Hi,
>
> If anyone has get good with webcam Targus AVC05EU, I'm interested:
>
> Ubuntu Hardy Heon
> lsusb
> Bus 004 Device 004: ID 0ac8:0332 Z-Star Microelectronics Corp.
> uname -a
> Linux cascade 2.6.24-26-generic #1 SMP Tue Dec 1 18:37:31 UTC 2009 i686
> GNU/Linux
> dmseg
> [ 3310.922125] uvcvideo: Found UVC 1.00 device USB 2.0 Camera (0ac8:0332)
> [ 3310.939188] input: USB 2.0 Camera as
> /devices/pci0000:00/0000:00:1d.7/usb4/4-1/4-1:1.0/input/input10
> [ 3310.950460] usbcore: registered new interface driv
>
> Thanks
>
> Pierrotlancien
>
>
> ------------------------------
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
> End of Linux-uvc-devel Digest, Vol 43, Issue 17
> ***********************************************
>



-- 

Un saludo,

Sergio Sanz.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100125/32ed8ad0/attachment.html>

From bram at luon.net  Thu Jan 28 14:37:24 2010
From: bram at luon.net (Bram Senders)
Date: Thu, 28 Jan 2010 14:37:24 +0100
Subject: [Linux-uvc-devel] Unlisted partially-supported webcam
In-Reply-To: <1e0de1821001260712t59f5e468y6dec85871dab2289@mail.gmail.com>
References: <1e0de1821001260712t59f5e468y6dec85871dab2289@mail.gmail.com>
Message-ID: <1e0de1821001280537k184ecafek8d4c961fdb34a9b4@mail.gmail.com>

On Tue, Jan 26, 2010 at 4:12 PM, Bram Senders <bram at luon.net> wrote:
[snip]
> This seems to be the case because GStreamer's v4l2src element want to
> get a camera attribute which seems to be not supported by the driver.
> For example, gst-launch says:
> ====
> $ gst-launch v4l2src ! filesink location=foo
> Setting pipeline to PAUSED ...
> ERROR: Pipeline doesn't want to pause.
> ERROR: from element /GstPipeline:pipeline0/GstV4l2Src:v4l2src0: Failed
> getting controls attributes on device '/dev/video0'.
> Additional debug info:
> v4l2_calls.c(264): gst_v4l2_fill_lists ():
> /GstPipeline:pipeline0/GstV4l2Src:v4l2src0:
> Failed querying control 9963795 on device '/dev/video0'. (5 -
> Input/output error)
> Setting pipeline to NULL ...
> Freeing pipeline ...
> ====

I managed to "fix" this by applying the following patch to GStreamer's
v4l2src element (from the gst-plugins-good collection):
====
--- sys/v4l2/v4l2_calls.c.old   2010-01-28 14:20:58.000000000 +0100
+++ sys/v4l2/v4l2_calls.c       2010-01-28 12:14:34.000000000 +0100
@@ -243,6 +243,10 @@
       GST_DEBUG_OBJECT (e, "checking private CIDs");
       n = V4L2_CID_PRIVATE_BASE;
     }
+    if (n == 9963795) {
+      GST_DEBUG_OBJECT (e, "NOT checking control %08x", n);
+      continue;
+    }
     GST_DEBUG_OBJECT (e, "checking control %08x", n);

     control.id = n;
====

It is only this specific control that causes trouble by making the UVC
driver throw an I/O error.  It feels like this isn't really the place
to fix this, though, so maybe this I/O error should occur in the first
place?  Anybody who can help me with that?

Cheers,

Bram Senders
bram at luon.net


From celejar at gmail.com  Sun Jan 31 01:59:53 2010
From: celejar at gmail.com (Celejar)
Date: Sat, 30 Jan 2010 19:59:53 -0500
Subject: [Linux-uvc-devel] Yet another unlisted, supported webcam
In-Reply-To: <201001150132.03689.laurent.pinchart@ideasonboard.com>
References: <20100112181227.16e0472e.celejar@gmail.com>
	<201001150132.03689.laurent.pinchart@ideasonboard.com>
Message-ID: <20100130195953.8354b323.celejar@gmail.com>

On Fri, 15 Jan 2010 01:32:03 +0100
Laurent Pinchart <laurent.pinchart at ideasonboard.com> wrote:

> Hi Celejar,
> 
> On Wednesday 13 January 2010 00:12:27 Celejar wrote:
> > Hi,

...


> > Thanks for your work on this project!
> 
> You're welcome. Thanks for the report. I'll update the supported devices list 
> as soon as Berlios become responsive again.

Hi Laurent,

Just a reminder to add my camera to the list (unless Berlios is still
unresponsive):

https://lists.berlios.de/pipermail/linux-uvc-devel/2010-January/005483.html

[The web archive seems to have chopped off much of my message,
including the log output and the lsusb output - I can repost them if
necessary.]

Celejar
-- 
foffl.sourceforge.net - Feeds OFFLine, an offline RSS/Atom aggregator
mailmin.sourceforge.net - remote access via secure (OpenPGP) email
ssuds.sourceforge.net - A Simple Sudoku Solver and Generator



From frank.fqc at gmail.com  Sun Jan 31 16:58:35 2010
From: frank.fqc at gmail.com (Chudnovsky Yury)
Date: Sun, 31 Jan 2010 17:58:35 +0200
Subject: [Linux-uvc-devel] Webcam report
Message-ID: <d7ba218d1001310758w30f7b5a5m3743316b4d792119@mail.gmail.com>

Hi, All!
I've just tested UVC webcam Genius iSlim 2000 AF (ID 0458:705d KYE
Systems Corp. (Mouse Systems)), not listed in
http://linux-uvc.berlios.de/#devices and found it good working,
including microphone (ALSA). Not working only camera buttons, but who
care of this :)
Thanks to all of you who worked on GNU/Linux UVC support!


