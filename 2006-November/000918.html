<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Recording video and grabbing a frame
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Recording%20video%20and%20grabbing%20a%20frame&In-Reply-To=%3Cecc945da0611021524t468a955fs2d2a6c8b14353279%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000916.html">
   <LINK REL="Next"  HREF="000922.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Recording video and grabbing a frame</H1>
    <B>pierre gronlier</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Recording%20video%20and%20grabbing%20a%20frame&In-Reply-To=%3Cecc945da0611021524t468a955fs2d2a6c8b14353279%40mail.gmail.com%3E"
       TITLE="[Linux-uvc-devel] Recording video and grabbing a frame">pierre.gronlier at gmail.com
       </A><BR>
    <I>Fri Nov  3 00:24:29 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000916.html">[Linux-uvc-devel] Recording video and grabbing a frame
</A></li>
        <LI>Next message: <A HREF="000922.html">[Linux-uvc-devel] Recording video and grabbing a frame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#918">[ date ]</a>
              <a href="thread.html#918">[ thread ]</a>
              <a href="subject.html#918">[ subject ]</a>
              <a href="author.html#918">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Vidar,

ffmpeg -y -vd /dev/video0 -target vcd -t 15 test.avi
is working perfectly at home and record 15 sec.
I'm using ffmpeg-0.4.9_p20060530. (cvs version)
What is your version ?

Pierre

On 02/11/06, Vidar Normann &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">vidarno at gmail.com</A>&gt; wrote:
&gt;<i> GStreamer is an X-windows program, right? I'll have to look into it
</I>&gt;<i> tomorrow.
</I>&gt;<i> I've used this entire day trying to get ffmpeg to work, my only hurdle being
</I>&gt;<i> that
</I>&gt;<i> it currently doesn't care if I use &quot;-t&quot; so I'm unable to specify a period
</I>&gt;<i> for it to
</I>&gt;<i> record, and thus it's kind of useless for me..If anyone is interested, this
</I>&gt;<i> is
</I>&gt;<i> the line which doesn't work as expected (based on Pierres script)
</I>&gt;<i>
</I>&gt;<i> ffmpeg -vd &quot;/dev/video0&quot; -target vcd -t 15 &quot;test.avi &quot;
</I>&gt;<i> (should result in 15-second recording,but it keeps on recording and I have
</I>&gt;<i> to quit it with &quot;q&quot;)
</I>&gt;<i>
</I>&gt;<i> Anyway, thanks for the great suggestions so far.
</I>&gt;<i>
</I>&gt;<i> Sleepy,
</I>&gt;<i> Vidar
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  On 11/2/06, Martin Rubli &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux at rubli.info</A>&gt; wrote:
</I>&gt;<i> &gt; Have you tried using GStreamer? The latest version of GStreamer's v4l2src
</I>&gt;<i> &gt; plugin works quite well with the UVC driver. It has proven quite flexible
</I>&gt;<i> &gt; in the past and you could probably use gst-launch or write your own little
</I>&gt;<i> &gt; command line program if you want to script it.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cheers,
</I>&gt;<i> &gt; Martin
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Thu, 02 Nov 2006 00:21:11 +0100, Vidar Normann &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">vidarno at gmail.com</A>&gt;
</I>&gt;<i> &gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I need to record video from my webcam, a Logitech Quickam for Notebooks
</I>&gt;<i> &gt; &gt; Pro,
</I>&gt;<i> &gt; &gt; and also grab a stillframe fairly often, say each 10-20 seconds? I am
</I>&gt;<i> &gt; &gt; unsure
</I>&gt;<i> &gt; &gt; which
</I>&gt;<i> &gt; &gt; software is compatible with the uvc driver, but what I need is software
</I>&gt;<i> &gt; &gt; where I can
</I>&gt;<i> &gt; &gt; specify that it has to record for an hour and then start a new file,
</I>&gt;<i> &gt; &gt; recording for an
</I>&gt;<i> &gt; &gt; hour, etc.). A comnmand-line utility is preferred as this is for a
</I>&gt;<i> &gt; &gt; surveillance system.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; For framegrabbing I have tried to use uvccapture (0.4) but if I run the
</I>&gt;<i> &gt; &gt; command
</I>&gt;<i> &gt; &gt; with the following parameters I get an  &quot;ioctl reset control error&quot; and
</I>&gt;<i> &gt; &gt; &quot;ioctl
</I>&gt;<i> &gt; &gt; querycontrol error 5&quot;: .
</I>&gt;<i> &gt; &gt; /uvccapture -t10
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Any and all help is greatly appreciated. And let me thank you all for
</I>&gt;<i> &gt; &gt; great
</I>&gt;<i> &gt; &gt; work
</I>&gt;<i> &gt; &gt; with the uvc driver and helpful replies in the mailing list (which I
</I>&gt;<i> have
</I>&gt;<i> &gt; &gt; read quite
</I>&gt;<i> &gt; &gt; alot of posts of).
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Sincerely,
</I>&gt;<i> &gt; &gt; Vidar Normann
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Linux-uvc-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
www.gentoo.org - www.dptmaths.ens-cachan.fr - www.epita.fr - www.iitk.ac.in
<A HREF="http://ticapix.blogspot.com/">http://ticapix.blogspot.com/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000916.html">[Linux-uvc-devel] Recording video and grabbing a frame
</A></li>
	<LI>Next message: <A HREF="000922.html">[Linux-uvc-devel] Recording video and grabbing a frame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#918">[ date ]</a>
              <a href="thread.html#918">[ thread ]</a>
              <a href="subject.html#918">[ subject ]</a>
              <a href="author.html#918">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
