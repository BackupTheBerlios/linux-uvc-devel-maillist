<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Jitter during multiple camera (Fusion)	capture [Re:Maximum framerate with multiple USB 2 cameras?]
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Jitter%20during%20multiple%20camera%20%28Fusion%29%0A%09capture%20%5BRe%3AMaximum%20framerate%20with%20multiple%20USB%202%20cameras%3F%5D&In-Reply-To=%3C74e91400611040931r1c6de257xe269e633ea6e69b3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000935.html">
   <LINK REL="Next"  HREF="000920.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Jitter during multiple camera (Fusion)	capture [Re:Maximum framerate with multiple USB 2 cameras?]</H1>
    <B>Denis McLaughlin</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Jitter%20during%20multiple%20camera%20%28Fusion%29%0A%09capture%20%5BRe%3AMaximum%20framerate%20with%20multiple%20USB%202%20cameras%3F%5D&In-Reply-To=%3C74e91400611040931r1c6de257xe269e633ea6e69b3%40mail.gmail.com%3E"
       TITLE="[Linux-uvc-devel] Jitter during multiple camera (Fusion)	capture [Re:Maximum framerate with multiple USB 2 cameras?]">mclaughlin.denis at gmail.com
       </A><BR>
    <I>Sat Nov  4 18:31:32 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000935.html">[Linux-uvc-devel] Jitter during multiple camera (Fusion) capture [Re:Maximum framerate with multiple USB 2 cameras?]
</A></li>
        <LI>Next message: <A HREF="000920.html">[Linux-uvc-devel] Maximum framerate with multiple USB 2 cameras?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#943">[ date ]</a>
              <a href="thread.html#943">[ thread ]</a>
              <a href="subject.html#943">[ subject ]</a>
              <a href="author.html#943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Pablo,

Thank you for this data! Looks like 1.6% of all frames are lost. I noticed
&gt;<i> that the jitter always start with a very long delay, and they seem to be
</I>&gt;<i> quite regular. I have attached a histogram over the time between the
</I>&gt;<i> jitters, and the jitter seems to occur at multiples of 80 frames. Hard to
</I>&gt;<i> say where it comes from, but it might be a buffering problem?
</I>

  Hmm, yeah, that is interesting.  Could be USB bus contention, or maybe
disk activity or something.

&gt;<i>   Whether or not this jitter is big enough to cause a problem depends on
</I>&gt;<i> &gt; how synchronized you need frames from the cameras to be: the jitter I
</I>&gt;<i> &gt; show above is quite tolerable for my purposes.
</I>&gt;<i>
</I>&gt;<i> While I haven't calculated the tolerable amount yet, I think I probably
</I>&gt;<i> need
</I>&gt;<i> to synchronize the image streams after they have been captured.
</I>

  After processing my 15fps streams, I find that I can get the frames
synchronized to within about 0.02 seconds, meaning that there's a spread of
about 0.02 seconds between the frames that I'm assigning to the same time
slot.  That's good enough for me... :)


&gt;<i> I actually had a
</I>&gt;<i> &gt; breakthrough last night, when I realized my audio/visual synch wasn't
</I>&gt;<i> &gt; caused by the video frames being non-uniform, but rather that the audio
</I>&gt;<i> &gt; I recorded from the USB mics isn't correct.  When I matched the video up
</I>&gt;<i> &gt; against the audio from a DV video camera filming the same scene,
</I>&gt;<i> &gt; everything looked fine (wrt synch).  Yay!
</I>&gt;<i>
</I>&gt;<i> Good to know. But actually the video frames should be approximately 1.6%
</I>&gt;<i> faster than the audio, based on the data you posted. Maybe that amount is
</I>&gt;<i> harder to notice, but after two hours, the difference would be 115
</I>&gt;<i> seconds?
</I>

  Well, because I'm timestamping the frames as I capture them, I can figure
out which ones are missing and duplicate others to fill in.  When the video
is played, the duping makes it look like the scene is frozen, but it's only
very brief, so that's cool.

Denis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20061104/7c06c47b/attachment.html">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20061104/7c06c47b/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000935.html">[Linux-uvc-devel] Jitter during multiple camera (Fusion) capture [Re:Maximum framerate with multiple USB 2 cameras?]
</A></li>
	<LI>Next message: <A HREF="000920.html">[Linux-uvc-devel] Maximum framerate with multiple USB 2 cameras?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#943">[ date ]</a>
              <a href="thread.html#943">[ thread ]</a>
              <a href="subject.html#943">[ subject ]</a>
              <a href="author.html#943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
