<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Experimental patch for USB problem with	Logitech webcams
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Experimental%20patch%20for%20USB%20problem%20with%0A%09Logitech%20webcams&In-Reply-To=%3Cop.tiswffeg42iof8%40misha%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000963.html">
   <LINK REL="Next"  HREF="000974.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Experimental patch for USB problem with	Logitech webcams</H1>
    <B>Martin Rubli</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Experimental%20patch%20for%20USB%20problem%20with%0A%09Logitech%20webcams&In-Reply-To=%3Cop.tiswffeg42iof8%40misha%3E"
       TITLE="[Linux-uvc-devel] Experimental patch for USB problem with	Logitech webcams">linux at rubli.info
       </A><BR>
    <I>Fri Nov 10 13:46:17 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000963.html">[Linux-uvc-devel] Experimental patch for USB problem with	Logitech webcams
</A></li>
        <LI>Next message: <A HREF="000974.html">[Linux-uvc-devel] Experimental patch for USB problem with	Logitech webcams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#965">[ date ]</a>
              <a href="thread.html#965">[ thread ]</a>
              <a href="subject.html#965">[ subject ]</a>
              <a href="author.html#965">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Vidar,

Could you try changing the line that reads

if(ret &gt;= 0 || ret != -EPIPE)

to

if(ret &gt;= 0 || (ret != -EPIPE &amp;&amp; ret != -ETIMEDOUT))

to see if the camera recovers from error -110 (ETIMEDOUT) in the same way  
as it does from -32 (EPIPE)?

I don't know much about store return policies but from my past experience  
some shops are pretty nice about that. Especially if you pretend to be an  
unexperienced user and tell them that &quot;the camera just doesn't work&quot;. ;-)  
Anyway, we're obviously trying our best to come up with something that  
will save you from returning your camera.

Cheers,
Martin



On Wed, 08 Nov 2006 20:06:08 +0100, Vidar Normann &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">vidarno at gmail.com</A>&gt;  
wrote:

&gt;<i> On 11/7/06, Martin Rubli &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux at rubli.info</A>&gt; wrote:
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Attached is a rather ugly patch that has proven to make the Logitech UVC
</I>&gt;&gt;<i> cameras work fine for some people. It works around the USB errors by
</I>&gt;&gt;<i> retrying control requests up to three times.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We would like to get as much feedback as possible, so if you try it out,
</I>&gt;&gt;<i> please let us know whether or not it works for you.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm using the patch and on one camera it is able to record 20+
</I>&gt;<i> times before I start seeing this error in dmesg:
</I>&gt;<i> uvcvideo: Failed to query (1) UVC control 1 (unit 0) : -110 (exp. 26).
</I>&gt;<i>
</I>&gt;<i> As this is for a surveillance system I need these cameras to work all
</I>&gt;<i> the time, and I probably won't be allowed to return them to the store
</I>&gt;<i> since I've used them - My only hope is that Logitech fixes this or
</I>&gt;<i> that you uvc-developers have a functional workaround. :)
</I>&gt;<i>
</I>&gt;<i> Is there anything I should post or do to help you (and myself) out?
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Vidar
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Linux-uvc-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000963.html">[Linux-uvc-devel] Experimental patch for USB problem with	Logitech webcams
</A></li>
	<LI>Next message: <A HREF="000974.html">[Linux-uvc-devel] Experimental patch for USB problem with	Logitech webcams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#965">[ date ]</a>
              <a href="thread.html#965">[ thread ]</a>
              <a href="subject.html#965">[ subject ]</a>
              <a href="author.html#965">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
