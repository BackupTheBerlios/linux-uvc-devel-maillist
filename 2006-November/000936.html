<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Recording video and grabbing a frame
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Recording%20video%20and%20grabbing%20a%20frame&In-Reply-To=%3C2eed5f740611031235u373aafaare59a70ce089e5d77%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000933.html">
   <LINK REL="Next"  HREF="000931.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Recording video and grabbing a frame</H1>
    <B>Vidar Normann</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Recording%20video%20and%20grabbing%20a%20frame&In-Reply-To=%3C2eed5f740611031235u373aafaare59a70ce089e5d77%40mail.gmail.com%3E"
       TITLE="[Linux-uvc-devel] Recording video and grabbing a frame">vidarno at gmail.com
       </A><BR>
    <I>Fri Nov  3 21:35:50 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000933.html">[Linux-uvc-devel] Recording video and grabbing a frame
</A></li>
        <LI>Next message: <A HREF="000931.html">[Linux-uvc-devel] Recording video and grabbing a frame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#936">[ date ]</a>
              <a href="thread.html#936">[ thread ]</a>
              <a href="subject.html#936">[ subject ]</a>
              <a href="author.html#936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/3/06, Michel Xhaard &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">mxhaard at magic.fr</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Le Vendredi 3 Novembre 2006 09:34, Vidar Normann a &#233;crit:
</I>&gt;<i> &gt; Hi Pierre,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I tried the command which worked for you and I still get the same
</I>&gt;<i> result,
</I>&gt;<i> &gt; output at the end of this mail. My current version is the newest
</I>&gt;<i> subversion
</I>&gt;<i> &gt; version (ahem) but I have also tried with the version packaged with
</I>&gt;<i> Ubuntu
</I>&gt;<i> &gt; Edgy Eft (same problem) and the older one from Dapper Drake (no image).
</I>&gt;<i> &gt; I will try to get the same version you are using, hoping that the bug
</I>&gt;<i> &gt; affecting
</I>&gt;<i> &gt; me was not introduced yet at that time. :)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Vidar
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; ffmpeg -y -vd /dev/video0 -target vcd -t 15 test.avi
</I>&gt;<i> &gt; FFmpeg version SVN-rUNKNOWN, Copyright (c) 2000-2004 Fabrice Bellard
</I>&gt;<i> &gt;   configuration:  --enable-gpl --enable-pp --enable-pthreads
</I>&gt;<i> &gt; --enable-vorbis --enable-libogg --enable-a52 --enable-dts
</I>&gt;<i> --enable-libgsm
</I>&gt;<i> &gt; --enable-dc1394 --disable-debug --enable-shared --prefix=/usr
</I>&gt;<i> &gt;   libavutil version: 0d.49.0.0
</I>&gt;<i> &gt;   libavcodec version: 0d.51.11.0
</I>&gt;<i> &gt;   libavformat version: 0d.50.5.0
</I>&gt;<i> &gt;   built on Sep 20 2006 00:08:26, gcc: 4.1.2 20060906 (prerelease)
</I>&gt;<i> (Ubuntu
</I>&gt;<i> &gt; 4.1.1-13ubuntu2)
</I>&gt;<i> &gt; Assuming PAL for target.
</I>&gt;<i> &gt; [video4linux2 @ 0x2b5aa0742400][4]Capabilities: 4000001
</I>&gt;<i> &gt; The V4L2 driver changed the video from 352x288 to 1024x576
</I>&gt;<i> &gt; Input #0, video4linux2, from '':
</I>&gt;<i> &gt;   Duration: N/A, bitrate: N/A
</I>&gt;<i> &gt;   Stream #0.0: Video: rawvideo, yuv422, 1024x576, 235929 kb/s, 25.00fps(r)
</I>&gt;<i> &gt; Input #1, audio_device, from '':
</I>&gt;<i> &gt;   Duration: N/A, bitrate: N/A
</I>&gt;<i> &gt;   Stream #1.0: Audio: pcm_s16le, 44100 Hz, mono, 705 kb/s
</I>&gt;<i> &gt; PIX_FMT_YUV420P will be used as an intermediate format for rescaling
</I>&gt;<i> &gt; Output #0, vcd, to 'test.avi':
</I>&gt;<i> &gt;   Stream #0.0: Video: mpeg1video, yuv420p, 352x288, q=2-31, 1150 kb/s,
</I>&gt;<i> &gt; 25.00fps(c)
</I>&gt;<i> &gt;   Stream #0.1: Audio: mp2, 44100 Hz, mono, 224 kb/s
</I>&gt;<i> &gt; Stream mapping:
</I>&gt;<i> &gt;   Stream #0.0 -&gt; #0.0
</I>&gt;<i> &gt;   Stream #1.0 -&gt; #0.1
</I>&gt;<i> &gt; Press [q] to stop encoding
</I>&gt;<i> &gt; frame=  535 q=2.0 Lsize=    3030kB time=21.4 bitrate=1162.0kbits/s
</I>&gt;<i> &gt; video:1031kB audio:0kB global headers:0kB muxing overhead 193.764138%
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On 11/3/06, pierre gronlier &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">pierre.gronlier at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; Hi Vidar,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; ffmpeg -y -vd /dev/video0 -target vcd -t 15 test.avi
</I>&gt;<i> &gt; &gt; is working perfectly at home and record 15 sec.
</I>&gt;<i> &gt; &gt; I'm using ffmpeg-0.4.9_p20060530. (cvs version)
</I>&gt;<i> &gt; &gt; What is your version ?
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Pierre
</I>&gt;<i> Hi,
</I>&gt;<i> did you try the last revision of luvcview? It can now record avi file in
</I>&gt;<i> native MJPG :)
</I>&gt;<i> regards
</I>&gt;<i> --
</I>&gt;<i> Michel Xhaard
</I>&gt;<i> <A HREF="http://mxhaard.free.fr">http://mxhaard.free.fr</A>
</I>&gt;<i>
</I>
I hadn't noticed that possibility, but tried it just now. Unfortunately what
I need
is to be able to run the program from the command line and specify the
duration
for recording - the idea is to have a script that loops &quot;forever&quot; so it
records an
hour of video and then another hour of video and so on - Thus creating an
archive of
1-hour long footage. In luvcvciew I have to specify when to start/stop
recording in
the GUI. If someone were to add the functionality I need though... =)
(I'd give it a go myself, but it's been a while since I programmed C)

Vidar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20061103/1c680fdd/attachment.html">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20061103/1c680fdd/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000933.html">[Linux-uvc-devel] Recording video and grabbing a frame
</A></li>
	<LI>Next message: <A HREF="000931.html">[Linux-uvc-devel] Recording video and grabbing a frame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#936">[ date ]</a>
              <a href="thread.html#936">[ thread ]</a>
              <a href="subject.html#936">[ subject ]</a>
              <a href="author.html#936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
