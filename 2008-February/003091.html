<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20uvcvideo%20and%20mercurial%20v4l-dvb%20conflicts..&In-Reply-To=%3C200802212345.16002.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003090.html">
   <LINK REL="Next"  HREF="003100.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20uvcvideo%20and%20mercurial%20v4l-dvb%20conflicts..&In-Reply-To=%3C200802212345.16002.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..">laurent.pinchart at skynet.be
       </A><BR>
    <I>Thu Feb 21 23:45:15 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003090.html">[Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
</A></li>
        <LI>Next message: <A HREF="003100.html">[Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3091">[ date ]</a>
              <a href="thread.html#3091">[ thread ]</a>
              <a href="subject.html#3091">[ subject ]</a>
              <a href="author.html#3091">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 21 February 2008, Filippo Argiolas wrote:
&gt;<i> Il giorno gio, 21/02/2008 alle 12.03 -0800, Brandon Philips ha scritto:
</I>&gt;<i> &gt; What are those errors?
</I>&gt;<i>
</I>&gt;<i> Ok here's a summary of the errors I get with different situations:
</I>&gt;<i>
</I>&gt;<i> 1. uvcvideo bundled with ubuntu gutsy (kernel 2.6.22-14-generic) after
</I>&gt;<i> the v4l-dvb mercurial installation, dmesg output:
</I>&gt;<i>
</I>&gt;<i> [26144.476000] uvcvideo: disagrees about version of symbol video_devdata
</I>&gt;<i> [26144.476000] uvcvideo: Unknown symbol video_devdata
</I>&gt;<i> [26144.476000] uvcvideo: disagrees about version of symbol
</I>&gt;<i> video_unregister_device
</I>&gt;<i> [26144.476000] uvcvideo: Unknown symbol video_unregister_device
</I>&gt;<i> [26144.476000] uvcvideo: disagrees about version of symbol
</I>&gt;<i> video_device_alloc
</I>&gt;<i> [26144.476000] uvcvideo: Unknown symbol video_device_alloc
</I>&gt;<i> [26144.476000] uvcvideo: disagrees about version of symbol
</I>&gt;<i> video_register_device
</I>&gt;<i> [26144.476000] uvcvideo: Unknown symbol video_register_device
</I>&gt;<i> [26144.476000] uvcvideo: disagrees about version of symbol
</I>&gt;<i> video_device_release
</I>&gt;<i> [26144.476000] uvcvideo: Unknown symbol video_device_release
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2. After running make kernel-links from the v4l-dvb tree (it updates
</I>&gt;<i> symlinks in /lib/modules/`uname -r`/build to point to the v4l-dvb source
</I>&gt;<i> tree), I get these compile errors with linux-uvc:
</I>&gt;<i>
</I>&gt;<i> In file included from /home/pippo/linux-uvc/uvcvideo.h:8,
</I>&gt;<i>                  from /home/pippo/linux-uvc/uvc_driver.c:45:
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:147:1: warning:
</I>&gt;<i> &quot;V4L2_CTRL_CLASS_CAMERA&quot; redefined
</I>&gt;<i> In file included from include/linux/videodev.h:16,
</I>&gt;<i>                  from /home/pippo/linux-uvc/uvc_driver.c:36:
</I>&gt;<i> include/linux/videodev2.h:798:1: warning: this is the location of the
</I>&gt;<i> previous definition
</I>&gt;<i> In file included from /home/pippo/linux-uvc/uvcvideo.h:8,
</I>&gt;<i>                  from /home/pippo/linux-uvc/uvc_driver.c:45:
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:150: error: nested redefinition of
</I>&gt;<i> &#8216;enum v4l2_power_line_frequency&#8217;
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:150: error: redeclaration of &#8216;enum
</I>&gt;<i> v4l2_power_line_frequency&#8217;
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:151: error: redeclaration of
</I>&gt;<i> enumerator &#8216;V4L2_CID_POWER_LINE_FREQUENCY_DISABLED&#8217;
</I>&gt;<i> include/linux/videodev2.h:874: error: previous definition of
</I>&gt;<i> &#8216;V4L2_CID_POWER_LINE_FREQUENCY_DISABLED&#8217; was here
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:152: error: redeclaration of
</I>&gt;<i> enumerator &#8216;V4L2_CID_POWER_LINE_FREQUENCY_50HZ&#8217;
</I>&gt;<i> include/linux/videodev2.h:875: error: previous definition of
</I>&gt;<i> &#8216;V4L2_CID_POWER_LINE_FREQUENCY_50HZ&#8217; was here
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:153: error: redeclaration of
</I>&gt;<i> enumerator &#8216;V4L2_CID_POWER_LINE_FREQUENCY_60HZ&#8217;
</I>&gt;<i> include/linux/videodev2.h:876: error: previous definition of
</I>&gt;<i> &#8216;V4L2_CID_POWER_LINE_FREQUENCY_60HZ&#8217; was here
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:165: error: nested redefinition of
</I>&gt;<i> &#8216;enum v4l2_exposure_auto_type&#8217;
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:165: error: redeclaration of &#8216;enum
</I>&gt;<i> v4l2_exposure_auto_type&#8217;
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:166: error: redeclaration of
</I>&gt;<i> enumerator &#8216;V4L2_EXPOSURE_MANUAL&#8217;
</I>&gt;<i> include/linux/videodev2.h:1077: error: previous definition of
</I>&gt;<i> &#8216;V4L2_EXPOSURE_MANUAL&#8217; was here
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:167: error: redeclaration of
</I>&gt;<i> enumerator &#8216;V4L2_EXPOSURE_AUTO&#8217;
</I>&gt;<i> include/linux/videodev2.h:1076: error: previous definition of
</I>&gt;<i> &#8216;V4L2_EXPOSURE_AUTO&#8217; was here
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:168: error: redeclaration of
</I>&gt;<i> enumerator &#8216;V4L2_EXPOSURE_SHUTTER_PRIORITY&#8217;
</I>&gt;<i> include/linux/videodev2.h:1078: error: previous definition of
</I>&gt;<i> &#8216;V4L2_EXPOSURE_SHUTTER_PRIORITY&#8217; was here
</I>&gt;<i> /home/pippo/linux-uvc/uvc_compat.h:170: error: redeclaration of
</I>&gt;<i> enumerator &#8216;V4L2_EXPOSURE_APERTURE_PRIORITY&#8217;
</I>&gt;<i> include/linux/videodev2.h:1080: error: previous definition of
</I>&gt;<i> &#8216;V4L2_EXPOSURE_APERTURE_PRIORITY&#8217; was here
</I>&gt;<i> make[2]: *** [/home/pippo/linux-uvc/uvc_driver.o] Error 1
</I>&gt;<i> make[1]: *** [_module_/home/pippo/linux-uvc] Error 2
</I>&gt;<i> make: *** [uvcvideo] Error 2
</I>
uvc_compat.h defines macros, structures and functions not available in older 
kernels to enable the UVC driver to be built on Linux kernels starting at 
2.6.15.

Which macros are defined depends on the kernel version. As the v4l-dvb tree 
includes V4L2 headers more recent than the kernel you are building for, 
uvc_compat.h will redefine symbols.

You can safely modify uvc_compat.h to remove all macros and structures that 
are already defined in v4l-dvb.

Best regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003090.html">[Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
</A></li>
	<LI>Next message: <A HREF="003100.html">[Linux-uvc-devel] uvcvideo and mercurial v4l-dvb conflicts..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3091">[ date ]</a>
              <a href="thread.html#3091">[ thread ]</a>
              <a href="subject.html#3091">[ subject ]</a>
              <a href="author.html#3091">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
