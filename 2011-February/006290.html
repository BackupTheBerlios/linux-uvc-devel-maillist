<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] yavta (Was: Re: uvcvideo problem when changing grab size in a WebCam SCB-0370N (Samsung SF510))
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20yavta%20%28Was%3A%20Re%3A%20uvcvideo%20problem%20when%0A%20changing%20grab%20size%20in%20a%20WebCam%20SCB-0370N%20%28Samsung%20SF510%29%29&In-Reply-To=%3C4D5CE3D6.6020408%40dit.upm.es%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006287.html">
   <LINK REL="Next"  HREF="006307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] yavta (Was: Re: uvcvideo problem when changing grab size in a WebCam SCB-0370N (Samsung SF510))</H1>
    <B>Gabriel Huecas</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20yavta%20%28Was%3A%20Re%3A%20uvcvideo%20problem%20when%0A%20changing%20grab%20size%20in%20a%20WebCam%20SCB-0370N%20%28Samsung%20SF510%29%29&In-Reply-To=%3C4D5CE3D6.6020408%40dit.upm.es%3E"
       TITLE="[Linux-uvc-devel] yavta (Was: Re: uvcvideo problem when changing grab size in a WebCam SCB-0370N (Samsung SF510))">gabriel at dit.upm.es
       </A><BR>
    <I>Thu Feb 17 10:01:10 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006287.html">[Linux-uvc-devel] yavta (Was: Re: uvcvideo problem when changing grab size in a WebCam SCB-0370N (Samsung SF510))
</A></li>
        <LI>Next message: <A HREF="006307.html">[Linux-uvc-devel] yavta (Was: Re: uvcvideo problem when	changing grab size in a WebCam SCB-0370N (Samsung SF510))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6290">[ date ]</a>
              <a href="thread.html#6290">[ thread ]</a>
              <a href="subject.html#6290">[ subject ]</a>
              <a href="author.html#6290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Dear Laurent, Moritz,

This is the output of my program, I think information is pretty clear, 
you may see that grab sizes are correctly detected (enclosed below).
The last messages are warnings trying to set YUV420P (I try this by 
default, but I can handle yuv422 as well, through libv4l2 and 
libv4lconvert),

The relevant lines is:

 &gt;&gt;  [2011/01/20 17:46:37] +++......grab sizes: 5 discrete values: 
640x480 352x288 320x240 176x144 160x120

(I request grab size for each pixelformat, maybe an overwork)

The sizes are correctly request. I can get this lines with DEBUG on, so 
each ioctl can be properly debugged, let me know if you need more 
information,

Thank you very much for your time and effort,

best regards

Gabriel Huecas

(relevant) OUTPUT of my video program:

[2011/01/20 17:46:37] v4lUnified: starting up
[2011/01/20 17:46:37] +++Open device: /dev/video0
[2011/01/20 17:46:37] +++v4l2 supported
[2011/01/20 17:46:37] +++
[2011/01/20 17:46:37] +++Description of device
[2011/01/20 17:46:37] +++=====================
[2011/01/20 17:46:37] +++device: WebCam SCB-0370N
[2011/01/20 17:46:37] +++driver: uvcvideo
[2011/01/20 17:46:37] +++version: 0.1.0
[2011/01/20 17:46:37] +++bus: usb-0000:00:1a.0-1.4
[2011/01/20 17:46:37] +++supports:
[2011/01/20 17:46:37] +++...V4L2_CAP_VIDEO_CAPTURE
[2011/01/20 17:46:37] +++...V4L2_CAP_STREAMING
[2011/01/20 17:46:37] +++..description for channel 0
[2011/01/20 17:46:37] +++....identifier: 0
[2011/01/20 17:46:37] +++....name    : Camera 1
[2011/01/20 17:46:37] +++....type    : CAMERA
[2011/01/20 17:46:37] +++....tuners    : 0
[2011/01/20 17:46:37] +++....flags    : 0x0
[2011/01/20 17:46:37] +++....audioset: 0
[2011/01/20 17:46:37] +++
[2011/01/20 17:46:37] +++..List of supported standards:
[2011/01/20 17:46:37] ---....NO video standard in use
[2011/01/20 17:46:37] +++
[2011/01/20 17:46:37] +++..List of controls:
[2011/01/20 17:46:37] +++...Brightness:
[2011/01/20 17:46:37] +++....id: 9963776:
[2011/01/20 17:46:37] +++....type: 1:
[2011/01/20 17:46:37] +++....name: Brightness:
[2011/01/20 17:46:37] +++....min: 0:
[2011/01/20 17:46:37] +++....max: 255:
[2011/01/20 17:46:37] +++....step: 1:
[2011/01/20 17:46:37] +++....default: 128:
[2011/01/20 17:46:37] +++....current: 127:
[2011/01/20 17:46:37] +++....flags: 0x0:
[2011/01/20 17:46:37] +++...Contrast:
[2011/01/20 17:46:37] +++....id: 9963777:
[2011/01/20 17:46:37] +++....type: 1:
[2011/01/20 17:46:37] +++....name: Contrast:
[2011/01/20 17:46:37] +++....min: 0:
[2011/01/20 17:46:37] +++....max: 127:
[2011/01/20 17:46:37] +++....step: 1:
[2011/01/20 17:46:37] +++....default: 35:
[2011/01/20 17:46:37] +++....current: 63:
[2011/01/20 17:46:37] +++....flags: 0x0:
[2011/01/20 17:46:37] +++...Saturation:
[2011/01/20 17:46:37] +++....id: 9963778:
[2011/01/20 17:46:37] +++....type: 1:
[2011/01/20 17:46:37] +++....name: Saturation:
[2011/01/20 17:46:37] +++....min: 0:
[2011/01/20 17:46:37] +++....max: 127:
[2011/01/20 17:46:37] +++....step: 1:
[2011/01/20 17:46:37] +++....default: 40:
[2011/01/20 17:46:37] +++....current: 63:
[2011/01/20 17:46:37] +++....flags: 0x0:
[2011/01/20 17:46:37] +++...Hue:
[2011/01/20 17:46:37] +++....id: 9963779:
[2011/01/20 17:46:37] +++....type: 1:
[2011/01/20 17:46:37] +++....name: Hue:
[2011/01/20 17:46:37] +++....min: -15:
[2011/01/20 17:46:37] +++....max: 15:
[2011/01/20 17:46:37] +++....step: 1:
[2011/01/20 17:46:37] +++....default: 0:
[2011/01/20 17:46:37] +++....current: 0:
[2011/01/20 17:46:37] +++....flags: 0x0:
[2011/01/20 17:46:37] +++
[2011/01/20 17:46:37] +++..List of grab formats for '/dev/video0'
[2011/01/20 17:46:37] +++...Index 0 de VIDEO_CAPTURE
[2011/01/20 17:46:37] +++......type: V4L2_BUF_TYPE_VIDEO_CAPTURE
[2011/01/20 17:46:37] +++......flags: 0x0 (uncompressed)
[2011/01/20 17:46:37] +++......description: YUV 4:2:2 (YUYV)
[2011/01/20 17:46:37] +++......format: [0x56595559] YUYV
[2011/01/20 17:46:37] +++......grab sizes: 5 discrete values: 640x480 
352x288 320x240 176x144 160x120
[2011/01/20 17:46:37] +++
[2011/01/20 17:46:37] +++..Default capture values:
[2011/01/20 17:46:37] +++...type: V4L2_BUF_TYPE_VIDEO_CAPTURE
[2011/01/20 17:46:37] +++...WxH: 320x240, bytesperline: 640, sizeimage: 
153600
[2011/01/20 17:46:37] +++...field: V4L2_FIELD_NONE
[2011/01/20 17:46:37] +++...pixelformat: YUYV, colorspace: 
UNKNOWN_COLORSPACE
[2011/01/20 17:46:37] +++..Grab sizes for default capture: 5 discrete 
values: 640x480 352x288 320x240 176x144 160x120
[2011/01/20 17:46:37] +++...MIN/MAX sizes: (160x120)..(640x480)
[2011/01/20 17:46:37] v4l2DS_t::setGrabFormat: trying to set format 
YUV::420P
[2011/01/20 17:46:37] v4l2DS_t::setGrabFormat: V4L2 ID=[0x32315559] YU12
[2011/01/20 17:46:37] setGrabFormat: default capture params:
     type=V4L2_BUF_TYPE_VIDEO_CAPTURE,width=320,height=240,
     pixelformat=YUYV,field=V4L2_FIELD_NONE,bytesperline=640,
     sizeimage=153600,colorspace=UNKNOWN_COLORSPACE
[2011/01/20 17:46:37] v4l2DS_t:setGrabFormat: VIDIOC_TRY_FMT failed: 
error 22 Invalid argument
[2011/01/20 17:46:37] v4l2DS_t:setGrabFormat: trying to continue anyway
[2011/01/20 17:46:37] v4l2DS_t:setGrabFormat: VIDIOC_S_FMT failed: error 
22 Invalid argument

El 16/02/2011 13:38, Moritz Barsnick escribi&#243;:
&gt;<i> On Tue, Feb 15, 2011 at 19:58:12 +0100, Laurent Pinchart wrote:
</I>&gt;&gt;<i> What happen if you try to capture images in the problematic resolution with a
</I>&gt;&gt;<i> test software such as yavta (git.ideasonboard.com) ?
</I>&gt;<i> Wow, I wasn't aware of this neat little tool. It has so many
</I>&gt;<i> advantages:
</I>&gt;<i> - no SDL dependency like luvcview
</I>&gt;<i> - no big chunk of dependencies like guvcview (which is otherwise really
</I>&gt;<i>    great, especially since it's not restricted to UVC anymore)
</I>&gt;<i> - no age-old tool like those from the xawtv suite (which some distros
</I>&gt;<i>    don't package anymore).
</I>&gt;<i>
</I>&gt;<i> Would it enumerate resolutions and frame rates like {l,g}uvcview do? (I
</I>&gt;<i> only tested on a TV V4L device, my webcam is blocked.)
</I>&gt;<i>
</I>&gt;<i> Do you mind if I submit a patch or two for some things that came to
</I>&gt;<i> mind, notably error reporting?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Moritz
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Linux-uvc-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: gabriel.vcf
Type: text/x-vcard
Size: 383 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20110217/953bbff9/attachment.vcf">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20110217/953bbff9/attachment.vcf</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 3646 bytes
Desc: S/MIME Cryptographic Signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20110217/953bbff9/attachment.bin">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20110217/953bbff9/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006287.html">[Linux-uvc-devel] yavta (Was: Re: uvcvideo problem when changing grab size in a WebCam SCB-0370N (Samsung SF510))
</A></li>
	<LI>Next message: <A HREF="006307.html">[Linux-uvc-devel] yavta (Was: Re: uvcvideo problem when	changing grab size in a WebCam SCB-0370N (Samsung SF510))
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6290">[ date ]</a>
              <a href="thread.html#6290">[ thread ]</a>
              <a href="subject.html#6290">[ subject ]</a>
              <a href="author.html#6290">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
