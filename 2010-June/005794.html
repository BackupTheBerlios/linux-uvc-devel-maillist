<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] UVC userpointer  streaming (memory mapping)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20UVC%20userpointer%20%20streaming%20%28memory%20mapping%29&In-Reply-To=%3C201006170956.47187.laurent.pinchart%40ideasonboard.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005771.html">
   <LINK REL="Next"  HREF="005768.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] UVC userpointer  streaming (memory mapping)</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20UVC%20userpointer%20%20streaming%20%28memory%20mapping%29&In-Reply-To=%3C201006170956.47187.laurent.pinchart%40ideasonboard.com%3E"
       TITLE="[Linux-uvc-devel] UVC userpointer  streaming (memory mapping)">laurent.pinchart at ideasonboard.com
       </A><BR>
    <I>Thu Jun 17 09:56:46 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005771.html">[Linux-uvc-devel] UVC userpointer  streaming (memory mapping)
</A></li>
        <LI>Next message: <A HREF="005768.html">[Linux-uvc-devel] How to mark a payload end
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5794">[ date ]</a>
              <a href="thread.html#5794">[ thread ]</a>
              <a href="subject.html#5794">[ subject ]</a>
              <a href="author.html#5794">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Andreas,

On Monday 07 June 2010 14:31:24 Andreas Auer wrote:
&gt;<i> Hi Laurent,
</I>&gt;<i> 
</I>&gt;<i> thanks for your help. I got it working. I tried it with the first
</I>&gt;<i> approach you suggested: In the &quot;uvc_lock_buffer&quot; function, I do the
</I>&gt;<i> ioremap of the physical address range and store the pointer in the
</I>&gt;<i> uvc_buffer struct in a new variable (ioremap is not working in the
</I>&gt;<i> &quot;uvc_buffer_write&quot; function because we are in an interrupt).
</I>&gt;<i> Then, the &quot;uvc_buffer_write&quot; function writes the data to the memory.
</I>&gt;<i> &quot;iounmap&quot; is done in &quot;uvc_unlock_buffer&quot;.
</I>&gt;<i> I hope that's the right way!?
</I>
Yes that's the right way, but I'd like to experiment with the workqueue 
solution. If it doesn't introduce performance issues it might be better to do 
it that way.

Could you send me the ioremap patch ?

-- 
Regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005771.html">[Linux-uvc-devel] UVC userpointer  streaming (memory mapping)
</A></li>
	<LI>Next message: <A HREF="005768.html">[Linux-uvc-devel] How to mark a payload end
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5794">[ date ]</a>
              <a href="thread.html#5794">[ thread ]</a>
              <a href="subject.html#5794">[ subject ]</a>
              <a href="author.html#5794">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
