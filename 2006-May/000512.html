<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Raw Bayer RGB data from QuickCam Pro 5000?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-May/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Raw%20Bayer%20RGB%20data%20from%20QuickCam%20Pro%205000%3F&In-Reply-To=%3C20060524225223.GC11834%40suse.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000510.html">
   <LINK REL="Next"  HREF="000509.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Raw Bayer RGB data from QuickCam Pro 5000?</H1>
    <B>Vojtech Pavlik</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Raw%20Bayer%20RGB%20data%20from%20QuickCam%20Pro%205000%3F&In-Reply-To=%3C20060524225223.GC11834%40suse.cz%3E"
       TITLE="[Linux-uvc-devel] Raw Bayer RGB data from QuickCam Pro 5000?">vojtech at suse.cz
       </A><BR>
    <I>Thu May 25 00:52:23 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000510.html">[Linux-uvc-devel] Raw Bayer RGB data from QuickCam Pro 5000?
</A></li>
        <LI>Next message: <A HREF="000509.html">[Linux-uvc-devel] Raw Bayer RGB data from QuickCam Pro 5000?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#512">[ date ]</a>
              <a href="thread.html#512">[ thread ]</a>
              <a href="subject.html#512">[ subject ]</a>
              <a href="author.html#512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, May 24, 2006 at 01:11:53PM -0400, David Moore wrote:

&gt;<i> On Wed, 2006-05-24 at 18:54 +0200, Vojtech Pavlik wrote:
</I>&gt;<i> &gt; Note: Zero-copy delivery to userspace is a must at these data rates, so
</I>&gt;<i> &gt; my driver for the iBot delivers data directly via DMA to the processing
</I>&gt;<i> &gt; application, without ever copying it inside the kernel.
</I>&gt;<i> 
</I>&gt;<i> Interesting.  The UVC driver does one copy, which is to extract the
</I>&gt;<i> frame data out of the urb's packets and parse headers, etc.
</I>&gt;<i> 
</I>&gt;<i> Does that mean for the iBot you do even this low-level packet parsing
</I>&gt;<i> inside the application instead of the driver?
</I> 
No, the URBs are set up so that the data is DMA'd in the right order to
the user buffers. The iBot doesn't send any headers in the packets,
just the data. So the application always sees contiguous frame data.

I didn't use V4L2 for the interface, since it was too much work for the
simple task I needed to solve, so I don't know if the approach would
work with it.

I also haven't studied the UVC specification or the driver deeply enough
yet, but if the headers as you mention would get in the way, the copy
may be unavoidable. It might be possible to set up an URB just for the
header, though, and another for the data in the ISO transfer.

-- 
Vojtech Pavlik
Director SuSE Labs

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000510.html">[Linux-uvc-devel] Raw Bayer RGB data from QuickCam Pro 5000?
</A></li>
	<LI>Next message: <A HREF="000509.html">[Linux-uvc-devel] Raw Bayer RGB data from QuickCam Pro 5000?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#512">[ date ]</a>
              <a href="thread.html#512">[ thread ]</a>
              <a href="subject.html#512">[ subject ]</a>
              <a href="author.html#512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
