From sniper9 at inbox.com  Sat Sep  1 17:17:30 2007
From: sniper9 at inbox.com (Joe Doe)
Date: Sat, 1 Sep 2007 07:17:30 -0800
Subject: [Linux-uvc-devel] QuickCam Orbit Tilt/Rotate
Message-ID: <A7F4B2BAAD2.000000EBsniper9@inbox.com>

Hello all,

I just tried the UVC driver from svn and it works great with my QuickCam Orbit, full 320x240,640x480 high quality Images coming from this camera! Just wondering if their is an app to make the camera Tilt/Rotate? I have tried setpwc, but am i using the right driver with the wrong app? I have had no luck with the PWC driver at saillard.org both a snapshot and pwc-10.0.12-rc1. some help with this would be great, Thanks


[root at localhost qc]# setpwc -p
setpwc v1.2, (C) 2003-2006 by folkert at vanheusden.com
Current device: UVC Camera (046d:08cc)
Error while doing ioctl VIDIOCPWCPROBE: Invalid argument
Warning: this might not be a Philips compatible webcam!
VIDIOCPWCPROBE returns: t?B - 53
Error while doing ioctl VIDIOCPWCGSERIAL: Invalid argument
Serial number:P?
Resolution (x, y): 320, 240
Offset: 0, 0
Brightness: 32639
Hue: 0
Colour: 7196
Contrast: 8224
Whiteness: 0
Palette: Unknown! (0)
Error while doing ioctl VIDIOCPWCGCQUAL: Invalid argument
Compression preference: 0
Error while doing ioctl VIDIOCPWCGAGC: Invalid argument
Automatic gain control: 0
Error while doing ioctl VIDIOCPWCGAWB: Invalid argument
Whitebalance mode: indoor
Blinking of LED is not supported by the combination
of your webcam and the driver.
Error while doing ioctl VIDIOCPWCGCONTOUR: Invalid argument
Sharpness: 0
Error while doing ioctl VIDIOCPWCGBACKLIGHT: Invalid argument
Backlight compensation mode: off
Anti-flicker mode is not supported by the combination
of your webcam and the driver.
Noise reduction mode is not supported by the combination
of your webcam and the driver.
Pan/tilt range is not supported by the combination
of your webcam and the driver.
Get pan/tilt position is not supported by the combination
of your webcam and the driver.

____________________________________________________________
KEEP SPYWARE OFF YOUR COMPUTER - Protect your computer with Spyware Terminator!
Visit http://www.spywareterminator.com/install and find out more!


From laurent.pinchart at skynet.be  Sun Sep  2 01:11:59 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 2 Sep 2007 01:11:59 +0200
Subject: [Linux-uvc-devel] QuickCam Orbit Tilt/Rotate
In-Reply-To: <A7F4B2BAAD2.000000EBsniper9@inbox.com>
References: <A7F4B2BAAD2.000000EBsniper9@inbox.com>
Message-ID: <200709020111.59260.laurent.pinchart@skynet.be>

Hi,

On Saturday 01 September 2007, Joe Doe wrote:
> Hello all,
>
> I just tried the UVC driver from svn and it works great with my QuickCam
> Orbit, full 320x240,640x480 high quality Images coming from this camera!
> Just wondering if their is an app to make the camera Tilt/Rotate? I have
> tried setpwc, but am i using the right driver with the wrong app? I have
> had no luck with the PWC driver at saillard.org both a snapshot and
> pwc-10.0.12-rc1. some help with this would be great, Thanks

V4L2 doesn't define standard pan/tilt controls. Every driver currently 
implements pan/tilt using private controls, and you thus need applications 
written specifically for the driver you are using.

For the Linux UVC driver, luvcview should be able to control pan and tilt.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Sep  2 01:13:40 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 2 Sep 2007 01:13:40 +0200
Subject: [Linux-uvc-devel] Away notice
Message-ID: <200709020113.40996.laurent.pinchart@skynet.be>

Hi everybody,

I'll take a short break from the internet for a week. I should hopefully come 
back on Tuesday 11th with batteries fully charged to answer all your e-mails 
(and probably with a nice suntan as well but you won't be able to see that).

See you all in a week.

Laurent Pinchart


From franjo.mlakar at gmail.com  Fri Sep  7 18:43:45 2007
From: franjo.mlakar at gmail.com (Franjo Mlakar)
Date: Fri, 7 Sep 2007 18:43:45 +0200
Subject: [Linux-uvc-devel] UVC driver structure
Message-ID: <d1fa105b0709070943u68fbc025n3bfeedb4ca8c7592@mail.gmail.com>

Hi!

I had some problems at the begining with UVC driver, but now it works fine
for me and I am interested to know more about the driver. I would like to
know how to add new functionalities to the driver. I reviewed the driver's
code and I have a foggy idea how it works. But I gues I have to learn a lot.
I also have a question.

Can somebody tell me where are this indexes from and what they mean in the
structure struct uvc_control_info? For example (.index=6):
.entity        = UVC_GUID_UVC_PROCESSING,
.selector    = PU_WHITE_BALANCE_TEMPERATURE_CONTROL,
.index        = 6,  ---> where is this index from?
.size          = 2,
.flags        = UVC_CONTROL_SET_CUR | UVC_CONTROL_GET_RANGE,

Can I find some docs somewhere on the internet about the driver?

Thank you for some help ...

Franjo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070907/62fd1d7d/attachment.html>

From pierre-yves at landure.org  Sat Sep  8 00:39:51 2007
From: pierre-yves at landure.org (=?ISO-8859-1?Q?Pierre-Yves_Landur=E9?=)
Date: Sat, 08 Sep 2007 00:39:51 +0200
Subject: [Linux-uvc-devel] new supported device
Message-ID: <46E1D337.9060904@landure.org>

Hi,

I've recently buy a Asus G2S-7T040C with webcam. The following code 
added to uvc_driver.c can be used to add support to this webcam to the 
trunk of uvcvideo module.

    /* D-MAX Sonix 213 OEM Asus laptop */
    { .match_flags        = USB_DEVICE_ID_MATCH_DEVICE
                | USB_DEVICE_ID_MATCH_INT_INFO,
      .idVendor        = 0x174f,
      .idProduct        = 0x5a35,
      .bInterfaceClass    = USB_CLASS_VIDEO,
      .bInterfaceSubClass    = 1,
      .bInterfaceProtocol    = 0
    },


the use of

.driver_info        = UVC_QUIRK_PROBE_MINMAX

or

.driver_info        = UVC_QUIRK_PROBE_EXTRAFIELDS

seems to make no change, so i don't use these.

There is only a problem: the webcam is mounted upside down, and the 
resulting video is rotated by 180?. Is there a module option for 
uvcvideo.ko to rotate the video ? or a change in the code before that 
can do the rotation ?

Thanx for your work and your help

Pierre-Yves Landur?


From ernih at gmx.de  Sun Sep  9 16:52:22 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Sun, 9 Sep 2007 16:52:22 +0200
Subject: [Linux-uvc-devel] uvc or svn?
Message-ID: <200709091652.22793.ernih@gmx.de>

hi someone sad i have to do this:

http://openfacts.berlios.de/index-en.phtml?title=Linux+UVC

for using my webcam. is it right?

erhan

On Thursday 05 July 2007 21:21:53 you wrote:
> Hi,
>
> On Monday 02 July 2007, ernih at gmx.de wrote:
> > hi i need drivers for:
> >
> > 5986:0100 linux" and "0x45:6270 linux
>
> For the 5986:0100, please try the latest release from SVN and report any
> issue you run into.
>
> For the 0x45:6270, I assume you mean 0c45:6270. That device is not UVC
> compliant, and will never be supported by the Linux UVC driver. You should
> check the spca5xx driver, or the newer related gspca driver.
>
> > when will it be finished?
>
> As a side note, asking for other people to work for you without saying
> please is considered as quite crude, to say the least.
>
> Best regards,
>
> Laurent Pinchart

hi i would like to do this, but i am a newbee. i use kubuntu since 10 weeks. i 
do not know what i have to do.

can somebody help me in this case?

best regards
erhan from germany


From mars at ab.cyberhome.ne.jp  Mon Sep 10 08:54:56 2007
From: mars at ab.cyberhome.ne.jp (Sunatomo Masuda)
Date: Mon, 10 Sep 2007 15:54:56 +0900
Subject: [Linux-uvc-devel] ELECOM UCAM-DLM130H working  report
Message-ID: <46E4EA40.7050707@ab.cyberhome.ne.jp>

Hello
I've tested and check the woring of uvcvideo.ko module
Would you put this device to your supported devives list?

Thanks,

Sunatomo

=================================================
Tested result is here

1)Device Information
Device ID: 0c45:62c0
Name: ELECOM UCAM-DLM130H
Manufacturer ELECOM
VendorName Sonix Tecknology Co., Ltd.
Vendor ID 3141

2)tested enviroment
hardware: i386
disribution: Ubuntu 7.0.4(Feisty Fawn)*)
kernel version: 2.6.20-16
libc version: 2.5.0

*)Distro's Initial kernel module does not work
so I 'd download the latest SVN module and make it with ubuntu kernel-source

3)tested apps
luvcview (./luvcview -f yuv)*)
Ekiga (video plugin:V4L2, input device:USB 2.0 Camera)

*) luvcview -L output messeges are here.

{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 352, height = 288 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 320, height = 240 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 176, height = 144 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 160, height = 120 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 1280, height = 960 }
Time interval between frame: 1/9, 1/5, 1/1,
{ discrete: width = 1280, height = 1024 }
Time interval between frame: 1/9, 1/5, 1/1,


4)lsusb output
"lsusb -v -d 0c45:62c0" output messeages are here

Bus 003 Device 008: ID 0c45:62c0 Microdia
Device Descriptor:
bLength 18
bDescriptorType 1
bcdUSB 2.00
bDeviceClass 239 Miscellaneous Device
bDeviceSubClass 2 Common Class
bDeviceProtocol 1 Interface Association
bMaxPacketSize0 64
idVendor 0x0c45 Microdia
idProduct 0x62c0
bcdDevice 1.00
iManufacturer 2 Sonix Technology Co., Ltd.
iProduct 1 USB 2.0 Camera
iSerial 0
bNumConfigurations 1
Configuration Descriptor:
bLength 9
bDescriptorType 2
wTotalLength 653
bNumInterfaces 2
bConfigurationValue 1
iConfiguration 0
bmAttributes 0x80
(Bus Powered)
MaxPower 98mA
Interface Association:
bLength 8
bDescriptorType 11
bFirstInterface 0
bInterfaceCount 2
bFunctionClass 14 Video
bFunctionSubClass 3 Video Interface Collection
bFunctionProtocol 0
iFunction 1 USB 2.0 Camera
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 0
bAlternateSetting 0
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 1 Video Control
bInterfaceProtocol 0
iInterface 1 USB 2.0 Camera
VideoControl Interface Descriptor:
bLength 13
bDescriptorType 36
bDescriptorSubtype 1 (HEADER)
bcdUVC 1.00
wTotalLength 103
dwClockFrequency 15.000000MHz
bInCollection 1
baInterfaceNr( 0) 1
VideoControl Interface Descriptor:
bLength 9
bDescriptorType 36
bDescriptorSubtype 3 (OUTPUT_TERMINAL)
bTerminalID 2
wTerminalType 0x0101 USB Streaming
bAssocTerminal 0
bSourceID 5
iTerminal 0
VideoControl Interface Descriptor:
bLength 26
bDescriptorType 36
bDescriptorSubtype 6 (EXTENSION_UNIT)
bUnitID 4
guidExtensionCode {28f03370-6311-4a2e-ba2c-6890eb334016}
bNumControl 8
bNrPins 1
baSourceID( 0) 3
bControlSize 1
bmControls( 0) 0x0f
iExtension 0
VideoControl Interface Descriptor:
bLength 26
bDescriptorType 36
bDescriptorSubtype 6 (EXTENSION_UNIT)
bUnitID 5
guidExtensionCode {2812ae3f-bcd7-4e11-a357-6f1edef7d61d}
bNumControl 8
bNrPins 1
baSourceID( 0) 4
bControlSize 1
bmControls( 0) 0x00
iExtension 0
VideoControl Interface Descriptor:
bLength 18
bDescriptorType 36
bDescriptorSubtype 2 (INPUT_TERMINAL)
bTerminalID 1
wTerminalType 0x0201 Camera Sensor
bAssocTerminal 0
iTerminal 0
wObjectiveFocalLengthMin 0
wObjectiveFocalLengthMax 0
wOcularFocalLength 0
bControlSize 3
bmControls 0x00000000
VideoControl Interface Descriptor:
bLength 11
bDescriptorType 36
bDescriptorSubtype 5 (PROCESSING_UNIT)
Warning: Descriptor too short
bUnitID 3
bSourceID 1
wMaxMultiplier 0
bControlSize 2
bmControls 0x0000053f
Brightness
Contrast
Hue
Saturation
Sharpness
Gamma
Backlight Compensation
Power Line Frequency
iProcessing 0
bmVideoStandards 0x 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x83 EP 3 IN
bmAttributes 3
Transfer Type Interrupt
Synch Type None
Usage Type Data
wMaxPacketSize 0x0010 1x 16 bytes
bInterval 6
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 0
bNumEndpoints 0
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
VideoStreaming Interface Descriptor:
bLength 14
bDescriptorType 36
bDescriptorSubtype 1 (INPUT_HEADER)
bNumFormarts 1
wTotalLength 33025
bEndPointAddress 0
bmInfo 2
bTerminalLink 2
bStillCaptureMethod 1
bTriggerSupport 0
bTriggerUsage 1
bControlSize 1
bmaControls( 0) 27
VideoStreaming Interface Descriptor:
bLength 27
bDescriptorType 36
bDescriptorSubtype 4 (FORMAT_UNCOMPRESSED)
bFormatIndex 1
bNumFrameDescriptors 7
guidFormat {32595559-0000-0010-8000-00aa00389b71}
bBitsPerPixel 16
bDefaultFrameIndex 1
bAspectRatioX 0
bAspectRatioY 0
bmInterlaceFlags 0x00
Interlaced stream or variable: No
Fields per frame: 1 fields
Field 1 first: No
Field pattern: Field 1 only
bCopyProtect 0
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 1
bmCapabilities 0x00
Still image unsupported
wWidth 640
wHeight 480
dwMinBitRate 614400
dwMaxBitRate 18432000
dwMaxVideoFrameBufferSize 614400
dwDefaultFrameInterval 333333
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 500000
dwFrameInterval( 2) 666666
dwFrameInterval( 3) 1000000
dwFrameInterval( 4) 2000000
dwFrameInterval( 5) 10000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 2
bmCapabilities 0x00
Still image unsupported
wWidth 352
wHeight 288
dwMinBitRate 202752
dwMaxBitRate 6082560
dwMaxVideoFrameBufferSize 202752
dwDefaultFrameInterval 333333
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 500000
dwFrameInterval( 2) 666666
dwFrameInterval( 3) 1000000
dwFrameInterval( 4) 2000000
dwFrameInterval( 5) 10000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 3
bmCapabilities 0x00
Still image unsupported
wWidth 320
wHeight 240
dwMinBitRate 153600
dwMaxBitRate 4608000
dwMaxVideoFrameBufferSize 153600
dwDefaultFrameInterval 333333
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 500000
dwFrameInterval( 2) 666666
dwFrameInterval( 3) 1000000
dwFrameInterval( 4) 2000000
dwFrameInterval( 5) 10000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 4
bmCapabilities 0x00
Still image unsupported
wWidth 176
wHeight 144
dwMinBitRate 50688
dwMaxBitRate 1520640
dwMaxVideoFrameBufferSize 50688
dwDefaultFrameInterval 333333
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 500000
dwFrameInterval( 2) 666666
dwFrameInterval( 3) 1000000
dwFrameInterval( 4) 2000000
dwFrameInterval( 5) 10000000
VideoStreaming Interface Descriptor:
bLength 50
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 5
bmCapabilities 0x00
Still image unsupported
wWidth 160
wHeight 120
dwMinBitRate 38400
dwMaxBitRate 1152000
dwMaxVideoFrameBufferSize 38400
dwDefaultFrameInterval 333333
bFrameIntervalType 6
dwFrameInterval( 0) 333333
dwFrameInterval( 1) 500000
dwFrameInterval( 2) 666666
dwFrameInterval( 3) 1000000
dwFrameInterval( 4) 2000000
dwFrameInterval( 5) 10000000
VideoStreaming Interface Descriptor:
bLength 38
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 6
bmCapabilities 0x00
Still image unsupported
wWidth 1280
wHeight 960
dwMinBitRate 2457600
dwMaxBitRate 22118400
dwMaxVideoFrameBufferSize 2457600
dwDefaultFrameInterval 1111111
bFrameIntervalType 3
dwFrameInterval( 0) 1111111
dwFrameInterval( 1) 2000000
dwFrameInterval( 2) 10000000
VideoStreaming Interface Descriptor:
bLength 38
bDescriptorType 36
bDescriptorSubtype 5 (FRAME_UNCOMPRESSED)
bFrameIndex 7
bmCapabilities 0x00
Still image unsupported
wWidth 1280
wHeight 1024
dwMinBitRate 2621440
dwMaxBitRate 23592960
dwMaxVideoFrameBufferSize 2621440
dwDefaultFrameInterval 1111111
bFrameIntervalType 3
dwFrameInterval( 0) 1111111
dwFrameInterval( 1) 2000000
dwFrameInterval( 2) 10000000
VideoStreaming Interface Descriptor:
bLength 34
bDescriptorType 36
bDescriptorSubtype 3 (STILL_IMAGE_FRAME)
bEndpointAddress 0
bNumImageSizePatterns 7
wWidth( 0) 640
wHeight( 0) 480
wWidth( 1) 352
wHeight( 1) 288
wWidth( 2) 320
wHeight( 2) 240
wWidth( 3) 176
wHeight( 3) 144
wWidth( 4) 160
wHeight( 4) 120
wWidth( 5) 1280
wHeight( 5) 960
wWidth( 6) 1280
wHeight( 6) 1024
bNumCompressionPatterns 7
VideoStreaming Interface Descriptor:
bLength 6
bDescriptorType 36
bDescriptorSubtype 13 (COLORFORMAT)
bColorPrimaries 1 (BT.709,sRGB)
bTransferCharacteristics 1 (BT.709)
bMatrixCoefficients 4 (SMPTE 170M (BT.601))
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 1
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0080 1x 128 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 2
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0100 1x 256 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 3
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0320 1x 800 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 4
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x0b20 2x 800 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 5
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x1320 3x 800 bytes
bInterval 1
Interface Descriptor:
bLength 9
bDescriptorType 4
bInterfaceNumber 1
bAlternateSetting 6
bNumEndpoints 1
bInterfaceClass 14 Video
bInterfaceSubClass 2 Video Streaming
bInterfaceProtocol 0
iInterface 0
Endpoint Descriptor:
bLength 7
bDescriptorType 5
bEndpointAddress 0x81 EP 1 IN
bmAttributes 5
Transfer Type Isochronous
Synch Type Asynchronous
Usage Type Data
wMaxPacketSize 0x1400 3x 0 bytes
bInterval 1
Device Qualifier (for other device speed):
bLength 10
bDescriptorType 6
bcdUSB 2.00
bDeviceClass 239 Miscellaneous Device
bDeviceSubClass 2 Common Class
bDeviceProtocol 1 Interface Association
bMaxPacketSize0 64
bNumConfigurations 1
Device Status: 0x0000
(Bus Powered)


From NathanaelGalpin at smarttech.com  Mon Sep 10 17:45:03 2007
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Mon, 10 Sep 2007 09:45:03 -0600
Subject: [Linux-uvc-devel] uvc or svn?
In-Reply-To: <200709091652.22793.ernih@gmx.de>
References: <200709091652.22793.ernih@gmx.de>
Message-ID: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FF3@calmail1.smarttech.inc>


Assuming your webcam is UVC compliant, those are the instructions you
need to follow. What you're doing is installing the latest version of
the UVC driver for Linux.

In brief, here's what you need to do in Kubuntu. I'm assuming you're in
7.04?


From luca.risolia at studio.unibo.it  Mon Sep 10 18:02:52 2007
From: luca.risolia at studio.unibo.it (Luca Risolia)
Date: Mon, 10 Sep 2007 18:02:52 +0200
Subject: [Linux-uvc-devel] uvc or svn?
In-Reply-To: <200709091652.22793.ernih@gmx.de>
References: <200709091652.22793.ernih@gmx.de>
Message-ID: <200709101802.52765.luca.risolia@studio.unibo.it>

Hello Erhan,

Your webcam 0x0c45:6270 is not UVC compliant. It's based on the SN9CXXX 
controller.

Best regards
Luca Risolia


On Sunday 09 September 2007 16:52:22 ernih at gmx.de wrote:
> hi someone sad i have to do this:
>
> http://openfacts.berlios.de/index-en.phtml?title=Linux+UVC
>
> for using my webcam. is it right?
>
> erhan
>
> On Thursday 05 July 2007 21:21:53 you wrote:
> > Hi,
> >
> > On Monday 02 July 2007, ernih at gmx.de wrote:
> > > hi i need drivers for:
> > >
> > > 5986:0100 linux" and "0x45:6270 linux
> >
> > For the 5986:0100, please try the latest release from SVN and report any
> > issue you run into.
> >
> > For the 0x45:6270, I assume you mean 0c45:6270. That device is not UVC
> > compliant, and will never be supported by the Linux UVC driver. You
> > should check the spca5xx driver, or the newer related gspca driver.
> >
> > > when will it be finished?
> >
> > As a side note, asking for other people to work for you without saying
> > please is considered as quite crude, to say the least.
> >
> > Best regards,
> >
> > Laurent Pinchart
>
> hi i would like to do this, but i am a newbee. i use kubuntu since 10
> weeks. i do not know what i have to do.
>
> can somebody help me in this case?
>
> best regards
> erhan from germany
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From tmbinc at elitedvb.net  Mon Sep 10 20:57:39 2007
From: tmbinc at elitedvb.net (Felix Domke)
Date: Mon, 10 Sep 2007 20:57:39 +0200
Subject: [Linux-uvc-devel] Microsoft Xbox Live Vision Cam (045e:0294)
Message-ID: <46E593A3.8070007@elitedvb.net>

Hi,

i've spent some time on the Microsoft Xbox Live Vision cam (it's pretty
cheap, USB 2.0, nearly uvc 1.0 compliant, has a pretty good image
quality, manual focus, allegedly a 1280x960 sensor (i haven't checked,
it might just upscale, but i don't think so), and supports MJPG and YUYV).

Out of the box, the cam didn't work with linux-uvc - the cam crashed
after the initial SET_CUR on the VideoStreaming ctrl, and didn't
responded to any USB control packets anymore (not even a simple,
non-video related GET_DESCRIPTOR etc.).

I've compared what the UVC driver did (not much, as the cam crashed
really early) with what the Xbox 360 did (using a USB sniffer), and
found out the following two things:

a.) you need to SET_INTERFACE before doing any SET_CUR, or the cam will
crash. (I don't know the USB specs good enough, but I think the cam is
correct here - the cam offers multiple interfaces, because it supports
some "Authentication Mechanism", so you need to select the video part
first. Of course the cam should not crash, rather STALL or whatever.)

b.) The cam requires about ~3sec time after the initial SET_INTERFACE.


I've added the two hacks (not meant for inclusion, just to describe the
problem):

Index: uvc_driver.c
===================================================================
--- uvc_driver.c        (revision 125)
+++ uvc_driver.c        (working copy)
@@ -1530,6 +1530,8 @@
        dev->intf = usb_get_intf(intf);
        dev->intfnum = intf->cur_altsetting->desc.bInterfaceNumber;
        dev->quirks = id->driver_info;
+
+       usb_set_interface(udev, 1, 0);

        /* Parse the Video Class control descriptor */
        if (uvc_parse_control(dev) < 0) {

Index: uvcvideo.h
===================================================================
--- uvcvideo.h  (revision 125)
+++ uvcvideo.h  (working copy)
@@ -241,8 +241,8 @@
 /* Maximum number of video buffers. */
 #define UVC_MAX_VIDEO_BUFFERS  32

-#define UVC_CTRL_CONTROL_TIMEOUT       300
-#define UVC_CTRL_STREAMING_TIMEOUT     1000
+#define UVC_CTRL_CONTROL_TIMEOUT       5000
+#define UVC_CTRL_STREAMING_TIMEOUT     5000

 /* Devices quirks */
 #define UVC_QUIRK_STATUS_INTERVAL      0x00000001


With those two changes, the cam works really nice with luvcview.
uvccapture made some trouble, but that might be caused by something else.

Maybe someone a little more intimate could see if this can be added in a
 nice way. But I think increasing the timeouts shouldn't hurt (you could
still add a dummy GET_CUR after the set_interface with an increased
timeout, if you don't want to change the timeout globally), and i
believe the set_interface should be done in any way.

regards,
Felix


From ernih at gmx.de  Mon Sep 10 22:03:41 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Mon, 10 Sep 2007 22:03:41 +0200
Subject: [Linux-uvc-devel] uvc or svn?
In-Reply-To: <200709101802.52765.luca.risolia@studio.unibo.it>
References: <200709091652.22793.ernih@gmx.de>
	<200709101802.52765.luca.risolia@studio.unibo.it>
Message-ID: <200709102203.41948.ernih@gmx.de>

On Monday 10 September 2007 18:02:52 Luca Risolia wrote:
> Hello Erhan,
>
> Your webcam 0x0c45:6270 is not UVC compliant. It's based on the SN9CXXX
> controller.
>
> Best regards
> Luca Risolia
>
> On Sunday 09 September 2007 16:52:22 ernih at gmx.de wrote:
> > hi someone sad i have to do this:
> >
> > http://openfacts.berlios.de/index-en.phtml?title=Linux+UVC
> >
> > for using my webcam. is it right?
> >
> > erhan
> >
> > On Thursday 05 July 2007 21:21:53 you wrote:
> > > Hi,
> > >
> > > On Monday 02 July 2007, ernih at gmx.de wrote:
> > > > hi i need drivers for:
> > > >
> > > > 5986:0100 linux" and "0x45:6270 linux
> > >
> > > For the 5986:0100, please try the latest release from SVN and report
> > > any issue you run into.
> > >
> > > For the 0x45:6270, I assume you mean 0c45:6270. That device is not UVC
> > > compliant, and will never be supported by the Linux UVC driver. You
> > > should check the spca5xx driver, or the newer related gspca driver.
> > >
> > > > when will it be finished?
> > >
> > > As a side note, asking for other people to work for you without saying
> > > please is considered as quite crude, to say the least.
> > >
> > > Best regards,
> > >
> > > Laurent Pinchart
> >
> > hi i would like to do this, but i am a newbee. i use kubuntu since 10
> > weeks. i do not know what i have to do.
> >
> > can somebody help me in this case?
> >
> > best regards
> > erhan from germany
> > _______________________________________________
> > Linux-uvc-devel mailing list
> > Linux-uvc-devel at lists.berlios.de
> > https://lists.berlios.de/mailman/listinfo/linux-uvc-devel

what does it mean?

and what about 5986:0100?


From ernih at gmx.de  Mon Sep 10 22:53:10 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Mon, 10 Sep 2007 22:53:10 +0200
Subject: [Linux-uvc-devel] uvc or svn?
In-Reply-To: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FF3@calmail1.smarttech.inc>
References: <200709091652.22793.ernih@gmx.de>
	<AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FF3@calmail1.smarttech.inc>
Message-ID: <200709102253.10913.ernih@gmx.de>

On Monday 10 September 2007 17:45:03 you wrote:
> Assuming your webcam is UVC compliant, those are the instructions you
> need to follow. What you're doing is installing the latest version of
> the UVC driver for Linux.
>
> In brief, here's what you need to do in Kubuntu. I'm assuming you're in
> 7.04?
>
> >From the command line:
>
> sudo apt-get install svn
> svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk
> cd .../trunk
>
> You'll need to modify the make file. Look for the line
> INSTALL_MOD_DIR := usb/media
>
> Change it to
> INSTALL_MOD_DIR := kernel/ubuntu/media/usbvideo
>
> Then back in the command line:
>
> make
> sudo make install
>
> Reboot your machine, and you'll have installed the latest UVC driver.
>
> Hopefully that helps,
>
> Nathanael
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of
> ernih at gmx.de
> Sent: Sunday, September 09, 2007 8:52 AM
> To: linux-uvc-devel at lists.berlios.de
> Subject: [Linux-uvc-devel] uvc or svn?
>
> hi someone sad i have to do this:
>
> http://openfacts.berlios.de/index-en.phtml?title=Linux+UVC
>
> for using my webcam. is it right?
>
> erhan
>
> On Thursday 05 July 2007 21:21:53 you wrote:
> > Hi,
> >
> > On Monday 02 July 2007, ernih at gmx.de wrote:
> > > hi i need drivers for:
> > >
> > > 5986:0100 linux" and "0x45:6270 linux
> >
> > For the 5986:0100, please try the latest release from SVN and report
>
> any
>
> > issue you run into.
> >
> > For the 0x45:6270, I assume you mean 0c45:6270. That device is not UVC
> > compliant, and will never be supported by the Linux UVC driver. You
>
> should
>
> > check the spca5xx driver, or the newer related gspca driver.
> >
> > > when will it be finished?
> >
> > As a side note, asking for other people to work for you without saying
> > please is considered as quite crude, to say the least.
> >
> > Best regards,
> >
> > Laurent Pinchart
>
> hi i would like to do this, but i am a newbee. i use kubuntu since 10
> weeks. i
> do not know what i have to do.
>
> can somebody help me in this case?
>
> best regards
> erhan from germany
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel

hi i have do this. how can i start the webcam? i am using kopete or amsn. i 
can use also an other messeger.


From NathanaelGalpin at smarttech.com  Tue Sep 11 01:12:14 2007
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Mon, 10 Sep 2007 17:12:14 -0600
Subject: [Linux-uvc-devel]  uvc or svn?
Message-ID: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FF7@calmail1.smarttech.inc>

On Monday 10 September 2007 17:45:03 you wrote:
>> Assuming your webcam is UVC compliant, those are the instructions you
>> need to follow. What you're doing is installing the latest version of
>> the UVC driver for Linux.
>>
>> In brief, here's what you need to do in Kubuntu. I'm assuming you're
in
>> 7.04?
>>
>> From the command line:
>>
>> sudo apt-get install svn
>> svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk
>> cd .../trunk
>>
>> You'll need to modify the make file. Look for the line
>> INSTALL_MOD_DIR := usb/media
>>
>> Change it to
>> INSTALL_MOD_DIR := kernel/ubuntu/media/usbvideo
>>
>> Then back in the command line:
>>
>> make
>> sudo make install
>>
>> Reboot your machine, and you'll have installed the latest UVC driver.
>>
>> Hopefully that helps,
>>
>> Nathanael
>>
>> -----Original Message-----
>> From: linux-uvc-devel-bounces at lists.berlios.de
>> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of
>> ernih at gmx.de
>> Sent: Sunday, September 09, 2007 8:52 AM
>> To: linux-uvc-devel at lists.berlios.de
>> Subject: [Linux-uvc-devel] uvc or svn?
>>
>> hi someone sad i have to do this:
>>
>> http://openfacts.berlios.de/index-en.phtml?title=Linux+UVC
>>
>> for using my webcam. is it right?
>>
>> erhan
>>
>> On Thursday 05 July 2007 21:21:53 you wrote:
>> > Hi,
>> >
>> > On Monday 02 July 2007, ernih at gmx.de wrote:
>> > > hi i need drivers for:
>> > >
>> > > 5986:0100 linux" and "0x45:6270 linux
>> >

>> > For the 5986:0100, please try the latest release from SVN and
report
>>
>> any
>>
>> > issue you run into.
>> >
>> > For the 0x45:6270, I assume you mean 0c45:6270. That device is not
UVC
>> > compliant, and will never be supported by the Linux UVC driver. You
>> should check the spca5xx driver, or the newer related gspca driver.
>> >
>> > > when will it be finished?
>> >
>> > As a side note, asking for other people to work for you without
saying
>> > please is considered as quite crude, to say the least.
>> >
>> > Best regards,
>> >
>> > Laurent Pinchart
>>
>> hi i would like to do this, but i am a newbee. i use kubuntu since 10
>> weeks. i
>> do not know what i have to do.
>>
>> can somebody help me in this case?
>>
>> best regards
>> erhan from germany

> hi i have do this. how can i start the webcam? i am using kopete or
amsn. > i can use also an other messeger.

Hi Erhan,

As far as using the webcam is concerned, that'll depend on the program
you use. Check the documentation provided by the author.

One thing I should point out is that the UVC driver only supports V4L2.
What this means to you is that any program you want to use your UVC
webcam with must be written with the V4L2 API, not the older V4L API. I
believe VLC is an example of a program written with the V4L API (I could
be wrong though), and thus a UVC camera won't work in it.

Off the top of my head I can't remember which messenger programs are
written with V4L2. However, if you want to test if your cam works, get
UVC View from the UVC repository and load up your cam with that. You
might have to specify some parameters on the command line, but UVC View
is the quickest way to see if your cam works or not.

Nathanael


From brandon at ifup.org  Tue Sep 11 16:40:54 2007
From: brandon at ifup.org (Brandon Philips)
Date: Tue, 11 Sep 2007 16:40:54 +0200
Subject: [Linux-uvc-devel] Patch: Read support - Update
In-Reply-To: <200707211615.46284.chris.horler@clara.co.uk>
Message-ID: <20070911144054.GB10976@ifup.org>

On 16:15 Sat 21 Jul 2007, Christopher HORLER wrote:
> I tried to take into account everyones comments, but it's possible I've missed 
> things - hopefully it's better than the first attempt.

What is the status of this patch?

> On Thursday 19 July 2007 19:30, Laurent Pinchart wrote:
> > Hi Chris,
> >
> > please keep the list CC'ed.
> >
> -------------- next part --------------
> A non-text attachment was scrubbed...
> Name: svndiff21Jul2007v2
> Type: text/x-diff
> Size: 7540 bytes
> Desc: not available
> Url : https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070721/4be95abc/attachment.bin 
> 



From chris.horler at clara.co.uk  Tue Sep 11 19:21:53 2007
From: chris.horler at clara.co.uk (Christopher HORLER)
Date: Tue, 11 Sep 2007 18:21:53 +0100
Subject: [Linux-uvc-devel] Patch: Read support - Update
In-Reply-To: <20070911144054.GB10976@ifup.org>
References: <20070911144054.GB10976@ifup.org>
Message-ID: <200709111821.53164.chris.horler@clara.co.uk>

On Tuesday 11 September 2007 15:40, Brandon Philips wrote:
> On 16:15 Sat 21 Jul 2007, Christopher HORLER wrote:
> > I tried to take into account everyones comments, but it's possible I've
> > missed things - hopefully it's better than the first attempt.
>
> What is the status of this patch?

Unfortunately, I haven't looked at it or the camera since I submitted it. 

Last I checked it worked, but I haven't spent the time reviewing the code to 
see if it is the optimal solution (in fact there are a few things that 
trouble me about it).  I have my own software project that keeps me busy.

Chris



From laurent.pinchart at skynet.be  Wed Sep 12 00:23:25 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 12 Sep 2007 00:23:25 +0200
Subject: [Linux-uvc-devel] new supported device
In-Reply-To: <46E1D337.9060904@landure.org>
References: <46E1D337.9060904@landure.org>
Message-ID: <200709120023.26085.laurent.pinchart@skynet.be>

Hi Pierre-Yves,

On Saturday 08 September 2007, Pierre-Yves Landur? wrote:
> Hi,
>
> I've recently buy a Asus G2S-7T040C with webcam. The following code
> added to uvc_driver.c can be used to add support to this webcam to the
> trunk of uvcvideo module.
>
>     /* D-MAX Sonix 213 OEM Asus laptop */
>     { .match_flags        = USB_DEVICE_ID_MATCH_DEVICE
>
>                 | USB_DEVICE_ID_MATCH_INT_INFO,
>
>       .idVendor        = 0x174f,
>       .idProduct        = 0x5a35,
>       .bInterfaceClass    = USB_CLASS_VIDEO,
>       .bInterfaceSubClass    = 1,
>       .bInterfaceProtocol    = 0
>     },
>
>
> the use of
>
> .driver_info        = UVC_QUIRK_PROBE_MINMAX
>
> or
>
> .driver_info        = UVC_QUIRK_PROBE_EXTRAFIELDS
>
> seems to make no change, so i don't use these.

From the information you reported, you shouldn't have needed to change the 
driver at all. Could you please try the unmodified driver and see if it 
works ?

Please send me the output of lsusb -v (using usbutils 0.72 or newer) as well.

> There is only a problem: the webcam is mounted upside down, and the
> resulting video is rotated by 180?. Is there a module option for
> uvcvideo.ko to rotate the video ? or a change in the code before that
> can do the rotation ?

The driver doesn't process video data at all. The rotation will have to be 
done either in userspace (at the application level) or in the camera itself 
(it might have a control to rotate the image). The output of lsusb -v might 
help me to see if an image rotation control is available.

> Thanx for your work and your help

You're welcome.

Best regards,

Laurent Pinchart


From alex at seewald.at  Wed Sep 12 08:36:44 2007
From: alex at seewald.at (Dr. techn. Alexander K. Seewald)
Date: Wed, 12 Sep 2007 08:36:44 +0200
Subject: [Linux-uvc-devel] [rlharris@oplink.net: logitech quickcam pro 9000
	autofocus mechanism]
Message-ID: <20070912063644.GA14044@sdg.at>

Thought I'd share this as I was not aware of it before. So...
1) It should be possible to drive the focus system quite fast. Not
sure why the current driver does not seem to utilize this capability...
2) This explains why the camera makes almost no noise during focus change
and why it returns to infinite focus after losing power.

Best,
  Alex

----- Forwarded message from "Russell L. Harris" <rlharris at oplink.net> -----

From: "Russell L. Harris" <rlharris at oplink.net>
To: alex at seewald.at
Subject: [Linux-uvc-devel] logitech quickcam pro 9000 autofocus mechanism
X-Spambayes-Classification: spam; 0.27
X-Spambayes-Trained: ham

Hi.

I have not yet subscribed to [Linux-uvc-devel], so you may wish to
pass on this information to the list.

Please refer to the web page at:

    http://www.logitech.com/index.cfm/69/3231&cl=us,en

According to the web page, the autofocus mechanism for the Logitech
Quickcam Pro 9000 is of the voice coil variety.  This is nothing other
than the combination of a magnet and a coil of wire, mounted
co-axially, such as is used in a typical audio speaker.  In the
de-energized condition, a mechanical spring holds the lens in the
position against a mechanical stop for focus at infinity.  A dc
voltage is applied to the coil to pull the lens into position for
focusing upon objects which are near.  The greater the voltage
applied, the greater the displacement of the lens.  Operation of the
system is completely silent.  The displacement range of the lens
likely is very small, and may be almost imperceptible.

This is a nice focusing system, because it consumes no power when the
lens is in the infinite-focus position, and because the infinite focus
position (which typically is suitable for objects more than a few feet
from the lens) is the normal or default position.  

RLH
----- End forwarded message -----


From laurent.pinchart at skynet.be  Wed Sep 12 22:59:39 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 12 Sep 2007 22:59:39 +0200
Subject: [Linux-uvc-devel] [rlharris@oplink.net: logitech quickcam pro
	9000 autofocus mechanism]
In-Reply-To: <20070912063644.GA14044@sdg.at>
References: <20070912063644.GA14044@sdg.at>
Message-ID: <200709122259.40045.laurent.pinchart@skynet.be>

On Wednesday 12 September 2007, Dr. techn. Alexander K. Seewald wrote:
> Thought I'd share this as I was not aware of it before. So...

Thanks for the info.

> 1) It should be possible to drive the focus system quite fast. Not
> sure why the current driver does not seem to utilize this capability...

How do you mean ? The latest Linux UVC driver supports controlling the focus 
manually.

> 2) This explains why the camera makes almost no noise during focus change
> and why it returns to infinite focus after losing power.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Sep 12 23:19:06 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 12 Sep 2007 23:19:06 +0200
Subject: [Linux-uvc-devel] Microsoft Xbox Live Vision Cam (045e:0294)
In-Reply-To: <46E593A3.8070007@elitedvb.net>
References: <46E593A3.8070007@elitedvb.net>
Message-ID: <200709122319.06773.laurent.pinchart@skynet.be>

Hi Felix,

On Monday 10 September 2007, Felix Domke wrote:
> Hi,
>
> i've spent some time on the Microsoft Xbox Live Vision cam (it's pretty
> cheap, USB 2.0, nearly uvc 1.0 compliant, has a pretty good image
> quality, manual focus, allegedly a 1280x960 sensor (i haven't checked,
> it might just upscale, but i don't think so), and supports MJPG and YUYV).

*nearly* UVC compliant ? *sigh*... Can't they test their hardware with 
Linux ? :-)

> Out of the box, the cam didn't work with linux-uvc - the cam crashed
> after the initial SET_CUR on the VideoStreaming ctrl, and didn't
> responded to any USB control packets anymore (not even a simple,
> non-video related GET_DESCRIPTOR etc.).
>
> I've compared what the UVC driver did (not much, as the cam crashed
> really early) with what the Xbox 360 did (using a USB sniffer), and
> found out the following two things:
>
> a.) you need to SET_INTERFACE before doing any SET_CUR, or the cam will
> crash. (I don't know the USB specs good enough, but I think the cam is
> correct here - the cam offers multiple interfaces, because it supports
> some "Authentication Mechanism", so you need to select the video part
> first. Of course the cam should not crash, rather STALL or whatever.)

SET_INTERFACE shouldn't be required. Upon being plugged in, the webcam should 
select the default alternate setting.

Selecting the default alternate setting when initialising the camera shouldn't 
hurt. I'll experiment with a few devices and commit a patch afterwards.

> b.) The cam requires about ~3sec time after the initial SET_INTERFACE.

Now this is bad news. What happens if you query controls during those ~3sec ? 
Those the webcam timeout but stay functional, or does it crash ?

> I've added the two hacks (not meant for inclusion, just to describe the
> problem):
>
> Index: uvc_driver.c
> ===================================================================
> --- uvc_driver.c        (revision 125)
> +++ uvc_driver.c        (working copy)
> @@ -1530,6 +1530,8 @@
>         dev->intf = usb_get_intf(intf);
>         dev->intfnum = intf->cur_altsetting->desc.bInterfaceNumber;
>         dev->quirks = id->driver_info;
> +
> +       usb_set_interface(udev, 1, 0);
>
>         /* Parse the Video Class control descriptor */
>         if (uvc_parse_control(dev) < 0) {
>
> Index: uvcvideo.h
> ===================================================================
> --- uvcvideo.h  (revision 125)
> +++ uvcvideo.h  (working copy)
> @@ -241,8 +241,8 @@
>  /* Maximum number of video buffers. */
>  #define UVC_MAX_VIDEO_BUFFERS  32
>
> -#define UVC_CTRL_CONTROL_TIMEOUT       300
> -#define UVC_CTRL_STREAMING_TIMEOUT     1000
> +#define UVC_CTRL_CONTROL_TIMEOUT       5000
> +#define UVC_CTRL_STREAMING_TIMEOUT     5000
>
>  /* Devices quirks */
>  #define UVC_QUIRK_STATUS_INTERVAL      0x00000001
>
>
> With those two changes, the cam works really nice with luvcview.
> uvccapture made some trouble, but that might be caused by something else.
>
> Maybe someone a little more intimate could see if this can be added in a
>  nice way. But I think increasing the timeouts shouldn't hurt (you could
> still add a dummy GET_CUR after the set_interface with an increased
> timeout, if you don't want to change the timeout globally), and i
> believe the set_interface should be done in any way.

I'll test the SET_INTERFACE part and commit it soon. Regarding the timeouts, 
what happens if you modify the streaming timeout only ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Sep 12 23:23:51 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 12 Sep 2007 23:23:51 +0200
Subject: [Linux-uvc-devel] ELECOM UCAM-DLM130H working  report
In-Reply-To: <46E4EA40.7050707@ab.cyberhome.ne.jp>
References: <46E4EA40.7050707@ab.cyberhome.ne.jp>
Message-ID: <200709122323.51750.laurent.pinchart@skynet.be>

Hi,

On Monday 10 September 2007, Sunatomo Masuda wrote:
> Hello
> I've tested and check the woring of uvcvideo.ko module
> Would you put this device to your supported devives list?

Thanks for the report. The device 0c45:62c0 is already in the supported 
devices list.

Best regards,

Laurent Pinchart


From tmbinc at elitedvb.net  Wed Sep 12 23:32:12 2007
From: tmbinc at elitedvb.net (Felix Domke)
Date: Wed, 12 Sep 2007 23:32:12 +0200
Subject: [Linux-uvc-devel] Microsoft Xbox Live Vision Cam (045e:0294)
In-Reply-To: <200709122319.06773.laurent.pinchart@skynet.be>
References: <46E593A3.8070007@elitedvb.net>
	<200709122319.06773.laurent.pinchart@skynet.be>
Message-ID: <46E85ADC.7040207@elitedvb.net>

Hi Laurent,


Laurent Pinchart wrote:
>> i've spent some time on the Microsoft Xbox Live Vision cam (it's pretty
>> cheap, USB 2.0, nearly uvc 1.0 compliant, has a pretty good image
>> quality, manual focus, allegedly a 1280x960 sensor (i haven't checked,
>> it might just upscale, but i don't think so), and supports MJPG and YUYV).
> *nearly* UVC compliant ? *sigh*... Can't they test their hardware with 
> Linux ? :-)
*g*

Well, given that the thing is designed for a gaming console, I consider
it as an advancement already that it a.) doesn't have a proprietary
connector, and b.) at least tries to follow SOME standard, and c.)
doesn't try to put all the magic into the host.

> SET_INTERFACE shouldn't be required. Upon being plugged in, the webcam should 
> select the default alternate setting.
here is a lsusb -v:

http://tmb.elitedvb.net/lsusb_045e0294

What's with that "Xbox Security Method 3" interface? So that's not the
default interface? (We can/should totally ignore that interface, it's
only an optional authentication between the host and the device. I just
want to be sure that this is not the default interface.)

>> b.) The cam requires about ~3sec time after the initial SET_INTERFACE.
> Now this is bad news. What happens if you query controls during those ~3sec ? 
> Those the webcam timeout but stay functional, or does it crash ?
It stays functional. It just responds with NAKs, and then, after it has
initialized itself, it answers (unless, of course, the transaction has
been cancelled).

> I'll test the SET_INTERFACE part and commit it soon. Regarding the timeouts, 
> what happens if you modify the streaming timeout only ?
I can currently not test it, because the cam is operating at a remote
place (and I don't want to risk a crash), but I can this test tomorrow.
My guess it that it will work, because the streaming command is done first.

I still vote for a dummy transaction after the SET_INTERFACE with a long
timeout, to make sure the cam has initialized itself. After that the
short timeout should suffice. Just incrementing the timeout is a bad
thing, i'd say.

Felix


From laurent.pinchart at skynet.be  Wed Sep 12 23:39:30 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 12 Sep 2007 23:39:30 +0200
Subject: [Linux-uvc-devel] UVC driver structure
In-Reply-To: <d1fa105b0709070943u68fbc025n3bfeedb4ca8c7592@mail.gmail.com>
References: <d1fa105b0709070943u68fbc025n3bfeedb4ca8c7592@mail.gmail.com>
Message-ID: <200709122339.31381.laurent.pinchart@skynet.be>

Hi Franjo,

On Friday 07 September 2007, Franjo Mlakar wrote:
> Hi!
>
> I had some problems at the begining with UVC driver, but now it works fine
> for me and I am interested to know more about the driver. I would like to
> know how to add new functionalities to the driver. I reviewed the driver's
> code and I have a foggy idea how it works. But I gues I have to learn a
> lot. I also have a question.
>
> Can somebody tell me where are this indexes from and what they mean in the
> structure struct uvc_control_info? For example (.index=6):
> .entity        = UVC_GUID_UVC_PROCESSING,
> .selector    = PU_WHITE_BALANCE_TEMPERATURE_CONTROL,
> .index        = 6,  ---> where is this index from?
> .size          = 2,
> .flags        = UVC_CONTROL_SET_CUR | UVC_CONTROL_GET_RANGE,
>
> Can I find some docs somewhere on the internet about the driver?

You should first download (and read :-)) the UVC documentation available at 
http://www.usb.org/developers/devclass_docs

Have a look at section 3.7.2.5 (Processing Unit Descriptor). The index field 
identifies the control index in the bmControls bitmap. The same goes for 
other kind of entities (camera input terminal, extension unit, ...). The 
driver uses the index field to check out if the control is supported by 
devices only.

To query the control, the driver uses the selector field, which identifies the 
control inside the unit it belongs to. There is unfortunately no mandatory 
relationship between the index and selector. To access an extension unit 
control, you will need to get the control selector from the vendor.

Hope this helps.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Sep 12 23:48:13 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 12 Sep 2007 23:48:13 +0200
Subject: [Linux-uvc-devel] Problems with QuickCam Pro 5000
In-Reply-To: <1188949813.8646.21.camel@cass-wks>
References: <1177199442.26838.11.camel@cass-wks>
	<1177452349.6006.11.camel@cass-wks>
	<1188949813.8646.21.camel@cass-wks>
Message-ID: <200709122348.13859.laurent.pinchart@skynet.be>

Hi Guillaume,

your post was too big for the list so I removed to 
On Wednesday 05 September 2007, Guillaume Desmottes wrote:
> Le mercredi 25 avril 2007 ? 00:05 +0200, Guillaume Desmottes a ?crit :
> > Le mardi 24 avril 2007 ? 20:37 +0200, Laurent Pinchart a ?crit :
> > > You might be suffering from a Logitech hardware bug. Search the list
> > > archive for a so-called "reset patch". It is known to help some people
> > > in the past.
> >
> > Laurent you are my hero. I patched using the diff posted by Stephan and
> > it seems to work perfectly now. :)
>
> Some update.
> I reinstalled my box to switch to Gutsy (2.6.22-10) and so re-install
> the driver using HEAD version.
>
> # modprobe uvcvideo trace=0xffff
> # dmesg -c
[snip]
> [57843.336000] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ce)
[snip]
> [57843.424000] uvcvideo: UVC device initialized.
> [57843.424000] usbcore: registered new interface driver uvcvideo
> [57843.424000] USB Video Class driver (v0.1.0)
>
>
> And when I try to use the webcam, gst-properties says:
> gstreamer-properties-Message: Error running pipeline 'Video for Linux 2
> (v4l2)': Could not get buffers from device '/dev/video0'.
> [v4l2src_calls.c(1025): gst_v4l2src_capture_init
> (): /pipeline0/v4l2src3:
> error requesting 0 buffers: Cannot allocate memory]
>
>
> # dmesg -c
> [57901.428000] uvcvideo: uvc_v4l2_open
[snip]
> [57904.996000] uvcvideo: uvc_v4l2_read: not implemented.
> [57908.616000] uvcvideo: uvc_v4l2_release
>
>
> So I retried using the reset patch.
> I used
> http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg00830.html
> as said on the wiki and updated it to apply on HEAD (see attachement).
>
> # modprobe uvcvideo trace=0xffff
> # dmesg -c
[snip]
> [58280.416000] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ce)
[snip]
> [58280.464000] uvcvideo: UVC device initialized.
> [58280.464000] usbcore: registered new interface driver uvcvideo
> [58280.464000] USB Video Class driver (v0.1.0)
>
> Let's retry.
>
> streamer-properties-Message: Error running pipeline 'Video for Linux 2
> (v4l2)': Could not get buffers from device '/dev/video0'.
> [v4l2src_calls.c(1025): gst_v4l2src_capture_init
> (): /pipeline0/v4l2src3:
> error requesting 0 buffers: Cannot allocate memory]
>
> same error so
>
> # dmesg -c
> [58339.504000] uvcvideo: uvc_v4l2_open
[snip]
> [58342.992000] uvcvideo: uvc_v4l2_read: not implemented.
> [58344.320000] uvcvideo: uvc_v4l2_release
>
>
> So I tried the other link from the wiki
> (http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg00386.html
>) Here again I updated it to fit HEAD (attachement) but didn't get better
> results.
>
> # modprobe uvcvideo trace=0xffff
> # dmesg -c
[snip]
> [59582.988000] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ce)
[snip]
> [59583.036000] uvcvideo: UVC device initialized.
> [59583.036000] usbcore: registered new interface driver uvcvideo
> [59583.036000] USB Video Class driver (v0.1.0)
>
>
> Here again, the same error...
> gstreamer-properties-Message: Error running pipeline 'Video for Linux 2
> (v4l2)': Could not get buffers from device '/dev/video0'.
> [v4l2src_calls.c(1025): gst_v4l2src_capture_init
> (): /pipeline0/v4l2src3:
> error requesting 0 buffers: Cannot allocate memory]
>
>
> So, I'm not able anymore to use my webcam. :(
> Is it still due to this damned hardware bug? If so, do you have any
> other fix/workaround that could help me?

Good news, the "damned hardware bug" is not at fault here :-) For some reason, 
your gstreamer pipeline uses read() instead of mmap(). Did it work before the 
upgrade ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Sep 13 00:04:40 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 13 Sep 2007 00:04:40 +0200
Subject: [Linux-uvc-devel] Microsoft Xbox Live Vision Cam (045e:0294)
In-Reply-To: <46E85ADC.7040207@elitedvb.net>
References: <46E593A3.8070007@elitedvb.net>
	<200709122319.06773.laurent.pinchart@skynet.be>
	<46E85ADC.7040207@elitedvb.net>
Message-ID: <200709130004.40351.laurent.pinchart@skynet.be>

Hi Felix,

On Wednesday 12 September 2007, Felix Domke wrote:
> Laurent Pinchart wrote:
> >> i've spent some time on the Microsoft Xbox Live Vision cam (it's pretty
> >> cheap, USB 2.0, nearly uvc 1.0 compliant, has a pretty good image
> >> quality, manual focus, allegedly a 1280x960 sensor (i haven't checked,
> >> it might just upscale, but i don't think so), and supports MJPG and
> >> YUYV).
> >
> > *nearly* UVC compliant ? *sigh*... Can't they test their hardware with
> > Linux ? :-)
>
> *g*
>
> Well, given that the thing is designed for a gaming console, I consider
> it as an advancement already that it a.) doesn't have a proprietary
> connector, and b.) at least tries to follow SOME standard, and c.)
> doesn't try to put all the magic into the host.
>
> > SET_INTERFACE shouldn't be required. Upon being plugged in, the webcam
> > should select the default alternate setting.
>
> here is a lsusb -v:
>
> http://tmb.elitedvb.net/lsusb_045e0294

Thanks.

> What's with that "Xbox Security Method 3" interface? So that's not the
> default interface? (We can/should totally ignore that interface, it's
> only an optional authentication between the host and the device. I just
> want to be sure that this is not the default interface.)

There is no such thing as a default interface. USB devices have several 
interfaces, each of them with one or more alternate setting. Alternate 
setting 0 should be selected by default for each interface. 
usb_set_interface() selects an alternate setting for a given interface.

The "Xbox Security Method 3" interface isn't even seen by the Linux UVC 
driver.

> >> b.) The cam requires about ~3sec time after the initial SET_INTERFACE.
> >
> > Now this is bad news. What happens if you query controls during those
> > ~3sec ? Those the webcam timeout but stay functional, or does it crash ?
>
> It stays functional. It just responds with NAKs, and then, after it has
> initialized itself, it answers (unless, of course, the transaction has
> been cancelled).

Ok.

> > I'll test the SET_INTERFACE part and commit it soon. Regarding the
> > timeouts, what happens if you modify the streaming timeout only ?
>
> I can currently not test it, because the cam is operating at a remote
> place (and I don't want to risk a crash), but I can this test tomorrow.
> My guess it that it will work, because the streaming command is done first.
>
> I still vote for a dummy transaction after the SET_INTERFACE with a long
> timeout, to make sure the cam has initialized itself. After that the
> short timeout should suffice. Just incrementing the timeout is a bad
> thing, i'd say.

That's my opinion too. I'll have to test that with different cameras to make 
sure they don't crash or somehow misbehave.

Best regards,

Laurent Pinchart


From cass at skynet.be  Thu Sep 13 00:32:52 2007
From: cass at skynet.be (Guillaume Desmottes)
Date: Thu, 13 Sep 2007 00:32:52 +0200
Subject: [Linux-uvc-devel] Problems with QuickCam Pro 5000
In-Reply-To: <200709122348.13859.laurent.pinchart@skynet.be>
References: <1177199442.26838.11.camel@cass-wks>
	<1177452349.6006.11.camel@cass-wks> <1188949813.8646.21.camel@cass-wks>
	<200709122348.13859.laurent.pinchart@skynet.be>
Message-ID: <1189636372.8883.14.camel@cass-wks>


Le mercredi 12 septembre 2007 ? 23:48 +0200, Laurent Pinchart a ?crit :
> Hi Guillaume,
> 
> your post was too big for the list so I removed to 
> On Wednesday 05 September 2007, Guillaume Desmottes wrote:
> > Le mercredi 25 avril 2007 ? 00:05 +0200, Guillaume Desmottes a ?crit :
> > > Le mardi 24 avril 2007 ? 20:37 +0200, Laurent Pinchart a ?crit :
> > > > You might be suffering from a Logitech hardware bug. Search the list
> > > > archive for a so-called "reset patch". It is known to help some people
> > > > in the past.
> > >
> > > Laurent you are my hero. I patched using the diff posted by Stephan and
> > > it seems to work perfectly now. :)
> >
> > Some update.
> > I reinstalled my box to switch to Gutsy (2.6.22-10) and so re-install
> > the driver using HEAD version.
> >
> > # modprobe uvcvideo trace=0xffff
> > # dmesg -c
> [snip]
> > [57843.336000] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ce)
> [snip]
> > [57843.424000] uvcvideo: UVC device initialized.
> > [57843.424000] usbcore: registered new interface driver uvcvideo
> > [57843.424000] USB Video Class driver (v0.1.0)
> >
> >
> > And when I try to use the webcam, gst-properties says:
> > gstreamer-properties-Message: Error running pipeline 'Video for Linux 2
> > (v4l2)': Could not get buffers from device '/dev/video0'.
> > [v4l2src_calls.c(1025): gst_v4l2src_capture_init
> > (): /pipeline0/v4l2src3:
> > error requesting 0 buffers: Cannot allocate memory]
> >
> >
> > # dmesg -c
> > [57901.428000] uvcvideo: uvc_v4l2_open
> [snip]
> > [57904.996000] uvcvideo: uvc_v4l2_read: not implemented.
> > [57908.616000] uvcvideo: uvc_v4l2_release
> >
> >
> > So I retried using the reset patch.
> > I used
> > http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg00830.html
> > as said on the wiki and updated it to apply on HEAD (see attachement).
> >
> > # modprobe uvcvideo trace=0xffff
> > # dmesg -c
> [snip]
> > [58280.416000] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ce)
> [snip]
> > [58280.464000] uvcvideo: UVC device initialized.
> > [58280.464000] usbcore: registered new interface driver uvcvideo
> > [58280.464000] USB Video Class driver (v0.1.0)
> >
> > Let's retry.
> >
> > streamer-properties-Message: Error running pipeline 'Video for Linux 2
> > (v4l2)': Could not get buffers from device '/dev/video0'.
> > [v4l2src_calls.c(1025): gst_v4l2src_capture_init
> > (): /pipeline0/v4l2src3:
> > error requesting 0 buffers: Cannot allocate memory]
> >
> > same error so
> >
> > # dmesg -c
> > [58339.504000] uvcvideo: uvc_v4l2_open
> [snip]
> > [58342.992000] uvcvideo: uvc_v4l2_read: not implemented.
> > [58344.320000] uvcvideo: uvc_v4l2_release
> >
> >
> > So I tried the other link from the wiki
> > (http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg00386.html
> >) Here again I updated it to fit HEAD (attachement) but didn't get better
> > results.
> >
> > # modprobe uvcvideo trace=0xffff
> > # dmesg -c
> [snip]
> > [59582.988000] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ce)
> [snip]
> > [59583.036000] uvcvideo: UVC device initialized.
> > [59583.036000] usbcore: registered new interface driver uvcvideo
> > [59583.036000] USB Video Class driver (v0.1.0)
> >
> >
> > Here again, the same error...
> > gstreamer-properties-Message: Error running pipeline 'Video for Linux 2
> > (v4l2)': Could not get buffers from device '/dev/video0'.
> > [v4l2src_calls.c(1025): gst_v4l2src_capture_init
> > (): /pipeline0/v4l2src3:
> > error requesting 0 buffers: Cannot allocate memory]
> >
> >
> > So, I'm not able anymore to use my webcam. :(
> > Is it still due to this damned hardware bug? If so, do you have any
> > other fix/workaround that could help me?
> 
> Good news, the "damned hardware bug" is not at fault here :-) For some reason, 
> your gstreamer pipeline uses read() instead of mmap(). Did it work before the 
> upgrade ?
> 

Yes, it was working with Feisty. Is that a gst bug? I mean, is it
supposed to use the read method here? Any specific reason why this
method is not implemented or it's just not done yet?


Thanks a lot for your help.

Regards,

	G.

-- 
Guillaume Desmottes <cass at skynet.be>
Jabber <cassidy at jabber.belnet.be>
GPG 1024D/711E31B1 | 1B5A 1BA8 11AA F0F1 2169  E28A AC55 8671 711E 31B1



From ernih at gmx.de  Thu Sep 13 08:39:38 2007
From: ernih at gmx.de (Erhan)
Date: Thu, 13 Sep 2007 08:39:38 +0200
Subject: [Linux-uvc-devel] latest UVC driver and now?
Message-ID: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>

Hi i have installed the latest UVC driver. and what happens now? i
will use my webcam with a messenger? which messenger can i use?
thx
erhan


On Monday 10 September 2007 17:45:03 you wrote:
>* Assuming your webcam is UVC compliant, those are the instructions you
*>* need to follow. What you're doing is installing the latest version of
*>* the UVC driver for Linux.
*>*
*>* In brief, here's what you need to do in Kubuntu. I'm assuming you're in
*>* 7.04?
*>*
*>* >From the command line:
*>*
*>* sudo apt-get install svn
*>* svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk
*>* cd .../trunk
*>*
*>* You'll need to modify the make file. Look for the line
*>* INSTALL_MOD_DIR := usb/media
*>*
*>* Change it to
*>* INSTALL_MOD_DIR := kernel/ubuntu/media/usbvideo
*>*
*>* Then back in the command line:
*>*
*>* make
*>* sudo make install
*>*
*>* Reboot your machine, and you'll have installed the latest UVC driver.
*>*
*>* Hopefully that helps,
*>*
*>* Nathanael
*>*
*>* -----Original Message-----
*>* From: linux-uvc-devel-bounces at lists.berlios.de
<https://lists.berlios.de/mailman/listinfo/linux-uvc-devel>
*>* [mailto:linux-uvc-devel-bounces at lists.berlios.de
<https://lists.berlios.de/mailman/listinfo/linux-uvc-devel>] On Behalf
Of
*>* ernih at gmx.de <https://lists.berlios.de/mailman/listinfo/linux-uvc-devel>
*>* Sent: Sunday, September 09, 2007 8:52 AM
*>* To: linux-uvc-devel at lists.berlios.de
<https://lists.berlios.de/mailman/listinfo/linux-uvc-devel>
*>* Subject: [Linux-uvc-devel] uvc or svn?
*>*
*>* hi someone sad i have to do this:
*>*
*>* http://openfacts.berlios.de/index-en.phtml?title=Linux+UVC
*>*
*>* for using my webcam. is it right?
*>*
*>* erhan
*>*
*>* On Thursday 05 July 2007 21:21:53 you wrote:
*>* > Hi,
*>* >
*>* > On Monday 02 July 2007, ernih at gmx.de wrote:
*>* > > hi i need drivers for:
*>* > >
*>* > > 5986:0100 linux" and "0x45:6270 linux
*>* >
*>* > For the 5986:0100, please try the latest release from SVN and report
*>*
*>* any
*>*
*>* > issue you run into.
*>* >
*>* > For the 0x45:6270, I assume you mean 0c45:6270. That device is not UVC
*>* > compliant, and will never be supported by the Linux UVC driver. You
*>*
*>* should
*>*
*>* > check the spca5xx driver, or the newer related gspca driver.
*>* >
*>* > > when will it be finished?
*>* >
*>* > As a side note, asking for other people to work for you without saying
*>* > please is considered as quite crude, to say the least.
*>* >
*>* > Best regards,
*>* >
*>* > Laurent Pinchart
*>*
*>* hi i would like to do this, but i am a newbee. i use kubuntu since 10
*>* weeks. i
*>* do not know what i have to do.
*>*
*>* can somebody help me in this case?
*>*
*>* best regards
*>* erhan from germany
*>* _______________________________________________
*>* Linux-uvc-devel mailing list
*>* Linux-uvc-devel at lists.berlios.de
<https://lists.berlios.de/mailman/listinfo/linux-uvc-devel>
*>* https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
*
hi i have do this. how can i start the webcam? i am using kopete or amsn. i
can use also an other messeger.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070913/f6e51482/attachment.html>

From alex at seewald.at  Thu Sep 13 11:10:53 2007
From: alex at seewald.at (Dr. techn. Alexander K. Seewald)
Date: Thu, 13 Sep 2007 11:10:53 +0200
Subject: [Linux-uvc-devel] [rlharris@oplink.net: logitech quickcam pro
	9000 autofocus mechanism]
In-Reply-To: <200709122259.40045.laurent.pinchart@skynet.be>
References: <20070912063644.GA14044@sdg.at>
	<200709122259.40045.laurent.pinchart@skynet.be>
Message-ID: <20070913091053.GA24226@sdg.at>

On Wed, Sep 12, 2007 at 10:59:39PM +0200, Laurent Pinchart wrote:
> > 1) It should be possible to drive the focus system quite fast. Not
> > sure why the current driver does not seem to utilize this capability...
> How do you mean ? The latest Linux UVC driver supports controlling the focus 
> manually.
Sorry, I meant the Windows driver during auto-focus. It seems to use
small steps when changing focus instead of making steps proportional to
out-of-focus estimates, which could be much faster. Thus, between
two extremal focus settings, it takes around 4-5 seconds until the
image is sharp again by the software-driven auto-focus. IMHO this
could be improved for the Linux driver.

Best,
  Alex
-- 
Dr. Alexander K. Seewald         +43(664)1106886
              Seewald Solutions                 
------------------------------------------------
         Information wants to be free;
Information also wants to be expensive (S.Brant)
--------------- alex.seewald.at ----------------


From indianfly at yandex.ru  Fri Sep 14 21:41:43 2007
From: indianfly at yandex.ru (iNDiAnFLy)
Date: Fri, 14 Sep 2007 23:41:43 +0400
Subject: [Linux-uvc-devel] WebCam on ViewSonic VX2255WMB
Message-ID: <op.tynsztl9yzve5p@shodan.headachy.lan>

Hi.

I have a Viewsonic WX2255WMB monitor with webcam "Chicony 1.3 MPixel USB  
2.0 camera",
how I can use this:
[quote]

# lsusb -v

Bus 001 Device 005: ID 04f2:b021 Chicony Electronics Co., Ltd
Device Descriptor:
   bLength                18
   bDescriptorType         1
   bcdUSB               2.00
   bDeviceClass          239 Miscellaneous Device
   bDeviceSubClass         2 Common Class
   bDeviceProtocol         1 Interface Association
   bMaxPacketSize0        64
   idVendor           0x04f2 Chicony Electronics Co., Ltd
   idProduct          0xb021
   bcdDevice            3.54
   iManufacturer           2 Chicony Electronics Co., Ltd.
   iProduct                1 ViewSonic 1.3M, USB2.0 Webcam
   iSerial                 3 SN0001
   bNumConfigurations      1
   Configuration Descriptor:
     bLength                 9
     bDescriptorType         2
     wTotalLength          591
     bNumInterfaces          2
     bConfigurationValue     1
     iConfiguration          0
     bmAttributes         0x80
       (Bus Powered)
     MaxPower               98mA
     Interface Association:
       bLength                 8
       bDescriptorType        11
       bFirstInterface         0
       bInterfaceCount         2
       bFunctionClass         14 Video
       bFunctionSubClass       3 Video Interface Collection
       bFunctionProtocol       0
       iFunction               1 ViewSonic 1.3M, USB2.0 Webcam
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        0
       bAlternateSetting       0
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      1 Video Control
       bInterfaceProtocol      0
       iInterface              1 ViewSonic 1.3M, USB2.0 Webcam
       VideoControl Interface Descriptor:
         bLength                13
         bDescriptorType        36
         bDescriptorSubtype      1 (HEADER)
         bcdUVC               1.00
         wTotalLength          103
         dwClockFrequency       15.000000MHz
         bInCollection           1
         baInterfaceNr( 0)       1
       VideoControl Interface Descriptor:
         bLength                 9
         bDescriptorType        36
         bDescriptorSubtype      3 (OUTPUT_TERMINAL)
         bTerminalID             2
         wTerminalType      0x0101 USB Streaming
         bAssocTerminal          0
         bSourceID               5
         iTerminal               0
       VideoControl Interface Descriptor:
         bLength                26
         bDescriptorType        36
         bDescriptorSubtype      6 (EXTENSION_UNIT)
         bUnitID                 4
         guidExtensionCode         {28f03370-6311-4a2e-ba2c-6890eb334016}
         bNumControl             8
         bNrPins                 1
         baSourceID( 0)          3
         bControlSize            1
         bmControls( 0)       0x0f
         iExtension              0
       VideoControl Interface Descriptor:
         bLength                26
         bDescriptorType        36
         bDescriptorSubtype      6 (EXTENSION_UNIT)
         bUnitID                 5
         guidExtensionCode         {2812ae3f-bcd7-4e11-a357-6f1edef7d61d}
         bNumControl             8
         bNrPins                 1
         baSourceID( 0)          4
         bControlSize            1
         bmControls( 0)       0x01
         iExtension              0
       VideoControl Interface Descriptor:
         bLength                18
         bDescriptorType        36
         bDescriptorSubtype      2 (INPUT_TERMINAL)
         bTerminalID             1
         wTerminalType      0x0201 Camera Sensor
         bAssocTerminal          0
         iTerminal               0
         wObjectiveFocalLengthMin      0
         wObjectiveFocalLengthMax      0
         wOcularFocalLength            0
         bControlSize                  3
         bmControls           0x00000000
       VideoControl Interface Descriptor:
         bLength                11
         bDescriptorType        36
         bDescriptorSubtype      5 (PROCESSING_UNIT)
       Warning: Descriptor too short
         bUnitID                 3
         bSourceID               1
         wMaxMultiplier          0
         bControlSize            2
         bmControls     0x0000053f
           Brightness
           Contrast
           Hue
           Saturation
           Sharpness
           Gamma
           Backlight Compensation
           Power Line Frequency
         iProcessing             0
         bmVideoStandards     0x 0
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x83  EP 3 IN
         bmAttributes            3
           Transfer Type            Interrupt
           Synch Type               None
           Usage Type               Data
         wMaxPacketSize     0x0010  1x 16 bytes
         bInterval               6
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       0
       bNumEndpoints           0
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       VideoStreaming Interface Descriptor:
         bLength                            14
         bDescriptorType                    36
         bDescriptorSubtype                  1 (INPUT_HEADER)
         bNumFormarts                        1
         wTotalLength                    33025
         bEndPointAddress                    0
         bmInfo                              2
         bTerminalLink                       0
         bStillCaptureMethod                 1
         bTriggerSupport                     0
         bTriggerUsage                       1
         bControlSize                        1
         bmaControls( 0)                    27
       VideoStreaming Interface Descriptor:
         bLength                            27
         bDescriptorType                    36
         bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
         bFormatIndex                        1
         bNumFrameDescriptors                7
         guidFormat                             
{32595559-0000-0010-8000-00aa00389b71}
         bBitsPerPixel                      16
         bDefaultFrameIndex                  1
         bAspectRatioX                       0
         bAspectRatioY                       0
         bmInterlaceFlags                 0x00
           Interlaced stream or variable: No
           Fields per frame: 1 fields
           Field 1 first: No
           Field pattern: Field 1 only
           bCopyProtect                      0
       VideoStreaming Interface Descriptor:
         bLength                            46
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
         bFrameIndex                         1
         bmCapabilities                   0x00
           Still image unsupported
         wWidth                            640
         wHeight                           480
         dwMinBitRate                   614400
         dwMaxBitRate                 18432000
         dwMaxVideoFrameBufferSize      614400
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  5
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
       VideoStreaming Interface Descriptor:
         bLength                            46
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
         bFrameIndex                         2
         bmCapabilities                   0x00
           Still image unsupported
         wWidth                            352
         wHeight                           288
         dwMinBitRate                   202752
         dwMaxBitRate                  6082560
         dwMaxVideoFrameBufferSize      202752
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  5
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
       VideoStreaming Interface Descriptor:
         bLength                            46
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
         bFrameIndex                         3
         bmCapabilities                   0x00
           Still image unsupported
         wWidth                            320
         wHeight                           240
         dwMinBitRate                   153600
         dwMaxBitRate                  4608000
         dwMaxVideoFrameBufferSize      153600
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  5
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
       VideoStreaming Interface Descriptor:
         bLength                            46
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
         bFrameIndex                         4
         bmCapabilities                   0x00
           Still image unsupported
         wWidth                            176
         wHeight                           144
         dwMinBitRate                    50688
         dwMaxBitRate                  1520640
         dwMaxVideoFrameBufferSize       50688
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  5
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
       VideoStreaming Interface Descriptor:
         bLength                            46
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
         bFrameIndex                         5
         bmCapabilities                   0x00
           Still image unsupported
         wWidth                            160
         wHeight                           120
         dwMinBitRate                    38400
         dwMaxBitRate                  1152000
         dwMaxVideoFrameBufferSize       38400
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  5
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
       VideoStreaming Interface Descriptor:
         bLength                            34
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
         bFrameIndex                         6
         bmCapabilities                   0x00
           Still image unsupported
         wWidth                           1280
         wHeight                           960
         dwMinBitRate                  2457600
         dwMaxBitRate                 22118400
         dwMaxVideoFrameBufferSize     2457600
         dwDefaultFrameInterval        1111111
         bFrameIntervalType                  2
         dwFrameInterval( 0)           1111111
         dwFrameInterval( 1)           2000000
       VideoStreaming Interface Descriptor:
         bLength                            34
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
         bFrameIndex                         7
         bmCapabilities                   0x00
           Still image unsupported
         wWidth                           1280
         wHeight                          1024
         dwMinBitRate                  2621440
         dwMaxBitRate                 23592960
         dwMaxVideoFrameBufferSize     2621440
         dwDefaultFrameInterval        1111111
         bFrameIntervalType                  2
         dwFrameInterval( 0)           1111111
         dwFrameInterval( 1)           2000000
       VideoStreaming Interface Descriptor:
         bLength                             6
         bDescriptorType                    36
         bDescriptorSubtype                 13 (COLORFORMAT)
         bColorPrimaries                     1 (BT.709,sRGB)
         bTransferCharacteristics            1 (BT.709)
         bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       1
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5
           Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data
         wMaxPacketSize     0x0080  1x 128 bytes
         bInterval               1
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       2
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5
           Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data
         wMaxPacketSize     0x0100  1x 256 bytes
         bInterval               1
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       3
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5
           Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data
         wMaxPacketSize     0x0320  1x 800 bytes
         bInterval               1
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       4
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5
           Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data
         wMaxPacketSize     0x0b20  2x 800 bytes
         bInterval               1
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       5
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5
           Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data
         wMaxPacketSize     0x1320  3x 800 bytes
         bInterval               1
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       6
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5
           Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data
         wMaxPacketSize     0x1400  3x 0 bytes
         bInterval               1
Device Qualifier (for other device speed):
   bLength                10
   bDescriptorType         6
   bcdUSB               2.00
   bDeviceClass          239 Miscellaneous Device
   bDeviceSubClass         2 Common Class
   bDeviceProtocol         1 Interface Association
   bMaxPacketSize0        64
   bNumConfigurations      1
Device Status:     0x0000
   (Bus Powered)

Bus 001 Device 001: ID 0000:0000
Device Descriptor:
   bLength                18
   bDescriptorType         1
   bcdUSB               2.00
   bDeviceClass            9 Hub
   bDeviceSubClass         0 Unused
   bDeviceProtocol         1 Single TT
   bMaxPacketSize0        64
   idVendor           0x0000
   idProduct          0x0000
   bcdDevice            2.06
   iManufacturer           3 Linux 2.6.22-gentoo-r5-shodan ehci_hcd
   iProduct                2 EHCI Host Controller
   iSerial                 1 0000:00:0b.1
   bNumConfigurations      1
   Configuration Descriptor:
     bLength                 9
     bDescriptorType         2
     wTotalLength           25
     bNumInterfaces          1
     bConfigurationValue     1
     iConfiguration          0
     bmAttributes         0xe0
       Self Powered
       Remote Wakeup
     MaxPower                0mA
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        0
       bAlternateSetting       0
       bNumEndpoints           1
       bInterfaceClass         9 Hub
       bInterfaceSubClass      0 Unused
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            3
           Transfer Type            Interrupt
           Synch Type               None
           Usage Type               Data
         wMaxPacketSize     0x0004  1x 4 bytes
         bInterval              12
Hub Descriptor:
   bLength              11
   bDescriptorType      41
   nNbrPorts             8
   wHubCharacteristic 0x000a
     No power switching (usb 1.0)
     Per-port overcurrent protection
     TT think time 8 FS bits
   bPwrOn2PwrGood       10 * 2 milli seconds
   bHubContrCurrent      0 milli Ampere
   DeviceRemovable    0x00 0x00
   PortPwrCtrlMask    0xff 0xff
  Hub Port Status:
    Port 1: 0000.0100 power
    Port 2: 0000.0503 highspeed power enable connect
    Port 3: 0000.0100 power
    Port 4: 0000.0100 power
    Port 5: 0000.0100 power
    Port 6: 0000.0100 power
    Port 7: 0000.0100 power
    Port 8: 0000.0100 power
Device Status:     0x0003
   Self Powered
   Remote Wakeup Enabled

Bus 002 Device 002: ID 060b:0001 Solid Year MacAlly Keyboard
Device Descriptor:
   bLength                18
   bDescriptorType         1
   bcdUSB               1.10
   bDeviceClass            0 (Defined at Interface level)
   bDeviceSubClass         0
   bDeviceProtocol         0
   bMaxPacketSize0         8
   idVendor           0x060b Solid Year
   idProduct          0x0001 MacAlly Keyboard
   bcdDevice            1.00
   iManufacturer           1 SAMSUNG
   iProduct                2 Pleomax Multimedia Keyboard & Mouse
   iSerial                 0
   bNumConfigurations      1
   Configuration Descriptor:
     bLength                 9
     bDescriptorType         2
     wTotalLength           59
     bNumInterfaces          2
     bConfigurationValue     1
     iConfiguration          0
     bmAttributes         0xa0
       (Bus Powered)
       Remote Wakeup
     MaxPower              100mA
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        0
       bAlternateSetting       0
       bNumEndpoints           1
       bInterfaceClass         3 Human Interface Devices
       bInterfaceSubClass      1 Boot Interface Subclass
       bInterfaceProtocol      1 Keyboard
       iInterface              0
         HID Device Descriptor:
           bLength                 9
           bDescriptorType        33
           bcdHID               1.10
           bCountryCode            0 Not supported
           bNumDescriptors         1
           bDescriptorType        34 Report
           wDescriptorLength      65
          Report Descriptors:
            ** UNAVAILABLE **
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            3
           Transfer Type            Interrupt
           Synch Type               None
           Usage Type               Data
         wMaxPacketSize     0x0008  1x 8 bytes
         bInterval              10
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       0
       bNumEndpoints           1
       bInterfaceClass         3 Human Interface Devices
       bInterfaceSubClass      1 Boot Interface Subclass
       bInterfaceProtocol      2 Mouse
       iInterface              0
         HID Device Descriptor:
           bLength                 9
           bDescriptorType        33
           bcdHID               1.10
           bCountryCode            0 Not supported
           bNumDescriptors         1
           bDescriptorType        34 Report
           wDescriptorLength     269
          Report Descriptors:
            ** UNAVAILABLE **
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x82  EP 2 IN
         bmAttributes            3
           Transfer Type            Interrupt
           Synch Type               None
           Usage Type               Data
         wMaxPacketSize     0x0008  1x 8 bytes
         bInterval              10
Device Status:     0x0000
   (Bus Powered)

Bus 002 Device 001: ID 0000:0000
Device Descriptor:
   bLength                18
   bDescriptorType         1
   bcdUSB               1.10
   bDeviceClass            9 Hub
   bDeviceSubClass         0 Unused
   bDeviceProtocol         0
   bMaxPacketSize0        64
   idVendor           0x0000
   idProduct          0x0000
   bcdDevice            2.06
   iManufacturer           3 Linux 2.6.22-gentoo-r5-shodan ohci_hcd
   iProduct                2 OHCI Host Controller
   iSerial                 1 0000:00:0b.0
   bNumConfigurations      1
   Configuration Descriptor:
     bLength                 9
     bDescriptorType         2
     wTotalLength           25
     bNumInterfaces          1
     bConfigurationValue     1
     iConfiguration          0
     bmAttributes         0xe0
       Self Powered
       Remote Wakeup
     MaxPower                0mA
     Interface Descriptor:
       bLength                 9
       bDescriptorType         4
       bInterfaceNumber        0
       bAlternateSetting       0
       bNumEndpoints           1
       bInterfaceClass         9 Hub
       bInterfaceSubClass      0 Unused
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor:
         bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            3
           Transfer Type            Interrupt
           Synch Type               None
           Usage Type               Data
         wMaxPacketSize     0x0002  1x 2 bytes
         bInterval             255
Hub Descriptor:
   bLength              11
   bDescriptorType      41
   nNbrPorts             8
   wHubCharacteristic 0x0012
     No power switching (usb 1.0)
     No overcurrent protection
   bPwrOn2PwrGood        1 * 2 milli seconds
   bHubContrCurrent      0 milli Ampere
   DeviceRemovable    0x00 0x00
   PortPwrCtrlMask    0xff 0xff
  Hub Port Status:
    Port 1: 0000.0103 power enable connect
    Port 2: 0000.0100 power
    Port 3: 0000.0100 power
    Port 4: 0000.0100 power
    Port 5: 0000.0100 power
    Port 6: 0000.0100 power
    Port 7: 0000.0100 power
    Port 8: 0000.0100 power
Device Status:     0x0003
   Self Powered
   Remote Wakeup Enabled
[/quote]

In advance thanks


From laurent.pinchart at skynet.be  Sun Sep 16 00:35:58 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 16 Sep 2007 00:35:58 +0200
Subject: [Linux-uvc-devel] Problems with QuickCam Pro 5000
In-Reply-To: <1189636372.8883.14.camel@cass-wks>
References: <1177199442.26838.11.camel@cass-wks>
	<200709122348.13859.laurent.pinchart@skynet.be>
	<1189636372.8883.14.camel@cass-wks>
Message-ID: <200709160035.58444.laurent.pinchart@skynet.be>

Hi Guillaume,

On Thursday 13 September 2007, Guillaume Desmottes wrote:
> Le mercredi 12 septembre 2007 ? 23:48 +0200, Laurent Pinchart a ?crit :
> > Hi Guillaume,
> >
> > your post was too big for the list so I removed to
> >
> > On Wednesday 05 September 2007, Guillaume Desmottes wrote:
> > > Le mercredi 25 avril 2007 ? 00:05 +0200, Guillaume Desmottes a ?crit :
> > > > Le mardi 24 avril 2007 ? 20:37 +0200, Laurent Pinchart a ?crit :
> > > > > You might be suffering from a Logitech hardware bug. Search the
> > > > > list archive for a so-called "reset patch". It is known to help
> > > > > some people in the past.
> > > >
> > > > Laurent you are my hero. I patched using the diff posted by Stephan
> > > > and it seems to work perfectly now. :)
> > >
> > > Some update.
> > > I reinstalled my box to switch to Gutsy (2.6.22-10) and so re-install
> > > the driver using HEAD version.
> > >
> > > # modprobe uvcvideo trace=0xffff
> > > # dmesg -c
> >
> > [snip]
> >
> > > [57843.336000] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ce)
> >
> > [snip]
> >
> > > [57843.424000] uvcvideo: UVC device initialized.
> > > [57843.424000] usbcore: registered new interface driver uvcvideo
> > > [57843.424000] USB Video Class driver (v0.1.0)
> > >
> > >
> > > And when I try to use the webcam, gst-properties says:
> > > gstreamer-properties-Message: Error running pipeline 'Video for Linux 2
> > > (v4l2)': Could not get buffers from device '/dev/video0'.
> > > [v4l2src_calls.c(1025): gst_v4l2src_capture_init
> > > (): /pipeline0/v4l2src3:
> > > error requesting 0 buffers: Cannot allocate memory]
> > >
> > >
> > > # dmesg -c
> > > [57901.428000] uvcvideo: uvc_v4l2_open
> >
> > [snip]
> >
> > > [57904.996000] uvcvideo: uvc_v4l2_read: not implemented.
> > > [57908.616000] uvcvideo: uvc_v4l2_release
> > >
> > >
> > > So I retried using the reset patch.
> > > I used
> > > http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg00830.h
> > >tml as said on the wiki and updated it to apply on HEAD (see
> > > attachement).
> > >
> > > # modprobe uvcvideo trace=0xffff
> > > # dmesg -c
> >
> > [snip]
> >
> > > [58280.416000] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ce)
> >
> > [snip]
> >
> > > [58280.464000] uvcvideo: UVC device initialized.
> > > [58280.464000] usbcore: registered new interface driver uvcvideo
> > > [58280.464000] USB Video Class driver (v0.1.0)
> > >
> > > Let's retry.
> > >
> > > streamer-properties-Message: Error running pipeline 'Video for Linux 2
> > > (v4l2)': Could not get buffers from device '/dev/video0'.
> > > [v4l2src_calls.c(1025): gst_v4l2src_capture_init
> > > (): /pipeline0/v4l2src3:
> > > error requesting 0 buffers: Cannot allocate memory]
> > >
> > > same error so
> > >
> > > # dmesg -c
> > > [58339.504000] uvcvideo: uvc_v4l2_open
> >
> > [snip]
> >
> > > [58342.992000] uvcvideo: uvc_v4l2_read: not implemented.
> > > [58344.320000] uvcvideo: uvc_v4l2_release
> > >
> > >
> > > So I tried the other link from the wiki
> > > (http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg00386.
> > >html ) Here again I updated it to fit HEAD (attachement) but didn't get
> > > better results.
> > >
> > > # modprobe uvcvideo trace=0xffff
> > > # dmesg -c
> >
> > [snip]
> >
> > > [59582.988000] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ce)
> >
> > [snip]
> >
> > > [59583.036000] uvcvideo: UVC device initialized.
> > > [59583.036000] usbcore: registered new interface driver uvcvideo
> > > [59583.036000] USB Video Class driver (v0.1.0)
> > >
> > >
> > > Here again, the same error...
> > > gstreamer-properties-Message: Error running pipeline 'Video for Linux 2
> > > (v4l2)': Could not get buffers from device '/dev/video0'.
> > > [v4l2src_calls.c(1025): gst_v4l2src_capture_init
> > > (): /pipeline0/v4l2src3:
> > > error requesting 0 buffers: Cannot allocate memory]
> > >
> > >
> > > So, I'm not able anymore to use my webcam. :(
> > > Is it still due to this damned hardware bug? If so, do you have any
> > > other fix/workaround that could help me?
> >
> > Good news, the "damned hardware bug" is not at fault here :-) For some
> > reason, your gstreamer pipeline uses read() instead of mmap(). Did it
> > work before the upgrade ?
>
> Yes, it was working with Feisty. Is that a gst bug? I mean, is it
> supposed to use the read method here? Any specific reason why this
> method is not implemented or it's just not done yet?

V4L2 specifies several video streaming methods. A driver must implement at 
least one of them, but none are mandatory. The read() method is suboptimal 
but sometimes easier to use (especially when using programming languages that 
don't support ioctl and mmap). mmap() usually provides better performances.

The Linux UVC driver supports mmap() only for historical reasons. I 
implemented mmap() first, as it was in my opinion the most useful method 
performance-wise. Unfortunately, some softwares use read() exclusively. There 
might be a way to tell gstreamer to switch from read() to mmap().

read() support is planned, and Christopher Horler posted a patch on the 
mailing list some time ago. I unfortunately haven't had time to fix it yet.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Sep 16 00:37:16 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 16 Sep 2007 00:37:16 +0200
Subject: [Linux-uvc-devel] latest UVC driver and now?
In-Reply-To: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>
References: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>
Message-ID: <200709160037.17004.laurent.pinchart@skynet.be>

On Thursday 13 September 2007, Erhan wrote:
> Hi i have installed the latest UVC driver. and what happens now? i
> will use my webcam with a messenger? which messenger can i use?

Ekiga is known to work. Kopete and aMsn should work if you use recent enough 
versions (you might need to check out the sources from SVN and compile them). 
For testing purpose, you can use luvcview.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Sep 16 00:41:01 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 16 Sep 2007 00:41:01 +0200
Subject: [Linux-uvc-devel] WebCam on ViewSonic VX2255WMB
In-Reply-To: <op.tynsztl9yzve5p@shodan.headachy.lan>
References: <op.tynsztl9yzve5p@shodan.headachy.lan>
Message-ID: <200709160041.01638.laurent.pinchart@skynet.be>

On Friday 14 September 2007, iNDiAnFLy wrote:
> Hi.
>
> I have a Viewsonic WX2255WMB monitor with webcam "Chicony 1.3 MPixel USB
> 2.0 camera",
> how I can use this:

In a nutshell:

1. Install the Linux UVC driver
2. Plug your webcam
3. Start your favorite application and have fun

If you have trouble with step 1, you should be able to find plenty of 
information in the mailing list archive.

If you have trouble with step 3, your favorite application might not support 
V4L2. luvcview, uvccapture and Ekiga are known to work. aMsn, Kopete and 
OpenWengo/WengoPhone should work if you use the latest version (you might 
have to check them out from SVN). Other applications might work too.

If you have trouble with step 2, I'm afraid there's not much I can do :-)

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Sep 16 00:46:25 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 16 Sep 2007 00:46:25 +0200
Subject: [Linux-uvc-devel] [rlharris@oplink.net: logitech quickcam pro
	9000 autofocus mechanism]
In-Reply-To: <20070913091053.GA24226@sdg.at>
References: <20070912063644.GA14044@sdg.at>
	<200709122259.40045.laurent.pinchart@skynet.be>
	<20070913091053.GA24226@sdg.at>
Message-ID: <200709160046.25469.laurent.pinchart@skynet.be>

On Thursday 13 September 2007, Dr. techn. Alexander K. Seewald wrote:
> On Wed, Sep 12, 2007 at 10:59:39PM +0200, Laurent Pinchart wrote:
> > > 1) It should be possible to drive the focus system quite fast. Not
> > > sure why the current driver does not seem to utilize this capability...
> >
> > How do you mean ? The latest Linux UVC driver supports controlling the
> > focus manually.
>
> Sorry, I meant the Windows driver during auto-focus. It seems to use
> small steps when changing focus instead of making steps proportional to
> out-of-focus estimates, which could be much faster. Thus, between
> two extremal focus settings, it takes around 4-5 seconds until the
> image is sharp again by the software-driven auto-focus. IMHO this
> could be improved for the Linux driver.

I'd be very interested to see the result of your experimentation :-) Computing 
a relative out-of-focus estimate shouldn't be too difficult, but getting an 
absolute out-of-focus estimate seems much more difficult. That's probably why 
Logitech moves the focus slowly from one end to the other and compute a 
relative out-of-focus estimate for each position.

Best regards,

Laurent Pinchart


From cass at skynet.be  Sun Sep 16 14:08:54 2007
From: cass at skynet.be (Guillaume Desmottes)
Date: Sun, 16 Sep 2007 14:08:54 +0200
Subject: [Linux-uvc-devel] Problems with QuickCam Pro 5000
In-Reply-To: <200709160035.58444.laurent.pinchart@skynet.be>
References: <1177199442.26838.11.camel@cass-wks>
	<200709122348.13859.laurent.pinchart@skynet.be>
	<1189636372.8883.14.camel@cass-wks>
	<200709160035.58444.laurent.pinchart@skynet.be>
Message-ID: <1189944535.6502.2.camel@cass-wks>


Le dimanche 16 septembre 2007 ? 00:35 +0200, Laurent Pinchart a ?crit :
> V4L2 specifies several video streaming methods. A driver must implement at 
> least one of them, but none are mandatory. The read() method is suboptimal 
> but sometimes easier to use (especially when using programming languages that 
> don't support ioctl and mmap). mmap() usually provides better performances.
> 
> The Linux UVC driver supports mmap() only for historical reasons. I 
> implemented mmap() first, as it was in my opinion the most useful method 
> performance-wise. Unfortunately, some softwares use read() exclusively. There 
> might be a way to tell gstreamer to switch from read() to mmap().
> 
> read() support is planned, and Christopher Horler posted a patch on the 
> mailing list some time ago. I unfortunately haven't had time to fix it yet.
> 

I checked in gstreamer and the code managing the choice of the streaming
method has been changed in the latest release.
I filled a bug report http://bugzilla.gnome.org/show_bug.cgi?id=477456

Thanks again for your help.


	G.

-- 
Guillaume Desmottes <cass at skynet.be>
Jabber <cassidy at jabber.belnet.be>
GPG 1024D/711E31B1 | 1B5A 1BA8 11AA F0F1 2169  E28A AC55 8671 711E 31B1



From laurent.pinchart at skynet.be  Sun Sep 16 17:54:33 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 16 Sep 2007 17:54:33 +0200
Subject: [Linux-uvc-devel] Microsoft Xbox Live Vision Cam (045e:0294)
In-Reply-To: <46E85ADC.7040207@elitedvb.net>
References: <46E593A3.8070007@elitedvb.net>
	<200709122319.06773.laurent.pinchart@skynet.be>
	<46E85ADC.7040207@elitedvb.net>
Message-ID: <200709161754.33986.laurent.pinchart@skynet.be>

Hi Felix,

could you please test the following patch ? I moved the usb_set_interface() 
call to uvc_video_init(). You will still have to modify the 
UVC_CTRL_STREAMING_TIMEOUT globally for testing, I'll try to come up with a 
nice solution for that once you confirm that the usb_set_interface() call 
fixes the problem.

Best regards,

Laurent Pinchart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: xbox.diff
Type: text/x-diff
Size: 630 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070916/1ff32d2e/attachment.diff>

From ernih at gmx.de  Sun Sep 16 22:06:56 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Sun, 16 Sep 2007 22:06:56 +0200
Subject: [Linux-uvc-devel] latest UVC driver and now?
In-Reply-To: <200709160037.17004.laurent.pinchart@skynet.be>
References: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>
	<200709160037.17004.laurent.pinchart@skynet.be>
Message-ID: <200709162206.56232.ernih@gmx.de>

i have kopete. but it doent work with the webcam.
what i have to do the the webcam works also on kopete. how can i compile it?
does it work on ekiga?

On Sunday 16 September 2007 00:37:16 you wrote:
> On Thursday 13 September 2007, Erhan wrote:
> > Hi i have installed the latest UVC driver. and what happens now? i
> > will use my webcam with a messenger? which messenger can i use?
>
> Ekiga is known to work. Kopete and aMsn should work if you use recent
> enough versions (you might need to check out the sources from SVN and
> compile them). For testing purpose, you can use luvcview.
>
> Best regards,
>
> Laurent Pinchart




From laurent.pinchart at skynet.be  Mon Sep 17 20:41:54 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 17 Sep 2007 20:41:54 +0200
Subject: [Linux-uvc-devel] latest UVC driver and now?
In-Reply-To: <200709162206.56232.ernih@gmx.de>
References: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>
	<200709160037.17004.laurent.pinchart@skynet.be>
	<200709162206.56232.ernih@gmx.de>
Message-ID: <200709172041.54623.laurent.pinchart@skynet.be>

On Sunday 16 September 2007, ernih at gmx.de wrote:
> i have kopete. but it doent work with the webcam.
> what i have to do the the webcam works also on kopete. how can i compile
> it? does it work on ekiga?

The driver should work with Ekiga >= 2.0.3. For Kopete you probably need a 
recent SVN snapshot. You might be able to find more information on the 
Kopete/KDE development website. Please note that proper V4L2 support in 
Kopete is quite experimental, and it might or might not work for you.

Best regards,

Laurent Pinchart


From ernih at gmx.de  Tue Sep 18 00:39:49 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Tue, 18 Sep 2007 00:39:49 +0200
Subject: [Linux-uvc-devel] latest UVC driver and now?
In-Reply-To: <200709172041.54623.laurent.pinchart@skynet.be>
References: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>
	<200709162206.56232.ernih@gmx.de>
	<200709172041.54623.laurent.pinchart@skynet.be>
Message-ID: <200709180039.49580.ernih@gmx.de>

On Monday 17 September 2007 20:41:54 you wrote:
> On Sunday 16 September 2007, ernih at gmx.de wrote:
> > i have kopete. but it doent work with the webcam.
> > what i have to do the the webcam works also on kopete. how can i compile
> > it? does it work on ekiga?
>
> The driver should work with Ekiga >= 2.0.3. For Kopete you probably need a
> recent SVN snapshot. You might be able to find more information on the
> Kopete/KDE development website. Please note that proper V4L2 support in
> Kopete is quite experimental, and it might or might not work for you.
>
> Best regards,
>
> Laurent Pinchart


can i use msn messenger, icq a.s.o. with ekiga? i think that is not possible. 
do you have some links for the recent svn snapshot? i dont know how can i do 
it.

thx


From ernih at gmx.de  Wed Sep 19 00:20:19 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Wed, 19 Sep 2007 00:20:19 +0200
Subject: [Linux-uvc-devel] latest UVC driver and now?
In-Reply-To: <200709172041.54623.laurent.pinchart@skynet.be>
References: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>
	<200709162206.56232.ernih@gmx.de>
	<200709172041.54623.laurent.pinchart@skynet.be>
Message-ID: <200709190020.19287.ernih@gmx.de>

On Monday 17 September 2007 20:41:54 you wrote:
> On Sunday 16 September 2007, ernih at gmx.de wrote:
> > i have kopete. but it doent work with the webcam.
> > what i have to do the the webcam works also on kopete. how can i compile
> > it? does it work on ekiga?
>
> The driver should work with Ekiga >= 2.0.3. For Kopete you probably need a
> recent SVN snapshot. You might be able to find more information on the
> Kopete/KDE development website. Please note that proper V4L2 support in
> Kopete is quite experimental, and it might or might not work for you.
>
> Best regards,
>
> Laurent Pinchart

hi i did this:

http://openfacts.berlios.de/index-en.phtml?title=Linux+UVC

do u mean this or something other?

what i have to do to use my webcam on msn. 

do u have some link. where can i follow the steps?

thanks
erhan


From randomjavatroll at gmail.com  Wed Sep 19 15:09:35 2007
From: randomjavatroll at gmail.com (randomJavaTroll)
Date: Wed, 19 Sep 2007 15:09:35 +0200
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
Message-ID: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>

Hello. I have Logitech QuickCam Pro 5000 and it stopped to work after a
while with linux-uvc.

Still, the camera is listed as supported on the main page. If you search
more thoroughly, you will
find that the camera has in fact a hardware bug so it does not work with
linux-uvc, or at least
some of these cameras do not.

So, my question is, whose of these cameras listed are really known to work
without problems?

I need a camera with low latency, sharp image and support for exposure
settings.

Could you please help me?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070919/233ce735/attachment.html>

From randomjavatroll at gmail.com  Wed Sep 19 15:16:41 2007
From: randomjavatroll at gmail.com (randomJavaTroll)
Date: Wed, 19 Sep 2007 15:16:41 +0200
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
Message-ID: <a7e90f9d0709190616q51c17110n533518ca2f40bcca@mail.gmail.com>

And, anyone known if QuickCam Pro 9000 has the hardware bug too?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070919/628526ab/attachment.html>

From hgsolari at gmail.com  Wed Sep 19 19:18:59 2007
From: hgsolari at gmail.com (Hernan G Solari)
Date: Wed, 19 Sep 2007 14:18:59 -0300
Subject: [Linux-uvc-devel] Suyin chip 064e:a100 on Acer (orbit camera)
Message-ID: <46F15A03.4060907@gmail.com>

Hello
I am trying to put an ACER laptop 5050-4697 to work under linux
The story runs in http://www.df.uba.ar/~solari/acer.html for the time
being.

The ACER has an "OrbitCam" which does not quite work so far.

Here is the info (perhaps you can help me)

Distro: Debian etch 4.0 amd64
kernel: built 2.6.22

lsusb output
Bus 003 Device 002: ID 064e:a100 Suyin Corp.


dmesg output
Linux video capture interface: v2.00
uvcvideo: Found UVC 1.00 device AcerOrbiCam (064e:a100)
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)



usbutils 0.72-7 (debian etch)
/usr/local/bin/luvcview -L
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
/dev/video0 does not support read i/o
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
discrete: width = 352, height = 288 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 320, height = 240 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 176, height = 144 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
{ discrete: width = 160, height = 120 }
Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,


final result
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
Init v4L2 failed !! exit fatal

thanks
Hernan


-- 
Hern?n Gustavo Solari, solari at df.uba.ar, http://www.df.uba.ar/~solari



From mathieu.perrin at umontreal.ca  Thu Sep 20 06:03:30 2007
From: mathieu.perrin at umontreal.ca (Mathieu Perrin)
Date: Thu, 20 Sep 2007 00:03:30 -0400
Subject: [Linux-uvc-devel] QuickCam Pro 5000 in black and white
Message-ID: <46F1F112.5040707@umontreal.ca>

Hello,
first a quick thing you might not be aware of:
By default in Fedora, /sbin is not is the path, even for root. As you
are calling depmod in the makefile, 'make install' does not work by
default. Replacing depmod by /sbin/depmod should do the job.

I am using a Logitech QuickCam Pro 5000 (046d:08ce) with the last
revision of the driver (125). The utility luvcview works well but
displays its output in black and white, and Ekiga 2.0.9 gives the
following error

Your driver doesn't seem to support any of the color formats supported
by Ekiga.
Please check your kernel driver documentation in order to determine
which Palette is supported.

You are more than welcome if you can give me some information about what
is going on...
Thanks for bringing the driver to the community,
Mathieu Perrin



From juan.baptiste at gmail.com  Thu Sep 20 06:42:48 2007
From: juan.baptiste at gmail.com (Juan Luis Baptiste)
Date: Wed, 19 Sep 2007 23:42:48 -0500
Subject: [Linux-uvc-devel] latest UVC driver and now?
In-Reply-To: <200709180039.49580.ernih@gmx.de>
References: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>
	<200709172041.54623.laurent.pinchart@skynet.be>
	<200709180039.49580.ernih@gmx.de>
Message-ID: <200709192342.48921.juan.baptiste@gmail.com>

Hi,

>
> can i use msn messenger, icq a.s.o. with ekiga? i think that is not
> possible. do you have some links for the recent svn snapshot? i dont know
> how can i do it.
>

http://kopete.kde.org/svnaccess.php

Cheers,
-- 
Juan Luis Baptiste


From randomjavatroll at gmail.com  Thu Sep 20 10:50:34 2007
From: randomjavatroll at gmail.com (randomJavaTroll)
Date: Thu, 20 Sep 2007 10:50:34 +0200
Subject: [Linux-uvc-devel] Is Quickcam Pro 9000 working with linux-uvc?
Message-ID: <a7e90f9d0709200150g472f05coea3b99abcfe88bf9@mail.gmail.com>

Hello again, can anyone tell me this please?

As I wrote in another thread, Quickcam Pro 5000 does not work in all cases,
despite it being listed as working.
Does Quickcam Pro 9000 have the hardware bug too? Any users of the latter
camera that have problems with it
in linux-uvc?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070920/f7fe48fc/attachment.html>

From titanium2475 at hotmail.com  Thu Sep 20 17:36:03 2007
From: titanium2475 at hotmail.com (helico unitemoyenne)
Date: Thu, 20 Sep 2007 15:36:03 +0000
Subject: [Linux-uvc-devel] two logitech cameras synchronization
Message-ID: <BAY110-W2AEA474BB6FB90C8179EADCBA0@phx.gbl>


hello,

i would like to do a two logitech cameras synchronization. The shift between the frames taken will be as lower as possible. So i saw that we can use the timestamp field in v4l2_buffer and launch streamon ioctl exactetly at the same time. As you know , Linux is not a Real Time kernel. So streamon is not a "now" ioctl. Therefor, this solution is not the best for my probleme.

i welcome your ideas and comment
 thanks
_________________________________________________________________
D?couvrez le blog Messenger S?ries TV : infos, scoops, interviews et photos !
http://blog-series-tv.spaces.live.com/

From laurent.pinchart at skynet.be  Thu Sep 20 21:52:02 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 20 Sep 2007 21:52:02 +0200
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
Message-ID: <200709202152.02961.laurent.pinchart@skynet.be>

Hi,


On Wednesday 19 September 2007, randomJavaTroll wrote:
> Hello. I have Logitech QuickCam Pro 5000 and it stopped to work after a
> while with linux-uvc.
>
> Still, the camera is listed as supported on the main page. If you search
> more thoroughly, you will find that the camera has in fact a hardware bug so
> it does not work with linux-uvc, or at least some of these cameras do not.

It's a bit more subtle than that. The bug is a timing issue, and thus the 
camera doesn't work reliably (or at all) for some people depending on their 
particular hardware (CPU speed, USB controller, ...). But you're right, those 
cameras are somehow broken.

> So, my question is, whose of these cameras listed are really known to work
> without problems?

This is hard to tell. Most cameras work fine until someone finds a problem. 
From my experience (so this isn't an authoritative answer) the Creative and 
Sonix webcams work, as do the latest Logitech ones (Quickcam Pro 9000 and 
Quickcam Pro for Notebook 2007 (PID 0990 and 0991).

> I need a camera with low latency, sharp image and support for exposure
> settings.

That's another problem then. Most webcams (at least the ones listed on the 
website) use a CMOS sensor. You won't get sharp pictures under low light 
condition. Depending on your needs, you might want to go for a CCD sensor 
instead. Those will be found in more expensive industrial cameras.

Best regards,

Laurent Pinchart.


From laurent.pinchart at skynet.be  Thu Sep 20 21:53:58 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 20 Sep 2007 21:53:58 +0200
Subject: [Linux-uvc-devel] Suyin chip 064e:a100 on Acer (orbit camera)
In-Reply-To: <46F15A03.4060907@gmail.com>
References: <46F15A03.4060907@gmail.com>
Message-ID: <200709202153.58747.laurent.pinchart@skynet.be>

Hi Hernan,

On Wednesday 19 September 2007, Hernan G Solari wrote:
> Hello
> I am trying to put an ACER laptop 5050-4697 to work under linux
> The story runs in http://www.df.uba.ar/~solari/acer.html for the time
> being.
>
> The ACER has an "OrbitCam" which does not quite work so far.
>
> Here is the info (perhaps you can help me)
>
> Distro: Debian etch 4.0 amd64
> kernel: built 2.6.22
>
> lsusb output
> Bus 003 Device 002: ID 064e:a100 Suyin Corp.

This is a new one. Could you please send me the output of

lsusb -v -d 064e:a100

with usbutils 0.72 or newer ? Thanks.

> dmesg output
> Linux video capture interface: v2.00
> uvcvideo: Found UVC 1.00 device AcerOrbiCam (064e:a100)
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (v0.1.0)
>
> usbutils 0.72-7 (debian etch)
> /usr/local/bin/luvcview -L
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> /dev/video0 does not support read i/o
> { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
> { discrete: width = 640, height = 480 }
> Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
> discrete: width = 352, height = 288 }
> Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
> { discrete: width = 320, height = 240 }
> Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
> { discrete: width = 176, height = 144 }
> Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
> { discrete: width = 160, height = 120 }
> Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
>
> final result
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 22.
> Init v4L2 failed !! exit fatal

luvcview defaults to MJPEG. Your camera supports YUV only. Try

luvcview -f yuv

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Sep 20 21:58:45 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 20 Sep 2007 21:58:45 +0200
Subject: [Linux-uvc-devel] QuickCam Pro 5000 in black and white
In-Reply-To: <46F1F112.5040707@umontreal.ca>
References: <46F1F112.5040707@umontreal.ca>
Message-ID: <200709202158.45226.laurent.pinchart@skynet.be>

Hi Mathieu,

On Thursday 20 September 2007, Mathieu Perrin wrote:
> Hello,
> first a quick thing you might not be aware of:
> By default in Fedora, /sbin is not is the path, even for root.

Really ? Even when using 'su -' to gain root privileges ?

> As you are calling depmod in the makefile, 'make install' does not work by
> default. Replacing depmod by /sbin/depmod should do the job.

Thanks for the information. Is depmod always installed in /sbin ?

> I am using a Logitech QuickCam Pro 5000 (046d:08ce) with the last
> revision of the driver (125). The utility luvcview works well but
> displays its output in black and white,

Have you checked the saturation control ? It might be set to 0 (I have no idea 
why that would be though).

> and Ekiga 2.0.9 gives the following error
>
> Your driver doesn't seem to support any of the color formats supported
> by Ekiga.
> Please check your kernel driver documentation in order to determine
> which Palette is supported.
>
> You are more than welcome if you can give me some information about what
> is going on...

Do you get any error message in the kernel log after starting Ekiga ?

> Thanks for bringing the driver to the community,

My pleasure :-)

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Sep 20 22:01:44 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 20 Sep 2007 22:01:44 +0200
Subject: [Linux-uvc-devel] two logitech cameras synchronization
In-Reply-To: <BAY110-W2AEA474BB6FB90C8179EADCBA0@phx.gbl>
References: <BAY110-W2AEA474BB6FB90C8179EADCBA0@phx.gbl>
Message-ID: <200709202201.45088.laurent.pinchart@skynet.be>

Hi,

On Thursday 20 September 2007, helico unitemoyenne wrote:
> hello,
>
> i would like to do a two logitech cameras synchronization. The shift
> between the frames taken will be as lower as possible. So i saw that we can
> use the timestamp field in v4l2_buffer and launch streamon ioctl exactetly
> at the same time. As you know , Linux is not a Real Time kernel. So
> streamon is not a "now" ioctl. Therefor, this solution is not the best for
> my probleme.

UVC provides timestamps in the data packets to help synchronising clocks. 
However, there is no way I know of to synchronise two (or more) cameras. UVC 
doesn't provide a mean to start streaming at a given time. Even if it did, 
differences in clock frequency between the two webcams would result in a slow 
drift.

Best regards,

Laurent Pinchart


From ernih at gmx.de  Fri Sep 21 00:03:47 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Fri, 21 Sep 2007 00:03:47 +0200
Subject: [Linux-uvc-devel] latest UVC driver and now?
In-Reply-To: <200709192342.48921.juan.baptiste@gmail.com>
References: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>
	<200709180039.49580.ernih@gmx.de>
	<200709192342.48921.juan.baptiste@gmail.com>
Message-ID: <200709210003.47420.ernih@gmx.de>

On Thursday 20 September 2007 06:42:48 Juan Luis Baptiste wrote:
> Hi,
>
> > can i use msn messenger, icq a.s.o. with ekiga? i think that is not
> > possible. do you have some links for the recent svn snapshot? i dont know
> > how can i do it.
>
> http://kopete.kde.org/svnaccess.php
>
> Cheers,

hi thank u 4 the link.

i have done some stept. when i type 

make -f Makefile.cvs

i get an error report:

This Makefile is only for the CVS repository
This will be deleted before making the distribution

./admin/cvs.sh: 651: --version: not found
*** AUTOCONF NOT FOUND!.
*** KDE requires autoconf 2.53 or newer
make[1]: *** [cvs] Fehler 1
make: *** [all] Fehler 2
salsero at salsero:~/kdenetwork$ 

what is wrong? thanks




From tmbinc at elitedvb.net  Fri Sep 21 02:04:15 2007
From: tmbinc at elitedvb.net (Felix Domke)
Date: Fri, 21 Sep 2007 00:04:15 +0000
Subject: [Linux-uvc-devel] Microsoft Xbox Live Vision Cam (045e:0294)
In-Reply-To: <200709161754.33986.laurent.pinchart@skynet.be>
References: <46E593A3.8070007@elitedvb.net>
	<200709122319.06773.laurent.pinchart@skynet.be>
	<46E85ADC.7040207@elitedvb.net>
	<200709161754.33986.laurent.pinchart@skynet.be>
Message-ID: <46F30A7F.4090208@elitedvb.net>

Hi,

> could you please test the following patch ? I moved the usb_set_interface() 
> call to uvc_video_init(). You will still have to modify the 
> UVC_CTRL_STREAMING_TIMEOUT globally for testing, I'll try to come up with a 
> nice solution for that once you confirm that the usb_set_interface() call 
> fixes the problem.
Sorry, I could only test it today.

Yes, your patch does work. Only thing i had to change otherwise was the
UVC_CTRL_STREAMING_TIMEOUT.

Felix


From chris.horler at clara.co.uk  Fri Sep 21 13:27:43 2007
From: chris.horler at clara.co.uk (Christopher HORLER)
Date: Fri, 21 Sep 2007 12:27:43 +0100
Subject: [Linux-uvc-devel] latest UVC driver and now?
In-Reply-To: <200709210003.47420.ernih@gmx.de>
References: <56405c930709122339q22041d99l6fbc50bc9f623687@mail.gmail.com>
	<200709192342.48921.juan.baptiste@gmail.com>
	<200709210003.47420.ernih@gmx.de>
Message-ID: <200709211227.43264.chris.horler@clara.co.uk>

On Thursday 20 September 2007 23:03, ernih at gmx.de wrote:
> i have done some stept. when i type
>
> make -f Makefile.cvs
>
> i get an error report:
>
> This Makefile is only for the CVS repository
> This will be deleted before making the distribution
>
> ./admin/cvs.sh: 651: --version: not found
> *** AUTOCONF NOT FOUND!.
> *** KDE requires autoconf 2.53 or newer
> make[1]: *** [cvs] Fehler 1
> make: *** [all] Fehler 2
> salsero at salsero:~/kdenetwork$
>
> what is wrong? thanks
read the error message 
- it informs you that autoconf was not found.

install autoconf
or
set you environment so your autoconf installation is found.

you'll probably need the other auto tools as well (pre-empting the next mail)

Regards,
Chris


From carles at pina.cat  Fri Sep 21 22:19:09 2007
From: carles at pina.cat (Carles Pina i Estany)
Date: Fri, 21 Sep 2007 22:19:09 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
Message-ID: <20070921201909.GA5543@pinux.info>


Hello!

I have a Logitech Quickcam Pro for Notebooks, that seems that is well
supported.

But is not working. I'm using a Kernel 2.6.22, compiled myself, with
Video4Linux enabled. In dmesg I can see:

------------------
Linux video capture interface: v2.00
uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c3)
uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -110 (exp. 26).
uvcvideo: Failed to query (129) UVC control 1 (unit 0) : -110 (exp. 26).
uvcvideo: Failed to initialize the device (-5).
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)
----------------
/dev/video0 is not created

What can I do? I've read something about firmware bug, etc. but last
year this camera worked :-) just I have not used and now... not working.

Some problem in some kernel option? where I can look? I have been
browsing without any success.

Thank you very much!!

-- 
Carles Pina i Estany		GPG id: 0x8CBDAE64
	http://pinux.info	Manresa - Barcelona


From laurent.pinchart at skynet.be  Sat Sep 22 00:15:28 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 22 Sep 2007 00:15:28 +0200
Subject: [Linux-uvc-devel] Microsoft Xbox Live Vision Cam (045e:0294)
In-Reply-To: <46F30A7F.4090208@elitedvb.net>
References: <46E593A3.8070007@elitedvb.net>
	<200709161754.33986.laurent.pinchart@skynet.be>
	<46F30A7F.4090208@elitedvb.net>
Message-ID: <200709220015.28318.laurent.pinchart@skynet.be>

On Friday 21 September 2007, Felix Domke wrote:
> Hi,
>
> > could you please test the following patch ? I moved the
> > usb_set_interface() call to uvc_video_init(). You will still have to
> > modify the
> > UVC_CTRL_STREAMING_TIMEOUT globally for testing, I'll try to come up with
> > a nice solution for that once you confirm that the usb_set_interface()
> > call fixes the problem.
>
> Sorry, I could only test it today.
>
> Yes, your patch does work. Only thing i had to change otherwise was the
> UVC_CTRL_STREAMING_TIMEOUT.

Thanks. I applied the patch. I'll now look into the timeout issue.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Sep 22 00:29:15 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 22 Sep 2007 00:29:15 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
In-Reply-To: <20070921201909.GA5543@pinux.info>
References: <20070921201909.GA5543@pinux.info>
Message-ID: <200709220029.15705.laurent.pinchart@skynet.be>

Hi Carles,

On Friday 21 September 2007, Carles Pina i Estany wrote:
> Hello!
>
> I have a Logitech Quickcam Pro for Notebooks, that seems that is well
> supported.
>
> But is not working. I'm using a Kernel 2.6.22, compiled myself, with
> Video4Linux enabled. In dmesg I can see:
>
> ------------------
> Linux video capture interface: v2.00
> uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c3)
> uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -110 (exp. 26).
> uvcvideo: Failed to query (129) UVC control 1 (unit 0) : -110 (exp. 26).
> uvcvideo: Failed to initialize the device (-5).
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (v0.1.0)
> ----------------
> /dev/video0 is not created
>
> What can I do? I've read something about firmware bug, etc. but last
> year this camera worked :-) just I have not used and now... not working.
>
> Some problem in some kernel option? where I can look? I have been
> browsing without any success.

Kernel 2.6.22 includes bug fixes in the usbaudio driver that can trigger 
another firmware bug in the webcam. Fortunately this one seems to have a 
workaround, although not a pretty one.

The webcam audio interface must be initialised before the video interface. 
Linux will by default initialise the video interface first, so you need to 
remove the uvcvideo.ko module from the /lib/modules subdirectory where it 
gets loaded automatically, and load it manually after plugging the webcam.

This is not a pretty workaround as it requires manual operations every time 
you plug the camera, but it should work.

Best regards,

Laurent Pinchart


From juan.baptiste at gmail.com  Sun Sep 23 00:54:28 2007
From: juan.baptiste at gmail.com (Juan Luis Baptiste)
Date: Sat, 22 Sep 2007 17:54:28 -0500
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <200709202152.02961.laurent.pinchart@skynet.be>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
	<200709202152.02961.laurent.pinchart@skynet.be>
Message-ID: <200709221754.28768.juan.baptiste@gmail.com>

On Thursday 20 September 2007 14:52:02 Laurent Pinchart wrote:
> Sonix webcams work, as do the latest Logitech ones (Quickcam Pro 9000 and
> Quickcam Pro for Notebook 2007 (PID 0990 and 0991).
>

Include Quickcam fusion to the list !!


Cheers,
-- 
Juan Luis Baptiste


From laurent.pinchart at skynet.be  Sun Sep 23 11:35:40 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 23 Sep 2007 11:35:40 +0200
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <200709221754.28768.juan.baptiste@gmail.com>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
	<200709202152.02961.laurent.pinchart@skynet.be>
	<200709221754.28768.juan.baptiste@gmail.com>
Message-ID: <200709231135.40559.laurent.pinchart@skynet.be>

On Sunday 23 September 2007, Juan Luis Baptiste wrote:
> On Thursday 20 September 2007 14:52:02 Laurent Pinchart wrote:
> > Sonix webcams work, as do the latest Logitech ones (Quickcam Pro 9000 and
> > Quickcam Pro for Notebook 2007 (PID 0990 and 0991).
>
> Include Quickcam fusion to the list !!

No, that one has the hardware bug.

Best regards,

Laurent Pinchart


From ernih at gmx.de  Sun Sep 23 19:02:49 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Sun, 23 Sep 2007 19:02:49 +0200
Subject: [Linux-uvc-devel] Fwd: Re:  latest UVC driver and now?
Message-ID: <200709231902.49352.ernih@gmx.de>

hi,

i have installed autoconf, but i get the same error report.
what can do?


2007/9/21, Christopher HORLER <chris.horler at clara.co.uk>:
>
> On Thursday 20 September 2007 23:03, ernih at gmx.de wrote:
> > i have done some stept. when i type
> >
> > make -f Makefile.cvs
> >
> > i get an error report:
> >
> > This Makefile is only for the CVS repository
> > This will be deleted before making the distribution
> >
> > ./admin/cvs.sh: 651: --version: not found
> > *** AUTOCONF NOT FOUND!.
> > *** KDE requires autoconf 2.53 or newer
> > make[1]: *** [cvs] Fehler 1
> > make: *** [all] Fehler 2
> > salsero at salsero:~/kdenetwork$
> >
> > what is wrong? thanks
> read the error message
> - it informs you that autoconf was not found.
>
> install autoconf
> or
> set you environment so your autoconf installation is found.
>
> you'll probably need the other auto tools as well (pre-empting the next
> mail)
>
> Regards,
> Chris
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>

hi 

i wanted or have to do this:

http://kopete.kde.org/svnaccess.php

can someone help me with my autoconf problem?

thx


From mildred593 at online.fr  Sat Sep 22 21:45:51 2007
From: mildred593 at online.fr (Mildred)
Date: Sat, 22 Sep 2007 21:45:51 +0200
Subject: [Linux-uvc-devel] iSight problem: driver file: No such file or
	directory
Message-ID: <20070922214551.0b0c3dc2@kylae>

Hi,

I have a built-in iSight camera and I succeed to make it work with the
kernel 2.6.20 and the experimental iSight driver that were there at
this time.

But now it is with uvc, i can't make it work again. The problem I have
is that there is no device like /dev/video0.

So here is my dmesg when I load the uvc driver:

---
Linux video capture interface: v2.00
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)
---

This is some part of my modprobe.conf:

---
install uvcvideo /opt/macbook/uvc/extract /opt/macbook/iSight.firmware && /sbin/modprobe --ignore-install uvcvideo $CMDLINE_OPTS
---

And this is the output when I modprobe uvcvideo:

---
Apple iSight with firmware already loaded found
Apple iSight with firmware already loaded found
---

Currently I'm using the kernel 2.6.22 packaged by ArchLinux and
uvcvideo svn revision 126.

Could you help me to see what's going wrong ?

Many thanks

Mildred

-- 
Mildred Ki'lya
Site:	<http://mildred632.free.fr/>
XMPP:	<mildred at jabber.fr> (GoogleTalk, Jabber)

GPG:	197C A7E6 645B 4299 6D37 684B 6F9D A8D6 [9A7D 2E2B]



From felix at derklecks.de  Sun Sep 23 22:59:28 2007
From: felix at derklecks.de (=?ISO-8859-1?Q?Felix_M=F6ller?=)
Date: Sun, 23 Sep 2007 22:59:28 +0200
Subject: [Linux-uvc-devel] iSight problem: driver file: No such file or
 directory
In-Reply-To: <20070922214551.0b0c3dc2@kylae>
References: <20070922214551.0b0c3dc2@kylae>
Message-ID: <46F6D3B0.7000301@derklecks.de>

Hi,

> I have a built-in iSight camera and I succeed to make it work with
> the kernel 2.6.20 and the experimental iSight driver that were there
> at this time.
> 
> But now it is with uvc, i can't make it work again. The problem I
> have is that there is no device like /dev/video0.
> 
> So here is my dmesg when I load the uvc driver:
> 
> --- Linux video capture interface: v2.00 usbcore: registered new
> interface driver uvcvideo USB Video Class driver (v0.1.0) ---
> 
> This is some part of my modprobe.conf:
> 
> --- install uvcvideo /opt/macbook/uvc/extract
> /opt/macbook/iSight.firmware && /sbin/modprobe --ignore-install
> uvcvideo $CMDLINE_OPTS ---
> 
> And this is the output when I modprobe uvcvideo:
> 
> --- Apple iSight with firmware already loaded found Apple iSight with
> firmware already loaded found ---
> 
> Currently I'm using the kernel 2.6.22 packaged by ArchLinux and 
> uvcvideo svn revision 126.
I do not really know what is wrong with your setup, but I attached the
patch that makes rev 126 work with my 2.6.22 kernel on openSUSE.

This patch is from Ivan. N. Zlatev
http://i-nz.net/projects/linux-kernel/. This great patch includes kernel
firmware loading therefore you do not have to load the firmware by hand.
I extracted it from the openSUSE uvcvideo.src.rpm and applied it to
current SVN.

The camera works for me now with mplayer
(mplayer tv:// -tv driver=v4l2:device=/dev/video0 -fps 30)
and kopete and ekiga.

HTH
Felix M?ller
-------------- next part --------------
A non-text attachment was scrubbed...
Name: isight-against-uvcvideo-r126.diff
Type: text/x-patch
Size: 6565 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070923/3028cc4c/attachment.bin>

From chris.horler at clara.co.uk  Sun Sep 23 23:34:54 2007
From: chris.horler at clara.co.uk (Christopher HORLER)
Date: Sun, 23 Sep 2007 22:34:54 +0100
Subject: [Linux-uvc-devel] (OT) Kopete compilation was Fwd: Re: latest
	UVC driver and now?
In-Reply-To: <200709231902.49352.ernih@gmx.de>
References: <200709231902.49352.ernih@gmx.de>
Message-ID: <200709232234.54833.chris.horler@clara.co.uk>

See below

On Sunday 23 September 2007 18:02, ernih at gmx.de wrote:
> hi,
>
> i have installed autoconf, but i get the same error report.
> what can do?
>
> > > make -f Makefile.cvs
> > >
> > > ./admin/cvs.sh: 651: --version: not found
> > > *** AUTOCONF NOT FOUND!.
> > > *** KDE requires autoconf 2.53 or newer
> > > make[1]: *** [cvs] Fehler 1
> > > make: *** [all] Fehler 2
> > > salsero at salsero:~/kdenetwork$

I had a quick look at the version of kde-common/admin that I have on my 
machine (it's a bit old).  The script evals a perl script that sets AUTOCONF.

If AUTOCONF wasn't set it would explain the type of error above.  If it 
expands to nothing, the script would try to run --version (as above) rather 
than autoconf --version.  

First confirm autoconf is in your path, then recheck the error message above 
is correct.

Chris


From ernih at gmx.de  Mon Sep 24 00:41:28 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Mon, 24 Sep 2007 00:41:28 +0200
Subject: [Linux-uvc-devel] Fwd: Re: (OT) Kopete compilation was Fwd: Re:
	latest UVC driver and now?
Message-ID: <200709240041.28235.ernih@gmx.de>

where have to be autoconf?


----------  Forwarded Message  ----------

Subject: Re: [Linux-uvc-devel] (OT) Kopete compilation was Fwd: Re: latest UVC 
driver and now?
Date: Sonntag 23 September 2007
From: Christopher HORLER <chris.horler at clara.co.uk>
To: linux-uvc-devel at lists.berlios.de

See below

On Sunday 23 September 2007 18:02, ernih at gmx.de wrote:
> hi,
>
> i have installed autoconf, but i get the same error report.
> what can do?
>
> > > make -f Makefile.cvs
> > >
> > > ./admin/cvs.sh: 651: --version: not found
> > > *** AUTOCONF NOT FOUND!.
> > > *** KDE requires autoconf 2.53 or newer
> > > make[1]: *** [cvs] Fehler 1
> > > make: *** [all] Fehler 2
> > > salsero at salsero:~/kdenetwork$

I had a quick look at the version of kde-common/admin that I have on my 
machine (it's a bit old).  The script evals a perl script that sets AUTOCONF.

If AUTOCONF wasn't set it would explain the type of error above.  If it 
expands to nothing, the script would try to run --version (as above) rather 
than autoconf --version.  

First confirm autoconf is in your path, then recheck the error message above 
is correct.

Chris
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel

-------------------------------------------------------


From juan.baptiste at gmail.com  Mon Sep 24 08:40:02 2007
From: juan.baptiste at gmail.com (Juan Luis Baptiste)
Date: Mon, 24 Sep 2007 01:40:02 -0500
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <200709231135.40559.laurent.pinchart@skynet.be>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
	<200709221754.28768.juan.baptiste@gmail.com>
	<200709231135.40559.laurent.pinchart@skynet.be>
Message-ID: <200709240140.02629.juan.baptiste@gmail.com>

On Sunday 23 September 2007 04:35:40 Laurent Pinchart wrote:
> > Include Quickcam fusion to the list !!
>
> No, that one has the hardware bug.
>

Well, I have been using it for a couple of weeks without a hitch.

Cheers,
-- 
Juan Luis Baptiste


From t.st1 at gmx.net  Mon Sep 24 09:02:58 2007
From: t.st1 at gmx.net (Tom St)
Date: Mon, 24 Sep 2007 09:02:58 +0200
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <200709240140.02629.juan.baptiste@gmail.com>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>	<200709221754.28768.juan.baptiste@gmail.com>	<200709231135.40559.laurent.pinchart@skynet.be>
	<200709240140.02629.juan.baptiste@gmail.com>
Message-ID: <46F76122.5040008@gmx.net>

Hello Listmembers, Hello Laurent,
What about the idea to add another column to the list of supported
devices, which shows some kind of ranking like:

    * works for most users (++),
    * some issues (+),
    * no issues reported (+++)?

Would also be an idea to have such a list in the wiki and include hints
for workarounds like "initialize audio modules first, then load video
modules" for certain webcams.

What do you  think?

Kind regards,
Tom


From laurent.pinchart at skynet.be  Mon Sep 24 19:53:54 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 24 Sep 2007 19:53:54 +0200
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <200709240140.02629.juan.baptiste@gmail.com>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
	<200709231135.40559.laurent.pinchart@skynet.be>
	<200709240140.02629.juan.baptiste@gmail.com>
Message-ID: <200709241953.55071.laurent.pinchart@skynet.be>

On Monday 24 September 2007, Juan Luis Baptiste wrote:
> On Sunday 23 September 2007 04:35:40 Laurent Pinchart wrote:
> > > Include Quickcam fusion to the list !!
> >
> > No, that one has the hardware bug.
>
> Well, I have been using it for a couple of weeks without a hitch.

You're one of the lucky users. I haven't had any issue with my Quickcam Fusion 
either, but I can tell you for sure that it has a hardware/firmware bug.

Cheers,

Laurent Pinchart


From chris.horler at clara.co.uk  Mon Sep 24 20:48:53 2007
From: chris.horler at clara.co.uk (Christopher HORLER)
Date: Mon, 24 Sep 2007 19:48:53 +0100
Subject: [Linux-uvc-devel] Fwd: Re: (OT) Kopete compilation
In-Reply-To: <200709240041.28235.ernih@gmx.de>
References: <200709240041.28235.ernih@gmx.de>
Message-ID: <200709241948.53545.chris.horler@clara.co.uk>

On Sunday 23 September 2007 23:41, ernih at gmx.de wrote:
> where have to be autoconf?

> First confirm autoconf is in your path, then recheck the error message
> above is correct.

in your path
e.g. on my machine
$ which autoconf
/usr/bin/autoconf
$ autoconf --version
autoconf (GNU Autoconf) 2.60
...

Regards,
Chris


From laurent.pinchart at skynet.be  Mon Sep 24 22:26:28 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 24 Sep 2007 22:26:28 +0200
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <46F76122.5040008@gmx.net>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
	<200709240140.02629.juan.baptiste@gmail.com>
	<46F76122.5040008@gmx.net>
Message-ID: <200709242226.29077.laurent.pinchart@skynet.be>

Hi Tom,

On Monday 24 September 2007, Tom St wrote:
> Hello Listmembers, Hello Laurent,
> What about the idea to add another column to the list of supported
> devices, which shows some kind of ranking like:
>
>     * works for most users (++),
>     * some issues (+),
>     * no issues reported (+++)?
>
> Would also be an idea to have such a list in the wiki and include hints
> for workarounds like "initialize audio modules first, then load video
> modules" for certain webcams.
>
> What do you  think?

The boundary between "works for most users" and "some issues" is difficult to 
define. I added a "Status" column to the supported devices list. The device 
is either supported (green check mark) or supported with some issues the user 
should be aware of (warning sign with footnote links).

Please let me know what you think of this new supported devices list.

Best regards,

Laurent Pinchart


From ernih at gmx.de  Mon Sep 24 22:25:59 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Mon, 24 Sep 2007 22:25:59 +0200
Subject: [Linux-uvc-devel] Fwd: Re:  Fwd: Re: (OT) Kopete compilation
Message-ID: <200709242225.59481.ernih@gmx.de>

i get this message:

sudo autoconf --version
Password:
autoconf (GNU Autoconf) 2.61
Copyright (C) 2006 Free Software Foundation, Inc.
This is free software.  You may redistribute copies of it under the terms of
the GNU General Public License <http://www.gnu.org/licenses/gpl.html>.
There is NO WARRANTY, to the extent permitted by law.

Written by David J. MacKenzie and Akim Demaille.

what is the next step?


----------  Forwarded Message  ----------

Subject: Re: [Linux-uvc-devel] Fwd: Re: (OT) Kopete compilation
Date: Montag 24 September 2007
From: Christopher HORLER <chris.horler at clara.co.uk>
To: linux-uvc-devel at lists.berlios.de

On Sunday 23 September 2007 23:41, ernih at gmx.de wrote:
> where have to be autoconf?

> First confirm autoconf is in your path, then recheck the error message
> above is correct.

in your path
e.g. on my machine
$ which autoconf
/usr/bin/autoconf
$ autoconf --version
autoconf (GNU Autoconf) 2.60
...

Regards,
Chris
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel

-------------------------------------------------------


From lars.taeuber at gmx.net  Tue Sep 25 01:26:55 2007
From: lars.taeuber at gmx.net (Lars =?ISO-8859-15?Q?T=E4uber?=)
Date: Mon, 24 Sep 2007 23:26:55 +0000
Subject: [Linux-uvc-devel] uvcvideo: Found UVC 1.00 device SANYO Digital
	Camera (0474:0238)
Message-ID: <20070924232655.9f0182fb.lars.taeuber@gmx.net>

Hi there,

I've managed to get the Sanyo Xaxti HD1 working as webcam with your driver (revision 127).
uvcvideo: Found UVC 1.00 device SANYO Digital Camera (0474:0238)

With luvcview it is possible to watch the pictures, but only for the first time called.
If you want to start luvcview or any v4l2 application a second time you have to unplug the cam and plug in once more.
Or you get this error:

dmesg:
uvcvideo: Failed to query (1) UVC control 1 (unit 0) : -110 (exp. 26).

$ luvcview
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 5.
 Init v4L2 failed !! exit fatal

I hope this could be helpfull for other users as well.

Thanks for this driver developement!

Lars
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: sanyo.diff
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070924/f45b7ac9/attachment.ksh>

From hirofumi at momose.com  Tue Sep 25 11:41:48 2007
From: hirofumi at momose.com (Hirofumi Momose)
Date: Tue, 25 Sep 2007 18:41:48 +0900
Subject: [Linux-uvc-devel] Didn't work with webcam(=livecam program of
	xawtv3.95)
Message-ID: <20070925181704.50CB.HIROFUMI@momose.com>

Hello, 
I am totally newbie to this ML.

Now I am trying to build livecam on ARM platform.
xawtv works well with camera (0c45:62c0=Sonix USB 2.0 Camera) but,
webcam(this is livecam program in xawtv. not camera device. pretty
confusing..) did not work.

Precisely, webcam could capture first image (very noisy), but
failed in the second capture. It failed at ioctl(VIDIOC_REQBUFS).

UVC driver stack is

uvc_free_buffers()
 queue->buffer[i].vma_use_count = 1 (shoud be 0)
uvc_alloc_buffers()
uvc_v4l2_do_ioctl()

I have no idea abount this issue.
Does anyone have solutions ?

Regards.

-- 
Hirofumi Momose <hirofumi at momose.com>



From contact at alexandredenis.net  Tue Sep 25 14:31:26 2007
From: contact at alexandredenis.net (Alexandre DENIS)
Date: Tue, 25 Sep 2007 14:31:26 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
In-Reply-To: <200709220029.15705.laurent.pinchart@skynet.be>
References: <20070921201909.GA5543@pinux.info>
	<200709220029.15705.laurent.pinchart@skynet.be>
Message-ID: <200709251431.26811.contact@alexandredenis.net>

On Saturday 22 September 2007, Laurent Pinchart wrote:

> Kernel 2.6.22 includes bug fixes in the usbaudio driver that can
> trigger another firmware bug in the webcam. Fortunately this one
> seems to have a workaround, although not a pretty one.
>
> The webcam audio interface must be initialised before the video
> interface. Linux will by default initialise the video interface
> first, so you need to remove the uvcvideo.ko module from the
> /lib/modules subdirectory where it gets loaded automatically, and
> load it manually after plugging the webcam.
>
> This is not a pretty workaround as it requires manual operations
> every time you plug the camera, but it should work.

A cleaner solution is to add the following line in 
your /etc/modprobe.conf:

install uvcvideo /sbin/modprobe 
usbaudio; /sbin/modprobe --ignore-install uvcvideo


From funtasyspace at yahoo.com  Tue Sep 25 17:45:26 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Tue, 25 Sep 2007 08:45:26 -0700 (PDT)
Subject: [Linux-uvc-devel] QuickCam Communicate STX (046d:08d7)
Message-ID: <324286.13145.qm@web50010.mail.re2.yahoo.com>

Hi all,

I got a Logitech QuickCam Communicate STX today (Device ID: 046d:08d7).
I tried to use it on openSUSE 10.3 (Kernel 2.6.22.5) but it seems like no /dev/video device is setup when I plug the cam in.
'dmesg' gives me the following:

usb 2-1: USB disconnect, address 7
usb 2-1: new full speed USB device using uhci_hcd and address 8
usb 2-1: new device found, idVendor=046d, idProduct=08d7
usb 2-1: new device strings: Mfr=0, Product=0, SerialNumber=0
usb 2-1: configuration #1 chosen from 1 choice

(I also attached the output of 'lsusb -vvv -d 046d:08d7' as a file to this email)

Did
anybody get this model working? Any ideas why no /dev/video device is
setup by the driver for this model? (I also have a QuickCam Sphere MP
which works fine on the same machine, so it must have something to do
with this specific model). I can still return this cam and get my money
back, so I would like to know if this model is supported or will be
supported by the uvcvideo module or if I should better return it and
get another model?

Regards,

J?rg



       __________________________________ 
Yahoo! Clever - Der einfachste Weg, Fragen zu stellen und Wissenswertes mit Anderen zu teilen. www.yahoo.de/clever
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb.out
Type: application/octet-stream
Size: 15617 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070925/73aa01a0/attachment.obj>

From funtasyspace at yahoo.com  Tue Sep 25 17:45:26 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Tue, 25 Sep 2007 08:45:26 -0700 (PDT)
Subject: [Linux-uvc-devel] QuickCam Communicate STX (046d:08d7)
Message-ID: <324286.13145.qm@web50010.mail.re2.yahoo.com>

Hi all,

I got a Logitech QuickCam Communicate STX today (Device ID: 046d:08d7).
I tried to use it on openSUSE 10.3 (Kernel 2.6.22.5) but it seems like no /dev/video device is setup when I plug the cam in.
'dmesg' gives me the following:

usb 2-1: USB disconnect, address 7
usb 2-1: new full speed USB device using uhci_hcd and address 8
usb 2-1: new device found, idVendor=046d, idProduct=08d7
usb 2-1: new device strings: Mfr=0, Product=0, SerialNumber=0
usb 2-1: configuration #1 chosen from 1 choice

(I also attached the output of 'lsusb -vvv -d 046d:08d7' as a file to this email)

Did
anybody get this model working? Any ideas why no /dev/video device is
setup by the driver for this model? (I also have a QuickCam Sphere MP
which works fine on the same machine, so it must have something to do
with this specific model). I can still return this cam and get my money
back, so I would like to know if this model is supported or will be
supported by the uvcvideo module or if I should better return it and
get another model?

Regards,

J?rg



       __________________________________ 
Yahoo! Clever - Der einfachste Weg, Fragen zu stellen und Wissenswertes mit Anderen zu teilen. www.yahoo.de/clever
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb.out
Type: application/octet-stream
Size: 15617 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070925/73aa01a0/attachment-0001.obj>

From laurent.pinchart at skynet.be  Tue Sep 25 21:29:44 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 25 Sep 2007 21:29:44 +0200
Subject: [Linux-uvc-devel] QuickCam Communicate STX (046d:08d7)
In-Reply-To: <324286.13145.qm@web50010.mail.re2.yahoo.com>
References: <324286.13145.qm@web50010.mail.re2.yahoo.com>
Message-ID: <200709252129.45048.laurent.pinchart@skynet.be>

Hi J?rg,

On Tuesday 25 September 2007, J?rg Hermsdorf wrote:
> Hi all,
>
> I got a Logitech QuickCam Communicate STX today (Device ID: 046d:08d7).
> I tried to use it on openSUSE 10.3 (Kernel 2.6.22.5) but it seems like no
> /dev/video device is setup when I plug the cam in. 'dmesg' gives me the
> following:
>
> usb 2-1: USB disconnect, address 7
> usb 2-1: new full speed USB device using uhci_hcd and address 8
> usb 2-1: new device found, idVendor=046d, idProduct=08d7
> usb 2-1: new device strings: Mfr=0, Product=0, SerialNumber=0
> usb 2-1: configuration #1 chosen from 1 choice
>
> (I also attached the output of 'lsusb -vvv -d 046d:08d7' as a file to this
> email)
>
> Did anybody get this model working? Any ideas why no /dev/video device is
> setup by the driver for this model? (I also have a QuickCam Sphere MP
> which works fine on the same machine, so it must have something to do
> with this specific model). I can still return this cam and get my money
> back, so I would like to know if this model is supported or will be
> supported by the uvcvideo module or if I should better return it and
> get another model?

Your webcam doesn't follow the UVC standard, so it isn't (and won't be) 
supported by the Linux UVC driver.

Have a look at the SPCA5xx driver. Looking at 
http://mxhaard.free.fr/spca5xx.html it should support your webcam.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Sep 25 21:34:52 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 25 Sep 2007 21:34:52 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
In-Reply-To: <200709251431.26811.contact@alexandredenis.net>
References: <20070921201909.GA5543@pinux.info>
	<200709220029.15705.laurent.pinchart@skynet.be>
	<200709251431.26811.contact@alexandredenis.net>
Message-ID: <200709252134.52775.laurent.pinchart@skynet.be>

Hi Alexandre,

On Tuesday 25 September 2007, Alexandre DENIS wrote:
> On Saturday 22 September 2007, Laurent Pinchart wrote:
> > Kernel 2.6.22 includes bug fixes in the usbaudio driver that can
> > trigger another firmware bug in the webcam. Fortunately this one
> > seems to have a workaround, although not a pretty one.
> >
> > The webcam audio interface must be initialised before the video
> > interface. Linux will by default initialise the video interface
> > first, so you need to remove the uvcvideo.ko module from the
> > /lib/modules subdirectory where it gets loaded automatically, and
> > load it manually after plugging the webcam.
> >
> > This is not a pretty workaround as it requires manual operations
> > every time you plug the camera, but it should work.
>
> A cleaner solution is to add the following line in
> your /etc/modprobe.conf:
>
> install uvcvideo /sbin/modprobe
> usbaudio; /sbin/modprobe --ignore-install uvcvideo

Thanks for the tip. Could you update the Wiki at 
http://openfacts.berlios.de/index-en.phtml?title=Linux%20UVC (section Known 
Problems) ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Sep 25 21:36:54 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 25 Sep 2007 21:36:54 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
In-Reply-To: <200709251431.26811.contact@alexandredenis.net>
References: <20070921201909.GA5543@pinux.info>
	<200709220029.15705.laurent.pinchart@skynet.be>
	<200709251431.26811.contact@alexandredenis.net>
Message-ID: <200709252136.54344.laurent.pinchart@skynet.be>

On Tuesday 25 September 2007, Alexandre DENIS wrote:
> On Saturday 22 September 2007, Laurent Pinchart wrote:
> > Kernel 2.6.22 includes bug fixes in the usbaudio driver that can
> > trigger another firmware bug in the webcam. Fortunately this one
> > seems to have a workaround, although not a pretty one.
> >
> > The webcam audio interface must be initialised before the video
> > interface. Linux will by default initialise the video interface
> > first, so you need to remove the uvcvideo.ko module from the
> > /lib/modules subdirectory where it gets loaded automatically, and
> > load it manually after plugging the webcam.
> >
> > This is not a pretty workaround as it requires manual operations
> > every time you plug the camera, but it should work.
>
> A cleaner solution is to add the following line in
> your /etc/modprobe.conf:
>
> install uvcvideo /sbin/modprobe
> usbaudio; /sbin/modprobe --ignore-install uvcvideo

It should also be noted that this will only work when plugging the webcam for 
the first time.

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Sep 25 21:41:40 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 25 Sep 2007 21:41:40 +0200
Subject: [Linux-uvc-devel] uvcvideo: Found UVC 1.00 device SANYO Digital
	Camera (0474:0238)
In-Reply-To: <20070924232655.9f0182fb.lars.taeuber@gmx.net>
References: <20070924232655.9f0182fb.lars.taeuber@gmx.net>
Message-ID: <200709252141.40844.laurent.pinchart@skynet.be>

Hi Lars,

On Tuesday 25 September 2007, Lars T?uber wrote:
> Hi there,
>
> I've managed to get the Sanyo Xaxti HD1 working as webcam with your driver
> (revision 127). uvcvideo: Found UVC 1.00 device SANYO Digital Camera
> (0474:0238)

Thanks for the patch.

> With luvcview it is possible to watch the pictures, but only for the first
> time called. If you want to start luvcview or any v4l2 application a second
> time you have to unplug the cam and plug in once more. Or you get this
> error:
>
> dmesg:
> uvcvideo: Failed to query (1) UVC control 1 (unit 0) : -110 (exp. 26).

:-(

> $ luvcview
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 5.
>  Init v4L2 failed !! exit fatal
>
> I hope this could be helpfull for other users as well.

Could you please post the output of

lsusb -v -d 0474:0238

using usbutils 0.72 or newer ? I'll then see if there's anything I can do.

> Thanks for this driver developement!

You're welcome.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Sep 25 22:02:28 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 25 Sep 2007 22:02:28 +0200
Subject: [Linux-uvc-devel] Didn't work with webcam(=livecam program of
	xawtv3.95)
In-Reply-To: <20070925181704.50CB.HIROFUMI@momose.com>
References: <20070925181704.50CB.HIROFUMI@momose.com>
Message-ID: <200709252202.28867.laurent.pinchart@skynet.be>

Hi Hirofumi,

On Tuesday 25 September 2007, Hirofumi Momose wrote:
> Hello,
> I am totally newbie to this ML.
>
> Now I am trying to build livecam on ARM platform.
> xawtv works well with camera (0c45:62c0=Sonix USB 2.0 Camera) but,
> webcam(this is livecam program in xawtv. not camera device. pretty
> confusing..) did not work.
>
> Precisely, webcam could capture first image (very noisy), but
> failed in the second capture. It failed at ioctl(VIDIOC_REQBUFS).
>
> UVC driver stack is
>
> uvc_free_buffers()
>  queue->buffer[i].vma_use_count = 1 (shoud be 0)
> uvc_alloc_buffers()
> uvc_v4l2_do_ioctl()
>
> I have no idea abount this issue.
> Does anyone have solutions ?

vma_use_count != 0 means the buffers are still mapped.

Your report is a bit unclear. What do you mean by second capture ? Did you 
restart the application, or does it have a capture loop inside ?

If the application doesn't exit between captures, make sure it properly unmaps 
the buffers with munmap() before you call VIDIOC_REQBUFS.

If the application exits between captures, make it has really finished before 
you try to restart it.

Best regards,

Laurent Pinchart


From funtasyspace at yahoo.com  Tue Sep 25 22:00:50 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Tue, 25 Sep 2007 13:00:50 -0700 (PDT)
Subject: [Linux-uvc-devel] QuickCam Communicate STX (046d:08d7)
Message-ID: <693423.11229.qm@web50011.mail.re2.yahoo.com>

Thanks for the info. In the meantime I tested the cam with Windows XP and I'm really disappointed with the framerate and image quality, so I'll return the cam and keep the QuickCam Sphere MP.

Regards,
J?rg


Hi J?rg,

On Tuesday 25 September 2007, J?rg Hermsdorf wrote:
> Hi all,
>
> I got a Logitech QuickCam Communicate STX today (Device ID: 046d:08d7).
> I tried to use it on openSUSE 10.3 (Kernel 2.6.22.5) but it seems like no
> /dev/video device is setup when I plug the cam in. 'dmesg' gives me the
> following:
>
> usb 2-1: USB disconnect, address 7
> usb 2-1: new full speed USB device using uhci_hcd and address 8
> usb 2-1: new device found, idVendor=046d, idProduct=08d7
> usb 2-1: new device strings: Mfr=0, Product=0, SerialNumber=0
> usb 2-1: configuration #1 chosen from 1 choice
>
> (I also attached the output of 'lsusb -vvv -d 046d:08d7' as a file to this
> email)
>
> Did anybody get this model working? Any ideas why no /dev/video device is
> setup by the driver for this model? (I also have a QuickCam Sphere MP
> which works fine on the same machine, so it must have something to do
> with this specific model). I can still return this cam and get my money
> back, so I would like to know if this model is supported or will be
> supported by the uvcvideo module or if I should better return it and
> get another model?

Your webcam doesn't follow the UVC standard, so it isn't (and won't be) 
supported by the Linux UVC driver.

Have a look at the SPCA5xx driver. Looking at 
http://mxhaard.free.fr/spca5xx.html it should support your webcam.

Best regards,

Laurent Pinchart





      Jetzt Mails schnell in einem Vorschaufenster ?berfliegen. Dies und viel mehr bietet das neue Yahoo! Mail - www.yahoo.de/mail


From funtasyspace at yahoo.com  Tue Sep 25 22:08:26 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Tue, 25 Sep 2007 13:08:26 -0700 (PDT)
Subject: [Linux-uvc-devel] Control the status LED?
Message-ID: <105228.96919.qm@web50008.mail.re2.yahoo.com>

Hi all,

does the uvcvideo module export some controls that can be set via the sysfs filesystem? I'm looking for a way to toggle the status LED on and off. Or is this directly controlled my the hardware?

My cam is the Logitech QuickCam Sphere MP.


Regards,
J?rg





      Heute schon einen Blick in die Zukunft von E-Mails wagen? www.yahoo.de/mail


From carles at pina.cat  Tue Sep 25 23:48:50 2007
From: carles at pina.cat (Carles Pina i Estany)
Date: Tue, 25 Sep 2007 23:48:50 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
In-Reply-To: <200709220029.15705.laurent.pinchart@skynet.be>
References: <20070921201909.GA5543@pinux.info>
	<200709220029.15705.laurent.pinchart@skynet.be>
Message-ID: <20070925214850.GI10441@pinux.info>


Hi Laurent,

On Sep/22/2007, Laurent Pinchart wrote:

sorry to take some days to answer, I have been out of usual computing
for some days :-)

> On Friday 21 September 2007, Carles Pina i Estany wrote:
> > Hello!
> >
> > I have a Logitech Quickcam Pro for Notebooks, that seems that is well
> > supported.
> >
> > But is not working. I'm using a Kernel 2.6.22, compiled myself, with
> > Video4Linux enabled. In dmesg I can see:
> >
> > ------------------
> > Linux video capture interface: v2.00
> > uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c3)
> > uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -110 (exp. 26).
> > uvcvideo: Failed to query (129) UVC control 1 (unit 0) : -110 (exp. 26).
> > uvcvideo: Failed to initialize the device (-5).
> > usbcore: registered new interface driver uvcvideo
> > USB Video Class driver (v0.1.0)
> > ----------------
> > /dev/video0 is not created
> >
> > What can I do? I've read something about firmware bug, etc. but last
> > year this camera worked :-) just I have not used and now... not working.
> >
> > Some problem in some kernel option? where I can look? I have been
> > browsing without any success.
> 
> Kernel 2.6.22 includes bug fixes in the usbaudio driver that can trigger 
> another firmware bug in the webcam. Fortunately this one seems to have a 
> workaround, although not a pretty one.

Wow good!

> The webcam audio interface must be initialised before the video
> interface.  Linux will by default initialise the video interface
> first, so you need to remove the uvcvideo.ko module from the
> /lib/modules subdirectory where it gets loaded automatically, and load
> it manually after plugging the webcam.

I have done, without results...

> This is not a pretty workaround as it requires manual operations every time 
> you plug the camera, but it should work.

doing an insmod of uvcvideo.ko, tells me:
insmod: error inserting './uvcvideo.ko': -1 Unknown symbol in module

If I load in usual way (modprobe, etc.) I guess that loads some other
modules and I don't have the "Unkown symbol" error. If I unload and then
I load again, I get the same error in dmesg (Failed to query (135) UVC
control)

Laurent: what options are related to uvcvideo? and specially, with
uvcvideo and video. Maybe I have some of them inside Kernel and should
be in module way?  should I use v4l2_common, no?

Now I have:
carles at pinux:~$ lsmod|grep -i video
uvcvideo               44804  0 
compat_ioctl32          1408  1 uvcvideo
videodev               26112  1 uvcvideo
v4l2_common            14464  2 uvcvideo,videodev
usbcore               117896  5 uvcvideo,usb_storage,usbhid,uhci_hcd
carles at pinux:~$ 

Thank you very much Laurent for your fast support!

-- 
Carles Pina i Estany		GPG id: 0x8CBDAE64
	http://pinux.info	Manresa - Barcelona


From funtasyspace at yahoo.com  Wed Sep 26 02:08:25 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Tue, 25 Sep 2007 17:08:25 -0700 (PDT)
Subject: [Linux-uvc-devel] MPEG4 live stream howto?
Message-ID: <457030.24782.qm@web50011.mail.re2.yahoo.com>

Hi all,

well seems like streaming from uvcvideo/v4l2 is harder than I first imagined. With my old 4vl webcam I just needed vlc to live stream my webcam mpeg4 encoded. So far I found no application that I can use to live stream with my new Logitech QuickCam Sphere MP. uvc_streamer works, but the MJPEG bitrate is not suitable for the limited upstream bandwith of my ADSL connection. 

a) VLC seems not to be able to access v4l2 devices, although I found this link http://wiki.videolan.org/V4l which suggests that v4l2 is supported.

b) I tried MPEG4IP (mp4live), but the settings this program uses to capture the cam, result in a very bad image quality and strange colors. There's no way to change that.

c) Now, my latest idea is to use transcode (which is supposed to handle v4l2 devices) and pipe it's output to VLC and stream it as usual (http://wiki.videolan.org/index.php/Uncommon_uses). But if I try to access the cam with transcode, I get the following error:

# transcode -x v4l2,v4l2 -g 640x480 -i /dev/video -p /dev/dsp2 -e 32000,16,2 -w 4000 -y ffmpeg -F mjpeg -o test.avi

transcode v1.0.4 (C) 2001-2003 Thomas Oestreich, 2003-2004 T. Bitterberg, 2004-2007 Transcode Team
[transcode] auto-probing source /dev/video (failed)
[transcode] V: import format    | unknown  (V=v4l2|A=v4l2)
[transcode] V: import frame     | 640x480  1.33:1
[transcode] V: bits/pixel       | 0.521
[transcode] V: decoding fps,frc | 25.000,0
[transcode] V: Y'CbCr           | YV12/I420
[transcode] A: import format    | 0x2001  AC3/A52      [32000,16,2]
[transcode] A: export format    | 0x55    MPEG layer-3 [32000,16,2]  128 kbps
[transcode] V: encoding fps,frc | 25.000,3
[transcode] A: bytes per frame  | 5120 (5120.000000)
[transcode] A: adjustment       | 0 at 1000
[transcode] V: IA32/AMD64 accel | sse2 (sse2 sse 3dnowext 3dnow mmxext mmx asm C)
tc_memcpy: using amd64 for memcpy
[transcode] V: video buffer     | 10 @ 640x480
[import_v4l2.so] v1.3.5 (2005-03-11) (video) v4l2 | (audio) pcm
[export_ffmpeg.so] v0.3.13 (2004-08-03) (video) Lavc51.42.0 | (audio) MPEG/AC3/PCM
[import_v4l2.so]: v4l2 audio grabbing
[import_v4l2.so]: v4l2 video grabbing
[import_v4l2.so]: resync disabled
[import_v4l2.so]: video grabbing, driver = uvcvideo, card = UVC Camera (046d:08cc)
[import_v4l2.so]: VIDIOC_S_FMT: : Invalid argument
[import_v4l2.so]: VIDIOC_S_FMT: : Invalid argument
[import_v4l2.so]: VIDIOC_S_FMT: : Invalid argument
[import_v4l2.so]: no usable pixel format supported by card
video import module error: OPEN failed
[transcode] critical: failed to open input source

I don't know if the problem is on the transcode side or on the uvcvideo side. AFAIK the QuickCam Sphere uses the YUYV pixel format, does this error mean, that transcode cannot handle YUYV?

Whatever, this approach fails too. Seems like I'm running out of options. Has anybody here another idea how to establish an MPEG4 live stream?

Regards,
J?rg.




       __________________________________ 
Yahoo! Clever - Der einfachste Weg, Fragen zu stellen und Wissenswertes mit Anderen zu teilen. www.yahoo.de/clever



From mail at cynapses.org  Wed Sep 26 01:36:53 2007
From: mail at cynapses.org (Andreas Schneider)
Date: Wed, 26 Sep 2007 01:36:53 +0200
Subject: [Linux-uvc-devel] [Fwd: [Wengophone-devel] Announcing WengoPhone
	2.2 alpha 2]
Message-ID: <46F99B95.4090803@cynapses.org>

Hi,

this version supports v4l2 and works with uvcvideo at least for me.

	-- andreas

-- 
http://www.cynapses.org/ - cybernetic synapses

-------------- next part --------------
An embedded message was scrubbed...
From: Dave Neary <dave.neary at wengo.com>
Subject: [Wengophone-devel] Announcing WengoPhone 2.2 alpha 2
Date: Tue, 25 Sep 2007 13:44:05 +0200
Size: 6681
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070926/6d3be596/attachment.eml>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 254 bytes
Desc: OpenPGP digital signature
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070926/6d3be596/attachment.pgp>

From hirofumi at momose.com  Wed Sep 26 03:11:03 2007
From: hirofumi at momose.com (Hirofumi Momose)
Date: Wed, 26 Sep 2007 10:11:03 +0900
Subject: [Linux-uvc-devel] Didn't work with webcam(=livecam program of
	xawtv3.95)
In-Reply-To: <200709252202.28867.laurent.pinchart@skynet.be>
References: <20070925181704.50CB.HIROFUMI@momose.com>
	<200709252202.28867.laurent.pinchart@skynet.be>
Message-ID: <20070926095638.19E9.HIROFUMI@momose.com>

Hello Laurent,
Thanks for reply.

On Tue, 25 Sep 2007 22:02:28 +0200
Laurent Pinchart <laurent.pinchart at skynet.be> wrote:

> > Precisely, webcam could capture first image (very noisy), but
> > failed in the second capture. It failed at ioctl(VIDIOC_REQBUFS).
..snipped..
> vma_use_count != 0 means the buffers are still mapped.
> 
> Your report is a bit unclear. What do you mean by second capture ? Did you 
> restart the application, or does it have a capture loop inside ?

Yes, there is a periodical loop inside the webcam.
Webcam can capture first image just after start, but fails at second.

Now I am tracing webcam source. Still I don't know why this mapped
memory is aquired.

Thank you.
-- 
Hirofumi Momose <hirofumi at momose.com>




From t.st1 at gmx.net  Wed Sep 26 13:20:46 2007
From: t.st1 at gmx.net (Tom St)
Date: Wed, 26 Sep 2007 13:20:46 +0200
Subject: [Linux-uvc-devel] MPEG4 live stream howto?
In-Reply-To: <457030.24782.qm@web50011.mail.re2.yahoo.com>
References: <457030.24782.qm@web50011.mail.re2.yahoo.com>
Message-ID: <46FA408E.4020708@gmx.net>

Hello,
It should be possible to use uvc-streamer in combination with VLC:

webcam --[USB]--> uvc_stream --[HTTP-M-JPEG stream]--> VLC as transcoder
--[MPEG4 TS]--> VLC as viewer

HTH,
Tom


From thadeu.penna at gmail.com  Wed Sep 26 16:50:11 2007
From: thadeu.penna at gmail.com (Thadeu Penna)
Date: Wed, 26 Sep 2007 11:50:11 -0300
Subject: [Linux-uvc-devel] webcam on LG R400: module loads but does not work
Message-ID: <7c028c160709260750n1ba6aa17qc04f34b721b8443c@mail.gmail.com>

Hi

My note is a LG R400 with a nice webcam 1.3M that worked on Vista
(that is already purged from my machine). I think the following info
are relevant (please let me know if more info is needed)

Debian Lenny,
Linux 2.6.21-2-686 #1 SMP
uvcvideo compiled today, by the trunk

#dmesg
Linux video capture interface: v2.00
uvcvideo: Found UVC 1.00 device FO13FF-65 PC-CAM (05c8:0103)
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)

# ./luvcview
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
 Init v4L2 failed !! exit fatal

#camorama
Could not connect to video device (/dev/video)
Please check connection

# lsusb
Bus 005 Device 003: ID 05c8:0103 Cheng Uei Precision Industry Co., Ltd (Foxlink)

# lsusb -v
Bus 005 Device 003: ID 05c8:0103 Cheng Uei Precision Industry Co., Ltd
(Foxlink)
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x05c8 Cheng Uei Precision Industry Co., Ltd (Foxlink)
  idProduct          0x0103
  bcdDevice            1.08
  iManufacturer           2 Foxlink
  iProduct                1 FO13FF-65 PC-CAM
  iSerial                 3 1.08
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          653
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower               98mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               1 FO13FF-65 PC-CAM
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              1 FO13FF-65 PC-CAM
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          103
        dwClockFrequency       15.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {28f03370-6311-4a2e-ba2c-6890eb334016}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x0f
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 5
        guidExtensionCode         {2812ae3f-bcd7-4e11-a357-6f1edef7d61d}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          4
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000053f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x30
          NTSC - 625/50
          PAL - 525/60
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        1
        wTotalLength                    33025
        bEndPointAddress                    0
        bmInfo                              2
        bTerminalLink                       2
        bStillCaptureMethod                 1
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                7
        guidFormat
{32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   614400
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   202752
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   153600
        dwMaxBitRate                  4608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                    50688
        dwMaxBitRate                  1520640
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                    38400
        dwMaxBitRate                  1152000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                           960
        dwMinBitRate                  2457600
        dwMaxBitRate                 22118400
        dwMaxVideoFrameBufferSize     2457600
        dwDefaultFrameInterval        1111111
        bFrameIntervalType                  3
        dwFrameInterval( 0)           1111111
        dwFrameInterval( 1)           2000000
        dwFrameInterval( 2)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         7
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                          1024
        dwMinBitRate                  2621440
        dwMaxBitRate                 23592960
        dwMaxVideoFrameBufferSize     2621440
        dwDefaultFrameInterval        1111111
        bFrameIntervalType                  3
        dwFrameInterval( 0)           1111111
        dwFrameInterval( 1)           2000000
        dwFrameInterval( 2)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               7
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        352
        wHeight( 1)                       288
        wWidth( 2)                        320
        wHeight( 2)                       240
        wWidth( 3)                        176
        wHeight( 3)                       144
        wWidth( 4)                        160
        wHeight( 4)                       120
        wWidth( 5)                       1280
        wHeight( 5)                       960
        wWidth( 6)                       1280
        wHeight( 6)                      1024
        bNumCompressionPatterns             7
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 0 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)



-- 
Thadeu Penna
Prof.Associado - Instituto de F?sica
Universidade Federal Fluminense
http://profs.if.uff.br/tjpp/blog


From thadeu.penna at gmail.com  Wed Sep 26 17:01:51 2007
From: thadeu.penna at gmail.com (Thadeu Penna)
Date: Wed, 26 Sep 2007 12:01:51 -0300
Subject: [Linux-uvc-devel] webcam on LG R400: module loads but does not
	work
In-Reply-To: <7c028c160709260750n1ba6aa17qc04f34b721b8443c@mail.gmail.com>
References: <7c028c160709260750n1ba6aa17qc04f34b721b8443c@mail.gmail.com>
Message-ID: <7c028c160709260801u79bf092dlf3ceaf8e22d02dc0@mail.gmail.com>

Sorry for the noise
UPDATE: luvcview -f yuv works!

How can I use the other softwares amsn, camorama, etc. ?


-- 
Thadeu Penna
Prof.Associado - Instituto de F?sica
Universidade Federal Fluminense
http://profs.if.uff.br/tjpp/blog


From funtasyspace at yahoo.com  Wed Sep 26 17:55:57 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Wed, 26 Sep 2007 08:55:57 -0700 (PDT)
Subject: [Linux-uvc-devel] MPEG4 live stream howto?
Message-ID: <744642.88488.qm@web50012.mail.re2.yahoo.com>

Today I tried to use ffmpeg to capture and live transcode the stream. It seems like ffmpeg is supposed to capture from v4l2 devices, here is the result of my attempts so far.

I tried to capture at different sizes and to different output formats, capturing starts always fine but after some time (varies, sometimes after just 2 seconds, sometimes after 2 minutes) I always get the same error:

# ffmpeg -v 100 -f video4linux2 -s 320x240 -i /dev/video0 -f audio_device -i /dev/dsp2 -f m4v test.m4v
FFmpeg version SVN-r9778, Copyright (c) 2000-2007 Fabrice Bellard, et al.
  configuration: --prefix=/usr --mandir=/usr/share/man --libdir=/usr/lib64 --shlibdir=/usr/lib64 --enable-pthreads --enable-libogg --enable-libvorbis --enable-libmp3lame --enable-libfaad --enable-libfaadbin --enable-libfaac --enable-libxvid --enable-libx264 --enable-liba52 --enable-liba52bin --enable-pp --enable-shared --enable-dc1394 --enable-libtheora --enable-gpl
  libavutil version: 49.4.1
  libavcodec version: 51.40.4
  libavformat version: 51.12.1
  built on Jul 29 2007 17:41:31, gcc: 4.2.1 20070705 (prerelease) (SUSE Linux)
[video4linux2 @ 0x2b8bb4a4f220][3]Capabilities: 4000001
[video4linux2 @ 0x2b8bb4a4f220]The V4L2 driver set input_id: 0, input: Camera 1
Input #0, video4linux2, from '/dev/video0':
  Duration: N/A, bitrate: 30720 kb/s
  Stream #0.0, 1/1000000: Video: rawvideo, yuyv422, 320x240, 1/25, 30720 kb/s, 25.00 fps(r)
File 'Downloads/uvc/test.m4v' already exists. Overwrite ? [y/N] y
Output #0, m4v, to 'Downloads/uvc/test.m4v':
  Stream #0.0, 1/90000: Video: mpeg4, yuv420p, 320x240, 1/25, q=2-31, 200 kb/s, 25.00 fps(c)
Stream mapping:
  Stream #0.0 -> #0.0
Press [q] to stop encoding
....
[video4linux2 @ 0x2b91704f3220]The v4l2 frame is 25600 bytes, but 153600 bytes are expected
....
[video4linux2 @ 0x2b8bb4a4f220]The v4l2 frame is 32000 bytes, but 153600 bytes are expected

It's always the same error, ffmpeg aborts because at some point it receives a v4l2 frame that has a smaller size than expected. The actual frame size of the erroneous frame is always different (I posted two examples above) . So it seems to me, that's a problem with uvcvideo, which at some point just delivers a corrupt/incomplete frame. ffmpeg can't handle that and aborts. But the file that has been captured so far (until ffmpeg aborts) looks good and can be played with vlc, so I have hope that this issue can be fixed and that piping ffmpeg's output to vlc should be possible to stream my cam mpeg4 encoded via http.

Regards,
J?rg




----- Urspr?ngliche Mail ----
Von: J?rg Hermsdorf <funtasyspace at yahoo.com>
An: linux-uvc-devel at lists.berlios.de
Gesendet: Mittwoch, den 26. September 2007, 02:08:25 Uhr
Betreff: [Linux-uvc-devel] MPEG4 live stream howto?

Hi all,

well seems like streaming from uvcvideo/v4l2 is harder than I first imagined. With my old 4vl webcam I just needed vlc to live stream my webcam mpeg4 encoded. So far I found no application that I can use to live stream with my new Logitech QuickCam Sphere MP. uvc_streamer works, but the MJPEG bitrate is not suitable for the limited upstream bandwith of my ADSL connection. 

a) VLC seems not to be able to access v4l2 devices, although I found this link http://wiki.videolan.org/V4l which suggests that v4l2 is supported.

b) I tried MPEG4IP (mp4live), but the settings this program uses to capture the cam, result in a very bad image quality and strange colors. There's no way to change that.

c) Now, my latest idea is to use transcode (which is supposed to handle v4l2 devices) and pipe it's output to VLC and stream it as usual (http://wiki.videolan.org/index.php/Uncommon_uses). But if I try to access the cam with transcode, I get the following error:

# transcode -x v4l2,v4l2 -g 640x480 -i /dev/video -p /dev/dsp2 -e 32000,16,2 -w 4000 -y ffmpeg -F mjpeg -o test.avi

transcode v1.0.4 (C) 2001-2003 Thomas Oestreich, 2003-2004 T. Bitterberg, 2004-2007 Transcode Team
[transcode] auto-probing source /dev/video (failed)
[transcode] V: import format    | unknown  (V=v4l2|A=v4l2)
[transcode] V: import frame     | 640x480  1.33:1
[transcode] V: bits/pixel       | 0.521
[transcode] V: decoding fps,frc | 25.000,0
[transcode] V: Y'CbCr           | YV12/I420
[transcode] A: import format    | 0x2001  AC3/A52      [32000,16,2]
[transcode] A: export format    | 0x55    MPEG layer-3 [32000,16,2]  128 kbps
[transcode] V: encoding fps,frc | 25.000,3
[transcode] A: bytes per frame  | 5120 (5120.000000)
[transcode] A: adjustment       | 0 at 1000
[transcode] V: IA32/AMD64 accel | sse2 (sse2 sse 3dnowext 3dnow mmxext mmx asm C)
tc_memcpy: using amd64 for memcpy
[transcode] V: video buffer     | 10 @ 640x480
[import_v4l2.so] v1.3.5 (2005-03-11) (video) v4l2 | (audio) pcm
[export_ffmpeg.so] v0.3.13 (2004-08-03) (video) Lavc51.42.0 | (audio) MPEG/AC3/PCM
[import_v4l2.so]: v4l2 audio grabbing
[import_v4l2.so]: v4l2 video grabbing
[import_v4l2.so]: resync disabled
[import_v4l2.so]: video grabbing, driver = uvcvideo, card = UVC Camera (046d:08cc)
[import_v4l2.so]: VIDIOC_S_FMT: : Invalid argument
[import_v4l2.so]: VIDIOC_S_FMT: : Invalid argument
[import_v4l2.so]: VIDIOC_S_FMT: : Invalid argument
[import_v4l2.so]: no usable pixel format supported by card
video import module error: OPEN failed
[transcode] critical: failed to open input source

I don't know if the problem is on the transcode side or on the uvcvideo side. AFAIK the QuickCam Sphere uses the YUYV pixel format, does this error mean, that transcode cannot handle YUYV?

Whatever, this approach fails too. Seems like I'm running out of options. Has anybody here another idea how to establish an MPEG4 live stream?

Regards,
J?rg.




       __________________________________ 
Yahoo! Clever - Der einfachste Weg, Fragen zu stellen und Wissenswertes mit Anderen zu teilen. www.yahoo.de/clever

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel





      Machen Sie Yahoo! zu Ihrer Startseite. Los geht's: 
http://de.yahoo.com/set


From funtasyspace at yahoo.com  Wed Sep 26 18:19:19 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Wed, 26 Sep 2007 09:19:19 -0700 (PDT)
Subject: [Linux-uvc-devel] [Fwd: [Wengophone-devel] Announcing
	WengoPhone 2.2 alpha 2]
Message-ID: <29733.2344.qm@web50012.mail.re2.yahoo.com>

I tried this version today, too. Wengophone can successfully access my
cam (Logitech QuickCam Sphere MP), test video calls work too until at
some point Wengophone crashes. I guess the reason is uvcvideo/v4l2 (see
my other email about ffmpeg aborting due to incomplete v4l2 frames) and
Wengophone is not fault-tolerant enough to catch this.

Regards,
J?rg

----- Urspr?ngliche Mail ----
Von: Andreas Schneider <mail at cynapses.org>
An: linux-uvc-devel at lists.berlios.de
Gesendet: Mittwoch, den 26. September 2007, 01:36:53 Uhr
Betreff: [Linux-uvc-devel] [Fwd: [Wengophone-devel] Announcing WengoPhone 2.2 alpha 2]

Hi,

this version supports v4l2 and works with uvcvideo at least for me.

    -- andreas

-- 
http://www.cynapses.org/ - cybernetic synapses



Hi all,

The WengoPhone 2.2 alpha 2 release is available now!

Binary builds for Linux, Mac OSX and Windows are available at:
Mac PPC :
http://download.wengo.com/nightlybuilds/installer/NG/macosx/ppc/2.2/2.1.99.2/WengoPhone-12730.dmg
Mac X86 :
http://download.wengo.com/nightlybuilds/installer/NG/macosx/x86/2.2/2.1.99.2/WengoPhone-12730.dmg
Linux portaudio :
http://download.wengo.com/nightlybuilds/binary/NG/GNULinux/2.2/2.1.99.2/WengoPhone-2.1.99.2-minsizerel-12731.tar.bz2
Linux alsa :
http://download.wengo.com/nightlybuilds/binary/NG/GNULinux/2.2/2.1.99.2/WengoPhone-2.1.99.2-minsizerel-alsa-12730.tar.bz2
Windows :
http://download.wengo.com/nightlybuilds/installer/NG/win32/2.2/2.1.99.2/WengoPhone-2.1.99.2-setup-relwithdebinfo-12730-pdb.exe


This release contins quite a few changes from the Alpha 1 release -
Aur?lien G?teau has made great headway in prettying up the chat dialog,
including allowing theming, grouping messages, and including avatars in
the message dialog.

Julien Bossart has continued improving the stability of phapi, and has
fixed a long-standing issue with authorization requests for Jabber and
other IM protocols.

Alec Leamas has done great work with ALSA to make sound work better on
Linux. Thanks also to Ludovico and Aur?lien for patch review on Alec's work.

For those of you not behind firewalls, MSN direct access is now
configurable, and will make MSN messaging work for you again.

We've finally added a "Test call" contact to the default contact list!
Thanks to Aur?lien for this non-trivial, but very useful, addition.

The 2.2 branch is almost feature-complete - the only remaining change I
can think of which is outstanding is the migration from libgaim to
libpurple. The next release will thus be a pre-release - it will be
feature frozen and string frozen to allow translators time to update the
translations for the release.

If there are any changes which are on the 2.2 milestone:
http://dev.openwengo.com/trac/openwengo/trac.fcgi/query?status=new&status=assigned&status=reopened&milestone=WengoPhone+2.2
and which require string changes, they will need to be handled between
now & the next release.

>From this point on, I would like to concentrate on getting the bug count
on the 2.2 milestone down from its current level (26 open ticket, 4 P1,
12 P2) down to respectable levels (that means no P1 tickets, and as few
as possible P2 tickets, with most of those 26 problems corrected).

At that stage, we can ship 2.2 and do the celebratory dance!

Cheers,
Dave.

-- 
Dave Neary
OpenWengo Community Development Manager
Email: dave.neary at wengo.com
Tel: +33 9 51 13 46 45
Mob: +33 6 28 09 73 11
_______________________________________________
Wengophone-devel mailing list
Wengophone-devel at lists.openwengo.com
http://dev.openwengo.com/mailman/listinfo/wengophone-devel






      Heute schon einen Blick in die Zukunft von E-Mails wagen? www.yahoo.de/mail


From lars.taeuber at gmx.net  Wed Sep 26 20:41:45 2007
From: lars.taeuber at gmx.net (Lars =?ISO-8859-15?Q?T=E4uber?=)
Date: Wed, 26 Sep 2007 18:41:45 +0000
Subject: [Linux-uvc-devel] uvcvideo: Found UVC 1.00 device SANYO Digital
 Camera (0474:0238)
In-Reply-To: <200709252141.40844.laurent.pinchart@skynet.be>
References: <20070924232655.9f0182fb.lars.taeuber@gmx.net>
	<200709252141.40844.laurent.pinchart@skynet.be>
Message-ID: <20070926184145.9c5a27c8.lars.taeuber@gmx.net>

Good evening Laurent,

> Could you please post the output of
> 
> lsusb -v -d 0474:0238

of course:
$ lsusb -v -d 0474:0238

Bus 001 Device 004: ID 0474:0238 Sanyo Electric Co., Ltd
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0474 Sanyo Electric Co., Ltd
  idProduct          0x0238
  bcdDevice            1.00
  iManufacturer           1
  iProduct                2
  iSerial                 3
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          161
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xc0
      Self Powered
    MaxPower                0mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               2
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              4
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           39
        dwClockFrequency        0.001000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                17
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          2
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  2
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          1
        bSourceID               1
        iTerminal               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              5
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        1
        wTotalLength                    33280
        bEndPointAddress                    0
        bmInfo                              2
        bTerminalLink                       2
        bStillCaptureMethod                 0
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    11
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        1
        bNumFrameDescriptors                1
        bFlags                              0
          Fixed-size samples: No
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x02
          Interlaced stream or variable: No
          Fields per frame: 2 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                    81920
        dwMaxBitRate                   688128
        dwMaxVideoFrameBufferSize       32768
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  0
        dwMinFrameInterval             666666
        dwMaxFrameInterval             666666
        dwFrameIntervalStep                 0
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               1
        wWidth( 0)                       1600
        wHeight( 0)                      1200
        bNumCompressionPatterns             1
        bCompression( 0)                   36
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            7 (sRGB)
        bMatrixCoefficients                 0 (Unspecified)
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
can't get device qualifier: Operation not permitted
can't get debug descriptor: Operation not permitted
cannot read device status, Operation not permitted (1)


> using usbutils 0.72 or newer ? I'll then see if there's anything I can do.

$ lsusb -V
lsusb (usbutils) 0.72

Tell me if I can do anything else.

Lars


From lars.taeuber at gmx.net  Wed Sep 26 20:41:58 2007
From: lars.taeuber at gmx.net (Lars =?ISO-8859-15?Q?T=E4uber?=)
Date: Wed, 26 Sep 2007 18:41:58 +0000
Subject: [Linux-uvc-devel] uvcvideo: Found UVC 1.00 device SANYO Digital
 Camera (0474:0238)
In-Reply-To: <200709252141.40844.laurent.pinchart@skynet.be>
References: <20070924232655.9f0182fb.lars.taeuber@gmx.net>
	<200709252141.40844.laurent.pinchart@skynet.be>
Message-ID: <20070926184158.5322a9f7.lars.taeuber@gmx.net>

> lsusb -v -d 0474:0238

Sorry, it's getting late.
As root:

[...]
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0001
  Self Powered


Lars


From funtasyspace at yahoo.com  Wed Sep 26 19:28:02 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Wed, 26 Sep 2007 10:28:02 -0700 (PDT)
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
Message-ID: <939526.9395.qm@web50007.mail.re2.yahoo.com>

> A cleaner solution is to add the following line in
> your /etc/modprobe.conf:
>
> install uvcvideo /sbin/modprobe
> usbaudio; /sbin/modprobe --ignore-install uvcvideo

I just want to mention, that on openSUSE systems this line would go to /etc/modprobe.conf.local 
(modprobe.conf.local is for your own modifications, while modprobe.conf should be left untouched, because it will be overwritten by updates)

On my openSUSE 10.3 system (kernel 2.6.22.5) there is no 'usbaudio' module, but a snd_usb_audio module. So the line in /etc/modprobe.conf.local is:

 install uvcvideo /sbin/modprobe snd_usb_audio; /sbin/modprobe --ignore-install uvcvideo

Regards,
J?rg






      Heute schon einen Blick in die Zukunft von E-Mails wagen? www.yahoo.de/mail


From chris.horler at clara.co.uk  Wed Sep 26 19:17:55 2007
From: chris.horler at clara.co.uk (Christopher HORLER)
Date: Wed, 26 Sep 2007 18:17:55 +0100
Subject: [Linux-uvc-devel] Fwd: Re:  Fwd: Re: (OT) Kopete compilation
In-Reply-To: <200709242225.59481.ernih@gmx.de>
References: <200709242225.59481.ernih@gmx.de>
Message-ID: <200709261817.55580.chris.horler@clara.co.uk>

Erhan,

I happen to have a copy of Ubuntu 7.04 on my pendrive, so I just booted it.

Then I followed all the instructions I've previously given.

For me I only encountered a single error, easy to solve - as I'll go on to 
explain.

Steps I took (I may have missed out some, the pendrive already has some dev 
tools installed).

1. installed autoconf and automake
2. ran make -f Makefile.cvs
Got an automake error, NOT an autoconf error

The version of automake was 1.10, the cvs.sh script only detects upto 1.9.x
I amended the cvs.sh script and added an additional pattern to the case 
statement allowing 1.10*.

Then I can run make -f Makefile.cvs successfully

Check your error messages again, if it's an automake (not autoconf) you have 
two or three options.
1. Obtain an updated version of the admin directory - if one exists
2. Update the cvs.sh script
3. Investigate the alternate build system

If this doesn't solve your problem, I think I've done my fair share so I'll 
let some other kind soul help you.

Regards,
Chris

On Monday 24 September 2007 21:25, ernih at gmx.de wrote:
> i get this message:
>
> sudo autoconf --version
> Password:
> autoconf (GNU Autoconf) 2.61
> Copyright (C) 2006 Free Software Foundation, Inc.
> This is free software.  You may redistribute copies of it under the terms
> of the GNU General Public License <http://www.gnu.org/licenses/gpl.html>.
> There is NO WARRANTY, to the extent permitted by law.
>
> Written by David J. MacKenzie and Akim Demaille.
>
> what is the next step?


From laurent.pinchart at skynet.be  Wed Sep 26 22:45:20 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 26 Sep 2007 22:45:20 +0200
Subject: [Linux-uvc-devel] Control the status LED?
In-Reply-To: <105228.96919.qm@web50008.mail.re2.yahoo.com>
References: <105228.96919.qm@web50008.mail.re2.yahoo.com>
Message-ID: <200709262245.20226.laurent.pinchart@skynet.be>

Hi J?rg,

On Tuesday 25 September 2007, J?rg Hermsdorf wrote:
> Hi all,
>
> does the uvcvideo module export some controls that can be set via the sysfs
> filesystem? I'm looking for a way to toggle the status LED on and off. Or
> is this directly controlled my the hardware?
>
> My cam is the Logitech QuickCam Sphere MP.

The LED is directly controlled by the hardware. There is no way to turn it on 
or off from the computer.

Best regards,

Laurent Pincart


From laurent.pinchart at skynet.be  Wed Sep 26 22:49:37 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 26 Sep 2007 22:49:37 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
In-Reply-To: <20070925214850.GI10441@pinux.info>
References: <20070921201909.GA5543@pinux.info>
	<200709220029.15705.laurent.pinchart@skynet.be>
	<20070925214850.GI10441@pinux.info>
Message-ID: <200709262249.37683.laurent.pinchart@skynet.be>

Hi Carles,

On Tuesday 25 September 2007, Carles Pina i Estany wrote:
> Hi Laurent,
>
> On Sep/22/2007, Laurent Pinchart wrote:
>
> sorry to take some days to answer, I have been out of usual computing
> for some days :-)
>
> > On Friday 21 September 2007, Carles Pina i Estany wrote:
> > > Hello!
> > >
> > > I have a Logitech Quickcam Pro for Notebooks, that seems that is well
> > > supported.
> > >
> > > But is not working. I'm using a Kernel 2.6.22, compiled myself, with
> > > Video4Linux enabled. In dmesg I can see:
> > >
> > > ------------------
> > > Linux video capture interface: v2.00
> > > uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c3)
> > > uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -110 (exp.
> > > 26). uvcvideo: Failed to query (129) UVC control 1 (unit 0) : -110
> > > (exp. 26). uvcvideo: Failed to initialize the device (-5).
> > > usbcore: registered new interface driver uvcvideo
> > > USB Video Class driver (v0.1.0)
> > > ----------------
> > > /dev/video0 is not created
> > >
> > > What can I do? I've read something about firmware bug, etc. but last
> > > year this camera worked :-) just I have not used and now... not
> > > working.
> > >
> > > Some problem in some kernel option? where I can look? I have been
> > > browsing without any success.
> >
> > Kernel 2.6.22 includes bug fixes in the usbaudio driver that can trigger
> > another firmware bug in the webcam. Fortunately this one seems to have a
> > workaround, although not a pretty one.
>
> Wow good!
>
> > The webcam audio interface must be initialised before the video
> > interface.  Linux will by default initialise the video interface
> > first, so you need to remove the uvcvideo.ko module from the
> > /lib/modules subdirectory where it gets loaded automatically, and load
> > it manually after plugging the webcam.
>
> I have done, without results...
>
> > This is not a pretty workaround as it requires manual operations every
> > time you plug the camera, but it should work.
>
> doing an insmod of uvcvideo.ko, tells me:
> insmod: error inserting './uvcvideo.ko': -1 Unknown symbol in module
>
> If I load in usual way (modprobe, etc.) I guess that loads some other
> modules and I don't have the "Unkown symbol" error. If I unload and then
> I load again, I get the same error in dmesg (Failed to query (135) UVC
> control)

You have to make sure the system won't load the module automatically when you 
plug your webcam in, otherwise uvcvideo.ko will be associated with the camera 
before usbaudio.ko, and initialisation will fail.

> Laurent: what options are related to uvcvideo? and specially, with
> uvcvideo and video. Maybe I have some of them inside Kernel and should
> be in module way?  should I use v4l2_common, no?
>
> Now I have:
> carles at pinux:~$ lsmod|grep -i video
> uvcvideo               44804  0
> compat_ioctl32          1408  1 uvcvideo
> videodev               26112  1 uvcvideo
> v4l2_common            14464  2 uvcvideo,videodev
> usbcore               117896  5 uvcvideo,usb_storage,usbhid,uhci_hcd
> carles at pinux:~$

Try to load videodev and compat_ioctl32 (using modprobe) before you 
insmod ./uvcvideo.ko. uvcvideo.ko depends on videodev and compat_ioctl32, but 
insmod doesn't load dependencies automatically.

> Thank you very much Laurent for your fast support!

You're welcome.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Sep 26 22:50:12 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 26 Sep 2007 22:50:12 +0200
Subject: [Linux-uvc-devel] [Fwd: [Wengophone-devel] Announcing
	WengoPhone 2.2 alpha 2]
In-Reply-To: <29733.2344.qm@web50012.mail.re2.yahoo.com>
References: <29733.2344.qm@web50012.mail.re2.yahoo.com>
Message-ID: <200709262250.12697.laurent.pinchart@skynet.be>

On Wednesday 26 September 2007, J?rg Hermsdorf wrote:
> I tried this version today, too. Wengophone can successfully access my
> cam (Logitech QuickCam Sphere MP), test video calls work too until at
> some point Wengophone crashes. I guess the reason is uvcvideo/v4l2 (see
> my other email about ffmpeg aborting due to incomplete v4l2 frames) and
> Wengophone is not fault-tolerant enough to catch this.

Good point. I'll see what I can do.

Regards,

Laurent Pinchart


From carles at pina.cat  Wed Sep 26 22:54:17 2007
From: carles at pina.cat (Carles Pina i Estany)
Date: Wed, 26 Sep 2007 22:54:17 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
In-Reply-To: <200709262249.37683.laurent.pinchart@skynet.be>
References: <20070921201909.GA5543@pinux.info>
	<200709220029.15705.laurent.pinchart@skynet.be>
	<20070925214850.GI10441@pinux.info>
	<200709262249.37683.laurent.pinchart@skynet.be>
Message-ID: <20070926205417.GA11404@pinux.info>


Hello again,


On Sep/26/2007, Laurent Pinchart wrote:

> > > > I have a Logitech Quickcam Pro for Notebooks, that seems that is well
> > > > supported.
> > > >
> > > > But is not working. I'm using a Kernel 2.6.22, compiled myself, with
> > > > Video4Linux enabled. In dmesg I can see:
> > > >
> > > > ------------------
> > > > Linux video capture interface: v2.00
> > > > uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c3)
> > > > uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -110 (exp.
> > > > 26). uvcvideo: Failed to query (129) UVC control 1 (unit 0) : -110
> > > > (exp. 26). uvcvideo: Failed to initialize the device (-5).
> > > > usbcore: registered new interface driver uvcvideo
> > > > USB Video Class driver (v0.1.0)
> > > > ----------------
> > > > /dev/video0 is not created
> > > >
> > > > What can I do? I've read something about firmware bug, etc. but last
> > > > year this camera worked :-) just I have not used and now... not
> > > > working.

> > If I load in usual way (modprobe, etc.) I guess that loads some other
> > modules and I don't have the "Unkown symbol" error. If I unload and then
> > I load again, I get the same error in dmesg (Failed to query (135) UVC
> > control)
> 
> You have to make sure the system won't load the module automatically when you 
> plug your webcam in, otherwise uvcvideo.ko will be associated with the camera 
> before usbaudio.ko, and initialisation will fail.

I'm 100% sure that has not been loaded before, this time.
And even when is not working, usbaudio.ko is not loaded:
pinux:/lib/modules/2.6.22# find . -iname "*usbadio*"
pinux:/lib/modules/2.6.22# 


> > carles at pinux:~$ lsmod|grep -i video
> > uvcvideo               44804  0
> > compat_ioctl32          1408  1 uvcvideo
> > videodev               26112  1 uvcvideo
> > v4l2_common            14464  2 uvcvideo,videodev
> > usbcore               117896  5 uvcvideo,usb_storage,usbhid,uhci_hcd
> > carles at pinux:~$
> 
> Try to load videodev and compat_ioctl32 (using modprobe) before you 
> insmod ./uvcvideo.ko. uvcvideo.ko depends on videodev and compat_ioctl32, but 
> insmod doesn't load dependencies automatically.

I loaded it, then I plugged the camera, then I insmoded uvcvideo.ko
(which one is in other directory, not in /lib/modules/...). But not
worked :-(

What else I can do? I think that should be some software problem, one
year ago worked :-)

Thank you very much!

-- 
Carles Pina i Estany		GPG id: 0x8CBDAE64
	http://pinux.info	Manresa - Barcelona


From laurent.pinchart at skynet.be  Wed Sep 26 22:59:34 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 26 Sep 2007 22:59:34 +0200
Subject: [Linux-uvc-devel] MPEG4 live stream howto?
In-Reply-To: <744642.88488.qm@web50012.mail.re2.yahoo.com>
References: <744642.88488.qm@web50012.mail.re2.yahoo.com>
Message-ID: <200709262259.34327.laurent.pinchart@skynet.be>

On Wednesday 26 September 2007, J?rg Hermsdorf wrote:
> Today I tried to use ffmpeg to capture and live transcode the stream. It
> seems like ffmpeg is supposed to capture from v4l2 devices, here is the
> result of my attempts so far.
>
> I tried to capture at different sizes and to different output formats,
> capturing starts always fine but after some time (varies, sometimes after
> just 2 seconds, sometimes after 2 minutes) I always get the same error:
>
> # ffmpeg -v 100 -f video4linux2 -s 320x240 -i /dev/video0 -f audio_device
> -i /dev/dsp2 -f m4v test.m4v FFmpeg version SVN-r9778, Copyright (c)
> 2000-2007 Fabrice Bellard, et al. configuration: --prefix=/usr
> --mandir=/usr/share/man --libdir=/usr/lib64 --shlibdir=/usr/lib64
> --enable-pthreads --enable-libogg --enable-libvorbis --enable-libmp3lame
> --enable-libfaad --enable-libfaadbin --enable-libfaac --enable-libxvid
> --enable-libx264 --enable-liba52 --enable-liba52bin --enable-pp
> --enable-shared --enable-dc1394 --enable-libtheora --enable-gpl libavutil
> version: 49.4.1
>   libavcodec version: 51.40.4
>   libavformat version: 51.12.1
>   built on Jul 29 2007 17:41:31, gcc: 4.2.1 20070705 (prerelease) (SUSE
> Linux) [video4linux2 @ 0x2b8bb4a4f220][3]Capabilities: 4000001
> [video4linux2 @ 0x2b8bb4a4f220]The V4L2 driver set input_id: 0, input:
> Camera 1 Input #0, video4linux2, from '/dev/video0':
>   Duration: N/A, bitrate: 30720 kb/s
>   Stream #0.0, 1/1000000: Video: rawvideo, yuyv422, 320x240, 1/25, 30720
> kb/s, 25.00 fps(r) File 'Downloads/uvc/test.m4v' already exists. Overwrite
> ? [y/N] y
> Output #0, m4v, to 'Downloads/uvc/test.m4v':
>   Stream #0.0, 1/90000: Video: mpeg4, yuv420p, 320x240, 1/25, q=2-31, 200
> kb/s, 25.00 fps(c) Stream mapping:
>   Stream #0.0 -> #0.0
> Press [q] to stop encoding
> ....
> [video4linux2 @ 0x2b91704f3220]The v4l2 frame is 25600 bytes, but 153600
> bytes are expected ....
> [video4linux2 @ 0x2b8bb4a4f220]The v4l2 frame is 32000 bytes, but 153600
> bytes are expected
>
> It's always the same error, ffmpeg aborts because at some point it receives
> a v4l2 frame that has a smaller size than expected. The actual frame size
> of the erroneous frame is always different (I posted two examples above) .
> So it seems to me, that's a problem with uvcvideo, which at some point just
> delivers a corrupt/incomplete frame. ffmpeg can't handle that and aborts.
> But the file that has been captured so far (until ffmpeg aborts) looks good
> and can be played with vlc, so I have hope that this issue can be fixed and
> that piping ffmpeg's output to vlc should be possible to stream my cam
> mpeg4 encoded via http.

The USB isochronous transfers are not error free. Packets can be lost, which 
result in incomplete/erroneous frames. The only way I can think of to detect 
those erroneous/incomplete frames is to look at the frame size. This can be 
done for uncompressed formats, but will obviously be useless for compressed 
format.

The driver currently handles complete and incomplete frames the same way. I 
can add a driver option to make it drop incomplete frames, returning complete 
frames only to the application. Would you be able to test that ?

Best regards,

Laurent Pinchart


From funtasyspace at yahoo.com  Wed Sep 26 23:07:14 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Wed, 26 Sep 2007 14:07:14 -0700 (PDT)
Subject: [Linux-uvc-devel] MPEG4 live stream howto?
Message-ID: <748600.73995.qm@web50003.mail.re2.yahoo.com>

> The USB isochronous transfers are not error free. Packets can be lost, which 
> result in incomplete/erroneous frames. The only way I can think of to detect 
> those erroneous/incomplete frames is to look at the frame size. This can be 
> done for uncompressed formats, but will obviously be useless for compressed 
> format.
> 
> The driver currently handles complete and incomplete frames the same way. I 
> can add a driver option to make it drop incomplete frames, returning complete 
> frames only to the application. Would you be able to test that ?

Sure, I can't wait to test that option. Just drop me a message, when it's done.

Best Regards,
J?rg





      Heute schon einen Blick in die Zukunft von E-Mails wagen? Versuchen Sie?s mit dem neuen Yahoo! Mail. www.yahoo.de/mail


From ernih at gmx.de  Thu Sep 27 01:57:51 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Thu, 27 Sep 2007 01:57:51 +0200
Subject: [Linux-uvc-devel] Fwd: Re: Fwd: Re: Fwd: Re: (OT) Kopete compilation
Message-ID: <200709270157.52057.ernih@gmx.de>

Hi,

i have not installed automake. after installation  make -f Makefile.cvs have 
worked, but i get some warnings and error messages. in the following u can 
see that. are these unimportant warnings or error messages? what i have to do 
to do not get this messages?

thanks!



salsero at salsero:~/kdenetwork$ make -f Makefile.cvs
This Makefile is only for the CVS repository
This will be deleted before making the distribution

*** automake (GNU automake) 1.9.6 found.
*** Creating acinclude.m4
*** Creating list of subdirectories
*** Creating Makefile.am
*** Creating configure.files
*** Creating configure.in
*** Creating aclocal.m4
*** Creating configure
*** Creating config.h template
*** Creating Makefile templates
*** Postprocessing Makefile templates
Warning: No moc-able header file 
for /home/salsero/kdenetwork/kopete/protocols/jabber/libiris/iris/xmpp-core/ignore_this_warning
*** Creating date/time stamp
*** Finished
    Don't forget to run ./configure
    If you haven't done so in a while, run ./configure --help
salsero at salsero:~/kdenetwork$ ./configure --enable-debug
checking build system type... i686-pc-linux-gnu
checking host system type... i686-pc-linux-gnu
checking target system type... i686-pc-linux-gnu
checking for a BSD-compatible install... /usr/bin/install -c
checking for -p flag to install... yes
checking whether build environment is sane... yes
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking for kde-config... /usr/bin/kde-config
checking where to install... /usr (as returned by kde-config)
checking for style of include used by make... GNU
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking dependency style of gcc... gcc3
checking how to run the C preprocessor... gcc -E
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking dependency style of g++... gcc3
checking whether gcc is blacklisted... no
checking whether g++ supports -fno-builtin... yes
checking whether g++ supports -Woverloaded-virtual... yes
checking whether g++ supports -Wmissing-format-attribute... yes
checking whether gcc supports -Wmissing-format-attribute... yes
checking whether g++ supports -Wundef... yes
checking whether g++ supports -Wno-long-long... yes
checking whether g++ supports -Wno-non-virtual-dtor... yes
checking whether g++ supports -fno-reorder-blocks... yes
checking whether g++ supports -fno-exceptions... yes
checking whether g++ supports -fno-check-new... yes
checking whether g++ supports -fno-common... yes
checking whether g++ supports -fexceptions... yes
checking whether system headers can cope with -O2 -fno-inline... yes
checking how to run the C++ preprocessor... g++ -E
checking whether g++ supports -O0... yes
checking whether g++ supports -Wl,--no-undefined... yes
checking whether g++ supports -Wl,--allow-shlib-undefined... yes
not using lib directory suffix
checking for a sed that does not truncate output... /bin/sed
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ld used by gcc... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking for /usr/bin/ld option to reload object files... -r
checking for BSD-compatible nm... /usr/bin/nm -B
checking whether ln -s works... yes
checking how to recognise dependent libraries... pass_all
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking dlfcn.h usability... yes
checking dlfcn.h presence... yes
checking for dlfcn.h... yes
checking for g77... no
checking for xlf... no
checking for f77... no
checking for frt... no
checking for pgf77... no
checking for cf77... no
checking for fort77... no
checking for fl32... no
checking for af77... no
checking for xlf90... no
checking for f90... no
checking for pgf90... no
checking for pghpf... no
checking for epcf90... no
checking for gfortran... no
checking for g95... no
checking for xlf95... no
checking for f95... no
checking for fort... no
checking for ifort... no
checking for ifc... no
checking for efc... no
checking for pgf95... no
checking for lf95... no
checking for ftn... no
checking whether we are using the GNU Fortran 77 compiler... no
checking whether  accepts -g... no
checking the maximum length of command line arguments... 32768
checking command to parse /usr/bin/nm -B output from gcc object... ok
checking for objdir... .libs
checking for ar... ar
checking for ranlib... ranlib
checking for strip... strip
checking if gcc static flag  works... yes
checking if gcc supports -fno-rtti -fno-exceptions... no
checking for gcc option to produce PIC... -fPIC
checking if gcc PIC flag -fPIC works... yes
checking if gcc supports -c -o file.o... yes
checking whether the gcc linker (/usr/bin/ld) supports shared libraries... yes
checking whether -lc should be explicitly linked in... no
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking for shl_load... no
checking for shl_load in -ldld... no
checking for dlopen... no
checking for dlopen in -ldl... yes
checking whether a program can dlopen itself... yes
checking whether a statically linked program can dlopen itself... yes
checking if libtool supports shared libraries... yes
checking whether to build shared libraries... yes
checking whether to build static libraries... no
configure: creating libtool
appending configuration tag "CXX" to libtool
checking for ld used by g++... /usr/bin/ld
checking if the linker (/usr/bin/ld) is GNU ld... yes
checking whether the g++ linker (/usr/bin/ld) supports shared libraries... yes
checking for g++ option to produce PIC... -fPIC
checking if g++ PIC flag -fPIC works... yes
checking if g++ supports -c -o file.o... yes
checking whether the g++ linker (/usr/bin/ld) supports shared libraries... yes
checking dynamic linker characteristics... GNU/Linux ld.so
checking how to hardcode library paths into programs... immediate
checking whether stripping libraries is possible... yes
checking for shl_load... (cached) no
checking for shl_load in -ldld... (cached) no
checking for dlopen... (cached) no
checking for dlopen in -ldl... (cached) yes
checking whether a program can dlopen itself... (cached) yes
checking whether a statically linked program can dlopen itself... (cached) yes
appending configuration tag "F77" to libtool
checking for msgfmt... /usr/bin/msgfmt
checking for gmsgfmt... /usr/bin/msgfmt
checking for xgettext... /usr/bin/xgettext
checking if C++ programs can be compiled... yes
checking for strlcat... no
checking if strlcat needs custom prototype... yes - in libkdefakes
checking for strlcpy... no
checking if strlcpy needs custom prototype... yes - in libkdefakes
checking for main in -lutil... yes
checking for main in -lcompat... no
checking for crypt in -lcrypt... yes
checking for socklen_t... yes
checking for dnet_ntoa in -ldnet... no
checking for dnet_ntoa in -ldnet_stub... no
checking for inet_ntoa... yes
checking for connect... yes
checking for remove... yes
checking for shmat... yes
checking for sys/types.h... (cached) yes
checking for stdint.h... (cached) yes
checking sys/bitypes.h usability... yes
checking sys/bitypes.h presence... yes
checking for sys/bitypes.h... yes
checking for poll in -lpoll... no
checking Carbon/Carbon.h usability... no
checking Carbon/Carbon.h presence... no
checking for Carbon/Carbon.h... no
checking CoreAudio/CoreAudio.h usability... no
checking CoreAudio/CoreAudio.h presence... no
checking for CoreAudio/CoreAudio.h... no
checking if res_init needs -lresolv... yes
checking for res_init... yes
checking if res_init needs custom prototype... no
checking for killpg in -lucb... no
checking for int... yes
checking size of int... 4
checking for short... yes
checking size of short... 2
checking for long... yes
checking size of long... 4
checking for char *... yes
checking size of char *... 4
checking for dlopen in -ldl... (cached) yes
checking for shl_unload in -ldld... no
checking for size_t... yes
checking size of size_t... 4
checking for unsigned long... yes
checking size of unsigned long... 4
checking sizeof size_t == sizeof unsigned long... yes
checking for PIE support... yes
checking if enabling -pie/fPIE support... yes
checking crt_externs.h usability... no
checking crt_externs.h presence... no
checking for crt_externs.h... no
checking for _NSGetEnviron... no
checking for vsnprintf... yes
checking for snprintf... yes
checking for X... configure: error: Can't find X libraries. Please check your 
installation and add the correct paths!
salsero at salsero:~/kdenetwork$ cd kopete
salsero at salsero:~/kdenetwork/kopete$ make
make: *** Keine Targets angegeben und keine ?make?-Steuerdatei gefunden.  
Schluss.
salsero at salsero:~/kdenetwork/kopete$ su -c "make install"
Password:
su: Authentication failure
Sorry.

----------  Forwarded Message  ----------

Subject: Re: [Linux-uvc-devel] Fwd: Re:  Fwd: Re: (OT) Kopete compilation
Date: Mittwoch 26 September 2007
From: Christopher HORLER <chris.horler at clara.co.uk>
To: linux-uvc-devel at lists.berlios.de

Erhan,

I happen to have a copy of Ubuntu 7.04 on my pendrive, so I just booted it.

Then I followed all the instructions I've previously given.

For me I only encountered a single error, easy to solve - as I'll go on to 
explain.

Steps I took (I may have missed out some, the pendrive already has some dev 
tools installed).

1. installed autoconf and automake
2. ran make -f Makefile.cvs
Got an automake error, NOT an autoconf error

The version of automake was 1.10, the cvs.sh script only detects upto 1.9.x
I amended the cvs.sh script and added an additional pattern to the case 
statement allowing 1.10*.

Then I can run make -f Makefile.cvs successfully

Check your error messages again, if it's an automake (not autoconf) you have 
two or three options.
1. Obtain an updated version of the admin directory - if one exists
2. Update the cvs.sh script
3. Investigate the alternate build system

If this doesn't solve your problem, I think I've done my fair share so I'll 
let some other kind soul help you.

Regards,
Chris

On Monday 24 September 2007 21:25, ernih at gmx.de wrote:
> i get this message:
>
> sudo autoconf --version
> Password:
> autoconf (GNU Autoconf) 2.61
> Copyright (C) 2006 Free Software Foundation, Inc.
> This is free software.  You may redistribute copies of it under the terms
> of the GNU General Public License <http://www.gnu.org/licenses/gpl.html>.
> There is NO WARRANTY, to the extent permitted by law.
>
> Written by David J. MacKenzie and Akim Demaille.
>
> what is the next step?
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel

-------------------------------------------------------


From hirofumi at momose.com  Thu Sep 27 09:34:41 2007
From: hirofumi at momose.com (Hirofumi Momose)
Date: Thu, 27 Sep 2007 16:34:41 +0900
Subject: [Linux-uvc-devel] Didn't work with webcam(=livecam program of
	xawtv3.95)
In-Reply-To: <200709252202.28867.laurent.pinchart@skynet.be>
References: <20070925181704.50CB.HIROFUMI@momose.com>
	<200709252202.28867.laurent.pinchart@skynet.be>
Message-ID: <20070927160731.8F60.HIROFUMI@momose.com>

Hello Laurent,

Here, I traced driver with webcam application.
I think uvc_vm_open/close does not correspond with mmap/unmap sys-calls.

webcam(app): mmap()
 -> uvc_v4l2_mmap()
  -> uvc_vm_open() ... vma_use_count = 0->1

webcam: munmap()
 -> uvc_vm_open() ...  vma_use_count = 1->2
 -> uvc_vm_close() ... vma_use_count = 2->1

webcam: exit
 -> uvc_vm_close() ... vma_use_count = 1->0

My system is:
 CPU ARM9
 Kernel 2.6.22

Best regards,

-- 
Hirofumi Momose <hirofumi at momose.com>






From c.montemaggiore at fastautomation.it  Thu Sep 27 16:00:48 2007
From: c.montemaggiore at fastautomation.it (Claudio Montemaggiore - FAST S.p.A.)
Date: Thu, 27 Sep 2007 16:00:48 +0200
Subject: [Linux-uvc-devel] Bulk support
Message-ID: <004301c8010e$ce979670$b200a8c0@fastglobale.locale>

Hi,
I'm testing an embedded system  with a usb controller driver which doesn't support iso transfer.
I would like to interface this board with a webcam.
The problem is that the majotity of the recent webcams are based on isochronous transfer.
If the UVC driver supports bulk transfer, is there any webcam I can use with it using bulk transfer?

Thank you for any suggestion
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070927/12e91e3e/attachment.html>

From NathanaelGalpin at smarttech.com  Thu Sep 27 21:19:45 2007
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Thu, 27 Sep 2007 13:19:45 -0600
Subject: [Linux-uvc-devel] Kopete compilation
In-Reply-To: <200709270157.52057.ernih@gmx.de>
References: <200709270157.52057.ernih@gmx.de>
Message-ID: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF701D@calmail1.smarttech.inc>

Hi,


Sent: Wednesday, September 26, 2007 5:58 PM
> Hi,

> i have not installed automake. after installation  make -f
Makefile.cvs 
> have worked, but i get some warnings and error messages. in the
following
> u can see that. are these unimportant warnings or error messages? what
i
> have to do to do not get this messages?

> thanks!

So most of the messages you saw were not errors, they're simply messages
the makefile writes out for information. I noticed two errors that you
might want to look at. 


> Warning: No moc-able header file
> for /home/salsero/kdenetwork/kopete/protocols/jabber/libiris/iris/xmpp
> core/ignore_this_warning

Not sure what's causing this, but a moc-able header file is used by the
Qt GUI library. Good chance you can ignore this error message.

snip...

> checking for X... configure: error: Can't find X libraries. Please
check
> your installation and add the correct paths!

This one means you haven't installed the x-windows development
libraries. 
I don't remember what the package is called, but in Kubuntu you'll want
to use APT to install the needed X packages. Try googling this error,
likely
someone else has encountered it and can point you in the right
direction.

  -- Nathanael



From funtasyspace at yahoo.com  Thu Sep 27 21:48:54 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Thu, 27 Sep 2007 12:48:54 -0700 (PDT)
Subject: [Linux-uvc-devel] Kopete suddenly works :)
Message-ID: <545399.20450.qm@web50006.mail.re2.yahoo.com>

Hi all,

I'm sure that up to yesterday my kopete just showed a green screen in the video camera settings, like other people reported too.
Today it suddenly works. I'm not aware of any changes I made on my system, that could have caused this. Well, I'm happy about that, 
but it's strange... like magic ;-)

my cam: Logitech QuickCam Sphere MP
my system: openSUSE 10.3 RC1

Regards,
J?rg




      Wissenswertes f?r Bastler und Hobby Handwerker. BE A BETTER HEIMWERKER! www.yahoo.de/clever


From ernih at gmx.de  Thu Sep 27 22:19:11 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Thu, 27 Sep 2007 22:19:11 +0200
Subject: [Linux-uvc-devel] Fwd: RE:   Kopete compilation
Message-ID: <200709272219.11786.ernih@gmx.de>

ok i have installed something.
now i get this error message:

checking for KDE... configure: error:
in the prefix, you've chosen, are no KDE headers installed. This will fail.
So, check this please and use another prefix!

what does it mean. what can i do?

thx.

----------  Forwarded Message  ----------

Subject: RE: [Linux-uvc-devel]  Kopete compilation
Date: Donnerstag 27 September 2007
From: "Nathanael Galpin" <NathanaelGalpin at smarttech.com>
To: Linux-uvc-devel at lists.berlios.de

Hi,


Sent: Wednesday, September 26, 2007 5:58 PM
> Hi,

> i have not installed automake. after installation  make -f
Makefile.cvs 
> have worked, but i get some warnings and error messages. in the
following
> u can see that. are these unimportant warnings or error messages? what
i
> have to do to do not get this messages?

> thanks!

So most of the messages you saw were not errors, they're simply messages
the makefile writes out for information. I noticed two errors that you
might want to look at. 


> Warning: No moc-able header file
> for /home/salsero/kdenetwork/kopete/protocols/jabber/libiris/iris/xmpp
> core/ignore_this_warning

Not sure what's causing this, but a moc-able header file is used by the
Qt GUI library. Good chance you can ignore this error message.

snip...

> checking for X... configure: error: Can't find X libraries. Please
check
> your installation and add the correct paths!

This one means you haven't installed the x-windows development
libraries. 
I don't remember what the package is called, but in Kubuntu you'll want
to use APT to install the needed X packages. Try googling this error,
likely
someone else has encountered it and can point you in the right
direction.

  -- Nathanael

-------------------------------------------------------


From NathanaelGalpin at smarttech.com  Thu Sep 27 23:01:54 2007
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Thu, 27 Sep 2007 15:01:54 -0600
Subject: [Linux-uvc-devel] Fwd: RE:   Kopete compilation
In-Reply-To: <200709272219.11786.ernih@gmx.de>
References: <200709272219.11786.ernih@gmx.de>
Message-ID: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF7021@calmail1.smarttech.inc>

Most likely you need to install the KDE development header files. Again,
you'll need to use APT to install this package. It's probably called
something like kde-devel. Google is your best friend! Stick the error
messages into Google and you'll usually find something helpful.

  -- Nathanael
__________________________________________
Sent: Thursday, September 27, 2007 2:19 PM

ok i have installed something.
now i get this error message:

checking for KDE... configure: error:
in the prefix, you've chosen, are no KDE headers installed. This will
fail.
So, check this please and use another prefix!

what does it mean. what can i do?

thx.



From ernih at gmx.de  Thu Sep 27 23:47:25 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Thu, 27 Sep 2007 23:47:25 +0200
Subject: [Linux-uvc-devel] Fwd: RE:  Fwd: RE:   Kopete compilation
Message-ID: <200709272347.25518.ernih@gmx.de>

do u meen adept with apt? i have try it but i get a message that the 
installlation of kde-devel will destroy something. because of that the 
installations ends.

what can i do now?
----------  Forwarded Message  ----------

Subject: RE: [Linux-uvc-devel] Fwd: RE:   Kopete compilation
Date: Donnerstag 27 September 2007
From: "Nathanael Galpin" <NathanaelGalpin at smarttech.com>
To: Linux-uvc-devel at lists.berlios.de

Most likely you need to install the KDE development header files. Again,
you'll need to use APT to install this package. It's probably called
something like kde-devel. Google is your best friend! Stick the error
messages into Google and you'll usually find something helpful.

  -- Nathanael
__________________________________________
Sent: Thursday, September 27, 2007 2:19 PM

ok i have installed something.
now i get this error message:

checking for KDE... configure: error:
in the prefix, you've chosen, are no KDE headers installed. This will
fail.
So, check this please and use another prefix!

what does it mean. what can i do?

thx.

-------------------------------------------------------


From NathanaelGalpin at smarttech.com  Fri Sep 28 00:45:31 2007
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Thu, 27 Sep 2007 16:45:31 -0600
Subject: [Linux-uvc-devel] Fwd: RE:  Fwd: RE:   Kopete compilation
In-Reply-To: <200709272347.25518.ernih@gmx.de>
References: <200709272347.25518.ernih@gmx.de>
Message-ID: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF7022@calmail1.smarttech.inc>

Yes, I mean Adept. I use it from the command line where it's apt-get
install. That's why I refer to it as apt ;).

Can you be a bit more specific with the error? There's not a lot I can
tell you based on that.

The previous build error you had is generated because when Kopete tried
to build, it could not find the KDE header files. Either you don't have
them installed (most likely) or you do and they're somewhere other than
the makefile expects. In the second case, you'd need to modify the
makefile to look in the correct location. Or you might be able to pass a
parameter with the make command overriding the default location.

  -- Nathanael


-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of
ernih at gmx.de
Sent: Thursday, September 27, 2007 3:47 PM
To: Linux-uvc-devel at lists.berlios.de
Subject: [Linux-uvc-devel] Fwd: RE: Fwd: RE: Kopete compilation

do u meen adept with apt? i have try it but i get a message that the 
installlation of kde-devel will destroy something. because of that the 
installations ends.

what can i do now?


From ernih at gmx.de  Fri Sep 28 01:18:51 2007
From: ernih at gmx.de (ernih at gmx.de)
Date: Fri, 28 Sep 2007 01:18:51 +0200
Subject: [Linux-uvc-devel] Fwd: RE: Fwd: RE: Fwd: RE: Kopete compilation
Message-ID: <200709280118.51408.ernih@gmx.de>

Hi,

is it right that i have to install the KDE header files?

how can i install the KDE header files? can u tell me the command, that i have 
type in the terminal.

i wanted to do this:

http://kopete.kde.org/svnaccess.php




----------  Forwarded Message  ----------

Subject: RE: [Linux-uvc-devel] Fwd: RE:  Fwd: RE:   Kopete compilation
Date: Freitag 28 September 2007
From: "Nathanael Galpin" <NathanaelGalpin at smarttech.com>
To: Linux-uvc-devel at lists.berlios.de

Yes, I mean Adept. I use it from the command line where it's apt-get
install. That's why I refer to it as apt ;).

Can you be a bit more specific with the error? There's not a lot I can
tell you based on that.

The previous build error you had is generated because when Kopete tried
to build, it could not find the KDE header files. Either you don't have
them installed (most likely) or you do and they're somewhere other than
the makefile expects. In the second case, you'd need to modify the
makefile to look in the correct location. Or you might be able to pass a
parameter with the make command overriding the default location.

  -- Nathanael


-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of
ernih at gmx.de
Sent: Thursday, September 27, 2007 3:47 PM
To: Linux-uvc-devel at lists.berlios.de
Subject: [Linux-uvc-devel] Fwd: RE: Fwd: RE: Kopete compilation

do u meen adept with apt? i have try it but i get a message that the 
installlation of kde-devel will destroy something. because of that the 
installations ends.

what can i do now?

-------------------------------------------------------


From linux at rubli.info  Fri Sep 28 05:03:04 2007
From: linux at rubli.info (Martin Rubli)
Date: Fri, 28 Sep 2007 11:03:04 +0800
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <200709242226.29077.laurent.pinchart@skynet.be>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
	<200709240140.02629.juan.baptiste@gmail.com>
	<46F76122.5040008@gmx.net>
	<200709242226.29077.laurent.pinchart@skynet.be>
Message-ID: <op.tzcf3ewm42iof8@mrubli-nb.am.logitech.com>

On Tue, 25 Sep 2007 04:26:28 +0800, Laurent Pinchart  
<laurent.pinchart at skynet.be> wrote:

> Hi Tom,
>
> On Monday 24 September 2007, Tom St wrote:
>> Hello Listmembers, Hello Laurent,
>> What about the idea to add another column to the list of supported
>> devices, which shows some kind of ranking like:
>>
>>     * works for most users (++),
>>     * some issues (+),
>>     * no issues reported (+++)?
>>
>> Would also be an idea to have such a list in the wiki and include hints
>> for workarounds like "initialize audio modules first, then load video
>> modules" for certain webcams.
>>
>> What do you  think?
>
> The boundary between "works for most users" and "some issues" is  
> difficult to
> define. I added a "Status" column to the supported devices list. The  
> device
> is either supported (green check mark) or supported with some issues the  
> user
> should be aware of (warning sign with footnote links).
>
> Please let me know what you think of this new supported devices list.

Good list! A few small comments:

1. The camera with VID/PID 046C/09B0 is based on the Sonix SN9C21x chip  
and isn't affected by the bugs. I think it deserves a green checkmark. :-)

2. Your list is missing some Logitech cameras. You may want to sync it  
with this one:
http://www.quickcamteam.net/hcl/linux/logitech-webcams

3. There's some information on the mentioned Logitech hardware bug here:
http://www.quickcamteam.net/documentation/faq/logitech-webcam-linux-usb-incompatibilities
Would you mind adding the link to footnote 1 in your device compatibility  
list?

Cheers,
Martin


From linux at rubli.info  Fri Sep 28 04:45:16 2007
From: linux at rubli.info (Martin Rubli)
Date: Fri, 28 Sep 2007 10:45:16 +0800
Subject: [Linux-uvc-devel] Control the status LED?
In-Reply-To: <200709262245.20226.laurent.pinchart@skynet.be>
References: <105228.96919.qm@web50008.mail.re2.yahoo.com>
	<200709262245.20226.laurent.pinchart@skynet.be>
Message-ID: <op.tzce9qud42iof8@mrubli-nb.am.logitech.com>

J?rg, Laurent,

On Thu, 27 Sep 2007 04:45:20 +0800, Laurent Pinchart  
<laurent.pinchart at skynet.be> wrote:

>> does the uvcvideo module export some controls that can be set via the  
>> sysfs filesystem? I'm looking for a way to toggle the status LED on and  
>> off. Or is this directly controlled my the hardware?
>>
>> My cam is the Logitech QuickCam Sphere MP.
>
> The LED is directly controlled by the hardware. There is no way to turn  
> it on or off from the computer.

What Laurent said is partially true, the LED is by default controlled by  
the hardware. However, there is a way of influencing the behavior of the  
LED. There is an extension unit control that allows to set the LED to  
states like On, Off, Blinking, and Auto. The latter one is just the  
default.

I'll try to write up the necessary information in a quick spec and then  
post it. I may take me a few days though before I'll get around to do it,  
so if you're in a hurry feel free to drop me a quick e-mail and I can give  
you some raw information.

Cheers,
Martin


From mxhaard at magic.fr  Fri Sep 28 09:49:35 2007
From: mxhaard at magic.fr (Michel Xhaard)
Date: Fri, 28 Sep 2007 09:49:35 +0200
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <op.tzcf3ewm42iof8@mrubli-nb.am.logitech.com>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
	<200709242226.29077.laurent.pinchart@skynet.be>
	<op.tzcf3ewm42iof8@mrubli-nb.am.logitech.com>
Message-ID: <200709280949.35821.mxhaard@magic.fr>

Le Vendredi 28 Septembre 2007 05:03, Martin Rubli a ?crit?:
> On Tue, 25 Sep 2007 04:26:28 +0800, Laurent Pinchart
>
> <laurent.pinchart at skynet.be> wrote:
> > Hi Tom,
> >
> > On Monday 24 September 2007, Tom St wrote:
> >> Hello Listmembers, Hello Laurent,
> >> What about the idea to add another column to the list of supported
> >> devices, which shows some kind of ranking like:
> >>
> >>     * works for most users (++),
> >>     * some issues (+),
> >>     * no issues reported (+++)?
> >>
> >> Would also be an idea to have such a list in the wiki and include hints
> >> for workarounds like "initialize audio modules first, then load video
> >> modules" for certain webcams.
> >>
> >> What do you  think?
> >
> > The boundary between "works for most users" and "some issues" is
> > difficult to
> > define. I added a "Status" column to the supported devices list. The
> > device
> > is either supported (green check mark) or supported with some issues the
> > user
> > should be aware of (warning sign with footnote links).
> >
> > Please let me know what you think of this new supported devices list.
>
> Good list! A few small comments:
>
> 1. The camera with VID/PID 046C/09B0 is based on the Sonix SN9C21x chip
> and isn't affected by the bugs. I think it deserves a green checkmark. :-)
>
> 2. Your list is missing some Logitech cameras. You may want to sync it
> with this one:
> http://www.quickcamteam.net/hcl/linux/logitech-webcams
>
> 3. There's some information on the mentioned Logitech hardware bug here:
> http://www.quickcamteam.net/documentation/faq/logitech-webcam-linux-usb-inc
>ompatibilities Would you mind adding the link to footnote 1 in your device
> compatibility list?
>
> Cheers,
> Martin
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
Martin,
Can you change spca5xx on quickcamteam.net by gspca. spca5xx is now deprecated 
and did not work for a lot of Logitech webcams
Bests regards
-- 
Michel Xhaard
http://mxhaard.free.fr


From laurent.pinchart at skynet.be  Fri Sep 28 22:37:55 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 28 Sep 2007 22:37:55 +0200
Subject: [Linux-uvc-devel] Which cameras really work with linux-uvc?
In-Reply-To: <op.tzcf3ewm42iof8@mrubli-nb.am.logitech.com>
References: <a7e90f9d0709190609h7983ea1cxf02ea529a18dcf67@mail.gmail.com>
	<200709242226.29077.laurent.pinchart@skynet.be>
	<op.tzcf3ewm42iof8@mrubli-nb.am.logitech.com>
Message-ID: <200709282237.56045.laurent.pinchart@skynet.be>

Hi Martin,

On Friday 28 September 2007, Martin Rubli wrote:
> On Tue, 25 Sep 2007 04:26:28 +0800, Laurent Pinchart
>
> <laurent.pinchart at skynet.be> wrote:
> > Hi Tom,
> >
> > On Monday 24 September 2007, Tom St wrote:
> >> Hello Listmembers, Hello Laurent,
> >> What about the idea to add another column to the list of supported
> >> devices, which shows some kind of ranking like:
> >>
> >>     * works for most users (++),
> >>     * some issues (+),
> >>     * no issues reported (+++)?
> >>
> >> Would also be an idea to have such a list in the wiki and include hints
> >> for workarounds like "initialize audio modules first, then load video
> >> modules" for certain webcams.
> >>
> >> What do you  think?
> >
> > The boundary between "works for most users" and "some issues" is
> > difficult to
> > define. I added a "Status" column to the supported devices list. The
> > device
> > is either supported (green check mark) or supported with some issues the
> > user
> > should be aware of (warning sign with footnote links).
> >
> > Please let me know what you think of this new supported devices list.
>
> Good list! A few small comments:
>
> 1. The camera with VID/PID 046C/09B0 is based on the Sonix SN9C21x chip
> and isn't affected by the bugs. I think it deserves a green checkmark. :-)
>
> 2. Your list is missing some Logitech cameras. You may want to sync it
> with this one:
> http://www.quickcamteam.net/hcl/linux/logitech-webcams

Product 046c:09b0 has been reported to work. You can update your list :-)

> 3. There's some information on the mentioned Logitech hardware bug here:
> http://www.quickcamteam.net/documentation/faq/logitech-webcam-linux-usb-inc
>ompatibilities Would you mind adding the link to footnote 1 in your device
> compatibility list?

Thanks for the information. I updated the website. I'll upload the new version 
when Berlios will be back :-/

Cheers,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Sep 28 22:38:57 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 28 Sep 2007 22:38:57 +0200
Subject: [Linux-uvc-devel] Control the status LED?
In-Reply-To: <op.tzce9qud42iof8@mrubli-nb.am.logitech.com>
References: <105228.96919.qm@web50008.mail.re2.yahoo.com>
	<200709262245.20226.laurent.pinchart@skynet.be>
	<op.tzce9qud42iof8@mrubli-nb.am.logitech.com>
Message-ID: <200709282238.57445.laurent.pinchart@skynet.be>

Hi Martin,

On Friday 28 September 2007, Martin Rubli wrote:
> J?rg, Laurent,
>
> On Thu, 27 Sep 2007 04:45:20 +0800, Laurent Pinchart
>
> <laurent.pinchart at skynet.be> wrote:
> >> does the uvcvideo module export some controls that can be set via the
> >> sysfs filesystem? I'm looking for a way to toggle the status LED on and
> >> off. Or is this directly controlled my the hardware?
> >>
> >> My cam is the Logitech QuickCam Sphere MP.
> >
> > The LED is directly controlled by the hardware. There is no way to turn
> > it on or off from the computer.
>
> What Laurent said is partially true, the LED is by default controlled by
> the hardware. However, there is a way of influencing the behavior of the
> LED. There is an extension unit control that allows to set the LED to
> states like On, Off, Blinking, and Auto. The latter one is just the
> default.

My bad, I didn't know about that.

> I'll try to write up the necessary information in a quick spec and then
> post it. I may take me a few days though before I'll get around to do it,
> so if you're in a hurry feel free to drop me a quick e-mail and I can give
> you some raw information.

Ok. No hurry in my side. I'll try to merge the dynamic controls branch to the 
trunk this weekend to make playing with vendor controls easier.

Cheers,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Sep 28 22:42:01 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 28 Sep 2007 22:42:01 +0200
Subject: [Linux-uvc-devel] Bulk support
In-Reply-To: <004301c8010e$ce979670$b200a8c0@fastglobale.locale>
References: <004301c8010e$ce979670$b200a8c0@fastglobale.locale>
Message-ID: <200709282242.01615.laurent.pinchart@skynet.be>

Hi Claudio,

On Thursday 27 September 2007, Claudio Montemaggiore - FAST S.p.A. wrote:
> Hi,
> I'm testing an embedded system  with a usb controller driver which doesn't
> support iso transfer. I would like to interface this board with a webcam.
> The problem is that the majotity of the recent webcams are based on
> isochronous transfer. If the UVC driver supports bulk transfer, is there
> any webcam I can use with it using bulk transfer?

The only cameras I know of that support bulk transfers are the Fujifilm 
FinePix, Pico iMage and Bodelin Proscope HR.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Sep 28 22:50:23 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 28 Sep 2007 22:50:23 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
In-Reply-To: <20070926205417.GA11404@pinux.info>
References: <20070921201909.GA5543@pinux.info>
	<200709262249.37683.laurent.pinchart@skynet.be>
	<20070926205417.GA11404@pinux.info>
Message-ID: <200709282250.23456.laurent.pinchart@skynet.be>

On Wednesday 26 September 2007, Carles Pina i Estany wrote:
> Hello again,
>
> On Sep/26/2007, Laurent Pinchart wrote:
> > > > > I have a Logitech Quickcam Pro for Notebooks, that seems that is
> > > > > well supported.
> > > > >
> > > > > But is not working. I'm using a Kernel 2.6.22, compiled myself,
> > > > > with Video4Linux enabled. In dmesg I can see:
> > > > >
> > > > > ------------------
> > > > > Linux video capture interface: v2.00
> > > > > uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c3)
> > > > > uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -110 (exp.
> > > > > 26). uvcvideo: Failed to query (129) UVC control 1 (unit 0) : -110
> > > > > (exp. 26). uvcvideo: Failed to initialize the device (-5).
> > > > > usbcore: registered new interface driver uvcvideo
> > > > > USB Video Class driver (v0.1.0)
> > > > > ----------------
> > > > > /dev/video0 is not created
> > > > >
> > > > > What can I do? I've read something about firmware bug, etc. but
> > > > > last year this camera worked :-) just I have not used and now...
> > > > > not working.
> > >
> > > If I load in usual way (modprobe, etc.) I guess that loads some other
> > > modules and I don't have the "Unkown symbol" error. If I unload and
> > > then I load again, I get the same error in dmesg (Failed to query (135)
> > > UVC control)
> >
> > You have to make sure the system won't load the module automatically when
> > you plug your webcam in, otherwise uvcvideo.ko will be associated with
> > the camera before usbaudio.ko, and initialisation will fail.
>
> I'm 100% sure that has not been loaded before, this time.
> And even when is not working, usbaudio.ko is not loaded:
> pinux:/lib/modules/2.6.22# find . -iname "*usbadio*"
> pinux:/lib/modules/2.6.22#
>
> > > carles at pinux:~$ lsmod|grep -i video
> > > uvcvideo               44804  0
> > > compat_ioctl32          1408  1 uvcvideo
> > > videodev               26112  1 uvcvideo
> > > v4l2_common            14464  2 uvcvideo,videodev
> > > usbcore               117896  5 uvcvideo,usb_storage,usbhid,uhci_hcd
> > > carles at pinux:~$
> >
> > Try to load videodev and compat_ioctl32 (using modprobe) before you
> > insmod ./uvcvideo.ko. uvcvideo.ko depends on videodev and compat_ioctl32,
> > but insmod doesn't load dependencies automatically.
>
> I loaded it, then I plugged the camera, then I insmoded uvcvideo.ko
> (which one is in other directory, not in /lib/modules/...). But not
> worked :-(
>
> What else I can do? I think that should be some software problem, one
> year ago worked :-)

Just to make sure module-init-tools didn't play tricks on you:

1. plug your webcam
2. run lsmod to check that usbaudio is loaded and that uvcvideo is *not* 
loaded
3. load uvcvideo
4. if it still fails, show me the dmesg output

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Sep 28 23:03:55 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 28 Sep 2007 23:03:55 +0200
Subject: [Linux-uvc-devel] webcam on LG R400: module loads but does not
	work
In-Reply-To: <7c028c160709260801u79bf092dlf3ceaf8e22d02dc0@mail.gmail.com>
References: <7c028c160709260750n1ba6aa17qc04f34b721b8443c@mail.gmail.com>
	<7c028c160709260801u79bf092dlf3ceaf8e22d02dc0@mail.gmail.com>
Message-ID: <200709282303.55622.laurent.pinchart@skynet.be>

Hi Thadeu,

On Wednesday 26 September 2007, Thadeu Penna wrote:
> Sorry for the noise
> UPDATE: luvcview -f yuv works!

Thanks for the report, and no worries.

> How can I use the other softwares amsn, camorama, etc. ?

You need a software that supports V4L2. Camorama supports V4L1 only so it 
won't work. I think aMsn supports V4L2. Ekiga does.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Sep 29 00:02:09 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 29 Sep 2007 00:02:09 +0200
Subject: [Linux-uvc-devel] uvcvideo: Found UVC 1.00 device SANYO Digital
	Camera (0474:0238)
In-Reply-To: <20070926184145.9c5a27c8.lars.taeuber@gmx.net>
References: <20070924232655.9f0182fb.lars.taeuber@gmx.net>
	<200709252141.40844.laurent.pinchart@skynet.be>
	<20070926184145.9c5a27c8.lars.taeuber@gmx.net>
Message-ID: <200709290002.09660.laurent.pinchart@skynet.be>

Hi Lars,

On Wednesday 26 September 2007, Lars T?uber wrote:
> Good evening Laurent,
>
> > Could you please post the output of
> >
> > lsusb -v -d 0474:0238
>
> of course:
> $ lsusb -v -d 0474:0238

Thanks.

> Bus 001 Device 004: ID 0474:0238 Sanyo Electric Co., Ltd
> Device Descriptor:
>   bLength                18
>   bDescriptorType         1
>   bcdUSB               2.00
>   bDeviceClass          239 Miscellaneous Device
>   bDeviceSubClass         2 Common Class
>   bDeviceProtocol         1 Interface Association
>   bMaxPacketSize0        64
>   idVendor           0x0474 Sanyo Electric Co., Ltd
>   idProduct          0x0238
>   bcdDevice            1.00
>   iManufacturer           1
>   iProduct                2
>   iSerial                 3
[snip]

That's a new one. I havent seen that webcam before. It might be based on a new 
chipset.

I'm afraid there's not much I can do. The camera doesn't define any control, 
so we can't test them to see if the camera is still somehow alive after the 
first luvcview run.

I suspect either a timing issue, or more probably some kind of firmware bug 
not triggered by Windows. The Windows driver might send an optional command 
to the webcam when stopping the stream, and failing to send that command 
might trigger a bug.

Would you be able to get a USB trace when the webcam is plugged in a Windows 
box ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Sep 29 00:16:24 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 29 Sep 2007 00:16:24 +0200
Subject: [Linux-uvc-devel] Didn't work with webcam(=livecam program of
	xawtv3.95)
In-Reply-To: <20070927160731.8F60.HIROFUMI@momose.com>
References: <20070925181704.50CB.HIROFUMI@momose.com>
	<200709252202.28867.laurent.pinchart@skynet.be>
	<20070927160731.8F60.HIROFUMI@momose.com>
Message-ID: <200709290016.24552.laurent.pinchart@skynet.be>

Hi Hirofumi,

On Thursday 27 September 2007, Hirofumi Momose wrote:
> Hello Laurent,
>
> Here, I traced driver with webcam application.
> I think uvc_vm_open/close does not correspond with mmap/unmap sys-calls.
>
> webcam(app): mmap()
>  -> uvc_v4l2_mmap()
>   -> uvc_vm_open() ... vma_use_count = 0->1
>
> webcam: munmap()
>  -> uvc_vm_open() ...  vma_use_count = 1->2
>  -> uvc_vm_close() ... vma_use_count = 2->1

Check that the start and length parameters given to munmap() are the same as 
the mmap() return value and length parameter. What are their values ?
>
> webcam: exit
>  -> uvc_vm_close() ... vma_use_count = 1->0
>
> My system is:
>  CPU ARM9
>  Kernel 2.6.22

Best regards,

Laurent Pinchart


From hirofumi at momose.com  Sat Sep 29 10:04:46 2007
From: hirofumi at momose.com (Hirofumi Momose)
Date: Sat, 29 Sep 2007 17:04:46 +0900
Subject: [Linux-uvc-devel] Didn't work with webcam(=livecam program of
	xawtv3.95)
In-Reply-To: <200709290016.24552.laurent.pinchart@skynet.be>
References: <20070927160731.8F60.HIROFUMI@momose.com>
	<200709290016.24552.laurent.pinchart@skynet.be>
Message-ID: <20070929165217.C991.HIROFUMI@momose.com>

Hello Laurent,

On Sat, 29 Sep 2007 00:16:24 +0200
Laurent Pinchart <laurent.pinchart at skynet.be> wrote:
> Check that the start and length parameters given to munmap() are the same as 
> the mmap() return value and length parameter. What are their values ?

Bingo !
Address is identical, but size differs. May be bug of xawtv.

*** xawtv-3.95.orig/libng/plugins/drv0-v4l2.c   Sat Feb 12 02:56:24 2005
--- xawtv-3.95/libng/plugins/drv0-v4l2.c        Sat Sep 29 16:50:08 2007
***************
*** 768,773 ****
--- 768,774 ----
      /* get it */
      memset(&buf,0,sizeof(buf));
      buf.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
+     buf.memory = V4L2_MEMORY_MMAP;
      if (-1 == xioctl(h->fd,VIDIOC_DQBUF,&buf, 0))
        return -1;
      h->waiton++;
***************
*** 865,871 ****
            ng_waiton_video_buf(&h->buf_me[i]);
        if (ng_debug)
            print_bufinfo(&h->buf_v4l2[i]);
!       if (-1 == munmap(h->buf_me[i].data,h->buf_me[i].size))
            perror("munmap");
      }
      h->queue = 0;
--- 866,872 ----
            ng_waiton_video_buf(&h->buf_me[i]);
        if (ng_debug)
            print_bufinfo(&h->buf_v4l2[i]);
!       if (-1 == munmap(h->buf_me[i].data,h->buf_v4l2[i].length))
            perror("munmap");
      }
      h->queue = 0;

mmap problem cleared. However still it fails at second capture.
Now it fails at select() in second capture. 
I continue tracing...

Regards,
-- 
Hirofumi Momose <hirofumi at momose.com>



From lars.taeuber at gmx.net  Sat Sep 29 13:31:29 2007
From: lars.taeuber at gmx.net (Lars =?ISO-8859-15?Q?T=E4uber?=)
Date: Sat, 29 Sep 2007 11:31:29 +0000
Subject: [Linux-uvc-devel] uvcvideo: Found UVC 1.00 device SANYO Digital
 Camera (0474:0238)
In-Reply-To: <200709290002.09660.laurent.pinchart@skynet.be>
References: <20070924232655.9f0182fb.lars.taeuber@gmx.net>
	<200709252141.40844.laurent.pinchart@skynet.be>
	<20070926184145.9c5a27c8.lars.taeuber@gmx.net>
	<200709290002.09660.laurent.pinchart@skynet.be>
Message-ID: <20070929113129.fbfe2e1d.lars.taeuber@gmx.net>

Hi Laurent,

On Sat, 29 Sep 2007 00:02:09 +0200 Laurent Pinchart <laurent.pinchart at skynet.be> wrote:
> That's a new one. I havent seen that webcam before. It might be based on a new 
> chipset.

actually it's not a pure webcam but a mixture of digicam and camcorder with a webcam feature. This model is some years old you can't buy it anymore.
You can find some more info here: http://www.sanyo-dsc.com/english/products/vpc_hd1/spec/index.html

 
> I'm afraid there's not much I can do. The camera doesn't define any control, 
> so we can't test them to see if the camera is still somehow alive after the 
> first luvcview run.
> 
> I suspect either a timing issue, or more probably some kind of firmware bug 
> not triggered by Windows. The Windows driver might send an optional command 
> to the webcam when stopping the stream, and failing to send that command 
> might trigger a bug.
> 
> Would you be able to get a USB trace when the webcam is plugged in a Windows 
> box ?

I don't have a windows box but I could ask a friend of mine. How can I get such a trace?

Lars


From cass at skynet.be  Sun Sep 30 11:38:33 2007
From: cass at skynet.be (Guillaume Desmottes)
Date: Sun, 30 Sep 2007 11:38:33 +0200
Subject: [Linux-uvc-devel] uvcvideo: Failed to query (135)...
In-Reply-To: <200709220029.15705.laurent.pinchart@skynet.be>
References: <20070921201909.GA5543@pinux.info>
	<200709220029.15705.laurent.pinchart@skynet.be>
Message-ID: <1191145113.22070.2.camel@cass-wks>


Le samedi 22 septembre 2007 ? 00:29 +0200, Laurent Pinchart a ?crit :
> The webcam audio interface must be initialised before the video interface. 
> Linux will by default initialise the video interface first, so you need to 
> remove the uvcvideo.ko module from the /lib/modules subdirectory where it 
> gets loaded automatically, and load it manually after plugging the webcam.
> 

Just wondering. Is that ok if I manually unload the uvcvideo driver
after booting, re-plug the device and the re-load the uvcvideo driver?
Or am I fucked as soon the uvcvideo driver was loaded before the
usbaudio during the boot?

Do you know if we have any chance to see a real fix in the next kernel
releases?

thanks

	G.

-- 
Guillaume Desmottes <cass at skynet.be>
Jabber <cassidy at jabber.belnet.be>
GPG 1024D/711E31B1 | 1B5A 1BA8 11AA F0F1 2169  E28A AC55 8671 711E 31B1



From cass at skynet.be  Sun Sep 30 11:43:39 2007
From: cass at skynet.be (Guillaume Desmottes)
Date: Sun, 30 Sep 2007 11:43:39 +0200
Subject: [Linux-uvc-devel] Problems with QuickCam Pro 5000
In-Reply-To: <1189944535.6502.2.camel@cass-wks>
References: <1177199442.26838.11.camel@cass-wks>
	<200709122348.13859.laurent.pinchart@skynet.be>
	<1189636372.8883.14.camel@cass-wks>
	<200709160035.58444.laurent.pinchart@skynet.be>
	<1189944535.6502.2.camel@cass-wks>
Message-ID: <1191145422.22070.6.camel@cass-wks>


Le dimanche 16 septembre 2007 ? 14:08 +0200, Guillaume Desmottes a
?crit :
> I checked in gstreamer and the code managing the choice of the streaming
> method has been changed in the latest release.
> I filled a bug report http://bugzilla.gnome.org/show_bug.cgi?id=477456
> 

It was a gstreamer bug and it's fixed in Gutsy now.

Cool, only 2 remaining bugs to solve (hardware bug and the
usbaudio/uvcvideo problem) and I'll be able to use my webcam. :D

	G.

-- 
Guillaume Desmottes <cass at skynet.be>
Jabber <cassidy at jabber.belnet.be>
GPG 1024D/711E31B1 | 1B5A 1BA8 11AA F0F1 2169  E28A AC55 8671 711E 31B1



From hirofumi at momose.com  Sun Sep 30 18:11:42 2007
From: hirofumi at momose.com (Hirofumi Momose)
Date: Mon, 01 Oct 2007 01:11:42 +0900
Subject: [Linux-uvc-devel] webcam didn't work completely with rev 130
Message-ID: <20071001010423.0F60.HIROFUMI@momose.com>

Hello, 

I updated to rev 130. But webcam didn't work completely.
Kernel said:

kernel: Unable to handle kernel NULL pointer dereference at virtual
address 0000000d
kernel: pgd = c1314000
kernel: [0000000d] *pgd=0299d031, *pte=00000000, *ppte=00000000
kernel: Internal error: Oops: 1 [#15]
kernel: Modules linked in: uvcvideo compat_ioctl32 videodev v4l1_compat
v4l2_common
 kernel: CPU: 0    Not tainted  (2.6.22 #12)
kernel: PC is at __uvc_find_control+0x84/0xdc [uvcvideo]
kernel: LR is at release_console_sem+0x1ec/0x224

...snipped...

kernel: Backtrace:
kernel: [<bf01971c>] (__uvc_find_control+0x0/0xdc [uvcvideo]) from
[<bf019838>] (uvc_find_control+0x40/0x144 [uvcvideo])
kernel: [<bf0197f8>] (uvc_find_control+0x0/0x144 [uvcvideo]) from
[<bf017708>] (uvc_v4l2_do_ioctl+0x384/0xeac [uvcvideo])
kernel: [<bf017384>] (uvc_v4l2_do_ioctl+0x0/0xeac [uvcvideo]) from
[<bf00e930>] (video_usercopy+0x210/0x33c [videodev])
kernel: [<bf00e720>] (video_usercopy+0x0/0x33c [videodev]) from

...snipped...

Something wrong at uvc_find_control() or related data.
But xawtv still work properly. Umm...

Regards,
-- 
Hirofumi Momose <hirofumi at momose.com>



From funtasyspace at yahoo.com  Sun Sep 30 20:10:06 2007
From: funtasyspace at yahoo.com (=?iso-8859-1?Q?J=F6rg_Hermsdorf?=)
Date: Sun, 30 Sep 2007 11:10:06 -0700 (PDT)
Subject: [Linux-uvc-devel] shared access from several applications
	simulataneously?
Message-ID: <420457.76677.qm@web50012.mail.re2.yahoo.com>

Hi everybody,

I wonder if it would be possible to access my webcam with several applications simultaneously?
I would like to stream my cam 24/7 via VLC, but want to be able to use it with wengophone at the 
same time, without killing the VLC server.
I know that v4l2 applications bind to the video device exclusively, but wouldn't it be possible to setup 
kind of a shadow video device which is just a copy of the original v4l2 device? This shadow device doesn't 
need to implement any controls, just stream a copy of all frames that are sent from the cam to the primary 
video device (/dev/video0), so other, secondary applications can just "listen" to the stream.

Best regards,
J?rg




      ________ 
Yahoo! Clever: Stellen Sie Fragen und finden Sie Antworten. Teilen Sie Ihr Wissen. www.yahoo.de/clever



