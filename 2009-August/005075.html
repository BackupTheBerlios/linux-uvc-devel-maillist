<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] luvcview request from Xavier
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20luvcview%20request%20from%20Xavier&In-Reply-To=%3C20090821165738.709fabe5%40myhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005081.html">
   <LINK REL="Next"  HREF="005085.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] luvcview request from Xavier</H1>
    <B>Christoph Albert</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20luvcview%20request%20from%20Xavier&In-Reply-To=%3C20090821165738.709fabe5%40myhost%3E"
       TITLE="[Linux-uvc-devel] luvcview request from Xavier">Mad-HH at gmx.de
       </A><BR>
    <I>Fri Aug 21 18:57:38 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005081.html">[Linux-uvc-devel] MSI StarCam 370i Webcam
</A></li>
        <LI>Next message: <A HREF="005085.html">[Linux-uvc-devel] luvcview request from Xavier
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5075">[ date ]</a>
              <a href="thread.html#5075">[ thread ]</a>
              <a href="subject.html#5075">[ subject ]</a>
              <a href="author.html#5075">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Xavier,

The error message from luvcview is : 


[<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">chris at myhost</A> ~]$ luvcview 
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
X Error of failed request:  BadAlloc (insufficient resources for operation)
  Major opcode of failed request:  132 (XVideo)
  Minor opcode of failed request:  19 ()
  Serial number of failed request:  27
  Current serial number in output stream:  28

Well, i didn't tell you all, that a i have now since 1 year Arch Linux. In first time
with Arch linux i had kernel 2.6.26 or 27 i don't know which version it was. I am not
sure,that my webcam run with skype.In the next time i upgraded the kernel many times and
now it's a 2.6.30-5 Kernel.I think it is a kernel problem or other problem.
it can have  much possibilities. maybe the uvc-driver in the new kernel don't run with
my webcam, or v4l don't run too with my webcam.
Sorry for my bad englisch :)

Best regards
Christoph Albert




Am Fri, 21 Aug 2009 08:35:39 +0200
schrieb <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel-request at lists.berlios.de</A>:

&gt;<i> Send Linux-uvc-devel mailing list submissions to
</I>&gt;<i> 	<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> 
</I>&gt;<i> To subscribe or unsubscribe via the World Wide Web, visit
</I>&gt;<i> 	<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>&gt;<i> or, via email, send a message with subject or body 'help' to
</I>&gt;<i> 	<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel-request at lists.berlios.de</A>
</I>&gt;<i> 
</I>&gt;<i> You can reach the person managing the list at
</I>&gt;<i> 	<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel-owner at lists.berlios.de</A>
</I>&gt;<i> 
</I>&gt;<i> When replying, please edit your Subject line so it is more specific
</I>&gt;<i> than &quot;Re: Contents of Linux-uvc-devel digest...&quot;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Today's Topics:
</I>&gt;<i> 
</I>&gt;<i>    1. Re: integrated webcam (Xavier Bestel)
</I>&gt;<i>    2. Control Pipe Stall (Jacob Fehr)
</I>&gt;<i>    3. Re: 093a:2700 camera not work (Paulo Assis)
</I>&gt;<i>    4. MSI StarCam 370i Webcam (Dotan Cohen)
</I>&gt;<i>    5. Re: MSI StarCam 370i Webcam (Paulo Assis)
</I>&gt;<i>    6. Re: MSI StarCam 370i Webcam (Dotan Cohen)
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ----------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> Message: 1
</I>&gt;<i> Date: Thu, 20 Aug 2009 14:38:09 +0200
</I>&gt;<i> From: Xavier Bestel &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">xavier.bestel at free.fr</A>&gt;
</I>&gt;<i> Subject: Re: [Linux-uvc-devel] integrated webcam
</I>&gt;<i> To: Christoph Albert &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Mad-HH at gmx.de</A>&gt;
</I>&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> Message-ID: &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">1250771889.20797.55.camel at skunk</A>&gt;
</I>&gt;<i> Content-Type: text/plain
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> On Wed, 2009-08-19 at 22:07 +0000, Christoph Albert wrote:
</I>&gt;<i> &gt; My webcam works on vlc ,the mediaplayer,but not in skype( the screen
</I>&gt;<i> &gt; is black) ,the video-messenger. luvcview crashes on start.
</I>&gt;<i> 
</I>&gt;<i> Could you send us the messages it prints when it crashes ?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> 	Xav
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------
</I>&gt;<i> 
</I>&gt;<i> Message: 2
</I>&gt;<i> Date: Thu, 20 Aug 2009 11:34:19 -0600
</I>&gt;<i> From: Jacob Fehr &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">JacobFehr at smarttech.com</A>&gt;
</I>&gt;<i> Subject: [Linux-uvc-devel] Control Pipe Stall
</I>&gt;<i> To: &quot;'<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel at lists.berlios.de</A>'&quot;
</I>&gt;<i> 	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel at lists.berlios.de</A>&gt;
</I>&gt;<i> Message-ID:
</I>&gt;<i> 	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">833B0B09C5041D42A9924A3BA6A12B9A024D9EC7C4 at CALMAIL-CMS.smarttech.inc</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=&quot;us-ascii&quot;
</I>&gt;<i> 
</I>&gt;<i> I have a UVC camera that will stall the control pipe when I try to access the extension
</I>&gt;<i> unit. At first I thought this was a firmware issue because the kernel docs say that a
</I>&gt;<i> device can't stall its control pipe. I did a little more digging and found that it
</I>&gt;<i> isn't that absolute. The USB spec suggests that control pipe shouldn't but it can if it
</I>&gt;<i> wants to raise a protocol error. I looked at the UVC source code in the kernel and
</I>&gt;<i> found that it doesn't clear the stall when it gets EPIPE. I modified the UVC driver to
</I>&gt;<i> call usb_clear_halt() after it gets EPIPE and this seems to resolve the issues that I
</I>&gt;<i> had with my device. I'm thinking of submitting my fix back to the kernel maintainers
</I>&gt;<i> but thought I'd post here first. Is there anything that I have overlooked?
</I>&gt;<i> 
</I>&gt;<i> Jacob Fehr
</I>&gt;<i> SMART Technologies ULC
</I>&gt;<i> 
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> An HTML attachment was scrubbed...
</I>&gt;<i> URL:
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090820/32e2dd17/attachment-0001.html">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090820/32e2dd17/attachment-0001.html</A> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------
</I>&gt;<i> 
</I>&gt;<i> Message: 3
</I>&gt;<i> Date: Thu, 20 Aug 2009 18:35:55 +0100
</I>&gt;<i> From: Paulo Assis &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">pj.assis at gmail.com</A>&gt;
</I>&gt;<i> Subject: Re: [Linux-uvc-devel] 093a:2700 camera not work
</I>&gt;<i> To: Laurent Pinchart &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">laurent.pinchart at ideasonboard.com</A>&gt;
</I>&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> Message-ID:
</I>&gt;<i> 	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">59cf47a80908201035mbdfe024s4345cad0487af787 at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=ISO-8859-1
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> This seems a recurrent problem.
</I>&gt;<i> Make sure that SDL was compiled with all the necessary X headers, if
</I>&gt;<i> not then X support will be disabled.
</I>&gt;<i> If you are using a binary distribution make sure that your
</I>&gt;<i> applications aren't linking against some old (forgotten) SDL library
</I>&gt;<i> version.
</I>&gt;<i> 
</I>&gt;<i> use the following command to check library versions:
</I>&gt;<i> 
</I>&gt;<i> ldd luvcview.
</I>&gt;<i> 
</I>&gt;<i> There is a thread on a similar issue here:
</I>&gt;<i> <A HREF="http://forums.quickcamteam.net/showthread.php?tid=861">http://forums.quickcamteam.net/showthread.php?tid=861</A>
</I>&gt;<i> 
</I>&gt;<i> best regards,
</I>&gt;<i> Paulo
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 2009/8/20 Laurent Pinchart &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">laurent.pinchart at ideasonboard.com</A>&gt;:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Wednesday 19 August 2009 10:53:00 laiyujun wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The name of my camera is &quot;ANC 230&quot;.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; I list the device node in /dev:
</I>&gt;<i> &gt;&gt; ---------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">somebody at debian</A>:~$ ls /dev/video0 -al
</I>&gt;<i> &gt;&gt; crw-rw---- 1 root video 81, 0 08-16 12:02 /dev/video0
</I>&gt;<i> &gt;&gt; ---------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt; It seems that video0 locates there.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Unless you have multiple video devices, that's the camera, yes.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; When I try &quot;luvcview&quot;, it always return errors:
</I>&gt;<i> &gt;&gt; ---------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">somebody at debian</A>:~$ luvcview -d /dev/video0
</I>&gt;<i> &gt;&gt; luvcview 0.2.4
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Couldn't initialize SDL: No available video device
</I>&gt;<i> &gt;&gt; ---------------------------------------------------------------------------
</I>&gt;<i> &gt;&gt; What should I do?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The message is a bit misleading. It doesn't refer to the video input device
</I>&gt;<i> &gt; (camera) but to the video output device. luvcview encounters trouble
</I>&gt;<i> &gt; initializing the connection with the X server or something similar. I'm afraid
</I>&gt;<i> &gt; I can't help you there.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Laurent Pinchart
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; Linux-uvc-devel mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> &gt; <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------
</I>&gt;<i> 
</I>&gt;<i> Message: 4
</I>&gt;<i> Date: Thu, 20 Aug 2009 23:08:54 +0300
</I>&gt;<i> From: Dotan Cohen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">dotancohen at gmail.com</A>&gt;
</I>&gt;<i> Subject: [Linux-uvc-devel] MSI StarCam 370i Webcam
</I>&gt;<i> To: <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> Message-ID:
</I>&gt;<i> 	&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">880dece00908201308h48f5450ela7386860ffa38437 at mail.gmail.com</A>&gt;
</I>&gt;<i> Content-Type: text/plain; charset=UTF-8
</I>&gt;<i> 
</I>&gt;<i> I have the MSI StarCam 370i Webcam and I have trying to use it with
</I>&gt;<i> Kubuntu Linux 9.04 Jaunty. According to this page, &quot;The StarCam 370i
</I>&gt;<i> is compliant with UVC, USB video class&quot;:
</I>&gt;<i> <A HREF="http://gadgets.softpedia.com/gadgets/Computer-Peripherals/The-MSI-StarCam-370i-3105.html">http://gadgets.softpedia.com/gadgets/Computer-Peripherals/The-MSI-StarCam-370i-3105.html</A>
</I>&gt;<i> 
</I>&gt;<i> According to the Linux UVC driver and tools download page, &quot;Linux
</I>&gt;<i> 2.6.26 and newer includes the Linux UVC driver natively&quot; which is nice
</I>&gt;<i> as I am on a higher version:
</I>&gt;<i> $ uname -r
</I>&gt;<i> 2.6.28-15-generic
</I>&gt;<i> 
</I>&gt;<i> However, plugging in the webcam and testing with camorama, cheese, and
</I>&gt;<i> luvcview led me to no results:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jaunty2 at laptop</A>:~$ luvcview -f yuv
</I>&gt;<i> luvcview 0.2.4
</I>&gt;<i> 
</I>&gt;<i> SDL information:
</I>&gt;<i>   Video driver: x11
</I>&gt;<i>   A window manager is available
</I>&gt;<i> Device information:
</I>&gt;<i>   Device path:  /dev/video0
</I>&gt;<i> Stream settings:
</I>&gt;<i> ERROR: Requested frame format YUYV is not available and no fallback
</I>&gt;<i> format was found.
</I>&gt;<i>  Init v4L2 failed !! exit fatal
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jaunty2 at laptop</A>:~$ luvcview -f uyvy
</I>&gt;<i> luvcview 0.2.4
</I>&gt;<i> 
</I>&gt;<i> SDL information:
</I>&gt;<i>   Video driver: x11
</I>&gt;<i>   A window manager is available
</I>&gt;<i> Device information:
</I>&gt;<i>   Device path:  /dev/video0
</I>&gt;<i> Stream settings:
</I>&gt;<i> ERROR: Requested frame format UYVY is not available and no fallback
</I>&gt;<i> format was found.
</I>&gt;<i>  Init v4L2 failed !! exit fatal
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jaunty2 at laptop</A>:~$ luvcview
</I>&gt;<i> luvcview 0.2.4
</I>&gt;<i> 
</I>&gt;<i> SDL information:
</I>&gt;<i>   Video driver: x11
</I>&gt;<i>   A window manager is available
</I>&gt;<i> Device information:
</I>&gt;<i>   Device path:  /dev/video0
</I>&gt;<i> Stream settings:
</I>&gt;<i> ERROR: Requested frame format MJPG is not available and no fallback
</I>&gt;<i> format was found.
</I>&gt;<i>  Init v4L2 failed !! exit fatal
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Some more details:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jaunty2 at laptop</A>:~$ ls /dev/vi*
</I>&gt;<i> /dev/video0
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jaunty2 at laptop</A>:~$ dmesg | tail
</I>&gt;<i> [ 2777.811972] sn9c102: V4L2 driver for SN9C1xx PC Camera Controllers
</I>&gt;<i> v1:1.47pre49
</I>&gt;<i> [ 2777.814989] usb 2-1: SN9C105 PC Camera Controller detected (vid:pid
</I>&gt;<i> 0x0C45:0x60FC)
</I>&gt;<i> [ 2777.842123] usb 2-1: HV7131R image sensor detected
</I>&gt;<i> [ 2778.185108] usb 2-1: Initialization succeeded
</I>&gt;<i> [ 2778.185220] usb 2-1: V4L2 device registered as /dev/video0
</I>&gt;<i> [ 2778.185225] usb 2-1: Optional device control through 'sysfs'
</I>&gt;<i> interface disabled
</I>&gt;<i> [ 2778.185283] usbcore: registered new interface driver sn9c102
</I>&gt;<i> [ 2778.216691] usbcore: registered new interface driver snd-usb-audio
</I>&gt;<i> [ 2778.218738] usbcore: registered new interface driver sonixj
</I>&gt;<i> [ 2778.218745] sonixj: registered
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jaunty2 at laptop</A>:~$ lsusb
</I>&gt;<i> Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
</I>&gt;<i> Bus 005 Device 002: ID 413c:8126 Dell Computer Corp. Wireless 355 Bluetooth
</I>&gt;<i> Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
</I>&gt;<i> Bus 004 Device 004: ID 045e:0040 Microsoft Corp. Wheel Mouse Optical
</I>&gt;<i> Bus 004 Device 003: ID 045e:00db Microsoft Corp. Natural Ergonomic
</I>&gt;<i> Keyboard 4000 V1.0
</I>&gt;<i> Bus 004 Device 002: ID 05e3:0604 Genesys Logic, Inc. USB 1.1 Hub
</I>&gt;<i> Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
</I>&gt;<i> Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
</I>&gt;<i> Bus 002 Device 002: ID 0c45:60fc Microdia PC Camera with Mic (SN9C105)
</I>&gt;<i> Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">jaunty2 at laptop</A>:~$
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Anything missing? What should I do? Thanks in advance!
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005081.html">[Linux-uvc-devel] MSI StarCam 370i Webcam
</A></li>
	<LI>Next message: <A HREF="005085.html">[Linux-uvc-devel] luvcview request from Xavier
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5075">[ date ]</a>
              <a href="thread.html#5075">[ thread ]</a>
              <a href="subject.html#5075">[ subject ]</a>
              <a href="author.html#5075">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
