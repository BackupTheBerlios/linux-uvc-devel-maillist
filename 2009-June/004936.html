<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] CLI software to record video
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20CLI%20software%20to%20record%20video&In-Reply-To=%3CFE9E9F08-F22F-472E-A553-52359DF157E3%40luckyluke.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004935.html">
   <LINK REL="Next"  HREF="004938.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] CLI software to record video</H1>
    <B>Luca Lesinigo</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20CLI%20software%20to%20record%20video&In-Reply-To=%3CFE9E9F08-F22F-472E-A553-52359DF157E3%40luckyluke.org%3E"
       TITLE="[Linux-uvc-devel] CLI software to record video">luca at luckyluke.org
       </A><BR>
    <I>Mon Jun 29 23:18:05 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004935.html">[Linux-uvc-devel] Fwd: Dropped frames with Logitech Quickcam Pro	9000
</A></li>
        <LI>Next message: <A HREF="004938.html">[Linux-uvc-devel] CLI software to record video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4936">[ date ]</a>
              <a href="thread.html#4936">[ thread ]</a>
              <a href="subject.html#4936">[ subject ]</a>
              <a href="author.html#4936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello there.

I spent some time googling around and looking at the list archives,  
but I cannot find a (non-X11) software that would let me do a 'simple'  
video recording without any fancy stuff or reencoding.

I'm using a logitech S7500 for my tests, it's an UVC cam with support  
for MJPEG. I could use mencoder to record the 'raw' mjpeg stream  
without any re-encoding but that also means without audio: it  
segfaults if I try to record audio too (either from the cam usb audio  
source or from the alsa soundcard in the pc).

I can still record audio in another process and mix everything  
afterwards, no big problem. The _real_ problem is that video is never  
recorded at constant speed. It probably depends on the camera varying  
the framerate (autoexposure or stuff like that, probably) and/or usb  
or the hci loosing some data here and there. But this is also not a  
problem (loosing frames) as long as I get a playable video. Too bad  
this is not the case: the actual speed will vary and some parts will  
be faster than others.

I'm not an expert but I suspect this is due to the &quot;timestamps not  
implemented&quot; that I read on UVC homepage.

I'm working on a more-or-less embedded platform (the prototype  
actually is a notebook without any human operator and also without  
X11) and I'm looking for a software (or a combination of) that would  
let me:
- set the cam to turn off fancy stuff and run as constant fps as it  
can - don't need ultrafast, <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">640x480 at 25fps</A> would be enough
- record the video with the lowest possible cpu usage - I think a  
direct MJPEG recording from the cam to file should be the best option
- playback / reencode the video afterwards and get a 'constant wall  
clock speed' video (no problems if it looses frames as long as this is  
accounted for)
- audio recording in the same file would be a bonus but not needed,  
alsarec is already doing its job

I don't really need anything else, the system will start recording  
right after boot and keep on until power off. Right now I'm using the  
latest stable kernels from kernel.org, but applying any patch and  
recompiling is not a problem. If possible, I plan to stick to UVC  
cameras with MJPEG support, probably logitech ones.
Any help would be really appreciated, thanks.

--
Luca Lesinigo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004935.html">[Linux-uvc-devel] Fwd: Dropped frames with Logitech Quickcam Pro	9000
</A></li>
	<LI>Next message: <A HREF="004938.html">[Linux-uvc-devel] CLI software to record video
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4936">[ date ]</a>
              <a href="thread.html#4936">[ thread ]</a>
              <a href="subject.html#4936">[ subject ]</a>
              <a href="author.html#4936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
