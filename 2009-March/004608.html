<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Minoru stereo webcam
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Minoru%20stereo%20webcam&In-Reply-To=%3C200903020001.04667.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="004614.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Minoru stereo webcam</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Minoru%20stereo%20webcam&In-Reply-To=%3C200903020001.04667.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] Minoru stereo webcam">laurent.pinchart at skynet.be
       </A><BR>
    <I>Mon Mar  2 00:01:04 CET 2009</I>
    <P><UL>
        
        <LI>Next message: <A HREF="004614.html">[Linux-uvc-devel] Minoru stereo webcam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4608">[ date ]</a>
              <a href="thread.html#4608">[ thread ]</a>
              <a href="subject.html#4608">[ subject ]</a>
              <a href="author.html#4608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Yann,

sorry for the late answer.

On Tuesday 17 February 2009 00:30:37 Yann LeCun wrote:
&gt;<i> I seem to be having a strange problem with the patch:
</I>&gt;<i> Using my own v4l2 grabbing code, I can do:
</I>&gt;<i> 640x480 15 fps
</I>&gt;<i> 320x240 30 fps
</I>&gt;<i> 160x120 30 fps
</I>&gt;<i> and everything works fine.
</I>&gt;<i>
</I>&gt;<i> but if I try 320x240 or 160x120 with an fps any
</I>&gt;<i> lower than 30 fps, it doesn't work.
</I>&gt;<i>
</I>&gt;<i> It looks like my code hangs at the next i/o (or perhaps
</I>&gt;<i> the next call to select() that it encounters) after grabbing
</I>&gt;<i> a frame.  This problem doesn't happen if I set the fps to 30
</I>&gt;<i> (or more).
</I>
I guess the driver fails to compute an appropriate bandwidth for the 
resolutions and frame rates.

The workaround I've added to the driver is really a heuristic. It computes the 
required bandwidth by multiplying the frame size (in bytes) by the frame rate 
and dividing the result by the number of USB isochronous frames (that's 
roughly the number of isochronous packets) per second.

To implement a more precise bandwidth computation algorithm I would have to 
know what bandwidth the chipset really needs. As I don't have access to that 
information I'm stuck with guessing.

Are small frame rates at small resolutions that important ? If not I'd be 
tempted to leave things as they are.

Best regards,

Laurent Pinchart


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="004614.html">[Linux-uvc-devel] Minoru stereo webcam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4608">[ date ]</a>
              <a href="thread.html#4608">[ thread ]</a>
              <a href="subject.html#4608">[ subject ]</a>
              <a href="author.html#4608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
