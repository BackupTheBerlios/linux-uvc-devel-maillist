<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Problem with DFM 21AUC03-ML
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Problem%20with%20DFM%2021AUC03-ML&In-Reply-To=%3C336f6bae0903090747h460a966eld314570202dd1eb7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004622.html">
   <LINK REL="Next"  HREF="004627.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Problem with DFM 21AUC03-ML</H1>
    <B>Sebastian Scherer</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Problem%20with%20DFM%2021AUC03-ML&In-Reply-To=%3C336f6bae0903090747h460a966eld314570202dd1eb7%40mail.gmail.com%3E"
       TITLE="[Linux-uvc-devel] Problem with DFM 21AUC03-ML">smash0190spam at gmail.com
       </A><BR>
    <I>Mon Mar  9 15:47:27 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004622.html">[Linux-uvc-devel] Problem with DFM 21AUC03-ML
</A></li>
        <LI>Next message: <A HREF="004627.html">[Linux-uvc-devel] Problem with DFM 21AUC03-ML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4626">[ date ]</a>
              <a href="thread.html#4626">[ thread ]</a>
              <a href="subject.html#4626">[ subject ]</a>
              <a href="author.html#4626">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
After looking a little more carefully it might be that the resolution
problem is related to de-bayering.
I uploaded a sample image captured from the video:
<A HREF="http://www.frc.ri.cmu.edu/~basti/01-20090306125232-17.jpg">http://www.frc.ri.cmu.edu/~basti/01-20090306125232-17.jpg</A>

Does anybody have any insight what the problem could be?

I downloaded the latest drivers and used them on Ubuntu 8.10 but the
problem persists.
Thank you

Sebastian

&gt;<i> Hi,
</I>&gt;<i> I have a problem with this camera.
</I>&gt;<i> <A HREF="http://www.theimagingsource.com/en_US/products/oem-cameras/usb-cmos-color/dfm21auc03ml/">http://www.theimagingsource.com/en_US/products/oem-cameras/usb-cmos-color/dfm21auc03ml/</A>
</I>&gt;<i> It shows a picture but I cannot set the frame size and resolution of
</I>&gt;<i> the camera. The camera supports
</I>&gt;<i> 60 frames per second and a resolution of 744x480 YUV2. However I
</I>&gt;<i> always get 372x480 and the colors are wrong.
</I>&gt;<i>
</I>&gt;<i> This is what dmesg reports:
</I>
&gt;<i> [179400.340015] usb 6-1: new high speed USB device using ehci_hcd and address 3
</I>&gt;<i> [179400.777492] usb 6-1: configuration #1 chosen from 1 choice
</I>&gt;<i> [179400.777790] uvcvideo: Found UVC 1.00 device DFx 21AUC03 (199e:8202)
</I>&gt;<i> [179401.306390] input: DFx 21AUC03 as
</I>&gt;<i> /devices/pci0000:00/0000:00:1a.7/usb6/6-1/6-1:1.0/input/input7
</I>&gt;<i>
</I>&gt;<i> This is whalt lsusb reports:
</I>&gt;<i> Bus 006 Device 003: ID 199e:8202 The Imaging Source Europe GmbH
</I>&gt;<i> Device Descriptor:
</I>&gt;<i>  bLength                18
</I>&gt;<i>  bDescriptorType         1
</I>&gt;<i>  bcdUSB               2.00
</I>&gt;<i>  bDeviceClass          239 Miscellaneous Device
</I>&gt;<i>  bDeviceSubClass         2 ?
</I>&gt;<i>  bDeviceProtocol         1 Interface Association
</I>&gt;<i>  bMaxPacketSize0        64
</I>&gt;<i>  idVendor           0x199e The Imaging Source Europe GmbH
</I>&gt;<i>  idProduct          0x8202
</I>&gt;<i>  bcdDevice            8.13
</I>&gt;<i>  iManufacturer           2 The Imaging Source Europe GmbH
</I>&gt;<i>  iProduct                1 DFx 21AUC03
</I>&gt;<i>  iSerial                 3 38800104
</I>&gt;<i>  bNumConfigurations      1
</I>&gt;<i>  Configuration Descriptor:
</I>&gt;<i>    bLength                 9
</I>&gt;<i>    bDescriptorType         2
</I>&gt;<i>    wTotalLength          349
</I>&gt;<i>    bNumInterfaces          2
</I>&gt;<i>    bConfigurationValue     1
</I>&gt;<i>    iConfiguration          0
</I>&gt;<i>    bmAttributes         0x80
</I>&gt;<i>      (Bus Powered)
</I>&gt;<i>    MaxPower              500mA
</I>&gt;<i>    Interface Association:
</I>&gt;<i>      bLength                 8
</I>&gt;<i>      bDescriptorType        11
</I>     bFirstInterface         0
     bInterfaceCount         2
     bFunctionClass         14 Video
     bFunctionSubClass       3 Video Interface Collection
     bFunctionProtocol       0
     iFunction               0
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        0
     bAlternateSetting       0
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      1 Video Control
     bInterfaceProtocol      0
     iInterface              0
     VideoControl Interface Descriptor:
       bLength                13
       bDescriptorType        36
       bDescriptorSubtype      1 (HEADER)
       bcdUVC               1.00
       wTotalLength           78
       dwClockFrequency        6.000000MHz
       bInCollection           1
       baInterfaceNr( 0)       1
     VideoControl Interface Descriptor:
       bLength                18
       bDescriptorType        36
       bDescriptorSubtype      2 (INPUT_TERMINAL)
       bTerminalID             1
       wTerminalType      0x0201 Camera Sensor
       bAssocTerminal          0
       iTerminal               0
       wObjectiveFocalLengthMin      0
       wObjectiveFocalLengthMax      0
       wOcularFocalLength            0
       bControlSize                  3
       bmControls           0x0000001a
         Auto-Exposure Mode
         Exposure Time (Absolute)
         Exposure Time (Relative)
     VideoControl Interface Descriptor:
       bLength                12
       bDescriptorType        36
       bDescriptorSubtype      5 (PROCESSING_UNIT)
     Warning: Descriptor too short
       bUnitID                 3
       bSourceID               1
       wMaxMultiplier          0
       bControlSize            3
       bmControls     0x00000200
         Gain
       iProcessing             0
       bmVideoStandards     0x1a
         NTSC - 525/60
         SECAM - 625/50
         NTSC - 625/50
     VideoControl Interface Descriptor:
       bLength                26
       bDescriptorType        36
       bDescriptorSubtype      6 (EXTENSION_UNIT)
       bUnitID                 4
       guidExtensionCode         {2652215a-8932-5641-894a-5c557cdf9664}
       bNumControl             4
       bNrPins                 1
       baSourceID( 0)          3
       bControlSize            1
       bmControls( 0)       0x1f
       iExtension              0
     VideoControl Interface Descriptor:
       bLength                 9
       bDescriptorType        36
       bDescriptorSubtype      3 (OUTPUT_TERMINAL)
       bTerminalID             2
       wTerminalType      0x0101 USB Streaming
       bAssocTerminal          0
       bSourceID               4
       iTerminal               0
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x81  EP 1 IN
       bmAttributes            3
         Transfer Type            Interrupt
         Synch Type               None
         Usage Type               Data
       wMaxPacketSize     0x0008  1x 8 bytes
       bInterval               9
   Interface Descriptor:
     bLength                 9
     bDescriptorType         4
     bInterfaceNumber        1
     bAlternateSetting       0
     bNumEndpoints           1
     bInterfaceClass        14 Video
     bInterfaceSubClass      2 Video Streaming
     bInterfaceProtocol      0
     iInterface              0
     VideoStreaming Interface Descriptor:
       bLength                            15
       bDescriptorType                    36
       bDescriptorSubtype                  1 (INPUT_HEADER)
       bNumFormats                        2
       wTotalLength                      217
       bEndPointAddress                  130
       bmInfo                              0
       bTerminalLink                       2
       bStillCaptureMethod                 2
       bTriggerSupport                     1
       bTriggerUsage                       0
       bControlSize                        1
       bmaControls( 0)                    27
       bmaControls( 1)                    27
     VideoStreaming Interface Descriptor:
       bLength                            27
       bDescriptorType                    36
       bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
       bFormatIndex                        1
       bNumFrameDescriptors                2
       guidFormat
{59555932-0000-1000-8000-00aa00389b71}
       bBitsPerPixel                      16
       bDefaultFrameIndex                  1
       bAspectRatioX                       0
       bAspectRatioY                       0
       bmInterlaceFlags                 0x00
         Interlaced stream or variable: No
         Fields per frame: 1 fields
         Field 1 first: No
         Field pattern: Field 1 only
         bCopyProtect                      0
     VideoStreaming Interface Descriptor:
       bLength                            30
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         1
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                            372
       wHeight                           480
       dwMinBitRate                838992000
       dwMaxBitRate                838992000
       dwMaxVideoFrameBufferSize      786432
       dwDefaultFrameInterval         333333
       bFrameIntervalType                  1
       dwFrameInterval( 0)            333333
     VideoStreaming Interface Descriptor:
       bLength                            30
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         2
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                            320
       wHeight                           480
       dwMinBitRate                838992000
       dwMaxBitRate                838992000
       dwMaxVideoFrameBufferSize      786432
       dwDefaultFrameInterval         333333
       bFrameIntervalType                  1
       dwFrameInterval( 0)            333333
     VideoStreaming Interface Descriptor:
       bLength                            11
       bDescriptorType                    36
       bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
       bEndpointAddress                    0
       bNumImageSizePatterns               1
       wWidth( 0)                        744
       wHeight( 0)                       480
       bNumCompressionPatterns             1
       bCompression( 0)                    0
     VideoStreaming Interface Descriptor:
       bLength                            27
       bDescriptorType                    36
       bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
       bFormatIndex                        2
       bNumFrameDescriptors                2
       guidFormat
{55595659-0000-1000-8000-00aa00389b71}
       bBitsPerPixel                      16
       bDefaultFrameIndex                  1
       bAspectRatioX                       0
       bAspectRatioY                       0
       bmInterlaceFlags                 0x00
         Interlaced stream or variable: No
         Fields per frame: 1 fields
         Field 1 first: No
         Field pattern: Field 1 only
         bCopyProtect                      0
     VideoStreaming Interface Descriptor:
       bLength                            30
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         1
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                            372
       wHeight                           480
       dwMinBitRate                838992000
       dwMaxBitRate                838992000
       dwMaxVideoFrameBufferSize      786432
       dwDefaultFrameInterval         333333
       bFrameIntervalType                  1
       dwFrameInterval( 0)            333333
     VideoStreaming Interface Descriptor:
       bLength                            30
       bDescriptorType                    36
       bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
       bFrameIndex                         2
       bmCapabilities                   0x00
         Still image unsupported
       wWidth                            320
       wHeight                           480
       dwMinBitRate                838992000
       dwMaxBitRate                838992000
       dwMaxVideoFrameBufferSize      786432
       dwDefaultFrameInterval         333333
       bFrameIntervalType                  1
       dwFrameInterval( 0)            333333
     VideoStreaming Interface Descriptor:
       bLength                            11
       bDescriptorType                    36
       bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
       bEndpointAddress                    0
       bNumImageSizePatterns               1
       wWidth( 0)                        744
       wHeight( 0)                       480
       bNumCompressionPatterns             1
       bCompression( 0)                    0
     VideoStreaming Interface Descriptor:
       bLength                             6
       bDescriptorType                    36
       bDescriptorSubtype                 13 (COLORFORMAT)
       bColorPrimaries                     0 (Unspecified)
       bTransferCharacteristics            0 (Unspecified)
       bMatrixCoefficients                 0 (Unspecified)
     Endpoint Descriptor:
       bLength                 7
       bDescriptorType         5
       bEndpointAddress     0x82  EP 2 IN
       bmAttributes            2
         Transfer Type            Bulk
         Synch Type               None
         Usage Type               Data
       wMaxPacketSize     0x0200  1x 512 bytes
       bInterval               1
Device Qualifier (for other device speed):
 bLength                10
 bDescriptorType         6
 bcdUSB               2.00
 bDeviceClass          239 Miscellaneous Device
 bDeviceSubClass         2 ?
 bDeviceProtocol         1 Interface Association
 bMaxPacketSize0        64
 bNumConfigurations      1
Device Status:     0x0000
 (Bus Powered)

This is what I get with lucview:

luvcview 0.2.4

SDL information:
 Video driver: x11
 A window manager is available
Device information:
 Device path:  /dev/video0
Stream settings:
 Frame format: UYVY
 Frame size:   372x480 (requested size 744x480 is not supported by device)
 Frame rate:   30/1 fps (requested frame rate 60 fps is not supported by device)



Thank you!

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004622.html">[Linux-uvc-devel] Problem with DFM 21AUC03-ML
</A></li>
	<LI>Next message: <A HREF="004627.html">[Linux-uvc-devel] Problem with DFM 21AUC03-ML
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4626">[ date ]</a>
              <a href="thread.html#4626">[ thread ]</a>
              <a href="subject.html#4626">[ subject ]</a>
              <a href="author.html#4626">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
