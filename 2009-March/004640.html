<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Logitech QuickCam Pro 9000, unable to get more then 5 fps when live recording, whats going on?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Logitech%20QuickCam%20Pro%209000%2C%0A%20unable%20to%20get%20more%20then%205%20fps%20when%20live%20recording%2C%20whats%20going%20on%3F&In-Reply-To=%3C49BA545B.5040305%40powercraft.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004639.html">
   <LINK REL="Next"  HREF="004641.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Logitech QuickCam Pro 9000, unable to get more then 5 fps when live recording, whats going on?</H1>
    <B>Jelle de Jong</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Logitech%20QuickCam%20Pro%209000%2C%0A%20unable%20to%20get%20more%20then%205%20fps%20when%20live%20recording%2C%20whats%20going%20on%3F&In-Reply-To=%3C49BA545B.5040305%40powercraft.nl%3E"
       TITLE="[Linux-uvc-devel] Logitech QuickCam Pro 9000, unable to get more then 5 fps when live recording, whats going on?">jelledejong at powercraft.nl
       </A><BR>
    <I>Fri Mar 13 13:40:59 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004639.html">[Linux-uvc-devel] Logitech QuickCam Pro 9000, unable to get more then 5 fps when live recording, whats going on?
</A></li>
        <LI>Next message: <A HREF="004641.html">[Linux-uvc-devel] Logitech QuickCam Pro 9000, unable to get more then 5 fps when live recording, whats going on?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4640">[ date ]</a>
              <a href="thread.html#4640">[ thread ]</a>
              <a href="subject.html#4640">[ subject ]</a>
              <a href="author.html#4640">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Paulo Assis wrote:
&gt;<i> Jelle,
</I>&gt;<i> You must tick off the &quot;Exposure, Auto Priority&quot; control this is enable
</I>&gt;<i> by default and increases the exposure time (reducing fps) in order to
</I>&gt;<i> get a brighter picture.
</I>&gt;<i> 
</I>&gt;<i> Just use libwebcam or guvcview.
</I>&gt;<i> 
</I>&gt;<i> Best regards,
</I>&gt;<i> Paulo
</I>&gt;<i> 
</I>&gt;<i> Jelle de Jong escreveu:
</I>&gt;&gt;<i> Philipp Kolmann wrote:
</I>&gt;&gt;<i>   
</I>&gt;&gt;&gt;<i> Jelle de Jong wrote:
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;&gt;&gt;<i> Hello everybody,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I bought a Logitech QuickCam Pro 9000[1] (80euro) to make a budget
</I>&gt;&gt;&gt;&gt;<i> free/libre open source live video recording systems from a laptop. But I
</I>&gt;&gt;&gt;&gt;<i> am unable to get more then 5 frames per seconds (fps) out of the webcam
</I>&gt;&gt;&gt;&gt;<i> under any resolution. The last 4 days I have been trying to get this
</I>&gt;&gt;&gt;&gt;<i> system to work both with webcam and a digital video camera on combisite1
</I>&gt;&gt;&gt;&gt;<i> of a usb video grabber.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The webcam only delivers 5 fps tops most time its lower is this normal
</I>&gt;&gt;&gt;&gt;<i> and what to do about is, should I buy an other webcam and witch one?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Please see the attachments for all good reports about fps and mencoder
</I>&gt;&gt;&gt;&gt;<i> and mplayer commands.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i>   
</I>&gt;&gt;&gt;&gt;<i>       
</I>&gt;&gt;&gt;<i> It seems you use eeepc. Did you test the cam with another PC? Is your 
</I>&gt;&gt;&gt;<i> USB Port 1.1 or 2.0 (check with usbview).
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have several 9000 here and I don't have issues with debian and this cam.
</I>&gt;&gt;&gt;<i> You might want to get latest uvcvideo kernel module, but this cam is 
</I>&gt;&gt;&gt;<i> supported for a long time already.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> hth,
</I>&gt;&gt;&gt;<i> Philipp
</I>&gt;&gt;&gt;<i>     
</I>&gt;&gt;<i> Hi Philipp,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks for responding, what version of the webcam do you have? I seem to
</I>&gt;&gt;<i> have a got a 0.08
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My ports are usb 2.0 I did not test it with an other pc I only have
</I>&gt;&gt;<i> eeepc's around me.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is there a debian package for the latest uvcvideo kernel module?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Could you test this command for me and show me the output: (especially fps)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> mencoder <A HREF="tv://">tv://</A> -tv driver=v4l2:device=/dev/video0:fps=5 -ovc lavc
</I>&gt;&gt;<i> -lavcopts vcodec=mpeg4:vbitrate=2240:threads=2 -of rawvideo -o webcam4.mp4
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks in advance,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Jelle de Jong
</I>&gt;&gt;<i>
</I>
Hello Paulo,

Thank you for your response.

I now see whats happening, the fps drops to around 5fps when the
environment is dark and goes to around 30fps when the environment is bright.

I changed Exposure, Auto Priority to 0 and now I seem to have an higher
stable fps.

It also seems that when recording to disk the fps also drop form say
30fps to 10fps but the cpu load and mem use is very low, is this normal?

I have installed guvcview and played a bit with the many controls. The
commandline shows a lot of errors, and the webcam responses very weird,
when trying to change the settings most things fail. I have attached the
guvcview.log.

How can I control the webcam with standardized v4l2 controls?

I want to use a webcam to record live images that move and have different
light environments, so the webcam has to adjust automatically to output
the best possible images. Is this a very hard thing to ask? I am willing
to buy a new device the only demands are usb interface and full v4l2
support. I have no idea of what is a good usb camera and what is not is
the QuickCam Pro 9000 the best one available? (200euro budget)

Is there a some anti shakiness feature like photo and video cameras have.
I kind of have shocking hands when video recording?

Is there also some feature to say well do auto exposure but make sure it
does not go below 20 fps?

So now I use the following command to record with the webcam:
mencoder <A HREF="tv://">tv://</A> -tv
driver=v4l2:device=/dev/video0:adevice=/dev/dsp1:immediatemode=0:forceaudio:width=800:height=600:fps=25
-oac lavc -lavcopts acodec=libmp3lame:abitrate=128 -ovc lavc -lavcopts
vcodec=mpeg4:vbitrate=2240:threads=2 -of lavf -lavfopts format=avi -o
webcam5.avi

but the output is 640x480 with 15 fps not the resolution and fps I
supplied with the mencoder command why is this and how to fix this using
mencoder to record? Please also see the attached webcam5.log.

Any help is welcome.

Thanks in advance,

Jelle de Jong
-------------- next part --------------
A non-text attachment was scrubbed...
Name: reports1.tar.gz
Type: application/gzip
Size: 8377 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090313/47fdd92e/attachment.bin">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090313/47fdd92e/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004639.html">[Linux-uvc-devel] Logitech QuickCam Pro 9000, unable to get more then 5 fps when live recording, whats going on?
</A></li>
	<LI>Next message: <A HREF="004641.html">[Linux-uvc-devel] Logitech QuickCam Pro 9000, unable to get more then 5 fps when live recording, whats going on?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4640">[ date ]</a>
              <a href="thread.html#4640">[ thread ]</a>
              <a href="subject.html#4640">[ subject ]</a>
              <a href="author.html#4640">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
