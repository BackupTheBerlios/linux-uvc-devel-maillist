<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Minoru stereo webcam
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Minoru%20stereo%20webcam&In-Reply-To=%3C200903012226.25390.yann%40lecun.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004608.html">
   <LINK REL="Next"  HREF="004617.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Minoru stereo webcam</H1>
    <B>Yann LeCun</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Minoru%20stereo%20webcam&In-Reply-To=%3C200903012226.25390.yann%40lecun.org%3E"
       TITLE="[Linux-uvc-devel] Minoru stereo webcam">yann at lecun.org
       </A><BR>
    <I>Mon Mar  2 04:26:25 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004608.html">[Linux-uvc-devel] Minoru stereo webcam
</A></li>
        <LI>Next message: <A HREF="004617.html">[Linux-uvc-devel] Minoru stereo webcam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4614">[ date ]</a>
              <a href="thread.html#4614">[ thread ]</a>
              <a href="subject.html#4614">[ subject ]</a>
              <a href="author.html#4614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I don't think people really need to the slower framerates, 
so leaving things as they are for the time being is fine.

Still, people should probably be aware of the problem.

  -- Yann

On Sunday 01 March 2009, Laurent Pinchart wrote:
&gt;<i> Hi Yann,
</I>&gt;<i>
</I>&gt;<i> sorry for the late answer.
</I>&gt;<i>
</I>&gt;<i> On Tuesday 17 February 2009 00:30:37 Yann LeCun wrote:
</I>&gt;<i> &gt; I seem to be having a strange problem with the patch:
</I>&gt;<i> &gt; Using my own v4l2 grabbing code, I can do:
</I>&gt;<i> &gt; 640x480 15 fps
</I>&gt;<i> &gt; 320x240 30 fps
</I>&gt;<i> &gt; 160x120 30 fps
</I>&gt;<i> &gt; and everything works fine.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; but if I try 320x240 or 160x120 with an fps any
</I>&gt;<i> &gt; lower than 30 fps, it doesn't work.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It looks like my code hangs at the next i/o (or perhaps
</I>&gt;<i> &gt; the next call to select() that it encounters) after grabbing
</I>&gt;<i> &gt; a frame.  This problem doesn't happen if I set the fps to 30
</I>&gt;<i> &gt; (or more).
</I>&gt;<i>
</I>&gt;<i> I guess the driver fails to compute an appropriate bandwidth for the
</I>&gt;<i> resolutions and frame rates.
</I>&gt;<i>
</I>&gt;<i> The workaround I've added to the driver is really a heuristic. It computes
</I>&gt;<i> the required bandwidth by multiplying the frame size (in bytes) by the
</I>&gt;<i> frame rate and dividing the result by the number of USB isochronous frames
</I>&gt;<i> (that's roughly the number of isochronous packets) per second.
</I>&gt;<i>
</I>&gt;<i> To implement a more precise bandwidth computation algorithm I would have to
</I>&gt;<i> know what bandwidth the chipset really needs. As I don't have access to
</I>&gt;<i> that information I'm stuck with guessing.
</I>&gt;<i>
</I>&gt;<i> Are small frame rates at small resolutions that important ? If not I'd be
</I>&gt;<i> tempted to leave things as they are.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i> Laurent Pinchart
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004608.html">[Linux-uvc-devel] Minoru stereo webcam
</A></li>
	<LI>Next message: <A HREF="004617.html">[Linux-uvc-devel] Minoru stereo webcam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4614">[ date ]</a>
              <a href="thread.html#4614">[ thread ]</a>
              <a href="subject.html#4614">[ subject ]</a>
              <a href="author.html#4614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
