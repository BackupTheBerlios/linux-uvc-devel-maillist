From titanium2475 at hotmail.com  Thu Aug  2 10:47:17 2007
From: titanium2475 at hotmail.com (helico unitemoyenne)
Date: Thu, 2 Aug 2007 08:47:17 +0000
Subject: [Linux-uvc-devel] invalid module format uvc
Message-ID: <BAY110-W26580B2CD910EA6BA5A6C4DCE90@phx.gbl>







hi ,
i am not sure that the problem is with mandriva.
Explication :
i have done the same thing with : gspca    pwc           spca5xx and the  gspca.ko.gz    pwc/           spca5xx.ko.gz are created in lib/modules/2.6.17-10mdv/kernel/drivers/usb/media/ and not in 
lib/modules/2.6.17-10mdvcustom/usb/media. that is how i dont think that the problem is not mandriva. 
other reason : i have done the same thing (uvc installation) on an other machine and after moving the file and doing depmod ma webcam is detected.Which is not the case in this machine.

thanks
> 
> Hi,
> 
> On Tuesday 31 July 2007, helico unitemoyenne wrote:
> > hello everyone,
> > i try to use uvcvideo with logitech sphere MP.
> > So i  did :
> > 1) make
> > **********************************************************
> > 2)make install
> > ---- uvcvideo.ko was created in  :
> > /lib/modules/2.6.17-10mdvcustom/usb/media
> 
> This means the module has been compiled against "2.6.17-10mdvcustom".
> 
> > **********************************************************
> > 3)i put this file in /lib/modules/2.6.17-10mdv/kernel/drivers/usb/media
> > (because when i do modprobe i have FATAL: Module uvcvideo not found. and
> > the the solution is to to move uvcvideo.ko in 
> > /lib/modules/2.6.17-10mdv/kernel/drivers/usb/media)
> 
> This means you're running "2.6.17-10mdv".
> 
> > **********************************************************
> > 4) so when i do modprobe uvcvideo: i have the same error :  FATAL: Module
> > uvcvideo not found
> > **********************************************************
> > 5)  depmod
> > **********************************************************
> > 6)modprobe uvcvideo ---> error "FATAL: Error inserting uvcvideo
> > (/lib/modules/2.6.17-10mdv/kernel/drivers/usb/media/uvcvideo.ko): Invalid
> > module format " **********************************************************
> > 7) dmesg |grep uvc ===>uvcvideo: version magic '2.6.17-10mdvcustom SMP
> > mod_unload 686 gcc-4.1' should be '2.6.17-10mdv SMP mod_unload 686 gcc-4.1'
> > uvcvideo: version magic '2.6.17-10mdvcustom SMP mod_unload 686 gcc-4.1'
> > should be '2.6.17-10mdv SMP mod_unload 686 gcc-4.1' uvcvideo: version magic
> > '2.6.17-10mdvcustom SMP mod_unload 686 gcc-4.1' should be '2.6.17-10mdv SMP
> > mod_unload 686 gcc-4.1' uvcvideo: version magic '2.6.17-10mdvcustom SMP
> > mod_unload 686 gcc-4.1' should be '2.6.17-10mdv SMP mod_unload 686 gcc-4.1'
> > uvcvideo: version magic '2.6.17-10mdvcustom SMP mod_unload 686 gcc-4.1'
> > should be '2.6.17-10mdv SMP mod_unload 686 gcc-4.1' uvcvideo: version magic
> > '2.6.17-10mdvcustom SMP mod_unload 686 gcc-4.1' should be '2.6.17-10mdv SMP
> > mod_unload 686 gcc-4.1' uvcvideo: version magic '2.6.17-10mdvcustom SMP
> > mod_unload 686 gcc-4.1' should be '2.6.17-10mdv SMP mod_unload 686 gcc-4.1'
> > uvcvideo: version magic '2.6.17-10mdvcustom SMP mod_unload 686 gcc-4.1'
> > should be '2.6.17-10mdv SMP mod_unload 686 gcc-4.1'
> > ***********************************************************
> > So i don't know what is the problem.
> > problem  with gcc version : i don't know how to fix it
> 
> It's not a gcc issue. You have to find out why the module has been compiled 
> against a kernel version different from the running one. It might be 
> Mandriva-specific.
> 
> Regards,
> 
> Laurent Pinchart

_________________________________________________________________
Le blog Messenger de Michel, candidat de la Nouvelle Star : analyse, news, coulisses? A d?couvrir !
http://michel-nouvelle-star2007.spaces.live.com/

From nethad at gmx.net  Thu Aug  2 11:15:48 2007
From: nethad at gmx.net (nethad at gmx.net)
Date: Thu, 02 Aug 2007 11:15:48 +0200
Subject: [Linux-uvc-devel] 5986:0100 bison webcam fails on v4l2 with luvcview
Message-ID: <20070802091548.237230@gmx.net>

Hi at all,

First of all, thanks for developing the linux-uvc driver!

I managed to compile the driver and installed it, then I compiled luvcview and 
tried to start it. Although there's a /dev/video0 node, luvcview crashes:

$ ./luvcview
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 5.
 Init v4L2 failed !! exit fatal

How can I install "v4l2"? I run Kubuntu Feisty 7.04 and there have been 
several reports that this webcam works, even under Kubuntu Feisty, but no 
hint to the v4l2 issue.

Thanks in advance for your help!

Regards,
Thomas

-- 
Ist Ihr Browser Vista-kompatibel? Jetzt die neuesten 
Browser-Versionen downloaden: http://www.gmx.net/de/go/browser


From laurent.pinchart at skynet.be  Thu Aug  2 22:31:30 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 2 Aug 2007 22:31:30 +0200
Subject: [Linux-uvc-devel] invalid module format uvc
In-Reply-To: <BAY110-W26580B2CD910EA6BA5A6C4DCE90@phx.gbl>
References: <BAY110-W26580B2CD910EA6BA5A6C4DCE90@phx.gbl>
Message-ID: <200708022231.30332.laurent.pinchart@skynet.be>

Hi,

On Thursday 02 August 2007, helico unitemoyenne wrote:
> hi ,
> i am not sure that the problem is with mandriva.
> Explication :
> i have done the same thing with : gspca    pwc           spca5xx and the 
> gspca.ko.gz    pwc/           spca5xx.ko.gz are created in
> lib/modules/2.6.17-10mdv/kernel/drivers/usb/media/ and not in
> lib/modules/2.6.17-10mdvcustom/usb/media. that is how i dont think that the
> problem is not mandriva. other reason : i have done the same thing (uvc
> installation) on an other machine and after moving the file and doing
> depmod ma webcam is detected.Which is not the case in this machine.

I'm pretty sure I'm not adding 'custom' to '2.6.17-10mdv'. You should try to 
investigate with your kernel sources where this comes from. It seems to 
definitely be a build issue.

Regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Aug  2 22:38:41 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 2 Aug 2007 22:38:41 +0200
Subject: [Linux-uvc-devel] 5986:0100 bison webcam fails on v4l2 with
	luvcview
In-Reply-To: <20070802091548.237230@gmx.net>
References: <20070802091548.237230@gmx.net>
Message-ID: <200708022238.41296.laurent.pinchart@skynet.be>

Hi Thomas,

On Thursday 02 August 2007, nethad at gmx.net wrote:
> Hi at all,
>
> First of all, thanks for developing the linux-uvc driver!

You're welcome.

> I managed to compile the driver and installed it, then I compiled luvcview
> and tried to start it. Although there's a /dev/video0 node, luvcview
> crashes:
>
> $ ./luvcview
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 5.
>  Init v4L2 failed !! exit fatal

Just for the sake of correctness, luvcview didn't crash, but exited with a 
fatal error.

> How can I install "v4l2"?

v4l2 isn't something you install, it's an API, part of the Linux kernel. The 
error message means that luvcview tried to initialise a v4l2 device and 
failed.

> I run Kubuntu Feisty 7.04 and there have been 
> several reports that this webcam works, even under Kubuntu Feisty, but no
> hint to the v4l2 issue.

The kernel log (available through the dmesg command) should report additional 
information regarding the error. Please send us a copy.

Regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Aug  2 22:46:12 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 2 Aug 2007 22:46:12 +0200
Subject: [Linux-uvc-devel] Merge Plans
In-Reply-To: <thf4o4-ggc.ln1@learner.hq.netapp.com>
References: <thf4o4-ggc.ln1@learner.hq.netapp.com>
Message-ID: <200708022246.12996.laurent.pinchart@skynet.be>

Hi Ritesh,

On Tuesday 31 July 2007, Ritesh Raj Sarraf wrote:
> Hi Laurent,
>
> Now that 2.6.23 merge window is over are there any tentative dates about
> when you'd like to push the uvc driver for mainline inclusion ?
> 2.6.24 ?

There is still an unresolved issue that holds the driver back. Unfortunately, 
the issue isn't with the driver itself, but with the V4L2 specification.

UVC defines standard controls such as brightness and contrast. Most of them 
are included in V4L2, but some of them are missing. As those controls are 
defined by the UVC specification (as opposed to being vendor-specific), and 
as UVC devices are going to be more and more common, I believe they should be 
added to the V4L2 specification. I posted a proposal on the V4L2 mailing list 
a few months ago to add new standard controls, but it has been rejected after 
a hot debate.

The missing controls are currently implemented as private controls. Once the 
driver is included in the kernel, it will be difficult to change them. That's 
why I'd like to resolve this last blocking issue before submitting the 
driver.

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Aug  2 23:45:02 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 2 Aug 2007 23:45:02 +0200
Subject: [Linux-uvc-devel] Suspend/resume support
Message-ID: <200708022345.02586.laurent.pinchart@skynet.be>

Hi everybody,

The recent Linux Foundation Collaboration Summit outlined the need for device 
drivers to implement proper power management. Many drivers have no 
suspend/resume support at all. Hopefully, the Linux UVC driver will soon not 
be part of them anymore: here is a patch that implements suspend/resume.

As I'm quite new to power management, there might be many issues (small or 
big) lying in this patch. I would like beta testers to give it a try before 
committing it to the SVN repository.

You should be able to suspend and resume your computer properly, even if the 
webcam is streaming. Controls should be restored to their original state. 
Suspend to RAM as been tested, but Suspend to Disk hasn't.

As usual, please any problem you run into.

Thanks in advance for your help.

Best regards,

Laurent Pinchart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: suspend.patch
Type: text/x-diff
Size: 15079 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070802/b54e4cd6/attachment.patch>

From nethad at gmx.net  Fri Aug  3 11:33:07 2007
From: nethad at gmx.net (nethad)
Date: Fri, 3 Aug 2007 11:33:07 +0200
Subject: [Linux-uvc-devel] 5986:0100 bison webcam fails on v4l2 with
	luvcview
Message-ID: <200708031133.07806.nethad@gmx.net>

Hi again,

> The kernel log (available through the dmesg command) should report 
additional 
> information regarding the error. Please send us a copy.

[   18.856000] uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
[   19.040000] usbcore: registered new interface driver uvcvideo
[  845.836000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 2 
(exp. 26).

There you are, I hope this helps.

Thank you for you quick response!

Regards,
Thomas


From laurent.pinchart at skynet.be  Fri Aug  3 12:09:12 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 3 Aug 2007 12:09:12 +0200
Subject: [Linux-uvc-devel] 5986:0100 bison webcam fails on v4l2 with
	luvcview
In-Reply-To: <200708031133.07806.nethad@gmx.net>
References: <200708031133.07806.nethad@gmx.net>
Message-ID: <200708031209.14392.laurent.pinchart@skynet.be>

Hi Thomas,

On Friday 03 August 2007 11:33, nethad wrote:
> Hi again,
>
> > The kernel log (available through the dmesg command) should report
> > additional information regarding the error. Please send us a copy.
>
> [   18.856000] uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
> [   19.040000] usbcore: registered new interface driver uvcvideo
> [  845.836000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 2
> (exp. 26).
>
> There you are, I hope this helps.

Are you using the latest SVN version ? The problem should be fixed.

Best regards,

Laurent Pinchart


From nethad at gmx.net  Fri Aug  3 14:33:35 2007
From: nethad at gmx.net (nethad)
Date: Fri, 3 Aug 2007 14:33:35 +0200
Subject: [Linux-uvc-devel] 5986:0100 bison webcam fails on v4l2 with
	luvcview
In-Reply-To: <200708031209.14392.laurent.pinchart@skynet.be>
References: <200708031133.07806.nethad@gmx.net>
	<200708031209.14392.laurent.pinchart@skynet.be>
Message-ID: <200708031433.35763.nethad@gmx.net>

> Are you using the latest SVN version ? The problem should be fixed.

I'm using the latest linux-uvc svn version (Revision 120), but I couldn't find 
a luvcview svn repository, at the moment there's 20070512 installed (the 
latest I found).
Could it be that I have not fully installed all dependencies? I'm not sure if 
there's anything missing in libsdl for example, but I think there should have 
been a compiler error.

Thomas



From nethad at gmx.net  Fri Aug  3 17:09:06 2007
From: nethad at gmx.net (nethad)
Date: Fri, 3 Aug 2007 17:09:06 +0200
Subject: [Linux-uvc-devel] 5986:0100 bison webcam fails on v4l2 with
	luvcview
In-Reply-To: <200708031209.14392.laurent.pinchart@skynet.be>
References: <200708031133.07806.nethad@gmx.net>
	<200708031209.14392.laurent.pinchart@skynet.be>
Message-ID: <200708031709.06446.nethad@gmx.net>

Hi again!

I went on searching for a solution and found a thread, where I was told to try 
it with kdetv. I managed to get the webcam working with kdetv immediately. 
This proves that the driver works, so there's only kopete left (which is the 
intended purpose).
Do you know how it's possible to use the webcam with kopete?

Thomas


From bnc at astronomicalresearchaustralia.org  Sat Aug  4 03:05:38 2007
From: bnc at astronomicalresearchaustralia.org (Brian)
Date: Sat, 04 Aug 2007 11:05:38 +1000
Subject: [Linux-uvc-devel] 5986:0100 bison webcam fails on v4l2
	with	luvcview
In-Reply-To: <200708031709.06446.nethad@gmx.net>
References: <200708031133.07806.nethad@gmx.net>	<200708031209.14392.laurent.pinchart@skynet.be>
	<200708031709.06446.nethad@gmx.net>
Message-ID: <46B3D0E2.6060103@astronomicalresearchaustralia.org>

nethad,
Try here
http://www.alexandredenis.net/software/kopete-uvc/kopete-uvc-patch-2006011
Brian

> 
> I went on searching for a solution and found a thread, where I was told to try 
> it with kdetv. I managed to get the webcam working with kdetv immediately. 
> This proves that the driver works, so there's only kopete left (which is the 
> intended purpose).
> Do you know how it's possible to use the webcam with kopete?
> 
> Thomas
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel



From nethad at gmx.net  Sat Aug  4 11:00:10 2007
From: nethad at gmx.net (nethad)
Date: Sat, 4 Aug 2007 11:00:10 +0200
Subject: [Linux-uvc-devel]
	=?iso-8859-1?q?5986=3A0100_bison_webcam_fails_o?=
	=?iso-8859-1?q?n_v4l2_with=09luvcview?=
In-Reply-To: <46B3D0E2.6060103@astronomicalresearchaustralia.org>
References: <200708031133.07806.nethad@gmx.net>
	<200708031709.06446.nethad@gmx.net>
	<46B3D0E2.6060103@astronomicalresearchaustralia.org>
Message-ID: <200708041100.10832.nethad@gmx.net>

Hi again,

> http://www.alexandredenis.net/software/kopete-uvc/kopete-uvc-patch-2006011

Sorry, but: How do I apply that patch? I once saw the command:
patch kopete-svn.patch
But when I'm in the kopete svn directory and type in the command, nothing 
happens. 

Thomas


From chris.horler at clara.co.uk  Sat Aug  4 13:53:18 2007
From: chris.horler at clara.co.uk (Christopher HORLER)
Date: Sat, 4 Aug 2007 12:53:18 +0100
Subject: [Linux-uvc-devel]
	=?iso-8859-1?q?5986=3A0100_bison_webcam_fails_o?=
	=?iso-8859-1?q?n_v4l2_with=09luvcview?=
In-Reply-To: <200708041100.10832.nethad@gmx.net>
References: <200708031133.07806.nethad@gmx.net>
	<46B3D0E2.6060103@astronomicalresearchaustralia.org>
	<200708041100.10832.nethad@gmx.net>
Message-ID: <200708041253.18658.chris.horler@clara.co.uk>

On Saturday 04 August 2007 10:00, nethad wrote:
> patch kopete-svn.patch
If you read the patch manual page, you'll find instructions - the sypnopsis of 
which is this:

patch -pnum <patchfile

so you're missing at least the redirection.

Regards,
Chris


From felix at derklecks.de  Sat Aug  4 14:27:30 2007
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Sat, 04 Aug 2007 14:27:30 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
Message-ID: <46B470B2.6020503@derklecks.de>

Hi,

I cannot get my iSight in an early 2006 MacBook working.

In dmesg I get the following:
# dmesg | grep uvc -i
uvcvideo: iSight: firmware successfully loaded.
uvcvideo: Found UVC 0.00 device <unnamed> (05ac:8300)
uvcvideo: No valid video chain found.
usbcore: registered new interface driver uvcvideo
uvcvideo: iSight: firmware already loaded.
uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp. 26).

Trying to use lucview I get:
# ./luvcview
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
 Init v4L2 failed !! exit fatal

I am running uvcvideo-kmp-default-r117_2.6.22.1_10-2 from openSUSE.

What can I do to try to get this working?

Greetings
Felix M?ller



From worklez at treblefrei.org  Sat Aug  4 17:26:01 2007
From: worklez at treblefrei.org (Ilya Kuznetsov)
Date: Sat, 4 Aug 2007 22:26:01 +0700
Subject: [Linux-uvc-devel] Microdia 0c45:624f
Message-ID: <9b9f358a0708040826n3241454ay722b991ec881fb14@mail.gmail.com>

>Please post the output of
>lsusb -v -d 0c45:624f

# lsusb -v -d 0c45:624f

Bus 001 Device 003: ID 0c45:624f Microdia
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0        64
  idVendor           0x0c45 Microdia
  idProduct          0x624f
  bcdDevice            1.00
  iManufacturer           0
  iProduct                1 USB20 Camera
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          279
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       1
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       2
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       3
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       4
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       5
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x02a8  1x 680 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       6
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       7
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0b84  2x 900 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       8
      bNumEndpoints           3
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 0 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0001  1x 1 bytes
        bInterval              10
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)


From rick at arabian.am  Sat Aug  4 22:44:03 2007
From: rick at arabian.am (Rick Arabian)
Date: Sat, 4 Aug 2007 13:44:03 -0700
Subject: [Linux-uvc-devel] Compile error with Build 120
Message-ID: <E04C3906-6902-47C9-93EF-D99F7552DE69@arabian.am>

Hi,

I just grabbed the latest build from subversion and it doesn't  
compile on my Gentoo box.  Does this make any sense?  If so, any idea  
how I could fix it?  The previous versions have always built fine.

Thanks,

--Rick

[ricka]: ~/src/uvcvideo/trunk
nemo {1041} uname -a
Linux nemo 2.6.21-gentoo-r3 #1 SMP Mon Jun 25 11:12:54 PDT 2007 i686  
Intel(R) Pentium(R) 4 CPU 3.00GHz GenuineIntel GNU/Linux
[ricka]: ~/src/uvcvideo/trunk
nemo {1042} make clean
rm -f *.o *.ko .*.cmd .*.flags *.mod.c Modules.symvers
rm -rf .tmp_versions
[ricka]: ~/src/uvcvideo/trunk
nemo {1043} make
Building USB Video Class driver...
make[1]: Entering directory `/usr/src/linux-2.6.21-gentoo-r3'
   CC [M]  /home/ricka/src/uvcvideo/trunk/uvc_driver.o
   CC [M]  /home/ricka/src/uvcvideo/trunk/uvc_queue.o
   CC [M]  /home/ricka/src/uvcvideo/trunk/uvc_v4l2.o
   CC [M]  /home/ricka/src/uvcvideo/trunk/uvc_video.o
/home/ricka/src/uvcvideo/trunk/uvc_video.c:30: error: expected  
identifier or '(' before '<<' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c: In function  
'uvc_query_ctrl':
/home/ricka/src/uvcvideo/trunk/uvc_video.c:56: error: expected  
declaration specifiers before '==' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:86: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:93: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:154: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:191: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:295: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:367: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:390: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:412: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:452: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:482: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:520: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:584: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:625: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:654: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:730: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:795: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:821: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:883: error: expected '=',  
',', ';', 'asm' or '__attribute__' before '{' token
/home/ricka/src/uvcvideo/trunk/uvc_video.c:935: error: expected '{'  
at end of input
/home/ricka/src/uvcvideo/trunk/uvc_video.c:935: warning: no return  
statement in function returning non-void
make[2]: *** [/home/ricka/src/uvcvideo/trunk/uvc_video.o] Error 1
make[1]: *** [_module_/home/ricka/src/uvcvideo/trunk] Error 2
make[1]: Leaving directory `/usr/src/linux-2.6.21-gentoo-r3'
make: *** [uvcvideo] Error 2
[ricka]: ~/src/uvcvideo/trunk
nemo {1044}



From laurent.pinchart at skynet.be  Sat Aug  4 23:25:24 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 4 Aug 2007 23:25:24 +0200
Subject: [Linux-uvc-devel] Compile error with Build 120
In-Reply-To: <E04C3906-6902-47C9-93EF-D99F7552DE69@arabian.am>
References: <E04C3906-6902-47C9-93EF-D99F7552DE69@arabian.am>
Message-ID: <200708042325.26879.laurent.pinchart@skynet.be>

On Saturday 04 August 2007, Rick Arabian wrote:
> Hi,
>
> I just grabbed the latest build from subversion and it doesn't
> compile on my Gentoo box.  Does this make any sense?  If so, any idea
> how I could fix it?  The previous versions have always built fine.

I think you've modified your sources manually before updating to 120, which 
then resulted in a conflict.

Regards,

Laurent Pinchart

> Thanks,
>
> --Rick
>
> [ricka]: ~/src/uvcvideo/trunk
> nemo {1041} uname -a
> Linux nemo 2.6.21-gentoo-r3 #1 SMP Mon Jun 25 11:12:54 PDT 2007 i686
> Intel(R) Pentium(R) 4 CPU 3.00GHz GenuineIntel GNU/Linux
> [ricka]: ~/src/uvcvideo/trunk
> nemo {1042} make clean
> rm -f *.o *.ko .*.cmd .*.flags *.mod.c Modules.symvers
> rm -rf .tmp_versions
> [ricka]: ~/src/uvcvideo/trunk
> nemo {1043} make
> Building USB Video Class driver...
> make[1]: Entering directory `/usr/src/linux-2.6.21-gentoo-r3'
>    CC [M]  /home/ricka/src/uvcvideo/trunk/uvc_driver.o
>    CC [M]  /home/ricka/src/uvcvideo/trunk/uvc_queue.o
>    CC [M]  /home/ricka/src/uvcvideo/trunk/uvc_v4l2.o
>    CC [M]  /home/ricka/src/uvcvideo/trunk/uvc_video.o
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:30: error: expected
> identifier or '(' before '<<' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c: In function
> 'uvc_query_ctrl':
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:56: error: expected
> declaration specifiers before '==' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:86: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:93: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:154: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:191: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:295: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:367: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:390: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:412: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:452: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:482: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:520: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:584: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:625: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:654: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:730: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:795: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:821: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:883: error: expected '=',
> ',', ';', 'asm' or '__attribute__' before '{' token
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:935: error: expected '{'
> at end of input
> /home/ricka/src/uvcvideo/trunk/uvc_video.c:935: warning: no return
> statement in function returning non-void
> make[2]: *** [/home/ricka/src/uvcvideo/trunk/uvc_video.o] Error 1
> make[1]: *** [_module_/home/ricka/src/uvcvideo/trunk] Error 2
> make[1]: Leaving directory `/usr/src/linux-2.6.21-gentoo-r3'
> make: *** [uvcvideo] Error 2
> [ricka]: ~/src/uvcvideo/trunk
> nemo {1044}
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel



From laurent.pinchart at skynet.be  Sat Aug  4 23:27:42 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 4 Aug 2007 23:27:42 +0200
Subject: [Linux-uvc-devel] Microdia 0c45:624f
In-Reply-To: <9b9f358a0708040826n3241454ay722b991ec881fb14@mail.gmail.com>
References: <9b9f358a0708040826n3241454ay722b991ec881fb14@mail.gmail.com>
Message-ID: <200708042327.43673.laurent.pinchart@skynet.be>

On Saturday 04 August 2007, Ilya Kuznetsov wrote:
> >Please post the output of
> >lsusb -v -d 0c45:624f
>
> # lsusb -v -d 0c45:624f
>
> Bus 001 Device 003: ID 0c45:624f Microdia
> Device Descriptor:
>   bLength                18
>   bDescriptorType         1
>   bcdUSB               2.00
>   bDeviceClass            0 (Defined at Interface level)
>   bDeviceSubClass         0
>   bDeviceProtocol         0
>   bMaxPacketSize0        64
>   idVendor           0x0c45 Microdia
>   idProduct          0x624f
>   bcdDevice            1.00
>   iManufacturer           0
>   iProduct                1 USB20 Camera
>   iSerial                 0
>   bNumConfigurations      1
>   Configuration Descriptor:
>     bLength                 9
>     bDescriptorType         2
>     wTotalLength          279
>     bNumInterfaces          1
>     bConfigurationValue     1
>     iConfiguration          0
>     bmAttributes         0x80
>       (Bus Powered)
>     MaxPower              500mA
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       0
>       bNumEndpoints           3
>       bInterfaceClass       255 Vendor Specific Class
>       bInterfaceSubClass    255 Vendor Specific Subclass
>       bInterfaceProtocol    255 Vendor Specific Protocol

Vendor specific class. This isn't a UVC device, so it won't be supported by 
the UVC driver.

>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            1
>           Transfer Type            Isochronous
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0000  1x 0 bytes
>         bInterval               1
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x82  EP 2 IN
>         bmAttributes            2
>           Transfer Type            Bulk
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0001  1x 1 bytes
>         bInterval              10
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       1
>       bNumEndpoints           3
>       bInterfaceClass       255 Vendor Specific Class
>       bInterfaceSubClass    255 Vendor Specific Subclass
>       bInterfaceProtocol    255 Vendor Specific Protocol
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            1
>           Transfer Type            Isochronous
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0080  1x 128 bytes
>         bInterval               1
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x82  EP 2 IN
>         bmAttributes            2
>           Transfer Type            Bulk
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0001  1x 1 bytes
>         bInterval              10
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       2
>       bNumEndpoints           3
>       bInterfaceClass       255 Vendor Specific Class
>       bInterfaceSubClass    255 Vendor Specific Subclass
>       bInterfaceProtocol    255 Vendor Specific Protocol
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            1
>           Transfer Type            Isochronous
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0100  1x 256 bytes
>         bInterval               1
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x82  EP 2 IN
>         bmAttributes            2
>           Transfer Type            Bulk
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0001  1x 1 bytes
>         bInterval              10
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       3
>       bNumEndpoints           3
>       bInterfaceClass       255 Vendor Specific Class
>       bInterfaceSubClass    255 Vendor Specific Subclass
>       bInterfaceProtocol    255 Vendor Specific Protocol
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            1
>           Transfer Type            Isochronous
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0180  1x 384 bytes
>         bInterval               1
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x82  EP 2 IN
>         bmAttributes            2
>           Transfer Type            Bulk
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0001  1x 1 bytes
>         bInterval              10
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       4
>       bNumEndpoints           3
>       bInterfaceClass       255 Vendor Specific Class
>       bInterfaceSubClass    255 Vendor Specific Subclass
>       bInterfaceProtocol    255 Vendor Specific Protocol
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            1
>           Transfer Type            Isochronous
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               1
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x82  EP 2 IN
>         bmAttributes            2
>           Transfer Type            Bulk
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0001  1x 1 bytes
>         bInterval              10
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       5
>       bNumEndpoints           3
>       bInterfaceClass       255 Vendor Specific Class
>       bInterfaceSubClass    255 Vendor Specific Subclass
>       bInterfaceProtocol    255 Vendor Specific Protocol
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            1
>           Transfer Type            Isochronous
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x02a8  1x 680 bytes
>         bInterval               1
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x82  EP 2 IN
>         bmAttributes            2
>           Transfer Type            Bulk
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0001  1x 1 bytes
>         bInterval              10
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       6
>       bNumEndpoints           3
>       bInterfaceClass       255 Vendor Specific Class
>       bInterfaceSubClass    255 Vendor Specific Subclass
>       bInterfaceProtocol    255 Vendor Specific Protocol
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            1
>           Transfer Type            Isochronous
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0320  1x 800 bytes
>         bInterval               1
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x82  EP 2 IN
>         bmAttributes            2
>           Transfer Type            Bulk
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0001  1x 1 bytes
>         bInterval              10
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       7
>       bNumEndpoints           3
>       bInterfaceClass       255 Vendor Specific Class
>       bInterfaceSubClass    255 Vendor Specific Subclass
>       bInterfaceProtocol    255 Vendor Specific Protocol
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            1
>           Transfer Type            Isochronous
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0b84  2x 900 bytes
>         bInterval               1
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x82  EP 2 IN
>         bmAttributes            2
>           Transfer Type            Bulk
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0001  1x 1 bytes
>         bInterval              10
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       8
>       bNumEndpoints           3
>       bInterfaceClass       255 Vendor Specific Class
>       bInterfaceSubClass    255 Vendor Specific Subclass
>       bInterfaceProtocol    255 Vendor Specific Protocol
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            1
>           Transfer Type            Isochronous
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x1400  3x 0 bytes
>         bInterval               1
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x82  EP 2 IN
>         bmAttributes            2
>           Transfer Type            Bulk
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0200  1x 512 bytes
>         bInterval               0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0001  1x 1 bytes
>         bInterval              10
> Device Qualifier (for other device speed):
>   bLength                10
>   bDescriptorType         6
>   bcdUSB               2.00
>   bDeviceClass            0 (Defined at Interface level)
>   bDeviceSubClass         0
>   bDeviceProtocol         0
>   bMaxPacketSize0        64
>   bNumConfigurations      1
> Device Status:     0x0000
>   (Bus Powered)

Best regards,

Laurent Pinchart


From shayne at gnuworldcomputers.com  Tue Aug  7 06:55:09 2007
From: shayne at gnuworldcomputers.com (Shayne O'Connor)
Date: Tue, 7 Aug 2007 14:55:09 +1000
Subject: [Linux-uvc-devel] Support for Inspiron 1420 Integrated Webcam
In-Reply-To: <b18c8a6b0708062145o2e3a991elae97e8162abc75d3@mail.gmail.com>
References: <b18c8a6b0708062145o2e3a991elae97e8162abc75d3@mail.gmail.com>
Message-ID: <b18c8a6b0708062155sda8c689q6ba850e1e1ea6c16@mail.gmail.com>

Hi,

I recently purchased a Dell Inspiron 1420 with Integrated Webcam. I'm using
Ubuntu Feisty with kernel 2.6.20-16-generic. From what I can gather from
dmesg, the webcam is detected but not supported:

[   17.453000] Linux video capture interface: v2.00
[   17.483000] usbcore: registered new interface driver hci_usb
[   17.483000] usbcore: registered new interface driver hiddev
[   17.561000] uvcvideo: Found UVC 1.00 device Laptop Integrated Webcam
(05a9:2640)
[   17.561000] uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32
(exp. 26).
[   17.561000] uvcvideo: Failed to initialize the device (-5).

Is there any chance that support for this device can be added? I'll attach
the output from "lsusb -v" if it helps, and let me know if any other info
would be helpful.

-- 
Shayne O'Connor
Gnu World Computers




-- 
Shayne O'Connor
Gnu World Computers
---------------------------------
Ph: 0420 773 947
---------------------------------
www.gnuworldcomputers.com
---------------------------------
Skype: gnuworldcomputers
Yahoo: gnuworld
MSN: gnuworld at hotmail.com
---------------------------------
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070807/2f997f51/attachment.html>
-------------- next part --------------
Bus 007 Device 003: ID 05a9:2640 OmniVision Technologies, Inc. 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x05a9 OmniVision Technologies, Inc.
  idProduct          0x2640 
  bcdDevice            1.00
  iManufacturer           1 
  iProduct                2 Laptop Integrated Webcam
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          705
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               2 Laptop Integrated Webcam
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              2 Laptop Integrated Webcam
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          109
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                17
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  2
        bmControls           0x00000a00
          Zoom (Absolute)
          PanTilt (Absolute)
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0 
      VideoControl Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      4 (SELECTOR_UNIT)
        bUnitID                 4
        bNrInPins               1
        baSource( 0)            1
        iSelector               0 
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 5
        bSourceID               4
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000557f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
          Digital Multiplier
        iProcessing             0 
        bmVideoStandards     0x1a
          NTSC - 525/60
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 7
        guidExtensionCode         {dd880f8a-1cba-4954-8a25-f7875967f0f7}
        bNumControl             1
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0 
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 6
        guidExtensionCode         {8e4af708-51ab-4625-a2a2-31aab38e59da}
        bNumControl             1
        bNrPins                 1
        baSourceID( 0)          5
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              16
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        2
        wTotalLength                    33025
        bEndPointAddress                    0
        bmInfo                              3
        bTerminalLink                       0
        bStillCaptureMethod                 0
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    11
        bmaControls( 1)                    11
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        1
        bNumFrameDescriptors                9
        bFlags                              1
          Fixed-size samples: Yes
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                147456000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  9216000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                 12165120
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                 36864000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                 48660480
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         6
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            800
        wHeight                           600
        dwMinBitRate                230400000
        dwMaxBitRate                230400000
        dwMaxVideoFrameBufferSize      960000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         7
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1024
        wHeight                           768
        dwMinBitRate                 94371840
        dwMaxBitRate                 94371840
        dwMaxVideoFrameBufferSize     1572864
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  1
        dwFrameInterval( 0)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         8
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                          1024
        dwMinBitRate                157286400
        dwMaxBitRate                157286400
        dwMaxVideoFrameBufferSize     2621440
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  1
        dwFrameInterval( 0)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         9
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1600
        wHeight                          1200
        dwMinBitRate                230400000
        dwMaxBitRate                230400000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  1
        dwFrameInterval( 0)           1000000
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        2
        bNumFrameDescriptors                5
        guidFormat                            {32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                147456000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  1
        dwFrameInterval( 0)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  9216000
        dwMaxBitRate                  9216000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                 12165120
        dwMaxBitRate                 12165120
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                 36864000
        dwMaxBitRate                 36864000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                 48660480
        dwMaxBitRate                 48660480
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x03fc  1x 1020 bytes
        bInterval               1
        UNRECOGNIZED:  30 ff 42 49 53 54 00 01 08 01 10 00 00 00 00 00 d1 03 f4 01 d2 04 f4 01 d3 05 f4 01 d4 06 f4 01 d5 07 f4 01 d6 08 f4 01 d7 09 f4 01 d8 0a f4 01
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0         8
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)

From nethad at gmx.net  Tue Aug  7 16:09:57 2007
From: nethad at gmx.net (nethad)
Date: Tue, 7 Aug 2007 16:09:57 +0200
Subject: [Linux-uvc-devel] Support for Inspiron 1420 Integrated Webcam
In-Reply-To: <mailman.1051.1186462531.5475.linux-uvc-devel@lists.berlios.de>
References: <mailman.1051.1186462531.5475.linux-uvc-devel@lists.berlios.de>
Message-ID: <200708071609.58112.nethad@gmx.net>

Hi Shayne,

i had the same error. Restart your notebook, it worked for me. (I then could 
see a webcam picture with luvcview). If that does not help, try it with 
kdetv.

Regards,
Thomas


From linux23d at adam.com.au  Wed Aug  8 11:43:10 2007
From: linux23d at adam.com.au (linux23d at adam.com.au)
Date: Wed, 08 Aug 2007 18:43:10 +0900
Subject: [Linux-uvc-devel] Support for Inspiron 1420 Integrated Webcam
Message-ID: <43062.1186564390@adam.com.au>

An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070808/2c4fd397/attachment.html>

From mickael.drean at gmail.com  Wed Aug  8 23:08:08 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Wed, 8 Aug 2007 23:08:08 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
Message-ID: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>

Hi there,

I'm new into linux and I'm introducing into it using the FC7,

Trying to configure my webcam, the only thing able to manage my webcam seems
to be uvc...

So, I tried with the svn source code, compile, install, etc.... But it
stills does not work.


Here is some information :

# lusb :
Bus 002 Device 003: ID 5986:0100
Bus 002 Device 001: ID 0000:0000
Bus 001 Device 001: ID 0000:0000
Bus 001 Device 002: ID 045e:00d2 Microsoft Corp.



# lsmod | grep video :
video                  28113  0
uvcvideo               49156  0
videodev               36673  3 cpia,ov511,uvcvideo
v4l1_compat            20549  2 uvcvideo,videodev
v4l2_common            28353  3 compat_ioctl32,uvcvideo,videodev

uname -a
Linux localhost.localdomain 2.6.22.1-41.fc7 #1 SMP Fri Jul 27 18:21:43 EDT
2007 x86_64 x86_64 x86_64 GNU/Linux


# dmesg:
...
Linux video capture interface: v2.00
uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
uvcvideo: No valid video chain found.
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)
..


and when I try to launch luvcview i got this:

uvcview verion 0.1.4
Video driver: x11
A window manager is available
video /dev/video0
ERROR opening V4L interface
: No such file or directory



Could you give me some help,


thanks by advance.


Micka?l
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070808/cb9c4384/attachment.html>

From shayne at gnuworldcomputers.com  Thu Aug  9 00:02:54 2007
From: shayne at gnuworldcomputers.com (Shayne O'Connor)
Date: Thu, 9 Aug 2007 08:02:54 +1000
Subject: [Linux-uvc-devel] Support for Inspiron 1420 Integrated Webcam
In-Reply-To: <b18c8a6b0708081502w4c32884ak2564a0704d291ef0@mail.gmail.com>
References: <mailman.1051.1186462531.5475.linux-uvc-devel@lists.berlios.de>
	<200708071609.58112.nethad@gmx.net>
	<b18c8a6b0708081502w4c32884ak2564a0704d291ef0@mail.gmail.com>
Message-ID: <b18c8a6b0708081502v6d4676eenea2b87ca8d19a6dc@mail.gmail.com>

On 8/8/07, nethad <nethad at gmx.net> wrote:
>
> Hi Shayne,
>
> i had the same error. Restart your notebook, it worked for me. (I then
> could
> see a webcam picture with luvcview). If that does not help, try it with
> kdetv.


Hi Thomas. Restarting the notebook doesn't help :( ... tried with luvcview
and kdetv, but as the poster below noted, no /dev/video node exists.

The same goes for the Dell Inspiron 1520 :)
> I see the same log output. But I see no (/dev/video) device node.
>
> I don't have the Notebook on me ATM, as it is not mine.  But I can get my
> hands on it this weekend.
>


-- 
Shayne O'Connor
Gnu World Computers
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070809/6b563950/attachment.html>

From laurent.pinchart at skynet.be  Thu Aug  9 00:21:49 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 9 Aug 2007 00:21:49 +0200
Subject: [Linux-uvc-devel] Support for Inspiron 1420 Integrated Webcam
In-Reply-To: <b18c8a6b0708062155sda8c689q6ba850e1e1ea6c16@mail.gmail.com>
References: <b18c8a6b0708062145o2e3a991elae97e8162abc75d3@mail.gmail.com>
	<b18c8a6b0708062155sda8c689q6ba850e1e1ea6c16@mail.gmail.com>
Message-ID: <200708090021.49619.laurent.pinchart@skynet.be>

Hi Shayne,

On Tuesday 07 August 2007, Shayne O'Connor wrote:
> Hi,
>
> I recently purchased a Dell Inspiron 1420 with Integrated Webcam. I'm using
> Ubuntu Feisty with kernel 2.6.20-16-generic. From what I can gather from
> dmesg, the webcam is detected but not supported:
>
> [   17.453000] Linux video capture interface: v2.00
> [   17.483000] usbcore: registered new interface driver hci_usb
> [   17.483000] usbcore: registered new interface driver hiddev
> [   17.561000] uvcvideo: Found UVC 1.00 device Laptop Integrated Webcam
> (05a9:2640)
> [   17.561000] uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32
> (exp. 26).
> [   17.561000] uvcvideo: Failed to initialize the device (-5).
>
> Is there any chance that support for this device can be added? I'll attach
> the output from "lsusb -v" if it helps, and let me know if any other info
> would be helpful.

Please try the attached patch and let me know if it helps.

Best regards,

Laurent Pinchart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dell.diff
Type: text/x-diff
Size: 708 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070809/e4b0e4ba/attachment.diff>

From mickael.drean at gmail.com  Thu Aug  9 00:54:41 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Thu, 9 Aug 2007 00:54:41 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708090015.37019.laurent.pinchart@skynet.be>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708090015.37019.laurent.pinchart@skynet.be>
Message-ID: <e4b61e4b0708081554n7012448bj6a8bc52ff102641f@mail.gmail.com>

Hello Laurent,

2007/8/9, Laurent Pinchart <laurent.pinchart at skynet.be>:
>
> Hi Micka?l,
>
> On Wednesday 08 August 2007, Mickael Drean wrote:
> > Hi there,
> >
> > I'm new into linux and I'm introducing into it using the FC7,
> >
> > Trying to configure my webcam, the only thing able to manage my webcam
> > seems to be uvc...
> >
> > So, I tried with the svn source code, compile, install, etc.... But it
> > stills does not work.
> >
> >
> > Here is some information :
> >
> > # lusb :
> > Bus 002 Device 003: ID 5986:0100
>
> That webcam should work with the latest driver.
>
> > Bus 002 Device 001: ID 0000:0000
> > Bus 001 Device 001: ID 0000:0000
> > Bus 001 Device 002: ID 045e:00d2 Microsoft Corp.
> >
> >
> > # lsmod | grep video :
> > video                  28113  0
> > uvcvideo               49156  0
> > videodev               36673  3 cpia,ov511,uvcvideo
> > v4l1_compat            20549  2 uvcvideo,videodev
> > v4l2_common            28353  3 compat_ioctl32,uvcvideo,videodev
> >
> > uname -a
> > Linux localhost.localdomain 2.6.22.1-41.fc7 #1 SMP Fri Jul 27 18:21:43
> EDT
> > 2007 x86_64 x86_64 x86_64 GNU/Linux
> >
> >
> > # dmesg:
> > ...
> > Linux video capture interface: v2.00
> > uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
> > uvcvideo: No valid video chain found.
> > usbcore: registered new interface driver uvcvideo
> > USB Video Class driver (v0.1.0)
>
> Weird... Make sure you're using the SVN version (revision 120).


well i don't know how to check if I get the good version, but I did a svn
checkout today so I suppose this is the good one.


If it still
> doesn't work, please post the output of lsusb -v (with usbutils 0.72 or
> newer).


Here is the lsusb -v output :

Bus 002 Device 003: ID 5986:0100
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x5986
  idProduct          0x0100
  bcdDevice            1.00
  iManufacturer           0
  iProduct                1 USB2.0 Camera
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          632
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
    MaxPower              500mA
    UNRECOGNIZED:  08 0b 00 02 0e 03 00 01
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              1 USB2.0 Camera
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              15
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 0 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0        64
  bNumConfigurations      1

Bus 002 Device 001: ID 0000:0000
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         1 Single TT
  bMaxPacketSize0        64
  idVendor           0x0000
  idProduct          0x0000
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.22.1-41.fc7 ehci_hcd
  iProduct                2 EHCI Host Controller
  iSerial                 1 0000:00:0b.1
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 Full speed (or root) hub
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0004  1x 4 bytes
        bInterval              12
Hub Descriptor:
  bLength              11
  bDescriptorType      41
  nNbrPorts             8
  wHubCharacteristic 0x000a
    No power switching (usb 1.0)
    Per-port overcurrent protection
    TT think time 8 FS bits
  bPwrOn2PwrGood       10 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00 0x60
  PortPwrCtrlMask    0xb7  0x34
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0100 power
   Port 3: 0000.0100 power
   Port 4: 0000.0100 power
   Port 5: 0000.0100 power
   Port 6: 0000.0503 highspeed power enable connect
   Port 7: 0000.0100 power
   Port 8: 0000.0100 power

Bus 001 Device 002: ID 045e:00d2 Microsoft Corp.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0         8
  idVendor           0x045e Microsoft Corp.
  idProduct          0x00d2
  bcdDevice            1.20
  iManufacturer           1 Microsoft
  iProduct                2 Microsoft Notebook Optical Mouse with Tilt Wheel
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           34
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xa0
      Remote Wakeup
    MaxPower              100mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         3 Human Interface Devices
      bInterfaceSubClass      1 Boot Interface Subclass
      bInterfaceProtocol      2 Mouse
      iInterface              0
        HID Device Descriptor:
          bLength                 9
          bDescriptorType        33
          bcdHID               1.11
          bCountryCode            0 Not supported
          bNumDescriptors         1
          bDescriptorType        34 Report
          wDescriptorLength     196
         Report Descriptors:
           ** UNAVAILABLE **
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0006  1x 6 bytes
        bInterval              10

Bus 001 Device 001: ID 0000:0000
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         0 Full speed (or root) hub
  bMaxPacketSize0        64
  idVendor           0x0000
  idProduct          0x0000
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.22.1-41.fc7 ohci_hcd
  iProduct                2 OHCI Host Controller
  iSerial                 1 0000:00:0b.0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 Full speed (or root) hub
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval             255
Hub Descriptor:
  bLength              11
  bDescriptorType      41
  nNbrPorts             8
  wHubCharacteristic 0x0002
    No power switching (usb 1.0)
    Ganged overcurrent protection
  bPwrOn2PwrGood        1 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00 0x60
  PortPwrCtrlMask    0xb7  0x34
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0303 lowspeed power enable connect
   Port 3: 0000.0100 power
   Port 4: 0000.0100 power
   Port 5: 0000.0100 power
   Port 6: 0000.0100 power
   Port 7: 0000.0100 power
   Port 8: 0000.0100 power
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070809/8d32d318/attachment.html>

From laurent.pinchart at skynet.be  Thu Aug  9 00:15:36 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 9 Aug 2007 00:15:36 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
Message-ID: <200708090015.37019.laurent.pinchart@skynet.be>

Hi Micka?l,

On Wednesday 08 August 2007, Mickael Drean wrote:
> Hi there,
>
> I'm new into linux and I'm introducing into it using the FC7,
>
> Trying to configure my webcam, the only thing able to manage my webcam
> seems to be uvc...
>
> So, I tried with the svn source code, compile, install, etc.... But it
> stills does not work.
>
>
> Here is some information :
>
> # lusb :
> Bus 002 Device 003: ID 5986:0100

That webcam should work with the latest driver.

> Bus 002 Device 001: ID 0000:0000
> Bus 001 Device 001: ID 0000:0000
> Bus 001 Device 002: ID 045e:00d2 Microsoft Corp.
>
>
> # lsmod | grep video :
> video                  28113  0
> uvcvideo               49156  0
> videodev               36673  3 cpia,ov511,uvcvideo
> v4l1_compat            20549  2 uvcvideo,videodev
> v4l2_common            28353  3 compat_ioctl32,uvcvideo,videodev
>
> uname -a
> Linux localhost.localdomain 2.6.22.1-41.fc7 #1 SMP Fri Jul 27 18:21:43 EDT
> 2007 x86_64 x86_64 x86_64 GNU/Linux
>
>
> # dmesg:
> ...
> Linux video capture interface: v2.00
> uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
> uvcvideo: No valid video chain found.
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (v0.1.0)

Weird... Make sure you're using the SVN version (revision 120). If it still 
doesn't work, please post the output of lsusb -v (with usbutils 0.72 or 
newer).

> and when I try to launch luvcview i got this:
>
> uvcview verion 0.1.4
> Video driver: x11
> A window manager is available
> video /dev/video0
> ERROR opening V4L interface
>
> : No such file or directory
>
> Could you give me some help,

Best regards,

Laurent Pinchart


From felix at derklecks.de  Thu Aug  9 12:17:43 2007
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Thu, 09 Aug 2007 12:17:43 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <46B470B2.6020503@derklecks.de>
References: <46B470B2.6020503@derklecks.de>
Message-ID: <46BAE9C7.1050005@derklecks.de>

Hi,

> I cannot get my iSight in an early 2006 MacBook working.
> 
> In dmesg I get the following:
> # dmesg | grep uvc -i
> uvcvideo: iSight: firmware successfully loaded.
> uvcvideo: Found UVC 0.00 device <unnamed> (05ac:8300)
> uvcvideo: No valid video chain found.
> usbcore: registered new interface driver uvcvideo
> uvcvideo: iSight: firmware already loaded.
> uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
> uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp. 26).

Is there anything I could try? I am willing to compile from SVN or
provide any needed information.

Hope to get this working ...

Felix M?ller


From monnier at iro.umontreal.ca  Thu Aug  9 21:15:36 2007
From: monnier at iro.umontreal.ca (Stefan Monnier)
Date: Thu, 09 Aug 2007 15:15:36 -0400
Subject: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?
Message-ID: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>


The archive shows that Evgeny was working on a patch for the problem, and
his latest message
(http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg00430.html)
says:

   By the way, my work over hardware bug is almost complete.  I'll post
   stable patch soon.  The bug is definitely in hardware, but we can bypass
   it in driver.

That was in Dec 2006.  Any news?

Are the relevant patches archived somewhere?
The wiki at http://openfacts.berlios.de/index-en.phtml?title=Linux+UVC
doesn't say a word about the problem, let alone link to a patch.


        Stefan



From dave at slavesoftware.co.uk  Fri Aug 10 08:06:44 2007
From: dave at slavesoftware.co.uk (Dave Richards)
Date: Fri, 10 Aug 2007 07:06:44 +0100
Subject: [Linux-uvc-devel] Uvcvideo compiled when v4l-dvb mercurial
	installed - unresolved	symbols?
Message-ID: <1186726004.9078.27.camel@ubuntu>

Hello there Gents.

I'm trying to use a Creative Labs Optia with Ekiga and aMsn but uvcvideo
is giving unresolved symbols in dmesg.

The root of the problem seems to be the Digital T.V. module I have to
use to get my Hauppage WinTVNova-t USB 2 stick to function correctly; I
have to pull the source for v4l-dvb from their mercurial repository and
compile / install rather than use the drop that comes with Ububtu Feisty
2.6.20-16. 
v4l-dvb use their own version of the v4l headers, and that causes any
v4l related modules built with the standard headers to fail loading with
a number of unresolved symbols. 
My understanding is the fix for this should be to use 'make
kernel-links' from within the v4l-dvb distribution; this updates the
headers and hence a compile of uvcvideo thereafter should work.
Unfortunately despite doing this I still see unresolved symbols.

[ 9463.160000] usb 5-3: new high speed USB device using ehci_hcd and
address 4
[ 9463.584000] usb 5-3: configuration #1 chosen from 1 choice
[ 9463.652000] Linux video capture interface: v2.00
[ 9463.656000] uvcvideo: disagrees about version of symbol video_devdata
[ 9463.656000] uvcvideo: Unknown symbol video_devdata
[ 9463.656000] uvcvideo: disagrees about version of symbol
video_unregister_device
[ 9463.656000] uvcvideo: Unknown symbol video_unregister_device
[ 9463.656000] uvcvideo: disagrees about version of symbol
video_device_alloc
[ 9463.656000] uvcvideo: Unknown symbol video_device_alloc
[ 9463.656000] uvcvideo: disagrees about version of symbol
video_register_device
[ 9463.656000] uvcvideo: Unknown symbol video_register_device
[ 9463.656000] uvcvideo: disagrees about version of symbol
video_device_release
[ 9463.656000] uvcvideo: Unknown symbol video_device_release
[ 9463.664000] uvcvideo: disagrees about version of symbol video_devdata
[ 9463.664000] uvcvideo: Unknown symbol video_devdata
[ 9463.664000] uvcvideo: disagrees about version of symbol
video_unregister_device
[ 9463.664000] uvcvideo: Unknown symbol video_unregister_device
[ 9463.664000] uvcvideo: disagrees about version of symbol
video_device_alloc
[ 9463.664000] uvcvideo: Unknown symbol video_device_alloc
[ 9463.664000] uvcvideo: disagrees about version of symbol
video_register_device
[ 9463.664000] uvcvideo: Unknown symbol video_register_device
[ 9463.668000] uvcvideo: disagrees about version of symbol
video_device_release
[ 9463.668000] uvcvideo: Unknown symbol video_device_release


If anyone can throw a bone my way on this it would be appreciated.

Regards

Dave. 



From laurent.pinchart at skynet.be  Sat Aug 11 23:06:39 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 11 Aug 2007 23:06:39 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708081554n7012448bj6a8bc52ff102641f@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708090015.37019.laurent.pinchart@skynet.be>
	<e4b61e4b0708081554n7012448bj6a8bc52ff102641f@mail.gmail.com>
Message-ID: <200708112306.39868.laurent.pinchart@skynet.be>

Hi Micka?l,

On Thursday 09 August 2007, Mickael Drean wrote:
> Hello Laurent,
>
> 2007/8/9, Laurent Pinchart <laurent.pinchart at skynet.be>:
> > Hi Micka?l,
> >
> > On Wednesday 08 August 2007, Mickael Drean wrote:
> > > Hi there,
> > >
> > > I'm new into linux and I'm introducing into it using the FC7,
> > >
> > > Trying to configure my webcam, the only thing able to manage my webcam
> > > seems to be uvc...
> > >
> > > So, I tried with the svn source code, compile, install, etc.... But it
> > > stills does not work.
> > >
> > >
> > > Here is some information :
[snip]
> >
> > Weird... Make sure you're using the SVN version (revision 120).
>
> well i don't know how to check if I get the good version, but I did a svn
> checkout today so I suppose this is the good one.

You should have the latest revision then, yes.

> > If it still doesn't work, please post the output of lsusb -v (with
> > usbutils 0.72 or newer).
>
> Here is the lsusb -v output :

[snip]

You're using an old version of usbutils. Please upgrade to 0.72 or newer, 
otherwise the lsusb output is pretty useless for UVC devices.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Aug 11 23:16:20 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 11 Aug 2007 23:16:20 +0200
Subject: [Linux-uvc-devel]
	=?iso-8859-1?q?Uvcvideo_compiled_when_v4l-dvb_m?=
	=?iso-8859-1?q?ercurial_installed_-_unresolved=09symbols=3F?=
In-Reply-To: <1186726004.9078.27.camel@ubuntu>
References: <1186726004.9078.27.camel@ubuntu>
Message-ID: <200708112316.20310.laurent.pinchart@skynet.be>

Hi Dave,

On Friday 10 August 2007, Dave Richards wrote:
> Hello there Gents.
>
> I'm trying to use a Creative Labs Optia with Ekiga and aMsn but uvcvideo
> is giving unresolved symbols in dmesg.
>
> The root of the problem seems to be the Digital T.V. module I have to
> use to get my Hauppage WinTVNova-t USB 2 stick to function correctly; I
> have to pull the source for v4l-dvb from their mercurial repository and
> compile / install rather than use the drop that comes with Ububtu Feisty
> 2.6.20-16.
> v4l-dvb use their own version of the v4l headers, and that causes any
> v4l related modules built with the standard headers to fail loading with
> a number of unresolved symbols.
> My understanding is the fix for this should be to use 'make
> kernel-links' from within the v4l-dvb distribution; this updates the
> headers and hence a compile of uvcvideo thereafter should work.
> Unfortunately despite doing this I still see unresolved symbols.
>
[snip]
>
> If anyone can throw a bone my way on this it would be appreciated.

I unfortunately can't help you there. Unless someone subscribed to this list 
has more information, you should probably ask for help on the v4l-dvb related 
mailing lists/forums. They are the ones who broke the v4l headers in the 
first place, so they should be able to help you fixing them :-)

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Aug 11 23:24:20 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 11 Aug 2007 23:24:20 +0200
Subject: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?
In-Reply-To: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
Message-ID: <200708112324.20347.laurent.pinchart@skynet.be>

Hi Stefan,

On Thursday 09 August 2007, Stefan Monnier wrote:
> The archive shows that Evgeny was working on a patch for the problem, and
> his latest message
> (http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg00430.html
>) says:
>
>    By the way, my work over hardware bug is almost complete.  I'll post
>    stable patch soon.  The bug is definitely in hardware, but we can bypass
>    it in driver.
>
> That was in Dec 2006.  Any news?
>
> Are the relevant patches archived somewhere?

The patch Evgeny mentioned has never been posted to this list. To be honest, 
the Logitech hardware/firmware bug is pretty nasty, and I'm not sure if it's 
possible to fix it with a host-side hack only. The bug should have been fixed 
in latest Logitech webcams but I haven't been able to test them yet.

> The wiki at http://openfacts.berlios.de/index-en.phtml?title=Linux+UVC
> doesn't say a word about the problem, let alone link to a patch.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Aug 12 12:01:09 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 12 Aug 2007 12:01:09 +0200
Subject: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?
In-Reply-To: <jwvvebl5srx.fsf-monnier+inbox@gnu.org>
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
	<200708112324.20347.laurent.pinchart@skynet.be>
	<jwvvebl5srx.fsf-monnier+inbox@gnu.org>
Message-ID: <200708121201.10027.laurent.pinchart@skynet.be>

On Sunday 12 August 2007, Stefan Monnier wrote:
> > The patch Evgeny mentioned has never been posted to this list.
>
> Hmmm... the email I link to from the little blurb I added to the wiki does
> seem to contain a version of his patch.

The have been a few patches floating around, but none of them fixed the 
problem. They helped for some users and didn't help for others. Evgeny said 
he was working on a "universal" patch, but that one has never been posted.

> > To be honest, the Logitech hardware/firmware bug is pretty nasty, and I'm
> > not sure if it's possible to fix it with a host-side hack only.
>
> I don't need a fix, I just need a workaround.
>
> > The bug should have been fixed in latest Logitech webcams but I haven't
> > been able to test them yet.
>
> That won't help me unless Logitech replaces them (or distributes a new
> firmware with a tool to update the old one).

The webcams aren't re-flashable. As for replacing them... I can't speak for 
Logitech of course, but I'm pretty much sure to know what they would say :-)

Best regards,

Laurent Pinchart


From felix at derklecks.de  Sun Aug 12 16:41:50 2007
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Sun, 12 Aug 2007 16:41:50 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <46BAE9C7.1050005@derklecks.de>
References: <46B470B2.6020503@derklecks.de> <46BAE9C7.1050005@derklecks.de>
Message-ID: <46BF1C2E.6070603@derklecks.de>

Felix M?ller schrieb:
> Hi,
> 
>> I cannot get my iSight in an early 2006 MacBook working.
>>
> Is there anything I could try? I am willing to compile from SVN or
> provide any needed information.
> 
> Hope to get this working ...
trying uvccapture I get the following:

/uvccapture-0.4 # ./uvccapture -v
Using videodevice: /dev/video0
Saving images to: snap.jpg
Image size: 320x240
Taking snapshot every 0 seconds
Taking images using mmap
Unable to set format: 22.
 Init v4L2 failed !! exit fatal


modprobing with trace=15 I get the following:
> uvcvideo: Adding mapping Brightness to control 00000000-0000-0000-0000-000000000101/2.
> uvcvideo: Adding mapping Contrast to control 00000000-0000-0000-0000-000000000101/3.
> uvcvideo: Adding mapping Hue to control 00000000-0000-0000-0000-000000000101/6.
> uvcvideo: Adding mapping Saturation to control 00000000-0000-0000-0000-000000000101/7.
> uvcvideo: Adding mapping Sharpness to control 00000000-0000-0000-0000-000000000101/8.
> uvcvideo: Adding mapping Gamma to control 00000000-0000-0000-0000-000000000101/9.
> uvcvideo: Adding mapping Backlight Compensation to control 00000000-0000-0000-0000-000000000101/1.
> uvcvideo: Adding mapping Gain to control 00000000-0000-0000-0000-000000000101/4.
> uvcvideo: Adding mapping Power Line Frequency to control 00000000-0000-0000-0000-000000000101/5.
> uvcvideo: Adding mapping Hue, Auto to control 00000000-0000-0000-0000-000000000101/16.
> uvcvideo: Adding mapping Pan (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> uvcvideo: Adding mapping Tilt (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> uvcvideo: Adding mapping Pan/Tilt (reset) to control 63610682-5070-49ab-b8cc-b3855e8d2256/2.
> uvcvideo: Adding mapping Exposure, Auto to control 00000000-0000-0000-0000-000000000001/2.
> uvcvideo: Adding mapping Exposure (Absolute) to control 00000000-0000-0000-0000-000000000001/4.
> uvcvideo: Adding mapping White Balance Temperature, Auto to control 00000000-0000-0000-0000-000000000101/11.
> uvcvideo: Adding mapping White Balance Temperature to control 00000000-0000-0000-0000-000000000101/10.
> uvcvideo: Probing known UVC device 4 (05ac:8501)
> uvcvideo: iSight: firmware already loaded.
> uvcvideo: Found format YUV 4:2:2 (UYVY).
> uvcvideo: - 640x480 (30.0 fps)
> uvcvideo: - 352x288 (30.0 fps)
> uvcvideo: - 320x240 (30.0 fps)
> uvcvideo: Found a Status endpoint (addr 81).
> uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to device 4 entity 2
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/7 to device 4 entity 2
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/8 to device 4 entity 2
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/9 to device 4 entity 2
> uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
> uvcvideo: Found a valid video chain (1 -> 3).
> uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp. 26).
> uvcvideo: UVC device initialized.
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (v0.1.0)

I hope somebody has an idea what to try. ;)

greetings Felix


From tkoehler at acm.org  Sun Aug 12 20:52:30 2007
From: tkoehler at acm.org (Timo Koehler)
Date: Sun, 12 Aug 2007 20:52:30 +0200
Subject: [Linux-uvc-devel] Uvcvideo compiled when v4l-dvb mercurial
	installed - unresolved	symbols?
References: <1186726004.9078.27.camel@ubuntu>
Message-ID: <87zm0w1t75.fsf@tim.cisco.com>

Dave,

Dave Richards <dave at slavesoftware.co.uk> writes:

 > Hello there Gents.
 >
 > I'm trying to use a Creative Labs Optia with Ekiga and aMsn but uvcvideo
 > is giving unresolved symbols in dmesg.
are you sure you have these modules loaded? I think I had the
same unresolved symbols when I forgot to compile them.
v4l2-common.ko 
videodev.ko 

You may have loaded these two as I do not see 'Unknown symbol
v4l_compat_ioctl32' in your output. 
compat_ioctl32.ko 
v4l1-compat.ko 

Regards,
 Timo.

 >
 > The root of the problem seems to be the Digital T.V. module I have to
 > use to get my Hauppage WinTVNova-t USB 2 stick to function correctly; I
 > have to pull the source for v4l-dvb from their mercurial repository and
 > compile / install rather than use the drop that comes with Ububtu Feisty
 > 2.6.20-16. 
 > v4l-dvb use their own version of the v4l headers, and that causes any
 > v4l related modules built with the standard headers to fail loading with
 > a number of unresolved symbols. 
 > My understanding is the fix for this should be to use 'make
 > kernel-links' from within the v4l-dvb distribution; this updates the
 > headers and hence a compile of uvcvideo thereafter should work.
 > Unfortunately despite doing this I still see unresolved symbols.
 >
 > [ 9463.160000] usb 5-3: new high speed USB device using ehci_hcd and
 > address 4
 > [ 9463.584000] usb 5-3: configuration #1 chosen from 1 choice
 > [ 9463.652000] Linux video capture interface: v2.00
 > [ 9463.656000] uvcvideo: disagrees about version of symbol video_devdata
 > [ 9463.656000] uvcvideo: Unknown symbol video_devdata
 > [ 9463.656000] uvcvideo: disagrees about version of symbol
 > video_unregister_device
 > [ 9463.656000] uvcvideo: Unknown symbol video_unregister_device
 > [ 9463.656000] uvcvideo: disagrees about version of symbol
 > video_device_alloc
 > [ 9463.656000] uvcvideo: Unknown symbol video_device_alloc
 > [ 9463.656000] uvcvideo: disagrees about version of symbol
 > video_register_device
 > [ 9463.656000] uvcvideo: Unknown symbol video_register_device
 > [ 9463.656000] uvcvideo: disagrees about version of symbol
 > video_device_release
 > [ 9463.656000] uvcvideo: Unknown symbol video_device_release
 > [ 9463.664000] uvcvideo: disagrees about version of symbol video_devdata
 > [ 9463.664000] uvcvideo: Unknown symbol video_devdata
 > [ 9463.664000] uvcvideo: disagrees about version of symbol
 > video_unregister_device
 > [ 9463.664000] uvcvideo: Unknown symbol video_unregister_device
 > [ 9463.664000] uvcvideo: disagrees about version of symbol
 > video_device_alloc
 > [ 9463.664000] uvcvideo: Unknown symbol video_device_alloc
 > [ 9463.664000] uvcvideo: disagrees about version of symbol
 > video_register_device
 > [ 9463.664000] uvcvideo: Unknown symbol video_register_device
 > [ 9463.668000] uvcvideo: disagrees about version of symbol
 > video_device_release
 > [ 9463.668000] uvcvideo: Unknown symbol video_device_release
 >
 >
 > If anyone can throw a bone my way on this it would be appreciated.
 >
 > Regards
 >
 > Dave. 
 >
 > _______________________________________________
 > Linux-uvc-devel mailing list
 > Linux-uvc-devel at lists.berlios.de
 > https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


From romal at gmx.de  Sun Aug 12 23:28:31 2007
From: romal at gmx.de (Robert M. Albrecht)
Date: Sun, 12 Aug 2007 23:28:31 +0200
Subject: [Linux-uvc-devel] Looking for a streaming too
Message-ID: <46BF7B7F.10609@gmx.de>

Hi,

I bought a Creative Optia AF which works great. Thank for this cool
driver :-)

I'm looking for a streaming tool. I want to stream the webcam to a
webserver or a videolan-client.

All streaming-tools (camstream, ...) seem to be based on v4l and not v4l2.

Is there a streaming-tool known to work with v4l2 ?

cu romal



From MOMOR at tdc.dk  Mon Aug 13 08:25:55 2007
From: MOMOR at tdc.dk (Morten Mortensen)
Date: Mon, 13 Aug 2007 08:25:55 +0200
Subject: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?
In-Reply-To: <200708121201.10027.laurent.pinchart@skynet.be>
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org><200708112324.20347.laurent.pinchart@skynet.be><jwvvebl5srx.fsf-monnier+inbox@gnu.org>
	<200708121201.10027.laurent.pinchart@skynet.be>
Message-ID: <5D16E2E89E828C43A1BA621338322455CCB96B@VESTMB401A.tdk.dk>


- I own a couple of these "fine" Logitech webcams. Something *is* changing in the UVC-driver, because the driver I had until yesterday - a couple of weeks old - could run the Ultra Vision and the Fusion for a period of half a minute and up to three, four or even five minuttes.

The latest UVC-driver runs for one to three seconds, so something has been changed, which influences this by an order of magnitude. These scenarios are absolutely identical for my instances of the Ultra Vision and the Fusion.

One wonders how Logitech circumvents the problem in their Windows drivers.

One wonders *when* manufacturers implement reflashability of their monitors, webcams, etc.

     -----

Please keep up the good work.

Regards
Morten Sabroe Mortensen
 

-----Oprindelig meddelelse-----
Fra: linux-uvc-devel-bounces at lists.berlios.de [mailto:linux-uvc-devel-bounces at lists.berlios.de] P? vegne af Laurent Pinchart
Sendt: 12. august 2007 12:01
Til: Stefan Monnier
Cc: linux-uvc-devel at lists.berlios.de
Emne: Re: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?

On Sunday 12 August 2007, Stefan Monnier wrote:
> > The patch Evgeny mentioned has never been posted to this list.
>
> Hmmm... the email I link to from the little blurb I added to the wiki does
> seem to contain a version of his patch.

The have been a few patches floating around, but none of them fixed the 
problem. They helped for some users and didn't help for others. Evgeny said 
he was working on a "universal" patch, but that one has never been posted.

> > To be honest, the Logitech hardware/firmware bug is pretty nasty, and I'm
> > not sure if it's possible to fix it with a host-side hack only.
>
> I don't need a fix, I just need a workaround.
>
> > The bug should have been fixed in latest Logitech webcams but I haven't
> > been able to test them yet.
>
> That won't help me unless Logitech replaces them (or distributes a new
> firmware with a tool to update the old one).

The webcams aren't re-flashable. As for replacing them... I can't speak for 
Logitech of course, but I'm pretty much sure to know what they would say :-)

Best regards,

Laurent Pinchart
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


From laurent.pinchart at skynet.be  Mon Aug 13 10:03:46 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 13 Aug 2007 10:03:46 +0200
Subject: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?
In-Reply-To: <5D16E2E89E828C43A1BA621338322455CCB96B@VESTMB401A.tdk.dk>
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
	<200708121201.10027.laurent.pinchart@skynet.be>
	<5D16E2E89E828C43A1BA621338322455CCB96B@VESTMB401A.tdk.dk>
Message-ID: <200708131003.46916.laurent.pinchart@skynet.be>

Hi Morten,

On Monday 13 August 2007 08:25, Morten Mortensen wrote:
> - I own a couple of these "fine" Logitech webcams. Something *is* changing
> in the UVC-driver, because the driver I had until yesterday - a couple of
> weeks old - could run the Ultra Vision and the Fusion for a period of half
> a minute and up to three, four or even five minuttes.
>
> The latest UVC-driver runs for one to three seconds, so something has been
> changed, which influences this by an order of magnitude. These scenarios
> are absolutely identical for my instances of the Ultra Vision and the
> Fusion.

Have you used the same kernel for both tests ? Could you please try to find 
out which SVN revision introduced the problem ?

> One wonders how Logitech circumvents the problem in their Windows drivers.

They don't. The Windows USB stack seems to be slower than the Linux one, and 
it just doesn't trigger the problem. It's a matter of timings, and Logitech 
never noticed the problem. From the limited amount of knowledge I have about 
this bug, it seems there is a hardware problem which has been worked-around 
by a firmware hack in recent webcams. Both the hardware and the firmware are 
provided by the IC vendor, so Logitech isn't the only one to blame.

> One wonders *when* manufacturers implement reflashability of their
> monitors, webcams, etc.

The two issues here are support and cost. They don't want to support firmware 
reflashing, as that would mean replacing dead webcams. And flash costs more 
than ROM.

> Please keep up the good work.

Thanks. I'll do my best :-)

Regards,

Laurent Pinchart


From MOMOR at tdc.dk  Mon Aug 13 10:43:38 2007
From: MOMOR at tdc.dk (Morten Mortensen)
Date: Mon, 13 Aug 2007 10:43:38 +0200
Subject: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?
In-Reply-To: <200708131003.46916.laurent.pinchart@skynet.be>
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
	<200708121201.10027.laurent.pinchart@skynet.be>
	<5D16E2E89E828C43A1BA621338322455CCB96B@VESTMB401A.tdk.dk>
	<200708131003.46916.laurent.pinchart@skynet.be>
Message-ID: <5D16E2E89E828C43A1BA621338322455CCB9D7@VESTMB401A.tdk.dk>


Yes, I am pretty certain, that I used the same kernel for both tests. My
Fedora 7 system did have its kernel upgraded at some point some weeks
back from... a 2.6.19 to a 2.6.21, I belive out from memory. But this
kernel-upgrade was weeks before I changed UVC drivers, I think.

Yes, I will try to find out which SVN revision made a difference. I can
try it out within a day or two, I expect. 

But right now, I can tell you for certain, that when the UVC driver
worked "for periods of multiple minuttes at a time", I wrote to mr.
Xhaard asking about the luvcview output with cc to this list about this
very problem. This was Friday 20. July - I see from my earlier posting,
that my kernel was the current "2.6.21-1.3228.fc7". So no kernel changes
was made in between. An instance of the UVC driver working "for periods
of a few seconds only" is the one which I checked out from the
Subversion repository last night about 12 hours ago. From my point of
view, something has changed in between. I have not reconfigured the
physical USB setup or anything like that, but I have been playing around
with other (USB) drivers (I say this because you mention, that the
problem is somehow related to timing; maybe something else than changes
in the UVC source code triggered something).

I will *try* to narrow this down relative to SVN revisions.

Regards
Morten Sabroe Mortensen
 

-----Oprindelig meddelelse-----
Fra: Laurent Pinchart [mailto:laurent.pinchart at skynet.be] 
Sendt: 13. august 2007 10:04
Til: linux-uvc-devel at lists.berlios.de
Cc: Morten Mortensen
Emne: Re: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?

Hi Morten,

On Monday 13 August 2007 08:25, Morten Mortensen wrote:
> - I own a couple of these "fine" Logitech webcams. Something *is*
changing
> in the UVC-driver, because the driver I had until yesterday - a couple
of
> weeks old - could run the Ultra Vision and the Fusion for a period of
half
> a minute and up to three, four or even five minuttes.
>
> The latest UVC-driver runs for one to three seconds, so something has
been
> changed, which influences this by an order of magnitude. These
scenarios
> are absolutely identical for my instances of the Ultra Vision and the
> Fusion.

Have you used the same kernel for both tests ? Could you please try to
find 
out which SVN revision introduced the problem ?

> One wonders how Logitech circumvents the problem in their Windows
drivers.

They don't. The Windows USB stack seems to be slower than the Linux one,
and 
it just doesn't trigger the problem. It's a matter of timings, and
Logitech 
never noticed the problem. From the limited amount of knowledge I have
about 
this bug, it seems there is a hardware problem which has been
worked-around 
by a firmware hack in recent webcams. Both the hardware and the firmware
are 
provided by the IC vendor, so Logitech isn't the only one to blame.

> One wonders *when* manufacturers implement reflashability of their
> monitors, webcams, etc.

The two issues here are support and cost. They don't want to support
firmware 
reflashing, as that would mean replacing dead webcams. And flash costs
more 
than ROM.

> Please keep up the good work.

Thanks. I'll do my best :-)

Regards,

Laurent Pinchart


From t.st1 at gmx.net  Mon Aug 13 21:20:37 2007
From: t.st1 at gmx.net (Tom St)
Date: Mon, 13 Aug 2007 21:20:37 +0200
Subject: [Linux-uvc-devel] Looking for a streaming too
In-Reply-To: <46BF7B7F.10609@gmx.de>
References: <46BF7B7F.10609@gmx.de>
Message-ID: <46C0AF05.2000806@gmx.net>

Hello Robert,
> Is there a streaming-tool known to work with v4l2 ?
>   
Hello,
Try "UVC-streamer":
The current version 1.2 allows to take single snapshots and to stream to
MJPEG compatible clients. VLC was tested and works well, but has a
significant latency of about a few seconds. A small HowTo can be found
in the UVC wiki
(http://openfacts.berlios.de/index-en.phtml?title=HowTo_install_UVC_Streamer).

Assume your Linux-UVC driver created "/dev/video0". You can start
"uvc-streamer" with:
# uvc_stream -b -d /dev/video0 -r 640x480 -f 5 -p 8080
or simply (because all the parameters above are default parameters):
# uvc_stream -b

Then you can view the stream with:
# wxvlc http://127.0.0.1:8080

You can take a snapshot with a browser (tested with FF, IE, Opera):
# http://127.0.0.1:8080/snapshot

If you want to use your webcam as an appliance, have a look at the
uvc-streamer package for OpenWRT. The current uvc-streamer package still
does not support the snapshots, but is running for weeks now. The
required resources are that low, i assume you can hook up a few cameras
to a router like the Asus WL-500gP and run a new instance of
uvc-streamer for each camera at a different TCP port.

Please consider contributing your tips to the Linux-UVC wiki, or the
OpenWRT wiki at http://wiki.openwrt.org/webcam

Roadmap:

    * expect version 1.3 of uvc-streamer to be more modular
    * expect to get an updated version of the OpenWRT package (also
      quite easy to do yourself)
    * i want to to allow to make settings for parameters like color,
      saturation, ... via HTTP

Kind regards,
Tom


From MOMOR at tdc.dk  Mon Aug 13 22:50:37 2007
From: MOMOR at tdc.dk (Morten Mortensen)
Date: Mon, 13 Aug 2007 22:50:37 +0200
Subject: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
	<200708121201.10027.laurent.pinchart@skynet.be>
	<5D16E2E89E828C43A1BA621338322455CCB96B@VESTMB401A.tdk.dk>
	<200708131003.46916.laurent.pinchart@skynet.be> 
Message-ID: <5D16E2E89E828C43A1BA621338322455CCBAA8@VESTMB401A.tdk.dk>


Hi Laurent & all

Regarding Logitech-problems, I have just been trying out a number of UVC
revisions tonight. As you suggested.

First, I must admit, that my current kernel somehow has advanced from
the below mentioned "2.6.21-1.3228.fc7" to a 2.6.22 version; I must have
accepted one of the "updates" within FC7 without paying attention.

With this kernel 2.6.22, I am unable to reproduce any Logitech webcams
working "for periods of multiple minuttes at a time". I have tried
revisions 120, 119, 118, 115, 114, 112, 111, 110, 92 (I also tried to
check out revisions 117, 116, 113 and 91, but the subversion client
apparently just... hanged). I have kept the revisions in separate
directories. I have done a lot of "modprobe -r uvcvideo", "make", "make
install", "modprobe uvcvideo" to shift between the revisions. There are
minor differences, bot common for all these revisions are, that both my
Logitech Fusion and my Logitech Ultra Vision fails within five seconds.
I do not see any complete, stable images as seen on screen with
"luvcview". The images have either large rectangles with noise or many
small rectangles with noise; the images look really bad.

The somewhat better results as mentioned below from around Friday 20.
July and with the 2.6.21 kernel I can not reproduce. I wonder if this
kernel is still floating around upon my system, so I can make grub boot
with it??

Together with the two Logitech webcams I have attached a Creative Optia
AF. The video-stream from this Optia AF webcam is pretty stable
throughout all the revisions tried tonight. However, the stream does
tend to produce a single bad image with an interval of about 5-10
seconds. From some point in the middle of the frame, the rest of the
frame does not look right. Except from this, the video-stream from the
Creative webcam is really, really good.

I have also tried playing around with the Logitech webcams and image
sizes - just to see if I could trigger some better or worse response.
The one Logitech would not display 960x720, while trying to access the
second with this resolution made my computer lock up completely! No more
keyboard or mouse. Pressing the power-button on the chasses did produce
some kind of fc-shutdown dialog, but still with no keyboard. I have
mouse and keyboard attached through USB, not PS/2. This was with
revision 120.

As of right now, I can not reproduce any of my Logitech webcams working
"for periods of multiple minuttes". But they did, once.

Below is a listing of the kernel version (I am running Fedora 7 - and my
installation should be completely up-to-date) together with a listing of
the USB devices and the hieracy. The three webcams have at all times
been attached through a USB hub.

Regards
Morten Sabroe Mortensen

   -----
[root at localhost ~]# uname -a
Linux localhost.localdomain 2.6.22.1-41.fc7 #1 SMP Fri Jul 27 18:10:34
EDT 
2007 i686 i686 i386 GNU/Linux
   -----
[root at localhost ~]# lsusb
Bus 004 Device 009: ID 046d:c01e Logitech, Inc. MX518 Optical Mouse
Bus 004 Device 007: ID 10d5:5552 Uni Class Technology Co., Ltd
Bus 004 Device 006: ID 046d:08c9 Logitech, Inc.
Bus 004 Device 005: ID 041e:4058 Creative Technology, Ltd
Bus 004 Device 004: ID 046d:08ca Logitech, Inc.
Bus 004 Device 003: ID 04cc:1520 Philips Semiconductors
Bus 004 Device 002: ID 0409:0058 NEC Corp. HighSpeed Hub
Bus 004 Device 001: ID 0000:0000
Bus 001 Device 001: ID 0000:0000
Bus 003 Device 001: ID 0000:0000
Bus 002 Device 001: ID 0000:0000
[root at localhost ~]# lsusb -t
Bus#  4
`-Dev#   1 Vendor 0x0000 Product 0x0000
  |-Dev#   2 Vendor 0x0409 Product 0x0058
  | |-Dev#   4 Vendor 0x046d Product 0x08ca <- Logitech webcam!
  | |-Dev#   5 Vendor 0x041e Product 0x4058 <- Create Optia AF!
  | `-Dev#   6 Vendor 0x046d Product 0x08c9 <- Logitech webcam!
  `-Dev#   3 Vendor 0x04cc Product 0x1520
    |-Dev#   7 Vendor 0x10d5 Product 0x5552
    `-Dev#   9 Vendor 0x046d Product 0xc01e
Bus#  3
`-Dev#   1 Vendor 0x0000 Product 0x0000
Bus#  2
`-Dev#   1 Vendor 0x0000 Product 0x0000
Bus#  1
`-Dev#   1 Vendor 0x0000 Product 0x0000
[root at localhost ~]#
   -----

 

-----Oprindelig meddelelse-----
Fra: Morten Mortensen 
Sendt: 13. august 2007 10:44
Til: 'Laurent Pinchart'; linux-uvc-devel at lists.berlios.de
Emne: SV: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?


Yes, I am pretty certain, that I used the same kernel for both tests. My
Fedora 7 system did have its kernel upgraded at some point some weeks
back from... a 2.6.19 to a 2.6.21, I belive out from memory. But this
kernel-upgrade was weeks before I changed UVC drivers, I think.

Yes, I will try to find out which SVN revision made a difference. I can
try it out within a day or two, I expect. 

But right now, I can tell you for certain, that when the UVC driver
worked "for periods of multiple minuttes at a time", I wrote to mr.
Xhaard asking about the luvcview output with cc to this list about this
very problem. This was Friday 20. July - I see from my earlier posting,
that my kernel was the current "2.6.21-1.3228.fc7". So no kernel changes
was made in between. An instance of the UVC driver working "for periods
of a few seconds only" is the one which I checked out from the
Subversion repository last night about 12 hours ago. From my point of
view, something has changed in between. I have not reconfigured the
physical USB setup or anything like that, but I have been playing around
with other (USB) drivers (I say this because you mention, that the
problem is somehow related to timing; maybe something else than changes
in the UVC source code triggered something).

I will *try* to narrow this down relative to SVN revisions.

Regards
Morten Sabroe Mortensen
 

-----Oprindelig meddelelse-----
Fra: Laurent Pinchart [mailto:laurent.pinchart at skynet.be] 
Sendt: 13. august 2007 10:04
Til: linux-uvc-devel at lists.berlios.de
Cc: Morten Mortensen
Emne: Re: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?

Hi Morten,

On Monday 13 August 2007 08:25, Morten Mortensen wrote:
> - I own a couple of these "fine" Logitech webcams. Something *is*
changing
> in the UVC-driver, because the driver I had until yesterday - a couple
of
> weeks old - could run the Ultra Vision and the Fusion for a period of
half
> a minute and up to three, four or even five minuttes.
>
> The latest UVC-driver runs for one to three seconds, so something has
been
> changed, which influences this by an order of magnitude. These
scenarios
> are absolutely identical for my instances of the Ultra Vision and the
> Fusion.

Have you used the same kernel for both tests ? Could you please try to
find 
out which SVN revision introduced the problem ?

> One wonders how Logitech circumvents the problem in their Windows
drivers.

They don't. The Windows USB stack seems to be slower than the Linux one,
and 
it just doesn't trigger the problem. It's a matter of timings, and
Logitech 
never noticed the problem. From the limited amount of knowledge I have
about 
this bug, it seems there is a hardware problem which has been
worked-around 
by a firmware hack in recent webcams. Both the hardware and the firmware
are 
provided by the IC vendor, so Logitech isn't the only one to blame.

> One wonders *when* manufacturers implement reflashability of their
> monitors, webcams, etc.

The two issues here are support and cost. They don't want to support
firmware 
reflashing, as that would mean replacing dead webcams. And flash costs
more 
than ROM.

> Please keep up the good work.

Thanks. I'll do my best :-)

Regards,

Laurent Pinchart


From fvera at ucv.cl  Tue Aug 14 17:34:38 2007
From: fvera at ucv.cl (Francisco Vera)
Date: Tue, 14 Aug 2007 11:34:38 -0400
Subject: [Linux-uvc-devel] 30 fps in linux but not in windows xp
Message-ID: <200708141134.39012.fvera@ucv.cl>

Hi all,

I have 7 logitech fusion (2006 model) and 1 logitech IM/connect, the fusion 
gives me 30 fps using linux uvc and luvcview, the IM gives me 25 fps using 
gspca for v4l2 and luvcview.

These are real fps as you can see in a converted video from the fusion at

http://laplace.ucv.cl/TrackMovingObjects/Gallery/LanzamientoProyectil-ParabolicMotion/movimiento.html

Now I need to implement cheap physics labs for schools to track moving 
objects, using windows xp. The problem is that I only can obtain 15 fps in 
windows,  it seems to me that the last driver from logitech does not support 
uvc for my fusions as seen in some charts for the drivers.

Does anybody in the list know a webcam that can record a video at real 30 fps 
and vga resolution in windows?
(moving the exposure control to the left did not help)

I tried removing all logitech programs to try to use the uvc generic driver 
from microsoft, but it ask me for a logitech driver.

A not expensive webcam that record vga at 30 fps for linux and windows is a 
real thing?

Philips SPC900NC is only usb 1.1, how can they say it can capture at 90 fps? 
any help?

Any help will be appreciated,

Francisco


From mickael.drean at gmail.com  Tue Aug 14 11:41:13 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Tue, 14 Aug 2007 11:41:13 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708112306.39868.laurent.pinchart@skynet.be>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708090015.37019.laurent.pinchart@skynet.be>
	<e4b61e4b0708081554n7012448bj6a8bc52ff102641f@mail.gmail.com>
	<200708112306.39868.laurent.pinchart@skynet.be>
Message-ID: <e4b61e4b0708140241i777ea258ud8eaf83b07bae71a@mail.gmail.com>

Hello Laurent,

> > If it still doesn't work, please post the output of lsusb -v (with
> > usbutils 0.72 or newer).

here is the  0.72 output of lsusb :


Bus 002 Device 001: ID 0000:0000
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         1 Single TT
  bMaxPacketSize0        64
  idVendor           0x0000
  idProduct          0x0000
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.22.1-41.fc7 ehci_hcd
  iProduct                2 EHCI Host Controller
  iSerial                 1 0000:00:0b.1
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0004  1x 4 bytes
        bInterval              12
Hub Descriptor:
  bLength              11
  bDescriptorType      41
  nNbrPorts             8
  wHubCharacteristic 0x000a
    No power switching (usb 1.0)
    Per-port overcurrent protection
    TT think time 8 FS bits
  bPwrOn2PwrGood       10 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00 0x00
  PortPwrCtrlMask    0xff 0xff
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0100 power
   Port 3: 0000.0100 power
   Port 4: 0000.0100 power
   Port 5: 0000.0100 power
   Port 6: 0000.0503 highspeed power enable connect
   Port 7: 0000.0100 power
   Port 8: 0000.0100 power
Device Status:     0x0003
  Self Powered
  Remote Wakeup Enabled

Bus 002 Device 003: ID 5986:0100
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x5986
  idProduct          0x0100
  bcdDevice            1.00
  iManufacturer           0
  iProduct                1 USB2.0 Camera
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          632
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               1 USB2.0 Camera
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              1 USB2.0 Camera
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           84
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                17
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  2
        bmControls           0x00000a0e
          Auto-Exposure Mode
          Auto-Exposure Priority
          Exposure Time (Absolute)
          Zoom (Absolute)
          PanTilt (Absolute)
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               6
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      4 (SELECTOR_UNIT)
        bUnitID                 4
        bNrInPins               1
        baSource( 0)            1
        iSelector               0
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 5
        bSourceID               4
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000157f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0
        bmVideoStandards     0x1b
          None
          NTSC - 525/60
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                27
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 6
        guidExtensionCode         {a7974c56-a77e-4b90-8cbf-1c71ec303000}
        bNumControl            16
        bNrPins                 1
        baSourceID( 0)          5
        bControlSize            2
        bmControls( 0)       0xff
        bmControls( 1)       0xff
        iExtension              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              15
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        2
        wTotalLength                    33025
        bEndPointAddress                    0
        bmInfo                              3
        bTerminalLink                       2
        bStillCaptureMethod                 1
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    11
        bmaControls( 1)                    11
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        bFlags                              1
          Fixed-size samples: Yes
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      921600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      230400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       57600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      304128
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       76032
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            26
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        320
        wHeight( 1)                       240
        wWidth( 2)                        160
        wHeight( 2)                       120
        wWidth( 3)                        352
        wHeight( 3)                       288
        wWidth( 4)                        176
        wHeight( 4)                       144
        bNumCompressionPatterns             5
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        2
        bNumFrameDescriptors                5
        guidFormat
{32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      230400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       57600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      304128
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       76032
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            26
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        320
        wHeight( 1)                       240
        wWidth( 2)                        160
        wHeight( 2)                       120
        wWidth( 3)                        352
        wHeight( 3)                       288
        wWidth( 4)                        176
        wHeight( 4)                       144
        bNumCompressionPatterns             5
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 0 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)

Bus 001 Device 001: ID 0000:0000
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         0
  bMaxPacketSize0        64
  idVendor           0x0000
  idProduct          0x0000
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.22.1-41.fc7 ohci_hcd
  iProduct                2 OHCI Host Controller
  iSerial                 1 0000:00:0b.0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval             255
Hub Descriptor:
  bLength              11
  bDescriptorType      41
  nNbrPorts             8
  wHubCharacteristic 0x0002
    No power switching (usb 1.0)
    Ganged overcurrent protection
  bPwrOn2PwrGood        1 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00 0x00
  PortPwrCtrlMask    0xff 0xff
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0303 lowspeed power enable connect
   Port 3: 0000.0100 power
   Port 4: 0000.0100 power
   Port 5: 0000.0100 power
   Port 6: 0000.0100 power
   Port 7: 0000.0100 power
   Port 8: 0000.0100 power
Device Status:     0x0003
  Self Powered
  Remote Wakeup Enabled

Bus 001 Device 002: ID 045e:00d2 Microsoft Corp.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0         8
  idVendor           0x045e Microsoft Corp.
  idProduct          0x00d2
  bcdDevice            1.20
  iManufacturer           1 Microsoft
  iProduct                2 Microsoft Notebook Optical Mouse with Tilt Wheel
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           34
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xa0
      (Bus Powered)
      Remote Wakeup
    MaxPower              100mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         3 Human Interface Devices
      bInterfaceSubClass      1 Boot Interface Subclass
      bInterfaceProtocol      2 Mouse
      iInterface              0
        HID Device Descriptor:
          bLength                 9
          bDescriptorType        33
          bcdHID               1.11
          bCountryCode            0 Not supported
          bNumDescriptors         1
          bDescriptorType        34 Report
          wDescriptorLength     196
         Report Descriptors:
           ** UNAVAILABLE **
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0006  1x 6 bytes
        bInterval              10
Device Status:     0x0000
  (Bus Powered)



Micka?l
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070814/a9099ad1/attachment.html>

From laurent.pinchart at skynet.be  Tue Aug 14 21:03:13 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 14 Aug 2007 21:03:13 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708140241i777ea258ud8eaf83b07bae71a@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708112306.39868.laurent.pinchart@skynet.be>
	<e4b61e4b0708140241i777ea258ud8eaf83b07bae71a@mail.gmail.com>
Message-ID: <200708142103.14135.laurent.pinchart@skynet.be>

Hi Micka?l,

On Tuesday 14 August 2007, Mickael Drean wrote:
> Hello Laurent,
>
> > > If it still doesn't work, please post the output of lsusb -v (with
> > > usbutils 0.72 or newer).
>
> here is the  0.72 output of lsusb :

Thanks.

[snip]

Your webcam should definitely be supported. Make sure you're loading the 
module you compiled and not an old version that still dwells somewhere.

If everything else fails, load the module with the trace parameter set to 255 
and see if dmesg reports additional information.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 14 21:18:25 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 14 Aug 2007 21:18:25 +0200
Subject: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?
In-Reply-To: <5D16E2E89E828C43A1BA621338322455CCBAA8@VESTMB401A.tdk.dk>
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
	<200708131003.46916.laurent.pinchart@skynet.be>
	<5D16E2E89E828C43A1BA621338322455CCBAA8@VESTMB401A.tdk.dk>
Message-ID: <200708142118.26535.laurent.pinchart@skynet.be>

Hi Morten,

On Monday 13 August 2007, Morten Mortensen wrote:
> Hi Laurent & all
>
> Regarding Logitech-problems, I have just been trying out a number of UVC
> revisions tonight. As you suggested.

If I had known you would report so much information I might not have suggested 
that ;-) (just kidding, I've had a long day at work).

> First, I must admit, that my current kernel somehow has advanced from
> the below mentioned "2.6.21-1.3228.fc7" to a 2.6.22 version; I must have
> accepted one of the "updates" within FC7 without paying attention.

You might want to try vanilla kernels too. Distributions ship patches that 
sometimes disturb external kernel modules.

> With this kernel 2.6.22, I am unable to reproduce any Logitech webcams
> working "for periods of multiple minuttes at a time". I have tried
> revisions 120, 119, 118, 115, 114, 112, 111, 110, 92

So this is more likely a kernel issue. As if there wasn't enough space for 
bugs to hide in the UVC driver :-)

> (I also tried to check out revisions 117, 116, 113 and 91, but the
> subversion client apparently just... hanged).

Weird...

> I have kept the revisions in separate directories. I have done a lot
> of "modprobe -r uvcvideo", "make", "make install", "modprobe uvcvideo" to
> shift between the revisions.

You might find it easier to load the module with insmod. That way you won't 
have to "make install" it.

> There are minor differences, bot common for all these revisions are, that
> both my Logitech Fusion and my Logitech Ultra Vision fails within five
> seconds. I do not see any complete, stable images as seen on screen with
> "luvcview". The images have either large rectangles with noise or many
> small rectangles with noise; the images look really bad.

What do you mean by "fail" ? Do the webcams continue streaming bad images, or 
does luvcview stop and print an error message ? If it stops, what's the error 
message ? Do you then get a message in the kernel log ? Which image 
resolution have you used ?

> The somewhat better results as mentioned below from around Friday 20.
> July and with the 2.6.21 kernel I can not reproduce. I wonder if this
> kernel is still floating around upon my system, so I can make grub boot
> with it??

I have no experience with FC so I can't tell. If you're familiar enough with 
Linux kernels, I'd suggest trying the vanilla kernel (which you'll have to 
compile yourself).

> Together with the two Logitech webcams I have attached a Creative Optia
> AF. The video-stream from this Optia AF webcam is pretty stable
> throughout all the revisions tried tonight. However, the stream does
> tend to produce a single bad image with an interval of about 5-10
> seconds. From some point in the middle of the frame, the rest of the
> frame does not look right. Except from this, the video-stream from the
> Creative webcam is really, really good.

Errors can happen when a packet is lost or otherwise corrupted. There's not 
much we can do there.

Early Logitech UVC webcams are known to suffer from timing issues, so I'm not 
surprised the Optia AF works better.

> I have also tried playing around with the Logitech webcams and image
> sizes - just to see if I could trigger some better or worse response.
> The one Logitech would not display 960x720, while trying to access the
> second with this resolution made my computer lock up completely! No more
> keyboard or mouse. Pressing the power-button on the chasses did produce
> some kind of fc-shutdown dialog, but still with no keyboard. I have
> mouse and keyboard attached through USB, not PS/2. This was with
> revision 120.

Your kernel might have crashed in an interrupt handler. You will have to 
compile the kernel with serial console or net console support to get the oops 
message on the serial console or on the network.

> As of right now, I can not reproduce any of my Logitech webcams working
> "for periods of multiple minuttes". But they did, once.

As this is probably a kernel issue, could you try with vanilla 2.6.21 (and, if 
it still doesn't work, with vanilla 2.6.22) ?

> Below is a listing of the kernel version (I am running Fedora 7 - and my
> installation should be completely up-to-date) together with a listing of
> the USB devices and the hieracy. The three webcams have at all times
> been attached through a USB hub.

Could you try attaching a Logitech webcam directly to your computer and see if 
it works better ?

Best regards,

Laurent Pinchart


From christian.vogler at gmail.com  Tue Aug 14 21:33:43 2007
From: christian.vogler at gmail.com (Christian Vogler)
Date: Tue, 14 Aug 2007 22:33:43 +0300
Subject: [Linux-uvc-devel] Partial success with 04f2:b012 Chicony Electronics
Message-ID: <9841bb910708141233o157b3059ne63ab59868c863ca@mail.gmail.com>

Hi all,

I just wanted to report partial success for a Chicony Electronics
webcam, which can be found in current Asus G1S laptops. Thank you for
all your hard work, and I look forward to watching the driver
progress.

uvcview works if I call it with -f yuv. Omitting this parameter or
querying with -l results in errors:

luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
 Init v4L2 failed !! exit fatal

I also tested the OpenCV library integration that was posted on the
list last month, and it works fine, as well. This is enough to get me
started for now and is, at any rate, much better than what I had dared
to hope for only two months ago.

uvcvideo in Kubuntu Gutsy x86-64, lsusb -v:

Bus 003 Device 002: ID 04f2:b012 Chicony Electronics Co., Ltd
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x04f2 Chicony Electronics Co., Ltd
  idProduct          0xb012
  bcdDevice            3.46
  iManufacturer           2 Chicony Electronics Co., Ltd.
  iProduct                1 USB2.0 1.3M UVC WebCam
  iSerial                 3 SN0001
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          565
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               1 USB2.0 1.3M UVC WebCam
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              1 USB2.0 1.3M UVC WebCam
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           77
        dwClockFrequency       15.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               4
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {28f03370-6311-4a2e-ba2c-6890eb334016}
        bNumControl             1
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x01
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000053f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0xd3
          None
          NTSC - 525/60
          NTSC - 625/50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        1
        wTotalLength                    33025
        bEndPointAddress                    0
        bmInfo                              2
        bTerminalLink                       0
        bStillCaptureMethod                 1
        bTriggerSupport                     0
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                7
        guidFormat
{32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   614400
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   202752
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   153600
        dwMaxBitRate                  4608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                    50688
        dwMaxBitRate                  1520640
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            46
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                    38400
        dwMaxBitRate                  1152000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  5
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                           960
        dwMinBitRate                  2457600
        dwMaxBitRate                 22118400
        dwMaxVideoFrameBufferSize     2457600
        dwDefaultFrameInterval        1333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1333333
        dwFrameInterval( 1)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         7
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                          1024
        dwMinBitRate                  2621440
        dwMaxBitRate                 23592960
        dwMaxVideoFrameBufferSize     2621440
        dwDefaultFrameInterval        1333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1333333
        dwFrameInterval( 1)           2000000
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13e8  3x 1000 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)


From laurent.pinchart at skynet.be  Tue Aug 14 22:22:37 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 14 Aug 2007 22:22:37 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <46BF1C2E.6070603@derklecks.de>
References: <46B470B2.6020503@derklecks.de> <46BAE9C7.1050005@derklecks.de>
	<46BF1C2E.6070603@derklecks.de>
Message-ID: <200708142222.38110.laurent.pinchart@skynet.be>

Hi Felix,

First of all, sorry for the late reply.

On Sunday 12 August 2007, Felix M?ller wrote:
> Felix M?ller schrieb:
> > Hi,
> >
> > > I cannot get my iSight in an early 2006 MacBook working.

There are a couple of problems with the iSight. The main issue is that the 
device is not UVC compliant. It requires hacks in the driver to work 
properly.

The second issue is that the webcam has no firmware memory. The host has to 
upload the firmware every time the computer is started. There is a userspace 
firmware loading utility called fxload that handles firmware loading, so I'm 
not very keen on adding firmware loading support to the driver itself. It 
seems the concensus among kernels developers is to use the fxload utility. I 
could of course change my mind if I'm proven wrong :-)

I don't own any MacBook so I can't test driver hacks. A few users helped me in 
creating a patch for the Linux UVC driver to support iSight webcams. I wasn't 
very happy with the last version, so I asked for feedback on a revised patch. 
I got no reply so far.

> > Is there anything I could try? I am willing to compile from SVN or
> > provide any needed information.

The current version of the iSight patch doesn't apply cleanly to the latest 
SVN revision. You could fix the patch and test it. You will have to load the 
firmware with a userspace utility.

I attached the most recent patch I have, as well as a userspace utility which 
should upload the firmware.

> > Hope to get this working ...
>
> trying uvccapture I get the following:
>
> /uvccapture-0.4 # ./uvccapture -v
> Using videodevice: /dev/video0
> Saving images to: snap.jpg
> Image size: 320x240
> Taking snapshot every 0 seconds
> Taking images using mmap
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal
>
> modprobing with trace=15 I get the following:
> > uvcvideo: Adding mapping Brightness to control
> > 00000000-0000-0000-0000-000000000101/2. uvcvideo: Adding mapping Contrast
> > to control 00000000-0000-0000-0000-000000000101/3. uvcvideo: Adding
> > mapping Hue to control 00000000-0000-0000-0000-000000000101/6. uvcvideo:
> > Adding mapping Saturation to control
> > 00000000-0000-0000-0000-000000000101/7. uvcvideo: Adding mapping
> > Sharpness to control 00000000-0000-0000-0000-000000000101/8. uvcvideo:
> > Adding mapping Gamma to control 00000000-0000-0000-0000-000000000101/9.
> > uvcvideo: Adding mapping Backlight Compensation to control
> > 00000000-0000-0000-0000-000000000101/1. uvcvideo: Adding mapping Gain to
> > control 00000000-0000-0000-0000-000000000101/4. uvcvideo: Adding mapping
> > Power Line Frequency to control 00000000-0000-0000-0000-000000000101/5.
> > uvcvideo: Adding mapping Hue, Auto to control
> > 00000000-0000-0000-0000-000000000101/16. uvcvideo: Adding mapping Pan
> > (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1. uvcvideo:
> > Adding mapping Tilt (relative) to control
> > 63610682-5070-49ab-b8cc-b3855e8d2256/1. uvcvideo: Adding mapping Pan/Tilt
> > (reset) to control 63610682-5070-49ab-b8cc-b3855e8d2256/2. uvcvideo:
> > Adding mapping Exposure, Auto to control
> > 00000000-0000-0000-0000-000000000001/2. uvcvideo: Adding mapping Exposure
> > (Absolute) to control 00000000-0000-0000-0000-000000000001/4. uvcvideo:
> > Adding mapping White Balance Temperature, Auto to control
> > 00000000-0000-0000-0000-000000000101/11. uvcvideo: Adding mapping White
> > Balance Temperature to control 00000000-0000-0000-0000-000000000101/10.
> > uvcvideo: Probing known UVC device 4 (05ac:8501)
> > uvcvideo: iSight: firmware already loaded.
> > uvcvideo: Found format YUV 4:2:2 (UYVY).
> > uvcvideo: - 640x480 (30.0 fps)
> > uvcvideo: - 352x288 (30.0 fps)
> > uvcvideo: - 320x240 (30.0 fps)
> > uvcvideo: Found a Status endpoint (addr 81).
> > uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
> > uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to device
> > 4 entity 2 uvcvideo: Added control 00000000-0000-0000-0000-000000000101/7
> > to device 4 entity 2 uvcvideo: Added control
> > 00000000-0000-0000-0000-000000000101/8 to device 4 entity 2 uvcvideo:
> > Added control 00000000-0000-0000-0000-000000000101/9 to device 4 entity 2
> > uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
> > uvcvideo: Found a valid video chain (1 -> 3).
> > uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp. 26).
> > uvcvideo: UVC device initialized.
> > usbcore: registered new interface driver uvcvideo
> > USB Video Class driver (v0.1.0)
>
> I hope somebody has an idea what to try. ;)

Have a look at the kernel log (dmesg) after trying uvccapture. You might get 
more information.

Please also note that the Linux UVC driver supplied with openSUSE includes an 
old iSight patch (as well as possible other patches). I can't help you much 
with that driver.

Best regards,

Laurent Pinchart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: isight.fw.patch
Type: text/x-diff
Size: 3720 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070814/5e0d5f12/attachment.patch>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: isight.mine.patch
Type: text/x-diff
Size: 6146 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070814/5e0d5f12/attachment-0001.patch>

From laurent.pinchart at skynet.be  Tue Aug 14 22:25:54 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 14 Aug 2007 22:25:54 +0200
Subject: [Linux-uvc-devel] Partial success with 04f2:b012 Chicony
	Electronics
In-Reply-To: <9841bb910708141233o157b3059ne63ab59868c863ca@mail.gmail.com>
References: <9841bb910708141233o157b3059ne63ab59868c863ca@mail.gmail.com>
Message-ID: <200708142225.54703.laurent.pinchart@skynet.be>

Hi Christian,

On Tuesday 14 August 2007, Christian Vogler wrote:
> Hi all,
>
> I just wanted to report partial success for a Chicony Electronics
> webcam, which can be found in current Asus G1S laptops. Thank you for
> all your hard work, and I look forward to watching the driver
> progress.

Thanks for the report.

> uvcview works if I call it with -f yuv. Omitting this parameter or
> querying with -l results in errors:
>
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal

luvcview defaults to the MJPEG format. As your webcam doesn't support MJPEG, 
the failure is normal. If you want to list the video formats supported by the 
webcam, use -L instead of -l.

> I also tested the OpenCV library integration that was posted on the
> list last month, and it works fine, as well. This is enough to get me
> started for now and is, at any rate, much better than what I had dared
> to hope for only two months ago.
>
> uvcvideo in Kubuntu Gutsy x86-64, lsusb -v:
>
> Bus 003 Device 002: ID 04f2:b012 Chicony Electronics Co., Ltd
> Device Descriptor:
>   bLength                18
>   bDescriptorType         1
>   bcdUSB               2.00
>   bDeviceClass          239 Miscellaneous Device
>   bDeviceSubClass         2 Common Class
>   bDeviceProtocol         1 Interface Association
>   bMaxPacketSize0        64
>   idVendor           0x04f2 Chicony Electronics Co., Ltd
>   idProduct          0xb012
>   bcdDevice            3.46
>   iManufacturer           2 Chicony Electronics Co., Ltd.
>   iProduct                1 USB2.0 1.3M UVC WebCam
>   iSerial                 3 SN0001
>   bNumConfigurations      1
>   Configuration Descriptor:
>     bLength                 9
>     bDescriptorType         2
>     wTotalLength          565
>     bNumInterfaces          2
>     bConfigurationValue     1
>     iConfiguration          0
>     bmAttributes         0x80
>       (Bus Powered)
>     MaxPower              500mA
>     Interface Association:
>       bLength                 8
>       bDescriptorType        11
>       bFirstInterface         0
>       bInterfaceCount         2
>       bFunctionClass         14 Video
>       bFunctionSubClass       3 Video Interface Collection
>       bFunctionProtocol       0
>       iFunction               1 USB2.0 1.3M UVC WebCam
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        0
>       bAlternateSetting       0
>       bNumEndpoints           1
>       bInterfaceClass        14 Video
>       bInterfaceSubClass      1 Video Control
>       bInterfaceProtocol      0
>       iInterface              1 USB2.0 1.3M UVC WebCam
>       VideoControl Interface Descriptor:
>         bLength                13
>         bDescriptorType        36
>         bDescriptorSubtype      1 (HEADER)
>         bcdUVC               1.00
>         wTotalLength           77
>         dwClockFrequency       15.000000MHz
>         bInCollection           1
>         baInterfaceNr( 0)       1
>       VideoControl Interface Descriptor:
>         bLength                 9
>         bDescriptorType        36
>         bDescriptorSubtype      3 (OUTPUT_TERMINAL)
>         bTerminalID             2
>         wTerminalType      0x0101 USB Streaming
>         bAssocTerminal          0
>         bSourceID               4
>         iTerminal               0
>       VideoControl Interface Descriptor:
>         bLength                26
>         bDescriptorType        36
>         bDescriptorSubtype      6 (EXTENSION_UNIT)
>         bUnitID                 4
>         guidExtensionCode         {28f03370-6311-4a2e-ba2c-6890eb334016}
>         bNumControl             1
>         bNrPins                 1
>         baSourceID( 0)          3
>         bControlSize            1
>         bmControls( 0)       0x01
>         iExtension              0
>       VideoControl Interface Descriptor:
>         bLength                18
>         bDescriptorType        36
>         bDescriptorSubtype      2 (INPUT_TERMINAL)
>         bTerminalID             1
>         wTerminalType      0x0201 Camera Sensor
>         bAssocTerminal          0
>         iTerminal               0
>         wObjectiveFocalLengthMin      0
>         wObjectiveFocalLengthMax      0
>         wOcularFocalLength            0
>         bControlSize                  3
>         bmControls           0x00000000
>       VideoControl Interface Descriptor:
>         bLength                11
>         bDescriptorType        36
>         bDescriptorSubtype      5 (PROCESSING_UNIT)
>       Warning: Descriptor too short
>         bUnitID                 3
>         bSourceID               1
>         wMaxMultiplier          0
>         bControlSize            2
>         bmControls     0x0000053f
>           Brightness
>           Contrast
>           Hue
>           Saturation
>           Sharpness
>           Gamma
>           Backlight Compensation
>           Power Line Frequency
>         iProcessing             0
>         bmVideoStandards     0xd3
>           None
>           NTSC - 525/60
>           NTSC - 625/50
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x83  EP 3 IN
>         bmAttributes            3
>           Transfer Type            Interrupt
>           Synch Type               None
>           Usage Type               Data
>         wMaxPacketSize     0x0010  1x 16 bytes
>         bInterval               6
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        1
>       bAlternateSetting       0
>       bNumEndpoints           0
>       bInterfaceClass        14 Video
>       bInterfaceSubClass      2 Video Streaming
>       bInterfaceProtocol      0
>       iInterface              0
>       VideoStreaming Interface Descriptor:
>         bLength                            14
>         bDescriptorType                    36
>         bDescriptorSubtype                  1 (INPUT_HEADER)
>         bNumFormarts                        1
>         wTotalLength                    33025
>         bEndPointAddress                    0
>         bmInfo                              2
>         bTerminalLink                       0
>         bStillCaptureMethod                 1
>         bTriggerSupport                     0
>         bTriggerUsage                       1
>         bControlSize                        1
>         bmaControls( 0)                    27
>       VideoStreaming Interface Descriptor:
>         bLength                            27
>         bDescriptorType                    36
>         bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
>         bFormatIndex                        1
>         bNumFrameDescriptors                7
>         guidFormat
> {32595559-0000-0010-8000-00aa00389b71}
>         bBitsPerPixel                      16
>         bDefaultFrameIndex                  1
>         bAspectRatioX                       0
>         bAspectRatioY                       0
>         bmInterlaceFlags                 0x00
>           Interlaced stream or variable: No
>           Fields per frame: 1 fields
>           Field 1 first: No
>           Field pattern: Field 1 only
>           bCopyProtect                      0
>       VideoStreaming Interface Descriptor:
>         bLength                            46
>         bDescriptorType                    36
>         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
>         bFrameIndex                         1
>         bmCapabilities                   0x00
>           Still image unsupported
>         wWidth                            640
>         wHeight                           480
>         dwMinBitRate                   614400
>         dwMaxBitRate                 18432000
>         dwMaxVideoFrameBufferSize      614400
>         dwDefaultFrameInterval         333333
>         bFrameIntervalType                  5
>         dwFrameInterval( 0)            333333
>         dwFrameInterval( 1)            500000
>         dwFrameInterval( 2)            666666
>         dwFrameInterval( 3)           1000000
>         dwFrameInterval( 4)           2000000
>       VideoStreaming Interface Descriptor:
>         bLength                            46
>         bDescriptorType                    36
>         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
>         bFrameIndex                         2
>         bmCapabilities                   0x00
>           Still image unsupported
>         wWidth                            352
>         wHeight                           288
>         dwMinBitRate                   202752
>         dwMaxBitRate                  6082560
>         dwMaxVideoFrameBufferSize      202752
>         dwDefaultFrameInterval         333333
>         bFrameIntervalType                  5
>         dwFrameInterval( 0)            333333
>         dwFrameInterval( 1)            500000
>         dwFrameInterval( 2)            666666
>         dwFrameInterval( 3)           1000000
>         dwFrameInterval( 4)           2000000
>       VideoStreaming Interface Descriptor:
>         bLength                            46
>         bDescriptorType                    36
>         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
>         bFrameIndex                         3
>         bmCapabilities                   0x00
>           Still image unsupported
>         wWidth                            320
>         wHeight                           240
>         dwMinBitRate                   153600
>         dwMaxBitRate                  4608000
>         dwMaxVideoFrameBufferSize      153600
>         dwDefaultFrameInterval         333333
>         bFrameIntervalType                  5
>         dwFrameInterval( 0)            333333
>         dwFrameInterval( 1)            500000
>         dwFrameInterval( 2)            666666
>         dwFrameInterval( 3)           1000000
>         dwFrameInterval( 4)           2000000
>       VideoStreaming Interface Descriptor:
>         bLength                            46
>         bDescriptorType                    36
>         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
>         bFrameIndex                         4
>         bmCapabilities                   0x00
>           Still image unsupported
>         wWidth                            176
>         wHeight                           144
>         dwMinBitRate                    50688
>         dwMaxBitRate                  1520640
>         dwMaxVideoFrameBufferSize       50688
>         dwDefaultFrameInterval         333333
>         bFrameIntervalType                  5
>         dwFrameInterval( 0)            333333
>         dwFrameInterval( 1)            500000
>         dwFrameInterval( 2)            666666
>         dwFrameInterval( 3)           1000000
>         dwFrameInterval( 4)           2000000
>       VideoStreaming Interface Descriptor:
>         bLength                            46
>         bDescriptorType                    36
>         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
>         bFrameIndex                         5
>         bmCapabilities                   0x00
>           Still image unsupported
>         wWidth                            160
>         wHeight                           120
>         dwMinBitRate                    38400
>         dwMaxBitRate                  1152000
>         dwMaxVideoFrameBufferSize       38400
>         dwDefaultFrameInterval         333333
>         bFrameIntervalType                  5
>         dwFrameInterval( 0)            333333
>         dwFrameInterval( 1)            500000
>         dwFrameInterval( 2)            666666
>         dwFrameInterval( 3)           1000000
>         dwFrameInterval( 4)           2000000
>       VideoStreaming Interface Descriptor:
>         bLength                            34
>         bDescriptorType                    36
>         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
>         bFrameIndex                         6
>         bmCapabilities                   0x00
>           Still image unsupported
>         wWidth                           1280
>         wHeight                           960
>         dwMinBitRate                  2457600
>         dwMaxBitRate                 22118400
>         dwMaxVideoFrameBufferSize     2457600
>         dwDefaultFrameInterval        1333333
>         bFrameIntervalType                  2
>         dwFrameInterval( 0)           1333333
>         dwFrameInterval( 1)           2000000
>       VideoStreaming Interface Descriptor:
>         bLength                            34
>         bDescriptorType                    36
>         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
>         bFrameIndex                         7
>         bmCapabilities                   0x00
>           Still image unsupported
>         wWidth                           1280
>         wHeight                          1024
>         dwMinBitRate                  2621440
>         dwMaxBitRate                 23592960
>         dwMaxVideoFrameBufferSize     2621440
>         dwDefaultFrameInterval        1333333
>         bFrameIntervalType                  2
>         dwFrameInterval( 0)           1333333
>         dwFrameInterval( 1)           2000000
>       VideoStreaming Interface Descriptor:
>         bLength                             6
>         bDescriptorType                    36
>         bDescriptorSubtype                 13 (COLORFORMAT)
>         bColorPrimaries                     1 (BT.709,sRGB)
>         bTransferCharacteristics            1 (BT.709)
>         bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        1
>       bAlternateSetting       1
>       bNumEndpoints           1
>       bInterfaceClass        14 Video
>       bInterfaceSubClass      2 Video Streaming
>       bInterfaceProtocol      0
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            5
>           Transfer Type            Isochronous
>           Synch Type               Asynchronous
>           Usage Type               Data
>         wMaxPacketSize     0x0080  1x 128 bytes
>         bInterval               1
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        1
>       bAlternateSetting       2
>       bNumEndpoints           1
>       bInterfaceClass        14 Video
>       bInterfaceSubClass      2 Video Streaming
>       bInterfaceProtocol      0
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            5
>           Transfer Type            Isochronous
>           Synch Type               Asynchronous
>           Usage Type               Data
>         wMaxPacketSize     0x0100  1x 256 bytes
>         bInterval               1
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        1
>       bAlternateSetting       3
>       bNumEndpoints           1
>       bInterfaceClass        14 Video
>       bInterfaceSubClass      2 Video Streaming
>       bInterfaceProtocol      0
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            5
>           Transfer Type            Isochronous
>           Synch Type               Asynchronous
>           Usage Type               Data
>         wMaxPacketSize     0x0320  1x 800 bytes
>         bInterval               1
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        1
>       bAlternateSetting       4
>       bNumEndpoints           1
>       bInterfaceClass        14 Video
>       bInterfaceSubClass      2 Video Streaming
>       bInterfaceProtocol      0
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            5
>           Transfer Type            Isochronous
>           Synch Type               Asynchronous
>           Usage Type               Data
>         wMaxPacketSize     0x0b20  2x 800 bytes
>         bInterval               1
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        1
>       bAlternateSetting       5
>       bNumEndpoints           1
>       bInterfaceClass        14 Video
>       bInterfaceSubClass      2 Video Streaming
>       bInterfaceProtocol      0
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            5
>           Transfer Type            Isochronous
>           Synch Type               Asynchronous
>           Usage Type               Data
>         wMaxPacketSize     0x1320  3x 800 bytes
>         bInterval               1
>     Interface Descriptor:
>       bLength                 9
>       bDescriptorType         4
>       bInterfaceNumber        1
>       bAlternateSetting       6
>       bNumEndpoints           1
>       bInterfaceClass        14 Video
>       bInterfaceSubClass      2 Video Streaming
>       bInterfaceProtocol      0
>       iInterface              0
>       Endpoint Descriptor:
>         bLength                 7
>         bDescriptorType         5
>         bEndpointAddress     0x81  EP 1 IN
>         bmAttributes            5
>           Transfer Type            Isochronous
>           Synch Type               Asynchronous
>           Usage Type               Data
>         wMaxPacketSize     0x13e8  3x 1000 bytes
>         bInterval               1
> Device Qualifier (for other device speed):
>   bLength                10
>   bDescriptorType         6
>   bcdUSB               2.00
>   bDeviceClass          239 Miscellaneous Device
>   bDeviceSubClass         2 Common Class
>   bDeviceProtocol         1 Interface Association
>   bMaxPacketSize0        64
>   bNumConfigurations      1
> Device Status:     0x0000
>   (Bus Powered)

Best regards,

Laurent Pinchart


From jbebel at google.com  Tue Aug 14 22:30:03 2007
From: jbebel at google.com (Joel Ebel)
Date: Tue, 14 Aug 2007 13:30:03 -0700
Subject: [Linux-uvc-devel] New Logitech QuickCam Pro 9000 and Quickam Pro
	for Notebooks
Message-ID: <46C210CB.70306@google.com>

I've received the two new logitech cameras, the QuickCam Pro 9000, and 
the Quickam Pro for Notebooks, and they seem to work just fine with the 
uvc driver.  Just thought I'd mention it in case you'd like to add them 
to the supported devices list.

046d:0990	QuickCam Pro 9000
046d:0991	Quickam Pro for Notebooks

By the way, the supported devices list contains the following sentence:
"The table below lists know supported devices."
You might want to consider s/know/known/

Joel


From hexa00 at gmail.com  Tue Aug 14 23:32:35 2007
From: hexa00 at gmail.com (Antoine Tremblay)
Date: Tue, 14 Aug 2007 17:32:35 -0400
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <200708142222.38110.laurent.pinchart@skynet.be>
References: <46B470B2.6020503@derklecks.de> <46BAE9C7.1050005@derklecks.de>
	<46BF1C2E.6070603@derklecks.de>
	<200708142222.38110.laurent.pinchart@skynet.be>
Message-ID: <6bd63b970708141432gb0a68b7q81a41dd052700951@mail.gmail.com>

Maybe you could try with http://damien.douxchamps.net/ieee1394/libdc1394/ ?

Works very well on linux at least , it suses the firewire driver so it
should be easier

Antoine


On 8/14/07, Laurent Pinchart <laurent.pinchart at skynet.be> wrote:
>
> Hi Felix,
>
> First of all, sorry for the late reply.
>
> On Sunday 12 August 2007, Felix M?ller wrote:
> > Felix M?ller schrieb:
> > > Hi,
> > >
> > > > I cannot get my iSight in an early 2006 MacBook working.
>
> There are a couple of problems with the iSight. The main issue is that the
> device is not UVC compliant. It requires hacks in the driver to work
> properly.
>
> The second issue is that the webcam has no firmware memory. The host has
> to
> upload the firmware every time the computer is started. There is a
> userspace
> firmware loading utility called fxload that handles firmware loading, so
> I'm
> not very keen on adding firmware loading support to the driver itself. It
> seems the concensus among kernels developers is to use the fxload utility.
> I
> could of course change my mind if I'm proven wrong :-)
>
> I don't own any MacBook so I can't test driver hacks. A few users helped
> me in
> creating a patch for the Linux UVC driver to support iSight webcams. I
> wasn't
> very happy with the last version, so I asked for feedback on a revised
> patch.
> I got no reply so far.
>
> > > Is there anything I could try? I am willing to compile from SVN or
> > > provide any needed information.
>
> The current version of the iSight patch doesn't apply cleanly to the
> latest
> SVN revision. You could fix the patch and test it. You will have to load
> the
> firmware with a userspace utility.
>
> I attached the most recent patch I have, as well as a userspace utility
> which
> should upload the firmware.
>
> > > Hope to get this working ...
> >
> > trying uvccapture I get the following:
> >
> > /uvccapture-0.4 # ./uvccapture -v
> > Using videodevice: /dev/video0
> > Saving images to: snap.jpg
> > Image size: 320x240
> > Taking snapshot every 0 seconds
> > Taking images using mmap
> > Unable to set format: 22.
> >  Init v4L2 failed !! exit fatal
> >
> > modprobing with trace=15 I get the following:
> > > uvcvideo: Adding mapping Brightness to control
> > > 00000000-0000-0000-0000-000000000101/2. uvcvideo: Adding mapping
> Contrast
> > > to control 00000000-0000-0000-0000-000000000101/3. uvcvideo: Adding
> > > mapping Hue to control 00000000-0000-0000-0000-000000000101/6.
> uvcvideo:
> > > Adding mapping Saturation to control
> > > 00000000-0000-0000-0000-000000000101/7. uvcvideo: Adding mapping
> > > Sharpness to control 00000000-0000-0000-0000-000000000101/8. uvcvideo:
> > > Adding mapping Gamma to control
> 00000000-0000-0000-0000-000000000101/9.
> > > uvcvideo: Adding mapping Backlight Compensation to control
> > > 00000000-0000-0000-0000-000000000101/1. uvcvideo: Adding mapping Gain
> to
> > > control 00000000-0000-0000-0000-000000000101/4. uvcvideo: Adding
> mapping
> > > Power Line Frequency to control
> 00000000-0000-0000-0000-000000000101/5.
> > > uvcvideo: Adding mapping Hue, Auto to control
> > > 00000000-0000-0000-0000-000000000101/16. uvcvideo: Adding mapping Pan
> > > (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> uvcvideo:
> > > Adding mapping Tilt (relative) to control
> > > 63610682-5070-49ab-b8cc-b3855e8d2256/1. uvcvideo: Adding mapping
> Pan/Tilt
> > > (reset) to control 63610682-5070-49ab-b8cc-b3855e8d2256/2. uvcvideo:
> > > Adding mapping Exposure, Auto to control
> > > 00000000-0000-0000-0000-000000000001/2. uvcvideo: Adding mapping
> Exposure
> > > (Absolute) to control 00000000-0000-0000-0000-000000000001/4.
> uvcvideo:
> > > Adding mapping White Balance Temperature, Auto to control
> > > 00000000-0000-0000-0000-000000000101/11. uvcvideo: Adding mapping
> White
> > > Balance Temperature to control
> 00000000-0000-0000-0000-000000000101/10.
> > > uvcvideo: Probing known UVC device 4 (05ac:8501)
> > > uvcvideo: iSight: firmware already loaded.
> > > uvcvideo: Found format YUV 4:2:2 (UYVY).
> > > uvcvideo: - 640x480 (30.0 fps)
> > > uvcvideo: - 352x288 (30.0 fps)
> > > uvcvideo: - 320x240 (30.0 fps)
> > > uvcvideo: Found a Status endpoint (addr 81).
> > > uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
> > > uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to
> device
> > > 4 entity 2 uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/7
> > > to device 4 entity 2 uvcvideo: Added control
> > > 00000000-0000-0000-0000-000000000101/8 to device 4 entity 2 uvcvideo:
> > > Added control 00000000-0000-0000-0000-000000000101/9 to device 4
> entity 2
> > > uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
> > > uvcvideo: Found a valid video chain (1 -> 3).
> > > uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp.
> 26).
> > > uvcvideo: UVC device initialized.
> > > usbcore: registered new interface driver uvcvideo
> > > USB Video Class driver (v0.1.0)
> >
> > I hope somebody has an idea what to try. ;)
>
> Have a look at the kernel log (dmesg) after trying uvccapture. You might
> get
> more information.
>
> Please also note that the Linux UVC driver supplied with openSUSE includes
> an
> old iSight patch (as well as possible other patches). I can't help you
> much
> with that driver.
>
> Best regards,
>
> Laurent Pinchart
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070814/499d4e5f/attachment.html>

From hexa00 at gmail.com  Tue Aug 14 23:33:29 2007
From: hexa00 at gmail.com (Antoine Tremblay)
Date: Tue, 14 Aug 2007 17:33:29 -0400
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <6bd63b970708141432gb0a68b7q81a41dd052700951@mail.gmail.com>
References: <46B470B2.6020503@derklecks.de> <46BAE9C7.1050005@derklecks.de>
	<46BF1C2E.6070603@derklecks.de>
	<200708142222.38110.laurent.pinchart@skynet.be>
	<6bd63b970708141432gb0a68b7q81a41dd052700951@mail.gmail.com>
Message-ID: <6bd63b970708141433w783ca717xf4d2ed2f18c755e3@mail.gmail.com>

Opps nervermind that I guess you are using the version that is attached to
the MacBook . heheh sorry my mistake this one is not IIDC I think..

On 8/14/07, Antoine Tremblay <hexa00 at gmail.com> wrote:
>
> Maybe you could try with http://damien.douxchamps.net/ieee1394/libdc1394/?
>
> Works very well on linux at least , it suses the firewire driver so it
> should be easier
>
> Antoine
>
>
> On 8/14/07, Laurent Pinchart <laurent.pinchart at skynet.be> wrote:
>
> > Hi Felix,
> >
> > First of all, sorry for the late reply.
> >
> > On Sunday 12 August 2007, Felix M?ller wrote:
> > > Felix M?ller schrieb:
> > > > Hi,
> > > >
> > > > > I cannot get my iSight in an early 2006 MacBook working.
> >
> > There are a couple of problems with the iSight. The main issue is that
> > the
> > device is not UVC compliant. It requires hacks in the driver to work
> > properly.
> >
> > The second issue is that the webcam has no firmware memory. The host has
> > to
> > upload the firmware every time the computer is started. There is a
> > userspace
> > firmware loading utility called fxload that handles firmware loading, so
> > I'm
> > not very keen on adding firmware loading support to the driver itself.
> > It
> > seems the concensus among kernels developers is to use the fxload
> > utility. I
> > could of course change my mind if I'm proven wrong :-)
> >
> > I don't own any MacBook so I can't test driver hacks. A few users helped
> > me in
> > creating a patch for the Linux UVC driver to support iSight webcams. I
> > wasn't
> > very happy with the last version, so I asked for feedback on a revised
> > patch.
> > I got no reply so far.
> >
> > > > Is there anything I could try? I am willing to compile from SVN or
> > > > provide any needed information.
> >
> > The current version of the iSight patch doesn't apply cleanly to the
> > latest
> > SVN revision. You could fix the patch and test it. You will have to load
> > the
> > firmware with a userspace utility.
> >
> > I attached the most recent patch I have, as well as a userspace utility
> > which
> > should upload the firmware.
> >
> > > > Hope to get this working ...
> > >
> > > trying uvccapture I get the following:
> > >
> > > /uvccapture-0.4 # ./uvccapture -v
> > > Using videodevice: /dev/video0
> > > Saving images to: snap.jpg
> > > Image size: 320x240
> > > Taking snapshot every 0 seconds
> > > Taking images using mmap
> > > Unable to set format: 22.
> > >  Init v4L2 failed !! exit fatal
> > >
> > > modprobing with trace=15 I get the following:
> > > > uvcvideo: Adding mapping Brightness to control
> > > > 00000000-0000-0000-0000-000000000101/2. uvcvideo: Adding mapping
> > Contrast
> > > > to control 00000000-0000-0000-0000-000000000101/3. uvcvideo: Adding
> > > > mapping Hue to control 00000000-0000-0000-0000-000000000101/6.
> > uvcvideo:
> > > > Adding mapping Saturation to control
> > > > 00000000-0000-0000-0000-000000000101/7. uvcvideo: Adding mapping
> > > > Sharpness to control 00000000-0000-0000-0000-000000000101/8.
> > uvcvideo:
> > > > Adding mapping Gamma to control
> > 00000000-0000-0000-0000-000000000101/9.
> > > > uvcvideo: Adding mapping Backlight Compensation to control
> > > > 00000000-0000-0000-0000-000000000101/1. uvcvideo: Adding mapping
> > Gain to
> > > > control 00000000-0000-0000-0000-000000000101/4. uvcvideo: Adding
> > mapping
> > > > Power Line Frequency to control
> > 00000000-0000-0000-0000-000000000101/5.
> > > > uvcvideo: Adding mapping Hue, Auto to control
> > > > 00000000-0000-0000-0000-000000000101/16. uvcvideo: Adding mapping
> > Pan
> > > > (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> > uvcvideo:
> > > > Adding mapping Tilt (relative) to control
> > > > 63610682-5070-49ab-b8cc-b3855e8d2256/1. uvcvideo: Adding mapping
> > Pan/Tilt
> > > > (reset) to control 63610682-5070-49ab-b8cc-b3855e8d2256/2. uvcvideo:
> > > > Adding mapping Exposure, Auto to control
> > > > 00000000-0000-0000-0000-000000000001/2. uvcvideo: Adding mapping
> > Exposure
> > > > (Absolute) to control 00000000-0000-0000-0000-000000000001/4.
> > uvcvideo:
> > > > Adding mapping White Balance Temperature, Auto to control
> > > > 00000000-0000-0000-0000-000000000101/11. uvcvideo: Adding mapping
> > White
> > > > Balance Temperature to control
> > 00000000-0000-0000-0000-000000000101/10.
> > > > uvcvideo: Probing known UVC device 4 (05ac:8501)
> > > > uvcvideo: iSight: firmware already loaded.
> > > > uvcvideo: Found format YUV 4:2:2 (UYVY).
> > > > uvcvideo: - 640x480 (30.0 fps)
> > > > uvcvideo: - 352x288 (30.0 fps)
> > > > uvcvideo: - 320x240 (30.0 fps)
> > > > uvcvideo: Found a Status endpoint (addr 81).
> > > > uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
> > > > uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to
> > device
> > > > 4 entity 2 uvcvideo: Added control
> > 00000000-0000-0000-0000-000000000101/7
> > > > to device 4 entity 2 uvcvideo: Added control
> > > > 00000000-0000-0000-0000-000000000101/8 to device 4 entity 2
> > uvcvideo:
> > > > Added control 00000000-0000-0000-0000-000000000101/9 to device 4
> > entity 2
> > > > uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
> > > > uvcvideo: Found a valid video chain (1 -> 3).
> > > > uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp.
> > 26).
> > > > uvcvideo: UVC device initialized.
> > > > usbcore: registered new interface driver uvcvideo
> > > > USB Video Class driver (v0.1.0)
> > >
> > > I hope somebody has an idea what to try. ;)
> >
> > Have a look at the kernel log (dmesg) after trying uvccapture. You might
> > get
> > more information.
> >
> > Please also note that the Linux UVC driver supplied with openSUSE
> > includes an
> > old iSight patch (as well as possible other patches). I can't help you
> > much
> > with that driver.
> >
> > Best regards,
> >
> > Laurent Pinchart
> >
> > _______________________________________________
> > Linux-uvc-devel mailing list
> > Linux-uvc-devel at lists.berlios.de
> > https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> >
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070814/bf59f056/attachment.html>

From mickael.drean at gmail.com  Wed Aug 15 12:53:33 2007
From: mickael.drean at gmail.com (=?UTF-8?B?TWlja2FlbCBEcsOpYW4=?=)
Date: Wed, 15 Aug 2007 12:53:33 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708142103.14135.laurent.pinchart@skynet.be>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708112306.39868.laurent.pinchart@skynet.be>
	<e4b61e4b0708140241i777ea258ud8eaf83b07bae71a@mail.gmail.com>
	<200708142103.14135.laurent.pinchart@skynet.be>
Message-ID: <46C2DB2D.3080808@gmail.com>

An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070815/982538fe/attachment.html>

From felix at derklecks.de  Wed Aug 15 15:18:22 2007
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Wed, 15 Aug 2007 15:18:22 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <200708142222.38110.laurent.pinchart@skynet.be>
References: <46B470B2.6020503@derklecks.de> <46BAE9C7.1050005@derklecks.de>
	<46BF1C2E.6070603@derklecks.de>
	<200708142222.38110.laurent.pinchart@skynet.be>
Message-ID: <46C2FD1E.4010805@derklecks.de>

Hi,

> First of all, sorry for the late reply.
> 
> On Sunday 12 August 2007, Felix M?ller wrote:
>> Felix M?ller schrieb:
>>> Hi,
>>>
>>>> I cannot get my iSight in an early 2006 MacBook working.
> 
>>> Is there anything I could try? I am willing to compile from SVN or
>>> provide any needed information.
> 
> The current version of the iSight patch doesn't apply cleanly to the latest 
> SVN revision. You could fix the patch and test it. You will have to load the 
> firmware with a userspace utility.
Ok I did:
# patch -p0 < isight.fw.patch
# gcc -g `pkg-config --cflags --libs libusb` -o extract extract.c

Your extract version does not work for me I got:
# ./extract AppleUSBVideoSupport
Once device 0x5ac 0x8300
Loading firmware for one iSight
Invalid firmware length 23389, load aborted
Loaded firmware for one iSight
Once device 0x0 0x0
Once device 0x0 0x0

After some googling I found an extract.c in
http://people.freedesktop.org/~rbultje/linux-uvc-0.1.0-d.tar.gz which is
working.

After loading the firmware I have:
# lsusb
Bus 005 Device 004: ID 05ac:8501 Apple Computer, Inc.

Now I downloaded current SVN and switched back to r106 and applied your
patch:
# svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk
# svn update -r 106
# patch -p0 < isight.mine.patch

But after modprobing uvcvideo with trace=255 I just get ...
> USB Video Class driver (v0.1.0)
> usbcore: deregistering interface driver uvcvideo
> uvcvideo: Adding mapping Brightness to control 00000000-0000-0000-0000-000000000101/2.
> uvcvideo: Adding mapping Contrast to control 00000000-0000-0000-0000-000000000101/3.
> uvcvideo: Adding mapping Hue to control 00000000-0000-0000-0000-000000000101/6.
> uvcvideo: Adding mapping Saturation to control 00000000-0000-0000-0000-000000000101/7.
> uvcvideo: Adding mapping Sharpness to control 00000000-0000-0000-0000-000000000101/8.
> uvcvideo: Adding mapping Gamma to control 00000000-0000-0000-0000-000000000101/9.
> uvcvideo: Adding mapping Backlight Compensation to control 00000000-0000-0000-0000-000000000101/1.
> uvcvideo: Adding mapping Gain to control 00000000-0000-0000-0000-000000000101/4.
> uvcvideo: Adding mapping Power Line Frequency to control 00000000-0000-0000-0000-000000000101/5.
> uvcvideo: Adding mapping Hue, Auto to control 00000000-0000-0000-0000-000000000101/16.
> uvcvideo: Adding mapping Pan (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> uvcvideo: Adding mapping Tilt (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> uvcvideo: Adding mapping Pan/Tilt (reset) to control 63610682-5070-49ab-b8cc-b3855e8d2256/2.
> uvcvideo: Adding mapping Exposure, Auto to control 00000000-0000-0000-0000-000000000001/2.
> uvcvideo: Adding mapping Exposure (Absolute) to control 00000000-0000-0000-0000-000000000001/4.
> uvcvideo: Adding mapping White Balance Temperature, Auto to control 00000000-0000-0000-0000-000000000101/11.
> uvcvideo: Adding mapping White Balance Temperature to control 00000000-0000-0000-0000-000000000101/10.
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (v0.1.0)

... and no video device is created.

So now I am stuck again ... What could I try?

http://people.freedesktop.org/~rbultje/isight.patch seems to be against
revision 40 thats probably quiet old ...

Thanks for your answer! Hope you have another hint.

greetings Felix



From felix at derklecks.de  Wed Aug 15 15:38:42 2007
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Wed, 15 Aug 2007 15:38:42 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <46C2FD1E.4010805@derklecks.de>
References: <46B470B2.6020503@derklecks.de>
	<46BAE9C7.1050005@derklecks.de>	<46BF1C2E.6070603@derklecks.de>	<200708142222.38110.laurent.pinchart@skynet.be>
	<46C2FD1E.4010805@derklecks.de>
Message-ID: <46C301E2.8090702@derklecks.de>

Hi,

> ... and no video device is created.
> 
> So now I am stuck again ... What could I try?
> 
> http://people.freedesktop.org/~rbultje/isight.patch seems to be against
> revision 40 thats probably quiet old ...

I got the driver to detect the camera by now. I changed the following:
your patch contains ...
        /* Apple iSight (built-in Macintels) */
        { .match_flags          = USB_DEVICE_ID_MATCH_DEVICE
                                | USB_DEVICE_ID_MATCH_INT_INFO,
          .idVendor             = 0x05ac,
          .idProduct            = 0x8501,
          .bInterfaceClass      = USB_CLASS_VIDEO,
          .bInterfaceSubClass   = 1,
          .bInterfaceProtocol   = 0,
          .driver_info          = UVC_QUIRK_PROBE_MINMAX
        },

... I changed that to ...
        /* Apple Built-In iSight - with firmware loaded  */
        { .match_flags          = USB_DEVICE_ID_MATCH_DEVICE,
          .idVendor             = 0x05ac,
          .idProduct            = 0x8501,
          .driver_info          = UVC_QUIRK_PROBE_MINMAX },

... as seen in
http://www.i-nz.net/files/projects/linux-kernel/isight/isight.patch now
the driver loads. ;)

> uvcvideo: Adding mapping Brightness to control 00000000-0000-0000-0000-000000000101/2.
> uvcvideo: Adding mapping Contrast to control 00000000-0000-0000-0000-000000000101/3.
> uvcvideo: Adding mapping Hue to control 00000000-0000-0000-0000-000000000101/6.
> uvcvideo: Adding mapping Saturation to control 00000000-0000-0000-0000-000000000101/7.
> uvcvideo: Adding mapping Sharpness to control 00000000-0000-0000-0000-000000000101/8.
> uvcvideo: Adding mapping Gamma to control 00000000-0000-0000-0000-000000000101/9.
> uvcvideo: Adding mapping Backlight Compensation to control 00000000-0000-0000-0000-000000000101/1.
> uvcvideo: Adding mapping Gain to control 00000000-0000-0000-0000-000000000101/4.
> uvcvideo: Adding mapping Power Line Frequency to control 00000000-0000-0000-0000-000000000101/5.
> uvcvideo: Adding mapping Hue, Auto to control 00000000-0000-0000-0000-000000000101/16.
> uvcvideo: Adding mapping Pan (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> uvcvideo: Adding mapping Tilt (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> uvcvideo: Adding mapping Pan/Tilt (reset) to control 63610682-5070-49ab-b8cc-b3855e8d2256/2.
> uvcvideo: Adding mapping Exposure, Auto to control 00000000-0000-0000-0000-000000000001/2.
> uvcvideo: Adding mapping Exposure (Absolute) to control 00000000-0000-0000-0000-000000000001/4.
> uvcvideo: Adding mapping White Balance Temperature, Auto to control 00000000-0000-0000-0000-000000000101/11.
> uvcvideo: Adding mapping White Balance Temperature to control 00000000-0000-0000-0000-000000000101/10.
> uvcvideo: Probing known UVC device 4 (05ac:8501)
> uvcvideo: Found format Uncompressed.
> uvcvideo: - 640x480 (30.0 fps)
> uvcvideo: - 352x288 (30.0 fps)
> uvcvideo: - 320x240 (30.0 fps)
> uvcvideo: Found a Status endpoint (addr 81).
> uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to device 4 entity 2
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/7 to device 4 entity 2
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/8 to device 4 entity 2
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/9 to device 4 entity 2
> uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
> uvcvideo: Found a valid video chain (1 -> 3).
> uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp. 26).
> uvcvideo: UVC device initialized.
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (v0.1.0)

running uvccapture -m and uvccapture i get:
uvcvideo: uvc_v4l2_open
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0cc5605)
uvcvideo: Trying format 0x56595559 (YUYV): 320x240.
uvcvideo: Unsupported format 0x56595559.
uvcvideo: uvc_v4l2_release
uvcvideo: uvc_v4l2_open
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0cc5605)
uvcvideo: Trying format 0x47504a4d (MJPG): 320x240.
uvcvideo: Unsupported format 0x47504a4d.
uvcvideo: uvc_v4l2_release

Does this make any sense to somebody?

greetings
Felix M?ller


From monnier at iro.umontreal.ca  Thu Aug 16 06:31:56 2007
From: monnier at iro.umontreal.ca (Stefan Monnier)
Date: Thu, 16 Aug 2007 00:31:56 -0400
Subject: [Linux-uvc-devel] Patch for USB problem with Logitech webcams?
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
	<200708121201.10027.laurent.pinchart@skynet.be>
	<5D16E2E89E828C43A1BA621338322455CCB96B@VESTMB401A.tdk.dk>
	<200708131003.46916.laurent.pinchart@skynet.be>
	<5D16E2E89E828C43A1BA621338322455CCB9D7@VESTMB401A.tdk.dk>
Message-ID: <jwvtzr13fdl.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>

> But right now, I can tell you for certain, that when the UVC driver
> worked "for periods of multiple minuttes at a time", I wrote to mr.
> Xhaard asking about the luvcview output with cc to this list about this
> very problem.  This was Friday 20. July - I see from my earlier posting,
> that my kernel was the current "2.6.21-1.3228.fc7".  So no kernel changes
> was made in between.  An instance of the UVC driver working "for periods
> of a few seconds only" is the one which I checked out from the
> Subversion repository last night about 12 hours ago.  From my point of
> view, something has changed in between.  I have not reconfigured the
> physical USB setup or anything like that, but I have been playing around
> with other (USB) drivers (I say this because you mention, that the
> problem is somehow related to timing; maybe something else than changes
> in the UVC source code triggered something).

For what it's worth, my camera's problems seem to be completely different:
I only ever have problems when opening the device (e.g. when starting
luvcview), where it regularly gives me an error, but once the video is
streaming it'll stream just fine for hours on end.

At least that's what I get with luvcview and ekiga (the only 2 applications
I've ever used with my camera).


        Stefan



From bnc at astronomicalresearchaustralia.org  Thu Aug 16 13:43:07 2007
From: bnc at astronomicalresearchaustralia.org (Brian)
Date: Thu, 16 Aug 2007 21:43:07 +1000
Subject: [Linux-uvc-devel] USB problem with Logitech webcams?
In-Reply-To: <jwvtzr13fdl.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>	<200708121201.10027.laurent.pinchart@skynet.be>	<5D16E2E89E828C43A1BA621338322455CCB96B@VESTMB401A.tdk.dk>	<200708131003.46916.laurent.pinchart@skynet.be>	<5D16E2E89E828C43A1BA621338322455CCB9D7@VESTMB401A.tdk.dk>
	<jwvtzr13fdl.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
Message-ID: <46C4384B.9070002@astronomicalresearchaustralia.org>

All,
I do not know how relevant this is but...

I have just finished testing my first ekiga call and naturally we were
going up and down a few times.
On one occasion ekiga came back and said that it could not contact the
video.
Now in previous testing I had noticed that running xawtv -hwscan seemed
to revive/reset the video, so I did it again and it worked.
I was able to reconnect ekiga with the video no problem.

Not a fix but it may help in some cases.

YMMV

Brian


From frmas at free.fr  Thu Aug 16 18:55:29 2007
From: frmas at free.fr (Francois)
Date: Thu, 16 Aug 2007 18:55:29 +0200
Subject: [Linux-uvc-devel] USB problem with Logitech webcams?
In-Reply-To: <46C4384B.9070002@astronomicalresearchaustralia.org>
References: <jwvejicbkcb.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
	<jwvtzr13fdl.fsf-monnier+gmane.linux.drivers.uvc.devel@gnu.org>
	<46C4384B.9070002@astronomicalresearchaustralia.org>
Message-ID: <200708161855.29602.frmas@free.fr>

On jeudi 16 ao?t 2007, Brian wrote:
> I do not know how relevant this is but...
>
> I have just finished testing my first ekiga call and naturally we were
> going up and down a few times.
> On one occasion ekiga came back and said that it could not contact the
> video.
> Now in previous testing I had noticed that running xawtv -hwscan seemed
> to revive/reset the video, so I did it again and it worked.
> I was able to reconnect ekiga with the video no problem.
>
> Not a fix but it may help in some cases.

Just to let developpers know, I do the same. SOmetimes, i have the same 
message as ekiga comes back, and says it can't connect the video.
I have to run "camstream", then "luvcview", and then,  I can rerun ekiga 
with the video too, without any problem.
Francois


From romal at gmx.de  Thu Aug 16 21:28:19 2007
From: romal at gmx.de (Robert M. Albrecht)
Date: Thu, 16 Aug 2007 21:28:19 +0200
Subject: [Linux-uvc-devel] Creative Optia AF working
In-Reply-To: <1182450138.6727.1.camel@beastie.lan>
References: <1182448102.7668.2.camel@307H-1.ARM.math.wvu.edu>
	<1182450138.6727.1.camel@beastie.lan>
Message-ID: <46C4A553.4080502@gmx.de>

Hi,

I don`t think so, the picture sometimes looks quite similar to my SLR
trying to find the corect focus. The focus shifts forward and backward
until it`s correct.

Strange thing is, I don`t hear anything, so I'm not sure there is a
moving lens. But the cameras is quite big and get rather warm, so
something is going on there.

@Laurent: The driver works perfect. Great Work, thank you.

cu romal



Philip Heron schrieb:
> Hi Damian,
> 
> On Thu, 2007-06-21 at 13:48 -0400, Damian Christey wrote:
>> Hi all,
>>
>> Just wanted to report that the new Optia AF (
>> http://www.creative.com/products/product.asp?category=218&subcategory=219&product=16425
>> ) is working beautifully with the uvcvideo driver.
>>
>> I'm using it with the development version of Motion (
>> http://www.lavrsen.dk/twiki/bin/view/Motion/ ) to capture ridiculously
>> high resolution video (1600x1200!)
>>
>> Thanks, Laurent, for your work on this driver!
>>
> 
> Just out of curiosity, what does the AF (Auto Focus) mean? Is it just a
> software gimmick?
> 
>> [176817.973569] uvcvideo: - 1600x1200 (5.0 fps)
> 
> Nice :-)
> 
> -Phil <phil at sanslogic.co.uk>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


From mickael.drean at gmail.com  Fri Aug 17 15:53:21 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Fri, 17 Aug 2007 15:53:21 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <46C2DB2D.3080808@gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708112306.39868.laurent.pinchart@skynet.be>
	<e4b61e4b0708140241i777ea258ud8eaf83b07bae71a@mail.gmail.com>
	<200708142103.14135.laurent.pinchart@skynet.be>
	<46C2DB2D.3080808@gmail.com>
Message-ID: <e4b61e4b0708170653qd56ff6ava767cba9744467b9@mail.gmail.com>

Hello,

I've found something which may help

i've done a 'modprobe -v uvcvideo' and i get that result :

insmod /lib/modules/2.6.22.1-41.fc7/kernel/drivers/media/video/v4l2-
common.ko
insmod /lib/modules/2.6.22.1-41.fc7/kernel/drivers/media/video/v4l1-
compat.ko
insmod /lib/modules/2.6.22.1-41.fc7/kernel/drivers/media/video/videodev.ko
insmod /lib/modules/2.6.22.1-41.fc7/extra/uvc/uvcvideo.ko


now what I can say is that the last line is not the module I compiled. So i
made a link of my module in the 'lib/modules/2.6.22.1-41.fc7/extra/uvc'
directory to load my module.

Now I have a /dev/video and a /dev/video0. So my cam seems to be
recognized.... in the dmeg

Linux video capture interface: v2.00
uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)



But if i try to use it (with camstream for example) , i got a error message
'The device experienced an error-19(Aucun p?riph?rique de ce type). The
Window will be closed". Here is the termlog trace:


[root at localhost luvcview-20060207]# camstream
CVideoDeviceInput: Warning: no channel info available.
CCamWindow::CCamWindow()
CWebCamViewer::CWebCamViewer(0x705b90, 0x0)
CVideoDevice::Init()
Allocating own buffer.
Trying to find video options for USB2.0 Camera:/dev/video0
searching USB2.0 Camera
CSnapshotSettingsDlg::CSnapshotSettingsDlg(...)
QFont::setRawName(): Invalid XLFD: "system"
CVideoSettingsDlg::SizeChanged(320x240)
CVideoSettingsDlg::FramerateChanged(10)
CCamPanel::SetSize(320x240)
CCamPanel::SetImageSize(320x240)
CCamPanel::SetVisibleSize(320x240)
CCamPanel::SetSize(320x240)
CCamPanel::SetImageSize(320x240)
CCamPanel::SetVisibleSize(320x240)
RecalcTotalViewSize: resize viewport(320x240)
EnableRGB: +
CVideoDevice::SetPalette picked palette 0 []
CVideoDevice::CreateImagesRGB()
 allocating space for RGB
CVideoDevice::StartCapture() go!
CVideoDevice::LoadImage() Error loading image; errorcode=-19


And with luvcview, I get a black screen....


Thanks for your help.

Mick


2007/8/15, Mickael Dr?an <mickael.drean at gmail.com>:
>
>  Laurent Pinchart a ?crit :
>
> Hi Micka?l,
>
> On Tuesday 14 August 2007, Mickael Drean wrote:
>
>  Hello Laurent,
>
>      If it still doesn't work, please post the output of lsusb -v (with
> usbutils 0.72 or newer).
>
>  here is the  0.72 output of lsusb :
>
>  Thanks.
>
> [snip]
>
> Your webcam should definitely be supported. Make sure you're loading the
> module you compiled and not an old version that still dwells somewhere.
>
> If everything else fails, load the module with the trace parameter set to 255
> and see if dmesg reports additional information.
>
> Best regards,
>
> Laurent Pinchart
>
>    Hello Laurent,
>
> Thanks for all those informations,
>
> Is there any incompatibility with another modules or anything which could
> make some problems with the module?
>
>
>
> Micka?l
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070817/511d01c9/attachment.html>

From NathanaelGalpin at smarttech.com  Fri Aug 17 18:48:45 2007
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Fri, 17 Aug 2007 10:48:45 -0600
Subject: [Linux-uvc-devel] Accessing Extension Units
Message-ID: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FBA@calmail1.smarttech.inc>

Hi

 

I'm testing some cameras right now, and I'd like to be able to access
the controls in the camera's extension unit. I've spent some time this
last week looking at the driver and attempting to add the controls in,
but I haven't been successful. What steps do I need to take to get the
driver to recognize these controls? 

 

So far I've added a GUID for the camera's extension unit, as well I've
added entries to the uvc_ctrl and uvc_ctrl_mappings lists. I've written
a test application using the V4L2 API to enumerate the controls on the
camera, and it does see a new control, but I'm not able to use that
control. It seems like I'm missing something to associate the control
with the camera it belongs to.

 

Hopefully that makes sense, at this point I'm not looking for a really
elegant solution, I'd just like to hard code it into the driver to do
some testing.

 

Thanks,

 

Nathanael

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070817/de31bd08/attachment.html>

From j4n0 at users.sourceforge.net  Fri Aug 17 23:16:52 2007
From: j4n0 at users.sourceforge.net (=?UTF-8?B?SmFuIFN0xJlwaWXFhA==?=)
Date: Fri, 17 Aug 2007 23:16:52 +0200
Subject: [Linux-uvc-devel] 04f2:b018 to be added to the supported devices
	list
Message-ID: <46C61044.4050409@users.sourceforge.net>

Hi there,

I'm glad to inform you that trunk version of linux-uvc in revision 120
supports device 04f2:b018 by Chicony Electronics, a 2 Mpx webcam mounted
in my Compal IFL90 California Access M160S laptop. If I could help you
somehow, e.g. by sending any kind of logs or debug info, please don't
hesitate to mail me.

Keep the good work on,

Best regards,
Jan St?pie?


From j4n0 at users.sourceforge.net  Fri Aug 17 23:17:03 2007
From: j4n0 at users.sourceforge.net (=?UTF-8?B?SmFuIFN0xJlwaWXFhA==?=)
Date: Fri, 17 Aug 2007 23:17:03 +0200
Subject: [Linux-uvc-devel] 04f2:b018 to be added to the supported devices
	list
Message-ID: <46C6104F.3020009@users.sourceforge.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi there,

I'm glad to inform you that trunk version of linux-uvc in revision 120
supports device 04f2:b018 by Chicony Electronics, a 2 Mpx webcam mounted
in my Compal IFL90 California Access M160S laptop. If I could help you
somehow, e.g. by sending any kind of logs or debug info, please don't
hesitate to mail me.

Keep the good work on,

Best regards,
Jan St?pie?
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7-ecc0.1.6 (GNU/Linux)

iD8DBQFGxhBOV8Af0wiAIQIRAi99AJ419EIP+m8wvf/9jgiGGqYv//7UOgCeOYjA
2Te9CSr2wp2kaydoA7CqgUM=
=1cuT
-----END PGP SIGNATURE-----


From laurent.pinchart at skynet.be  Sat Aug 18 11:56:42 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 18 Aug 2007 11:56:42 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708170653qd56ff6ava767cba9744467b9@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<46C2DB2D.3080808@gmail.com>
	<e4b61e4b0708170653qd56ff6ava767cba9744467b9@mail.gmail.com>
Message-ID: <200708181156.42801.laurent.pinchart@skynet.be>

Hi Micka?l,

On Friday 17 August 2007, Mickael Drean wrote:
> Hello,
>
> I've found something which may help
>
> i've done a 'modprobe -v uvcvideo' and i get that result :
>
> insmod /lib/modules/2.6.22.1-41.fc7/kernel/drivers/media/video/v4l2-
> common.ko
> insmod /lib/modules/2.6.22.1-41.fc7/kernel/drivers/media/video/v4l1-
> compat.ko
> insmod /lib/modules/2.6.22.1-41.fc7/kernel/drivers/media/video/videodev.ko
> insmod /lib/modules/2.6.22.1-41.fc7/extra/uvc/uvcvideo.ko

I didn't know about that. Interesting trick to help people who have trouble 
installing the right version of the driver. Thanks.

> now what I can say is that the last line is not the module I compiled. So i
> made a link of my module in the 'lib/modules/2.6.22.1-41.fc7/extra/uvc'
> directory to load my module.
>
> Now I have a /dev/video and a /dev/video0. So my cam seems to be
> recognized.... in the dmeg
>
> Linux video capture interface: v2.00
> uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (v0.1.0)
>
> But if i try to use it (with camstream for example) , i got a error message
> 'The device experienced an error-19(Aucun p?riph?rique de ce type). The
> Window will be closed". Here is the termlog trace:
>
>
> [root at localhost luvcview-20060207]# camstream
> CVideoDeviceInput: Warning: no channel info available.
> CCamWindow::CCamWindow()
> CWebCamViewer::CWebCamViewer(0x705b90, 0x0)
> CVideoDevice::Init()
> Allocating own buffer.
> Trying to find video options for USB2.0 Camera:/dev/video0
> searching USB2.0 Camera
> CSnapshotSettingsDlg::CSnapshotSettingsDlg(...)
> QFont::setRawName(): Invalid XLFD: "system"
> CVideoSettingsDlg::SizeChanged(320x240)
> CVideoSettingsDlg::FramerateChanged(10)
> CCamPanel::SetSize(320x240)
> CCamPanel::SetImageSize(320x240)
> CCamPanel::SetVisibleSize(320x240)
> CCamPanel::SetSize(320x240)
> CCamPanel::SetImageSize(320x240)
> CCamPanel::SetVisibleSize(320x240)
> RecalcTotalViewSize: resize viewport(320x240)
> EnableRGB: +
> CVideoDevice::SetPalette picked palette 0 []
> CVideoDevice::CreateImagesRGB()
>  allocating space for RGB
> CVideoDevice::StartCapture() go!
> CVideoDevice::LoadImage() Error loading image; errorcode=-19

Camstream doesn't support V4L2 so it won't work.

> And with luvcview, I get a black screen....

Do you get messages in dmesg when you use luvcview ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Aug 18 12:03:56 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 18 Aug 2007 12:03:56 +0200
Subject: [Linux-uvc-devel] 04f2:b018 to be added to the supported
	devices list
In-Reply-To: <46C6104F.3020009@users.sourceforge.net>
References: <46C6104F.3020009@users.sourceforge.net>
Message-ID: <200708181203.56389.laurent.pinchart@skynet.be>

Hi Jan,

On Friday 17 August 2007, Jan St?pie? wrote:
> Hi there,
>
> I'm glad to inform you that trunk version of linux-uvc in revision 120
> supports device 04f2:b018 by Chicony Electronics, a 2 Mpx webcam mounted
> in my Compal IFL90 California Access M160S laptop.

Thanks. I'll add it to the list.

> If I could help you somehow, e.g. by sending any kind of logs or debug info,
> please don't hesitate to mail me.

Please send me the lsusb -v (with usbutils 0.72 or newer) output. I try to 
collect them.

> Keep the good work on,

I'll try :-)

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Aug 18 12:05:09 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 18 Aug 2007 12:05:09 +0200
Subject: [Linux-uvc-devel] New Logitech QuickCam Pro 9000 and Quickam
	Pro for Notebooks
In-Reply-To: <46C210CB.70306@google.com>
References: <46C210CB.70306@google.com>
Message-ID: <200708181205.09608.laurent.pinchart@skynet.be>

On Tuesday 14 August 2007, Joel Ebel wrote:
> I've received the two new logitech cameras, the QuickCam Pro 9000, and
> the Quickam Pro for Notebooks, and they seem to work just fine with the
> uvc driver.  Just thought I'd mention it in case you'd like to add them
> to the supported devices list.

Thanks. I'll add them to the list.

> 046d:0990	QuickCam Pro 9000
> 046d:0991	Quickam Pro for Notebooks
>
> By the way, the supported devices list contains the following sentence:
> "The table below lists know supported devices."
> You might want to consider s/know/known/

Congratulations. Of all the people who visited the webpage, you're the first 
to report that spelling mistake. I'm now wondering if people actually read 
the page :-)

Best regards,

Laurent Pinchart


From mickael.drean at gmail.com  Sat Aug 18 12:29:17 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sat, 18 Aug 2007 12:29:17 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708181156.42801.laurent.pinchart@skynet.be>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<46C2DB2D.3080808@gmail.com>
	<e4b61e4b0708170653qd56ff6ava767cba9744467b9@mail.gmail.com>
	<200708181156.42801.laurent.pinchart@skynet.be>
Message-ID: <e4b61e4b0708180329x1e2f821eq9cd27aafa2bbfdbd@mail.gmail.com>

>
>
> > And with luvcview, I get a black screen....
>
> Do you get messages in dmesg when you use luvcview ?




 No, I have nothing the only thing is that luvcview do nothing, impossible
to close the software.


Mick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070818/4287704e/attachment.html>

From mickael.drean at gmail.com  Sat Aug 18 12:46:16 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sat, 18 Aug 2007 12:46:16 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708181156.42801.laurent.pinchart@skynet.be>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<46C2DB2D.3080808@gmail.com>
	<e4b61e4b0708170653qd56ff6ava767cba9744467b9@mail.gmail.com>
	<200708181156.42801.laurent.pinchart@skynet.be>
Message-ID: <e4b61e4b0708180346h3ce50627t67fabe2ae7498687@mail.gmail.com>

I've tested to launch luvcvideo on GNOME instead of KDE and I get an error
message :
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 16.
 Init v4L2 failed !! exit fatal


I tried to use software option -L and I get this  :

/dev/video0 does not support read i/o
{ pixelformat = 'MJPG', description = 'MJPEG' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 160, height = 120 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 352, height = 288 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 176, height = 144 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 160, height = 120 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 352, height = 288 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 176, height = 144 }
        Time interval between frame: 1/30, 1/15, 1/10,

Do you have any hints about the problem? maybe something to check?

Mick

2007/8/18, Laurent Pinchart <laurent.pinchart at skynet.be>:
>
> Hi Micka?l,
>
> On Friday 17 August 2007, Mickael Drean wrote:
> > Hello,
> >
> > I've found something which may help
> >
> > i've done a 'modprobe -v uvcvideo' and i get that result :
> >
> > insmod /lib/modules/2.6.22.1-41.fc7/kernel/drivers/media/video/v4l2-
> > common.ko
> > insmod /lib/modules/2.6.22.1-41.fc7/kernel/drivers/media/video/v4l1-
> > compat.ko
> > insmod /lib/modules/2.6.22.1-41.fc7
> /kernel/drivers/media/video/videodev.ko
> > insmod /lib/modules/2.6.22.1-41.fc7/extra/uvc/uvcvideo.ko
>
> I didn't know about that. Interesting trick to help people who have
> trouble
> installing the right version of the driver. Thanks.
>
> > now what I can say is that the last line is not the module I compiled.
> So i
> > made a link of my module in the 'lib/modules/2.6.22.1-41.fc7/extra/uvc'
> > directory to load my module.
> >
> > Now I have a /dev/video and a /dev/video0. So my cam seems to be
> > recognized.... in the dmeg
> >
> > Linux video capture interface: v2.00
> > uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
> > usbcore: registered new interface driver uvcvideo
> > USB Video Class driver (v0.1.0)
> >
> > But if i try to use it (with camstream for example) , i got a error
> message
> > 'The device experienced an error-19(Aucun p?riph?rique de ce type). The
> > Window will be closed". Here is the termlog trace:
> >
> >
> > [root at localhost luvcview-20060207]# camstream
> > CVideoDeviceInput: Warning: no channel info available.
> > CCamWindow::CCamWindow()
> > CWebCamViewer::CWebCamViewer(0x705b90, 0x0)
> > CVideoDevice::Init()
> > Allocating own buffer.
> > Trying to find video options for USB2.0 Camera:/dev/video0
> > searching USB2.0 Camera
> > CSnapshotSettingsDlg::CSnapshotSettingsDlg(...)
> > QFont::setRawName(): Invalid XLFD: "system"
> > CVideoSettingsDlg::SizeChanged(320x240)
> > CVideoSettingsDlg::FramerateChanged(10)
> > CCamPanel::SetSize(320x240)
> > CCamPanel::SetImageSize(320x240)
> > CCamPanel::SetVisibleSize(320x240)
> > CCamPanel::SetSize(320x240)
> > CCamPanel::SetImageSize(320x240)
> > CCamPanel::SetVisibleSize(320x240)
> > RecalcTotalViewSize: resize viewport(320x240)
> > EnableRGB: +
> > CVideoDevice::SetPalette picked palette 0 []
> > CVideoDevice::CreateImagesRGB()
> >  allocating space for RGB
> > CVideoDevice::StartCapture() go!
> > CVideoDevice::LoadImage() Error loading image; errorcode=-19
>
> Camstream doesn't support V4L2 so it won't work.
>
> > And with luvcview, I get a black screen....
>
> Do you get messages in dmesg when you use luvcview ?
>
> Best regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070818/c900bd42/attachment.html>

From laurent.pinchart at skynet.be  Sat Aug 18 12:56:41 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 18 Aug 2007 12:56:41 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708180346h3ce50627t67fabe2ae7498687@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708181156.42801.laurent.pinchart@skynet.be>
	<e4b61e4b0708180346h3ce50627t67fabe2ae7498687@mail.gmail.com>
Message-ID: <200708181256.42426.laurent.pinchart@skynet.be>

Hi Micka?l,

On Saturday 18 August 2007, Mickael Drean wrote:
> I've tested to launch luvcvideo on GNOME instead of KDE and I get an error
> message :
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 16.
>  Init v4L2 failed !! exit fatal

What do you get in dmesg ?

> I tried to use software option -L and I get this  :
>
> /dev/video0 does not support read i/o
> { pixelformat = 'MJPG', description = 'MJPEG' }
> { discrete: width = 640, height = 480 }
>         Time interval between frame: 1/30, 1/15, 1/10,
> { discrete: width = 320, height = 240 }
>         Time interval between frame: 1/30, 1/15, 1/10,
> { discrete: width = 160, height = 120 }
>         Time interval between frame: 1/30, 1/15, 1/10,
> { discrete: width = 352, height = 288 }
>         Time interval between frame: 1/30, 1/15, 1/10,
> { discrete: width = 176, height = 144 }
>         Time interval between frame: 1/30, 1/15, 1/10,
> { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
> { discrete: width = 640, height = 480 }
>         Time interval between frame: 1/30, 1/15, 1/10,
> { discrete: width = 320, height = 240 }
>         Time interval between frame: 1/30, 1/15, 1/10,
> { discrete: width = 160, height = 120 }
>         Time interval between frame: 1/30, 1/15, 1/10,
> { discrete: width = 352, height = 288 }
>         Time interval between frame: 1/30, 1/15, 1/10,
> { discrete: width = 176, height = 144 }
>         Time interval between frame: 1/30, 1/15, 1/10,

Best regards,

Laurent Pinchart


From j4n0 at users.sourceforge.net  Sat Aug 18 12:53:47 2007
From: j4n0 at users.sourceforge.net (=?UTF-8?B?SmFuIFN0xJlwaWXFhA==?=)
Date: Sat, 18 Aug 2007 12:53:47 +0200
Subject: [Linux-uvc-devel] 04f2:b018 to be added to the supported
 devices list
In-Reply-To: <200708181243.24934.laurent.pinchart@skynet.be>
References: <46C6104F.3020009@users.sourceforge.net>
	<200708181203.56389.laurent.pinchart@skynet.be>
	<46C6CABA.7060301@users.sourceforge.net>
	<200708181243.24934.laurent.pinchart@skynet.be>
Message-ID: <46C6CFBB.4010100@users.sourceforge.net>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Laurent Pinchart wrote:
> Hi Jan,
> On Saturday 18 August 2007, Jan St?pie? wrote:
>> Laurent Pinchart wrote:
>>> Please send me the lsusb -v (with usbutils 0.72 or newer) output. I try
>>> to collect them.
>> Hi Laurent,
>>
>> I've collected info which you've been asking for using usbutils 0.71, as
>>  0.72 isn't yet stabilised in Gentoo, the distro I'm a user of. See the
>> attachment.
> 
> usbutils 0.71 didn't support UVC devices yet, so it doesn't print most of the 
> USB descriptors. You can safely emerge usbutils 0.72 :-)
> 

I can't argue with you - after emerging usbutils-0.72-r the output grew
from 4 to 20 B. Give me a shout if you need anything more.

Best regards,
Jan St?pie?
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7-ecc0.1.6 (GNU/Linux)

iD8DBQFGxs+6V8Af0wiAIQIRAs+cAJsHmHiAxh+kY5d+uZexGudlkvVTdwCcChRi
stmelCEmuvlD/ERibfMZsjk=
=vifs
-----END PGP SIGNATURE-----
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: lsusb
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070818/1931876d/attachment.ksh>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb.sig
Type: application/octet-stream
Size: 65 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070818/1931876d/attachment.obj>

From romal at gmx.de  Sat Aug 18 12:57:04 2007
From: romal at gmx.de (Robert M. Albrecht)
Date: Sat, 18 Aug 2007 12:57:04 +0200
Subject: [Linux-uvc-devel] VLC Streaming problems
Message-ID: <46C6D080.7090408@gmx.de>

Hello List,

I'm not sure if I make a mistake with VLC or if it really does not work.
VLC does complain on non-existens channel-info and on audio.

Has somebody got VLC to work with uvcvideo (trunk 120) ?

The uvcvideo-driver works, Ekiga runs fine.

cu romal

[root at helios ~]# rpm --query vlc
vlc-0.8.6b-5.lvn7


[romal at helios trunk]$ vlc -vvv  --color
v4l:/dev/video0:adev=/dev/audio:channel=0:size=640x480 --no-sout-audio
--sout
'#transcode{vcodec=mp4v,acodec=mpga}:std{access=udp,mux=ts,dst=192.168.1.10
1234}'

results in:

[00000313] main input debug:
`v4l:/dev/video0:adev=/dev/audio:channel=0:size=640x480' gives access
`v4l' demux `' path `/dev/video0:adev=/dev/audio:channel=0:size=640x480'
[00000313] main input debug: creating demux: access='v4l' demux=''
path='/dev/video0:adev=/dev/audio:channel=0:size=640x480'
[00000325] main demuxer debug: looking for access_demux module: 1 candidate
[00000325] v4l demuxer debug: WxH 640x480
[00000325] v4l demuxer debug: main device=`/dev/video0'
[00000325] v4l demuxer debug: V4L device UVC Camera (046d:08c3) 1
channels 0 audios 48 < w < 960 32 < h < 720
[00000325] v4l demuxer error: cannot get channel infos (Das Argument ist
ung?ltig)
[00000325] v4l demuxer error: cannot set audio format (16b little
endian) (Das Argument ist ung?ltig)
[00000325] v4l demuxer debug: V4L device UVC Camera (046d:08c3) 1
channels 0 audios 48 < w < 960 32 < h < 720
[00000325] v4l demuxer error: cannot get channel infos (Das Argument ist
ung?ltig)
[00000325] v4l demuxer debug: openened adev=`/dev/audio' stereo 44100Hz
[00000325] v4l demuxer debug: v4l grabbing started
[00000325] v4l demuxer debug: new audio es 2 channels 44100Hz
[00000313] main input debug: selecting program id=0
[00000325] main demuxer debug: using access_demux module "v4l"
[00000313] main input debug: audio is disabled, not selecting ES 0x0
[00000313] main input debug: starting in sync mode
[00000313] main input debug:
`v4l:/dev/video0:adev=/dev/audio:channel=0:size=640x480' successfully opened

lsusb -v from my Logitech Notebook Pro:


Bus 005 Device 008: ID 046d:08c3 Logitech, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         1
  bMaxPacketSize0        64
  idVendor           0x046d Logitech, Inc.
  idProduct          0x08c3
  bcdDevice            0.05
  iManufacturer           0
  iProduct                0
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1361
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
    MaxPower              500mA
    UNRECOGNIZED:  08 0b 00 02 ff 03 00 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      1
      bInterfaceProtocol      0
      iInterface              0
      UNRECOGNIZED:  20 41 01 08 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e
8d 22 51 03 01 04 03 19 00 00 00 00 00 00 00
      UNRECOGNIZED:  20 41 01 0a 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e
8d 22 52 01 01 04 03 00 40 00 00 00 00 00 00
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x87  EP 7 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               8
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x00c0  1x 192 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0280  1x 640 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x03b0  1x 944 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       7
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0a80  2x 640 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       8
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       9
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0be0  2x 992 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting      10
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x1380  3x 896 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting      11
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x13fc  3x 1020 bytes
        bInterval               1
        UNRECOGNIZED:  08 0b 02 02 01 02 00 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           38
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 8
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 5
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x03
          Mute
          Volume
        iFeature                0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]            0
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]            0
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0030  1x 48 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         1
  bMaxPacketSize0        64
  bNumConfigurations      1



From mickael.drean at gmail.com  Sat Aug 18 13:01:01 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sat, 18 Aug 2007 13:01:01 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708181256.42426.laurent.pinchart@skynet.be>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708181156.42801.laurent.pinchart@skynet.be>
	<e4b61e4b0708180346h3ce50627t67fabe2ae7498687@mail.gmail.com>
	<200708181256.42426.laurent.pinchart@skynet.be>
Message-ID: <e4b61e4b0708180401s34e5e721uf3a555084f0c2cb4@mail.gmail.com>

2007/8/18, Laurent Pinchart <laurent.pinchart at skynet.be>:
>
> Hi Micka?l,
>
> On Saturday 18 August 2007, Mickael Drean wrote:
> > I've tested to launch luvcvideo on GNOME instead of KDE and I get an
> error
> > message :
> > luvcview version 0.2.1
> > Video driver: x11
> > A window manager is available
> > video /dev/video0
> > Unable to set format: 16.
> >  Init v4L2 failed !! exit fatal
>
> What do you get in dmesg ?



Nothing, but you talked about possibility to add trace with a '255' value. I
didn't do it because I don't know how to do it, could you please specify me
how to do maybe we will have more info with thoses traces.

Mick
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070818/68973369/attachment.html>

From romal at gmx.de  Sat Aug 18 13:02:51 2007
From: romal at gmx.de (Robert M. Albrecht)
Date: Sat, 18 Aug 2007 13:02:51 +0200
Subject: [Linux-uvc-devel] lsusb -v from Creative Labs Optia AF
Message-ID: <46C6D1DB.4010506@gmx.de>

Hi,

as reported before, this device works nicely:

Bus 005 Device 009: ID 041e:4058 Creative Technology, Ltd
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x041e Creative Technology, Ltd
  idProduct          0x4058
  bcdDevice            1.00
  iManufacturer           1 Creative Labs
  iProduct                0
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1073
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
    MaxPower              500mA
    UNRECOGNIZED:  08 0b 00 02 0e 03 00 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x000a  1x 10 bytes
        bInterval               5
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0400  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b00  2x 768 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0c00  2x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1380  3x 896 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       7
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 0 bytes
        bInterval               1
        UNRECOGNIZED:  08 0b 02 02 01 02 00 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           40
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0602 Digital Audio Interface
        bAssocTerminal          0
        bNrChannels             2
        wChannelConfig     0x0003
          Left Front (L)
          Right Front (R)
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                10
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 2
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x00
        bmaControls( 1)      0x43
          Mute
          Volume
          Automatic Gain
        bmaControls( 2)      0x43
          Mute
          Volume
          Automatic Gain
        iFeature                0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                35
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             2
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            9 Discrete
        tSamFreq[ 0]         8000
        tSamFreq[ 1]        11025
        tSamFreq[ 2]        12000
        tSamFreq[ 3]        16000
        tSamFreq[ 4]        22050
        tSamFreq[ 5]        24000
        tSamFreq[ 6]        32000
        tSamFreq[ 7]        44100
        tSamFreq[ 8]        48000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x00c4  1x 196 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1


cu romal


From laurent.pinchart at skynet.be  Sat Aug 18 13:08:29 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 18 Aug 2007 13:08:29 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708180401s34e5e721uf3a555084f0c2cb4@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708181256.42426.laurent.pinchart@skynet.be>
	<e4b61e4b0708180401s34e5e721uf3a555084f0c2cb4@mail.gmail.com>
Message-ID: <200708181308.29513.laurent.pinchart@skynet.be>

On Saturday 18 August 2007, Mickael Drean wrote:
> 2007/8/18, Laurent Pinchart <laurent.pinchart at skynet.be>:
> > Hi Micka?l,
> >
> > On Saturday 18 August 2007, Mickael Drean wrote:
> > > I've tested to launch luvcvideo on GNOME instead of KDE and I get an
> >
> > error
> >
> > > message :
> > > luvcview version 0.2.1
> > > Video driver: x11
> > > A window manager is available
> > > video /dev/video0
> > > Unable to set format: 16.
> > >  Init v4L2 failed !! exit fatal
> >
> > What do you get in dmesg ?
>
> Nothing, but you talked about possibility to add trace with a '255' value.
> I didn't do it because I don't know how to do it, could you please specify
> me how to do maybe we will have more info with thoses traces.

Error 16 is EBUSY. You can't stream from the webcam using two programs at 
once. Are you sure that there wasn't still an old instance of luvcview 
running ?

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Aug 18 13:12:52 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 18 Aug 2007 13:12:52 +0200
Subject: [Linux-uvc-devel] lsusb -v from Creative Labs Optia AF
In-Reply-To: <46C6D1DB.4010506@gmx.de>
References: <46C6D1DB.4010506@gmx.de>
Message-ID: <200708181312.53105.laurent.pinchart@skynet.be>

Hi Robert,

please upgrade to usbutils 0.72 or newer. lsusb 0.71 doesn't print UVC 
descriptors.

Best regards,

Laurent Pinchart


From mickael.drean at gmail.com  Sat Aug 18 13:10:01 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sat, 18 Aug 2007 13:10:01 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708181308.29513.laurent.pinchart@skynet.be>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708181256.42426.laurent.pinchart@skynet.be>
	<e4b61e4b0708180401s34e5e721uf3a555084f0c2cb4@mail.gmail.com>
	<200708181308.29513.laurent.pinchart@skynet.be>
Message-ID: <e4b61e4b0708180410r746d52a4x5ee09d7ae9d3e0c3@mail.gmail.com>

You are true for that error, I didn't get it anymore.....


But I still have a black screen and nothing in dmesg


Mick

2007/8/18, Laurent Pinchart <laurent.pinchart at skynet.be>:
>
> On Saturday 18 August 2007, Mickael Drean wrote:
> > 2007/8/18, Laurent Pinchart <laurent.pinchart at skynet.be>:
> > > Hi Micka?l,
> > >
> > > On Saturday 18 August 2007, Mickael Drean wrote:
> > > > I've tested to launch luvcvideo on GNOME instead of KDE and I get an
> > >
> > > error
> > >
> > > > message :
> > > > luvcview version 0.2.1
> > > > Video driver: x11
> > > > A window manager is available
> > > > video /dev/video0
> > > > Unable to set format: 16.
> > > >  Init v4L2 failed !! exit fatal
> > >
> > > What do you get in dmesg ?
> >
> > Nothing, but you talked about possibility to add trace with a '255'
> value.
> > I didn't do it because I don't know how to do it, could you please
> specify
> > me how to do maybe we will have more info with thoses traces.
>
> Error 16 is EBUSY. You can't stream from the webcam using two programs at
> once. Are you sure that there wasn't still an old instance of luvcview
> running ?
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070818/3551cfdb/attachment.html>

From romal at gmx.de  Sat Aug 18 13:19:21 2007
From: romal at gmx.de (Robert M. Albrecht)
Date: Sat, 18 Aug 2007 13:19:21 +0200
Subject: [Linux-uvc-devel] lsusb -v from Creative Labs Optia AF
In-Reply-To: <200708181312.53105.laurent.pinchart@skynet.be>
References: <46C6D1DB.4010506@gmx.de>
	<200708181312.53105.laurent.pinchart@skynet.be>
Message-ID: <46C6D5B9.6030808@gmx.de>

Hi Laurent,

whops. Fedora does still include 0.71.

Another try :-)

cu romal


Bus 005 Device 010: ID 041e:4058 Creative Technology, Ltd
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x041e Creative Technology, Ltd
  idProduct          0x4058
  bcdDevice            1.00
  iManufacturer           1 Creative Labs
  iProduct                0
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1073
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              0
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           78
        dwClockFrequency       48.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x0006002a
          Auto-Exposure Mode
          Exposure Time (Absolute)
          Focus (Absolute)
          Focus, Auto
          Privacy
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 2
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000157f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0
        bmVideoStandards     0x 9
          None
          SECAM - 625/50
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                27
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {a917c75d-4119-11da-ae0e-000d56ac7b4c}
        bNumControl             9
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            2
        bmControls( 0)       0xff
        bmControls( 1)       0x01
        iExtension              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x000a  1x 10 bytes
        bInterval               5
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormarts                        2
        wTotalLength                    33282
        bEndPointAddress                    0
        bmInfo                              3
        bTerminalLink                       2
        bStillCaptureMethod                 1
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
        bmaControls( 1)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                7
        guidFormat
{32595559-0000-0010-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 24576000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  6144000
        dwMaxBitRate                 73728000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1536000
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                 24576000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                 24576000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                           960
        dwMinBitRate                 98304000
        dwMaxBitRate                147456000
        dwMaxVideoFrameBufferSize     2621440
        dwDefaultFrameInterval        1333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1333333
        dwFrameInterval( 1)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         7
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1600
        wHeight                          1200
        dwMinBitRate                153600000
        dwMaxBitRate                153600000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval        2000000
        bFrameIntervalType                  1
        dwFrameInterval( 0)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            22
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               4
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        320
        wHeight( 1)                       240
        wWidth( 2)                       1280
        wHeight( 2)                       960
        wWidth( 3)                       1600
        wHeight( 3)                      1200
        bNumCompressionPatterns             4
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     0 (Unspecified)
        bTransferCharacteristics            0 (Unspecified)
        bMatrixCoefficients                 0 (Unspecified)
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        2
        bNumFrameDescriptors                6
        bFlags                              0
          Fixed-size samples: No
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                  4915200
        dwMaxBitRate                 29491200
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   614400
        dwMaxBitRate                  7372800
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   153600
        dwMaxBitRate                  1843200
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  4915200
        dwMaxBitRate                 29491200
        dwMaxVideoFrameBufferSize       61440
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  4915200
        dwMaxBitRate                 29491200
        dwMaxVideoFrameBufferSize       61440
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            400000
        dwFrameInterval( 2)            500000
        dwFrameInterval( 3)            666667
        dwFrameInterval( 4)           1000000
        dwFrameInterval( 5)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         6
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                           960
        dwMinBitRate                 10485760
        dwMaxBitRate                 20971520
        dwMaxVideoFrameBufferSize     2621440
        dwDefaultFrameInterval        1000000
        bFrameIntervalType                  2
        dwFrameInterval( 0)           1000000
        dwFrameInterval( 1)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            18
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               3
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        320
        wHeight( 1)                       240
        wWidth( 2)                       1280
        wHeight( 2)                       960
        bNumCompressionPatterns             3
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     0 (Unspecified)
        bTransferCharacteristics            0 (Unspecified)
        bMatrixCoefficients                 0 (Unspecified)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0400  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b00  2x 768 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0c00  2x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1380  3x 896 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       7
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 0 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       2 Streaming
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           40
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0602 Digital Audio Interface
        bAssocTerminal          0
        bNrChannels             2
        wChannelConfig     0x0003
          Left Front (L)
          Right Front (R)
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                10
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 2
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x00
        bmaControls( 1)      0x43
          Mute
          Volume
          Automatic Gain
        bmaControls( 2)      0x43
          Mute
          Volume
          Automatic Gain
        iFeature                0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                35
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             2
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            9 Discrete
        tSamFreq[ 0]         8000
        tSamFreq[ 1]        11025
        tSamFreq[ 2]        12000
        tSamFreq[ 3]        16000
        tSamFreq[ 4]        22050
        tSamFreq[ 5]        24000
        tSamFreq[ 6]        32000
        tSamFreq[ 7]        44100
        tSamFreq[ 8]        48000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x00c4  1x 196 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)


Laurent Pinchart schrieb:
> Hi Robert,
> 
> please upgrade to usbutils 0.72 or newer. lsusb 0.71 doesn't print UVC 
> descriptors.
> 
> Best regards,
> 
> Laurent Pinchart


From romal at gmx.de  Sat Aug 18 13:23:14 2007
From: romal at gmx.de (Robert M. Albrecht)
Date: Sat, 18 Aug 2007 13:23:14 +0200
Subject: [Linux-uvc-devel] lsusb -v from Logitech Notebook Pro
Message-ID: <46C6D6A2.8090804@gmx.de>

Hello List,

lsusb (0.72) does some complaining, but Ekiga likes the webcam and the
driver very much :-)

cu romal


Bus 005 Device 011: ID 046d:08c3 Logitech, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         1
  bMaxPacketSize0        64
  idVendor           0x046d Logitech, Inc.
  idProduct          0x08c3
  bcdDevice            0.05
  iManufacturer           0
  iProduct                0
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1361
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass        255 Vendor Specific Class
      bFunctionSubClass       3
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      1
      bInterfaceProtocol      0
      iInterface              0
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      UNRECOGNIZED:  20 41 01 08 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e
8d 22 51 03 01 04 03 19 00 00 00 00 00 00 00
      UNRECOGNIZED:  20 41 01 0a 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e
8d 22 52 01 01 04 03 00 40 00 00 00 00 00 00
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x87  EP 7 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               8
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x00c0  1x 192 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0280  1x 640 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x03b0  1x 944 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       7
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0a80  2x 640 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       8
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       9
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0be0  2x 992 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting      10
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x1380  3x 896 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting      11
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x13fc  3x 1020 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       2 Streaming
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           38
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 8
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 5
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x03
          Mute
          Volume
        iFeature                0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]            0
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]            0
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0030  1x 48 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         1
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)


From laurent.pinchart at skynet.be  Sat Aug 18 14:09:21 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 18 Aug 2007 14:09:21 +0200
Subject: [Linux-uvc-devel] VLC Streaming problems
In-Reply-To: <46C6D080.7090408@gmx.de>
References: <46C6D080.7090408@gmx.de>
Message-ID: <200708181409.21528.laurent.pinchart@skynet.be>

Hi Robert,

On Saturday 18 August 2007, Robert M. Albrecht wrote:
> Hello List,
>
> I'm not sure if I make a mistake with VLC or if it really does not work.
> VLC does complain on non-existens channel-info and on audio.
>
> Has somebody got VLC to work with uvcvideo (trunk 120) ?

VLC doesn't support V4L2, so it won't work with the Linux UVC driver. Sorry.

Best regards,

Laurent Pinchart


From mickael.drean at gmail.com  Sat Aug 18 18:45:22 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sat, 18 Aug 2007 18:45:22 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708180410r746d52a4x5ee09d7ae9d3e0c3@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708181256.42426.laurent.pinchart@skynet.be>
	<e4b61e4b0708180401s34e5e721uf3a555084f0c2cb4@mail.gmail.com>
	<200708181308.29513.laurent.pinchart@skynet.be>
	<e4b61e4b0708180410r746d52a4x5ee09d7ae9d3e0c3@mail.gmail.com>
Message-ID: <e4b61e4b0708180945o3faaf8d2tfe1a0c0d4fc63ac0@mail.gmail.com>

Hi laurent it's me (again :-) )


I've done a modprobe uvcvideo trace=255 (I found how to do)

here is the trace in the dmesg :

Linux video capture interface: v2.00
uvcvideo: Adding mapping Brightness to control
00000000-0000-0000-0000-000000000101/2.
uvcvideo: Adding mapping Contrast to control
00000000-0000-0000-0000-000000000101/3.
uvcvideo: Adding mapping Hue to control
00000000-0000-0000-0000-000000000101/6.
uvcvideo: Adding mapping Saturation to control
00000000-0000-0000-0000-000000000101/7.
uvcvideo: Adding mapping Sharpness to control
00000000-0000-0000-0000-000000000101/8.
uvcvideo: Adding mapping Gamma to control
00000000-0000-0000-0000-000000000101/9.
uvcvideo: Adding mapping Backlight Compensation to control
00000000-0000-0000-0000-000000000101/1.
uvcvideo: Adding mapping Gain to control
00000000-0000-0000-0000-000000000101/4.
uvcvideo: Adding mapping Power Line Frequency to control
00000000-0000-0000-0000-000000000101/5.
uvcvideo: Adding mapping Hue, Auto to control
00000000-0000-0000-0000-000000000101/16.
uvcvideo: Adding mapping Pan (relative) to control
63610682-5070-49ab-b8cc-b3855e8d2256/1.
uvcvideo: Adding mapping Tilt (relative) to control
63610682-5070-49ab-b8cc-b3855e8d2256/1.
uvcvideo: Adding mapping Pan/Tilt (reset) to control
63610682-5070-49ab-b8cc-b3855e8d2256/2.
uvcvideo: Adding mapping Exposure, Auto to control
00000000-0000-0000-0000-000000000001/2.
uvcvideo: Adding mapping Exposure (Absolute) to control
00000000-0000-0000-0000-000000000001/4.
uvcvideo: Adding mapping White Balance Temperature, Auto to control
00000000-0000-0000-0000-000000000101/11.
uvcvideo: Adding mapping White Balance Temperature to control
00000000-0000-0000-0000-000000000101/10.
uvcvideo: Probing known UVC device 6 (5986:0100)
uvcvideo: Found format MJPEG.
uvcvideo: - 640x480 (30.0 fps)
uvcvideo: - 320x240 (30.0 fps)
uvcvideo: - 160x120 (30.0 fps)
uvcvideo: - 352x288 (30.0 fps)
uvcvideo: - 176x144 (30.0 fps)
uvcvideo: Found format YUV 4:2:2 (YUYV).
uvcvideo: - 640x480 (30.0 fps)
uvcvideo: - 320x240 (30.0 fps)
uvcvideo: - 160x120 (30.0 fps)
uvcvideo: - 352x288 (30.0 fps)
uvcvideo: - 176x144 (30.0 fps)
uvcvideo: Found a Status endpoint (addr 82).
uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to device 6
entity 5
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/3 to device 6
entity 5
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/6 to device 6
entity 5
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/7 to device 6
entity 5
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/8 to device 6
entity 5
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/9 to device 6
entity 5
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/1 to device 6
entity 5
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/5 to device 6
entity 5
uvcvideo: Added control 00000000-0000-0000-0000-000000000001/2 to device 6
entity 1
uvcvideo: Added control 00000000-0000-0000-0000-000000000001/4 to device 6
entity 1
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/11 to device 6
entity 5
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/10 to device 6
entity 5
uvcvideo: Scanning UVC chain: OT 3 <- XU 6 <- PU 5 <- SU 4 <- IT 1
uvcvideo: Found a valid video chain (1 -> 3).
uvcvideo: UVC device initialized.
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)


Is it interesting for you?

Maybe my modprobe.conf should have some special options for the webcam?

Mick

2007/8/18, Mickael Drean <mickael.drean at gmail.com>:
>
> You are true for that error, I didn't get it anymore.....
>
>
> But I still have a black screen and nothing in dmesg
>
>
> Mick
>
> 2007/8/18, Laurent Pinchart < laurent.pinchart at skynet.be>:
> >
> > On Saturday 18 August 2007, Mickael Drean wrote:
> > > 2007/8/18, Laurent Pinchart <laurent.pinchart at skynet.be>:
> > > > Hi Micka?l,
> > > >
> > > > On Saturday 18 August 2007, Mickael Drean wrote:
> > > > > I've tested to launch luvcvideo on GNOME instead of KDE and I get
> > an
> > > >
> > > > error
> > > >
> > > > > message :
> > > > > luvcview version 0.2.1
> > > > > Video driver: x11
> > > > > A window manager is available
> > > > > video /dev/video0
> > > > > Unable to set format: 16.
> > > > >  Init v4L2 failed !! exit fatal
> > > >
> > > > What do you get in dmesg ?
> > >
> > > Nothing, but you talked about possibility to add trace with a '255'
> > value.
> > > I didn't do it because I don't know how to do it, could you please
> > specify
> > > me how to do maybe we will have more info with thoses traces.
> >
> > Error 16 is EBUSY. You can't stream from the webcam using two programs
> > at
> > once. Are you sure that there wasn't still an old instance of luvcview
> > running ?
> >
> > Laurent Pinchart
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070818/719c57b0/attachment.html>

From jbebel at google.com  Sat Aug 18 19:48:51 2007
From: jbebel at google.com (Joel Ebel)
Date: Sat, 18 Aug 2007 10:48:51 -0700
Subject: [Linux-uvc-devel] New Logitech QuickCam Pro 9000 and Quickam
 Pro for Notebooks
In-Reply-To: <200708181205.09608.laurent.pinchart@skynet.be>
References: <46C210CB.70306@google.com>
	<200708181205.09608.laurent.pinchart@skynet.be>
Message-ID: <46C73103.4030007@google.com>

Laurent Pinchart wrote:
> Congratulations. Of all the people who visited the webpage, you're the first 
> to report that spelling mistake. I'm now wondering if people actually read 
> the page :-)

In others' defense, I've read the page countless times before and
haven't noticed it.  I think it has to do with being proximal to
something that is very obviously a list of supported hardware and is
thus less likely to be read closely.

Joel


From laurent.pinchart at skynet.be  Sat Aug 18 23:47:45 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 18 Aug 2007 23:47:45 +0200
Subject: [Linux-uvc-devel] Accessing Extension Units
In-Reply-To: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FBA@calmail1.smarttech.inc>
References: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FBA@calmail1.smarttech.inc>
Message-ID: <200708182347.45326.laurent.pinchart@skynet.be>

Hi Nathanael,

On Friday 17 August 2007, Nathanael Galpin wrote:
> Hi
>
> I'm testing some cameras right now, and I'd like to be able to access
> the controls in the camera's extension unit. I've spent some time this
> last week looking at the driver and attempting to add the controls in,
> but I haven't been successful. What steps do I need to take to get the
> driver to recognize these controls?

You will have to modify the uvc_ctrls and uvc_ctrl_mappings arrays in 
uvc_video.c

Add an entry to uvc_ctrls with the following fields:

- entity	entity GUID
- selector	UVC control selector (the identifier to be used in requests)
- index		UVC control index in extension unit descriptor bmControls bitfield
- size		UVC control size in bytes
- flags		UVC control flags (see existing controls for examples)

Then add one or more entries to uvc_ctrl_mappings to map the UVC control to 
V4L2 control(s). A single UVC control can be mapped to several V4L2 controls. 
The fields are:

- id		V4L2 control ID
- name		V4L2 control name
- entity	associated UVC control entity GUID
- selector	associated UVC control selector
- size		V4L2 control size in bits
- offset	V4L2 control offset in bits from the UVC control base (*)
- v4l2_type	V4L2 control type
- data_type	V4L2 control field type in the UVC control (**)

(*) A single UVC control can be mapped to several V4L2 controls. For instance, 
a pan/tilt 32-bit (4 bytes) UVC control made of a 16-bit pan value followed 
by a 16-bit tilt value could be mapped to a 16-bit V4L2 pan control and a 
16-bit V4L2 tilt control. The first V4L2 control's offset would be equal to 0 
and the second V4L2 control's offset would be equal to 16.

(**) The currently supported values are UVC_CTRL_DATA_TYPE_SIGNED and 
UVC_CTRL_DATA_TYPE_UNSIGNED. They are used to perform sign extension when 
mapping from signed UVC controls to signed V4L2 controls if the control size 
are not identical.

Finally, modify uvcvideo.h and set V4L2_CID_PRIVATE_LAST equal to your last 
private V4L2 control identifier.

> So far I've added a GUID for the camera's extension unit, as well I've
> added entries to the uvc_ctrl and uvc_ctrl_mappings lists. I've written
> a test application using the V4L2 API to enumerate the controls on the
> camera, and it does see a new control,

Sounds good so far.

> but I'm not able to use that control. It seems like I'm missing something to
> associate the control with the camera it belongs to.

What are the symptoms ? Do you get an error when you try to access the 
control ? If so, what error (errno) do you get ?

If you can enumerate the control on your device instance, there should be 
no "association" problem. Try to raise the trace level to 255 (modprobe 
uvcvideo trace=255 or echo 255 > /sys/modules/uvcvideo/parameters/trace) and 
check the kernel log (dmesg) for error messages after you try to access the 
control from your userspace application.

> Hopefully that makes sense, at this point I'm not looking for a really
> elegant solution, I'd just like to hard code it into the driver to do
> some testing.

The elegant solution is in the dynctrls branch. The idea is to let a userspace 
application configure the driver to add new control mappings at runtime. I 
have to bring the branch up to date, as I haven't worked on it for some time.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Aug 18 23:50:11 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 18 Aug 2007 23:50:11 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <46C301E2.8090702@derklecks.de>
References: <46B470B2.6020503@derklecks.de> <46C2FD1E.4010805@derklecks.de>
	<46C301E2.8090702@derklecks.de>
Message-ID: <200708182350.11322.laurent.pinchart@skynet.be>

Hi Felix,

On Wednesday 15 August 2007, Felix M?ller wrote:
> Hi,
>
> > ... and no video device is created.
> >
> > So now I am stuck again ... What could I try?
> >
> > http://people.freedesktop.org/~rbultje/isight.patch seems to be against
> > revision 40 thats probably quiet old ...
>
> I got the driver to detect the camera by now. I changed the following:
> your patch contains ...
>         /* Apple iSight (built-in Macintels) */
>         { .match_flags          = USB_DEVICE_ID_MATCH_DEVICE
>
>                                 | USB_DEVICE_ID_MATCH_INT_INFO,
>
>           .idVendor             = 0x05ac,
>           .idProduct            = 0x8501,
>           .bInterfaceClass      = USB_CLASS_VIDEO,
>           .bInterfaceSubClass   = 1,
>           .bInterfaceProtocol   = 0,
>           .driver_info          = UVC_QUIRK_PROBE_MINMAX
>         },
>
> ... I changed that to ...
>         /* Apple Built-In iSight - with firmware loaded  */
>         { .match_flags          = USB_DEVICE_ID_MATCH_DEVICE,
>           .idVendor             = 0x05ac,
>           .idProduct            = 0x8501,
>           .driver_info          = UVC_QUIRK_PROBE_MINMAX },
>
> ... as seen in
> http://www.i-nz.net/files/projects/linux-kernel/isight/isight.patch now
> the driver loads. ;)

Nice to see you're making progress :-)

> > uvcvideo: Adding mapping Brightness to control
> > 00000000-0000-0000-0000-000000000101/2. uvcvideo: Adding mapping Contrast
> > to control 00000000-0000-0000-0000-000000000101/3. uvcvideo: Adding
> > mapping Hue to control 00000000-0000-0000-0000-000000000101/6. uvcvideo:
> > Adding mapping Saturation to control
> > 00000000-0000-0000-0000-000000000101/7. uvcvideo: Adding mapping
> > Sharpness to control 00000000-0000-0000-0000-000000000101/8. uvcvideo:
> > Adding mapping Gamma to control 00000000-0000-0000-0000-000000000101/9.
> > uvcvideo: Adding mapping Backlight Compensation to control
> > 00000000-0000-0000-0000-000000000101/1. uvcvideo: Adding mapping Gain to
> > control 00000000-0000-0000-0000-000000000101/4. uvcvideo: Adding mapping
> > Power Line Frequency to control 00000000-0000-0000-0000-000000000101/5.
> > uvcvideo: Adding mapping Hue, Auto to control
> > 00000000-0000-0000-0000-000000000101/16. uvcvideo: Adding mapping Pan
> > (relative) to control 63610682-5070-49ab-b8cc-b3855e8d2256/1. uvcvideo:
> > Adding mapping Tilt (relative) to control
> > 63610682-5070-49ab-b8cc-b3855e8d2256/1. uvcvideo: Adding mapping Pan/Tilt
> > (reset) to control 63610682-5070-49ab-b8cc-b3855e8d2256/2. uvcvideo:
> > Adding mapping Exposure, Auto to control
> > 00000000-0000-0000-0000-000000000001/2. uvcvideo: Adding mapping Exposure
> > (Absolute) to control 00000000-0000-0000-0000-000000000001/4. uvcvideo:
> > Adding mapping White Balance Temperature, Auto to control
> > 00000000-0000-0000-0000-000000000101/11. uvcvideo: Adding mapping White
> > Balance Temperature to control 00000000-0000-0000-0000-000000000101/10.
> > uvcvideo: Probing known UVC device 4 (05ac:8501)
> > uvcvideo: Found format Uncompressed.
> > uvcvideo: - 640x480 (30.0 fps)
> > uvcvideo: - 352x288 (30.0 fps)
> > uvcvideo: - 320x240 (30.0 fps)
> > uvcvideo: Found a Status endpoint (addr 81).
> > uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8501)
> > uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to device
> > 4 entity 2 uvcvideo: Added control 00000000-0000-0000-0000-000000000101/7
> > to device 4 entity 2 uvcvideo: Added control
> > 00000000-0000-0000-0000-000000000101/8 to device 4 entity 2 uvcvideo:
> > Added control 00000000-0000-0000-0000-000000000101/9 to device 4 entity 2
> > uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
> > uvcvideo: Found a valid video chain (1 -> 3).
> > uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp. 26).
> > uvcvideo: UVC device initialized.
> > usbcore: registered new interface driver uvcvideo
> > USB Video Class driver (v0.1.0)
>
> running uvccapture -m and uvccapture i get:
> uvcvideo: uvc_v4l2_open
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0cc5605)
> uvcvideo: Trying format 0x56595559 (YUYV): 320x240.
> uvcvideo: Unsupported format 0x56595559.
> uvcvideo: uvc_v4l2_release
> uvcvideo: uvc_v4l2_open
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0cc5605)
> uvcvideo: Trying format 0x47504a4d (MJPG): 320x240.
> uvcvideo: Unsupported format 0x47504a4d.
> uvcvideo: uvc_v4l2_release
>
> Does this make any sense to somebody?

Unfortunately, yes. The iSight doesn't stream video in the well-supported YUYV 
and MJPEG formats, but in the UYVY format. You will have to modify uvccapture 
(and possibly other applications) to support that format.

Best regards,

Laurent Pinchart


From mickael.drean at gmail.com  Sun Aug 19 00:05:10 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sun, 19 Aug 2007 00:05:10 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708180945o3faaf8d2tfe1a0c0d4fc63ac0@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708181256.42426.laurent.pinchart@skynet.be>
	<e4b61e4b0708180401s34e5e721uf3a555084f0c2cb4@mail.gmail.com>
	<200708181308.29513.laurent.pinchart@skynet.be>
	<e4b61e4b0708180410r746d52a4x5ee09d7ae9d3e0c3@mail.gmail.com>
	<e4b61e4b0708180945o3faaf8d2tfe1a0c0d4fc63ac0@mail.gmail.com>
Message-ID: <e4b61e4b0708181505o3cd44b40w35580d58713fd8f1@mail.gmail.com>

Hi,

Other traces when trying to use luvcview:
uvcvideo: uvc_v4l2_read: not implemented.
uvcvideo: uvc_v4l2_read: not implemented.
uvcvideo: uvc_v4l2_read: not implemented.
uvcvideo: uvc_v4l2_read: not implemented.
uvcvideo: uvc_v4l2_read: not implemented.
uvcvideo: uvc_v4l2_read: not implemented.
uvcvideo: uvc_v4l2_read: not implemented.
uvcvideo: uvc_v4l2_release
uvcvideo: uvc_v4l2_open
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
uvcvideo: Trying format 0x47504a4d (MJPG): 320x240.
uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
uvcvideo: Setting frame interval to 1/15 (666666).
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_REQBUFS, dir=rw (0xc0145608)
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
uvcvideo: uvc_v4l2_mmap
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
uvcvideo: uvc_v4l2_mmap
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
uvcvideo: uvc_v4l2_mmap
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
uvcvideo: uvc_v4l2_mmap
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
uvcvideo: Queuing buffer 0.
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
uvcvideo: Queuing buffer 1.
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
uvcvideo: Queuing buffer 2.
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
uvcvideo: Queuing buffer 3.
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_STREAMON, dir=-w (0x40045612)
uvcvideo: uvc_v4l2_ioctl
v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
uvcvideo: Dequeuing buffer 0.

Before the "uvcvideo: uvc_v4l2_release" line, it was when I was trying to
use the cam with kopete.

Another question, when I do a lsmod | grep uvcvideo  I have :

uvcvideo               53508  1
compat_ioctl32         17217  1 uvcvideo
videodev               36673  2 uvcvideo
v4l1_compat            20549  2 uvcvideo,videodev
v4l2_common            28353  3 uvcvideo,compat_ioctl32,videodev

Reading some web stuff, I showed that there was an 'usbcore' module but if I
try to load it it send an error because it is not found..

Does uvcvideo needs the usbcore module?


Mick


2007/8/18, Mickael Drean <mickael.drean at gmail.com>:
>
> Hi laurent it's me (again :-) )
>
>
> I've done a modprobe uvcvideo trace=255 (I found how to do)
>
> here is the trace in the dmesg :
>
> Linux video capture interface: v2.00
> uvcvideo: Adding mapping Brightness to control
> 00000000-0000-0000-0000-000000000101/2.
> uvcvideo: Adding mapping Contrast to control
> 00000000-0000-0000-0000-000000000101/3.
> uvcvideo: Adding mapping Hue to control
> 00000000-0000-0000-0000-000000000101/6.
> uvcvideo: Adding mapping Saturation to control
> 00000000-0000-0000-0000-000000000101/7.
> uvcvideo: Adding mapping Sharpness to control
> 00000000-0000-0000-0000-000000000101/8.
> uvcvideo: Adding mapping Gamma to control
> 00000000-0000-0000-0000-000000000101/9.
> uvcvideo: Adding mapping Backlight Compensation to control
> 00000000-0000-0000-0000-000000000101/1.
> uvcvideo: Adding mapping Gain to control
> 00000000-0000-0000-0000-000000000101/4.
> uvcvideo: Adding mapping Power Line Frequency to control
> 00000000-0000-0000-0000-000000000101/5.
> uvcvideo: Adding mapping Hue, Auto to control
> 00000000-0000-0000-0000-000000000101/16.
> uvcvideo: Adding mapping Pan (relative) to control
> 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> uvcvideo: Adding mapping Tilt (relative) to control
> 63610682-5070-49ab-b8cc-b3855e8d2256/1.
> uvcvideo: Adding mapping Pan/Tilt (reset) to control
> 63610682-5070-49ab-b8cc-b3855e8d2256/2.
> uvcvideo: Adding mapping Exposure, Auto to control
> 00000000-0000-0000-0000-000000000001/2.
> uvcvideo: Adding mapping Exposure (Absolute) to control
> 00000000-0000-0000-0000-000000000001/4.
> uvcvideo: Adding mapping White Balance Temperature, Auto to control
> 00000000-0000-0000-0000-000000000101/11.
> uvcvideo: Adding mapping White Balance Temperature to control
> 00000000-0000-0000-0000-000000000101/10.
> uvcvideo: Probing known UVC device 6 (5986:0100)
> uvcvideo: Found format MJPEG.
> uvcvideo: - 640x480 (30.0 fps)
> uvcvideo: - 320x240 (30.0 fps)
> uvcvideo: - 160x120 (30.0 fps)
> uvcvideo: - 352x288 (30.0 fps)
> uvcvideo: - 176x144 (30.0 fps)
> uvcvideo: Found format YUV 4:2:2 (YUYV).
> uvcvideo: - 640x480 (30.0 fps)
> uvcvideo: - 320x240 (30.0 fps)
> uvcvideo: - 160x120 (30.0 fps)
> uvcvideo: - 352x288 (30.0 fps)
> uvcvideo: - 176x144 ( 30.0 fps)
> uvcvideo: Found a Status endpoint (addr 82).
> uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to device 6
> entity 5
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/3 to device 6
> entity 5
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/6 to device 6
> entity 5
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/7 to device 6
> entity 5
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/8 to device 6
> entity 5
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/9 to device 6
> entity 5
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/1 to device 6
> entity 5
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/5 to device 6
> entity 5
> uvcvideo: Added control 00000000-0000-0000-0000-000000000001/2 to device 6
> entity 1
> uvcvideo: Added control 00000000-0000-0000-0000-000000000001/4 to device 6
> entity 1
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/11 to device
> 6 entity 5
> uvcvideo: Added control 00000000-0000-0000-0000-000000000101/10 to device
> 6 entity 5
> uvcvideo: Scanning UVC chain: OT 3 <- XU 6 <- PU 5 <- SU 4 <- IT 1
> uvcvideo: Found a valid video chain (1 -> 3).
> uvcvideo: UVC device initialized.
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (v0.1.0)
>
>
> Is it interesting for you?
>
> Maybe my modprobe.conf should have some special options for the webcam?
>
> Mick
>
> 2007/8/18, Mickael Drean <mickael.drean at gmail.com>:
> >
> > You are true for that error, I didn't get it anymore.....
> >
> >
> > But I still have a black screen and nothing in dmesg
> >
> >
> > Mick
> >
> > 2007/8/18, Laurent Pinchart < laurent.pinchart at skynet.be>:
> > >
> > > On Saturday 18 August 2007, Mickael Drean wrote:
> > > > 2007/8/18, Laurent Pinchart <laurent.pinchart at skynet.be>:
> > > > > Hi Micka?l,
> > > > >
> > > > > On Saturday 18 August 2007, Mickael Drean wrote:
> > > > > > I've tested to launch luvcvideo on GNOME instead of KDE and I
> > > get an
> > > > >
> > > > > error
> > > > >
> > > > > > message :
> > > > > > luvcview version 0.2.1
> > > > > > Video driver: x11
> > > > > > A window manager is available
> > > > > > video /dev/video0
> > > > > > Unable to set format: 16.
> > > > > >  Init v4L2 failed !! exit fatal
> > > > >
> > > > > What do you get in dmesg ?
> > > >
> > > > Nothing, but you talked about possibility to add trace with a '255'
> > > value.
> > > > I didn't do it because I don't know how to do it, could you please
> > > specify
> > > > me how to do maybe we will have more info with thoses traces.
> > >
> > > Error 16 is EBUSY. You can't stream from the webcam using two programs
> > > at
> > > once. Are you sure that there wasn't still an old instance of luvcview
> > > running ?
> > >
> > > Laurent Pinchart
> > >
> >
> >
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070819/8b5a673b/attachment.html>

From laurent.pinchart at skynet.be  Sun Aug 19 00:25:42 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 19 Aug 2007 00:25:42 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708181505o3cd44b40w35580d58713fd8f1@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<e4b61e4b0708180945o3faaf8d2tfe1a0c0d4fc63ac0@mail.gmail.com>
	<e4b61e4b0708181505o3cd44b40w35580d58713fd8f1@mail.gmail.com>
Message-ID: <200708190025.43062.laurent.pinchart@skynet.be>

Hi Micka?l,

On Sunday 19 August 2007, Mickael Drean wrote:
> Hi,
>
> Other traces when trying to use luvcview:
> uvcvideo: uvc_v4l2_read: not implemented.
> uvcvideo: uvc_v4l2_read: not implemented.
> uvcvideo: uvc_v4l2_read: not implemented.
> uvcvideo: uvc_v4l2_read: not implemented.
> uvcvideo: uvc_v4l2_read: not implemented.
> uvcvideo: uvc_v4l2_read: not implemented.
> uvcvideo: uvc_v4l2_read: not implemented.
> uvcvideo: uvc_v4l2_release
> uvcvideo: uvc_v4l2_open
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
> uvcvideo: Trying format 0x47504a4d (MJPG): 320x240.
> uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
> uvcvideo: Setting frame interval to 1/15 (666666).
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_REQBUFS, dir=rw (0xc0145608)
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
> uvcvideo: uvc_v4l2_mmap
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
> uvcvideo: uvc_v4l2_mmap
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
> uvcvideo: uvc_v4l2_mmap
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
> uvcvideo: uvc_v4l2_mmap
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
> uvcvideo: Queuing buffer 0.
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
> uvcvideo: Queuing buffer 1.
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
> uvcvideo: Queuing buffer 2.
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
> uvcvideo: Queuing buffer 3.
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_STREAMON, dir=-w (0x40045612)
> uvcvideo: uvc_v4l2_ioctl
> v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
> uvcvideo: Dequeuing buffer 0.
>
> Before the "uvcvideo: uvc_v4l2_release" line, it was when I was trying to
> use the cam with kopete.

This looks alright. Just to be sure, try to raise the brightness level in 
luvcview.

> Another question, when I do a lsmod | grep uvcvideo  I have :
>
> uvcvideo               53508  1
> compat_ioctl32         17217  1 uvcvideo
> videodev               36673  2 uvcvideo
> v4l1_compat            20549  2 uvcvideo,videodev
> v4l2_common            28353  3 uvcvideo,compat_ioctl32,videodev
>
> Reading some web stuff, I showed that there was an 'usbcore' module but if
> I try to load it it send an error because it is not found..
>
> Does uvcvideo needs the usbcore module?

The usbcore module is probably included in your kernel. Loading uvcvideo would 
fail if usbcore wasn't loaded and couldn't be loaded. There's nothing to 
worry about there.

Best regards,

Laurent Pinchart


From mickael.drean at gmail.com  Sun Aug 19 00:30:02 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sun, 19 Aug 2007 00:30:02 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708190025.43062.laurent.pinchart@skynet.be>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<e4b61e4b0708180945o3faaf8d2tfe1a0c0d4fc63ac0@mail.gmail.com>
	<e4b61e4b0708181505o3cd44b40w35580d58713fd8f1@mail.gmail.com>
	<200708190025.43062.laurent.pinchart@skynet.be>
Message-ID: <e4b61e4b0708181530h75523b8egf8b6dc03765c9528@mail.gmail.com>

Well,

I can do nothing with luvcview... it is a complete black screen :-(
How can I raise the brightness ?

With kopete when I try to configure the cam,  I have a green screen on the
GUI and a error message: "read error 19, Aucun p?riph?rique de ce type"
(sorry if it's in french)


So, if I well understand, my cam should work and you have no idea of why
this is not working :'( :'(

In that case, thank you for your help even if it is not working at that
day....


Mick



2007/8/19, Laurent Pinchart <laurent.pinchart at skynet.be>:
>
> Hi Micka?l,
>
> On Sunday 19 August 2007, Mickael Drean wrote:
> > Hi,
> >
> > Other traces when trying to use luvcview:
> > uvcvideo: uvc_v4l2_read: not implemented.
> > uvcvideo: uvc_v4l2_read: not implemented.
> > uvcvideo: uvc_v4l2_read: not implemented.
> > uvcvideo: uvc_v4l2_read: not implemented.
> > uvcvideo: uvc_v4l2_read: not implemented.
> > uvcvideo: uvc_v4l2_read: not implemented.
> > uvcvideo: uvc_v4l2_read: not implemented.
> > uvcvideo: uvc_v4l2_release
> > uvcvideo: uvc_v4l2_open
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
> > uvcvideo: Trying format 0x47504a4d (MJPG): 320x240.
> > uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
> > uvcvideo: Setting frame interval to 1/15 (666666).
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_REQBUFS, dir=rw (0xc0145608)
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
> > uvcvideo: uvc_v4l2_mmap
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
> > uvcvideo: uvc_v4l2_mmap
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
> > uvcvideo: uvc_v4l2_mmap
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0585609)
> > uvcvideo: uvc_v4l2_mmap
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
> > uvcvideo: Queuing buffer 0.
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
> > uvcvideo: Queuing buffer 1.
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
> > uvcvideo: Queuing buffer 2.
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
> > uvcvideo: Queuing buffer 3.
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_STREAMON, dir=-w (0x40045612)
> > uvcvideo: uvc_v4l2_ioctl
> > v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
> > uvcvideo: Dequeuing buffer 0.
> >
> > Before the "uvcvideo: uvc_v4l2_release" line, it was when I was trying
> to
> > use the cam with kopete.
>
> This looks alright. Just to be sure, try to raise the brightness level in
> luvcview.
>
> > Another question, when I do a lsmod | grep uvcvideo  I have :
> >
> > uvcvideo               53508  1
> > compat_ioctl32         17217  1 uvcvideo
> > videodev               36673  2 uvcvideo
> > v4l1_compat            20549  2 uvcvideo,videodev
> > v4l2_common            28353  3 uvcvideo,compat_ioctl32,videodev
> >
> > Reading some web stuff, I showed that there was an 'usbcore' module but
> if
> > I try to load it it send an error because it is not found..
> >
> > Does uvcvideo needs the usbcore module?
>
> The usbcore module is probably included in your kernel. Loading uvcvideo
> would
> fail if usbcore wasn't loaded and couldn't be loaded. There's nothing to
> worry about there.
>
> Best regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070819/c6c2a1a2/attachment.html>

From calad.sigilon at gmail.com  Sun Aug 19 07:00:48 2007
From: calad.sigilon at gmail.com (Calad Sigilon)
Date: Sun, 19 Aug 2007 01:00:48 -0400
Subject: [Linux-uvc-devel] Problems with 0c45:62c0
In-Reply-To: <9ca3b4870708182159k55012a6ob7e12f4f23aa57d4@mail.gmail.com>
References: <9ca3b4870708182159k55012a6ob7e12f4f23aa57d4@mail.gmail.com>
Message-ID: <9ca3b4870708182200n38b954f1hec0829a07b365158@mail.gmail.com>

Out of the blue, perhaps with a kernel update, the driver stopped working in
Kopete, mplayer, and xawtv.  Kopete and mplayer show a green screen.  Xawtv
just shows a black screen.  Luvcview has never worked for it, and still
doesn't. I'm at a total loss of what to suggest... a whole bunch of output
is below:


lsusb -v -d 0c45:62c0:
Bus 001 Device 002: ID 0c45:62c0 Microdia
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0c45 Microdia
  idProduct          0x62c0
  bcdDevice            1.00
  iManufacturer           2 Sonix Technology Co., Ltd.
  iProduct                1 USB 2.0 Camera
  iSerial                 3 SN0001
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          588
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
    MaxPower              500mA
    UNRECOGNIZED:  08 0b 00 02 0e 03 00 01
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              1 USB 2.0 Camera
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13e8  3x 1000 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1

luvcview:
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
 Init v4L2 failed !! exit fatal

xawtv:
This is xawtv-3.95, running on Linux/x86_64 ( 2.6.22-gentoo-r2)
WARNING: Your X-Server has no DGA support.
/dev/video0 [v4l2]: no overlay support
v4l-conf had some trouble, trying to continue anyway
Warning: Cannot convert string "-*-ledfixed-medium-r-*--39-*-*-*-c-*-*-*" to
type FontStruct
ioctl: VIDIOC_G_STD(std=0x2b34702f2d0d
[PAL_B,PAL_G,PAL_H,PAL_M,PAL_Nc,PAL_60,NTSC_M_JP,SECAM_B,SECAM_D,SECAM_G,SECAM_H,SECAM_K1,(null),(null),(null),(null),(null),(null),(null),(null),(null),(null)]):
Invalid argument
ioctl: VIDIOC_S_STD(std=0x0 []): Invalid argument
ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
[];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0;memory=unknown):
Invalid argument

mplayer:
MPlayer dev-SVN-rUNKNOWN-4.1.2 (C) 2000-2007 MPlayer Team
CPU: AMD Turion(tm) 64 X2  (Family: 15, Model: 72, Stepping: 2)
CPUflags:  MMX: 1 MMX2: 1 3DNow: 1 3DNow2: 1 SSE: 1 SSE2: 1
Compiled with runtime CPU detection.
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote
control.

Playing tv://.
TV file format detected.
Selected driver: dummy
 name: NULL-TV
 author: alex
 comment:
Selected input hasn't got a tuner!
==========================================================================
Opening video decoder: [raw] RAW Uncompressed Video
VDec: vo config request - 320 x 200 (preferred colorspace: Planar YV12)
VDec: using Planar YV12 as output csp (no 0)
Movie-Aspect is undefined - no prescaling applied.
VO: [xv] 320x200 => 320x200 Planar YV12
Selected video codec: [rawyv12] vfm: raw (RAW YV12)
==========================================================================
Audio: no sound
Starting playback...
V:   1.0 533/533 ??% ??% ??,?% 0 0

<<hangs, needs -9.>>
MPlayer interrupted by signal 2 in module: flip_page

/var/log/messages:
Aug 19 00:56:47 SYSTEM uvcvideo: Found UVC 1.00 device USB 2.0 Camera
(0c45:62c0)
Aug 19 00:56:47 SYSTEM usbcore: registered new interface driver uvcvideo
Aug 19 00:56:47 SYSTEM USB Video Class driver (v0.1.0)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070819/b2a9ebe0/attachment.html>

From laurent.pinchart at skynet.be  Sun Aug 19 11:36:34 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 19 Aug 2007 11:36:34 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708181530h75523b8egf8b6dc03765c9528@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708190025.43062.laurent.pinchart@skynet.be>
	<e4b61e4b0708181530h75523b8egf8b6dc03765c9528@mail.gmail.com>
Message-ID: <200708191136.34897.laurent.pinchart@skynet.be>

Hi Micka?l,

On Sunday 19 August 2007, Mickael Drean wrote:
> Well,
>
> I can do nothing with luvcview... it is a complete black screen :-(
> How can I raise the brightness ?

luvcview should have a button bar at the bottom of the window. If it doesn't, 
there's a more fundamental problem, maybe X or SDL related. Are you using the 
latest luvcview version ?

> With kopete when I try to configure the cam,  I have a green screen on the
> GUI and a error message: "read error 19, Aucun p?riph?rique de ce type"
> (sorry if it's in french)

Kopete requires a patch.

> So, if I well understand, my cam should work and you have no idea of why
> this is not working :'( :'(

Ekiga should work with the UVC driver. You could try it to see if your webcam 
works.

> In that case, thank you for your help even if it is not working at that
> day....

Let's not give up (yet) :-)

Best regards,

Laurent Pinchart


From mickael.drean at gmail.com  Sun Aug 19 12:23:38 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sun, 19 Aug 2007 12:23:38 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708191136.34897.laurent.pinchart@skynet.be>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708190025.43062.laurent.pinchart@skynet.be>
	<e4b61e4b0708181530h75523b8egf8b6dc03765c9528@mail.gmail.com>
	<200708191136.34897.laurent.pinchart@skynet.be>
Message-ID: <e4b61e4b0708190323p7e84a49ep554d7029d29bf02e@mail.gmail.com>

2007/8/19, Laurent Pinchart <laurent.pinchart at skynet.be>:
>
> Hi Micka?l,
>
> On Sunday 19 August 2007, Mickael Drean wrote:
> > Well,
> >
> > I can do nothing with luvcview... it is a complete black screen :-(
> > How can I raise the brightness ?
>
> luvcview should have a button bar at the bottom of the window. If it
> doesn't,
> there's a more fundamental problem, maybe X or SDL related.

What I see is that i have messages if I click at the bottom of the window,
so I think there is some other problems....


Are you using the
> latest luvcview version ?


I have downloded "luvcview-20070512"... I don't know if it's the last
version.


> With kopete when I try to configure the cam,  I have a green screen on the
> > GUI and a error message: "read error 19, Aucun p?riph?rique de ce type"
> > (sorry if it's in french)
>
> Kopete requires a patch.
>
> > So, if I well understand, my cam should work and you have no idea of why
> > this is not working :'( :'(
>
> Ekiga should work with the UVC driver. You could try it to see if your
> webcam
> works.



At starting, ekiga open a error window saying that there was an error
opening USB2.0 camera and specify "Your video pilot does not support the
video format requested."




Micka?l
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070819/ac2da1ad/attachment.html>

From linux23d at adam.com.au  Sun Aug 19 17:00:36 2007
From: linux23d at adam.com.au (david)
Date: Mon, 20 Aug 2007 00:30:36 +0930
Subject: [Linux-uvc-devel] Dell Inspiron 1520 Web cam works with Linux-uvc
Message-ID: <1187535636.8487.6.camel@david-desktop>

Carminez has provided the following web cam details (Dell Inspiron 1520
Notebook) to include in uvc_driver.c



/* OmniVision OEM Dell Notebook */
	{ .match_flags		= USB_DEVICE_ID_MATCH_DEVICE
				| USB_DEVICE_ID_MATCH_INT_INFO,
	  .idVendor		= 0x05a9,
	  .idProduct		= 0x2640,
	  .bInterfaceClass	= USB_CLASS_VIDEO,
	  .bInterfaceSubClass	= 1,
	  .bInterfaceProtocol	= 0,
	  .driver_info		= UVC_QUIRK_PROBE_MINMAX },

I'm not sure if he has already reported this or not.



From bxerroz at gmail.com  Mon Aug 20 08:51:24 2007
From: bxerroz at gmail.com (Tanner Ezell)
Date: Sun, 19 Aug 2007 23:51:24 -0700
Subject: [Linux-uvc-devel] MJPEG based webcams
Message-ID: <e04f28eb0708192351g6e324a35tf19e55bd0780d813@mail.gmail.com>

Hello all,

As it is summer break and I find myself a small bit of free time, I was
considering writing an implementation to decode the frames from the webcams
using assembly (as an attempt to gain performance, as current
implementations provide low fps and drag on my Pentium M considerably).

However, I am very new to field and have a few questions if you all wouldn't
mind helping me with.

Do these (i have a Logitech QuickCam for Notebooks Pro) webcams generate
data strictly in MJPEG format? or do they output MJPEG and/or YUV/YUYV?
If the formats are streamed differently how are they controlled? (ie: get
YUV/YUYV output, or get MJPEG output from camera)

I assume regardless of the camera's output format, they must be in rgb24 to
be displayed on the output, is that correct?

I would appreciate any information you have and any suggestions you may also
have.


Thank you for your time.
Tanner Ezell
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070819/53c188cc/attachment.html>

From bxerroz at gmail.com  Mon Aug 20 08:59:00 2007
From: bxerroz at gmail.com (Tanner Ezell)
Date: Sun, 19 Aug 2007 23:59:00 -0700
Subject: [Linux-uvc-devel] Logitech QuickCam UltraVision
Message-ID: <e04f28eb0708192359p5efb8ac4v8a79a1d3de48785e@mail.gmail.com>

I apologize if this has already been said on the list, but does anyone know
if the stability problems have been fixed in the new Logitech QuickCam Ultra
Vision webcams? (
http://www.logitech.com/index.cfm/webcam_communications/webcams/devices/241&cl=us,en)
and if there is any significant difference between the two models.

I appreciate all your help!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070819/27529708/attachment.html>

From brent.harrison-list at ihug.co.nz  Mon Aug 20 13:13:33 2007
From: brent.harrison-list at ihug.co.nz (Brent Harrison)
Date: Mon, 20 Aug 2007 23:13:33 +1200
Subject: [Linux-uvc-devel] Logitech QuickCam UltraVision
In-Reply-To: <e04f28eb0708192359p5efb8ac4v8a79a1d3de48785e@mail.gmail.com>
References: <e04f28eb0708192359p5efb8ac4v8a79a1d3de48785e@mail.gmail.com>
Message-ID: <46C9775D.3090403@ihug.co.nz>

Ive been using the Ultravision SE with the UVC module, and it has the
same USB timeout issues described in other posts. I'm not sure what the
difference is between the standard Ultravision and the "special edition"

I've just ordered the pro 9000, which happens to be a higher spec, and
cheaper. It wont be here until the end of the week.



Tanner Ezell wrote:
> I apologize if this has already been said on the list, but does anyone
> know if the stability problems have been fixed in the new Logitech
> QuickCam Ultra Vision webcams? (
> http://www.logitech.com/index.cfm/webcam_communications/webcams/devices/241&cl=us,en
> <http://www.logitech.com/index.cfm/webcam_communications/webcams/devices/241&cl=us,en>)
> and if there is any significant difference between the two models.
>
> I appreciate all your help!
> ------------------------------------------------------------------------
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>   


From fvera at ucv.cl  Mon Aug 20 15:03:14 2007
From: fvera at ucv.cl (Francisco Vera)
Date: Mon, 20 Aug 2007 09:03:14 -0400
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708180346h3ce50627t67fabe2ae7498687@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708181156.42801.laurent.pinchart@skynet.be>
	<e4b61e4b0708180346h3ce50627t67fabe2ae7498687@mail.gmail.com>
Message-ID: <200708200903.14839.fvera@ucv.cl>

On Saturday 18 August 2007 06:46, Mickael Drean wrote:
> I've tested to launch luvcvideo on GNOME instead of KDE and I get an error
> message :
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 16.
>  Init v4L2 failed !! exit fatal

I have similar problems but with the message: Unable to set format: 5

I know these are different problems but luvcview and the uvc driver were 
working ok and after an upgrade the problems begun. My camera is a logitech 
fusion.

The problem appears to be an initialization problem in luvcview because 
luvcview work as expected when v4l-info is run first.

Now luvcview is packaged for debian, so in debian unstable all that is needed 
to get an UVC camera running is:

apt-get install luvcview
apt-get install module-assistant
apt-get install v4l-conf
m-a a-i linux-uvc

m-a is a nickname for module-assistant
v4l-conf is needed for v4l-info

then run v4l-info and luvcview

Regards,


Francisco


From felix at derklecks.de  Mon Aug 20 20:10:03 2007
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Mon, 20 Aug 2007 20:10:03 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <200708182350.11322.laurent.pinchart@skynet.be>
References: <46B470B2.6020503@derklecks.de> <46C2FD1E.4010805@derklecks.de>
	<46C301E2.8090702@derklecks.de>
	<200708182350.11322.laurent.pinchart@skynet.be>
Message-ID: <46C9D8FB.4090107@derklecks.de>

Hi,

> Unfortunately, yes. The iSight doesn't stream video in the well-supported YUYV 
> and MJPEG formats, but in the UYVY format. You will have to modify uvccapture 
> (and possibly other applications) to support that format.

I do not know a single word of C so modifying is not really an option.

Which program should I use to test the cam. I have been trying xawtv,
uvccapture, ekiga, mplayer, lucview ...

But all of them fail an give a lot of error messages. :-(

greetings
Felix M?ller



From felix at derklecks.de  Mon Aug 20 20:38:12 2007
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Mon, 20 Aug 2007 20:38:12 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <1187433987.7149.1.camel@gloria.local>
References: <1187433987.7149.1.camel@gloria.local>
Message-ID: <46C9DF94.9070502@derklecks.de>

Hi,

[ I got this reply on list ]
> I had the the same problems getting the iSight to work. I have a 
> MacBookPro C2Duo.
I just have a small MacBook of early 2006.

> Using the driver included in gentoo everything works. You can 
> download it at 
> http://gentooexperimental.org/~genstef/dist/linux-uvc-0.1.0_pre100.tar.gz
>  The isight patch is already applied in the archive.
This seems to be a copy of http://i-nz.net/projects/linux-kernel/ . ;)

> I can use the iSight in ekiga and mplayer (from svn) now. Btw, I am 
> running a 2.6.22 kernel.
Which revision do I need? An what switches do I need? I have tried
mplayer tv:// -tv
driver=v4l2:width=320:height=240:device=/dev/video0 -fps 30
but probably my mplayer version is too old...

> I hope this helps. I was not allowed to write to linux-uvc-devel, so 
> I write this directly to you.

Thanks alot
Felix M?ller


From NathanaelGalpin at smarttech.com  Mon Aug 20 22:19:32 2007
From: NathanaelGalpin at smarttech.com (Nathanael Galpin)
Date: Mon, 20 Aug 2007 14:19:32 -0600
Subject: [Linux-uvc-devel] Accessing Extension Units
In-Reply-To: <200708182347.45326.laurent.pinchart@skynet.be>
References: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FBA@calmail1.smarttech.inc>
	<200708182347.45326.laurent.pinchart@skynet.be>
Message-ID: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FC2@calmail1.smarttech.inc>



Hi Laurent, 

Thanks for getting back to me. I took a look at what you said, and
here's what I've found.

> What are the symptoms ? Do you get an error when you try to access the

> control ? If so, what error (errno) do you get?

When I try to access the control, I get errno 22 (EINVAL) returned. I've
also noticed that when I enumerate the controls on the camera, my new
control displays the same information as a control that is not supported
by this camera. This is why I was wondering if I needed to associate the
control with the camera somehow.

Output from my test app:

ID: 0x800000a Exposure, Auto	Min: 0	Max: 100	Step: 3
ID: 0x800000b Exposure (Absolute)	Min: 100	Max: 10000
Step: 50
ID: 0x800000c 	Min: 100	Max: 10000	Step: 50
ID: 0x800000d 	Min: 100	Max: 10000	Step: 50
ID: 0x800000e 	Min: 100	Max: 10000	Step: 50

The first two controls are supported on this camera. Controls c & d are
unsupported, control e is my new control.

> If you can enumerate the control on your device instance, there should
be 
> no "association" problem. Try to raise the trace level to 255
(modprobe
> uvcvideo trace=255 or echo 255 >
/sys/modules/uvcvideo/parameters/trace)
> and check the kernel log (dmesg) for error messages after you try to
> access the control from your userspace application.

So I raised the trace level, and I've been able to pinpoint where the
error is occurring. The function uvc_find_ctrl (uvc_ctrl.c) is unable to
find the control. The trace message logged in dmesg is "uvcvideo:
Control 0x800000e not found.

After some more debugging I also found that uvc_find_ctrl searchs the
video->iterms list, but not the video->extensions list, presumably
because there are no items in this list? Could this be my problem?

Thanks,

Nathanael


From laurent.pinchart at skynet.be  Tue Aug 21 21:10:59 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 21 Aug 2007 21:10:59 +0200
Subject: [Linux-uvc-devel] Problems with 0c45:62c0
In-Reply-To: <9ca3b4870708182200n38b954f1hec0829a07b365158@mail.gmail.com>
References: <9ca3b4870708182159k55012a6ob7e12f4f23aa57d4@mail.gmail.com>
	<9ca3b4870708182200n38b954f1hec0829a07b365158@mail.gmail.com>
Message-ID: <200708212110.59588.laurent.pinchart@skynet.be>

Hi Calad,

On Sunday 19 August 2007, Calad Sigilon wrote:
> Out of the blue, perhaps with a kernel update, the driver stopped working
> in Kopete, mplayer, and xawtv.

*perhaps* with a kernel update ? That's the kind of crucial information needed 
to find out what happen :-) Please check if your kernel has been updated, and 
if so, please report the original version and the current version.

> Kopete and mplayer show a green screen.  
> Xawtv just shows a black screen.  Luvcview has never worked for it, and
> still doesn't. I'm at a total loss of what to suggest... a whole bunch of
> output is below:
>
> lsusb -v -d 0c45:62c0:
> Bus 001 Device 002: ID 0c45:62c0 Microdia
[snip]

>
> luvcview:
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal

Your webcam doesn't support MJPEG, which luvcview defaults to. Try luvcview -f 
yuv.

> xawtv:
> This is xawtv-3.95, running on Linux/x86_64 ( 2.6.22-gentoo-r2)
> WARNING: Your X-Server has no DGA support.
> /dev/video0 [v4l2]: no overlay support
> v4l-conf had some trouble, trying to continue anyway
> Warning: Cannot convert string "-*-ledfixed-medium-r-*--39-*-*-*-c-*-*-*"
> to type FontStruct
> ioctl: VIDIOC_G_STD(std=0x2b34702f2d0d
> [PAL_B,PAL_G,PAL_H,PAL_M,PAL_Nc,PAL_60,NTSC_M_JP,SECAM_B,SECAM_D,SECAM_G,SE
>CAM_H,SECAM_K1,(null),(null),(null),(null),(null),(null),(null),(null),(null
>),(null)]): Invalid argument
> ioctl: VIDIOC_S_STD(std=0x0 []): Invalid argument
> ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
> [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.s
>econds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0
>;memory=unknown): Invalid argument

Has xawtv ever worked ? It requires a patch.

> mplayer:
> MPlayer dev-SVN-rUNKNOWN-4.1.2 (C) 2000-2007 MPlayer Team
> CPU: AMD Turion(tm) 64 X2  (Family: 15, Model: 72, Stepping: 2)
> CPUflags:  MMX: 1 MMX2: 1 3DNow: 1 3DNow2: 1 SSE: 1 SSE2: 1
> Compiled with runtime CPU detection.
> mplayer: could not connect to socket
> mplayer: No such file or directory
> Failed to open LIRC support. You will not be able to use your remote
> control.
>
> Playing tv://.
> TV file format detected.
> Selected driver: dummy
>  name: NULL-TV
>  author: alex
>  comment:
> Selected input hasn't got a tuner!
> ==========================================================================
> Opening video decoder: [raw] RAW Uncompressed Video
> VDec: vo config request - 320 x 200 (preferred colorspace: Planar YV12)
> VDec: using Planar YV12 as output csp (no 0)
> Movie-Aspect is undefined - no prescaling applied.
> VO: [xv] 320x200 => 320x200 Planar YV12
> Selected video codec: [rawyv12] vfm: raw (RAW YV12)
> ==========================================================================
> Audio: no sound
> Starting playback...
> V:   1.0 533/533 ??% ??% ??,?% 0 0
>
> <<hangs, needs -9.>>
> MPlayer interrupted by signal 2 in module: flip_page
>
> /var/log/messages:
> Aug 19 00:56:47 SYSTEM uvcvideo: Found UVC 1.00 device USB 2.0 Camera
> (0c45:62c0)
> Aug 19 00:56:47 SYSTEM usbcore: registered new interface driver uvcvideo
> Aug 19 00:56:47 SYSTEM USB Video Class driver (v0.1.0)

Do you get more messages in the kernel log after running all of the above 
programs ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 21 21:17:40 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 21 Aug 2007 21:17:40 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <200708200903.14839.fvera@ucv.cl>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<e4b61e4b0708180346h3ce50627t67fabe2ae7498687@mail.gmail.com>
	<200708200903.14839.fvera@ucv.cl>
Message-ID: <200708212117.40250.laurent.pinchart@skynet.be>

Hi Francisco,

On Monday 20 August 2007, Francisco Vera wrote:
> On Saturday 18 August 2007 06:46, Mickael Drean wrote:
> > I've tested to launch luvcvideo on GNOME instead of KDE and I get an
> > error message :
> > luvcview version 0.2.1
> > Video driver: x11
> > A window manager is available
> > video /dev/video0
> > Unable to set format: 16.
> >  Init v4L2 failed !! exit fatal
>
> I have similar problems but with the message: Unable to set format: 5

That's indeed a different issue.

> I know these are different problems but luvcview and the uvc driver were
> working ok and after an upgrade the problems begun. My camera is a logitech
> fusion.
>
> The problem appears to be an initialization problem in luvcview because
> luvcview work as expected when v4l-info is run first.
>
> Now luvcview is packaged for debian, so in debian unstable all that is
> needed to get an UVC camera running is:
>
> apt-get install luvcview
> apt-get install module-assistant
> apt-get install v4l-conf
> m-a a-i linux-uvc
>
> m-a is a nickname for module-assistant
> v4l-conf is needed for v4l-info
>
> then run v4l-info and luvcview

I might be wrong, but I *think* this isn't luvcview's fault. Could you check 
the kernel log after running luvcview (and getting the 'Unable to set format: 
5' message, thus without running v4l-conf first) ? If you get a 'Failed to 
query (1) UVC control 1 (unit 0)' message, you ran into a known 
hardware/firmware Logitech bug. There's no way to fix it: the problem is due 
to subtle timing issues, so running another software first, plugging the 
webcam into another port or throttling your CPU might make thinks better or 
worse. That's completely random.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 21 21:20:09 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 21 Aug 2007 21:20:09 +0200
Subject: [Linux-uvc-devel] Dell Inspiron 1520 Web cam works with
	Linux-uvc
In-Reply-To: <1187535636.8487.6.camel@david-desktop>
References: <1187535636.8487.6.camel@david-desktop>
Message-ID: <200708212120.09440.laurent.pinchart@skynet.be>

Hi,

On Sunday 19 August 2007, david wrote:
> Carminez has provided the following web cam details (Dell Inspiron 1520
> Notebook) to include in uvc_driver.c
>
> /* OmniVision OEM Dell Notebook */
> 	{ .match_flags		= USB_DEVICE_ID_MATCH_DEVICE
>
> 				| USB_DEVICE_ID_MATCH_INT_INFO,
>
> 	  .idVendor		= 0x05a9,
> 	  .idProduct		= 0x2640,
> 	  .bInterfaceClass	= USB_CLASS_VIDEO,
> 	  .bInterfaceSubClass	= 1,
> 	  .bInterfaceProtocol	= 0,
> 	  .driver_info		= UVC_QUIRK_PROBE_MINMAX },
>
> I'm not sure if he has already reported this or not.

Please check if the webcam works without this patch. I got a report a week ago 
saying that the unpatched SVN version of the Linux UVC driver works with that 
camera.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 21 21:29:42 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 21 Aug 2007 21:29:42 +0200
Subject: [Linux-uvc-devel] MJPEG based webcams
In-Reply-To: <e04f28eb0708192351g6e324a35tf19e55bd0780d813@mail.gmail.com>
References: <e04f28eb0708192351g6e324a35tf19e55bd0780d813@mail.gmail.com>
Message-ID: <200708212129.42959.laurent.pinchart@skynet.be>

Hi Tanner,

On Monday 20 August 2007, Tanner Ezell wrote:
> Hello all,
>
> As it is summer break and I find myself a small bit of free time, I was
> considering writing an implementation to decode the frames from the webcams
> using assembly (as an attempt to gain performance, as current
> implementations provide low fps and drag on my Pentium M considerably).

That's interesting. Are you aware of the libjpeg-mmx project ? Other codec 
libraries (namy ffmpeg) might also have optimised MJPEG decoding

> However, I am very new to field and have a few questions if you all
> wouldn't mind helping me with.
>
> Do these (i have a Logitech QuickCam for Notebooks Pro) webcams generate
> data strictly in MJPEG format? or do they output MJPEG and/or YUV/YUYV?

All UVC compliant webcams I ran into (until now) produce YUYV data and 
possible MJPEG. The output format is selectable for webcams that can produce 
both.

> If the formats are streamed differently how are they controlled? (ie: get
> YUV/YUYV output, or get MJPEG output from camera)

The V4L2 VIDIOC_S_FMT ioctl is used to select the video format (frame size and 
format).

> I assume regardless of the camera's output format, they must be in rgb24 to
> be displayed on the output, is that correct?

It depends how you display the video. Most graphic toolkits use RGB internally 
to draw on screen, but the Xv extension allows hardware-accelerated display 
in some YUV variants (depending on your graphic card). OpenGL also supports 
different formats.

> I would appreciate any information you have and any suggestions you may
> also have.

As there are many ways to display video, and as all applications don't require 
video display (think about image processing), I suggest to choose a target 
audience before starting the implementation. Needs will vary between image 
processing developers and video display developers.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 21 21:32:03 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 21 Aug 2007 21:32:03 +0200
Subject: [Linux-uvc-devel] Logitech QuickCam UltraVision
In-Reply-To: <e04f28eb0708192359p5efb8ac4v8a79a1d3de48785e@mail.gmail.com>
References: <e04f28eb0708192359p5efb8ac4v8a79a1d3de48785e@mail.gmail.com>
Message-ID: <200708212132.03159.laurent.pinchart@skynet.be>

Hi Tanner,

On Monday 20 August 2007, Tanner Ezell wrote:
> I apologize if this has already been said on the list, but does anyone know
> if the stability problems have been fixed in the new Logitech QuickCam
> Ultra Vision webcams? (
> http://www.logitech.com/index.cfm/webcam_communications/webcams/devices/241
>&cl=us,en) and if there is any significant difference between the two
> models.

Those webcams still suffer from the same problem. The Quickcam Pro 9000 and 
Quickcam Pro for Notebook 2MP 
(http://www.logitech.com/index.cfm/webcam_communications/webcams/devices/3055&cl=us,en) 
are supposed to be fixed, but I still haven't been able to test yet.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 21 21:34:16 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 21 Aug 2007 21:34:16 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <46C9D8FB.4090107@derklecks.de>
References: <46B470B2.6020503@derklecks.de>
	<200708182350.11322.laurent.pinchart@skynet.be>
	<46C9D8FB.4090107@derklecks.de>
Message-ID: <200708212134.16690.laurent.pinchart@skynet.be>

Hi Felix,

On Monday 20 August 2007, Felix M?ller wrote:
> Hi,
>
> > Unfortunately, yes. The iSight doesn't stream video in the well-supported
> > YUYV and MJPEG formats, but in the UYVY format. You will have to modify
> > uvccapture (and possibly other applications) to support that format.
>
> I do not know a single word of C so modifying is not really an option.

In the current state, I'm afraid at least basic kernel coding skills are 
required to fix the patch, sorry :-/
>
> Which program should I use to test the cam. I have been trying xawtv,
> uvccapture, ekiga, mplayer, lucview ...

I mostly use luvcview, as it was designed with UVC in mind (although it works 
with other webcams as well). I'm sure uvccapture is equally good.

> But all of them fail an give a lot of error messages. :-(

That's because the patch isn't done/stable yet. It still needs development.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 21 23:32:19 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 21 Aug 2007 23:32:19 +0200
Subject: [Linux-uvc-devel] Accessing Extension Units
In-Reply-To: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FC2@calmail1.smarttech.inc>
References: <AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FBA@calmail1.smarttech.inc>
	<200708182347.45326.laurent.pinchart@skynet.be>
	<AACE2A3DD3559A4CBA163CB5D70C9ABE0ACF6FC2@calmail1.smarttech.inc>
Message-ID: <200708212332.19792.laurent.pinchart@skynet.be>

Hi Nathanael,

On Monday 20 August 2007, Nathanael Galpin wrote:
> Hi Laurent,
>
> Thanks for getting back to me. I took a look at what you said, and
> here's what I've found.
>
> > What are the symptoms ? Do you get an error when you try to access the
> >
> > control ? If so, what error (errno) do you get?
>
> When I try to access the control, I get errno 22 (EINVAL) returned. I've
> also noticed that when I enumerate the controls on the camera, my new
> control displays the same information as a control that is not supported
> by this camera. This is why I was wondering if I needed to associate the
> control with the camera somehow.
>
> Output from my test app:
>
> ID: 0x800000a Exposure, Auto	Min: 0	Max: 100	Step: 3
> ID: 0x800000b Exposure (Absolute)	Min: 100	Max: 10000
> Step: 50
> ID: 0x800000c 	Min: 100	Max: 10000	Step: 50
> ID: 0x800000d 	Min: 100	Max: 10000	Step: 50
> ID: 0x800000e 	Min: 100	Max: 10000	Step: 50
>
> The first two controls are supported on this camera. Controls c & d are
> unsupported, control e is my new control.

Check the v4l2_queryctrl flag member. The driver will set it to 
V4L2_CTRL_FLAG_DISABLED for unsupported controls. I bet it does for controls 
c, d and e.

> > If you can enumerate the control on your device instance, there should
> > be no "association" problem. Try to raise the trace level to 255
> > (modprobe uvcvideo trace=255 or echo 255 >
> > /sys/modules/uvcvideo/parameters/trace) 
> > and check the kernel log (dmesg) for error messages after you try to
> > access the control from your userspace application.
>
> So I raised the trace level, and I've been able to pinpoint where the
> error is occurring. The function uvc_find_ctrl (uvc_ctrl.c) is unable to
> find the control. The trace message logged in dmesg is "uvcvideo:
> Control 0x800000e not found.
>
> After some more debugging I also found that uvc_find_ctrl searchs the
> video->iterms list, but not the video->extensions list, presumably
> because there are no items in this list? Could this be my problem?

uvc_find_ctrl searches the video->extensions list. The list being empty might 
indicate a problem during descriptor parsing. Could you send me the output of 
lsusb -v for your device ? Make sure to use usbutils 0.72 or newer, otherwise 
lsusb won't print anything useful.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 21 23:36:30 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 21 Aug 2007 23:36:30 +0200
Subject: [Linux-uvc-devel] Acer Webcam/ linux fedora 7
In-Reply-To: <e4b61e4b0708190323p7e84a49ep554d7029d29bf02e@mail.gmail.com>
References: <e4b61e4b0708081408r488648d1x6590de1a163f8e23@mail.gmail.com>
	<200708191136.34897.laurent.pinchart@skynet.be>
	<e4b61e4b0708190323p7e84a49ep554d7029d29bf02e@mail.gmail.com>
Message-ID: <200708212336.30440.laurent.pinchart@skynet.be>

On Sunday 19 August 2007, Mickael Drean wrote:
> 2007/8/19, Laurent Pinchart <laurent.pinchart at skynet.be>:
> > Hi Micka?l,
> >
> > On Sunday 19 August 2007, Mickael Drean wrote:
> > > Well,
> > >
> > > I can do nothing with luvcview... it is a complete black screen :-(
> > > How can I raise the brightness ?
> >
> > luvcview should have a button bar at the bottom of the window. If it
> > doesn't,
> > there's a more fundamental problem, maybe X or SDL related.
>
> What I see is that i have messages if I click at the bottom of the window,
> so I think there is some other problems....

There probably is. luvcview uses the SDL library to handle screen output (both 
video and buttons). If the window is plain black with no buttons on the 
bottom, there is a non-UVC related problem. I can't help you much there. You 
should contact luvcview's author, Michel Xhaard.

> > Are you using the latest luvcview version ?
>
> I have downloded "luvcview-20070512"... I don't know if it's the last
> version.
>
> > > With kopete when I try to configure the cam,  I have a green screen on
> > > the GUI and a error message: "read error 19, Aucun p?riph?rique de ce
> > > type" (sorry if it's in french)
> >
> > Kopete requires a patch.
> >
> > > So, if I well understand, my cam should work and you have no idea of
> > > why this is not working :'( :'(
> >
> > Ekiga should work with the UVC driver. You could try it to see if your
> > webcam
> > works.
>
> At starting, ekiga open a error window saying that there was an error
> opening USB2.0 camera and specify "Your video pilot does not support the
> video format requested."

Make sure you use a recent Ekiga version. From the top of my head, 2.0.3 or 
newer is required. If it still doesn't help after a few tries, check the 
kernel log.

Best regards,

Laurent Pinchart


From calad.sigilon at gmail.com  Thu Aug 23 00:12:55 2007
From: calad.sigilon at gmail.com (Calad Sigilon)
Date: Wed, 22 Aug 2007 18:12:55 -0400
Subject: [Linux-uvc-devel] Problems with 0c45:62c0
In-Reply-To: <9ca3b4870708211704j69283879kbb93dbcd04c296c7@mail.gmail.com>
References: <9ca3b4870708182159k55012a6ob7e12f4f23aa57d4@mail.gmail.com>
	<9ca3b4870708182200n38b954f1hec0829a07b365158@mail.gmail.com>
	<200708212110.59588.laurent.pinchart@skynet.be>
	<9ca3b4870708211704j69283879kbb93dbcd04c296c7@mail.gmail.com>
Message-ID: <9ca3b4870708221512r274c15ddvfbc6626e64b4ef50@mail.gmail.com>

---------- Forwarded message ----------
From: Calad Sigilon <calad.sigilon at gmail.com>
Date: Aug 21, 2007 8:04 PM
Subject: Re: [Linux-uvc-devel] Problems with 0c45:62c0
To: Laurent Pinchart <laurent.pinchart at skynet.be>




>
> Your webcam doesn't support MJPEG, which luvcview defaults to. Try
> luvcview -f
> yuv.
>

That worked... now why is it still showing green in Kopete?

Regards.


-- 
Calad Sigilon
Editor
Crown Prince of Passion
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070822/501830c6/attachment.html>

From felix at derklecks.de  Thu Aug 23 22:54:39 2007
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Thu, 23 Aug 2007 22:54:39 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <3db1ec7f0708231236m7909c605w249b6781f071e5f@mail.gmail.com>
References: <3db1ec7f0708231236m7909c605w249b6781f071e5f@mail.gmail.com>
Message-ID: <46CDF40F.6060002@derklecks.de>

Hi Ivan,

> Lauren wrote:
>> I don't own any MacBook so I can't test driver hacks. A few users
>> helped me in creating a patch for the Linux UVC driver to support
>> iSight webcams. I wasn't very happy with the last version, so I
>> asked for feedback on a revised patch. I got no reply so far.
> 
> Where is this patch? Generally it's me and Ronald maintaining 
> different versions of the patch. Mine has the isight functionallity 
> self contained and has firmware loading in kernel space.
> 
> I have attached an updated isight patch against revision 121 (svn 
> head) of the trunk. There is a regression introduced for me between 
> revision 100 and 121 in finding a valid video chain. Kernel version 
> here is 2.6.18.8. Output of modprobe uvcvideo trace=15 of the two 
> revisions below.
I have your patch running at the moment with kernel 2.6.22.3 and
uvcvideo r117. The patch is included in the uvcvideo.src.rpm of openSUSE
10.3 factory I just extracted it and attached it to this eMail. This
version is working.

# md5sum /lib/firmware/AppleUSBVideoSupport
8b78709d02d3584f40cc041db9eecfe8  /lib/firmware/AppleUSBVideoSupport

I can use the cam with:
mplayer tv:// -tv driver=v4l2:width=352:height=288:device=/dev/video0
-fps 30

This is with mplayer r24115.


greetings
Felix M?ller
-------------- next part --------------
A non-text attachment was scrubbed...
Name: isight.patch
Type: text/x-patch
Size: 17089 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070823/b39c96f0/attachment.bin>

From felix at derklecks.de  Fri Aug 24 19:08:07 2007
From: felix at derklecks.de (=?ISO-8859-15?Q?Felix_M=F6ller?=)
Date: Fri, 24 Aug 2007 19:08:07 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <3db1ec7f0708231236m7909c605w249b6781f071e5f@mail.gmail.com>
References: <3db1ec7f0708231236m7909c605w249b6781f071e5f@mail.gmail.com>
Message-ID: <46CF1077.4090603@derklecks.de>

Hi,

>> I don't own any MacBook so I can't test driver hacks. A few users helped me in
>> creating a patch for the Linux UVC driver to support iSight webcams. I wasn't
>> very happy with the last version, so I asked for feedback on a revised patch.
>> I got no reply so far.
> 
> Where is this patch? Generally it's me and Ronald maintaining
> different versions of the patch. Mine has the isight functionallity
> self contained and has firmware loading in kernel space.
> 
> I have attached an updated isight patch against revision 121 (svn
> head) of the trunk. There is a regression introduced for me between
> revision 100 and 121 in finding a valid video chain. Kernel version
> here is 2.6.18.8. Output of modprobe uvcvideo trace=15 of the two
> revisions below.

I did a little bit of bisecting today and not it is working with
uvcvideo r121 and kernel 2.6.22.3. I am using the openSUSE patch and in
addition I had to comment out the following from uvc_driver.c. Which was
added with revision 119:

if (intf->cur_altsetting->desc.bInterfaceSubClass
	!= SC_VIDEOSTREAMING) {
	uvc_trace(UVC_TRACE_DESCR, "device %d "
		"interface %d isn't a video "
		"streaming interface\n",
		udev->devnum, i);
	continue;
}

This stopped the crash from appearing.

greetings Felix


From peli_fr at gmx.de  Fri Aug 24 21:04:58 2007
From: peli_fr at gmx.de (peli_fr at gmx.de)
Date: Fri, 24 Aug 2007 21:04:58 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam for Notebooks (046d:08dd)
Message-ID: <20070824190458.237490@gmx.net>

Hello,

I recently bought a Logitech Quickcam for Notebooks for my girlfriend. On the wrapping there is the remark (c) Logitech 2007, hence I thought it would be the 2007 model which is stated on the web page.
Unfortunately the usb-id is 046d:08dd and NOT 046d:0991. Obviously there are two different versions of this webcam. Please find the lsusb output attached to this mail.

Is there a chance that a slight modification will get the cam running? 

I am in a dilemma right now. My girlfriend departs in September for a stay abroad, and the webcam would be the only possibility for us to see one another. However, I could just buy a new camera, unfortunately the vendors and manufacturers keep silent about the usb-id or about which chips they use.

Here is a link to a post from someone else with the same problem.
https://answers.launchpad.net/ubuntu/+question/12072

Best regards,
Peter
-- 
Psssst! Schon vom neuen GMX MultiMessenger geh?rt?
Der kanns mit allen: http://www.gmx.net/de/go/multimessenger
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb_output
Type: application/octet-stream
Size: 15615 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070824/22489979/attachment.obj>

From laurent.pinchart at skynet.be  Sat Aug 25 00:19:58 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 25 Aug 2007 00:19:58 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam for Notebooks (046d:08dd)
In-Reply-To: <20070824190458.237490@gmx.net>
References: <20070824190458.237490@gmx.net>
Message-ID: <200708250019.58779.laurent.pinchart@skynet.be>

Hi Peter,

On Friday 24 August 2007, peli_fr at gmx.de wrote:
> Hello,
>
> I recently bought a Logitech Quickcam for Notebooks for my girlfriend. On
> the wrapping there is the remark (c) Logitech 2007, hence I thought it
> would be the 2007 model which is stated on the web page. Unfortunately the
> usb-id is 046d:08dd and NOT 046d:0991. Obviously there are two different
> versions of this webcam. Please find the lsusb output attached to this
> mail.

Aarrghhh... There was a mistake on the website (fixed now). The Quickcam for 
Notebook is not a UVC device, and thus not supported by the driver. Please 
don't hate me.

> Is there a chance that a slight modification will get the cam running?

Unfortunately, not with the UVC driver.

> I am in a dilemma right now. My girlfriend departs in September for a stay
> abroad, and the webcam would be the only possibility for us to see one
> another. However, I could just buy a new camera, unfortunately the vendors
> and manufacturers keep silent about the usb-id or about which chips they
> use.

The best Logitech buy today is the Quickcam Pro for Notebook, 2007 edition. It 
looks like this

http://www.logitech.com/index.cfm/webcam_communications/webcams/devices/3055&cl=us,en

That one should even have the hardware/firmware bug fixed (but I haven't got 
one yet, so I haven't been to test it).

> Here is a link to a post from someone else with the same problem.
> https://answers.launchpad.net/ubuntu/+question/12072

Sorry again for the mistake.

Best regards,

Laurent Pinchart


From calad.sigilon at gmail.com  Sat Aug 25 07:09:09 2007
From: calad.sigilon at gmail.com (Calad Sigilon)
Date: Sat, 25 Aug 2007 01:09:09 -0400
Subject: [Linux-uvc-devel] Problems with 0c45:62c0
In-Reply-To: <200708250008.23371.laurent.pinchart@skynet.be>
References: <9ca3b4870708182159k55012a6ob7e12f4f23aa57d4@mail.gmail.com>
	<200708212110.59588.laurent.pinchart@skynet.be>
	<9ca3b4870708211704j69283879kbb93dbcd04c296c7@mail.gmail.com>
	<200708250008.23371.laurent.pinchart@skynet.be>
Message-ID: <9ca3b4870708242209y6da225eam5a72fec382973c4@mail.gmail.com>

Patch with what?

I downloaded and compiled the latest SVN build, and that didn't work.

On 8/24/07, Laurent Pinchart <laurent.pinchart at skynet.be> wrote:
>
> On Wednesday 22 August 2007, Calad Sigilon wrote:
> > > Your webcam doesn't support MJPEG, which luvcview defaults to. Try
> > > luvcview -f
> > > yuv.
> >
> > That worked... now why is it still showing green in Kopete?
> >
> > Regards.
>
> Have you patched Kopete ? I know it doesn't work out of the box. Even with
> the
> patch applied, I don't know if it supports YUV, MJPEG or both.
>
> Laurent Pinchart
>



-- 
Calad Sigilon
Editor
Crown Prince of Passion
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070825/fd8c72ee/attachment.html>

From felix at derklecks.de  Sat Aug 25 12:36:15 2007
From: felix at derklecks.de (=?ISO-8859-1?Q?Felix_M=F6ller?=)
Date: Sat, 25 Aug 2007 12:36:15 +0200
Subject: [Linux-uvc-devel] I cannot get my Apple iSight to work
In-Reply-To: <46CF1077.4090603@derklecks.de>
References: <3db1ec7f0708231236m7909c605w249b6781f071e5f@mail.gmail.com>
	<46CF1077.4090603@derklecks.de>
Message-ID: <46D0061F.6010104@derklecks.de>

Hi,

> I did a little bit of bisecting today and not it is working with
> uvcvideo r121 and kernel 2.6.22.3. I am using the openSUSE patch and in
> addition I had to comment out the following from uvc_driver.c. Which was
> added with revision 119:
> 
> if (intf->cur_altsetting->desc.bInterfaceSubClass
> 	!= SC_VIDEOSTREAMING) {
> 	uvc_trace(UVC_TRACE_DESCR, "device %d "
> 		"interface %d isn't a video "
> 		"streaming interface\n",
> 		udev->devnum, i);
> 	continue;
> }

I inserted a few printks at the point of crashing the involved variables
have the following values:
debug: intf->cur_altsetting->desc.bInterfaceSubClass 255
debug: SC_VIDEOSTREAMING 2
debug: udev->devnum 5
debug: i 0

Just commenting continue out stops the crash ;).

Laurent: is there a bug in the continue patch or should the iSight patch
just change the if so it is not entered when an iSight is found?

greetings
Felix M?ller


From nethad at gmx.net  Sat Aug 25 14:24:36 2007
From: nethad at gmx.net (nethad)
Date: Sat, 25 Aug 2007 14:24:36 +0200
Subject: [Linux-uvc-devel] kopete webcam support for uvcvideo in svn now
Message-ID: <200708251424.36305.nethad@gmx.net>

Hi at all,

Good News: In my svn checkout of today there have been several files modified, 
among them some avdevice stuff which lead me to recompile my kopete and to my 
surprise I could see myself in the config dialogue.

Regards,
Thomas

PS: My device is a Bison webcam (built-in Acer cam) with 5986:0100 ID


From mailinglisten at habmalnefrage.de  Sat Aug 25 17:57:44 2007
From: mailinglisten at habmalnefrage.de (Martin)
Date: Sat, 25 Aug 2007 17:57:44 +0200
Subject: [Linux-uvc-devel] invalid module format uvc
In-Reply-To: <200708022231.30332.laurent.pinchart@skynet.be>
References: <BAY110-W26580B2CD910EA6BA5A6C4DCE90@phx.gbl>
	<200708022231.30332.laurent.pinchart@skynet.be>
Message-ID: <20070825175744.08e26862@localhost>

Am Thu, 2 Aug 2007 22:31:30 schrieb Laurent Pinchart:
> On Thursday 02 August 2007, helico unitemoyenne wrote:
> > i am not sure that the problem is with mandriva.

I am not sure, too...

> I'm pretty sure I'm not adding 'custom' to '2.6.17-10mdv'. You should
> try to investigate with your kernel sources where this comes from. It
> seems to definitely be a build issue.

I'm sure, this is true, also.

Well, the Makefile uses `uname -r` as the kernel version. This should
be the current running one. Just to be sure do some...

$ cd /lib/modules/2.6.17-10mdv/build
$ make menuconfig

Please tell us, what is in "General Setup ---> Local version - append
to kernel release"? Is there some "custom" around?

If not, what is `uname -r` in your case?

Hope to have given some useful hints...

Martin


From mickael.drean at gmail.com  Sat Aug 25 18:44:14 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sat, 25 Aug 2007 18:44:14 +0200
Subject: [Linux-uvc-devel] kopete webcam support for uvcvideo in svn now
In-Reply-To: <200708251424.36305.nethad@gmx.net>
References: <200708251424.36305.nethad@gmx.net>
Message-ID: <e4b61e4b0708250944n19849b22ua46155f6fe242ff0@mail.gmail.com>

Hello,


I've donea checkout of the 121 release but my webcam is still not working
and as I have the same as you (ie 5986:0100)

Could you give me much more information about how you did it?

Could you send me the response of the 'modprobe'? maybe there is something
missing on my computer..


Thanks

Mickael


2007/8/25, nethad <nethad at gmx.net>:
>
> Hi at all,
>
> Good News: In my svn checkout of today there have been several files
> modified,
> among them some avdevice stuff which lead me to recompile my kopete and to
> my
> surprise I could see myself in the config dialogue.
>
> Regards,
> Thomas
>
> PS: My device is a Bison webcam (built-in Acer cam) with 5986:0100 ID
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070825/3e2d5bde/attachment.html>

From mickael.drean at gmail.com  Sat Aug 25 18:49:44 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sat, 25 Aug 2007 18:49:44 +0200
Subject: [Linux-uvc-devel] kopete webcam support for uvcvideo in svn now
In-Reply-To: <e4b61e4b0708250944n19849b22ua46155f6fe242ff0@mail.gmail.com>
References: <200708251424.36305.nethad@gmx.net>
	<e4b61e4b0708250944n19849b22ua46155f6fe242ff0@mail.gmail.com>
Message-ID: <e4b61e4b0708250949v6e07b022i102fc5aaceec55dc@mail.gmail.com>

oups sorry, it's not modprobe but lsmod ;-)

2007/8/25, Mickael Drean <mickael.drean at gmail.com>:
>
> Hello,
>
>
> I've donea checkout of the 121 release but my webcam is still not working
> and as I have the same as you (ie 5986:0100)
>
> Could you give me much more information about how you did it?
>
> Could you send me the response of the 'modprobe'? maybe there is something
> missing on my computer..
>
>
> Thanks
>
> Mickael
>
>
> 2007/8/25, nethad <nethad at gmx.net>:
> >
> > Hi at all,
> >
> > Good News: In my svn checkout of today there have been several files
> > modified,
> > among them some avdevice stuff which lead me to recompile my kopete and
> > to my
> > surprise I could see myself in the config dialogue.
> >
> > Regards,
> > Thomas
> >
> > PS: My device is a Bison webcam (built-in Acer cam) with 5986:0100 ID
> > _______________________________________________
> > Linux-uvc-devel mailing list
> > Linux-uvc-devel at lists.berlios.de
> > https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> >
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070825/ed470f1d/attachment.html>

From nethad at gmx.net  Sat Aug 25 18:50:14 2007
From: nethad at gmx.net (nethad)
Date: Sat, 25 Aug 2007 18:50:14 +0200
Subject: [Linux-uvc-devel] kopete webcam support for uvcvideo in svn now
In-Reply-To: <e4b61e4b0708250944n19849b22ua46155f6fe242ff0@mail.gmail.com>
References: <200708251424.36305.nethad@gmx.net>
	<e4b61e4b0708250944n19849b22ua46155f6fe242ff0@mail.gmail.com>
Message-ID: <200708251850.14707.nethad@gmx.net>

Hi,

the question is: with what application you tried to watch your webcam? It just 
works with luvcview, kdetv, probably with ekiga (not on my system) and with 
the kopete svn checkout from today.

$ lsmod|grep uvcvideo
uvcvideo               47492  0
compat_ioctl32          2304  1 uvcvideo
videodev               28160  1 uvcvideo
v4l1_compat            15236  2 uvcvideo,videodev
v4l2_common            25216  2 uvcvideo,videodev
usbcore               134280  5 ndiswrapper,uvcvideo,ehci_hcd,uhci_hcd

I'm not sure if this helps, but try it with luvcvidew and kdetv first and 
report me your experiences.

Regards,
Thomas



From mickael.drean at gmail.com  Sat Aug 25 19:53:22 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sat, 25 Aug 2007 19:53:22 +0200
Subject: [Linux-uvc-devel] kopete webcam support for uvcvideo in svn now
In-Reply-To: <200708251850.14707.nethad@gmx.net>
References: <200708251424.36305.nethad@gmx.net>
	<e4b61e4b0708250944n19849b22ua46155f6fe242ff0@mail.gmail.com>
	<200708251850.14707.nethad@gmx.net>
Message-ID: <e4b61e4b0708251053p16d75697kb2390a307f35712f@mail.gmail.com>

Hallo,

The response is : with no one.. :'(

my lsmod | grep video give this :


uvcvideo               53508  0
compat_ioctl32         17217  1 uvcvideo
videodev               36673  1 uvcvideo
v4l1_compat            20549  2 uvcvideo,videodev
v4l2_common            28353  3 uvcvideo,compat_ioctl32,videodev
video                  28113  0


as you can see, i have no usbcore module.. I don't know if it 's normal or
not.

Where can I download the last version of luvcview?


Mick

2007/8/25, nethad <nethad at gmx.net>:
>
> Hi,
>
> the question is: with what application you tried to watch your webcam? It
> just
> works with luvcview, kdetv, probably with ekiga (not on my system) and
> with
> the kopete svn checkout from today.
>
> $ lsmod|grep uvcvideo
> uvcvideo               47492  0
> compat_ioctl32          2304  1 uvcvideo
> videodev               28160  1 uvcvideo
> v4l1_compat            15236  2 uvcvideo,videodev
> v4l2_common            25216  2 uvcvideo,videodev
> usbcore               134280  5 ndiswrapper,uvcvideo,ehci_hcd,uhci_hcd
>
> I'm not sure if this helps, but try it with luvcvidew and kdetv first and
> report me your experiences.
>
> Regards,
> Thomas
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070825/1a38ed63/attachment.html>

From nethad at gmx.net  Sun Aug 26 11:49:43 2007
From: nethad at gmx.net (nethad)
Date: Sun, 26 Aug 2007 11:49:43 +0200
Subject: [Linux-uvc-devel] kopete webcam support for uvcvideo in svn now
In-Reply-To: <e4b61e4b0708251053p16d75697kb2390a307f35712f@mail.gmail.com>
References: <200708251424.36305.nethad@gmx.net>
	<200708251850.14707.nethad@gmx.net>
	<e4b61e4b0708251053p16d75697kb2390a307f35712f@mail.gmail.com>
Message-ID: <200708261149.43339.nethad@gmx.net>

Hi,

you can get luvcview here: 
http://mxhaard.free.fr/spca50x/Investigation/uvc/luvcview-20070512.tar.gz

maybe you should load the usbcore module with:
sudo modprobe usbcore

Good luck!

Regards,
Thomas




From alex at alexpounds.com  Sun Aug 26 12:47:22 2007
From: alex at alexpounds.com (Alex Pounds)
Date: Sun, 26 Aug 2007 11:47:22 +0100
Subject: [Linux-uvc-devel] kopete webcam support for uvcvideo in svn now
In-Reply-To: <e4b61e4b0708251053p16d75697kb2390a307f35712f@mail.gmail.com>
References: <200708251424.36305.nethad@gmx.net>
	<e4b61e4b0708250944n19849b22ua46155f6fe242ff0@mail.gmail.com>
	<200708251850.14707.nethad@gmx.net>
	<e4b61e4b0708251053p16d75697kb2390a307f35712f@mail.gmail.com>
Message-ID: <20070826104722.GC4374@localhost.localdomain>

On Sat, Aug 25, 2007 at 07:53:22PM +0200, Mickael Drean wrote:
> my lsmod | grep video give this :
> 
> as you can see, i have no usbcore module.. I don't know if it 's normal or
> not.

It's possible that you have got it, but you're filtering it out with your
grep. Try doing "lsmod | grep core" and see what that returns.

-- 
Alex Pounds (Creature)                  .~.      http://www.alexpounds.com/
                                        /V\     http://www.ethicsgirls.com/
                                       // \\
"Variables won't; Constants aren't"   /(   )\
                                       ^`~'^


From mickael.drean at gmail.com  Sun Aug 26 13:58:12 2007
From: mickael.drean at gmail.com (Mickael Drean)
Date: Sun, 26 Aug 2007 13:58:12 +0200
Subject: [Linux-uvc-devel] kopete webcam support for uvcvideo in svn now
In-Reply-To: <20070826104722.GC4374@localhost.localdomain>
References: <200708251424.36305.nethad@gmx.net>
	<e4b61e4b0708250944n19849b22ua46155f6fe242ff0@mail.gmail.com>
	<200708251850.14707.nethad@gmx.net>
	<e4b61e4b0708251053p16d75697kb2390a307f35712f@mail.gmail.com>
	<20070826104722.GC4374@localhost.localdomain>
Message-ID: <e4b61e4b0708260458n4c54108dxef35d309da38fac1@mail.gmail.com>

Hello all,

I do not know what i've done.... but now it works with luvcview (I already
had the last version)


With kopete it's not working yet... I may need an updated version of it.


Thanks all for your help

Micka?l


2007/8/26, Alex Pounds <alex at alexpounds.com>:
>
> On Sat, Aug 25, 2007 at 07:53:22PM +0200, Mickael Drean wrote:
> > my lsmod | grep video give this :
> >
> > as you can see, i have no usbcore module.. I don't know if it 's normal
> or
> > not.
>
> It's possible that you have got it, but you're filtering it out with your
> grep. Try doing "lsmod | grep core" and see what that returns.
>
> --
> Alex Pounds (Creature)                  .~.
> http://www.alexpounds.com/
>                                         /V\
> http://www.ethicsgirls.com/
>                                        // \\
> "Variables won't; Constants aren't"   /(   )\
>                                        ^`~'^
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070826/78ee1971/attachment.html>

From romal at gmx.de  Sun Aug 26 20:48:23 2007
From: romal at gmx.de (Robert M. Albrecht)
Date: Sun, 26 Aug 2007 20:48:23 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam for Notebooks (046d:08dd)
In-Reply-To: <200708250019.58779.laurent.pinchart@skynet.be>
References: <20070824190458.237490@gmx.net>
	<200708250019.58779.laurent.pinchart@skynet.be>
Message-ID: <46D1CAF7.4070600@gmx.de>

Hi,

I have this version:

http://www.muizenshop.nl/layout/media/1201-1400/1306_1_image.jpg

and it works just fine, though it`s from early 2006.

cu romal


Laurent Pinchart schrieb:

> 
> The best Logitech buy today is the Quickcam Pro for Notebook, 2007 edition. It 
> looks like this
> 
> http://www.logitech.com/index.cfm/webcam_communications/webcams/devices/3055&cl=us,en
> 
> That one should even have the hardware/firmware bug fixed (but I haven't got 
> one yet, so I haven't been to test it).
> 
>> Here is a link to a post from someone else with the same problem.
>> https://answers.launchpad.net/ubuntu/+question/12072
> 
> Sorry again for the mistake.
> 
> Best regards,
> 
> Laurent Pinchart
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


From laurent.pinchart at skynet.be  Sun Aug 26 21:34:15 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 26 Aug 2007 21:34:15 +0200
Subject: [Linux-uvc-devel] [SVN] Suspend/Resume support
Message-ID: <200708262134.15453.laurent.pinchart@skynet.be>

Hello everybody.

I received no answers to my recent call for testers for the suspend/resume 
patch. This either means nobody tried it, or it worked flawlessly for 
everybody.

The patch is now in SVN. If you haven't tried it before, here's the time to 
check it out and complain about issues.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Aug 26 21:40:42 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 26 Aug 2007 21:40:42 +0200
Subject: [Linux-uvc-devel] Problems with 0c45:62c0
In-Reply-To: <9ca3b4870708242209y6da225eam5a72fec382973c4@mail.gmail.com>
References: <9ca3b4870708182159k55012a6ob7e12f4f23aa57d4@mail.gmail.com>
	<200708250008.23371.laurent.pinchart@skynet.be>
	<9ca3b4870708242209y6da225eam5a72fec382973c4@mail.gmail.com>
Message-ID: <200708262140.43114.laurent.pinchart@skynet.be>

On Saturday 25 August 2007, Calad Sigilon wrote:
> Patch with what?

There was a patch floating around.

> I downloaded and compiled the latest SVN build, and that didn't work.

I don't know if Kopete supports YUV. You'll have to investigate. Check the 
Kopete sources, and raise the driver trace level to get more information in 
the kernel log.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Aug 26 21:43:41 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 26 Aug 2007 21:43:41 +0200
Subject: [Linux-uvc-devel] kopete webcam support for uvcvideo in svn now
In-Reply-To: <e4b61e4b0708260458n4c54108dxef35d309da38fac1@mail.gmail.com>
References: <200708251424.36305.nethad@gmx.net>
	<20070826104722.GC4374@localhost.localdomain>
	<e4b61e4b0708260458n4c54108dxef35d309da38fac1@mail.gmail.com>
Message-ID: <200708262143.41284.laurent.pinchart@skynet.be>

On Sunday 26 August 2007, Mickael Drean wrote:
> Hello all,
>
> I do not know what i've done.... but now it works with luvcview (I already
> had the last version)
>
>
> With kopete it's not working yet... I may need an updated version of it.

As Thomas reported, you might need the latest SVN build of Kopete.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Aug 26 21:45:55 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 26 Aug 2007 21:45:55 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam for Notebooks (046d:08dd)
In-Reply-To: <46D1CAF7.4070600@gmx.de>
References: <20070824190458.237490@gmx.net>
	<200708250019.58779.laurent.pinchart@skynet.be>
	<46D1CAF7.4070600@gmx.de>
Message-ID: <200708262145.55927.laurent.pinchart@skynet.be>

On Sunday 26 August 2007, Robert M. Albrecht wrote:
> Hi,
>
> I have this version:
>
> http://www.muizenshop.nl/layout/media/1201-1400/1306_1_image.jpg
>
> and it works just fine, though it`s from early 2006.

That one is buggy. It works for some people and doesn't for others. It's a 
decent webcam, except that there's no way to know in advance if it will work 
with a given computer.

Best regards,

Laurent Pinchart


From felix at derklecks.de  Sun Aug 26 22:21:56 2007
From: felix at derklecks.de (=?ISO-8859-1?Q?Felix_M=F6ller?=)
Date: Sun, 26 Aug 2007 22:21:56 +0200
Subject: [Linux-uvc-devel] Problems with 0c45:62c0
In-Reply-To: <200708262140.43114.laurent.pinchart@skynet.be>
References: <9ca3b4870708182159k55012a6ob7e12f4f23aa57d4@mail.gmail.com>	<200708250008.23371.laurent.pinchart@skynet.be>	<9ca3b4870708242209y6da225eam5a72fec382973c4@mail.gmail.com>
	<200708262140.43114.laurent.pinchart@skynet.be>
Message-ID: <46D1E0E4.1070509@derklecks.de>

Hi,

>> Patch with what?
> 
> There was a patch floating around.
> 
>> I downloaded and compiled the latest SVN build, and that didn't work.
> 
> I don't know if Kopete supports YUV. You'll have to investigate. Check the 
> Kopete sources, and raise the driver trace level to get more information in 
> the kernel log.
openSUSE 10.3 factory kopete does support UYVY for the iSight.

# rpm -qf /opt/kde3/bin/kopete
kdenetwork3-InstantMessenger-3.5.7-46


greetings
Felix M?ller


From felix at derklecks.de  Sun Aug 26 23:04:17 2007
From: felix at derklecks.de (=?ISO-8859-1?Q?Felix_M=F6ller?=)
Date: Sun, 26 Aug 2007 23:04:17 +0200
Subject: [Linux-uvc-devel] [SVN] Suspend/Resume support
In-Reply-To: <200708262134.15453.laurent.pinchart@skynet.be>
References: <200708262134.15453.laurent.pinchart@skynet.be>
Message-ID: <46D1EAD1.1080608@derklecks.de>

Laurent Pinchart schrieb:
> Hello everybody.
> 
> I received no answers to my recent call for testers for the suspend/resume 
> patch. This either means nobody tried it, or it worked flawlessly for 
> everybody.
> 
> The patch is now in SVN. If you haven't tried it before, here's the time to 
> check it out and complain about issues.
As I am using an iSight I do not know how much this report is worth. But
r122 breaks suspend for me:

Stopping tasks ... done.
Suspending console(s)
uvcvideo 5-4:1.0: suspend error -22
suspend_device(): usb_suspend+0x0/0x17 [usbcore]() returns -22
Could not suspend device 5-4: error -22
Some devices failed to suspend
Restarting tasks ... done.

This is on current openSUSE 10.3 factory.

greetings
		Felix M?ller


From franjo.mlakar at gmail.com  Mon Aug 27 06:36:13 2007
From: franjo.mlakar at gmail.com (Franjo Mlakar)
Date: Mon, 27 Aug 2007 06:36:13 +0200
Subject: [Linux-uvc-devel] using UVC driver
Message-ID: <d1fa105b0708262136g4baba249tbd47b7958c14d048@mail.gmail.com>

Hi,

I have install the UVC driver and I try to use it with guvcview. But when I
run guvcview I get the following error.

[root at localhost UVC]# guvcview
resolution: 320 x 240
windowsize: 700 x 420
mode: jpg
fps: 25
bpp: 0
hwaccel: 1
grabmethod: 1
guvcview version 0.1
Video driver: x11
A window manager is available
video /dev/video0
ERROR opening V4L interface
: No such file or directory
[root at localhost UVC]#

I do not have  /dev/video or /dev/video0 device node. Does the driver make
this nodes when it is installed, or do I have to make this nodes by myself?
I'm realy new, so any help is welcome.

Best regards,

Franjo Mlakar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070827/a1a92879/attachment.html>

From felix at derklecks.de  Mon Aug 27 07:56:54 2007
From: felix at derklecks.de (=?ISO-8859-1?Q?Felix_M=F6ller?=)
Date: Mon, 27 Aug 2007 07:56:54 +0200
Subject: [Linux-uvc-devel] using UVC driver
In-Reply-To: <d1fa105b0708262136g4baba249tbd47b7958c14d048@mail.gmail.com>
References: <d1fa105b0708262136g4baba249tbd47b7958c14d048@mail.gmail.com>
Message-ID: <46D267A6.8090500@derklecks.de>

Hi,

> I do not have  /dev/video or /dev/video0 device node. Does the driver
> make this nodes when it is installed, or do I have to make this nodes by
> myself? I'm realy new, so any help is welcome.
Did you modprobe the driver? An what is the modell of your webcam?

You might post lsusb and modprobe | grep uvc.

greetings
		Felix M?ller


From nethad at gmx.net  Mon Aug 27 14:19:42 2007
From: nethad at gmx.net (nethad)
Date: Mon, 27 Aug 2007 14:19:42 +0200
Subject: [Linux-uvc-devel] uvcvideo with suspend
Message-ID: <200708271419.42474.nethad@gmx.net>

Hi Laurent

I downloaded the latest uvcvideo svn version and compiled it yesterday. Today 
I suspended my notebook (sleep mode) and started luvcvideo before. When I 
woke up my notebook, the luvcview screen was black and the program didn't 
react.
What do you need to solve the problem?

Regards,
Thomas


From contact at alexandredenis.net  Mon Aug 27 15:24:06 2007
From: contact at alexandredenis.net (Alexandre DENIS)
Date: Mon, 27 Aug 2007 15:24:06 +0200
Subject: [Linux-uvc-devel] Problems with 0c45:62c0
In-Reply-To: <9ca3b4870708242209y6da225eam5a72fec382973c4@mail.gmail.com>
References: <9ca3b4870708182159k55012a6ob7e12f4f23aa57d4@mail.gmail.com>
	<200708250008.23371.laurent.pinchart@skynet.be>
	<9ca3b4870708242209y6da225eam5a72fec382973c4@mail.gmail.com>
Message-ID: <200708271524.07960.contact@alexandredenis.net>

On Saturday 25 August 2007, Calad Sigilon wrote:
> Patch with what?
>
> I downloaded and compiled the latest SVN build, and that didn't work.

I developed a patch for UVC support in Kopete ~6 months ago. It can be 
downloaded here: 
<http://www.alexandredenis.net/software/kopete-uvc/kopete-uvc-patch-20060206.tgz>

The patch fixes YUYV and V4L2 support, and adds support for MJPEG.

For some people it works, for some others it doesn't work. Actually, 
webcam support in Kopete is full of buffer overflows and dangling 
pointers, thus your mileage may vary. When I sent my patch to the 
Kopete team to get it integrated into the svn, they told me that 
instead they would develop a new bug-free webcam support from scratch 
because the current one is too buggy.

-a.


From alex at seewald.at  Mon Aug 27 16:40:25 2007
From: alex at seewald.at (Dr. techn. Alexander K. Seewald)
Date: Mon, 27 Aug 2007 16:40:25 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam 9000 Pro - auto focus under
	software control?
Message-ID: <20070827144025.GA30264@sdg.at>

Good work on the driver, worked out-of-the-box on a recent
debian etch system (i686) with 2.6.23-rc3 kernel. I _think_ the
autofocus may be under software control... is this possible?

The camera does not make any noises (as you would expect from
auto-focus), and seems to be stuck to the infinite focus setting
- things very far away are sharp, things closer than about one meter
are fuzzy. I've not yet excluded a marketing gag, but since they
were willing to put in a Zeiss objective this seems a bit unlikely.

I cannot really check this under Windows as I don't have any sufficiently
recent Windows machines. Anyone else having this camera under
Windows and noting that it does make noises when doing an autofocus?
(simplest thing to check)

If autofocus is under software control, what can I do to make the
driver support this? Has anybody already implemented something
similar?

Best,
  Alex
-- 
Dr. Alexander K. Seewald         +43(664)1106886
              Seewald Solutions                 
------------------------------------------------
         Information wants to be free;
Information also wants to be expensive (S.Brant)
--------------- alex.seewald.at ----------------


From laurent.pinchart at skynet.be  Tue Aug 28 00:43:06 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 28 Aug 2007 00:43:06 +0200
Subject: [Linux-uvc-devel] uvcvideo with suspend
In-Reply-To: <200708271419.42474.nethad@gmx.net>
References: <200708271419.42474.nethad@gmx.net>
Message-ID: <200708280043.07086.laurent.pinchart@skynet.be>

On Monday 27 August 2007, nethad wrote:
> Hi Laurent
>
> I downloaded the latest uvcvideo svn version and compiled it yesterday.
> Today I suspended my notebook (sleep mode) and started luvcvideo before.
> When I woke up my notebook, the luvcview screen was black and the program
> didn't react.
> What do you need to solve the problem?

The kernel log after resume. Did you suspend to ram or to disk ? Can you try 
both ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 28 00:52:54 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 28 Aug 2007 00:52:54 +0200
Subject: [Linux-uvc-devel] using UVC driver
In-Reply-To: <d1fa105b0708262136g4baba249tbd47b7958c14d048@mail.gmail.com>
References: <d1fa105b0708262136g4baba249tbd47b7958c14d048@mail.gmail.com>
Message-ID: <200708280052.54825.laurent.pinchart@skynet.be>

Hi Franjo,

On Monday 27 August 2007, Franjo Mlakar wrote:
> Hi,
>
> I have install the UVC driver and I try to use it with guvcview. But when I
> run guvcview I get the following error.
>
> [root at localhost UVC]# guvcview
> resolution: 320 x 240
> windowsize: 700 x 420
> mode: jpg
> fps: 25
> bpp: 0
> hwaccel: 1
> grabmethod: 1
> guvcview version 0.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> ERROR opening V4L interface
>
> : No such file or directory
>
> [root at localhost UVC]#
>
> I do not have  /dev/video or /dev/video0 device node. Does the driver make
> this nodes when it is installed, or do I have to make this nodes by myself?
> I'm realy new, so any help is welcome.

When you plug your webcam, the driver should probe it and register a new 
device. udev is then responsible for creating device nodes.

You should first check if the driver has properly detected the webcam. Check 
the kernel log (using the dmesg command) for information printed by the UVC 
driver.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 28 01:05:49 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 28 Aug 2007 01:05:49 +0200
Subject: [Linux-uvc-devel] [SVN] Suspend/Resume support
In-Reply-To: <46D1EAD1.1080608@derklecks.de>
References: <200708262134.15453.laurent.pinchart@skynet.be>
	<46D1EAD1.1080608@derklecks.de>
Message-ID: <200708280105.49606.laurent.pinchart@skynet.be>

On Sunday 26 August 2007, Felix M?ller wrote:
> Laurent Pinchart schrieb:
> > Hello everybody.
> >
> > I received no answers to my recent call for testers for the
> > suspend/resume patch. This either means nobody tried it, or it worked
> > flawlessly for everybody.
> >
> > The patch is now in SVN. If you haven't tried it before, here's the time
> > to check it out and complain about issues.
>
> As I am using an iSight I do not know how much this report is worth. But
> r122 breaks suspend for me:
>
> Stopping tasks ... done.
> Suspending console(s)
> uvcvideo 5-4:1.0: suspend error -22
> suspend_device(): usb_suspend+0x0/0x17 [usbcore]() returns -22
> Could not suspend device 5-4: error -22
> Some devices failed to suspend
> Restarting tasks ... done.
>
> This is on current openSUSE 10.3 factory.

Hmmm... I think I know where that comes from. The iSight report a vendor 
subclass in the interface descriptors (you already noticed the issue with 
revision 119).

I'm not happy with that. The more I clean the driver, the more iSight specific 
quirks will be needed. I thought about writing an open-source firmware 
replacement that would be UVC compatible. That turned out to be difficult as 
the webcam doesn't have the necessary hardware to generate a UVC-compatible 
isochronous data stream.

Patching the iSight firmware to report the right interface subclasses would be 
easy, but we can't make sure it won't have any side effect. Whatever 
direction we take, a dedicated iSight maintainer might be needed, as I'll 
probably break other things in the future (not intentionally of course :-)).

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Aug 28 01:14:51 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 28 Aug 2007 01:14:51 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam 9000 Pro - auto focus under
	software control?
In-Reply-To: <20070827144025.GA30264@sdg.at>
References: <20070827144025.GA30264@sdg.at>
Message-ID: <200708280114.51846.laurent.pinchart@skynet.be>

On Monday 27 August 2007, Dr. techn. Alexander K. Seewald wrote:
> Good work on the driver, worked out-of-the-box on a recent
> debian etch system (i686) with 2.6.23-rc3 kernel. I _think_ the
> autofocus may be under software control... is this possible?

Indeed, you're right. Congratulation for reporting issues faster that I can 
fix them ;-)

> The camera does not make any noises (as you would expect from
> auto-focus), and seems to be stuck to the infinite focus setting
> - things very far away are sharp, things closer than about one meter
> are fuzzy. I've not yet excluded a marketing gag, but since they
> were willing to put in a Zeiss objective this seems a bit unlikely.
>
> I cannot really check this under Windows as I don't have any sufficiently
> recent Windows machines. Anyone else having this camera under
> Windows and noting that it does make noises when doing an autofocus?
> (simplest thing to check)
>
> If autofocus is under software control, what can I do to make the
> driver support this? Has anybody already implemented something
> similar?

The camera has a hardware manual focus. Autofocus is implemented in the 
Windows driver, and is of course missing from the Linux driver.

There are two things to implement in Linux to get something similar. The first 
one is to implement manual focus into the driver. This shouldn't be difficult 
and I'll have a go at it. The second one is much more complex. You'll have to 
come up with a userspace image processing algorithm to compute focus values 
from the video. I have no experience with that.

Best regards,

Laurent Pinchart


From tronic+azot at trn.iki.fi  Mon Aug 27 23:52:03 2007
From: tronic+azot at trn.iki.fi (=?windows-1252?Q?Lasse_K=E4rkk=E4inen?=)
Date: Tue, 28 Aug 2007 00:52:03 +0300
Subject: [Linux-uvc-devel] Creative Live! Cam Optia AF
Message-ID: <46D34783.2070804@trn.iki.fi>

I am getting frequent crashes with this camera. The kernel log contains
various USB errors (a crash always leads to all USB devices reseting,
but the camera stays dead afterwards until next reboot). The program
that was using the camera cannot be killed. The LED on my USB hub on the
port with the camera on it is blinking after the crash (other LEDs are
off, if no device is connected, or on if a device works). Connecting the
camera to some other USB port does not help, it still gives a blinking LED.

It is possible that I (a) have generic USB issues, not related to UVC at
all, or that (b) all UVC cameras have the same issue (I don't have any
others to test).

P.S. for anybody considering buying this camera - DO NOT. The picture
quality is not very good, but the auto focus is a real problem. It keeps
refocusing the image, even though it is already in focus. The focusing
does not focus directly, but instead runs the focus servo from one end
to the other, very slowly. Because of this, your image will be blurry
most of the time even at 320x240. And the optics are so bad that the
focus does not only focus, but also zooms a bit while doing it.

The Logitech 2 megapixel camera (Quickcam Pro for Notebooks, I think)
has in every way far superior image quality and the device costs about
the same as this Creative crap. However, it, too, has one important
drawback - it scans the image a line at a time (not a frame at a time),
so you get ugly distortion whenever anything in the image (or the camera
itself) moves. Creative does not have this problem, but its other issues
are still far worse than that.

Can anyone recommend a truly good webcam? I am looking for high frame
rates at high resolutions (VGA is not acceptable), good optics, etc.
Ethernet is optimal, USB2 and FW/FW800 are OK (as long as they work in
Linux). The price roof is around 300 ?.


The log:

(a lot of these messages)
urb status -32
urb status -32
urb status -32
urb status -32
usb 2-6.1: USB disconnect, address 4
hub 2-6:1.0: hub_port_status failed (err = -71)
hub 2-6:1.0: connect-debounce failed, port 1 disabled
usb 2-6.1: new full speed USB device using ehci_hcd and address 5
usb 2-6.1: configuration #1 chosen from 2 choices
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
cannot submit datapipe for urb 0, error -28: not enough bandwidth
ehci_hcd 0000:00:1a.7: fatal error
uvcvideo: Failed to resubmit video URB (-108).
uvcvideo: Failed to resubmit video URB (-108).
uvcvideo: Failed to resubmit video URB (-108).
uvcvideo: Failed to resubmit video URB (-108).
uvcvideo: Failed to resubmit video URB (-108).
usb 3-1: new full speed USB device using uhci_hcd and address 2
usb 3-1: not running at top speed; connect to a high speed hub
usb 3-1: configuration #1 chosen from 1 choice
hub 3-1:1.0: USB hub found
hub 3-1:1.0: 4 ports detected
usb 3-1.1: new low speed USB device using uhci_hcd and address 3
usb 3-1.1: configuration #1 chosen from 1 choice
input: HID 04d9:1400 as /class/input/input4
input: USB HID v1.10 Keyboard [HID 04d9:1400] on usb-0000:00:1a.0-1.1
input: HID 04d9:1400 as /class/input/input5
input: USB HID v1.10 Mouse [HID 04d9:1400] on usb-0000:00:1a.0-1.1
usb 3-1.2: new full speed USB device using uhci_hcd and address 4
usb 3-1.2: configuration #1 chosen from 1 choice
input: Razer Razer Copperhead Laser Mouse as /class/input/input6
input: USB HID v10.01 Mouse [Razer Razer Copperhead Laser Mouse] on
usb-0000:00:1a.0-1.2
input: Razer Razer Copperhead Laser Mouse as /class/input/input7
input: USB HID v10.01 Keyboard [Razer Razer Copperhead Laser Mouse] on
usb-0000:00:1a.0-1.2
usb 3-1.3: new full speed USB device using uhci_hcd and address 5
usb 3-1.3: not running at top speed; connect to a high speed hub
usb 3-1.3: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device <unnamed> (041e:4058)
Device initialization failed: the default format and/or frame are not valid.
uvcvideo: <3>uvcvideo: Failed to initialize the device (-22).
usb 3-1.3: USB disconnect, address 5
usb 3-1.4: new full speed USB device using uhci_hcd and address 6
usb 3-1.4: not running at top speed; connect to a high speed hub
usb 3-1.4: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device <unnamed> (041e:4058)
uvcvideo: Non-zero status (-84) in status completion handler.
usb 3-1.4: USB disconnect, address 6



From alex at seewald.at  Tue Aug 28 11:32:51 2007
From: alex at seewald.at (Dr. techn. Alexander K. Seewald)
Date: Tue, 28 Aug 2007 11:32:51 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam 9000 Pro - auto focus under
	software control?
In-Reply-To: <200708280114.51846.laurent.pinchart@skynet.be>
References: <20070827144025.GA30264@sdg.at>
	<200708280114.51846.laurent.pinchart@skynet.be>
Message-ID: <20070828093251.GB31327@sdg.at>

On Tue, Aug 28, 2007 at 01:14:51AM +0200, Laurent Pinchart wrote:
> There are two things to implement in Linux to get something similar. The first 
> one is to implement manual focus into the driver. This shouldn't be difficult 
> and I'll have a go at it. The second one is much more complex. You'll have to 
> come up with a userspace image processing algorithm to compute focus values 
> from the video. I have no experience with that.
I'll visit my brother today, who happens to have an WinXP machine
lying around. Perhaps the manual focus will stay in the same setting even
when disconnected, which would instantly solve my problem. If you
need some USB traces during manual focus control by the windows application,
just let me know (& tell me which tools to use, I've never done this before ;-)

For my application, manual focus control would be sufficient. But I'll
see whether there are some published approaches in the image processing
literature for autofocus which could be ported... the trick is
probably to get a fast "in-focus" estimate on each image and change
the focus in the right direction until it reaches a maximum value.

Best,
  Alex
-- 
Dr. Alexander K. Seewald         +43(664)1106886
              Seewald Solutions                 
------------------------------------------------
         Information wants to be free;
Information also wants to be expensive (S.Brant)
--------------- alex.seewald.at ----------------


From laurent.pinchart at skynet.be  Tue Aug 28 12:28:34 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 28 Aug 2007 12:28:34 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam 9000 Pro - auto focus under
	software control?
In-Reply-To: <20070828093251.GB31327@sdg.at>
References: <20070827144025.GA30264@sdg.at>
	<200708280114.51846.laurent.pinchart@skynet.be>
	<20070828093251.GB31327@sdg.at>
Message-ID: <200708281228.34859.laurent.pinchart@skynet.be>

On Tuesday 28 August 2007 11:32, Dr. techn. Alexander K. Seewald wrote:
> On Tue, Aug 28, 2007 at 01:14:51AM +0200, Laurent Pinchart wrote:
> > There are two things to implement in Linux to get something similar. The
> > first one is to implement manual focus into the driver. This shouldn't be
> > difficult and I'll have a go at it. The second one is much more complex.
> > You'll have to come up with a userspace image processing algorithm to
> > compute focus values from the video. I have no experience with that.
>
> I'll visit my brother today, who happens to have an WinXP machine
> lying around. Perhaps the manual focus will stay in the same setting even
> when disconnected, which would instantly solve my problem.

It probably will (although I'm not sure about it).

> If you need some USB traces during manual focus control by the windows
> application, just let me know (& tell me which tools to use, I've never
> done this before ;-)

This shouldn't be necessary, I should be able to get the necessary 
information. Thanks for the offer anyway.

> For my application, manual focus control would be sufficient. But I'll
> see whether there are some published approaches in the image processing
> literature for autofocus which could be ported... the trick is
> probably to get a fast "in-focus" estimate on each image and change
> the focus in the right direction until it reaches a maximum value.

A high-pass filter followed by a simple pixel sum could be a simple estimate. 
Might not be good enough, but worth a try.

Best regards,

Laurent Pinchart


From alex at seewald.at  Tue Aug 28 18:39:59 2007
From: alex at seewald.at (Dr. techn. Alexander K. Seewald)
Date: Tue, 28 Aug 2007 18:39:59 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam 9000 Pro - auto focus under
	software control?
In-Reply-To: <200708281228.34859.laurent.pinchart@skynet.be>
References: <20070827144025.GA30264@sdg.at>
	<200708280114.51846.laurent.pinchart@skynet.be>
	<20070828093251.GB31327@sdg.at>
	<200708281228.34859.laurent.pinchart@skynet.be>
Message-ID: <20070828163959.GA4021@sdg.at>

On Tue, Aug 28, 2007 at 12:28:34PM +0200, Laurent Pinchart wrote:
> > I'll visit my brother today, who happens to have an WinXP machine
> > lying around. Perhaps the manual focus will stay in the same setting even
> > when disconnected, which would instantly solve my problem.
> It probably will (although I'm not sure about it).
Unfortunately, hardware seems to reset the focus setting during power-up. :-(
So I'll be looking forward to testing the manual focus interface.

> A high-pass filter followed by a simple pixel sum could be a simple estimate. 
> Might not be good enough, but worth a try.
I agree with that. I'll be happy to do the implementation - it ties
in with my current focus on image processing for industrial and biological
research.

Best,
  Alex
-- 
Dr. Alexander K. Seewald         +43(664)1106886
              Seewald Solutions                 
------------------------------------------------
         Information wants to be free;
Information also wants to be expensive (S.Brant)
--------------- alex.seewald.at ----------------


From brandon at ifup.org  Tue Aug 28 20:54:11 2007
From: brandon at ifup.org (Brandon Philips)
Date: Tue, 28 Aug 2007 11:54:11 -0700
Subject: [Linux-uvc-devel] [PATCH] lsusb.c: Fix video class output and input
	headers
Message-ID: <20070828185411.GA1325@ifup.org>

Fix the offsets in the printf for the video class output and input
headers.  Tested with UVC device 046d:08cb by Logitech, Inc.

Copied from USB_Video_Class_1.1.pdf Table 3.9.2.1 for reference:

Offset	Field			Size	Value
0	bLength			1	Number	
1	bDescriptorType		1	Constant
2	bDescriptorSubtype	1	Constant
3	bNumFormats		1	Number	
4	wTotalLength		2	Number	
6	bEndpointAddress	1	Endpoint
7	bmInfo			1	Bitmap	
8	bTerminalLink		1	Constant
9	bStillCaptureMethod	1	Number	
10	bTriggerSupport		1	Number
11	bTriggerUsage		1	Number
12	bControlSize		1	Number

Output from instrumented uvcvideo.ko:

        bNumFormats                        3
        wTotalLength                      742
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       5
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       0
        bControlSize                        1

Output from corrected lsusb:

        bNumFormats                        3
        wTotalLength                      742
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       5
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       0
        bControlSize                        1


Signed-off-by: Brandon Philips <bphilips at suse.de>

---
 lsusb.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

Index: usbutils-0.72/lsusb.c
===================================================================
--- usbutils-0.72.orig/lsusb.c
+++ usbutils-0.72/lsusb.c
@@ -1497,7 +1497,7 @@ static void dump_videostreaming_interfac
 		n = buf[12];
 		if (buf[0] < 13+p*n)
 			printf("      Warning: Descriptor too short\n");
-		printf("        bNumFormarts                    %5u\n"
+		printf("        bNumFormats                    %5u\n"
 		       "        wTotalLength                    %5u\n"
 		       "        bEndPointAddress                %5u\n"
 		       "        bmInfo                          %5u\n"
@@ -1506,8 +1506,8 @@ static void dump_videostreaming_interfac
 		       "        bTriggerSupport                 %5u\n"
 		       "        bTriggerUsage                   %5u\n"
 		       "        bControlSize                    %5u\n",
-		       p, buf[5] | (buf[6] << 8), buf[7], buf[8], buf[9],
-		       buf[10], buf[11], buf[12], n);
+		       p, buf[4] | (buf[5] << 8), buf[6], buf[7], buf[8],
+		       buf[9], buf[10], buf[11], n);
 		for(i = 0; i < p; i++)
 			printf("        bmaControls(%2u)                 %5u\n", i, buf[13+p*n]);
 		dump_junk(buf, "        ", 13+p*n);
@@ -1524,7 +1524,7 @@ static void dump_videostreaming_interfac
 		       "        bEndpointAddress            %5u\n"
 		       "        bTerminalLink               %5u\n"
 		       "        bControlSize                %5u\n",
-		       p, buf[4] | (buf[5] << 8), buf[6], buf[8], n);
+		       p, buf[4] | (buf[5] << 8), buf[6], buf[7], n);
 		for(i = 0; i < p; i++)
 			printf("        bmaControls(%2u)             %5u\n", i, buf[9+p*n]);
 		dump_junk(buf, "        ", 9+p*n);


From laurent.pinchart at skynet.be  Wed Aug 29 00:38:59 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 29 Aug 2007 00:38:59 +0200
Subject: [Linux-uvc-devel] Creative Live! Cam Optia AF
In-Reply-To: <46D34783.2070804@trn.iki.fi>
References: <46D34783.2070804@trn.iki.fi>
Message-ID: <200708290038.59920.laurent.pinchart@skynet.be>

Hi Lasse,

On Monday 27 August 2007, Lasse K?rkk?inen wrote:
> I am getting frequent crashes with this camera. The kernel log contains
> various USB errors (a crash always leads to all USB devices reseting,
> but the camera stays dead afterwards until next reboot). The program
> that was using the camera cannot be killed. The LED on my USB hub on the
> port with the camera on it is blinking after the crash (other LEDs are
> off, if no device is connected, or on if a device works). Connecting the
> camera to some other USB port does not help, it still gives a blinking LED.

Sounds quite serious :-/

> It is possible that I (a) have generic USB issues, not related to UVC at
> all, or that (b) all UVC cameras have the same issue (I don't have any
> others to test).

I'd vote for generic USB issues. The webcam might crash, but it shouldn't 
bring the whole USB subsystem down.

Have you tried connecting the webcam to the computer directly ?

> P.S. for anybody considering buying this camera - DO NOT. The picture
> quality is not very good, but the auto focus is a real problem. It keeps
> refocusing the image, even though it is already in focus. The focusing
> does not focus directly, but instead runs the focus servo from one end
> to the other, very slowly. Because of this, your image will be blurry
> most of the time even at 320x240. And the optics are so bad that the
> focus does not only focus, but also zooms a bit while doing it.

There are others Optia AF Linux users here and nobody reported that kind of 
issue. Not that I don't believe you, but other people might not experience 
the same problems (or they just never reported it). Have you tried the webcam 
with Windows ? I wonder if the driver plays a part in the autofocus process.

> The Logitech 2 megapixel camera (Quickcam Pro for Notebooks, I think)
> has in every way far superior image quality and the device costs about
> the same as this Creative crap. However, it, too, has one important
> drawback - it scans the image a line at a time (not a frame at a time),
> so you get ugly distortion whenever anything in the image (or the camera
> itself) moves. Creative does not have this problem, but its other issues
> are still far worse than that.

Most webcams have rolling shutters. Global electronic shutters are more 
expensive, and thus less likely to be found in webcams.

> Can anyone recommend a truly good webcam? I am looking for high frame
> rates at high resolutions (VGA is not acceptable), good optics, etc.
> Ethernet is optimal, USB2 and FW/FW800 are OK (as long as they work in
> Linux). The price roof is around 300 ?.

You're not looking for a webcam but for a good digital video camera. Most USB 
devices use cheap sensors. There are probably high-end USB cameras but I have 
no experience with them.

> The log:
>
> (a lot of these messages)
> urb status -32
> urb status -32
> urb status -32
> urb status -32
> usb 2-6.1: USB disconnect, address 4
> hub 2-6:1.0: hub_port_status failed (err = -71)
> hub 2-6:1.0: connect-debounce failed, port 1 disabled
> usb 2-6.1: new full speed USB device using ehci_hcd and address 5
> usb 2-6.1: configuration #1 chosen from 2 choices
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> cannot submit datapipe for urb 0, error -28: not enough bandwidth
> ehci_hcd 0000:00:1a.7: fatal error
> uvcvideo: Failed to resubmit video URB (-108).
> uvcvideo: Failed to resubmit video URB (-108).
> uvcvideo: Failed to resubmit video URB (-108).
> uvcvideo: Failed to resubmit video URB (-108).
> uvcvideo: Failed to resubmit video URB (-108).
> usb 3-1: new full speed USB device using uhci_hcd and address 2
> usb 3-1: not running at top speed; connect to a high speed hub
> usb 3-1: configuration #1 chosen from 1 choice
> hub 3-1:1.0: USB hub found
> hub 3-1:1.0: 4 ports detected
> usb 3-1.1: new low speed USB device using uhci_hcd and address 3
> usb 3-1.1: configuration #1 chosen from 1 choice
> input: HID 04d9:1400 as /class/input/input4
> input: USB HID v1.10 Keyboard [HID 04d9:1400] on usb-0000:00:1a.0-1.1
> input: HID 04d9:1400 as /class/input/input5
> input: USB HID v1.10 Mouse [HID 04d9:1400] on usb-0000:00:1a.0-1.1
> usb 3-1.2: new full speed USB device using uhci_hcd and address 4
> usb 3-1.2: configuration #1 chosen from 1 choice
> input: Razer Razer Copperhead Laser Mouse as /class/input/input6
> input: USB HID v10.01 Mouse [Razer Razer Copperhead Laser Mouse] on
> usb-0000:00:1a.0-1.2
> input: Razer Razer Copperhead Laser Mouse as /class/input/input7
> input: USB HID v10.01 Keyboard [Razer Razer Copperhead Laser Mouse] on
> usb-0000:00:1a.0-1.2
> usb 3-1.3: new full speed USB device using uhci_hcd and address 5
> usb 3-1.3: not running at top speed; connect to a high speed hub
> usb 3-1.3: configuration #1 chosen from 1 choice
> uvcvideo: Found UVC 1.00 device <unnamed> (041e:4058)
> Device initialization failed: the default format and/or frame are not
> valid. uvcvideo: <3>uvcvideo: Failed to initialize the device (-22).
> usb 3-1.3: USB disconnect, address 5
> usb 3-1.4: new full speed USB device using uhci_hcd and address 6
> usb 3-1.4: not running at top speed; connect to a high speed hub
> usb 3-1.4: configuration #1 chosen from 1 choice
> uvcvideo: Found UVC 1.00 device <unnamed> (041e:4058)
> uvcvideo: Non-zero status (-84) in status completion handler.
> usb 3-1.4: USB disconnect, address 6

Best regards,

Laurent Pinchart


From mail at cynapses.org  Wed Aug 29 11:46:57 2007
From: mail at cynapses.org (Andreas Schneider)
Date: Wed, 29 Aug 2007 11:46:57 +0200
Subject: [Linux-uvc-devel] uvcvideo and v4l2
Message-ID: <46D54091.9000702@cynapses.org>

Hi,

I got my webcam working with WengoPhone [1] now. The strange thing is
that it reports RGB565 as supported format.

(debug) 11:07:48 virtual WebcamErrorCode WebcamDriver::setDevice(const
std::string&): desired device=UVC Camera (046d:08c9) : video1, actual
device=UVC Camera (046d:08c9) : video1
(debug) 11:07:48 virtual WebcamErrorCode
V4L2WebcamDriver::setDevice(const std::string&): Setting '/dev/video1'
device.
(debug) 11:07:48 virtual WebcamErrorCode
V4L2WebcamDriver::setDevice(const std::string&): Device properly resolved.
(debug) 11:07:48 virtual WebcamErrorCode
WebcamDriver::setResolution(unsigned int, unsigned int): try to change
resolution: (width, height)=320,240
(debug) 11:07:48 virtual WebcamErrorCode
V4L2WebcamDriver::setPalette(pixosi): Trying to change webcam
pixelformat to yuv420p (0)
(warn) 11:07:48 virtual WebcamErrorCode
V4L2WebcamDriver::setPalette(pixosi): Failed settings pixel format.
(debug) 11:07:48 virtual WebcamErrorCode
V4L2WebcamDriver::setPalette(pixosi): Webcam pixelformat is rgb565 (9)
(debug) 11:07:48 virtual WebcamErrorCode
WebcamDriver::setPalette(pixosi): this webcam does not support palette #0
(debug) 11:07:48 virtual WebcamErrorCode
WebcamDriver::setPalette(pixosi): palette conversion will be forced

I thought the driver/webcam supports only MJPEG and YUYV.


	-- andreas


[1] http://www.openwengo.org/

-- 
http://www.cynapses.org/ - cybernetic synapses


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: OpenPGP digital signature
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20070829/2a38f95d/attachment.pgp>

From IngoFeinerer at web.de  Wed Aug 29 12:28:30 2007
From: IngoFeinerer at web.de (Ingo Feinerer)
Date: Wed, 29 Aug 2007 12:28:30 +0200
Subject: [Linux-uvc-devel] Microsoft LifeCam NX-6000 (045e:00f8) not listed
	as supported device
Message-ID: <46D54A4E.3030507@web.de>

Hello,

The webpage http://linux-uvc.berlios.de/ does not list the webcam
Microsoft LifeCam NX-6000 (045e:00f8) as supported device (although it
is). Maybe the website maintainer should make an entry for it.

I could compile the uvcvideo module and modprobe it on my system (Fedora
7, 2.6.22.4-65.fc7 kernel) without problems. The webcam works perfectly
for me with luvcview (luvcview-20070512), so it should be definitely in
the list of supported devices.

Unfortunately I cannot use the webcam in Ekiga (2.0.9), although it
lists it correctly in the Video Devices configuration section. Maybe
somebody encountered the same problem?

Anyway, thanks for your great work on this project so far,

Best regards,

Ingo

-- 
Ingo Feinerer
www.logic.at/staff/feinerer

P.S.: dmesg output I received:
Linux video capture interface: v2.00
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)
usb 5-5: new high speed USB device using ehci_hcd and address 3
usb 5-5: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device Microsoft LifeCam NX-6000 (045e:00f8)
uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp. 26).
3:3:1 : sample bitwidth 24 in over sample bytes 2
3:3:1: cannot get freq at ep 0x84
usbcore: registered new interface driver snd-usb-audio
uvcvideo: Button event (1).



From felix at derklecks.de  Wed Aug 29 12:45:32 2007
From: felix at derklecks.de (=?ISO-8859-1?Q?Felix_M=F6ller?=)
Date: Wed, 29 Aug 2007 12:45:32 +0200
Subject: [Linux-uvc-devel] Microsoft LifeCam NX-6000 (045e:00f8) not
 listed as supported device
In-Reply-To: <46D54A4E.3030507@web.de>
References: <46D54A4E.3030507@web.de>
Message-ID: <46D54E4C.6020405@derklecks.de>

Hi,

> The webpage http://linux-uvc.berlios.de/ does not list the webcam
> Microsoft LifeCam NX-6000 (045e:00f8) as supported device (although it
> is). Maybe the website maintainer should make an entry for it.
> 
> I could compile the uvcvideo module and modprobe it on my system (Fedora
> 7, 2.6.22.4-65.fc7 kernel) without problems. The webcam works perfectly
> for me with luvcview (luvcview-20070512), so it should be definitely in
> the list of supported devices.
> 
> Unfortunately I cannot use the webcam in Ekiga (2.0.9), although it
> lists it correctly in the Video Devices configuration section. Maybe
> somebody encountered the same problem?
to use my uvcvideo-camera with ekiga I had to install
pwlib-plugins-v4l2.  ekiga listed the cam before too but as a v4l1
device and that did not work.

I am using ekiga 2.0.9 on openSUSE 10.3 factory.

greetings
		Felix M?ller


From laurent.pinchart at skynet.be  Wed Aug 29 23:04:16 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 29 Aug 2007 23:04:16 +0200
Subject: [Linux-uvc-devel] Microsoft LifeCam NX-6000 (045e:00f8) not
	listed as supported device
In-Reply-To: <46D54A4E.3030507@web.de>
References: <46D54A4E.3030507@web.de>
Message-ID: <200708292304.17106.laurent.pinchart@skynet.be>

Hi Ingo,

On Wednesday 29 August 2007, Ingo Feinerer wrote:
> Hello,
>
> The webpage http://linux-uvc.berlios.de/ does not list the webcam
> Microsoft LifeCam NX-6000 (045e:00f8) as supported device (although it
> is). Maybe the website maintainer should make an entry for it.

I added the device to the website. Thanks for the report.

> I could compile the uvcvideo module and modprobe it on my system (Fedora
> 7, 2.6.22.4-65.fc7 kernel) without problems. The webcam works perfectly
> for me with luvcview (luvcview-20070512), so it should be definitely in
> the list of supported devices.
>
> Unfortunately I cannot use the webcam in Ekiga (2.0.9), although it
> lists it correctly in the Video Devices configuration section. Maybe
> somebody encountered the same problem?
>
> Anyway, thanks for your great work on this project so far,

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Aug 29 23:09:54 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 29 Aug 2007 23:09:54 +0200
Subject: [Linux-uvc-devel] [PATCH] lsusb.c: Fix video class output and
	input headers
In-Reply-To: <20070828185411.GA1325@ifup.org>
References: <20070828185411.GA1325@ifup.org>
Message-ID: <200708292309.54249.laurent.pinchart@skynet.be>

On Tuesday 28 August 2007, Brandon Philips wrote:
> Fix the offsets in the printf for the video class output and input
> headers.  Tested with UVC device 046d:08cb by Logitech, Inc.
>
> Copied from USB_Video_Class_1.1.pdf Table 3.9.2.1 for reference:
>
> Offset	Field			Size	Value
> 0	bLength			1	Number
> 1	bDescriptorType		1	Constant
> 2	bDescriptorSubtype	1	Constant
> 3	bNumFormats		1	Number
> 4	wTotalLength		2	Number
> 6	bEndpointAddress	1	Endpoint
> 7	bmInfo			1	Bitmap
> 8	bTerminalLink		1	Constant
> 9	bStillCaptureMethod	1	Number
> 10	bTriggerSupport		1	Number
> 11	bTriggerUsage		1	Number
> 12	bControlSize		1	Number
>
> Output from instrumented uvcvideo.ko:
>
>         bNumFormats                        3
>         wTotalLength                      742
>         bEndPointAddress                  129
>         bmInfo                              0
>         bTerminalLink                       5
>         bStillCaptureMethod                 2
>         bTriggerSupport                     1
>         bTriggerUsage                       0
>         bControlSize                        1
>
> Output from corrected lsusb:
>
>         bNumFormats                        3
>         wTotalLength                      742
>         bEndPointAddress                  129
>         bmInfo                              0
>         bTerminalLink                       5
>         bStillCaptureMethod                 2
>         bTriggerSupport                     1
>         bTriggerUsage                       0
>         bControlSize                        1
>
>
> Signed-off-by: Brandon Philips <bphilips at suse.de>

Acked-by: Laurent Pinchart <laurent.pinchart at skynet.be>

>
> ---
>  lsusb.c |    8 ++++----
>  1 file changed, 4 insertions(+), 4 deletions(-)
>
> Index: usbutils-0.72/lsusb.c
> ===================================================================
> --- usbutils-0.72.orig/lsusb.c
> +++ usbutils-0.72/lsusb.c
> @@ -1497,7 +1497,7 @@ static void dump_videostreaming_interfac
>  		n = buf[12];
>  		if (buf[0] < 13+p*n)
>  			printf("      Warning: Descriptor too short\n");
> -		printf("        bNumFormarts                    %5u\n"
> +		printf("        bNumFormats                    %5u\n"
>  		       "        wTotalLength                    %5u\n"
>  		       "        bEndPointAddress                %5u\n"
>  		       "        bmInfo                          %5u\n"
> @@ -1506,8 +1506,8 @@ static void dump_videostreaming_interfac
>  		       "        bTriggerSupport                 %5u\n"
>  		       "        bTriggerUsage                   %5u\n"
>  		       "        bControlSize                    %5u\n",
> -		       p, buf[5] | (buf[6] << 8), buf[7], buf[8], buf[9],
> -		       buf[10], buf[11], buf[12], n);
> +		       p, buf[4] | (buf[5] << 8), buf[6], buf[7], buf[8],
> +		       buf[9], buf[10], buf[11], n);
>  		for(i = 0; i < p; i++)
>  			printf("        bmaControls(%2u)                 %5u\n", i,
> buf[13+p*n]); dump_junk(buf, "        ", 13+p*n);
> @@ -1524,7 +1524,7 @@ static void dump_videostreaming_interfac
>  		       "        bEndpointAddress            %5u\n"
>  		       "        bTerminalLink               %5u\n"
>  		       "        bControlSize                %5u\n",
> -		       p, buf[4] | (buf[5] << 8), buf[6], buf[8], n);
> +		       p, buf[4] | (buf[5] << 8), buf[6], buf[7], n);
>  		for(i = 0; i < p; i++)
>  			printf("        bmaControls(%2u)             %5u\n", i, buf[9+p*n]);
>  		dump_junk(buf, "        ", 9+p*n);


From laurent.pinchart at skynet.be  Thu Aug 30 23:26:21 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 30 Aug 2007 23:26:21 +0200
Subject: [Linux-uvc-devel] uvcvideo and v4l2
In-Reply-To: <46D54091.9000702@cynapses.org>
References: <46D54091.9000702@cynapses.org>
Message-ID: <200708302326.21137.laurent.pinchart@skynet.be>

Hi Andreas,

On Wednesday 29 August 2007, Andreas Schneider wrote:
> Hi,
>
> I got my webcam working with WengoPhone [1] now. The strange thing is
> that it reports RGB565 as supported format.
>
> (debug) 11:07:48 virtual WebcamErrorCode WebcamDriver::setDevice(const
> std::string&): desired device=UVC Camera (046d:08c9) : video1, actual
> device=UVC Camera (046d:08c9) : video1
> (debug) 11:07:48 virtual WebcamErrorCode
> V4L2WebcamDriver::setDevice(const std::string&): Setting '/dev/video1'
> device.
> (debug) 11:07:48 virtual WebcamErrorCode
> V4L2WebcamDriver::setDevice(const std::string&): Device properly resolved.
> (debug) 11:07:48 virtual WebcamErrorCode
> WebcamDriver::setResolution(unsigned int, unsigned int): try to change
> resolution: (width, height)=320,240
> (debug) 11:07:48 virtual WebcamErrorCode
> V4L2WebcamDriver::setPalette(pixosi): Trying to change webcam
> pixelformat to yuv420p (0)
> (warn) 11:07:48 virtual WebcamErrorCode
> V4L2WebcamDriver::setPalette(pixosi): Failed settings pixel format.
> (debug) 11:07:48 virtual WebcamErrorCode
> V4L2WebcamDriver::setPalette(pixosi): Webcam pixelformat is rgb565 (9)
> (debug) 11:07:48 virtual WebcamErrorCode
> WebcamDriver::setPalette(pixosi): this webcam does not support palette #0
> (debug) 11:07:48 virtual WebcamErrorCode
> WebcamDriver::setPalette(pixosi): palette conversion will be forced
>
> I thought the driver/webcam supports only MJPEG and YUYV.

All the UVC webcams I know about support MJPEG and YUYV only. Wengophone might 
have a low-level MJPEG/YUV to RGB565 filter somewhere that makes the 
application think the webcam streams RGB565 data. In any case, you shouldn't 
worry about it.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Aug 30 23:40:28 2007
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 30 Aug 2007 23:40:28 +0200
Subject: [Linux-uvc-devel] [SVN] Focus support
Message-ID: <200708302340.28895.laurent.pinchart@skynet.be>

Hi everybody.

For those of you who own a Logitech Quickcam Pro for Notebook (2007 edition), 
a Quickcam Pro 9000 or a Creative Live! Cam Optia AF, the driver now support 
manual focus.

The Creative webcam supports auto-focus as well. For the Logitech webcams, 
don't hold your breath: AF is implemented in software in the Windows driver, 
and that's out of scope for the Linux driver. Experimenting with a software 
AF algorithm in userspace would be a nice project if one of you has some 
image processing background :-)

Best regards,

Laurent Pinchart


From alex at seewald.at  Fri Aug 31 13:35:36 2007
From: alex at seewald.at (Dr. techn. Alexander K. Seewald)
Date: Fri, 31 Aug 2007 13:35:36 +0200
Subject: [Linux-uvc-devel] [SVN] Focus support
Message-ID: <20070831113536.GA10759@sdg.at>

>For those of you who own a Logitech Quickcam Pro for Notebook (2007 edition),
>a Quickcam Pro 9000 or a Creative Live! Cam Optia AF, the driver now support
>manual focus.
Just tested it on the Logitech Quickcam Pro 9000 and it works like a charm.
I patched luvcview and put the absolute focus control where gamma was
(as my camera does not support this). Focus is retained while the camera
is plugged in, but gets lost once it is plugged off (as we already know)

Excellent work, Laurent. I'll look into software AF as soon as I
have the time. I am aiming for something better than in Windows,
where autofocus seems to be painfully slow (~ 4 seconds from one end
to the other)

Best,
  Alex
-- 
Dr. Alexander K. Seewald         +43(664)1106886
              Seewald Solutions                 
------------------------------------------------
         Information wants to be free;
Information also wants to be expensive (S.Brant)
--------------- alex.seewald.at ----------------


