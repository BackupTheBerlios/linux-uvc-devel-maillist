<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] cropcap ioctl is returning wrong info
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-September/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20cropcap%20ioctl%20is%20returning%20wrong%20info&In-Reply-To=%3Cop.tfinafv8sttmjo%40maya%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000763.html">
   <LINK REL="Next"  HREF="000766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] cropcap ioctl is returning wrong info</H1>
    <B>Martin Rubli</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20cropcap%20ioctl%20is%20returning%20wrong%20info&In-Reply-To=%3Cop.tfinafv8sttmjo%40maya%3E"
       TITLE="[Linux-uvc-devel] cropcap ioctl is returning wrong info">martin_rubli at logitech.com
       </A><BR>
    <I>Thu Sep  7 18:12:05 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000763.html">[Linux-uvc-devel] cropcap ioctl is returning wrong info
</A></li>
        <LI>Next message: <A HREF="000766.html">[Linux-uvc-devel] cropcap ioctl is returning wrong info
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#764">[ date ]</a>
              <a href="thread.html#764">[ thread ]</a>
              <a href="subject.html#764">[ subject ]</a>
              <a href="author.html#764">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The UVC driver returns the size of the currently set format. So if you do  
a S_FMT with 640x480 first, CROPCAP should indeed return 640x480.

The problem with CROPCAP is that for the most part it doesn't apply to  
digital devices. For a while, the call wasn't supported at all but it  
seems that it is mandatory, so we just tried to return _something_ that  
makes sense. If you have any suggestions as to the interpretation of the  
V4L2 spec, I'd be happy to hear your view.

What are you trying to do in this particular case?

Cheers,
Martin


On Thu, 07 Sep 2006 05:07:36 -0700, Parag N(&#2346;&#2352;&#2366;&#2394;) &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">panemade at gmail.com</A>&gt;  
wrote:

&gt;<i> Hi,
</I>&gt;<i>    here is code i used to print width and height from Logitech
</I>&gt;<i> Quickcam Pro 5000.
</I>&gt;<i>
</I>&gt;<i>       memset(&amp;ccap, 0, sizeof(ccap));
</I>&gt;<i>          ccap.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
</I>&gt;<i>
</I>&gt;<i>         res = ioctl(fd,  VIDIOC_CROPCAP, &amp;ccap);
</I>&gt;<i>         if (res&lt;0) {
</I>&gt;<i>                 perror(&quot;VIDIOC_CROPCAP&quot;);
</I>&gt;<i>         }
</I>&gt;<i>         else
</I>&gt;<i>         {
</I>&gt;<i>          printf(&quot;       Width=%d\n&quot;,ccap.bounds.width);
</I>&gt;<i>          printf(&quot;       Height=%d\n&quot;,ccap.bounds.height);
</I>&gt;<i>         }
</I>&gt;<i>
</I>&gt;<i> and this code returned me
</I>&gt;<i>  Width=160
</I>&gt;<i>  Height=120
</I>&gt;<i>
</I>&gt;<i> why it failed to return 640 x 480 ? I have not used v4l2_enumfrmfmt.h .
</I>&gt;<i> Regards,
</I>&gt;<i> Parag.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Linux-uvc-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000763.html">[Linux-uvc-devel] cropcap ioctl is returning wrong info
</A></li>
	<LI>Next message: <A HREF="000766.html">[Linux-uvc-devel] cropcap ioctl is returning wrong info
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#764">[ date ]</a>
              <a href="thread.html#764">[ thread ]</a>
              <a href="subject.html#764">[ subject ]</a>
              <a href="author.html#764">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
