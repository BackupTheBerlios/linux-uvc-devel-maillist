<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] libv4l2 error with 045e:00f8 cameras
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20libv4l2%20error%20with%20045e%3A00f8%20cameras&In-Reply-To=%3C4EBD6A7D.3060508%40fisher-privat.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007051.html">
   <LINK REL="Next"  HREF="007053.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] libv4l2 error with 045e:00f8 cameras</H1>
    <B>Alexey Fisher</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20libv4l2%20error%20with%20045e%3A00f8%20cameras&In-Reply-To=%3C4EBD6A7D.3060508%40fisher-privat.net%3E"
       TITLE="[Linux-uvc-devel] libv4l2 error with 045e:00f8 cameras">bug-track at fisher-privat.net
       </A><BR>
    <I>Fri Nov 11 19:33:33 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007051.html">[Linux-uvc-devel] libv4l2 error with 045e:00f8 cameras
</A></li>
        <LI>Next message: <A HREF="007053.html">[Linux-uvc-devel] libv4l2 error with 045e:00f8 cameras
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7052">[ date ]</a>
              <a href="thread.html#7052">[ thread ]</a>
              <a href="subject.html#7052">[ subject ]</a>
              <a href="author.html#7052">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Do your webcam has build in mic? Do you use this mic with skype?
If yes. Can you please do fallowing test. Start your webcam with 
luvcview or guvcview and start the attached script.

edid the script and replace device name to yours. my is
alsa_input.usb-046d_0991_9671DCEE-02-U0x46d0x991.analog-mono

you can find proper name with this command:
pacmd list | grep alsa_input

with this script we can try to reproduce skype behavior.

Am 11.11.2011 18:26, schrieb Edwin Aponte:
&gt;<i> Finally, I could do the network test in the school.
</I>&gt;<i>
</I>&gt;<i> When the computer freezes completely some time after having loaded skype
</I>&gt;<i> using:
</I>&gt;&gt;<i> env LD_PRELOAD=/usr/lib/libv4l/v4l1compat.so skype\
</I>&gt;<i>
</I>&gt;<i> and been using the web-cam in skype, I cannot ssh it neither ping it.
</I>&gt;<i>
</I>&gt;<i> Also, the camera works well with luvcview (I used luvcview to get the
</I>&gt;<i> frames that I attached in my first post)
</I>&gt;<i>
</I>&gt;<i> Regards.
</I>&gt;<i>
</I>&gt;<i> On Wed, 2011-11-02 at 17:49 +0100, Laurent Pinchart wrote:
</I>&gt;&gt;<i> Hi Edwin,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Saturday 22 October 2011 00:36:14 Edwin Aponte wrote:
</I>&gt;&gt;&gt;<i> libv4l2 is giving having problems with a Microsoft LifeCam NX-6000
</I>&gt;&gt;&gt;<i> webcam (045e:00f8). I have to run skype as below to get the webcam
</I>&gt;&gt;&gt;<i> working well for a moment, though an error is generated, until the
</I>&gt;&gt;&gt;<i> system freezes completely after some minutes and even SysRq doesn't
</I>&gt;&gt;&gt;<i> work.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Those two problems are likely unrelated, and the second one is pretty bad. Is
</I>&gt;&gt;<i> your machine connected to a network ? Can you still ping it after it freezes ?
</I>&gt;&gt;<i> What about ssh ?
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> env LD_PRELOAD=/usr/lib/libv4l/v4l1compat.so skype
</I>&gt;&gt;&gt;<i> libv4l2: error converting / decoding frame data: v4l-convert: error
</I>&gt;&gt;&gt;<i> parsing
</I>&gt;&gt;&gt;<i> JPEG header: Not a JPG file ?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Your camera seems to produce bad MJPEG frames. From the log you've attached it
</I>&gt;&gt;<i> seems that the first frame is bigger than the next ones. This might be
</I>&gt;&gt;<i> related. Could you try luvcview, which doesn't use libv4l ?
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Sometimes, I get the same error with the program webcam:
</I>&gt;&gt;&gt;<i> --------------------------
</I>&gt;&gt;&gt;<i> ~&gt;  webcam
</I>&gt;&gt;&gt;<i> reading config file: /home/edwinh/.webcamrc
</I>&gt;&gt;&gt;<i> video4linux webcam v1.5 - (c) 1998-2002 Gerd Knorr
</I>&gt;&gt;&gt;<i> grabber config:
</I>&gt;&gt;&gt;<i>    size 320x240 [none]
</I>&gt;&gt;&gt;<i>    input (null), norm (null), jpeg quality 75
</I>&gt;&gt;&gt;<i>    rotate=0, top=0, left=0, bottom=240, right=320
</I>&gt;&gt;&gt;<i> libv4l2: error converting / decoding frame data: v4l-convert: error
</I>&gt;&gt;&gt;<i> parsing
</I>&gt;&gt;&gt;<i> JPEG header: Not a JPG file ?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> v4l2: read: Input/output error
</I>&gt;&gt;&gt;<i> capturing image failed
</I>&gt;&gt;&gt;<i> -------------------------
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> and some times this other error:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -------------------------
</I>&gt;&gt;&gt;<i> ~&gt;  webcam
</I>&gt;&gt;&gt;<i> reading config file: /home/edwinh/.webcamrc
</I>&gt;&gt;&gt;<i> video4linux webcam v1.5 - (c) 1998-2002 Gerd Knorr
</I>&gt;&gt;&gt;<i> grabber config:
</I>&gt;&gt;&gt;<i>    size 320x240 [none]
</I>&gt;&gt;&gt;<i>    input (null), norm (null), jpeg quality 75
</I>&gt;&gt;&gt;<i>    rotate=0, top=0, left=0, bottom=240, right=320
</I>&gt;&gt;&gt;<i> libv4lconvert: Error decompressing JPEG: fill_nbits error: need 1 more
</I>&gt;&gt;&gt;<i> bits
</I>&gt;&gt;&gt;<i> -------------------------
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have attached some information based on this thread
</I>&gt;&gt;&gt;<i> <A HREF="../2008-November/004265.html">http://lists.berlios.de/pipermail/linux-uvc-devel/2008-November/004265.html</A>
</I>&gt;&gt;&gt;<i> that seems to be a similar case of my problem.
</I>&gt;&gt;&gt;<i> I set the trace level to 255:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> # echo 255&gt;  /sys/module/uvcvideo/parameters/trace
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> and I record a frame using:
</I>&gt;&gt;&gt;<i> ~&gt;  luvcview -f mjpg -c
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> and after that I saved the output of dmesg.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Linux-uvc-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: audio_vol
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20111111/266107c5/attachment.ksh">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20111111/266107c5/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007051.html">[Linux-uvc-devel] libv4l2 error with 045e:00f8 cameras
</A></li>
	<LI>Next message: <A HREF="007053.html">[Linux-uvc-devel] libv4l2 error with 045e:00f8 cameras
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7052">[ date ]</a>
              <a href="thread.html#7052">[ thread ]</a>
              <a href="subject.html#7052">[ subject ]</a>
              <a href="author.html#7052">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
