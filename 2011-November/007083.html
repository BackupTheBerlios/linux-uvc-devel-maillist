<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Sweex WC061 HD Webcam Sliver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Sweex%20WC061%20HD%20Webcam%20Sliver&In-Reply-To=%3C201111231439.32954.laurent.pinchart%40ideasonboard.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007064.html">
   <LINK REL="Next"  HREF="007084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Sweex WC061 HD Webcam Sliver</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Sweex%20WC061%20HD%20Webcam%20Sliver&In-Reply-To=%3C201111231439.32954.laurent.pinchart%40ideasonboard.com%3E"
       TITLE="[Linux-uvc-devel] Sweex WC061 HD Webcam Sliver">laurent.pinchart at ideasonboard.com
       </A><BR>
    <I>Wed Nov 23 14:39:32 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007064.html">[Linux-uvc-devel] Sweex WC061 HD Webcam Sliver
</A></li>
        <LI>Next message: <A HREF="007084.html">[Linux-uvc-devel] Sweex WC061 HD Webcam Sliver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7083">[ date ]</a>
              <a href="thread.html#7083">[ thread ]</a>
              <a href="subject.html#7083">[ subject ]</a>
              <a href="author.html#7083">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alexey,

On Thursday 17 November 2011 08:39:30 Alexey Fisher wrote:
&gt;<i> Am 14.11.2011 20:20, schrieb Michael Tandy:
</I>&gt;<i> &gt; I did some more experiments with this webcam, and with a nasty hack
</I>&gt;<i> &gt; got it working.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Basically the problem seems to be the frame interval requested. If I
</I>&gt;<i> &gt; replace line 175 of uvc_v4l2.c [1] with
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; probe-&gt;dwFrameInterval = 2500000;
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; the camera works fine in mjpeg mode.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; The frame interval behaves oddly in this camera, in that if you set
</I>&gt;<i> &gt; the frame interval above a certain threshold the camera seems to
</I>&gt;<i> &gt; ignore it and send frames at whatever rate it feels like, but if you
</I>&gt;<i> &gt; set it below a certain threshold the camera exhibits the bug I've
</I>&gt;<i> &gt; described above, sending back corrupted frames and error codes. Most
</I>&gt;<i> &gt; likely a firmware bug, as I can't imagine anyone would design a camera
</I>&gt;<i> &gt; to function that way.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I assume we wouldn't be inclined to patch the kernel to deal with this
</I>&gt;<i> &gt; one camera's weird behaviour?
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; [1]
</I>&gt;<i> &gt; <A HREF="http://lxr.free-electrons.com/source/drivers/media/video/uvc/uvc_v4l2.c?">http://lxr.free-electrons.com/source/drivers/media/video/uvc/uvc_v4l2.c?</A>
</I>&gt;<i> &gt; v=2.6.28#L175
</I>&gt;<i> 
</I>&gt;<i> Hi Laurent,
</I>&gt;<i> i still think that checking the reason of error bit, make sense.
</I>&gt;<i> In this case we check the reason of error bit. If we get permanent
</I>&gt;<i> buffer underrun or overrun, we should switch to different framerate. Or
</I>&gt;<i> notify user to do that.
</I>
I could make sense, but I think there are more pressing issues than that :-) 
Automatically lowering the frame rate when we detect that the device is buggy 
is really icing on the cake (and I'm not even sure whether devices will 
correctly report the error causes...).

&gt;<i> And probably add the &quot;error bit handler&quot; to the uvc status list on your
</I>&gt;<i> page :)
</I>
The goal is to shorten the list, not make it longer ;-)

-- 
Regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007064.html">[Linux-uvc-devel] Sweex WC061 HD Webcam Sliver
</A></li>
	<LI>Next message: <A HREF="007084.html">[Linux-uvc-devel] Sweex WC061 HD Webcam Sliver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7083">[ date ]</a>
              <a href="thread.html#7083">[ thread ]</a>
              <a href="subject.html#7083">[ subject ]</a>
              <a href="author.html#7083">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
