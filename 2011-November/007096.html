<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Philips SPZ2000/00
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Philips%20SPZ2000/00&In-Reply-To=%3C4ED36199.1090906%40fisher-privat.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007094.html">
   <LINK REL="Next"  HREF="007097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Philips SPZ2000/00</H1>
    <B>Alexey Fisher</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Philips%20SPZ2000/00&In-Reply-To=%3C4ED36199.1090906%40fisher-privat.net%3E"
       TITLE="[Linux-uvc-devel] Philips SPZ2000/00">bug-track at fisher-privat.net
       </A><BR>
    <I>Mon Nov 28 11:25:29 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007094.html">[Linux-uvc-devel] Philips SPZ2000/00
</A></li>
        <LI>Next message: <A HREF="007097.html">[Linux-uvc-devel] Philips SPZ2000/00
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7096">[ date ]</a>
              <a href="thread.html#7096">[ thread ]</a>
              <a href="subject.html#7096">[ subject ]</a>
              <a href="author.html#7096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Am 27.11.2011 19:08, schrieb Michele:
&gt;<i> Il giorno 25/11/2011 alle ore 12:00, Alexey Fisher  ha scritto:
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> Thank for you patience.
</I>&gt;<i> 
</I>&gt;&gt;<i> please use luvcview or guvcview for testing. If you need root,
</I>&gt;&gt;<i> then you should check you permission rights on /dev/video* or
</I>&gt;&gt;<i> /dev/dri/card* .
</I>&gt;<i> 
</I>&gt;<i> I think root was a red herring due different setups of the
</I>&gt;<i> environment.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;&gt;<i> Do the cam work stable if change  video parameters on windows.
</I>&gt;&gt;<i> Did you installed phillips driver on windows?
</I>&gt;<i> 
</I>&gt;<i> This is the driver used as a driver for the webcam. in the webcam
</I>&gt;<i> box thre's no installation CD anyway.
</I>&gt;<i> 
</I>&gt;<i> Driver Name 	usbvideo.sys Address 	0x95C13000 End Address
</I>&gt;<i> 0x95C37000 Size 	0x00024000 Load Count 	1 Index 	136 File Type
</I>&gt;<i> Driver Description 	USB Video Class Driver Version 	6.1.7601.17514
</I>&gt;<i> (win7sp1_rtm.101119-1850) Company 	Microsoft Corporation Product
</I>&gt;<i> Name 	Microsoft&#174; Windows&#174; Operating System Modified Date
</I>&gt;<i> 20/11/2010 22:29:03 Created Date 	20/11/2010 22:29:03 Filename
</I>&gt;<i> C:\Windows\System32\Drivers\usbvideo.sys File Attributes 	A Service
</I>&gt;<i> Name 	usbvideo Service Display Name 	Dispositivo video USB (WDM)
</I>&gt;<i> 
</I>&gt;<i> seems to me that is the stock USB driver of Seven. I've had non
</I>&gt;<i> problems with MSN live, Skype or even DScaler (that sees the cam as
</I>&gt;<i> Direct show).
</I>&gt;<i> 
</I>&gt;<i> I've made some experiments using guvcview.
</I>&gt;<i> 
</I>&gt;<i> I've asked to use a resolution of 172x144, then a resolution of
</I>&gt;<i> 320x240 then again 172x144.
</I>&gt;<i> 
</I>&gt;<i> The first time i can see the image correctly. The second time the
</I>&gt;<i> program fails with a device or resource busy message The third time
</I>&gt;<i> with the same resolution it fails with the same error
</I>&gt;<i> 
</I>&gt;<i> To make  guvcview work again, I've to disconnect and reconnect the
</I>&gt;<i> webcam from the usb bus. This behaviour is reproducible as normal
</I>&gt;<i> use or root.
</I>&gt;<i> 
</I>&gt;<i> Attached to this messages there is a log of the kernel messages and
</I>&gt;<i> the console output of guvcview.
</I>&gt;<i> 
</I>&gt;<i> I hope these data could pinpoint the area where the problem could
</I>&gt;<i> lie and also warn the potential buyers of the cam of the possible
</I>&gt;<i> problems with this Philips branded webcam.
</I>&gt;<i> 
</I>&gt;<i> Best Regards.
</I>&gt;<i> 
</I>&gt;<i> Mike
</I>
hmm...
you used mjpeg compressed stream for testing. how i said before, skype
on linux use only yuv-raw stream.
With the debug message you send i can see following
jpeg <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">172x144 at 30fps</A> set 512 B/frame
jpeg <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">320x240 at 30fps</A> set 768 B/frame - in this case we get error
 -28 ENOSPC No space left on device.

The bandwidth provided by this cam seems to be really wrong. My
logitech set for bot jpeg <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">172x144 at 30fps</A> and <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">320x240 at 30fps</A> 192 B/frame.

How about raw? do it request wrong bandwidth for raw to?
Currently i do not know how to handle the freeze issue.
So here is the list of problems by this cam:
- - it is not USB 2.0, this is why we can request bigger resolution
- - it cant handle resolution switch on the fly, and in case of URB
error, we need to hard reset it.
If we will try to reset the cam with uvcvideo we will kill audio
stream (for cam with build in mic). This will make other people angry
and add unexpected bug.
- - it provide wrong bandwidth info.

I still ask my self, how windows handle this? or is there some
undocumented agreement between factories and microsoft?
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org/">http://enigmail.mozdev.org/</A>

iEYEARECAAYFAk7TYZQACgkQw8E0jNwoJm9XUgCgiwNK2VFdvfEJwxV/1fdTsCya
3BwAn2KwsLEhAiROhOmzPXs6I85lot7q
=BhM4
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007094.html">[Linux-uvc-devel] Philips SPZ2000/00
</A></li>
	<LI>Next message: <A HREF="007097.html">[Linux-uvc-devel] Philips SPZ2000/00
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7096">[ date ]</a>
              <a href="thread.html#7096">[ thread ]</a>
              <a href="subject.html#7096">[ subject ]</a>
              <a href="author.html#7096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
