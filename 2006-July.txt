From pod_das_del at yahoo.co.jp  Sat Jul  1 10:56:32 2006
From: pod_das_del at yahoo.co.jp (=?iso-2022-jp?B?bG92ZQ==?=)
Date: Sat, 1 Jul 2006 10:56:32 +0200
Subject: [Linux-uvc-devel] =?iso-2022-jp?B?IBskQjxMJWEkRxsoQiA=?=
Message-ID: <200607010856.k618uVe30514@bat.berlios.de>

????????????????????
???????????????????????????????????????????????????

???????????????8000???????????????????????????????????????????????????????????????
?????????????

?????????????????
            http://udzk.com/index.php?num=565



?????????????????????????????????????????????????????????????????????????????????????










???????????????????????????
cancle at rhxw.com




From ralph at mueller-welt.net  Tue Jul  4 01:58:00 2006
From: ralph at mueller-welt.net (Ralph =?iso-8859-1?q?M=FCller-Welt?=)
Date: Tue, 4 Jul 2006 01:58:00 +0200
Subject: [Linux-uvc-devel] Q: v4l2-Apps? etc.
Message-ID: <200607040158.00544.ralph@mueller-welt.net>

Hi Laurent, Hi All,

first, thanks for the uvcvideo i got my new Logitech QuickCam Sphere to work 
with luvcview.

Now, the Progs i really wanna use with the cam are camsource, motion and 
kopete. But i have problems with them.

But lets start at the begining.
Some infos:
:~> lsusb | grep Logitech
Bus 005 Device 002: ID 046d:08c2 Logitech, Inc.

:~> lsmod | grep uvcvideo
uvcvideo               48260  0
v4l2_common            26112  4 uvcvideo,tuner,saa7134,compat_ioctl32
v4l1_compat            28036  2 uvcvideo,saa7134
videodev               28160  3 uvcvideo,saa7134
usbcore               150312  6 
snd_usb_audio,snd_usb_lib,uvcvideo,ehci_hcd,uhci_hcd
I want this to be /dev/video1 so my /etc/modprobe.conf.local has
alias /dev/video1 uvcvideo

:~> cat /sys/module/uvcvideo/parameters/trace
64

# lspci | grep SAA7134
00:0d.0 Multimedia controller: Philips Semiconductors SAA7134 Video Broadcast 
Decoder (rev 01)
I want this to be /dev/video0 and /dev/vbi0 so my options 
in /etc/modprobe.d/tv are options saa7134 vbi_nr=0 video_nr=0

But the video0, video1 addressing seems not to work. Its still random 
addressing at boot time.

now some logging:
:~> luvcview -d /dev/video1 -w
uvcview verion 0.1.4
Video driver: x11
A window manager is available
video /dev/video1
ioctl querycontrol error 22
reset Hue error
ioctl querycontrol error 5
reset Gain error

Stop asked
 Clean Up done Quit
These errors occured while pressing "Reset all to Default".

# tail -f /var/log/messages
Jul  4 01:06:36 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCAP, dir=r- 
(0x80685600)
Jul  4 01:06:36 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:06:36 RalphiX kernel: v4l2 ioctl VIDIOC_REQBUFS, dir=rw (0xc0145608)
Jul  4 01:06:36 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYBUF, dir=rw 
(0xc0585609)
Jul  4 01:06:36 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:37 RalphiX kernel: v4l2 ioctl VIDIOC_STREAMON, dir=-w 
(0x40045612)
Jul  4 01:06:37 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:37 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
[...]
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
[...]
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
[...]
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:39 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 4 
(unit 2) : -110.
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:39 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:40 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 4 
(unit 2) : -75.
Jul  4 01:06:40 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 4 
(unit 2) : -32.
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc058560f)
Jul  4 01:06:40 RalphiX kernel: v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0585611)
[...]
Jul  4 01:06:42 RalphiX kernel: v4l2 ioctl VIDIOC_STREAMOFF, dir=-w 
(0x40045613)

Now to camsource (http://camsource.sourceforge.net/)
As they say under requirements that v4l2 devices are supported, i didnt expect 
problems. But i cant get it to work.
Camsource config
<camdev name="default" active="yes">
  <plugin>input_v4l</plugin> <!-- No input_v4l2 available!?! -->
  <path>/dev/video1</path>
</camdev>
Tested with the filewrite module.

:~> camsource
Camsource 0.7.0 starting up...
Loading modules:
  input_v4l (alias input_v4l) version 0.7.0 OK
  jpeg_comp (alias jpeg_comp) version 0.7.0 OK
  filewrite (alias filewrite) version 0.7.0 OK
Main init done and logfile opened.
Closing stdout and going into background...
:~> camsource -k
1 matching process(es)/thread(s) killed
and .camsource.log contained only
Camsource 0.7.0 ready to grab images for device 'default'...
Not using mmap interface, falling back to read() (/dev/video1)
Error while reading from device '/dev/video1': No such device
Device 'default' returned no image
[...]

And in /var/log/messages
Jul  4 01:44:22 RalphiX kernel: v4l1 ioctl VIDIOCGCAP, dir=r- (0x803c7601)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCAP, dir=r- 
(0x80685600)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw 
(0xc050561a)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw 
(0xc050561a)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_ENUM_FMT, dir=rw 
(0xc0405602)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_TRY_FMT, dir=rw (0xc0d05640)
Jul  4 01:44:22 RalphiX kernel: v4l1 ioctl VIDIOCSWIN, dir=-w (0x4028760a)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_STREAMOFF, dir=-w 
(0x40045613)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:44:22 RalphiX kernel: v4l1 ioctl VIDIOCGWIN, dir=r- (0x80287609)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:22 RalphiX kernel: v4l1 ioctl VIDIOCSWIN, dir=-w (0x4028760a)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_STREAMOFF, dir=-w 
(0x40045613)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:44:22 RalphiX kernel: v4l1 ioctl VIDIOCGPICT, dir=r- (0x800e7606)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:22 RalphiX kernel: v4l1 ioctl VIDIOCSPICT, dir=-w (0x400e7607)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:22 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_G_FBUF, dir=r- (0x8030560a)
Jul  4 01:44:23 RalphiX kernel: uvcvideo: Unknown ioctl 0x8030560a
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_S_FBUF, dir=-w (0x4030560b)
Jul  4 01:44:23 RalphiX kernel: uvcvideo: Unknown ioctl 0x4030560b
Jul  4 01:44:23 RalphiX kernel: v4l1 ioctl VIDIOCGPICT, dir=r- (0x800e7606)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110.
Jul  4 01:44:23 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75.
Jul  4 01:44:23 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32.
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 9 
(unit 2) : -32.
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:23 RalphiX kernel: v4l1 ioctl VIDIOCSPICT, dir=-w (0x400e7607)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:23 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_G_FBUF, dir=r- (0x8030560a)
Jul  4 01:44:24 RalphiX kernel: uvcvideo: Unknown ioctl 0x8030560a
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_S_FBUF, dir=-w (0x4030560b)
Jul  4 01:44:24 RalphiX kernel: uvcvideo: Unknown ioctl 0x4030560b
Jul  4 01:44:24 RalphiX kernel: v4l1 ioctl VIDIOCGPICT, dir=r- (0x800e7606)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110.
Jul  4 01:44:24 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75.
Jul  4 01:44:24 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32.
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:24 RalphiX kernel: v4l1 ioctl VIDIOCSPICT, dir=-w (0x400e7607)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:24 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_G_FBUF, dir=r- (0x8030560a)
Jul  4 01:44:25 RalphiX kernel: uvcvideo: Unknown ioctl 0x8030560a
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_S_FBUF, dir=-w (0x4030560b)
Jul  4 01:44:25 RalphiX kernel: uvcvideo: Unknown ioctl 0x4030560b
Jul  4 01:44:25 RalphiX kernel: v4l1 ioctl VIDIOCGPICT, dir=r- (0x800e7606)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110.
Jul  4 01:44:25 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75.
Jul  4 01:44:25 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32.
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:25 RalphiX kernel: v4l1 ioctl VIDIOCSPICT, dir=-w (0x400e7607)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:25 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_G_FBUF, dir=r- (0x8030560a)
Jul  4 01:44:26 RalphiX kernel: uvcvideo: Unknown ioctl 0x8030560a
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_S_FBUF, dir=-w (0x4030560b)
Jul  4 01:44:26 RalphiX kernel: uvcvideo: Unknown ioctl 0x4030560b
Jul  4 01:44:26 RalphiX kernel: v4l1 ioctl VIDIOCGPICT, dir=r- (0x800e7606)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110.
Jul  4 01:44:26 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75.
Jul  4 01:44:26 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32.
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 3 
(unit 2) : -32.
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:26 RalphiX kernel: v4l1 ioctl VIDIOCSPICT, dir=-w (0x400e7607)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
Jul  4 01:44:26 RalphiX kernel: uvcvideo: Failed to query (1) UVC control 7 
(unit 2) : -32.
Jul  4 01:44:26 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:26 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 9 
(unit 2) : -32.
Jul  4 01:44:27 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 9 
(unit 2) : -110.
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0d05605)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_G_FBUF, dir=r- (0x8030560a)
Jul  4 01:44:27 RalphiX kernel: uvcvideo: Unknown ioctl 0x8030560a
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_S_FBUF, dir=-w (0x4030560b)
Jul  4 01:44:27 RalphiX kernel: uvcvideo: Unknown ioctl 0x4030560b
Jul  4 01:44:27 RalphiX kernel: v4l1 ioctl VIDIOCGPICT, dir=r- (0x800e7606)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:27 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 7 
(unit 2) : -32.
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw 
(0xc0445624)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
Jul  4 01:44:27 RalphiX kernel: v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0d05604)
Jul  4 01:44:27 RalphiX kernel: v4l1 ioctl VIDIOCGMBUF, dir=r- (0x80887614)
Jul  4 01:44:27 RalphiX kernel: uvcvideo: Unknown ioctl 0x80887614

And before i forgett the uname
Linux 2.6.16.13-4-smp #1 SMP Wed May 3 04:53:23 UTC 2006 x86_64 x86_64 x86_64 
GNU/Linux
A SuSE Linux 10.1 box.

Hope thats not too much but enough. :-)
Why is video0, video1 mixed random on each start?
And how can camsource work with the cam?

Best regard and a big thank you for the driver,
Ralph.


From tante at emptiness.de  Tue Jul  4 13:42:42 2006
From: tante at emptiness.de (=?ISO-8859-1?Q?J=FCrgen_Geuter?=)
Date: Tue, 04 Jul 2006 13:42:42 +0200
Subject: [Linux-uvc-devel] Q: v4l2-Apps? etc.
In-Reply-To: <200607040158.00544.ralph@mueller-welt.net>
References: <200607040158.00544.ralph@mueller-welt.net>
Message-ID: <44AA5432.6050303@emptiness.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Ralph M?ller-Welt wrote:


> Hope thats not too much but enough. :-)
> Why is video0, video1 mixed random on each start?

To fix that you coud write UDEV rules (I guess you distro uses UDEV).
I have a tvcard and a USB webcam, too, so I use the following UDEV rules
to create links

File: /etc/udev/rules.d/00-tvcard.rules
SYSFS{vendor}=="0x1131", SYSFS{device}=="0x7134", KERNEL=="video*",
SYMLINK="tvcard"

creates a symlink to the right videoX device called /dev/tvcard

File: /etc/udev/rules.d/10-webcam.rules
BUS=="usb", SYSFS{idVendor}=="046d", SYSFS{idProduct}=="08c5",
SYMLINK="webcam"

creates a symlink to the v4l device node for the webcam I use called
/dev/webcam

The options you can set (for example the SYSFS{vendor} SYSFS{device})
can be found by using:

"udevinfo -a -p /sys/class/video4linux/videoX" (replace the X with the
number of every v4l device you have)

Another helpful howto for udev rules can be found at
<http://reactivated.net/writing_udev_rules.html>. It explains it in more
detail.

To the camsource problem:
I treied using that program once, too, but I think it's v4l2 support is
broken.

Hope that helps and have a nice day

J?rgen
- --
ICQ #81510866 - http://the-gay-bar.com - MSN thanatos at gambit.ath.cx
"Governments can be useful to the governed only so long as inherent
tendencies toward tyranny are restrained."
Frank Herbert, 'God Emperor Of Dune'
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFEqlQxrAehKXTNZasRApzqAJ9m/c4VYSrcs1Ywz6c+VJQEpRxYcACfWEiH
7ycMQlQEr1l1yMHMe/wtGr4=
=MJSj
-----END PGP SIGNATURE-----


From laurent.pinchart at skynet.be  Tue Jul  4 22:11:48 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 4 Jul 2006 22:11:48 +0200
Subject: [Linux-uvc-devel] Capture from UVC with MPlayer
In-Reply-To: <1151601811.17381.77.camel@localhost.localnet>
References: <1151569713.17381.19.camel@localhost.localnet> <op.tbw03gensttmjo@maya> <1151601811.17381.77.camel@localhost.localnet>
Message-ID: <200607042211.49308.laurent.pinchart@skynet.be>

> > Can you try to set the 'trace' parameter to a higher value (i.e. by
> > setting /sys/module/uvcvideo/parameters/trace to 64; see the source for
> > how the bitmask works) and see if any messages about unsupported ioctls
> > turn up?
>
> I've set the trace parameter:
> # echo 64 > /sys/module/uvcvideo/parameters/trace
>
> Then I ran MPlayer and checked dmesg, which was only two repeating
> lines:
>
> v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
> v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0445611)
> v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
> v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0445611)
> v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
> v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0445611)
> v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)

The interesting part was before that, but got flushed from the kernel log 
because of the repeating QBUF/DQBUF messages.

Anyway the problem with the v4l2 input module is that it doesn't set the 
v4l2_buffer.memory field before calling VIDIOC_QBUF and VIDIOC_DQBUF 
(libmpdemux/tvi_v4l2.c, lines 881, 1401, 1425 and 1519).

That would only take a few minutes to fix. Could you submit the request to 
Martin Olschewski ?

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Jul  4 22:28:10 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 4 Jul 2006 22:28:10 +0200
Subject: [Linux-uvc-devel] Q: v4l2-Apps? etc.
In-Reply-To: <200607040158.00544.ralph@mueller-welt.net>
References: <200607040158.00544.ralph@mueller-welt.net>
Message-ID: <200607042228.11035.laurent.pinchart@skynet.be>

Hi Ralph,

> first, thanks for the uvcvideo i got my new Logitech QuickCam Sphere to
> work with luvcview.

You're welcome. Getting positive feedback from happy users keeps me 
motivated :-)

> Now, the Progs i really wanna use with the cam are camsource, motion and
> kopete. But i have problems with them.
>
> But lets start at the begining.
>
> Some infos:
[snip]

> But the video0, video1 addressing seems not to work. Its still random
> addressing at boot time.

As J?rgen mentionned, you should use UDEV rules to make sure the device names 
are consistent between reboots. Otherwise the first device to be successfully 
detected and associated with a driver will get /dev/video0, and the second 
one /dev/video1.

[snip]

> Now to camsource (http://camsource.sourceforge.net/)
> As they say under requirements that v4l2 devices are supported, i didnt
> expect problems. But i cant get it to work.

Unfortunately, the webpage is misleading. camsource doesn't support v4l2 
devices. v4l1 is now deprecated, and I don't intend to support it in 
uvcvideo, sorry.

[snip]

> Hope thats not too much but enough. :-)

> Why is video0, video1 mixed random on each start?

See my comment above.

> And how can camsource work with the cam?

Unless you can find someone to add v4l2 support to camsource, that won't be 
possible. Sorry for the bad news :-(

Motion is unfortunately a v4l1-only application as well :-(

Regarding Kopete, webcam support is still highly experimental. Lots of 
features are missing (MJPEG support for instance), and I don't know what the 
Kopete developer's plans are regarding those problems. Have you tried asking 
them ?

> Best regard and a big thank you for the driver,

Thanks. Sorry not to be able to help you.

Best regards,

Laurent Pinchart


From brent.pinkney at aircom.co.za  Tue Jul  4 22:55:58 2006
From: brent.pinkney at aircom.co.za (Brent Pinkney)
Date: Tue, 4 Jul 2006 22:55:58 +0200
Subject: [Linux-uvc-devel] Q: v4l2-Apps? etc.
In-Reply-To: <200607042228.11035.laurent.pinchart@skynet.be>
References: <200607040158.00544.ralph@mueller-welt.net> <200607042228.11035.laurent.pinchart@skynet.be>
Message-ID: <200607042255.58558.brent.pinkney@aircom.co.za>

> Motion is unfortunately a v4l1-only application as well :-(

There is a patch for motion which adds v4l2: just get the latest source from svn and the patch from the Motion website.

Brent


From m.blizinski at wit.edu.pl  Wed Jul  5 11:32:50 2006
From: m.blizinski at wit.edu.pl (Maciej =?iso-8859-2?Q?Blizi=F1ski?=)
Date: Wed, 05 Jul 2006 11:32:50 +0200
Subject: [Linux-uvc-devel] Capture from UVC with MPlayer
In-Reply-To: <20060629175500.78533.qmail@web84109.mail.dcn.yahoo.com>
References: <20060629175500.78533.qmail@web84109.mail.dcn.yahoo.com>
Message-ID: <1152091970.9127.7.camel@localhost.localnet>

On Thu, 2006-06-29 at 10:55 -0700, Arek Jankowski wrote:
> Hej Maciej, I was able to run mplayer using one of the older driver
> versions but I had to patch the driver using the "tuner.patch" and
> "noformatcheck.patch" patches found elsewhere on the list. Not sure if
> this is still the case with the newest driver.

Thanks, I can grab image with mplayer after applying the those two
patches. Now I'll try to convince creators of uvc driver and mplayer's
v4l2 driver to make them cooperate in unpatched versions. :-)

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From m.blizinski at wit.edu.pl  Wed Jul  5 11:33:46 2006
From: m.blizinski at wit.edu.pl (Maciej =?iso-8859-2?Q?Blizi=F1ski?=)
Date: Wed, 05 Jul 2006 11:33:46 +0200
Subject: [Linux-uvc-devel] Capture from UVC with MPlayer
In-Reply-To: <200607042211.49308.laurent.pinchart@skynet.be>
References: <1151569713.17381.19.camel@localhost.localnet>
	 <op.tbw03gensttmjo@maya> <1151601811.17381.77.camel@localhost.localnet>
	 <200607042211.49308.laurent.pinchart@skynet.be>
Message-ID: <1152092026.32633.9.camel@localhost.localnet>

On Tue, 2006-07-04 at 22:11 +0200, Laurent Pinchart wrote:
> Anyway the problem with the v4l2 input module is that it doesn't set the 
> v4l2_buffer.memory field before calling VIDIOC_QBUF and VIDIOC_DQBUF 
> (libmpdemux/tvi_v4l2.c, lines 881, 1401, 1425 and 1519).
> 
> That would only take a few minutes to fix. Could you submit the request to 
> Martin Olschewski ?

Sure. Thanks for the hint!

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From laurent.pinchart at skynet.be  Wed Jul  5 11:47:39 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 5 Jul 2006 11:47:39 +0200
Subject: [Linux-uvc-devel] Capture from UVC with MPlayer
In-Reply-To: <1152091970.9127.7.camel@localhost.localnet>
References: <20060629175500.78533.qmail@web84109.mail.dcn.yahoo.com> <1152091970.9127.7.camel@localhost.localnet>
Message-ID: <200607051147.40464.laurent.pinchart@skynet.be>

> > Hej Maciej, I was able to run mplayer using one of the older driver
> > versions but I had to patch the driver using the "tuner.patch" and
> > "noformatcheck.patch" patches found elsewhere on the list. Not sure if
> > this is still the case with the newest driver.
>
> Thanks, I can grab image with mplayer after applying the those two
> patches. Now I'll try to convince creators of uvc driver and mplayer's
> v4l2 driver to make them cooperate in unpatched versions. :-)

Could you check with the "noformatcheck.patch" patch only ? If it works, 
changes are MPlayer will be very easily fixed.

Laurent Pinchart


From m.blizinski at wit.edu.pl  Wed Jul  5 11:59:29 2006
From: m.blizinski at wit.edu.pl (Maciej =?iso-8859-2?Q?Blizi=F1ski?=)
Date: Wed, 05 Jul 2006 11:59:29 +0200
Subject: [Linux-uvc-devel] Capture from UVC with MPlayer
In-Reply-To: <200607051147.40464.laurent.pinchart@skynet.be>
References: <20060629175500.78533.qmail@web84109.mail.dcn.yahoo.com>
	 <1152091970.9127.7.camel@localhost.localnet>
	 <200607051147.40464.laurent.pinchart@skynet.be>
Message-ID: <1152093569.32605.16.camel@localhost.localnet>

On Wed, 2006-07-05 at 11:47 +0200, Laurent Pinchart wrote:
> Could you check with the "noformatcheck.patch" patch only ? If it works, 
> changes are MPlayer will be very easily fixed.

Yes, it works with the "noformatcheck.patch" path only. I only need to
select the driver (v4l2) and fps:

mplayer -tv driver=v4l2 -fps 15 tv://

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From m.blizinski at wit.edu.pl  Wed Jul  5 13:28:47 2006
From: m.blizinski at wit.edu.pl (Maciej =?iso-8859-2?Q?Blizi=F1ski?=)
Date: Wed, 05 Jul 2006 13:28:47 +0200
Subject: [Linux-uvc-devel] Capture from UVC with MPlayer
In-Reply-To: <1152093569.32605.16.camel@localhost.localnet>
References: <20060629175500.78533.qmail@web84109.mail.dcn.yahoo.com>
	 <1152091970.9127.7.camel@localhost.localnet>
	 <200607051147.40464.laurent.pinchart@skynet.be>
	 <1152093569.32605.16.camel@localhost.localnet>
Message-ID: <1152098928.32633.24.camel@localhost.localnet>

On Wed, 2006-07-05 at 11:59 +0200, Maciej Blizi?ski wrote:
> On Wed, 2006-07-05 at 11:47 +0200, Laurent Pinchart wrote:
> > Could you check with the "noformatcheck.patch" patch only ? If it works, 
> > changes are MPlayer will be very easily fixed.
> 
> Yes, it works with the "noformatcheck.patch" path only. I only need to
> select the driver (v4l2) and fps.

More on that topic. Without the tuner.patch, mplayer displays the image,
but mencoder won't encode it. Here's the session dump:

maciej at matilda ~/src/linux-uvc/linux-uvc/trunk $ mencoder -v -tv device=/dev/video0:driver=v4l2:outfmt=yuy2:adevice=/dev/dsp2:forceaudio -vc rawyuy2 -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=320 -oac mp3lame -lameopts cbr:br=128:mode=0 -o 3.avi tv://
MEncoder 1.0pre8-3.3.6 (C) 2000-2006 MPlayer Team
CPU:               Intel(R) Pentium(R) 4 CPU 2.40GHz (Family: 15, Model: 2, Stepping: 7)
MMX2 supported but disabled
CPUflags: Type: 15 MMX: 1 MMX2: 0 3DNow: 0 3DNow2: 0 SSE: 1 SSE2: 1
Compiled for x86 CPU with extensions: MMX SSE SSE2

93 audio & 211 video codecs
init_freetype
get_path('font/font.desc') -> '/home/maciej/.mplayer/font/font.desc'
font: can't open file: /home/maciej/.mplayer/font/font.desc
Font /usr/share/mplayer/font/font.desc loaded successfully! (206 chars)
Using MMX Optimized OnScreenDisplay
STREAM: [null] tv://
STREAM: Description: Null stream
STREAM: Author: Albeu
STREAM: Comment:
success: format: 9  data: 0x0 - 0x0
Selected driver: v4l2
 name: Video 4 Linux 2 input
 author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
 comment: first try, more to come ;-)
v4l2: ioctl get standard failed: Invalid argument
Selected device: USB Video Class device
 Capabilites:  video capture  streaming
 supported norms:
 inputs: 0 = Camera;
 Current input: 0
 Format unknown (0x47504a4d) ( 0 bits, MJPEG): Unknown
 Format YUYV   (16 bits, Uncompressed): Packed YUY2
 Current format: YUYV
v4l2: set format: YUYV
v4l2: set input: 0
Selected norm: pal
v4l2: ioctl enum norm failed: Invalid argument
Error: Cannot set norm!
Selected input hasn't got a tuner!
==> Found video stream: 0
v4l2: get format: YUYV
v4l2: get fps: nan
v4l2: get width: 640
v4l2: get height: 480
ioctl dsp getfmt: 0
Supported formats: 1f9
ioctl dsp setfmt: 0
ioctl dsp stereo: 0 (req: 1)
ioctl dsp speed: 0
ioctl dsp trigger: 0
trigger: 1
ioctl dsp trigger: 0
ioctl dsp getblocksize: 0
blocksize: 16384
v4l2: set audio samplerate: 44100
v4l2: get audio format: 9
==> Found audio stream: 0
v4l2: get audio samplerate: 44100
v4l2: get audio samplesize: 2
v4l2: get audio channels: 2
  TV audio: 2 channels, 16 bits, 44100 Hz
Audio capture - buffer 256 blocks of 16384 bytes, skew average from 16 meas.
Floating point exception

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From sokoniarukamo_7 at yahoo.co.jp  Wed Jul  5 19:24:00 2006
From: sokoniarukamo_7 at yahoo.co.jp (=?iso-2022-jp?B?bm9yaWtv?=)
Date: Wed, 5 Jul 2006 19:24:00 +0200
Subject: [Linux-uvc-devel] =?iso-2022-jp?B?GyRCJE4kSSQrTU0kKyRpJE4lYSVDJTshPCU4JEckORsoQigqXhskQiEjGyhCXiopGyRCISJPIk1tRDokMSReJDskcyQrISkbKEI=?=
Message-ID: <200607051724.k65HO0224415@bat.berlios.de>

???????????????????????
???????????????????????????

????????????????????????????????????
  ??????????
?????30???
?????86?60?87
?????3,300??

?????

???????????????????????????????????
????????????????????????????????????
??????????????????

??????????????????
????????????????????????????????????
?????????????????{???}????????????????
????????????????????????????
????????????

?????????
??http://rwoj.com?0002

?????????

??????????????????????????

??????????????

yahoo?MSN?goo?????????????????????????
????????????????
????????????????????????

????????????????

???????


?????badluck at qnud.com




From laurent.pinchart at skynet.be  Thu Jul  6 22:12:53 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 6 Jul 2006 22:12:53 +0200
Subject: [Linux-uvc-devel] Capture from UVC with MPlayer
In-Reply-To: <1152098928.32633.24.camel@localhost.localnet>
References: <20060629175500.78533.qmail@web84109.mail.dcn.yahoo.com> <1152093569.32605.16.camel@localhost.localnet> <1152098928.32633.24.camel@localhost.localnet>
Message-ID: <200607062212.54283.laurent.pinchart@skynet.be>

> > > Could you check with the "noformatcheck.patch" patch only ? If it
> > > works, changes are MPlayer will be very easily fixed.
> >
> > Yes, it works with the "noformatcheck.patch" path only. I only need to
> > select the driver (v4l2) and fps.
>
> More on that topic. Without the tuner.patch, mplayer displays the image,
> but mencoder won't encode it. Here's the session dump:

One problem at a time please :-)

[snip]
> Audio capture - buffer 256 blocks of 16384 bytes, skew average from 16
> meas. Floating point exception

mencoder seems to die from a floating point exception. I suspect that's 
because it hasn't been able to find out which norm the webcam uses (which 
shouldn't be a problem) which caused a divisor not to be set and keep its 0 
default value. I might be wrong though. Running mencoder in gdb might help to 
find out where the problem is (make sure you compile mencoder in debug mode).

Laurent Pinchart


From harrison_dikko4me at yahoo.fr  Mon Jul 10 21:29:49 2006
From: harrison_dikko4me at yahoo.fr (FROM HARRISON AND TINA DIKKO)
Date: Mon, 10 Jul 2006 21:29:49 +0200
Subject: [Linux-uvc-devel] FROM HARRISON AND TINA DIKKO
Message-ID: <200607102129.k6ALTuY27921@bat.berlios.de>

FROM HARRISON AND TINA DIKKO 
ABIDJAN(COTE D'IVOIRE)
WEST AFRICA
TELL :+22506211066
EMAIL :harrison_dikko4me at yahoo.fr 
            

           
ATTN:
 
 APPEAL /FOR URGENT ASSISTANCE

DEAR, 

PERMIT US TO INFORM YOU ABOUT OUR DESIRE TO GO INTO BUSINESS RELATIONSHIP WITH YOU. WE GOT YOUR CONTACT FROM A SITE  HERE IN OUR COUNTRY COTE D'IVOIRE.AND AFTER OUR PRAYERS AND FASTING, WE HAD THE REVELATION THAT YOU WILL SUCCESSFULLY ASSIST US. I AM HARRISON AND MY SISTER NAME IS TINA DIKKO, AN IVORIAN IVORY COAST NATIONALITY.THE ONLY CHILDERN OF MR AND MRS.CAMARA DIKKO.OUR  FATHER WAS A VERY RICH COCOA MERCHANT, BASED IN ABIDJAN, THE ECONOMIC CAPITAL OF IVORY COAST BEFORE HE WAS POISONED TO DEATH BY HIS BUSINESS ASSOCIATES ON ONE OF THEIR OUTINGS TO DISCUSS ON A BUSINESS DEAL . WHEN OUR MOTHER DIED ON JUNE 24, 2003, OUR FATHER TOOK US SO SPECIAL SINCE WE ARE MOTHERLESS .BEFORE THE DEATH OF OUR FATHER ON MARCH 26,2004 IN A PRIVATE HOSPITAL WHERE HE WAS ADMITTED, HE CALLED US SCRETLY TO HIS BED SIDE AND TOLD US THAT HE KEPT A SUM OF US$6,500,000 (SIX MILLION FIVE HUNDRED THOUSAND UNITED STATES DOLLARS) IN A BANK IN ABIDJAN COTE D'IVOIRE. 
THAT HE USED OUR NAME AS THE NEXT OF KIN IN DEPOSIT OF THE FUND. HE ALSO EXPLAINED TO US THAT IT WAS BECAUSE OF THIS MONEY HE WAS POISONED BY HIS BUSINESS PARTNER AND THAT WE SHOULD SEEK FOR A FOREIGN PARTNER IN A COUNTRY OF OUR CHOICE WHERE WE WOULD TRANSFER THIS MONEY AND USE IT FOR AN INVESTMENT PURPOSE, SUCH AS : REAL ESTATE INVESTMENT OR STOCK MARKET INVESTMENT . WE ARE HONOURABLY SOLICITING YOUR KIND ASSISTANCE AS FOLLOWS. :


(1) TO PROVIDE A BANK ACCOUNT WHERE THIS MONEY WILL BE
TRANSFERRED TO.


(2) TO SERVE AS THE GUARDIAN OF THESE FUND, SINCE ME AND MY SISTER HER VERY YOUNG I AM 22 AND MY SISTER IS 19 YEARS OLD.


(3) TO MAKE ARRANGEMENT FOR US IN YOUR COUNTRY TO
CONTINUE MY EDUCATIONAL CAREER AND TO PROCURE US A
RESIDENTIAL PERMIT IN YOUR COUNTRY.

WE ARE INCLINED TO OFFER YOU 15% OF THE TOTAL SUM AS A MODE OF COMPENSATION FOR YOUR EFFORTS AFTER THE TRANSFERRING OF THESE MONEY TO YOUR NOMINATED ACCOUNT OVERSEAS. PLEASE WE  WILL BE VERY HAPPY IF THIS TANSACTION WILL BE CONCLUDED WITHIN FOURTEEN 
(14)WORKING DAYS FROM NOW.WE ARE EXPECTING TO HEAR FROM YOU AS SOON AS POSSIBLE

BEST REGARDS.

HARRISON AND TINA DIKKO.

CALL US +22506211066

N.B: WE WILL LIKE YOU TO GIVE US YOUR DIRECT
TELEPHONE NUMBER IN YOUR REPLY OF THIS PROPOSAL.
MAY ALMIGHTY GOD BLESS YOU AS YOU TAKE CARE OF
AN ORPHAN LIKE US AMEM.
   PRIVATE EMAIL: harrison_dikko4me at yahoo.fr 
harrison_dikko4me at yahoo.fr 




From jaeckelf at refuzed.org  Tue Jul 11 17:44:45 2006
From: jaeckelf at refuzed.org (Frederic `jchome` Jaeckel)
Date: Tue, 11 Jul 2006 17:44:45 +0200
Subject: [Linux-uvc-devel] Streaming video with Logitech Quickcam pro 5000
Message-ID: <20060711154445.GA8134@zellis.0xf00.de>

Hi guys,

I've got a problem with streaming video to the net (icecast2 server). I
can't find any streaming application wich support V4L2, does anybody of
you knows such an application?
My Logitech Quickcam pro 5000 works well with the linux-uvc drivers on
two boxes. I can run luvcview and make snapshots. The video capture of
luvcview doesnt work but I think it's a problem of the program.

It would be great if anybody of you can help me.

Greetings
Frederic Jaeckel
-- 

-----BEGIN GEEK CODE BLOCK-----
Version: 3.12
GCM d- s+: a-- C+++ UL+++ P+ L++ E--- W+ N o+ K w--
O+ M V- PS+++ PE+++ Y PGP+ t 5 X R tv++ b++ DI++ D+
G e h! r y+
------END GEEK CODE BLOCK------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20060711/9bca2217/attachment.pgp>

From martin_rubli at logitech.com  Tue Jul 11 18:20:43 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Tue, 11 Jul 2006 09:20:43 -0700
Subject: [Linux-uvc-devel] Streaming video with Logitech Quickcam pro 5000
In-Reply-To: <20060711154445.GA8134@zellis.0xf00.de>
References: <20060711154445.GA8134@zellis.0xf00.de>
Message-ID: <op.tci80td2sttmjo@maya>

Hi Frederic,

> I've got a problem with streaming video to the net (icecast2 server). I
> can't find any streaming application wich support V4L2, does anybody of
> you knows such an application?

I don't know of any V4L2 streaming application but it's a fair guess that  
one could come up with a GStreamer pipeline that does just that. :-)

> My Logitech Quickcam pro 5000 works well with the linux-uvc drivers on
> two boxes. I can run luvcview and make snapshots. The video capture of
> luvcview doesnt work but I think it's a problem of the program.

What do you mean by "video capture" and "doesn't work"?

luvcview has no function to create videos if that's what you mean. The -c,  
-C, and -S command line switches work just with raw data as they are  
received from the camera, they don't write any headers.

Cheers,
Martin


From martin_rubli at logitech.com  Tue Jul 11 19:17:36 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Tue, 11 Jul 2006 10:17:36 -0700
Subject: [Linux-uvc-devel] Streaming video with Logitech Quickcam pro 5000
In-Reply-To: <OF39F2B0F7.985681F7-ON882571A8.005D014A-882571A8.005D04A2@logitech.com>
References: <OF39F2B0F7.985681F7-ON882571A8.005D014A-882571A8.005D04A2@logitech.com>
Message-ID: <op.tcjbnmwtsttmjo@maya>

Hi Frederic,

> > I don't know of any V4L2 streaming application but it's a fair guess  
> that
> > one could come up with a GStreamer pipeline that does just that. :-)
>
> Uh, there is, as far as I know, a GStreamer v4l2 plugin, but I don't
> know how I can use GStreamer in common.

Yes, the v4l2src plugin works quite well, the simplest pipeline to get you  
started looks something like this:
     gst-inspect v4l2src ! xvimagesink

You may also want to go through the mailing list archive, similar topics  
have come up there in the past:
     http://sourceforge.net/mailarchive/forum.php?forum_id=5947

> In luvcview, there is a menu entry "AVI Record". This is the one wich
> don't work. :-)

Unfortunately, the button does nothing. If you look at the 'ToDo' file,  
you'll see why. ;-) If you want to create an AVI file, GStreamer can do  
that too. Be sure to check out the following URL:
http://gstreamer.freedesktop.org/data/doc/gstreamer/head/gst-plugins-good-plugins/html/gst-plugins-good-plugins-avimux.html

Cheers,
Martin


From liquid at visi.com  Wed Jul 12 02:16:46 2006
From: liquid at visi.com (Josepy)
Date: Tue, 11 Jul 2006 19:16:46 -0500
Subject: [Linux-uvc-devel] Broadcast
Message-ID: <44B43F6E.5000906@visi.com>

I've got my Logitech Quickcam Pro for Notebooks working, very cool!
nice job guys!

So forgive the stupid question, I'd like to broadcast my video stream to
say yahoo ichat ...
What do I need to do, or maybe what yet needs to be developed before
this can happen?

Thanks
Josepy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20060711/ec34f232/attachment.html>

From gaston at octo-soft.de  Wed Jul 12 08:10:35 2006
From: gaston at octo-soft.de (=?ISO-8859-15?Q?J=FCrgen_Magin?=)
Date: Wed, 12 Jul 2006 08:10:35 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam pro 4000 vs Logitech Quickcam pro 5000
Message-ID: <44B4925B.2080802@octo-soft.de>

Hello

Which driver is the best for a Logitech Quickcam pro 4000. Is there a
graet differrent to
the Logitech Quickcam pro 5000 (chip/bridge).
I tried the spca5xx driver, but it doesn't works - that means the camera
will be recognized
but no picture appears.

I'm using SuSE 10.0.

-- 
Mit freundlichen Gr??en

J?rgen Magin


**************************************************************
#                                                            #
#  OCTOGON Software Development GmbH                         #
#  http://www.octo-soft.de                                   #
#                                                            #
#  J?rgen Magin, Einsteinstr. 11, D 68519 Viernheim          #
#                                                            #
#  Tel   : +49 6204/738353                                   #
#  Fax   : +49 6204/914875                                   #
#  EMail : gaston at octo-soft.de                               #
#                                                            #
**************************************************************





From jaeckelf at refuzed.org  Wed Jul 12 10:37:15 2006
From: jaeckelf at refuzed.org (Frederic `jchome` Jaeckel)
Date: Wed, 12 Jul 2006 10:37:15 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam pro 4000 vs Logitech Quickcam pro 5000
In-Reply-To: <44B4925B.2080802@octo-soft.de>
References: <44B4925B.2080802@octo-soft.de>
Message-ID: <20060712083715.GD8134@zellis.0xf00.de>

Hi there,
On Wed, Jul 12, 2006 at 08:10:35AM +0200, J?rgen Magin wrote:
> Which driver is the best for a Logitech Quickcam pro 4000. Is there a
> graet differrent to
> the Logitech Quickcam pro 5000 (chip/bridge).

The Logitech Quickcam Pro 4000 works with the reengeneered `pwc` driver
very well. I used it a long tim until I get my 5000.
The 5000 works with the linux-uvc driver and got a very good quality
with it. But the only possibility to use it is obviously GStreamer,
because the drivers only support V4L2 and not V4L1. (Or the applications
do not support V4L1 ;-) )
Nevertheless both work well under Linux but the 5000 needs a bit more
work to get it working. Dont be scared.. its not unmakeable. ;-)

Greetings
Frederic Jaeckel
-- 

-----BEGIN GEEK CODE BLOCK-----
Version: 3.12
GCM d- s+: a-- C+++ UL+++ P+ L++ E--- W+ N o+ K w--
O+ M V- PS+++ PE+++ Y PGP+ t 5 X R tv++ b++ DI++ D+
G e h! r y+
------END GEEK CODE BLOCK------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20060712/032e3294/attachment.pgp>

From gaston at octo-soft.de  Wed Jul 12 11:27:41 2006
From: gaston at octo-soft.de (=?ISO-8859-15?Q?J=FCrgen_Magin?=)
Date: Wed, 12 Jul 2006 11:27:41 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam pro 4000 vs Logitech Quickcam
 pro 5000
In-Reply-To: <20060712083715.GD8134@zellis.0xf00.de>
References: <44B4925B.2080802@octo-soft.de> <20060712083715.GD8134@zellis.0xf00.de>
Message-ID: <44B4C08D.4050004@octo-soft.de>

Frederic `jchome` Jaeckel schrieb:
> Hi there,
> On Wed, Jul 12, 2006 at 08:10:35AM +0200, J?rgen Magin wrote:
>   
>> Which driver is the best for a Logitech Quickcam pro 4000. Is there a
>> graet differrent to
>> the Logitech Quickcam pro 5000 (chip/bridge).
>>     
>
> The Logitech Quickcam Pro 4000 works with the reengeneered `pwc` driver
> very well. I used it a long tim until I get my 5000.
> The 5000 works with the linux-uvc driver and got a very good quality
> with it. But the only possibility to use it is obviously GStreamer,
> because the drivers only support V4L2 and not V4L1. (Or the applications
> do not support V4L1 ;-) )
> Nevertheless both work well under Linux but the 5000 needs a bit more
> work to get it working. Dont be scared.. its not unmakeable. ;-)
>
> Greetings
> Frederic Jaeckel
>   
Thank's for the quick answer.
I tried the pwc driver a few month ago with no success. 

What do you mean with "the reengeneered `pwc` driver " ? Did you use a 
special
version of them?

-- 
Mit freundlichen Gr??en

J?rgen Magin


**************************************************************
#                                                            #
#  OCTOGON Software Development GmbH                         #
#  http://www.octo-soft.de                                   #
#                                                            #
#  J?rgen Magin, Einsteinstr. 11, D 68519 Viernheim          #
#                                                            #
#  Tel   : +49 6204/738353                                   #
#  Fax   : +49 6204/914875                                   #
#  EMail : gaston at octo-soft.de                               #
#                                                            #
**************************************************************




From jaeckelf at refuzed.org  Wed Jul 12 12:03:17 2006
From: jaeckelf at refuzed.org (Frederic `jchome` Jaeckel)
Date: Wed, 12 Jul 2006 12:03:17 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam pro 4000 vs Logitech Quickcam pro 5000
In-Reply-To: <44B4C08D.4050004@octo-soft.de>
References: <44B4925B.2080802@octo-soft.de> <20060712083715.GD8134@zellis.0xf00.de> <44B4C08D.4050004@octo-soft.de>
Message-ID: <20060712100317.GE8134@zellis.0xf00.de>

Hi,
On Wed, Jul 12, 2006 at 11:27:41AM +0200, J?rgen Magin wrote:
> Thank's for the quick answer.

no problem. ;-)

> I tried the pwc driver a few month ago with no success. 

Yeah, of course the drivers in the kernel tree aren't working with the
4000 camera. Why? I don't know, haven't tracked it back yet.

> What do you mean with "the reengeneered `pwc` driver " ? Did you use a 
> special
> version of them?

You can get the free and non-binary drivers from:
http://www.saillard.org/linux/pwc/ 

They are the only one wich work for my 4k cam. :-)

Greetings
Frederic Jaeckel
-- 

-----BEGIN GEEK CODE BLOCK-----
Version: 3.12
GCM d- s+: a-- C+++ UL+++ P+ L++ E--- W+ N o+ K w--
O+ M V- PS+++ PE+++ Y PGP+ t 5 X R tv++ b++ DI++ D+
G e h! r y+
------END GEEK CODE BLOCK------
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 189 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20060712/ca73fad8/attachment.pgp>

From gaston at octo-soft.de  Wed Jul 12 13:31:04 2006
From: gaston at octo-soft.de (=?ISO-8859-15?Q?J=FCrgen_Magin?=)
Date: Wed, 12 Jul 2006 13:31:04 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam pro 4000 vs Logitech Quickcam
 pro 5000
In-Reply-To: <20060712100317.GE8134@zellis.0xf00.de>
References: <44B4925B.2080802@octo-soft.de> <20060712083715.GD8134@zellis.0xf00.de> <44B4C08D.4050004@octo-soft.de> <20060712100317.GE8134@zellis.0xf00.de>
Message-ID: <44B4DD78.5070703@octo-soft.de>

Thank you

This driver works fine :-)

J?rgen


Frederic `jchome` Jaeckel schrieb:
> Hi,
> On Wed, Jul 12, 2006 at 11:27:41AM +0200, J?rgen Magin wrote:
>   
>> Thank's for the quick answer.
>>     
>
> no problem. ;-)
>
>   
>> I tried the pwc driver a few month ago with no success. 
>>     
>
> Yeah, of course the drivers in the kernel tree aren't working with the
> 4000 camera. Why? I don't know, haven't tracked it back yet.
>
>   
>> What do you mean with "the reengeneered `pwc` driver " ? Did you use a 
>> special
>> version of them?
>>     
>
> You can get the free and non-binary drivers from:
> http://www.saillard.org/linux/pwc/ 
>
> They are the only one wich work for my 4k cam. :-)
>
> Greetings
> Frederic Jaeckel
>   


-- 
Mit freundlichen Gr??en

J?rgen Magin


**************************************************************
#                                                            #
#  OCTOGON Software Development GmbH                         #
#  http://www.octo-soft.de                                   #
#                                                            #
#  J?rgen Magin, Einsteinstr. 11, D 68519 Viernheim          #
#                                                            #
#  Tel   : +49 6204/738353                                   #
#  Fax   : +49 6204/914875                                   #
#  EMail : gaston at octo-soft.de                               #
#                                                            #
**************************************************************




From laurent.pinchart at skynet.be  Thu Jul 13 23:17:36 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 13 Jul 2006 23:17:36 +0200
Subject: [Linux-uvc-devel] Broadcast
In-Reply-To: <44B43F6E.5000906@visi.com>
References: <44B43F6E.5000906@visi.com>
Message-ID: <200607132317.36249.laurent.pinchart@skynet.be>

Hi Josepy,

> I've got my Logitech Quickcam Pro for Notebooks working, very cool!
> nice job guys!

Thanks :-)

> So forgive the stupid question, I'd like to broadcast my video stream to
> say yahoo ichat ...
> What do I need to do, or maybe what yet needs to be developed before
> this can happen?

Your yahoo client needs to support that features. You should contact the 
developers. Feel free to tell them to get in touch with us for any 
driver-specific issues.

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Jul 14 00:01:57 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 14 Jul 2006 00:01:57 +0200
Subject: [Linux-uvc-devel] [SVN] Frame size and frame rate enumeration
Message-ID: <200607140001.58148.laurent.pinchart@skynet.be>

Hi everybody,

I'm proud to announce that the linux-uvc driver is the first V4L2 driver to 
support the VIDIOC_ENUM_FRAMESIZES and VIDIOC_ENUM_FRAMEINTERVALS ioctls ! 
Ok, those ioctls have been introduced on our request (big thanks to Martin 
Rubli from Logitech for having written and updated the specs numerous times), 
but we're still the first ones :-)

On a more practical note, those new ioctls enable applications to enumerate 
the available frame sizes for each format and the available frame rates for 
each frame size. It becomes possible to find out the smallest and biggest 
frame sizes without relying on black magic and heuristics, as well as 
providing lists of available frame sizes and frame rates to the user.

Developers are encouraged to checkout the latest version and try the new 
ioctls. The specs are available at 
http://linuxtv.org/v4lwiki/index.php/Discussion_of_API_enhancements.

We are waiting for your feedback.

Laurent Pinchart


From martin_rubli at logitech.com  Fri Jul 14 05:13:24 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Thu, 13 Jul 2006 20:13:24 -0700
Subject: [Linux-uvc-devel] Frame format enumeration implemented by Linux UVC
	driver
Message-ID: <op.tcnskms3sttmjo@maya>

Hi all,

The Linux UVC driver now implements the frame format enumeration API which  
was discussed previously on the V4L mailing list.

The latest version of the API draft as well as a sample program using it  
can be downloaded from:
   http://linuxtv.org/v4lwiki/index.php/Discussion_of_API_enhancements

The Linux UVC driver can be found at:
   http://linux-uvc.berlios.de/

Compared to the last revision  
(https://www.redhat.com/mailman/private/video4linux-list/2006-June/msg00562.html)  
there has only been one change: Continuous frame rates and resolutions are  
really only special cases of their step-wise counterparts (step size = 1),  
so there are no separate struct members for the former type anymore.

We will submit a patch shortly to make the two new ioctls part of the V4L2  
API ...

Cheers,
Martin


From gem at rellim.com  Sat Jul 15 04:39:40 2006
From: gem at rellim.com (Gary E. Miller)
Date: Fri, 14 Jul 2006 19:39:40 -0700 (PDT)
Subject: [Linux-uvc-devel] [SVN] Frame size and frame rate enumeration
In-Reply-To: <200607140001.58148.laurent.pinchart@skynet.be>
References: <200607140001.58148.laurent.pinchart@skynet.be>
Message-ID: <Pine.LNX.4.64.0607141938430.17444@catbert.rellim.com>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Yo Laurent!

On Fri, 14 Jul 2006, Laurent Pinchart wrote:

> I'm proud to announce that the linux-uvc driver is the first V4L2 driver to
> support the VIDIOC_ENUM_FRAMESIZES and VIDIOC_ENUM_FRAMEINTERVALS ioctls !

Very cool.  Thanks.  I spent quite some time iterating to find out what
my camera would do.  With this I would know in an instant.

RGDS
GARY
- ---------------------------------------------------------------------------
Gary E. Miller Rellim 20340 Empire Blvd, Suite E-3, Bend, OR 97701
	gem at rellim.com  Tel:+1(541)382-8588

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.3 (GNU/Linux)

iD8DBQFEuFVu8KZibdeR3qURAoz1AJ43mrqIbiJJOiYFYuKfrdZF4kVxBgCfXXAt
EHgmWPpq/omkMo1fP/HilOU=
=+oGN
-----END PGP SIGNATURE-----



From kyojin_no_hokuro at yahoo.co.jp  Sat Jul 15 10:47:39 2006
From: kyojin_no_hokuro at yahoo.co.jp (=?iso-2022-jp?B?eXVtaQ==?=)
Date: Sat, 15 Jul 2006 10:47:39 +0200 (CEST)
Subject: =?iso-8859-1?q?_=5BLinux-uvc-devel=5D_=1B=24BFMA3=3F=3D=247Lu=24?=
	=?iso-8859-1?q?=22=24j=24=5E=24=3B=24s!=23=1B=28B?=
Message-ID: <20060715084739.987BF56055@bat.berlios.de>

http://ttvq.com/index.php?num=775$B$NCO0h0[@->R2p$rC4Ev$7$F$$$k<DEDB';R$H?=$7$^$9!#:#2s!"CO0h>R2pBP>]Jg=8$N7o$K$D$$$F$4O"Mm$5$;$FD:$-$^$7$?!#(B
$BEv%a!<%k$,LBOG$@$H;W$o$l$?J}$O$*<j?t$G$9$,J8Kv$N%a%"%I$^$GFbMFL5$7$N%a!<%k$r$*Aw$j2<$5$$!#!J<+F0$G=hM}$7$^$9$,(B1,2$BF|$+$+$k>l9g$,$4$6$$$^$9!#$4N;>52<$5$$!#!K(B

$B:#2s$N$4>7BT$K$"$?$C$F!"Ev<R$O0J2<$NLsB+$r<i$j$^$9!#(B

$B"#Ev<R$+$i$N$4>7BT$G$9$N$G!"G[?.$5$l$?%"%I%l%9$G$NEPO?NA5Z$S>7BTNA$J$I0l at ZL5NA$H at _Dj$5$;$FD:$-$^$7$?!#$=$l$@$1$G$O$J$/!""c(B1,000$B1_J,"d$N%5!<%S%9%]%$%s%H$bEPO?D>8e$K<+F0DI2C$HCW$7$^$9!#99$K-d3NG'(B($BIT at 5@A5a$J$I$N0-MQ$O0l at Z$4$6$$$^$;$s$N$G!"$40B?42<$5$$(B)$B$r9T$C$?D>8e!"(B(5,000$B1_J,(B)$B$NL5NA%]%$%s%H$b(B24$B;~4VBP1~$GDI2CCW$7$^$9!#(B

$B""5.J}$NEPO?>pJs$rF1CO0h0[@-$X?o;~DLC#CW$7$^$9$N$G!"0[@-$+$i$N%a!<%k$,D>@\5.J}$NJ}$KFO$-$^$9!#EvHVAH$G$O0[@-A4$F$N>pJs$r3NG'2DG=$H$J$C$F$*$j$^$9!#(B


==========================================
http://ttvq.com/index.php?num=775
==========================================

$B"(?M?t8BDj$N$4>7BT$G$9$N$G!"<+F0GQ4~$HG'$a$?>l9g$O8"Mx2s<}$H$J$j$^$9$N$G!"$J$k$Y$/%a!<%k3+Iu$7$F(B24$B;~4V0JFb$K$4EPO?$r40N;$9$k$h$&$*4j$$CW$7$^$9!#(B

$B"(%o%s%/%j%C%/:>5=Ey0l at ZL5$$$3$H$rJ]>Z$7$^$9!#(B

$B"(3F<o=w at -=54);o$K$b9-9p$r7G:\$7$F$$$^$9!#(B







$B5qH]!'(Brefuse at uyjx.com




From traorabakassa20 at yahoo.fr  Sun Jul 16 13:19:28 2006
From: traorabakassa20 at yahoo.fr (Mme HAJIA TRAORA BAKASSA.)
Date: Sun, 16 Jul 2006 13:19:28 +0200
Subject: [Linux-uvc-devel] Bonjour
Message-ID: <20060716111929.C436E5599E@bat.berlios.de>

Repondez dans ma boite electronique je vous  prie   
(traorabakassa20 at yahoo.fr)
EL-ELYO HOTEL OSU 
ACCRA GHANA
Afrique occidentale
Je souhaite demander pour votre aide dans l'ex?cution d'une
transaction financi?re. Je souhaite investir dans la fabrication et la gestion de biens immobiliers dans votre pays.
J'ai dix sept million cinq cents mille dollarsam?ricains(17,500,000$USA)
que je voudrais investir dans la transaction et vous en contre partie
de votre aide en recevant les  fonds sur votre compte dans votre pays. Je vous donnerai g?n?reusement 15% de toute la somme pour votre aide. veuillez s'il vous plait me contacter imm?diatement sur mon adresse priv?e E-mail:(traorabakassa20 at yahoo.fr)
pour 
davantage d'explication.
En attendant votre r?ponse imm?diates
Que Dieu vous benisse
Respectueusement
Mme HAJIA TRAORA BAKASSA.




From nick at customdesigns.ca  Sun Jul 16 19:22:08 2006
From: nick at customdesigns.ca (Nick Wiltshire)
Date: Sun, 16 Jul 2006 11:22:08 -0600
Subject: [Linux-uvc-devel] Kopete: any insiders?
Message-ID: <200607161122.09105.nick@customdesigns.ca>

Hi all,

it looks as though the scaling of the video in kopete as opposed to the 
current clipping behaviour is low (read: non-existant) on the to-do list.

Are there any Kopete developers on this list? The last few releases of 
uvcvideo seem very stable for me and I'd like to stop rebooting to windows 
when I want to use my camera.

Also, oddly, the images on the Kopete preview window are still greyscale for 
me. Is this a driver problem, kopete problem or user problem?

Thanks,
Nick


From chrivers at iversen-net.dk  Sun Jul 16 19:36:50 2006
From: chrivers at iversen-net.dk (Christian Iversen)
Date: Sun, 16 Jul 2006 19:36:50 +0200
Subject: [Linux-uvc-devel] Kopete: any insiders?
In-Reply-To: <200607161122.09105.nick@customdesigns.ca>
References: <200607161122.09105.nick@customdesigns.ca>
Message-ID: <200607161936.50483.chrivers@iversen-net.dk>

On Sunday 16 July 2006 19:22, Nick Wiltshire wrote:
> Hi all,
>
> it looks as though the scaling of the video in kopete as opposed to the
> current clipping behaviour is low (read: non-existant) on the to-do list.
>
> Are there any Kopete developers on this list? The last few releases of
> uvcvideo seem very stable for me and I'd like to stop rebooting to windows
> when I want to use my camera.
>
> Also, oddly, the images on the Kopete preview window are still greyscale
> for me. Is this a driver problem, kopete problem or user problem?

I found out that they probably aren't as greyscale as you think. They clearly 
all use the color from the first column of pixels. Try putting a brighty 
colored object in the border of the image, and watch a number of rows turn 
that color from side to side. 

At least, that's what I observed. I not sure where the bug is, and yes, I'd 
like to use my webcam with kopete too.

-- 
Regards,
Christian Iversen


From kyojin_no_hokuro at yahoo.co.jp  Mon Jul 17 02:57:02 2006
From: kyojin_no_hokuro at yahoo.co.jp (=?iso-2022-jp?B?bWFraQ==?=)
Date: Mon, 17 Jul 2006 02:57:02 +0200 (CEST)
Subject: =?iso-8859-1?q?_=5BLinux-uvc-devel=5D_=1B=24BBT=24C=24F=24=24=24?=
	=?iso-8859-1?q?k=24N=24G=1B=28B=28*=5E=1B=24B!=23=1B=28B=5E*=29_?=
	=?iso-8859-1?q?=1B=24B!=22O=22MmD=3A=241=24=5E=24=3B=24s=24+!=29?=
	=?iso-8859-1?q?=1B=28B?=
Message-ID: <20060717005702.268535A7F5@bat.berlios.de>

???????????????????????
???????????????????????????

????????????????????????????????????
  ??????????
?????30???
?????86?60?87
?????3,300??

?????

???????????????????????????????????
????????????????????????????????????
??????????????????

??????????????????
????????????????????????????????????
?????????????????{???}????????????????
????????????????????????????
????????????

?????????

 http://vehz.com?888

?????????

??????????????????????????

??????????????

yahoo?MSN?goo?????????????????????????
????????????????
????????????????????????

????????????????

???????


?????badluck at qnud.com




From makunze at gmail.com  Mon Jul 17 23:38:05 2006
From: makunze at gmail.com (Marco Kunze)
Date: Mon, 17 Jul 2006 23:38:05 +0200
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
Message-ID: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>

Hi all,

First of all thank you very much for implementing the Linux USB Video
Class driver.

I bought a Quickcam Pro 5000 today and I have to say I did not pay any
attention whether there is some Linux support, so I am very grateful
to see the camera actually listed by your website :-)

However, I cannot get a picture out of it, so I hope you can give me
some advice. I will try to give as much details as possible, but if
you need more specific things, of course I'll try to provide them.

Actually I think I got to the point where the video device /dev/video0
is somehow linked to the camera, but using xawtv I can get no picture
out of it.

So here is some information on my system and what I did:

GCC:
gcc (GCC) 4.1.2 20060708 (prerelease) (Debian 4.1.1-8)

Kernel:
2.6.17.6

Linux UVC:  Downloaded on 2006/07/17 via wget, somehow svn failed.

Loaded modules for v4l:
uvcvideo
v4l2_common
v4l1_compato
compat_ioctl32
videodev
(but compat_ioctl32 seems to be unused)

dmesg says:
usbcore: registered new driver uvcvideo
USB Video Class driver (v0.1.0)
usb 5-2: new full speed USB device using uhci_hcd and address 3
usb 5-2: not running at top speed; connect to a high speed hub
usb 5-2: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c5)
(where the device ID corresponds to the one you mention for the
Quickcam Pro 5000)

xawtv says, when scanning for devices:
# xawtv -hwscan
This is xawtv-3.94, running on Linux/i686 (2.6.17.6)
looking for available devices
port 60-60
    type : Xvideo, image scaler
    name : Savage Streams Engine

/dev/video0: OK                         [ -device /dev/video0 ]
    type : v4l2
    name : USB Video Class device
    flags:  capture

and xawtv says, when trying to show the video:
# xawtv -device /dev/video0
/dev/video0 [v4l2]: no overlay support
v4l-conf had some trouble, trying to continue anyway
Warning: Cannot convert string
"-*-ledfixed-medium-r-*--39-*-*-*-c-*-*-*" to type FontStruct
ioctl: VIDIOC_G_STD(std=0xbf803014
[PAL_G,PAL_I,NTSC_M,NTSC_M_JP,?ATSC_8_VSB,ATSC_16_VSB,(null),(null),(null),(null),(null),(null)]):
Invalid argument
ioctl: VIDIOC_S_STD(std=0x0 []): Invalid argument
no way to get: 384x288 16 bit TrueColor (LE)

I hope you can tell me what's going wrong or if your implementation
has already proceeded far enough to make this work.

If you need more information please tell me, I'm looking forward to
your answer. And thanks again for your effort.

Marco


From kyojin_no_hokuro at yahoo.co.jp  Tue Jul 18 08:14:55 2006
From: kyojin_no_hokuro at yahoo.co.jp (=?iso-2022-jp?B?c3VtbWVyZHJlYW0=?=)
Date: Tue, 18 Jul 2006 08:14:55 +0200 (CEST)
Subject: =?iso-8859-1?q?_=5BLinux-uvc-devel=5D_=1B=24BFb=3Do=24G=249=2402?=
	=?iso-8859-1?q?q=24=28=24=5E=249=24h=1B=28B=28*=5E=1B=24B!=23=1B?=
	=?iso-8859-1?q?=28B=5E*=29_=1B=24BO=22MmD=3A=241=24=5E=24=3B=24s?=
	=?iso-8859-1?q?=24+!=29=1B=28B?=
Message-ID: <20060718061455.5A4475ABDF@bat.berlios.de>

?????? ????.??????????????2?????
?VIP?????????????
???   ????32??E????ID?161690????
???????????2???????????????????
??????????????????????????
??OK??(^0_0^)????????????????
???????????????????251???!
????   http://vehz.com?0001
?????????????251??????????????
????????

???????????!??????????????????
?????????????????????????????
???????????


??????????????



??  badluck at qnud.com





From m.blizinski at wit.edu.pl  Tue Jul 18 12:16:00 2006
From: m.blizinski at wit.edu.pl (Maciej =?UTF-8?Q?Blizi=C5=84ski?=)
Date: Tue, 18 Jul 2006 12:16:00 +0200
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
In-Reply-To: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
References: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
Message-ID: <1153217760.6702.4.camel@localhost.localdomain>

On Mon, 2006-07-17 at 23:38 +0200, Marco Kunze wrote:
> I bought a Quickcam Pro 5000 today and I have to say I did not pay any
> attention whether there is some Linux support,

Gambler ;-)

> However, I cannot get a picture out of it,

xawtv didn't work for me with this webcam. I've succeeded with Ekiga
and, after applying some patches to the UVC driver, with mplayer.

You can also try the uvcview and luvcview from Michael Xhaard.

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From laurent.pinchart at skynet.be  Thu Jul 20 00:11:08 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 20 Jul 2006 00:11:08 +0200
Subject: [Linux-uvc-devel] Kopete: any insiders?
In-Reply-To: <200607161936.50483.chrivers@iversen-net.dk>
References: <200607161122.09105.nick@customdesigns.ca>
	<200607161936.50483.chrivers@iversen-net.dk>
Message-ID: <200607200011.09130.laurent.pinchart@skynet.be>

On Sunday 16 July 2006 19:36, Christian Iversen wrote:
> On Sunday 16 July 2006 19:22, Nick Wiltshire wrote:
> > Hi all,
> >
> > it looks as though the scaling of the video in kopete as opposed to the
> > current clipping behaviour is low (read: non-existant) on the to-do list.
> >
> > Are there any Kopete developers on this list? The last few releases of
> > uvcvideo seem very stable for me and I'd like to stop rebooting to
> > windows when I want to use my camera.
> >
> > Also, oddly, the images on the Kopete preview window are still greyscale
> > for me. Is this a driver problem, kopete problem or user problem?
>
> I found out that they probably aren't as greyscale as you think. They
> clearly all use the color from the first column of pixels. Try putting a
> brighty colored object in the border of the image, and watch a number of
> rows turn that color from side to side.
>
> At least, that's what I observed. I not sure where the bug is, and yes, I'd
> like to use my webcam with kopete too.

The Kopete video support is experimental, and is being rewritten to use Phonon 
(KDE4 multimedia API). Carlo Segato is working on it as a summer of code 
projet (http://ts2.altervista.org/soc/)

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Jul 20 00:16:11 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 20 Jul 2006 00:16:11 +0200
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
In-Reply-To: <1153217760.6702.4.camel@localhost.localdomain>
References: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
	<1153217760.6702.4.camel@localhost.localdomain>
Message-ID: <200607200016.11473.laurent.pinchart@skynet.be>

On Tuesday 18 July 2006 12:16, Maciej Blizi?ski wrote:
> On Mon, 2006-07-17 at 23:38 +0200, Marco Kunze wrote:
> > I bought a Quickcam Pro 5000 today and I have to say I did not pay any
> > attention whether there is some Linux support,
>
> Gambler ;-)
>
> > However, I cannot get a picture out of it,
>
> xawtv didn't work for me with this webcam.

Many users reported problems with xawtv. I'd be glad if someone could have a 
look at the issues and fix xawtv :-)

> I've succeeded with Ekiga and, after applying some patches to the UVC
> driver, with mplayer.

Have you been able to get the mplayer developers to fix the issues ?

> You can also try the uvcview and luvcview from Michael Xhaard.

Laurent Pinchart


From nick at customdesigns.ca  Thu Jul 20 04:56:53 2006
From: nick at customdesigns.ca (Nick Wiltshire)
Date: Wed, 19 Jul 2006 20:56:53 -0600
Subject: [Linux-uvc-devel] Kopete: any insiders?
In-Reply-To: <200607200011.09130.laurent.pinchart@skynet.be>
References: <200607161122.09105.nick@customdesigns.ca>
	<200607161936.50483.chrivers@iversen-net.dk>
	<200607200011.09130.laurent.pinchart@skynet.be>
Message-ID: <200607192056.53771.nick@customdesigns.ca>

On Wednesday 19 July 2006 4:11 pm, Laurent Pinchart wrote:
> On Sunday 16 July 2006 19:36, Christian Iversen wrote:
> > On Sunday 16 July 2006 19:22, Nick Wiltshire wrote:
> > > Hi all,
> > >
> > > it looks as though the scaling of the video in kopete as opposed to the
> > > current clipping behaviour is low (read: non-existant) on the to-do
> > > list.
> > >
> > > Are there any Kopete developers on this list? The last few releases of
> > > uvcvideo seem very stable for me and I'd like to stop rebooting to
> > > windows when I want to use my camera.
> > >
> > > Also, oddly, the images on the Kopete preview window are still
> > > greyscale for me. Is this a driver problem, kopete problem or user
> > > problem?
> >
> > I found out that they probably aren't as greyscale as you think. They
> > clearly all use the color from the first column of pixels. Try putting a
> > brighty colored object in the border of the image, and watch a number of
> > rows turn that color from side to side.
> >
> > At least, that's what I observed. I not sure where the bug is, and yes,
> > I'd like to use my webcam with kopete too.
>
> The Kopete video support is experimental, and is being rewritten to use
> Phonon (KDE4 multimedia API). Carlo Segato is working on it as a summer of
> code projet (http://ts2.altervista.org/soc/)
>

Thats cool. I thought Phonon was just a sound API.

Thanks for the update.

Nick


From kyojin_no_hokuro at yahoo.co.jp  Thu Jul 20 05:55:25 2006
From: kyojin_no_hokuro at yahoo.co.jp (=?iso-2022-jp?B?bG92ZQ==?=)
Date: Thu, 20 Jul 2006 05:55:25 +0200 (CEST)
Subject: =?iso-8859-1?q?_=5BLinux-uvc-devel=5D_=1B=24BHkL=29It20=1B=28B?=
Message-ID: <20060720035525.4D74B56667@bat.berlios.de>


?????????????????????2??????VIP?????????????
http://uywn.com?neim

??????? 29??F????ID?112070?????????????????????????????????????????????????????????5?????????????????????????????????????????29?????????????????????????
???????????????????????????????????????????(?????)??????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????

???????????????????301???!????
http://uywn.com?nemi

?????????????301????????????????????????????????????????????????????????????????????????
???????????????????????????






???nomore at vfhv.com






From mr_jobe at hotmail.com  Fri Jul 21 00:11:42 2006
From: mr_jobe at hotmail.com (Shawn R)
Date: Thu, 20 Jul 2006 22:11:42 +0000
Subject: [Linux-uvc-devel] Troubles with Logitech Quickcan Pro for Notebooks
	(046d:08c3)
Message-ID: <BAY101-F57186C510A5D3FC23B0AA8D610@phx.gbl>


First of all, to the developers, thanks for all your hard work and effort on 
this project.

I recently bought my QPfN and installed the uvcvideo driver.  I plug in my 
camera and everything seems to load fine.  But I'm not sure if it's working. 
  Both aMSN and Ekiga don't seem to be working with the driver.  Other 
people seem to have this camera working, so I'm a little confused by my 
results.

Here's some useful info for starts

#> lsusb
Bus 001 Device 008: ID 046d:08c3 Logitech, Inc.

#> lsmod
Module                  Size  Used by
uvcvideo               32452  0
v4l1_compat            13380  1 uvcvideo
videodev                7232  1 uvcvideo
v4l2_common             6592  1 uvcvideo

#> dmesg
usb 1-1: new high speed USB device using ehci_hcd and address 9
usb 1-1: configuration #1 chosen from 1 choice
Linux video capture interface: v1.00
uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c3)
usbcore: registered new driver uvcvideo
USB Video Class driver (v0.1.0)

#> uname -a
Linux project2501 2.6.16-gentoo-r13 #9 PREEMPT Thu Jul 20 23:14:19 JST 2006 
i686 Intel(R) Pentium(R) M processor 1500MHz GNU/Linux
// ALSO STARTED WITH 2.6.14-gentoo-r2 WITH SAME RESULTS


### This next bit is curious with unknown descriptor types.  broken 
hardware?? ###
#> lsusb -v

Bus 001 Device 009: ID 046d:08c3 Logitech, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         1
  bMaxPacketSize0        64
  idVendor           0x046d Logitech, Inc.
  idProduct          0x08c3
  bcdDevice            0.05
  iManufacturer           0
  iProduct                0
  iSerial                 0
  bNumConfigurations      1
Config 0 descriptor too long, truncating
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1361
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
    MaxPower              500mA
  unknown descriptor type: 08 0b 00 02 ff 03 00 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      1
      bInterfaceProtocol      0
      iInterface              0
  unknown descriptor type: 0d 24 01 00 01 6a 00 00 6c dc 02 01 01
  unknown descriptor type: 12 24 02 01 01 02 00 00 00 00 00 00 00 00 03 0e 
00 00
  unknown descriptor type: 0b 24 05 02 01 00 40 02 7b 17 00
  unknown descriptor type: 1c 24 06 03 82 06 61 63 70 50 ab 49 b8 cc b3 85 
5e 8d 22 1d 00 01 02 03 ff ff 1f 00
  unknown descriptor type: 1b 24 06 04 82 06 61 63 70 50 ab 49 b8 cc b3 85 
5e 8d 22 1e 00 01 03 02 7f 01 00
  unknown descriptor type: 09 24 03 05 01 01 00 04 00
  unknown descriptor type: 20 41 01 08 82 06 61 63 70 50 ab 49 b8 cc b3 85 
5e 8d 22 51 03 01 04 03 19 00 00 00 00 00 00 00
  unknown descriptor type: 20 41 01 0a 82 06 61 63 70 50 ab 49 b8 cc b3 85 
5e 8d 22 52 01 01 04 03 00 40 00 00 00 00 00 00
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x87  EP 7 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               none
        wMaxPacketSize         16
        bInterval               8
  unknown descriptor type: 05 25 03 10 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2
      bInterfaceProtocol      0
      iInterface              0
  unknown descriptor type: 10 24 01 03 07 03 81 00 05 02 01 00 01 04 00 04
  unknown descriptor type: 0b 24 06 01 0c 01 03 00 00 00 00
  unknown descriptor type: 32 24 07 01 00 a0 00 78 00 00 70 17 00 00 a0 8c 
00 00 96 00 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 
00 40 42 0f 00 80 84 1e 00
  unknown descriptor type: 32 24 07 02 00 b0 00 90 00 00 f0 1e 00 00 a0 b9 
00 00 c6 00 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 
00 40 42 0f 00 80 84 1e 00
  unknown descriptor type: 32 24 07 03 00 40 01 f0 00 00 c0 5d 00 00 80 32 
02 00 58 02 00 2a 2c 0a 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 
00 40 42 0f 00 80 84 1e 00
  unknown descriptor type: 32 24 07 04 00 60 01 20 01 00 c0 7b 00 00 80 e6 
02 00 18 03 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 
00 40 42 0f 00 80 84 1e 00
  unknown descriptor type: 32 24 07 05 00 b0 01 f0 00 00 90 7e 00 00 60 f7 
02 00 2a 03 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 
00 40 42 0f 00 80 84 1e 00
  unknown descriptor type: 32 24 07 06 00 e0 01 68 01 00 f0 d2 00 00 a0 f1 
04 00 46 05 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 
00 40 42 0f 00 80 84 1e 00
  unknown descriptor type: 32 24 07 07 00 00 02 20 01 00 00 b4 00 00 00 38 
04 00 80 04 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 
00 40 42 0f 00 80 84 1e 00
  unknown descriptor type: 32 24 07 08 00 80 02 68 01 00 40 19 01 00 80 97 
06 00 08 07 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 
00 40 42 0f 00 28 44 65 66
  unknown descriptor type: 69 6e 65 64 20 61 74 20 49 6e 74 65 72 66 61 63 
65 20 6c 65 76 65 6c 29 00 00 00 00 80 06 00 03 00 00 00 01 64 00 00 00 d0 
59 9b bf a4 fb ec b7 a0 2d eb b7 00 76 f8 b7 01 00 00 00 00 01 00 00 01 00 
00 00 b8 60 9b bf af bc 04 08 06 00 00 00 00 03 00 00 00 00 00 00 00 01 00 
00 d0 59 9b bf 80 00 00 00 00 5c 9b bf cc
  unknown descriptor type: 5a 9b bf 16 b4 ec b7 e0 59 9b bf 49 ee 04 08 09 
04 00 00 00 03 09 04 00 00 00 00 80 5a 9b bf e0 59 9b bf 01 80 ad fb 00 5c 
9b bf 00 5c 9b bf 00 5c 9b bf 00 5c 9b bf 0e 5c 9b bf 7f 5c 9b bf 00 5c 9b 
bf 7f 5c 9b bf 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  
junk at config descriptor end: 00 7f 5d 9b bf 00 00 00 00 7f 5d 9b bf 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 40 88 f8 b7 ff ff ff 
ff 10 00 00 00 78 5a 9b bf 01 00 00 00 00 20 fa b7 4c 6f 67 69 74 65 63 68 
2c 20 49 6e 63 2e 00 00 00 20 fa b7 01 00 00 00 91 47 ed b7 40 88 f8 b7 00 
76 f8 b7 00 76 f8 b7 a0 5a 9b bf 72 d5 ec b7 00 76 f8 b7 00 20 fa b7 01 00 
00 00 02 00 00 00 00 20 fa b7 f4 6f f8 b7 01 00 00 00 00 76 f8 b7 b0 5a 9b 
bf 98 d6 ec b7 01 00 00 00 00 76 f8 b7 d4 5a 9b bf 10 e0 ec b7 00 76 f8 b7 
00 20 fa b7 01 00 00 00 00 20 fa b7 f4 6f f8 b7 00 76 f8 b7
  Language IDs: none (invalid length string descriptor 00; len=64)

### Endo of curious bit ###

Testing with Ekiga 2.0.2
Edit->Preferences ---> Devices->Video Devices
Only "Picture" is listed under the Video Plugin combo box.
No new messages in /var/log/messages (i.e. dmesg)

Testing with aMSN
Account->Preferences->Others->Configure Webcam->Change Video Settings
I select "v4l2: USB Video Class..." under Devices column and "Camera" under 
Channels column.

I get about 30 of

ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0 
[];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0;memory=unknown): 
Invalid argument

in the terminal I used to start amsn. AND 3 of

uvcvideo: Failed to query (1) UVC control 1 (unit 0) : -110

in /var/log/messages

I've don't some experimenting with no real differences, so I'll stop here.  
Am I doing something wrong or missing something?

Any other testing or programs I should try?  I saw somebody mention a 
uvctest program of sorts, but never found it.

Thanks again to anyone who managed to keep reading this far.. :-)

-Shawn




From m.blizinski at wit.edu.pl  Fri Jul 21 09:41:13 2006
From: m.blizinski at wit.edu.pl (Maciej =?UTF-8?Q?Blizi=C5=84ski?=)
Date: Fri, 21 Jul 2006 09:41:13 +0200
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
In-Reply-To: <200607200016.11473.laurent.pinchart@skynet.be>
References: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
	<1153217760.6702.4.camel@localhost.localdomain>
	<200607200016.11473.laurent.pinchart@skynet.be>
Message-ID: <1153467673.7694.21.camel@localhost.localdomain>

On Thu, 2006-07-20 at 00:16 +0200, Laurent Pinchart wrote:
> > I've succeeded with Ekiga and, after applying some patches to the UVC
> > driver, with mplayer.
> 
> Have you been able to get the mplayer developers to fix the issues?

No. Or, hopefully, ?not yet?. Author of mplayer's v4l2 driver was on
vacation, and I'm away from the hardware right now. I'll be back to my
webcam next week.

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From kyojin_no_hokuro at yahoo.co.jp  Fri Jul 21 10:45:03 2006
From: kyojin_no_hokuro at yahoo.co.jp (=?iso-2022-jp?B?GyRCPi5JNDlnGyhC?=)
Date: Fri, 21 Jul 2006 10:45:03 +0200 (CEST)
Subject: =?iso-8859-1?q?_=5BLinux-uvc-devel=5D_=1B=24B=24*=24a=24G=24H=24?=
	=?iso-8859-1?q?=26=1B=28B=28=7Eo=7E=29?=
Message-ID: <20060721084503.1E3665BBA3@bat.berlios.de>

???????????????????(^^??
???????????????????????????????????
???????????????????????????????????????????????
????????????????????????????
??????????????????(^-^)

    http://ruqw.com/index.php?num=2525

    ????????????p(^^)q
 








???
?Please inform the following address if this mail is unnecessary.?
  cancel at qnlv.com





From laurent.pinchart at skynet.be  Fri Jul 21 23:37:54 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 21 Jul 2006 23:37:54 +0200
Subject: [Linux-uvc-devel] Troubles with Logitech Quickcan Pro for
	Notebooks (046d:08c3)
In-Reply-To: <BAY101-F57186C510A5D3FC23B0AA8D610@phx.gbl>
References: <BAY101-F57186C510A5D3FC23B0AA8D610@phx.gbl>
Message-ID: <200607212337.54594.laurent.pinchart@skynet.be>

Hi Shawn,

> First of all, to the developers, thanks for all your hard work and effort
> on this project.

Thanks :-)

> I recently bought my QPfN and installed the uvcvideo driver.  I plug in my
> camera and everything seems to load fine.  But I'm not sure if it's
> working. Both aMSN and Ekiga don't seem to be working with the driver. 
> Other people seem to have this camera working, so I'm a little confused by
> my results.

I heard that aMSN doesn't work with MJPEG webcams. Ekiga should work though.

> Here's some useful info for starts
>
> #> lsusb
> Bus 001 Device 008: ID 046d:08c3 Logitech, Inc.
>
> #> lsmod
> Module                  Size  Used by
> uvcvideo               32452  0
> v4l1_compat            13380  1 uvcvideo
> videodev                7232  1 uvcvideo
> v4l2_common             6592  1 uvcvideo
>
> #> dmesg
> usb 1-1: new high speed USB device using ehci_hcd and address 9
> usb 1-1: configuration #1 chosen from 1 choice
> Linux video capture interface: v1.00
> uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c3)
> usbcore: registered new driver uvcvideo
> USB Video Class driver (v0.1.0)
>
> #> uname -a
> Linux project2501 2.6.16-gentoo-r13 #9 PREEMPT Thu Jul 20 23:14:19 JST 2006
> i686 Intel(R) Pentium(R) M processor 1500MHz GNU/Linux
> // ALSO STARTED WITH 2.6.14-gentoo-r2 WITH SAME RESULTS

Don't use 2.6.14. You need 2.6.15 or newer.

> ### This next bit is curious with unknown descriptor types.  broken
> hardware?? ###
> #> lsusb -v

No, that's normal. lsusb doesn't support UVC descriptors and report them as 
unknown. Get the latest version from CVS if you want lsusb to decode the UVC 
descriptors.

[snip]

> Testing with Ekiga 2.0.2
> Edit->Preferences ---> Devices->Video Devices
> Only "Picture" is listed under the Video Plugin combo box.
> No new messages in /var/log/messages (i.e. dmesg)

Did you compile Ekiga with v4l and v4l2 support ?

> Testing with aMSN
> Account->Preferences->Others->Configure Webcam->Change Video Settings
> I select "v4l2: USB Video Class..." under Devices column and "Camera" under
> Channels column.
>
> I get about 30 of
>
> ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
> [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.s
>econds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0
>;memory=unknown): Invalid argument
>
> in the terminal I used to start amsn. AND 3 of
>
> uvcvideo: Failed to query (1) UVC control 1 (unit 0) : -110
>
> in /var/log/messages
>
> I've don't some experimenting with no real differences, so I'll stop here.
> Am I doing something wrong or missing something?

It's aMSN's fault, not yours. You could try to fix it :-)

> Any other testing or programs I should try?  I saw somebody mention a
> uvctest program of sorts, but never found it.

You can try with luvcview which you can find on Michel Xhaard's website 
(Google is your friend).

> Thanks again to anyone who managed to keep reading this far.. :-)

You're welcome :-)

Laurent Pinchart


From mr_jobe at hotmail.com  Sat Jul 22 02:51:54 2006
From: mr_jobe at hotmail.com (Shawn R)
Date: Sat, 22 Jul 2006 00:51:54 +0000
Subject: [Linux-uvc-devel] Troubles with Logitech Quickcan Pro for
	Notebooks (046d:08
In-Reply-To: <200607212337.54594.laurent.pinchart@skynet.be>
Message-ID: <BAY101-F35C7F5719AB55159E885698D670@phx.gbl>


Thanks for your reply. It was useful.

>
>Don't use 2.6.14. You need 2.6.15 or newer.
>

yeah, I upgraded when I saw the note in the source code.  Maybe it is on the 
website and I was too blind to see it.  But my original message applied to 
the 2.6.16 kernel.

>
>Did you compile Ekiga with v4l and v4l2 support ?
>

OOps.. Looks like I forgot to add those to pwlib.  There doesn't seem to be 
any V4L options in ekiga directly.  After reinstalling pwlib with V4L 
support, Ekiga shows

#> ekiga -d 4

2006/07/22 09:24:19.238   0:01.918                        ekiga Detected 
audio plugins: ALSA,OSS
2006/07/22 09:24:19.239   0:01.918                        ekiga Detected 
video plugins: Picture,V4L2,V4L
2006/07/22 09:24:19.239   0:01.918                        ekiga Detected 
audio plugins: ALSA,OSS
2006/07/22 09:24:19.239   0:01.918                        ekiga Detected 
video plugins: Picture,V4L2,V4L
2006/07/22 09:24:19.312   0:01.992                        ekiga Detected the 
following audio input devices: Intel 82801DB-ICH4,Default with plugin ALSA
2006/07/22 09:24:19.313   0:01.992                        ekiga Detected the 
following audio output devices: Intel 82801DB-ICH4,Default with plugin ALSA
2006/07/22 09:24:19.313   0:01.993                        ekiga Detected the 
following video input devices: StaticPicture,MovingLogo with plugin Picture
2006/07/22 09:24:19.314   0:01.993                        ekiga Detected the 
following audio input devices: Intel 82801DB-ICH4,Default with plugin ALSA
2006/07/22 09:24:19.314   0:01.993                        ekiga Detected the 
following audio output devices: Intel 82801DB-ICH4,Default with plugin ALSA
2006/07/22 09:24:19.314   0:01.993                        ekiga Detected the 
following video input devices: StaticPicture,MovingLogo with plugin Picture
2006/07/22 09:24:27.733   0:10.412                        ekiga Ekiga 
version 2.0.2
2006/07/22 09:24:27.733   0:10.412                        ekiga OPAL version 
unknown
2006/07/22 09:24:27.734   0:10.413                        ekiga PWLIB 
version 1.10.1
2006/07/22 09:24:27.734   0:10.413                        ekiga GNOME 
support enabled
2006/07/22 09:24:27.734   0:10.413                        ekiga Fullscreen 
support enabled
2006/07/22 09:24:27.735   0:10.414                        ekiga DBUS support 
disabled
2006/07/22 09:24:27.739   0:10.418                        ekiga Set TCP port 
range to 30000:30010
2006/07/22 09:24:27.740   0:10.419                        ekiga Set RTP port 
range to 5000:5059
2006/07/22 09:24:27.740   0:10.419                        ekiga Set UDP port 
range to 5060:5100

Correct me if I'm wrong, but doesn't it seem as though Ekiga sees my camera 
as a V4L device and NOT V4L2 ??  And if I'm correct, wouldn't this be wrong?
Ekiga complains "Error while opening video device USB Video Class device" 
and "Your video driver doesn't support the requested video format."
This happens when trying both V4L and V4L2 plugins.
Also, I till get the following in my system log.

uvcvideo: Failed to query (1) UVC control 1 (unit 0) : -110.

>
>It's aMSN's fault, not yours. You could try to fix it :-)
>

I'd love to, but it's probably beyond my ability.


Thanks again.




From mateusz at kaduk.net  Sat Jul 22 17:28:02 2006
From: mateusz at kaduk.net (Mateusz Kaduk)
Date: Sat, 22 Jul 2006 17:28:02 +0200
Subject: [Linux-uvc-devel] Quickcam Express Diffrend Vendor
Message-ID: <1153582082.6760.10.camel@localhost.localdomain>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20060722/4fa9ae37/attachment.ksh>

From tante at emptiness.de  Sat Jul 22 17:42:48 2006
From: tante at emptiness.de (=?ISO-8859-1?Q?J=FCrgen_Geuter?=)
Date: Sat, 22 Jul 2006 17:42:48 +0200
Subject: [Linux-uvc-devel] Quickcam Express Diffrend Vendor
In-Reply-To: <1153582082.6760.10.camel@localhost.localdomain>
References: <1153582082.6760.10.camel@localhost.localdomain>
Message-ID: <44C24778.2090300@emptiness.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Mateusz Kaduk wrote:

> I bought Logitech Quickcam Express because it states on v4l it is
> supported, however it doesnt work.
> Any help please ?
> 
> Bus 002 Device 012: ID 046d:092f Logitech, Inc.

That webcam is not supported by the linux-uvc driver. Maybe the spca5xx
driver

media-video/spca5xx
Latest version available: 20060501
Latest version installed: [ Not Installed ]
Size of downloaded files: 564 kB
Homepage:    http://mxhaard.free.fr/spca5xx.html
Description: spca5xx driver for webcams.
License:     GPL-2

will work with it? I did not find that specific model in the supported
cards list but very similar model IDs.

- --
ICQ #81510866 - http://the-gay-bar.com - MSN thanatos at gambit.ath.cx
"Governments can be useful to the governed only so long as inherent
tendencies toward tyranny are restrained."
Frank Herbert, 'God Emperor Of Dune'
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFEwkd4rAehKXTNZasRAmhCAJ9mfibPBa84XKgrXVh/odBFgKj6BwCfZ+hI
plNdFmMzWskckmckKq5Fql0=
=MyW3
-----END PGP SIGNATURE-----


From martin_rubli at logitech.com  Sun Jul 23 08:30:07 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Sat, 22 Jul 2006 23:30:07 -0700
Subject: [Linux-uvc-devel] Quickcam Express Diffrend Vendor
In-Reply-To: <44C24778.2090300@emptiness.de>
References: <1153582082.6760.10.camel@localhost.localdomain>
	<44C24778.2090300@emptiness.de>
Message-ID: <op.tc4pohlrsttmjo@maya>

On Sat, 22 Jul 2006 08:42:48 -0700, J?rgen Geuter <tante at emptiness.de>  
wrote:

>> I bought Logitech Quickcam Express because it states on v4l it is
>> supported, however it doesnt work.
>> Any help please ?
>>
>> Bus 002 Device 012: ID 046d:092f Logitech, Inc.
>
> That webcam is not supported by the linux-uvc driver. Maybe the spca5xx
> driver
>media-video/spca5xx
> Latest version available: 20060501
> Latest version installed: [ Not Installed ]
> Size of downloaded files: 564 kB
> Homepage:    http://mxhaard.free.fr/spca5xx.html
> Description: spca5xx driver for webcams.
> License:     GPL-2
>
> will work with it? I did not find that specific model in the supported
> cards list but very similar model IDs.

Yes, the SPCA5xx driver should work with the camera because it contains  
the same chip as some of the other cameras it is known to work with.

Mateusz, if it works for you, please send a quick e-mail with a little  
more detail (quality, etc.) to Michel Xhaard, the author of the SPCA5xx  
driver so he can add it to the list.

Cheers,
Martin


From mateusz at kaduk.net  Sun Jul 23 09:18:45 2006
From: mateusz at kaduk.net (Mateusz Kaduk)
Date: Sun, 23 Jul 2006 09:18:45 +0200
Subject: [Linux-uvc-devel] Quickcam Express Diffrend Vendor
In-Reply-To: <op.tc4pohlrsttmjo@maya>
References: <1153582082.6760.10.camel@localhost.localdomain>
	<44C24778.2090300@emptiness.de>  <op.tc4pohlrsttmjo@maya>
Message-ID: <1153639125.24046.19.camel@localhost.localdomain>

An embedded and charset-unspecified text was scrubbed...
Name: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20060723/41926f01/attachment.ksh>

From laurent.pinchart at skynet.be  Sun Jul 23 13:06:10 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 23 Jul 2006 13:06:10 +0200
Subject: [Linux-uvc-devel] Troubles with Logitech Quickcan Pro for
	Notebooks (046d:08
In-Reply-To: <BAY101-F35C7F5719AB55159E885698D670@phx.gbl>
References: <BAY101-F35C7F5719AB55159E885698D670@phx.gbl>
Message-ID: <200607231306.10891.laurent.pinchart@skynet.be>

> >Did you compile Ekiga with v4l and v4l2 support ?
>
> OOps.. Looks like I forgot to add those to pwlib.  There doesn't seem to be
> any V4L options in ekiga directly.  After reinstalling pwlib with V4L
> support, Ekiga shows
>
> #> ekiga -d 4
>
[snip] 
> ekiga Detected video plugins: Picture,V4L2,V4L
[snip]

That's better.

> Correct me if I'm wrong, but doesn't it seem as though Ekiga sees my camera
> as a V4L device and NOT V4L2 ??  And if I'm correct, wouldn't this be
> wrong?

Ekiga doesn't try to detect if your webcam is a V4L or V4L2 device. You will 
see the webcam in both the V4L and V4L2 device lists. Selecting V4L will of 
course fail, there's nothing to worry about.

> Ekiga complains "Error while opening video device USB Video Class 
> device" and "Your video driver doesn't support the requested video format."
> This happens when trying both V4L and V4L2 plugins.

> Also, I till get the following in my system log.
>
> uvcvideo: Failed to query (1) UVC control 1 (unit 0) : -110.

That's bad. This means the infamous firmware bug affects your computer. 
Depending on your USB controller, a bug in the webcam's firmware might be 
triggered which results in communication failures with the webcam. You might 
be able to work around the problem by applying the following patch:

https://lists.berlios.de/pipermail/linux-uvc-devel/2006-February/000269.html

I'd like to find a proper solution for the problem, which does not appear 
under Windows, but I might apply the patch as a workaround if we can't solve 
the problem properly.

Laurent Pinchart


From brent.pinkney at aircom.co.za  Mon Jul 24 22:28:29 2006
From: brent.pinkney at aircom.co.za (Brent Pinkney)
Date: Mon, 24 Jul 2006 22:28:29 +0200
Subject: [Linux-uvc-devel] UHCI or EHCI ?
Message-ID: <200607242228.29535.brent.pinkney@aircom.co.za>

Hi,

I have a nice, expensive Logitech QuickCam for Notebooks on a Dell D610. This laptop has four (two pairs) of USB ports.

The camera works fine on one pair, but not on the other. I suspect that one pair used UHCI and the other EHCI ?

Does this driver work with UHCI or EHCI only ?


Brent


From chrivers at iversen-net.dk  Tue Jul 25 01:12:54 2006
From: chrivers at iversen-net.dk (Christian Iversen)
Date: Tue, 25 Jul 2006 01:12:54 +0200
Subject: [Linux-uvc-devel] UHCI or EHCI ?
In-Reply-To: <200607242228.29535.brent.pinkney@aircom.co.za>
References: <200607242228.29535.brent.pinkney@aircom.co.za>
Message-ID: <200607250112.54944.chrivers@iversen-net.dk>

On Monday 24 July 2006 22:28, Brent Pinkney wrote:
> Hi,
>
> I have a nice, expensive Logitech QuickCam for Notebooks on a Dell D610.
> This laptop has four (two pairs) of USB ports.
>
> The camera works fine on one pair, but not on the other. I suspect that one
> pair used UHCI and the other EHCI ?
>
> Does this driver work with UHCI or EHCI only ?

EHCI only, at least with yuv-raw transfers. I don't know if MJPEG output works 
over UHCI, but I don't suppose so.

-- 
Regards,
Christian Iversen


From martin_rubli at logitech.com  Tue Jul 25 04:03:28 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Mon, 24 Jul 2006 19:03:28 -0700
Subject: [Linux-uvc-devel] UHCI or EHCI ?
In-Reply-To: <200607250112.54944.chrivers@iversen-net.dk>
References: <200607242228.29535.brent.pinkney@aircom.co.za>
	<200607250112.54944.chrivers@iversen-net.dk>
Message-ID: <op.tc72n2jysttmjo@maya>

On Mon, 24 Jul 2006 16:12:54 -0700, Christian Iversen
<chrivers at iversen-net.dk> wrote:

> On Monday 24 July 2006 22:28, Brent Pinkney wrote:
>> Hi,
>>
>> I have a nice, expensive Logitech QuickCam for Notebooks on a Dell D610.
>> This laptop has four (two pairs) of USB ports.
>>
>> The camera works fine on one pair, but not on the other. I suspect that  
>> one
>> pair used UHCI and the other EHCI ?
>>
>> Does this driver work with UHCI or EHCI only ?
>
> EHCI only, at least with yuv-raw transfers. I don't know if MJPEG output  
> works over UHCI, but I don't suppose so.

No, MJPEG works with UHCI too. Here's the uvcvideo debug output of a
Notebook Pro with UHCI:

uvcvideo: Found format MJPEG.
uvcvideo: - 160x120 (30.0 fps)
uvcvideo: - 176x144 (30.0 fps)
uvcvideo: - 320x240 (15.0 fps)
uvcvideo: - 352x288 (30.0 fps)
uvcvideo: - 432x240 (30.0 fps)
uvcvideo: - 480x360 (30.0 fps)
uvcvideo: - 512x288 (30.0 fps)
uvcvideo: - 640x360 (30.0 fps)
uvcvideo: - 640x480 (15.0 fps)
uvcvideo: - 704x576 (15.0 fps)
uvcvideo: - 864x480 (15.0 fps)

And here's the same camera with EHCI:

uvcvideo: Found format MJPEG.
uvcvideo: - 160x120 (30.0 fps)
uvcvideo: - 176x144 (30.0 fps)
uvcvideo: - 320x240 (15.0 fps)
uvcvideo: - 352x288 (30.0 fps)
uvcvideo: - 432x240 (30.0 fps)
uvcvideo: - 480x360 (30.0 fps)
uvcvideo: - 512x288 (30.0 fps)
uvcvideo: - 640x360 (30.0 fps)
uvcvideo: - 640x480 (15.0 fps)
uvcvideo: - 704x576 (15.0 fps)
uvcvideo: - 864x480 (15.0 fps)
uvcvideo: - 960x720 (15.0 fps)
uvcvideo: Found format Uncompressed.
uvcvideo: - 1024x576 (10.0 fps)
uvcvideo: - 1280x960 (7.5 fps)

Cheers,
Martin


From m.blizinski at wit.edu.pl  Tue Jul 25 18:19:43 2006
From: m.blizinski at wit.edu.pl (Maciej =?UTF-8?Q?Blizi=C5=84ski?=)
Date: Tue, 25 Jul 2006 18:19:43 +0200
Subject: [Linux-uvc-devel] Capture from UVC with MPlayer
In-Reply-To: <200607042211.49308.laurent.pinchart@skynet.be>
References: <1151569713.17381.19.camel@localhost.localnet>
	<op.tbw03gensttmjo@maya> <1151601811.17381.77.camel@localhost.localnet>
	<200607042211.49308.laurent.pinchart@skynet.be>
Message-ID: <1153844383.16328.37.camel@localhost.localnet>

On Tue, 2006-07-04 at 22:11 +0200, Laurent Pinchart wrote:
> Anyway the problem with the v4l2 input module is that it doesn't set the 
> v4l2_buffer.memory field before calling VIDIOC_QBUF and VIDIOC_DQBUF 
> (libmpdemux/tvi_v4l2.c, lines 881, 1401, 1425 and 1519).
> 
> That would only take a few minutes to fix. Could you submit the request to 
> Martin Olschewski ?

There is progress. Martin has written a patch for mplayer v4l2 driver
which fixed it partially. We're close, but not there yet.

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From kyojin_no_hokuro at yahoo.co.jp  Wed Jul 26 04:36:08 2006
From: kyojin_no_hokuro at yahoo.co.jp (=?iso-2022-jp?B?c2hhemFybg==?=)
Date: Wed, 26 Jul 2006 04:36:08 +0200 (CEST)
Subject: =?iso-8859-1?q?_=5BLinux-uvc-devel=5D_=1B=24B7HBSHV9f8r49=247=24?=
	=?iso-8859-1?q?F2=3C=245=24=24=1B=28B?=
Message-ID: <20060726023608.4A9815BADF@bat.berlios.de>

?????????? 

 http://rxtk.com?01

?????????????????????

???????
????????????????????
?????????????????????????
??????????
????????????????????????????
?????




????????????????? 

iranai at qrkn.com




From m.blizinski at wit.edu.pl  Wed Jul 26 09:10:32 2006
From: m.blizinski at wit.edu.pl (Maciej =?UTF-8?Q?Blizi=C5=84ski?=)
Date: Wed, 26 Jul 2006 09:10:32 +0200
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
In-Reply-To: <f4586a2e0607252317j62cfc17ft8fd6940bd9da707e@mail.gmail.com>
References: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
	<1153217760.6702.4.camel@localhost.localdomain>
	<f4586a2e0607252317j62cfc17ft8fd6940bd9da707e@mail.gmail.com>
Message-ID: <1153897832.21353.6.camel@localhost.localnet>

On Wed, 2006-07-26 at 11:47 +0530, Parag N(????) wrote:
> Hi,
>   I also need working application for video recording and all other
> webcam viewer features software. I would like to know how u got
> succeed in using Ekiga with this quickcam pro 5000 webcam?

Once the uvcvideo module is loaded, Ekiga recognized the webcam in
Edit->Preferences->Video devices.

The important thing about Ekiga is that you must have V4L2 support
enabled (compiled in). You can check that in Edit->Preferences->Video
Devices, Video plugin. There should be a V4L2 option.

If the Ekiga in your distribution doesn't have V4L2 support enabled, you
have to either find a package for your distro with V4L2 enabled, or
compile Ekiga yourself.

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From ralph at mueller-welt.net  Wed Jul 26 10:26:45 2006
From: ralph at mueller-welt.net (Ralph =?iso-8859-1?q?M=FCller-Welt?=)
Date: Wed, 26 Jul 2006 10:26:45 +0200
Subject: [Linux-uvc-devel] v4l2? on camsource help-forum
Message-ID: <200607261026.45184.ralph@mueller-welt.net>

I tried the following for my Logitech QuickCam Sphere/Orbit (ID 046d:08c2) 
with uvcvideo (http://developer.berlios.de/projects/linux-uvc/) 
on /dev/video1: 
 
Minimal config. 
<?xml version="1.0"?> 
 
<camsourceconfig> 
 <camdev name="default" active="yes"> 
 <plugin>input_v4l</plugin> 
 <path>/dev/video1</path> 
 </camdev> 
 <logfile>~/.camsource.log</logfile> 
 
 <module name="input_v4l" active="yes"/> 
 <module name="filewrite" active="yes"> 
 <path>~/camera.jpg</path> 
 <interval unit="sec">30</interval> 
 <chmod>0644</chmod> 
 </module> 
</camsourceconfig> 
 
Output is 
Camsource 0.7.0 starting up... 
Loading modules: 
 input_v4l (alias input_v4l) version 0.7.0 OK 
 jpeg_comp (alias jpeg_comp) version 0.7.0 OK 
 filewrite (alias filewrite) version 0.7.0 OK 
 
Capability info for /dev/video1: 
 Name: USB Video Class device 
 Can capture to memory 
 Doesn't have a tuner 
 Cannot receive teletext 
 Overlay is not chromakeyed 
 Overlay clipping is not supported 
 Overlay doesn't overwrite frame buffer mem 
 Hardware image scaling not supported 
 Captures in color 
 Can capture the complete image 
 Number of channels: 1 
 Number of audio devices: 0 
 Grabbing frame size: 
 Min: 48x32 
 Max: 960x720 
 
Palette information: 
 Currenctly active palette: not found/supported? (value 0, depth 32821) 
 Probing for supported palettes: 
 Palette "bgr24" supported: No 
 Palette "rgb24" supported: No 
 Palette "bgr32" supported: No 
 Palette "rgb32" supported: No 
 Palette "yuyv (16 bpp)" supported: No 
 Palette "yuv422 (16 bpp)" supported: No 
 Palette "rgb565" supported: No 
 Palette "rgb555" supported: No 
 Palette "yuv420 planar (12 bpp)" supported: No 
 Palette "yuv420 (12 bpp)" supported: No 
 Palette "grayscale (8 bpp)" supported: No 
 
Camsource doesn't write a log! 
 
And /var/log/messages contains 
Jul 26 10:01:52 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:52 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:52 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:53 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:53 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:53 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:54 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:54 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:54 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:55 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:55 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:55 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:56 RalphiX kernel: uvcvideo: Failed to query (1) UVC control 1 
(unit 0) : -110. 
Jul 26 10:01:56 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:56 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:57 RalphiX kernel: uvcvideo: Failed to query (1) UVC control 1 
(unit 0) : -110. 
Jul 26 10:01:57 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:58 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:58 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:58 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:58 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:59 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:59 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:59 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (132) UVC control 2 
(unit 2) : -32. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 3 
(unit 2) : -32. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 3 
(unit 2) : -32. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (132) UVC control 3 
(unit 2) : -32. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:02:02 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:02:02 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:02:02 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
 
But v4l-info /dev/video1 shows  
### v4l2 device info [/dev/video1] ### 
general info 
 VIDIOC_QUERYCAP 
 driver : "uvcvideo" 
 card : "USB Video Class device" 
 bus_info : "0000:00:10.4" 
 version : 0.1.0 
 capabilities : 0x4000001 [VIDEO_CAPTURE,STREAMING] 
 
standards 
 
inputs 
 VIDIOC_ENUMINPUT(0) 
 index : 0 
 name : "Camera" 
 type : CAMERA 
 audioset : 0 
 tuner : 0 
 std : 0x0 [] 
 status : 0x0 [] 
 
video capture 
 VIDIOC_ENUM_FMT(0,VIDEO_CAPTURE) 
 index : 0 
 type : VIDEO_CAPTURE 
 flags : 1 
 description : "MJPEG" 
 pixelformat : 0x47504a4d [MJPG] 
 VIDIOC_ENUM_FMT(1,VIDEO_CAPTURE) 
 index : 1 
 type : VIDEO_CAPTURE 
 flags : 0 
 description : "Uncompressed" 
 pixelformat : 0x56595559 [YUYV] 
 VIDIOC_G_FMT(VIDEO_CAPTURE) 
 type : VIDEO_CAPTURE 
 fmt.pix.width : 960 
 fmt.pix.height : 720 
 fmt.pix.pixelformat : 0x47504a4d [MJPG] 
 fmt.pix.field : NONE 
 fmt.pix.bytesperline : 0 
 fmt.pix.sizeimage : 341333 
 fmt.pix.colorspace : SRGB 
 fmt.pix.priv : 0 
 
controls 
 VIDIOC_QUERYCTRL(BASE+0) 
 id : 9963776 
 type : INTEGER 
 name : "Brightness" 
 minimum : 0 
 maximum : 255 
 step : 1 
 default_value : 127 
 flags : 0 
 VIDIOC_QUERYCTRL(BASE+1) 
 id : 9963777 
 type : INTEGER 
 name : "Contrast" 
 minimum : 0 
 maximum : 255 
 step : 1 
 default_value : 32 
 flags : 0 
 VIDIOC_QUERYCTRL(BASE+2) 
 id : 9963778 
 type : INTEGER 
 name : "Saturation" 
 minimum : 0 
 maximum : 255 
 step : 1 
 default_value : 32 
 flags : 0 
 VIDIOC_QUERYCTRL(PRIVATE_BASE+0) 
 id : 134217728 
 type : INTEGER 
 name : "Backlight Compensation" 
 minimum : 0 
 maximum : 2 
 step : 1 
 default_value : 1 
 flags : 0 
 VIDIOC_QUERYCTRL(PRIVATE_BASE+1) 
 id : 134217729 
 type : MENU 
 name : "Power Line Frequency" 
 minimum : 0 
 maximum : 2 
 step : 1 
 default_value : 2 
 flags : 0 
 VIDIOC_QUERYCTRL(PRIVATE_BASE+2) 
 id : 134217730 
 type : INTEGER 
 name : "Sharpness" 
 minimum : 0 
 maximum : 255 
 step : 1 
 default_value : 180 
 flags : 0 
 
### video4linux device info [/dev/video1] ### 
general info 
 VIDIOCGCAP 
 name : "USB Video Class device" 
 type : 0x1 [CAPTURE] 
 channels : 1 
 audios : 0 
 maxwidth : 960 
 maxheight : 720 
 minwidth : 48 
 minheight : 32 
 
channels 
ioctl VIDIOCGCHAN: Invalid argument 
 
tuner 
ioctl VIDIOCGTUNER: Invalid argument 
 
audio 
ioctl VIDIOCGAUDIO: Invalid argument 
 
picture 
 VIDIOCGPICT 
 brightness : 0 
 hue : 0 
 colour : 8224 
 contrast : 0 
 whiteness : 65535 
 depth : 32821 
 palette : unknown 
 
buffer 
ioctl VIDIOCGFBUF: Invalid argument 
 
window 
 VIDIOCGWIN 
 x : 0 
 y : 0 
 width : 960 
 height : 720 
 chromakey : 0 
 flags : 0 
 
So i guess camsource tries to use /dev/video1 as video4linux device or doesn't 
recognice the v4l2 features of the uvcvideo-driver. 
 
Anyone can help? 
 
Ralph. 
PS: CC 2 uvcvideo-mailinglist 
 


From m.blizinski at wit.edu.pl  Wed Jul 26 10:36:31 2006
From: m.blizinski at wit.edu.pl (Maciej =?UTF-8?Q?Blizi=C5=84ski?=)
Date: Wed, 26 Jul 2006 10:36:31 +0200
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
In-Reply-To: <f4586a2e0607260019x359cdf40p8158099317187eda@mail.gmail.com>
References: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
	<1153217760.6702.4.camel@localhost.localdomain>
	<f4586a2e0607252317j62cfc17ft8fd6940bd9da707e@mail.gmail.com>
	<1153897832.21353.6.camel@localhost.localnet>
	<f4586a2e0607260019x359cdf40p8158099317187eda@mail.gmail.com>
Message-ID: <1153902991.24434.30.camel@localhost.localnet>

On Wed, 2006-07-26 at 12:49 +0530, Parag N(????) wrote:
>   Did you used Ekiga's CVS version or which one?? Actually i am trying
> to use this on RHEL 4 U3 but as its kernel is 2.6.9 driver uvcvideo is
> not working so i upgraded to 2.6.17 kernel and module worked fine. Now
> which version of Ekiga do you suggest?

I'm using 2.0.2, 2.0.1 was also fine.

> Did you face any prior
> dependency of any package required to compile Ekiga?

Gentoo portage compiles all the dependencies by itself, so I have to
admit to be not aware of them. But the Ekiga websites has information
about what is needed. I think it was pwlib and opal.

> Any other working
> software do you know for Logitech QuickCam Pro 5000 that will support
> video recording also?

The mplayer is almost ready. You can now apply two patches,
noformatcheck.path and tuner.patch (you can find them on this mailing
list) and record the video with mplayer. 

After applying those patches, I was able to record video with this
monster command-line invocation:

mencoder -tv device=/dev/video0:driver=v4l2:outfmt=yuy2:width=320:height=240:adevice=/dev/dsp:forceaudio -vc rawyuy2 -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=320 -oac mp3lame -lameopts cbr:br=128:mode=0 -o 1.avi tv://

However, I'm talking with the V4L2 driver author, to make mplayer and
mencoder work with the unpatched UVC driver.

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From panemade at gmail.com  Wed Jul 26 10:56:16 2006
From: panemade at gmail.com (=?UTF-8?Q?Parag_N(=E0=A4=AA=E0=A4=B0=E0=A4=BE=E0=A5=9A)?=)
Date: Wed, 26 Jul 2006 14:26:16 +0530
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
In-Reply-To: <1153902991.24434.30.camel@localhost.localnet>
References: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
	<1153217760.6702.4.camel@localhost.localdomain>
	<f4586a2e0607252317j62cfc17ft8fd6940bd9da707e@mail.gmail.com>
	<1153897832.21353.6.camel@localhost.localnet>
	<f4586a2e0607260019x359cdf40p8158099317187eda@mail.gmail.com>
	<1153902991.24434.30.camel@localhost.localnet>
Message-ID: <f4586a2e0607260156s1b473238x86ed747e8cf0834@mail.gmail.com>

Hi,
  On 7/26/06, Maciej Blizi?ski <m.blizinski at wit.edu.pl> wrote:
> On Wed, 2006-07-26 at 12:49 +0530, Parag N(????) wrote:
> >   Did you used Ekiga's CVS version or which one?? Actually i am trying
> > to use this on RHEL 4 U3 but as its kernel is 2.6.9 driver uvcvideo is
> > not working so i upgraded to 2.6.17 kernel and module worked fine. Now
> > which version of Ekiga do you suggest?
>
> I'm using 2.0.2, 2.0.1 was also fine.
> > Did you face any prior
> > dependency of any package required to compile Ekiga?
>
> Gentoo portage compiles all the dependencies by itself, so I have to
> admit to be not aware of them. But the Ekiga websites has information
> about what is needed. I think it was pwlib and opal.

Thanks i got it on ekiga website. Trying CVS version directly now.

>
> > Any other working
> > software do you know for Logitech QuickCam Pro 5000 that will support
> > video recording also?
>
> The mplayer is almost ready. You can now apply two patches,
> noformatcheck.path and tuner.patch (you can find them on this mailing
> list) and record the video with mplayer.

  I searched for them but didn't get. Can you provide me a link to
those patches?

>
> After applying those patches, I was able to record video with this
> monster command-line invocation:
>
> mencoder -tv device=/dev/video0:driver=v4l2:outfmt=yuy2:width=320:height=240:adevice=/dev/dsp:forceaudio -vc rawyuy2 -ovc lavc -lavcopts vcodec=mpeg4:vbitrate=320 -oac mp3lame -lameopts cbr:br=128:mode=0 -o 1.avi tv://
>
> However, I'm talking with the V4L2 driver author, to make mplayer and
> mencoder work with the unpatched UVC driver.
>
> --
> Maciej Blizi?ski <m.blizinski at wit.edu.pl>
> http://automatthias.wordpress.com
>
>

From marcel at datkan.net  Wed Jul 26 10:56:28 2006
From: marcel at datkan.net (Marcel van Beurden)
Date: Wed, 26 Jul 2006 10:56:28 +0200
Subject: [Linux-uvc-devel] UVC on debian with 2.4 kernel?
Message-ID: <44C72E3C.4030303@datkan.net>

Hi,

I downloaded the newly created debian package for linux-uvc [1] and 
tried to build it. Unfortunately this doesn't work (see [2]).

My question, is this driver supposed to build/work on debian testing 
with a 2.4 kernel? And if yes, how?

marcel at debian:~$ uname -a
Linux debian 2.4.27-2-586tsc #1 Wed Nov 30 21:29:45 JST 2005 i686 GNU/Linux

Regards,
Marcel

[1] http://packages.debian.org/unstable/graphics/linux-uvc-source
[2] 
http://mrcl.xs4all.nl/linux-uvc-source.buildlog.2.4.27-2-586tsc.1153868037


From m.blizinski at wit.edu.pl  Wed Jul 26 11:19:02 2006
From: m.blizinski at wit.edu.pl (Maciej =?UTF-8?Q?Blizi=C5=84ski?=)
Date: Wed, 26 Jul 2006 11:19:02 +0200
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
In-Reply-To: <f4586a2e0607260156s1b473238x86ed747e8cf0834@mail.gmail.com>
References: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
	<1153217760.6702.4.camel@localhost.localdomain>
	<f4586a2e0607252317j62cfc17ft8fd6940bd9da707e@mail.gmail.com>
	<1153897832.21353.6.camel@localhost.localnet>
	<f4586a2e0607260019x359cdf40p8158099317187eda@mail.gmail.com>
	<1153902991.24434.30.camel@localhost.localnet>
	<f4586a2e0607260156s1b473238x86ed747e8cf0834@mail.gmail.com>
Message-ID: <1153905542.17377.4.camel@localhost.localnet>

On Wed, 2006-07-26 at 14:26 +0530, Parag N(????) wrote:
>   I searched for them but didn't get. Can you provide me a link to
> those patches?

Here you go:
https://lists.berlios.de/pipermail/linux-uvc-devel/2006-February/000210.html

Google doesn't seem to index the list archives, by the way.

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From panemade at gmail.com  Wed Jul 26 11:23:48 2006
From: panemade at gmail.com (=?UTF-8?Q?Parag_N(=E0=A4=AA=E0=A4=B0=E0=A4=BE=E0=A5=9A)?=)
Date: Wed, 26 Jul 2006 14:53:48 +0530
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
In-Reply-To: <1153905542.17377.4.camel@localhost.localnet>
References: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
	<1153217760.6702.4.camel@localhost.localdomain>
	<f4586a2e0607252317j62cfc17ft8fd6940bd9da707e@mail.gmail.com>
	<1153897832.21353.6.camel@localhost.localnet>
	<f4586a2e0607260019x359cdf40p8158099317187eda@mail.gmail.com>
	<1153902991.24434.30.camel@localhost.localnet>
	<f4586a2e0607260156s1b473238x86ed747e8cf0834@mail.gmail.com>
	<1153905542.17377.4.camel@localhost.localnet>
Message-ID: <f4586a2e0607260223lc4ea803x5f785a0149ef6661@mail.gmail.com>

Hi,
On 7/26/06, Maciej Blizi?ski <m.blizinski at wit.edu.pl> wrote:
> On Wed, 2006-07-26 at 14:26 +0530, Parag N(????) wrote:
> >   I searched for them but didn't get. Can you provide me a link to
> > those patches?
>
> Here you go:
> https://lists.berlios.de/pipermail/linux-uvc-devel/2006-February/000210.html
 I saw that thread and found description of that patch as
================================================================
 I wrote a patch to reset the camera on device close if an IO error
occurred, and on device
initialization failure.
===================================================================
Whereas as per you said i need tuner.patch and noformatcheck.patch patches.
Is that right? Or i should go ahead of patching uvcvideo from that mail thread?
>
> Google doesn't seem to index the list archives, by the way.
>
> --
> Maciej Blizi?ski <m.blizinski at wit.edu.pl>
> http://automatthias.wordpress.com
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> http://bat.berlios.de/mailman/listinfo/linux-uvc-devel
>

From m.blizinski at wit.edu.pl  Wed Jul 26 11:39:44 2006
From: m.blizinski at wit.edu.pl (Maciej =?UTF-8?Q?Blizi=C5=84ski?=)
Date: Wed, 26 Jul 2006 11:39:44 +0200
Subject: [Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
In-Reply-To: <f4586a2e0607260223lc4ea803x5f785a0149ef6661@mail.gmail.com>
References: <3811f58c0607171438ge805878re31e50b29575fc51@mail.gmail.com>
	<1153217760.6702.4.camel@localhost.localdomain>
	<f4586a2e0607252317j62cfc17ft8fd6940bd9da707e@mail.gmail.com>
	<1153897832.21353.6.camel@localhost.localnet>
	<f4586a2e0607260019x359cdf40p8158099317187eda@mail.gmail.com>
	<1153902991.24434.30.camel@localhost.localnet>
	<f4586a2e0607260156s1b473238x86ed747e8cf0834@mail.gmail.com>
	<1153905542.17377.4.camel@localhost.localnet>
	<f4586a2e0607260223lc4ea803x5f785a0149ef6661@mail.gmail.com>
Message-ID: <1153906784.17378.13.camel@localhost.localnet>

On Wed, 2006-07-26 at 14:53 +0530, Parag N(????) wrote:
>  I saw that thread and found description of that patch as
> ================================================================
>  I wrote a patch to reset the camera on device close if an IO error
> occurred, and on device
> initialization failure.
> ===================================================================
> Whereas as per you said i need tuner.patch and noformatcheck.patch patches.
> Is that right? Or i should go ahead of patching uvcvideo from that mail thread?

Ooops, my bad. Wrong patch. However, if you have QC Pro 5000, you'll
pull all the hair out of your head without it.

Meanwhile...

Noformatcheck:
http://lists.berlios.de/pipermail/linux-uvc-devel/2006-February/000308.html

Tuner:
http://lists.berlios.de/pipermail/linux-uvc-devel/2006-February/000309.html

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com



From nick at customdesigns.ca  Wed Jul 26 17:03:44 2006
From: nick at customdesigns.ca (Nick Wiltshire)
Date: Wed, 26 Jul 2006 09:03:44 -0600
Subject: [Linux-uvc-devel] UVC on debian with 2.4 kernel?
In-Reply-To: <44C72E3C.4030303@datkan.net>
References: <44C72E3C.4030303@datkan.net>
Message-ID: <200607260903.45369.nick@customdesigns.ca>

On Wednesday 26 July 2006 2:56 am, Marcel van Beurden wrote:
> Hi,
>
> I downloaded the newly created debian package for linux-uvc [1] and
> tried to build it. Unfortunately this doesn't work (see [2]).
>
> My question, is this driver supposed to build/work on debian testing
> with a 2.4 kernel? And if yes, how?
>

The driver requires at minimum a 2.6.15 kernel, last I checked.

> marcel at debian:~$ uname -a
> Linux debian 2.4.27-2-586tsc #1 Wed Nov 30 21:29:45 JST 2005 i686 GNU/Linux
>
> Regards,
> Marcel
>
> [1] http://packages.debian.org/unstable/graphics/linux-uvc-source
> [2]
> http://mrcl.xs4all.nl/linux-uvc-source.buildlog.2.4.27-2-586tsc.1153868037
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> http://bat.berlios.de/mailman/listinfo/linux-uvc-devel


From tante at emptiness.de  Thu Jul 27 12:37:49 2006
From: tante at emptiness.de (=?UTF-8?B?SsO8cmdlbiBHZXV0ZXI=?=)
Date: Thu, 27 Jul 2006 12:37:49 +0200
Subject: [Linux-uvc-devel] linux-uvc in the official Gentoo Portage Tree
Message-ID: <44C8977D.60909@emptiness.de>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hossa

linux-uvc is in the official gentoo portage tree now, so no more ebuilds
from overlays anymore.
*  media-video/linux-uvc
      Latest version available: 0.0.1_pre41
      Latest version installed: [ Not Installed ]
      Size of downloaded files: 72 kB
      Homepage:    http://linux-uvc.berlios.de/
      Description: Linux driver and user-space tools for USB Video Class
devices.
      License:     GPL-2

J?rgen Geuter
- --
ICQ #81510866 - http://the-gay-bar.com - MSN thanatos at gambit.ath.cx
"Governments can be useful to the governed only so long as inherent
tendencies toward tyranny are restrained."
Frank Herbert, 'God Emperor Of Dune'
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFEyJd9rAehKXTNZasRAgwQAJwJBuPgr30mdlc7qOjXqonKMGfXgQCfbGe8
De6NKLjDi0+CLqfly5B+5Ro=
=WUQo
-----END PGP SIGNATURE-----


From l.schimmer at cgv.tugraz.at  Thu Jul 27 16:36:12 2006
From: l.schimmer at cgv.tugraz.at (Lars Schimmer)
Date: Thu, 27 Jul 2006 16:36:12 +0200
Subject: [Linux-uvc-devel] Logitech QuickcamPro USB Notebook an debian
Message-ID: <44C8CF5C.8000100@cgv.tugraz.at>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi!

I just got a new Logitech USB QuickCam Pro Notebook for me.
Under windows  it works flawless ;-)
Now I want to get it done under Linux.
My system is a amd64 debian sarge/etch/sid mix with 2.6.17 kernel.
I grabbed the debian source package for UVC (0.1.0-1) and built a module.
After loading the module, usbview finds the usb cam and tells me
everthing is OK.
But how to go on?
xarv tells me error, camstream tells me nothing,...
How can I get a picture or a stream?
Even the ffmpeg -vd /dev/video0 -s 640x480 -r 5 -b 5000 -y -vcodec mpeg4
- -f avi - | mplayer -
does nothing, it keeps at 0%.

Anyone got a tip for me?

MfG,
Lars Schimmer
- --
- -------------------------------------------------------------
TU Graz, Institut f?r ComputerGraphik & WissensVisualisierung
Tel: +43 316 873-5405       E-Mail: l.schimmer at cgv.tugraz.at
Fax: +43 316 873-5402       PGP-Key-ID: 0x4A9B1723
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFEyM9cmWhuE0qbFyMRAh8TAJ9pLpsyOHO3CJpwRdGT1TBrEFK2zwCeN34L
g8iylHq9kI153XdAigyv9KQ=
=UkzT
-----END PGP SIGNATURE-----


From nick at customdesigns.ca  Thu Jul 27 19:52:05 2006
From: nick at customdesigns.ca (Nick Wiltshire)
Date: Thu, 27 Jul 2006 11:52:05 -0600
Subject: [Linux-uvc-devel] Logitech QuickcamPro USB Notebook an debian
In-Reply-To: <44C8CF5C.8000100@cgv.tugraz.at>
References: <44C8CF5C.8000100@cgv.tugraz.at>
Message-ID: <200607271152.05669.nick@customdesigns.ca>

On Thursday 27 July 2006 8:36 am, Lars Schimmer wrote:
> Hi!
>
> I just got a new Logitech USB QuickCam Pro Notebook for me.
> Under windows  it works flawless ;-)
> Now I want to get it done under Linux.
> My system is a amd64 debian sarge/etch/sid mix with 2.6.17 kernel.
> I grabbed the debian source package for UVC (0.1.0-1) and built a module.
> After loading the module, usbview finds the usb cam and tells me
> everthing is OK.
> But how to go on?
> xarv tells me error, camstream tells me nothing,...
> How can I get a picture or a stream?
> Even the ffmpeg -vd /dev/video0 -s 640x480 -r 5 -b 5000 -y -vcodec mpeg4
> -f avi - | mplayer -
> does nothing, it keeps at 0%.
>
> Anyone got a tip for me?

Update your kernel to 2.6.15 or newer.

>
> MfG,
> Lars Schimmer


From nick at customdesigns.ca  Thu Jul 27 19:54:01 2006
From: nick at customdesigns.ca (Nick Wiltshire)
Date: Thu, 27 Jul 2006 11:54:01 -0600
Subject: [Linux-uvc-devel] Logitech QuickcamPro USB Notebook an debian
In-Reply-To: <200607271152.05669.nick@customdesigns.ca>
References: <44C8CF5C.8000100@cgv.tugraz.at>
	<200607271152.05669.nick@customdesigns.ca>
Message-ID: <200607271154.01767.nick@customdesigns.ca>

On Thursday 27 July 2006 11:52 am, Nick Wiltshire wrote:
> On Thursday 27 July 2006 8:36 am, Lars Schimmer wrote:
> > Hi!
> >
> > I just got a new Logitech USB QuickCam Pro Notebook for me.
> > Under windows  it works flawless ;-)
> > Now I want to get it done under Linux.
> > My system is a amd64 debian sarge/etch/sid mix with 2.6.17 kernel.
> > I grabbed the debian source package for UVC (0.1.0-1) and built a module.
> > After loading the module, usbview finds the usb cam and tells me
> > everthing is OK.
> > But how to go on?
> > xarv tells me error, camstream tells me nothing,...
> > How can I get a picture or a stream?
> > Even the ffmpeg -vd /dev/video0 -s 640x480 -r 5 -b 5000 -y -vcodec mpeg4
> > -f avi - | mplayer -
> > does nothing, it keeps at 0%.
> >
> > Anyone got a tip for me?
>
> Update your kernel to 2.6.15 or newer.

Haha I read your kernel version wrong...disregard.... 

>
> > MfG,
> > Lars Schimmer
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> http://bat.berlios.de/mailman/listinfo/linux-uvc-devel


From laurent.pinchart at skynet.be  Thu Jul 27 23:49:15 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 27 Jul 2006 23:49:15 +0200
Subject: [Linux-uvc-devel] Logitech QuickcamPro USB Notebook an debian
In-Reply-To: <44C8CF5C.8000100@cgv.tugraz.at>
References: <44C8CF5C.8000100@cgv.tugraz.at>
Message-ID: <200607272349.16038.laurent.pinchart@skynet.be>

Hi Lars,

> I just got a new Logitech USB QuickCam Pro Notebook for me.
> Under windows  it works flawless ;-)
> Now I want to get it done under Linux.
> My system is a amd64 debian sarge/etch/sid mix with 2.6.17 kernel.
> I grabbed the debian source package for UVC (0.1.0-1) and built a module.
> After loading the module, usbview finds the usb cam and tells me
> everthing is OK.
> But how to go on?
> xarv tells me error, camstream tells me nothing,...
> How can I get a picture or a stream?
> Even the ffmpeg -vd /dev/video0 -s 640x480 -r 5 -b 5000 -y -vcodec mpeg4
> -f avi - | mplayer -
> does nothing, it keeps at 0%.
>
> Anyone got a tip for me?

Many applications still support V4L1 only, even though the interface is 
deprecated. The Linux UVC driver implements the V4L2 interface, so you need 
compatible applications. Try with Ekiga or luvcview to see if your webcam 
works.

Laurent Pinchart


From marcel at datkan.net  Thu Jul 27 23:46:39 2006
From: marcel at datkan.net (Marcel van Beurden)
Date: Thu, 27 Jul 2006 23:46:39 +0200
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
Message-ID: <44C9343F.8090004@datkan.net>

Hi all,

Since the UVC driver was not working with the 2.4 kernel I upgraded my 
debian system to kernel 2.6.16. I used the source package 
linux-uvc-source, version 0.1.0-2. But unfortunately, it doesn't seem to 
work with my Logitech Quickcam Fusion.

When I load the driver I get:

uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c1)
usbcore: registered new driver uvcvideo
USB Video Class driver (v0.1.0-b)

When I plug in my cam I get:

usb 1-1: new full speed USB device using uhci_hcd and address 19
usb 1-1: configuration #1 chosen from 1 choice
usb 1-2: new full speed USB device using uhci_hcd and address 20
usb 1-2: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c1)
20:3:1: cannot set freq 0 to ep 0x86
20:3:2: cannot set freq 0 to ep 0x86
20:3:3: cannot set freq 16000 to ep 0x86

My system:

debian:/usr/src/modules# uname -a
Linux debian 2.6.16-2-686 #1 Sat Jul 15 21:59:21 UTC 2006 i686 GNU/Linux

I used the webcam command line utility to test:

debian:/usr/src/modules# webcam
reading config file: /root/.webcamrc
can't get rgb24 data

My USB devices:

debian:/usr/src/modules# lsusb
Bus 001 Device 020: ID 046d:08c1 Logitech, Inc.
Bus 001 Device 019: ID 06a5:d812 Divio
Bus 001 Device 001: ID 0000:0000

My loaded modules:

debian:/usr/src/modules# lsmod
Module                  Size  Used by
uvcvideo               29412  0
v4l1_compat            12068  1 uvcvideo
videodev                8640  1 uvcvideo
v4l2_common             7360  1 uvcvideo
nfsd                  199524  13
exportfs                5024  1 nfsd
lockd                  53672  2 nfsd
nfs_acl                 3264  1 nfsd
sunrpc                132612  9 nfsd,lockd,nfs_acl
ipv6                  217760  38
reiserfs              216784  2
dm_mod                 47892  0
shpchp                 39200  0
pci_hotplug            24180  1 shpchp
audio                  37472  0
snd_usb_audio          67488  0
snd_usb_lib            13984  1 snd_usb_audio
snd_ens1371            22400  0
gameport               13480  1 snd_ens1371
snd_rawmidi            22048  2 snd_usb_lib,snd_ens1371
snd_seq_device          8236  1 snd_rawmidi
snd_ac97_codec         82784  1 snd_ens1371
snd_ac97_bus            2048  1 snd_ac97_codec
evdev                   8736  0
psmouse                34248  0
i2c_viapro              7892  0
snd_hwdep               8516  1 snd_usb_audio
snd_pcm                74408  3 snd_usb_audio,snd_ens1371,snd_ac97_codec
snd_timer              20292  1 snd_pcm
snd                    46080  8 
snd_usb_audio,snd_ens1371,snd_rawmidi,snd_seq_device,snd_ac97_codec,snd_hwdep,snd_pcm,snd_timer
soundcore               8672  2 audio,snd
snd_page_alloc          9800  1 snd_pcm
serio_raw               6436  0
i2c_core               19312  1 i2c_viapro
via_agp                 9312  1
agpgart                29232  1 via_agp
pcspkr                  2948  0
rtc                    11252  0
parport_pc             31472  0
parport                31720  1 parport_pc
floppy                 55628  0
ext3                  115880  1
jbd                    46932  1 ext3
mbcache                 7652  1 ext3
ide_cd                 35328  0
cdrom                  31888  1 ide_cd
ide_disk               14528  6
via82cxxx               7940  0 [permanent]
generic                 4164  0 [permanent]
uhci_hcd               26640  0
ide_core              111440  4 ide_cd,ide_disk,via82cxxx,generic
usbcore               110560  6 
uvcvideo,audio,snd_usb_audio,snd_usb_lib,uhci_hcd
8139too                24160  0
8139cp                 19488  0
mii                     5056  2 8139too,8139cp
thermal                12968  0
processor              21696  1 thermal
fan                     4452  0

Anyone knows what is going wrong?

Regards,
Marcel


From gsstark at mit.edu  Fri Jul 28 01:36:30 2006
From: gsstark at mit.edu (Greg Stark)
Date: 27 Jul 2006 19:36:30 -0400
Subject: [Linux-uvc-devel] Dell laptop built-in webcam
Message-ID: <87psfq1uyp.fsf@stark.xeocode.com>


I have a new Dell laptop that cam with a built-in webcam. It appears to be a
Logitech webcam with product id 8c6. Does anyone know if this device is
similar to the other uvc supported cams?

I tried just adding the 8c6 identifier to the uvc driver and loading it but
what happens is that when i try to run xawtv the blue led come on, then xawtv
seg faults and the led goes off.

I'm not sure if I've run xawtv correctly though, perhaps I have something set
up incorrectly (though I wouldn't expect it to seg fault if that was the
problem).



xawtv output:

This is xawtv-3.94, running on Linux/i686 (2.6.17.7)
/dev/video0 [v4l2]: no overlay support
v4l-conf had some trouble, trying to continue anyway
ioctl: VIDIOC_QUERYCTRL(id=9963778;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0): Input/output error
ioctl: VIDIOC_QUERYCTRL(id=134217738;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0): Input/output error
Warning: Cannot convert string "-*-ledfixed-medium-r-*--39-*-*-*-c-*-*-*" to type FontStruct
ioctl: VIDIOC_G_STD(std=0xbffd8df4 [PAL_G,PAL_I,PAL_D,PAL_D1,PAL_K,PAL_M,PAL_Nc,PAL_60,?,SECAM_B,SECAM_G,SECAM_H,SECAM_K,SECAM_K1,SECAM_L,?ATSC_8_VSB,ATSC_16_VSB,(null),(null),(null),(null),(null),(null)]): Invalid argument
libGL error: open DRM failed (Operation not permitted)
libGL error: reverting to (slow) indirect rendering
ioctl: VIDIOC_S_STD(std=0x0 []): Invalid argument
ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0 [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits="";sequence=0;memory=unknown): Invalid argument
Segmentation fault



lsusb -v output from the cam:

Bus 005 Device 002: ID 046d:08c6 Logitech, Inc. 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0 
  bDeviceProtocol         1 
  bMaxPacketSize0        64
  idVendor           0x046d Logitech, Inc.
  idProduct          0x08c6 
  bcdDevice           80.05
  iManufacturer           0 
  iProduct                0 
  iSerial                 2 63D4E892
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength         1293
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass        255 Vendor Specific Class
      bFunctionSubClass       3 
      bFunctionProtocol       0 
      iFunction               0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      1 
      bInterfaceProtocol      0 
      iInterface              0 
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      UNRECOGNIZED:  20 41 01 08 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 51 03 01 04 03 19 00 00 00 00 00 00 00
      UNRECOGNIZED:  20 41 01 0a 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 22 52 01 01 04 03 00 40 00 00 00 00 00 00
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x87  EP 7 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               8
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
      Class specific interface descriptor for class 255 is unsupported
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x00c0  1x 192 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0280  1x 640 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0320  1x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x03b0  1x 944 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       7
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0a80  2x 640 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       8
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       9
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0be0  2x 992 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting      10
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x1380  3x 896 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting      11
      bNumEndpoints           1
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      2 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x13fc  3x 1020 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       2 Streaming
      bFunctionProtocol       0 
      iFunction               0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0 
      iInterface              0 
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           38
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0 
        iTerminal               0 
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0 
      AudioControl Interface Descriptor:
        bLength                 8
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 5
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x03
          Mute
          Volume
        iFeature                0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0 
      iInterface              0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0 
      iInterface              0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       2
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0 
      iInterface              0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0030  1x 48 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0 
  bDeviceProtocol         1 
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)

Bus 005 Device 001: ID 0000:0000  
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         1 Single TT
  bMaxPacketSize0        64
  idVendor           0x0000 
  idProduct          0x0000 
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.17.7 ehci_hcd
  iProduct                2 EHCI Host Controller
  iSerial                 1 0000:00:1d.7
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              12
Hub Descriptor:
  bLength              11
  bDescriptorType      41
  nNbrPorts             8
  wHubCharacteristic 0x000a
    No power switching (usb 1.0)
    Per-port overcurrent protection
    TT think time 8 FS bits
  bPwrOn2PwrGood       10 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00 0x00
  PortPwrCtrlMask    0xff 0xff
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0100 power
   Port 3: 0000.0100 power
   Port 4: 0000.0100 power
   Port 5: 0000.0503 highspeed power enable connect
   Port 6: 0000.0100 power
   Port 7: 0000.0100 power
   Port 8: 0000.0100 power
Device Status:     0x0003
  Self Powered
  Remote Wakeup Enabled

Bus 004 Device 001: ID 0000:0000  
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  idVendor           0x0000 
  idProduct          0x0000 
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.17.7 uhci_hcd
  iProduct                2 UHCI Host Controller
  iSerial                 1 0000:00:1d.3
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval             255
Hub Descriptor:
  bLength               9
  bDescriptorType      41
  nNbrPorts             2
  wHubCharacteristic 0x000a
    No power switching (usb 1.0)
    Per-port overcurrent protection
  bPwrOn2PwrGood        1 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00
  PortPwrCtrlMask    0xff
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0100 power
Device Status:     0x0003
  Self Powered
  Remote Wakeup Enabled

Bus 003 Device 001: ID 0000:0000  
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  idVendor           0x0000 
  idProduct          0x0000 
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.17.7 uhci_hcd
  iProduct                2 UHCI Host Controller
  iSerial                 1 0000:00:1d.2
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval             255
Hub Descriptor:
  bLength               9
  bDescriptorType      41
  nNbrPorts             2
  wHubCharacteristic 0x000a
    No power switching (usb 1.0)
    Per-port overcurrent protection
  bPwrOn2PwrGood        1 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00
  PortPwrCtrlMask    0xff
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0100 power
Device Status:     0x0003
  Self Powered
  Remote Wakeup Enabled

Bus 002 Device 001: ID 0000:0000  
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  idVendor           0x0000 
  idProduct          0x0000 
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.17.7 uhci_hcd
  iProduct                2 UHCI Host Controller
  iSerial                 1 0000:00:1d.1
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval             255
Hub Descriptor:
  bLength               9
  bDescriptorType      41
  nNbrPorts             2
  wHubCharacteristic 0x000a
    No power switching (usb 1.0)
    Per-port overcurrent protection
  bPwrOn2PwrGood        1 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00
  PortPwrCtrlMask    0xff
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0100 power
Device Status:     0x0003
  Self Powered
  Remote Wakeup Enabled

Bus 001 Device 001: ID 0000:0000  
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            9 Hub
  bDeviceSubClass         0 Unused
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  idVendor           0x0000 
  idProduct          0x0000 
  bcdDevice            2.06
  iManufacturer           3 Linux 2.6.17.7 uhci_hcd
  iProduct                2 UHCI Host Controller
  iSerial                 1 0000:00:1d.0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           25
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0xe0
      Self Powered
      Remote Wakeup
    MaxPower                0mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         9 Hub
      bInterfaceSubClass      0 Unused
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval             255
Hub Descriptor:
  bLength               9
  bDescriptorType      41
  nNbrPorts             2
  wHubCharacteristic 0x000a
    No power switching (usb 1.0)
    Per-port overcurrent protection
  bPwrOn2PwrGood        1 * 2 milli seconds
  bHubContrCurrent      0 milli Ampere
  DeviceRemovable    0x00
  PortPwrCtrlMask    0xff
 Hub Port Status:
   Port 1: 0000.0100 power
   Port 2: 0000.0100 power
Device Status:     0x0003
  Self Powered
  Remote Wakeup Enabled
     


-- 
greg



From martin_rubli at logitech.com  Fri Jul 28 05:56:45 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Thu, 27 Jul 2006 20:56:45 -0700
Subject: [Linux-uvc-devel] Dell laptop built-in webcam
In-Reply-To: <87psfq1uyp.fsf@stark.xeocode.com>
References: <87psfq1uyp.fsf@stark.xeocode.com>
Message-ID: <op.tddrwvnpsttmjo@maya>

Greg,

The camera should work with the uvcvideo driver but xawtv is known to  
cause problems. You should give luvcview a try, which you can find here:
http://mxhaard.free.fr/spca50x/Investigation/uvc/

Cheers,
Martin


On Thu, 27 Jul 2006 16:36:30 -0700, Greg Stark <gsstark at mit.edu> wrote:

>
> I have a new Dell laptop that cam with a built-in webcam. It appears to  
> be a
> Logitech webcam with product id 8c6. Does anyone know if this device is
> similar to the other uvc supported cams?
>
> I tried just adding the 8c6 identifier to the uvc driver and loading it  
> but
> what happens is that when i try to run xawtv the blue led come on, then  
> xawtv
> seg faults and the led goes off.
>
> I'm not sure if I've run xawtv correctly though, perhaps I have  
> something set
> up incorrectly (though I wouldn't expect it to seg fault if that was the
> problem).
>


From martin_rubli at logitech.com  Fri Jul 28 06:00:10 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Thu, 27 Jul 2006 21:00:10 -0700
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44C9343F.8090004@datkan.net>
References: <44C9343F.8090004@datkan.net>
Message-ID: <op.tddr2k0ksttmjo@maya>

Marcel,

On Thu, 27 Jul 2006 14:46:39 -0700, Marcel van Beurden <marcel at datkan.net>  
wrote:

> Since the UVC driver was not working with the 2.4 kernel I upgraded my
> debian system to kernel 2.6.16. I used the source package
> linux-uvc-source, version 0.1.0-2. But unfortunately, it doesn't seem to
> work with my Logitech Quickcam Fusion.
>
> When I load the driver I get:
>
> uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c1)
> usbcore: registered new driver uvcvideo
> USB Video Class driver (v0.1.0-b)

That's ok.

> When I plug in my cam I get:
>
> usb 1-1: new full speed USB device using uhci_hcd and address 19
> usb 1-1: configuration #1 chosen from 1 choice
> usb 1-2: new full speed USB device using uhci_hcd and address 20
> usb 1-2: configuration #1 chosen from 1 choice
> uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c1)

That's ok, too.

> 20:3:1: cannot set freq 0 to ep 0x86
> 20:3:2: cannot set freq 0 to ep 0x86
> 20:3:3: cannot set freq 16000 to ep 0x86

This is due to the audio part, so you can ignore that. Don't worry, audio  
still works.

> I used the webcam command line utility to test:
>
> debian:/usr/src/modules# webcam
> reading config file: /root/.webcamrc
> can't get rgb24 data

AFAIK webcam suffers from the same problems as xawtv. Have you tried  
luvcview (http://mxhaard.free.fr/spca50x/Investigation/uvc/) or other  
V4L2-compatible applications that work with digital devices?

Cheers,
Martin


From l.schimmer at cgv.tugraz.at  Fri Jul 28 10:11:34 2006
From: l.schimmer at cgv.tugraz.at (Lars Schimmer)
Date: Fri, 28 Jul 2006 10:11:34 +0200
Subject: [Linux-uvc-devel] Logitech QuickcamPro USB Notebook an debian
In-Reply-To: <200607272349.16038.laurent.pinchart@skynet.be>
References: <44C8CF5C.8000100@cgv.tugraz.at>
	<200607272349.16038.laurent.pinchart@skynet.be>
Message-ID: <44C9C6B6.8050705@cgv.tugraz.at>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Laurent Pinchart wrote:
> Hi Lars,
> 
>> I just got a new Logitech USB QuickCam Pro Notebook for me.
>> Under windows  it works flawless ;-)
>> Now I want to get it done under Linux.
>> My system is a amd64 debian sarge/etch/sid mix with 2.6.17 kernel.
>> I grabbed the debian source package for UVC (0.1.0-1) and built a module.
>> After loading the module, usbview finds the usb cam and tells me
>> everthing is OK.
>> But how to go on?
>> xarv tells me error, camstream tells me nothing,...
>> How can I get a picture or a stream?
>> Even the ffmpeg -vd /dev/video0 -s 640x480 -r 5 -b 5000 -y -vcodec mpeg4
>> -f avi - | mplayer -
>> does nothing, it keeps at 0%.
>>
>> Anyone got a tip for me?
> 
> Many applications still support V4L1 only, even though the interface is 
> deprecated. The Linux UVC driver implements the V4L2 interface, so you need 
> compatible applications. Try with Ekiga or luvcview to see if your webcam 
> works.

Ok, tested luvcview from 06072006.
But I still get a black picture and I can?t stop it, just a kill -9 PID
kills the luvcview...

> Laurent Pinchart


MfG,
Lars Schimmer
- --
- -------------------------------------------------------------
TU Graz, Institut f?r ComputerGraphik & WissensVisualisierung
Tel: +43 316 873-5405       E-Mail: l.schimmer at cgv.tugraz.at
Fax: +43 316 873-5402       PGP-Key-ID: 0x4A9B1723
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFEyca2mWhuE0qbFyMRAkgUAJ9b18MgIh2t2uskhwyyd/he3QLxkACdHuRj
UbZD46lQvxnUnwRRlboUVPI=
=Vfl/
-----END PGP SIGNATURE-----


From francois at chenais.net  Fri Jul 28 10:26:05 2006
From: francois at chenais.net (=?ISO-8859-1?Q?Fran=E7ois_Chenais?=)
Date: Fri, 28 Jul 2006 10:26:05 +0200
Subject: [Linux-uvc-devel] Logitech QuickcamPro USB Notebook an debian
In-Reply-To: <44C9C6B6.8050705@cgv.tugraz.at>
References: <44C8CF5C.8000100@cgv.tugraz.at>	<200607272349.16038.laurent.pinchart@skynet.be>
	<44C9C6B6.8050705@cgv.tugraz.at>
Message-ID: <44C9CA1D.6020501@chenais.net>

Lars Schimmer a ?crit :
> Laurent Pinchart wrote:
>>> Hi Lars,
>>>
>>>> I just got a new Logitech USB QuickCam Pro Notebook for me.
>>>> Under windows  it works flawless ;-)
>>>> Now I want to get it done under Linux.
>>>> My system is a amd64 debian sarge/etch/sid mix with 2.6.17 kernel.
>>>> I grabbed the debian source package for UVC (0.1.0-1) and built a module.
>>>> After loading the module, usbview finds the usb cam and tells me
>>>> everthing is OK.
>>>> But how to go on?
>>>> xarv tells me error, camstream tells me nothing,...
>>>> How can I get a picture or a stream?
>>>> Even the ffmpeg -vd /dev/video0 -s 640x480 -r 5 -b 5000 -y -vcodec mpeg4
>>>> -f avi - | mplayer -
>>>> does nothing, it keeps at 0%.
>>>>
>>>> Anyone got a tip for me?
>>> Many applications still support V4L1 only, even though the interface is 
>>> deprecated. The Linux UVC driver implements the V4L2 interface, so you need 
>>> compatible applications. Try with Ekiga or luvcview to see if your webcam 
>>> works.
> 
> Ok, tested luvcview from 06072006.
> But I still get a black picture and I can?t stop it, just a kill -9 PID
> kills the luvcview...
> 

I have the same error with debian sid and kernel 2.6.17-6 from kernel.org

	Fran?ois



>>> Laurent Pinchart
> 
> 
> MfG,
> Lars Schimmer
> --
> -------------------------------------------------------------
> TU Graz, Institut f?r ComputerGraphik & WissensVisualisierung
> Tel: +43 316 873-5405       E-Mail: l.schimmer at cgv.tugraz.at
> Fax: +43 316 873-5402       PGP-Key-ID: 0x4A9B1723
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
http://bat.berlios.de/mailman/listinfo/linux-uvc-devel



From marcel at datkan.net  Fri Jul 28 11:12:28 2006
From: marcel at datkan.net (Marcel van Beurden)
Date: Fri, 28 Jul 2006 11:12:28 +0200
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <op.tddr2k0ksttmjo@maya>
References: <44C9343F.8090004@datkan.net> <op.tddr2k0ksttmjo@maya>
Message-ID: <44C9D4FC.4050706@datkan.net>

Martin Rubli wrote:
> AFAIK webcam suffers from the same problems as xawtv. Have you tried 
> luvcview (http://mxhaard.free.fr/spca50x/Investigation/uvc/) or other 
> V4L2-compatible applications that work with digital devices?

The problem is I want to run it on a headless server. Can I use this 
tool without X? I just want to capture an image and store as a file.

Marcel


From iain at lazygnome.net  Fri Jul 28 11:29:10 2006
From: iain at lazygnome.net (Iain Cuthbertson)
Date: Fri, 28 Jul 2006 10:29:10 +0100
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44C9D4FC.4050706@datkan.net>
References: <44C9343F.8090004@datkan.net> <op.tddr2k0ksttmjo@maya>
	<44C9D4FC.4050706@datkan.net>
Message-ID: <20060728092446.M21185@lazygnome.net>

On Fri, 28 Jul 2006 11:12:28 +0200, Marcel van Beurden wrote
> Martin Rubli wrote:
> > AFAIK webcam suffers from the same problems as xawtv. Have you tried 
> > luvcview (http://mxhaard.free.fr/spca50x/Investigation/uvc/) or other 
> > V4L2-compatible applications that work with digital devices?
> 
> The problem is I want to run it on a headless server. Can I use this 
> tool without X? I just want to capture an image and store as a file.

Yes indeed Marcel :)

Check out uvccapture (a headless webcam capture program based upon luvcview):

 + http://staticwave.ca/source/uvccapture/

This comes without any text overlay, so I wrote my own in perl:

 + http://www.lazygnome.net/projects/caption/

Hope this is helps you.

Iain

--
Warning! Content may contain nuts.



From marcel at datkan.net  Fri Jul 28 11:54:25 2006
From: marcel at datkan.net (Marcel van Beurden)
Date: Fri, 28 Jul 2006 11:54:25 +0200
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <20060728092446.M21185@lazygnome.net>
References: <44C9343F.8090004@datkan.net>
	<op.tddr2k0ksttmjo@maya>	<44C9D4FC.4050706@datkan.net>
	<20060728092446.M21185@lazygnome.net>
Message-ID: <44C9DED1.5090100@datkan.net>

Iain Cuthbertson wrote:

>>> AFAIK webcam suffers from the same problems as xawtv. Have you tried 
>>> luvcview (http://mxhaard.free.fr/spca50x/Investigation/uvc/) or other 
>>> V4L2-compatible applications that work with digital devices?
>> The problem is I want to run it on a headless server. Can I use this 
>> tool without X? I just want to capture an image and store as a file.
> 
> Yes indeed Marcel :)

I get a lot of build errors when trying to make it. See the log file:

http://mrcl.xs4all.nl/make-luvcview-20060706.log

> Check out uvccapture (a headless webcam capture program based upon luvcview):
> 
>  + http://staticwave.ca/source/uvccapture/

Sounds great! After installing the jpeg libs I could build it and run 
it. But when I run it, it hangs after printing this:

marcel at debian:~/download/uvccapture-0.4$ ./uvccapture -v
Using videodevice: /dev/video0
Saving images to: snap.jpg
Image size: 320x240
Taking snapshot every 0 seconds
Taking images using mmap
Resetting camera settings
Camera brightness level is 127
Camera contrast level is 32
Camera saturation level is 32
Camera gain level is 0

When I press ctrl-C, it prints "Exiting...", but it still hangs. I can 
only kill the process. And no snap.jpg either... :-(

Regards,
Marcel


From marcel at datkan.net  Fri Jul 28 13:18:13 2006
From: marcel at datkan.net (Marcel van Beurden)
Date: Fri, 28 Jul 2006 13:18:13 +0200
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44C9DED1.5090100@datkan.net>
References: <44C9343F.8090004@datkan.net>
	<op.tddr2k0ksttmjo@maya>	<44C9D4FC.4050706@datkan.net>
	<20060728092446.M21185@lazygnome.net> <44C9DED1.5090100@datkan.net>
Message-ID: <44C9F275.6050701@datkan.net>

Marcel van Beurden wrote:

[luvcview]
> I get a lot of build errors when trying to make it. See the log file:
> 
> http://mrcl.xs4all.nl/make-luvcview-20060706.log

I installed some SDL packages and now it builds fine. But running it 
doesn't seem to do much:

# ./luvcview
uvcview verion 0.1.6

        ---------------------- DirectFB v0.9.24 ---------------------
              (c) 2000-2002  convergence integrated media GmbH
              (c) 2002-2004  convergence GmbH
         -----------------------------------------------------------

(*) DirectFB/Core: Single Application Core. (2006-06-14 07:02)
(*) Direct/Memcpy: Using MMXEXT optimized memcpy()
(!) Direct/Util: opening '/dev/fb0' and '/dev/fb/0' failed
     --> No such file or directory
(!) DirectFB/FBDev: Error opening framebuffer device!
(!) DirectFB/FBDev: Use 'fbdev' option or set FRAMEBUFFER environment 
variable.
(!) DirectFB/Core: Could not initialize 'system' core!
     --> Initialization error!
Couldn't initialize SDL: DirectFBCreate: Initialization error!

I'm running on:
Linux debian 2.6.16-2-686 #1 Sat Jul 15 21:59:21 UTC 2006 i686 GNU/Linux

Am I missing something here?

Marcel


From gsstark at mit.edu  Fri Jul 28 13:40:21 2006
From: gsstark at mit.edu (Greg Stark)
Date: 28 Jul 2006 07:40:21 -0400
Subject: [Linux-uvc-devel] Dell laptop built-in webcam
In-Reply-To: <op.tddrwvnpsttmjo@maya>
References: <87psfq1uyp.fsf@stark.xeocode.com> <op.tddrwvnpsttmjo@maya>
Message-ID: <87k65y0xga.fsf@stark.xeocode.com>

"Martin Rubli" <martin_rubli at logitech.com> writes:

> Greg,
> 
> The camera should work with the uvcvideo driver but xawtv is known to  cause
> problems. You should give luvcview a try, which you can find here:
> http://mxhaard.free.fr/spca50x/Investigation/uvc/

Cool, that actually works. Sort of. If I press shift or alt it seg faults.

-- 
greg



From gsstark at mit.edu  Fri Jul 28 13:44:52 2006
From: gsstark at mit.edu (Greg Stark)
Date: 28 Jul 2006 07:44:52 -0400
Subject: [Linux-uvc-devel] Dell laptop built-in webcam
In-Reply-To: <op.tddrwvnpsttmjo@maya>
References: <87psfq1uyp.fsf@stark.xeocode.com> <op.tddrwvnpsttmjo@maya>
Message-ID: <87ejw60x8r.fsf@stark.xeocode.com>

"Martin Rubli" <martin_rubli at logitech.com> writes:

> Greg,
> 
> The camera should work with the uvcvideo driver but xawtv is known to  cause
> problems. You should give luvcview a try, which you can find here:
> http://mxhaard.free.fr/spca50x/Investigation/uvc/

So if luvcview works but ekiga doesn't where do i start to try and debug that?

Is it possible ekiga is getting confused because the uvc device is /dev/video1
not 0? I don't see a command line flag to set the video device.

-- 
greg



From ace at staticwave.ca  Fri Jul 28 13:48:03 2006
From: ace at staticwave.ca (Gabriel A. Devenyi)
Date: Fri, 28 Jul 2006 07:48:03 -0400
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44C9DED1.5090100@datkan.net>
References: <44C9343F.8090004@datkan.net>	<op.tddr2k0ksttmjo@maya>	<44C9D4FC.4050706@datkan.net>	<20060728092446.M21185@lazygnome.net>
	<44C9DED1.5090100@datkan.net>
Message-ID: <44C9F973.3040505@staticwave.ca>

Marcel van Beurden wrote:
> Sounds great! After installing the jpeg libs I could build it and run 
> it. But when I run it, it hangs after printing this:
> 
> marcel at debian:~/download/uvccapture-0.4$ ./uvccapture -v
> Using videodevice: /dev/video0
> Saving images to: snap.jpg
> Image size: 320x240
> Taking snapshot every 0 seconds
> Taking images using mmap
> Resetting camera settings
> Camera brightness level is 127
> Camera contrast level is 32
> Camera saturation level is 32
> Camera gain level is 0
> 
> When I press ctrl-C, it prints "Exiting...", but it still hangs. I can 
> only kill the process. And no snap.jpg either... :-(

Try adding an additional -v to the call to increase verbosity, it looks
like its hanging at uvcGrab, if this is true, it should hang right after
printing "Grabbing Frame". If you have strace could you please post the
output of "strace ./uvccapture -v -v" thanks.

Hrm, I should change the output re: "Taking snapshot every 0 seconds"
since thats not true, it'll take one shot and exit.

--
Gabriel A. Devenyi
ace at staticwave.ca


From pbrobinson at gmail.com  Fri Jul 28 13:57:02 2006
From: pbrobinson at gmail.com (Peter Robinson)
Date: Fri, 28 Jul 2006 12:57:02 +0100
Subject: [Linux-uvc-devel] Dell laptop built-in webcam
In-Reply-To: <87ejw60x8r.fsf@stark.xeocode.com>
References: <87psfq1uyp.fsf@stark.xeocode.com> <op.tddrwvnpsttmjo@maya>
	<87ejw60x8r.fsf@stark.xeocode.com>
Message-ID: <5256d0b0607280457h2ea1f19ey638b3bc99fddbe8f@mail.gmail.com>

> > The camera should work with the uvcvideo driver but xawtv is known to  cause
> > problems. You should give luvcview a try, which you can find here:
> > http://mxhaard.free.fr/spca50x/Investigation/uvc/
>
> So if luvcview works but ekiga doesn't where do i start to try and debug that?
>
> Is it possible ekiga is getting confused because the uvc device is /dev/video1
> not 0? I don't see a command line flag to set the video device.

There's a video devices page in the preferences under the edit menu.

Peter


From marcel at datkan.net  Fri Jul 28 14:03:01 2006
From: marcel at datkan.net (Marcel van Beurden)
Date: Fri, 28 Jul 2006 14:03:01 +0200
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44C9F973.3040505@staticwave.ca>
References: <44C9343F.8090004@datkan.net>	<op.tddr2k0ksttmjo@maya>	<44C9D4FC.4050706@datkan.net>	<20060728092446.M21185@lazygnome.net>	<44C9DED1.5090100@datkan.net>
	<44C9F973.3040505@staticwave.ca>
Message-ID: <44C9FCF5.9040106@datkan.net>

Gabriel A. Devenyi wrote:
> Marcel van Beurden wrote:
>> Sounds great! After installing the jpeg libs I could build it and run 
>> it. But when I run it, it hangs after printing this:
>>
>> marcel at debian:~/download/uvccapture-0.4$ ./uvccapture -v
>> Using videodevice: /dev/video0
>> Saving images to: snap.jpg
>> Image size: 320x240
>> Taking snapshot every 0 seconds
>> Taking images using mmap
>> Resetting camera settings
>> Camera brightness level is 127
>> Camera contrast level is 32
>> Camera saturation level is 32
>> Camera gain level is 0
>>
>> When I press ctrl-C, it prints "Exiting...", but it still hangs. I can 
>> only kill the process. And no snap.jpg either... :-(
> 
> Try adding an additional -v to the call to increase verbosity, it looks
> like its hanging at uvcGrab, if this is true, it should hang right after
> printing "Grabbing Frame". If you have strace could you please post the
> output of "strace ./uvccapture -v -v" thanks.

This is what I get:
execve("./uvccapture", ["./uvccapture", "-v", "-v"], [/* 23 vars */]) = 0
uname({sys="Linux", node="debian", ...}) = 0
brk(0)                                  = 0x804d000
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or 
directory)
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 
0) = 0xa7f0a000
access("/etc/ld.so.preload", R_OK)      = -1 ENOENT (No such file or 
directory)
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 
0) = 0xa7f09000
open("/etc/ld.so.cache", O_RDONLY)      = 3
fstat64(3, {st_mode=S_IFREG|0644, st_size=33396, ...}) = 0
mmap2(NULL, 33396, PROT_READ, MAP_PRIVATE, 3, 0) = 0xa7f00000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or 
directory)
open("/usr/lib/libjpeg.so.62", O_RDONLY) = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\360#\0"..., 
512) = 512
fstat64(3, {st_mode=S_IFREG|0644, st_size=127488, ...}) = 0
mmap2(NULL, 130444, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 
0) = 0xa7ee0000
mmap2(0xa7eff000, 4096, PROT_READ|PROT_WRITE, 
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x1e) = 0xa7eff000
close(3)                                = 0
access("/etc/ld.so.nohwcap", F_OK)      = -1 ENOENT (No such file or 
directory)
open("/lib/tls/libc.so.6", O_RDONLY)    = 3
read(3, "\177ELF\1\1\1\0\0\0\0\0\0\0\0\0\3\0\3\0\1\0\0\0\260O\1"..., 
512) = 512
fstat64(3, {st_mode=S_IFREG|0755, st_size=1270928, ...}) = 0
mmap2(NULL, 1276892, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 
0) = 0xa7da8000
mmap2(0xa7ed6000, 32768, PROT_READ|PROT_WRITE, 
MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x12e) = 0xa7ed6000
mmap2(0xa7ede000, 7132, PROT_READ|PROT_WRITE, 
MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xa7ede000
close(3)                                = 0
mmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 
0) = 0xa7da7000
mprotect(0xa7ed6000, 20480, PROT_READ)  = 0
set_thread_area({entry_number:-1 -> 6, base_addr:0xa7da76c0, 
limit:1048575, seg_32bit:1, contents:0, read_exec_only:0, 
limit_in_pages:1, seg_not_present:0, useable:1}) = 0
munmap(0xa7f00000, 33396)               = 0
rt_sigaction(SIGINT, {0x8048c30, [INT], SA_RESTART}, {SIG_DFL}, 8) = 0
rt_sigaction(SIGQUIT, {0x8048c30, [QUIT], SA_RESTART}, {SIG_DFL}, 8) = 0
rt_sigaction(SIGKILL, {0x8048c30, [KILL], SA_RESTART}, {SIG_DFL}, 8) = 
-1 EINVAL (Invalid argument)
rt_sigaction(SIGTERM, {0x8048c30, [TERM], SA_RESTART}, {SIG_DFL}, 8) = 0
rt_sigaction(SIGABRT, {0x8048c30, [ABRT], SA_RESTART}, {SIG_DFL}, 8) = 0
rt_sigaction(SIGTRAP, {0x8048c30, [TRAP], SA_RESTART}, {SIG_DFL}, 8) = 0
write(2, "Using videodevice: /dev/video0\n", 31Using videodevice: 
/dev/video0
) = 31
write(2, "Saving images to: snap.jpg\n", 27Saving images to: snap.jpg
) = 27
write(2, "Image size: 320x240\n", 20Image size: 320x240
)   = 20
write(2, "Taking snapshot every 0 seconds\n", 32Taking snapshot every 0 
seconds
) = 32
write(2, "Taking images using mmap\n", 25Taking images using mmap
) = 25
brk(0)                                  = 0x804d000
brk(0x806e000)                          = 0x806e000
open("/dev/video0", O_RDWR)             = 3
ioctl(3, VIDIOC_QUERYCAP or VT_OPENQRY, 0x804d018) = 0
ioctl(3, VIDIOC_S_FMT or VT_RELDISP, 0x804d080) = 0
ioctl(3, VIDIOC_REQBUFS or VT_DISALLOCATE, 0x804d190) = 0
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0) = 0xa7d9c000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0xb) = 0xa7d91000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x16) = 0xa7d86000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x21) = 0xa7d7b000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x2c) = 0xa7d70000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x37) = 0xa7d65000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x42) = 0xa7d5a000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x4d) = 0xa7d4f000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x58) = 0xa7d44000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x63) = 0xa7d39000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x6e) = 0xa7d2e000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x79) = 0xa7d23000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x84) = 0xa7d18000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x8f) = 0xa7d0d000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0x9a) = 0xa7d02000
ioctl(3, VIDIOC_QUERYBUF or VT_RESIZE, 0x804d14c) = 0
mmap2(NULL, 42666, PROT_READ, MAP_SHARED, 3, 0xa5) = 0xa7cf7000
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
ioctl(3, VIDIOC_QBUF, 0x804d14c)        = 0
mmap2(NULL, 155648, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 
0) = 0xa7cd1000
mmap2(NULL, 159744, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 
0) = 0xa7caa000
write(2, "Resetting camera settings\n", 26Resetting camera settings
) = 26
ioctl(3, MATROXFB_TVOQUERYCTRL or VIDIOC_QUERYCTRL, 0xafd1e5d4) = 0
ioctl(3, MATROXFB_S_TVOCTRL or VIDIOC_S_CTRL, 0xafd1e618) = 0
ioctl(3, MATROXFB_TVOQUERYCTRL or VIDIOC_QUERYCTRL, 0xafd1e5d4) = 0
ioctl(3, MATROXFB_S_TVOCTRL or VIDIOC_S_CTRL, 0xafd1e618) = 0
ioctl(3, MATROXFB_TVOQUERYCTRL or VIDIOC_QUERYCTRL, 0xafd1e5d4) = 0
ioctl(3, MATROXFB_S_TVOCTRL or VIDIOC_S_CTRL, 0xafd1e618) = 0
ioctl(3, MATROXFB_TVOQUERYCTRL or VIDIOC_QUERYCTRL, 0xafd1e5d4) = 0
ioctl(3, MATROXFB_S_TVOCTRL or VIDIOC_S_CTRL, 0xafd1e618) = 0
ioctl(3, MATROXFB_TVOQUERYCTRL or VIDIOC_QUERYCTRL, 0xafd1e5d4) = 0
ioctl(3, MATROXFB_G_TVOCTRL or VIDIOC_G_CTRL, 0xafd1e618) = 0
write(2, "Camera brightness level is 127\n", 31Camera brightness level 
is 127
) = 31
ioctl(3, MATROXFB_TVOQUERYCTRL or VIDIOC_QUERYCTRL, 0xafd1e5d4) = 0
ioctl(3, MATROXFB_G_TVOCTRL or VIDIOC_G_CTRL, 0xafd1e618) = 0
write(2, "Camera contrast level is 32\n", 28Camera contrast level is 32
) = 28
ioctl(3, MATROXFB_TVOQUERYCTRL or VIDIOC_QUERYCTRL, 0xafd1e5d4) = 0
ioctl(3, MATROXFB_G_TVOCTRL or VIDIOC_G_CTRL, 0xafd1e618) = 0
write(2, "Camera saturation level is 32\n", 30Camera saturation level is 32
) = 30
ioctl(3, MATROXFB_TVOQUERYCTRL or VIDIOC_QUERYCTRL, 0xafd1e5d4) = 0
ioctl(3, MATROXFB_G_TVOCTRL or VIDIOC_G_CTRL, 0xafd1e618) = 0
write(2, "Camera gain level is 0\n", 23Camera gain level is 0
) = 23
time(NULL)                              = 1154087871
write(2, "Grabbing frame\n", 15Grabbing frame
)        = 15
ioctl(3, VIDIOC_STREAMON, 0xafd1e618)   = 0
ioctl(3, VIDIOC_DQBUF, 0x804d14c)       = ? ERESTARTSYS (To be restarted)
--- SIGTERM (Terminated) @ 0 (0) ---
write(2, "Exiting...\n", 11Exiting...
)            = 11
sigreturn()                             = ? (mask now [])
ioctl(3, VIDIOC_DQBUF, 0x804d14c)       = ? ERESTARTSYS (To be restarted)
--- SIGWINCH (Window changed) @ 0 (0) ---
ioctl(3, VIDIOC_DQBUF

This trace can also be found on: http://mrcl.xs4all.nl/strace_uvccapture.log

> Hrm, I should change the output re: "Taking snapshot every 0 seconds"
> since thats not true, it'll take one shot and exit.

As long as the code is correct... :-)

Marcel


From gsstark at mit.edu  Fri Jul 28 14:54:16 2006
From: gsstark at mit.edu (Greg Stark)
Date: 28 Jul 2006 08:54:16 -0400
Subject: [Linux-uvc-devel] Dell laptop built-in webcam
In-Reply-To: <op.tddrwvnpsttmjo@maya>
References: <87psfq1uyp.fsf@stark.xeocode.com> <op.tddrwvnpsttmjo@maya>
Message-ID: <878xmd28lj.fsf@stark.xeocode.com>

"Martin Rubli" <martin_rubli at logitech.com> writes:

> Greg,
> 
> The camera should work with the uvcvideo driver but xawtv is known to  cause
> problems. You should give luvcview a try, which you can find here:
> http://mxhaard.free.fr/spca50x/Investigation/uvc/

Ok, on further investigation ekiga seems to be failing on its SetVideoFormat
call which is setting either PAL or Auto format on the v4l device. 

I imagine it's the same ioctl error that's being printed by v4lctl here:

# v4lctl -c  /dev/video0 list
ioctl: VIDIOC_G_STD(std=0x2a0b7d3f880 [PAL_K,PAL_60,NTSC_M,NTSC_M_JP,?,?,SECAM_B,SECAM_D,SECAM_K,SECAM_L,?ATSC_8_VSB,ATSC_16_VSB,(null),(null),(null),(null),(null),(null),(null),(null)]): Invalid argument
attribute  | type   | current | default | comment
-----------+--------+---------+---------+-------------------------------------
norm       | choice | (null)  | (null)  |
input      | choice | Camera  | Camera  | Camera
bright     | int    |     127 |     127 | range is 0 => 255
contrast   | int    |      32 |      32 | range is 0 => 255
color      | int    |      32 |      32 | range is 0 => 255
Gain       | int    |       0 |       0 | range is 0 => 255
Backlight  | int    |       1 |       1 | range is 0 => 2
Power Line | choice | 60 Hz   | 60 Hz   | Disabled 50 Hz 60 Hz
Sharpness  | int    |     180 |     180 | range is 0 => 255
Exposure,  | int    |       8 |       8 | range is 0 => 0
Exposure ( | int    |     176 |     166 | range is 1 => 10000
White Bala | bool   | on      | on      |
White Bala | int    |    2617 |    4000 | range is 0 => 10000


-- 
greg



From dancer at netfort.gr.jp  Fri Jul 28 14:57:22 2006
From: dancer at netfort.gr.jp (Junichi Uekawa)
Date: Fri, 28 Jul 2006 21:57:22 +0900
Subject: [Linux-uvc-devel] Logitech QuickcamPro USB Notebook an debian
In-Reply-To: <44C9CA1D.6020501@chenais.net>
References: <44C8CF5C.8000100@cgv.tugraz.at>
	<200607272349.16038.laurent.pinchart@skynet.be>
	<44C9C6B6.8050705@cgv.tugraz.at> <44C9CA1D.6020501@chenais.net>
Message-ID: <87mzatga4t.dancerj%dancer@netfort.gr.jp>

Hi,

> > 
> > Ok, tested luvcview from 06072006.
> > But I still get a black picture and I can?t stop it, just a kill -9 PID
> > kills the luvcview...
> > 
> 
> I have the same error with debian sid and kernel 2.6.17-6 from kernel.org


Hmm... For the Debian packages, I'm applying patch for Mactel iSight,
is this breaking Logitec devices?

regards,
	junichi
-- 
dancer@{debian.org,netfort.gr.jp}   Debian Project


From ace at staticwave.ca  Fri Jul 28 14:59:58 2006
From: ace at staticwave.ca (Gabriel A. Devenyi)
Date: Fri, 28 Jul 2006 08:59:58 -0400
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44C9FCF5.9040106@datkan.net>
References: <44C9343F.8090004@datkan.net>	<op.tddr2k0ksttmjo@maya>	<44C9D4FC.4050706@datkan.net>	<20060728092446.M21185@lazygnome.net>	<44C9DED1.5090100@datkan.net>	<44C9F973.3040505@staticwave.ca>
	<44C9FCF5.9040106@datkan.net>
Message-ID: <44CA0A4E.9070802@staticwave.ca>

Marcel van Beurden wrote:
--SNIP--
> write(2, "Grabbing frame\n", 15Grabbing frame
> )        = 15
> ioctl(3, VIDIOC_STREAMON, 0xafd1e618)   = 0
> ioctl(3, VIDIOC_DQBUF, 0x804d14c)       = ? ERESTARTSYS (To be restarted)
> --- SIGTERM (Terminated) @ 0 (0) ---
> write(2, "Exiting...\n", 11Exiting...
> )            = 11
> sigreturn()                             = ? (mask now [])
> ioctl(3, VIDIOC_DQBUF, 0x804d14c)       = ? ERESTARTSYS (To be restarted)
> --- SIGWINCH (Window changed) @ 0 (0) ---
> ioctl(3, VIDIOC_DQBUF
> 
> This trace can also be found on: http://mrcl.xs4all.nl/strace_uvccapture.log

Hrm, is the kernel saying anything during this?(dmesg) I suspect that
this may be a driver problem, you could try fswebcam
(http://www.firestorm.cx/fswebcam/) to confirm, also, try the latest
driver from SVN. Good luck.

--
Gabriel A. Devenyi
ace at staticwave.ca


From panemade at gmail.com  Fri Jul 28 15:26:34 2006
From: panemade at gmail.com (=?UTF-8?Q?Parag_N(=E0=A4=AA=E0=A4=B0=E0=A4=BE=E0=A5=9A)?=)
Date: Fri, 28 Jul 2006 18:56:34 +0530
Subject: [Linux-uvc-devel] webcam viewer application
Message-ID: <f4586a2e0607280626u3029ef69sbfd6c45a4f0487d@mail.gmail.com>

Hi,
    I would like to add video recording to luvcviewer. Is there anyone
who would like to give me some guidelines for doing that? I do have
the following querys
1)Is it possible to write a unique webcam viewer application that will
support webcam's from spca5xx, pwc, luvcvideo drivers? If not, what
are those limitations?
2)Is there any tools that probe what type the camera is without,
actually having to go through its hardware specs? I mean whether my
webcam supports JPEG/rgb32/yuv etc. types?
3) How can i identify, given a webcam that it supports only v4l driver
& application /v4l2 also?
4) Is there some way by which i can redirect video output to 2
different webcam applications?
e.g. if i have gqcam/luvcvideo/spcaview and i am seeing live video
from it and at same time if i used streamer/mplayer to record a video
at command line or integrate that command line tool inside GUI
application, it doesn't allow streamer/mplayer to get access of
webcam, then what are possible ways to have video recording feature in
any GUI application?

Regards,
Parag.


From dancer at netfort.gr.jp  Fri Jul 28 15:42:33 2006
From: dancer at netfort.gr.jp (Junichi Uekawa)
Date: Fri, 28 Jul 2006 22:42:33 +0900
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44CA0A4E.9070802@staticwave.ca>
References: <44C9343F.8090004@datkan.net> <op.tddr2k0ksttmjo@maya>
	<44C9D4FC.4050706@datkan.net> <20060728092446.M21185@lazygnome.net>
	<44C9DED1.5090100@datkan.net> <44C9F973.3040505@staticwave.ca>
	<44C9FCF5.9040106@datkan.net> <44CA0A4E.9070802@staticwave.ca>
Message-ID: <87k65xg81i.dancerj%dancer@netfort.gr.jp>

Hi,

> > This trace can also be found on: http://mrcl.xs4all.nl/strace_uvccapture.log
> 
> Hrm, is the kernel saying anything during this?(dmesg) I suspect that
> this may be a driver problem, you could try fswebcam
> (http://www.firestorm.cx/fswebcam/) to confirm, also, try the latest
> driver from SVN. Good luck.

Please try 0.1.0-4 which I synced with svn as of yesterday.


regards,
	junichi
-- 
dancer@{debian.org,netfort.gr.jp}   Debian Project


From marcel at datkan.net  Fri Jul 28 16:16:53 2006
From: marcel at datkan.net (Marcel van Beurden)
Date: Fri, 28 Jul 2006 16:16:53 +0200
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44CA0A4E.9070802@staticwave.ca>
References: <44C9343F.8090004@datkan.net>	<op.tddr2k0ksttmjo@maya>	<44C9D4FC.4050706@datkan.net>	<20060728092446.M21185@lazygnome.net>	<44C9DED1.5090100@datkan.net>	<44C9F973.3040505@staticwave.ca>
	<44C9FCF5.9040106@datkan.net> <44CA0A4E.9070802@staticwave.ca>
Message-ID: <44CA1C55.2080800@datkan.net>

Gabriel A. Devenyi wrote:
> Marcel van Beurden wrote:
> --SNIP--
>> This trace can also be found on: http://mrcl.xs4all.nl/strace_uvccapture.log
> 
> Hrm, is the kernel saying anything during this?(dmesg) I suspect that
> this may be a driver problem, you could try fswebcam
> (http://www.firestorm.cx/fswebcam/) to confirm, also, try the latest
> driver from SVN. Good luck.

I downloaded and installed fswebcam and installed Junichi's latest linux-uvc-source package (0.1.0-4).

When I rmmod/modprobe uvcvideo, dmesg doesn't say much:

usbcore: deregistering driver uvcvideo
uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c1)
usbcore: registered new driver uvcvideo
USB Video Class driver (v0.1.0-b)

When I run fswebcam I get:

# fswebcam -v -d /dev/video0
--- Opening /dev/video0...
Trying source module v4l2...
/dev/video0 opened.
src_v4l2_get_capability,80: /dev/video0 information:
src_v4l2_get_capability,81: cap.driver: "uvcvideo"
src_v4l2_get_capability,82: cap.card: "USB Video Class device"
src_v4l2_get_capability,83: cap.bus_info: "0000:00:07.2"
src_v4l2_get_capability,84: cap.capabilities=0x04000001
src_v4l2_get_capability,85: - VIDEO_CAPTURE
src_v4l2_get_capability,96: - STREAMING
No input was specified, using the first.
src_v4l2_set_input,172: /dev/video0: Input 0 information:
src_v4l2_set_input,173: name = "Camera"
src_v4l2_set_input,174: type = 00000002
src_v4l2_set_input,176: - CAMERA
src_v4l2_set_input,177: audioset = 00000000
src_v4l2_set_input,178: tuner = 00000000
src_v4l2_set_input,179: status = 00000000
src_v4l2_set_pix_format,529: Device offers the following V4L2 pixel formats:
src_v4l2_set_pix_format,541: 0: MJPG (MJPEG)
Using palette MJPEG
Adjusting resolution from 384x288 to 352x288.
src_v4l2_set_mmap,649: mmap information:
src_v4l2_set_mmap,650: frames=4
src_v4l2_set_mmap,695: 0 length=31466
src_v4l2_set_mmap,695: 1 length=31466
src_v4l2_set_mmap,695: 2 length=31466
src_v4l2_set_mmap,695: 3 length=31466
--- Capturing frame...
Timed out waiting for frame!
No frames captured.

Seems like a similar problem as with uvccapture (only fswebcam has a timeout and uvccapture waits forever).

Any other suggestions?

Marcel


From sean.bruno at dsl-only.net  Fri Jul 28 17:39:52 2006
From: sean.bruno at dsl-only.net (Sean Bruno)
Date: Fri, 28 Jul 2006 08:39:52 -0700
Subject: [Linux-uvc-devel] submitting uvc to the kernel dev's
Message-ID: <1154101192.3092.39.camel@home-desk>

A couple of the folks in Fedora land have asked questions regarding when
this driver would be submitted for inclusion into the kernel if ever.  I
was working on a Fedora-extras kmod rpm and was asked if it was close to
being sent into the kernel.

Sean



From martin_rubli at logitech.com  Fri Jul 28 18:33:01 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Fri, 28 Jul 2006 09:33:01 -0700
Subject: [Linux-uvc-devel] Dell laptop built-in webcam
In-Reply-To: <87k65y0xga.fsf@stark.xeocode.com>
References: <87psfq1uyp.fsf@stark.xeocode.com> <op.tddrwvnpsttmjo@maya>
	<87k65y0xga.fsf@stark.xeocode.com>
Message-ID: <op.tdeqxbbasttmjo@maya>

On Fri, 28 Jul 2006 04:40:21 -0700, Greg Stark <gsstark at mit.edu> wrote:

> "Martin Rubli" <martin_rubli at logitech.com> writes:
>
>> Greg,
>>
>> The camera should work with the uvcvideo driver but xawtv is known to   
>> cause
>> problems. You should give luvcview a try, which you can find here:
>> http://mxhaard.free.fr/spca50x/Investigation/uvc/
>
> Cool, that actually works. Sort of. If I press shift or alt it seg  
> faults.

I remember having the same problem but don't remember what I did about it.  
I'd suggest compiling it with -g and then launching it with gdb to see  
where it crashes.

You may be interested in knowing that Michel is working on a new tool.  
luvcview is really more of a test program and it has a few flaws that he's  
aware of. :-)

Cheers,
Martin


From martin_rubli at logitech.com  Fri Jul 28 18:37:21 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Fri, 28 Jul 2006 09:37:21 -0700
Subject: [Linux-uvc-devel] Dell laptop built-in webcam
In-Reply-To: <878xmd28lj.fsf@stark.xeocode.com>
References: <87psfq1uyp.fsf@stark.xeocode.com> <op.tddrwvnpsttmjo@maya>
	<878xmd28lj.fsf@stark.xeocode.com>
Message-ID: <op.tdeq4jkgsttmjo@maya>

On Fri, 28 Jul 2006 05:54:16 -0700, Greg Stark <gsstark at mit.edu> wrote:

> "Martin Rubli" <martin_rubli at logitech.com> writes:
>
>> Greg,
>>
>> The camera should work with the uvcvideo driver but xawtv is known to   
>> cause
>> problems. You should give luvcview a try, which you can find here:
>> http://mxhaard.free.fr/spca50x/Investigation/uvc/
>
> Ok, on further investigation ekiga seems to be failing on its  
> SetVideoFormat
> call which is setting either PAL or Auto format on the v4l device.

That figures. Webcams don't deal with video formats, which is why the  
uvcvideo driver does not support this particular ioctl. Some applications  
are confused by that and fail in that case even though capturing would  
work fine if they continued.

The good news is that Ekiga works with webcams, at least the latest  
version from CVS. (If not that would be a regression because I had it  
working.) So try to compile the latest Ekiga and pwlib and see if it works.

Cheers,
Martin


From martin_rubli at logitech.com  Fri Jul 28 18:44:07 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Fri, 28 Jul 2006 09:44:07 -0700
Subject: [Linux-uvc-devel] webcam viewer application
In-Reply-To: <f4586a2e0607280626u3029ef69sbfd6c45a4f0487d@mail.gmail.com>
References: <f4586a2e0607280626u3029ef69sbfd6c45a4f0487d@mail.gmail.com>
Message-ID: <op.tderftu2sttmjo@maya>

On Fri, 28 Jul 2006 06:26:34 -0700, Parag N(????) <panemade at gmail.com>  
wrote:

> Hi,
>     I would like to add video recording to luvcviewer. Is there anyone
> who would like to give me some guidelines for doing that? I do have
> the following querys
> 1)Is it possible to write a unique webcam viewer application that will
> support webcam's from spca5xx, pwc, luvcvideo drivers? If not, what
> are those limitations?

Sort of. :-) The problem is that some drivers (like the current spca5xx)  
are still V4L(1) drivers, so your application would have to support V4L  
and V4L2. Since V4L is now officially deprecated in favor of V4L2, most  
drivers should be ported. As a matter of fact, Michel Xhaard is working on  
a V4L2 rewrite of his driver.

> 2)Is there any tools that probe what type the camera is without,
> actually having to go through its hardware specs? I mean whether my
> webcam supports JPEG/rgb32/yuv etc. types?

Sure:
http://linuxtv.org/downloads/video4linux/API/V4L2_API/spec-single/v4l2.html
There's even frame format enumeration (for resolution and frame rate),  
which is supported by the UVC driver. The patch should be merged into V4L2  
anytime soon.
http://linuxtv.org/v4lwiki/index.php/Discussion_of_API_enhancements

> 3) How can i identify, given a webcam that it supports only v4l driver
> & application /v4l2 also?

See above ...

> 4) Is there some way by which i can redirect video output to 2
> different webcam applications?
> e.g. if i have gqcam/luvcvideo/spcaview and i am seeing live video
> from it and at same time if i used streamer/mplayer to record a video
> at command line or integrate that command line tool inside GUI
> application, it doesn't allow streamer/mplayer to get access of
> webcam, then what are possible ways to have video recording feature in
> any GUI application?

V4L2 does not support multiple opening of video streams, so you seem to be  
out of luck there. However, if you're using a multimedia framework like  
GStreamer you should be able to at least clone the stream and redirect it  
towards different sinks.

Cheers,
Martin


From martin_rubli at logitech.com  Fri Jul 28 18:45:49 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Fri, 28 Jul 2006 09:45:49 -0700
Subject: [Linux-uvc-devel] submitting uvc to the kernel dev's
In-Reply-To: <1154101192.3092.39.camel@home-desk>
References: <1154101192.3092.39.camel@home-desk>
Message-ID: <op.tderintvsttmjo@maya>

On Fri, 28 Jul 2006 08:39:52 -0700, Sean Bruno <sean.bruno at dsl-only.net>  
wrote:

> A couple of the folks in Fedora land have asked questions regarding when
> this driver would be submitted for inclusion into the kernel if ever.  I
> was working on a Fedora-extras kmod rpm and was asked if it was close to
> being sent into the kernel.

I don't know if Laurent has a precise schedule yet but it's definitely  
planned for the near future. He's about to restructure parts of the driver  
and include a few extensions. Also, we're waiting for the frame format  
enumeration ioctls  
(http://linuxtv.org/v4lwiki/index.php/Discussion_of_API_enhancements) to  
be included into V4L2.

Cheers,
Martin


From martin_rubli at logitech.com  Fri Jul 28 19:35:47 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Fri, 28 Jul 2006 10:35:47 -0700
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44C9F275.6050701@datkan.net>
References: <44C9343F.8090004@datkan.net> <op.tddr2k0ksttmjo@maya>
	<44C9D4FC.4050706@datkan.net> <20060728092446.M21185@lazygnome.net>
	<44C9DED1.5090100@datkan.net> <44C9F275.6050701@datkan.net>
Message-ID: <op.tdettxw5sttmjo@maya>

On Fri, 28 Jul 2006 04:18:13 -0700, Marcel van Beurden <marcel at datkan.net>  
wrote:

> Marcel van Beurden wrote:
>
> I installed some SDL packages and now it builds fine. But running it
> doesn't seem to do much:
>
> # ./luvcview
> uvcview verion 0.1.6
>
>         ---------------------- DirectFB v0.9.24 ---------------------
>               (c) 2000-2002  convergence integrated media GmbH
>               (c) 2002-2004  convergence GmbH
>          -----------------------------------------------------------
>
> (*) DirectFB/Core: Single Application Core. (2006-06-14 07:02)
> (*) Direct/Memcpy: Using MMXEXT optimized memcpy()
> (!) Direct/Util: opening '/dev/fb0' and '/dev/fb/0' failed
>      --> No such file or directory
> (!) DirectFB/FBDev: Error opening framebuffer device!
> (!) DirectFB/FBDev: Use 'fbdev' option or set FRAMEBUFFER environment
> variable.
> (!) DirectFB/Core: Could not initialize 'system' core!
>      --> Initialization error!
> Couldn't initialize SDL: DirectFBCreate: Initialization error!
>
> I'm running on:
> Linux debian 2.6.16-2-686 #1 Sat Jul 15 21:59:21 UTC 2006 i686 GNU/Linux
>
> Am I missing something here?

I've never seen similar errors on my systems when using luvcview. This one  
doesn't even look like a uvcvideo or V4L2 problem on the input side but it  
looks like SDL is having problems initializing the output window.

That still wouldn't explain the failure with headless programs, though.

So can you execute
   echo 64 > /sys/module/uvcvideo/parameters/trace
to increase uvcvideo's debug output level and post the syslog output you  
get after plugging in your camera and trying to run the capture programs?

Cheers,
Martin


From marcel at datkan.net  Fri Jul 28 23:01:48 2006
From: marcel at datkan.net (Marcel van Beurden)
Date: Fri, 28 Jul 2006 23:01:48 +0200
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <op.tdettxw5sttmjo@maya>
References: <44C9343F.8090004@datkan.net> <op.tddr2k0ksttmjo@maya>
	<44C9D4FC.4050706@datkan.net> <20060728092446.M21185@lazygnome.net>
	<44C9DED1.5090100@datkan.net> <44C9F275.6050701@datkan.net>
	<op.tdettxw5sttmjo@maya>
Message-ID: <44CA7B3C.3090101@datkan.net>

Hi,

Martin Rubli wrote:
>> Am I missing something here?
> 
> I've never seen similar errors on my systems when using luvcview. This 
> one doesn't even look like a uvcvideo or V4L2 problem on the input side 
> but it looks like SDL is having problems initializing the output window.
> 
> That still wouldn't explain the failure with headless programs, though.

To be clear, X windows is installed, but not configured or being used. 
This is a server running in a corner. All I do is console based stuff 
through a ssh shell.

> So can you execute
>   echo 64 > /sys/module/uvcvideo/parameters/trace
> to increase uvcvideo's debug output level and post the syslog output you 
> get after plugging in your camera and trying to run the capture programs?

One more time I tried plugging in the cam, running luvcview, uvccapture 
and fswebcam. Here are the results...

Plugging in cam:

usb 1-1: new full speed USB device using uhci_hcd and address 23
usb 1-1: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c1)
23:3:1: cannot set freq 0 to ep 0x86
23:3:2: cannot set freq 0 to ep 0x86
23:3:3: cannot set freq 16000 to ep 0x86

I think this one happened while unplugging the cam:

uvcvideo: Non-zero status (-84) in status completion handler.

When running luvcview I don't get any messages with dmesg. Just this 
luvcview output:

# ./luvcview
uvcview verion 0.1.6

        ---------------------- DirectFB v0.9.24 ---------------------
              (c) 2000-2002  convergence integrated media GmbH
              (c) 2002-2004  convergence GmbH
         -----------------------------------------------------------

(*) DirectFB/Core: Single Application Core. (2006-06-14 07:02)
(*) Direct/Memcpy: Using MMXEXT optimized memcpy()
(!) Direct/Util: opening '/dev/fb0' and '/dev/fb/0' failed
     --> No such file or directory
(!) DirectFB/FBDev: Error opening framebuffer device!
(!) DirectFB/FBDev: Use 'fbdev' option or set FRAMEBUFFER environment 
variable.
(!) DirectFB/Core: Could not initialize 'system' core!
     --> Initialization error!
Couldn't initialize SDL: DirectFBCreate: Initialization error!

Not sure what the purpose of SDL and DirectFB is. I would guess the 
linux-uvc is enough to get a picture from the cam. If not, what does 
this driver depend on exactly. I might not have installed everything, or 
using the wrong versions of that.

When I run uvccapture I get this from dmesg:

v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0cc5605)
v4l2 ioctl VIDIOC_REQBUFS, dir=rw (0xc0145608)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_S_CTRL, dir=rw (0xc008561c)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
v4l2 ioctl VIDIOC_STREAMON, dir=-w (0x40045612)
v4l2 ioctl VIDIOC_DQBUF, dir=rw (0xc0445611)

(then it hangs)

When I run fswebcam it shows me:

--- Opening /dev/video0...
Trying source module v4l2...
/dev/video0 opened.
No input was specified, using the first.
Adjusting resolution from 384x288 to 352x288.
--- Capturing frame...
Timed out waiting for frame!
No frames captured.

dmesg gives me:

v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
v4l2 ioctl VIDIOC_S_INPUT, dir=rw (0xc0045627)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
v4l2 ioctl VIDIOC_ENUM_FMT, dir=rw (0xc0405602)
v4l2 ioctl VIDIOC_ENUM_FMT, dir=rw (0xc0405602)
v4l2 ioctl VIDIOC_TRY_FMT, dir=rw (0xc0cc5640)
v4l2 ioctl VIDIOC_TRY_FMT, dir=rw (0xc0cc5640)
v4l2 ioctl VIDIOC_S_FMT, dir=rw (0xc0cc5605)
v4l2 ioctl VIDIOC_G_JPEGCOMP, dir=r- (0x808c563d)
uvcvideo: Unknown ioctl 0x808c563d
v4l2 ioctl VIDIOC_S_JPEGCOMP, dir=-w (0x408c563e)
uvcvideo: Unknown ioctl 0x408c563e
v4l2 ioctl VIDIOC_REQBUFS, dir=rw (0xc0145608)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QUERYBUF, dir=rw (0xc0445609)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_QBUF, dir=rw (0xc044560f)
v4l2 ioctl VIDIOC_STREAMON, dir=-w (0x40045612)

Regards,
Marcel

P.S. I will go on a holiday tomorrow and will basically be offline for a 
week (unless there are internet cafes at the bottom of the Red Sea).


From panemade at gmail.com  Sat Jul 29 14:20:14 2006
From: panemade at gmail.com (=?UTF-8?Q?Parag_N(=E0=A4=AA=E0=A4=B0=E0=A4=BE=E0=A5=9A)?=)
Date: Sat, 29 Jul 2006 17:50:14 +0530
Subject: [Linux-uvc-devel] webcam viewer application
In-Reply-To: <op.tderftu2sttmjo@maya>
References: <f4586a2e0607280626u3029ef69sbfd6c45a4f0487d@mail.gmail.com>
	<op.tderftu2sttmjo@maya>
Message-ID: <f4586a2e0607290520p770abd2cnebab2eab5c50694c@mail.gmail.com>

Hi,
On 7/28/06, Martin Rubli <martin_rubli at logitech.com> wrote:
> On Fri, 28 Jul 2006 06:26:34 -0700, Parag N(????) <panemade at gmail.com>
> wrote:
>
> > Hi,
> >     I would like to add video recording to luvcviewer. Is there anyone
> > who would like to give me some guidelines for doing that? I do have
> > the following querys
> > 1)Is it possible to write a unique webcam viewer application that will
> > support webcam's from spca5xx, pwc, luvcvideo drivers? If not, what
> > are those limitations?
>
> Sort of. :-) The problem is that some drivers (like the current spca5xx)
> are still V4L(1) drivers, so your application would have to support V4L
> and V4L2. Since V4L is now officially deprecated in favor of V4L2, most
> drivers should be ported. As a matter of fact, Michel Xhaard is working on
> a V4L2 rewrite of his driver.
>
> > 2)Is there any tools that probe what type the camera is without,
> > actually having to go through its hardware specs? I mean whether my
> > webcam supports JPEG/rgb32/yuv etc. types?
>
> Sure:
> http://linuxtv.org/downloads/video4linux/API/V4L2_API/spec-single/v4l2.html
> There's even frame format enumeration (for resolution and frame rate),
> which is supported by the UVC driver. The patch should be merged into V4L2
> anytime soon.
> http://linuxtv.org/v4lwiki/index.php/Discussion_of_API_enhancements

 I got errors as
   gcc frmfmtenum.c -o frmfmtenum
frmfmtenum.c: In function `enum_frame_intervals':
frmfmtenum.c:79: error: structure has no member named `continuous'
frmfmtenum.c:79: error: structure has no member named `continuous'
frmfmtenum.c:80: error: structure has no member named `continuous'
frmfmtenum.c:80: error: structure has no member named `continuous'
frmfmtenum.c: In function `enum_frame_sizes':
frmfmtenum.c:119: error: structure has no member named `continuous'
frmfmtenum.c:119: error: structure has no member named `continuous'
frmfmtenum.c:120: error: structure has no member named `continuous'
frmfmtenum.c:120: error: structure has no member named `continuous'

When i comment those line program worked well for v4l2 devices. But
what about v4l devices which are still in large numbers? how can i do
frmfmtenum on v4l devices?

>
> > 3) How can i identify, given a webcam that it supports only v4l driver
> > & application /v4l2 also?
>
> See above ...
>
> > 4) Is there some way by which i can redirect video output to 2
> > different webcam applications?
> > e.g. if i have gqcam/luvcvideo/spcaview and i am seeing live video
> > from it and at same time if i used streamer/mplayer to record a video
> > at command line or integrate that command line tool inside GUI
> > application, it doesn't allow streamer/mplayer to get access of
> > webcam, then what are possible ways to have video recording feature in
> > any GUI application?
>
> V4L2 does not support multiple opening of video streams, so you seem to be
> out of luck there. However, if you're using a multimedia framework like
> GStreamer you should be able to at least clone the stream and redirect it
> towards different sinks.
  Thanks i learnt how to clone video stream using GStreamer.
>
> Cheers,
> Martin
>

From laurent.pinchart at skynet.be  Sun Jul 30 15:35:59 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 30 Jul 2006 15:35:59 +0200
Subject: [Linux-uvc-devel] Logitech QuickcamPro USB Notebook an debian
In-Reply-To: <87mzatga4t.dancerj%dancer@netfort.gr.jp>
References: <44C8CF5C.8000100@cgv.tugraz.at> <44C9CA1D.6020501@chenais.net>
	<87mzatga4t.dancerj%dancer@netfort.gr.jp>
Message-ID: <200607301535.59679.laurent.pinchart@skynet.be>

> > > Ok, tested luvcview from 06072006.
> > > But I still get a black picture and I can?t stop it, just a kill -9 PID
> > > kills the luvcview...
> >
> > I have the same error with debian sid and kernel 2.6.17-6 from kernel.org
>
> Hmm... For the Debian packages, I'm applying patch for Mactel iSight,
> is this breaking Logitec devices?

Yes it does. the iSight devices are not UVC compliant, and the patch is a 
quick hack. I plan to integrate it in a clean way when I'll be done with 
restructuring the driver. In the meantime, please don't apply the iSight 
patch.

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Jul 30 15:39:35 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 30 Jul 2006 15:39:35 +0200
Subject: [Linux-uvc-devel] submitting uvc to the kernel dev's
In-Reply-To: <op.tderintvsttmjo@maya>
References: <1154101192.3092.39.camel@home-desk> <op.tderintvsttmjo@maya>
Message-ID: <200607301539.35676.laurent.pinchart@skynet.be>

> > A couple of the folks in Fedora land have asked questions regarding when
> > this driver would be submitted for inclusion into the kernel if ever.  I
> > was working on a Fedora-extras kmod rpm and was asked if it was close to
> > being sent into the kernel.
>
> I don't know if Laurent has a precise schedule yet but it's definitely
> planned for the near future. He's about to restructure parts of the driver
> and include a few extensions. Also, we're waiting for the frame format
> enumeration ioctls
> (http://linuxtv.org/v4lwiki/index.php/Discussion_of_API_enhancements) to
> be included into V4L2.

That's right. There's no precise schecule, as I'm quite busy with lots of non 
computer related stuff, but I will submit the driver for inclusion into the 
kernel in the "near future".

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Jul 30 15:41:20 2006
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 30 Jul 2006 15:41:20 +0200
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44CA1C55.2080800@datkan.net>
References: <44C9343F.8090004@datkan.net> <44CA0A4E.9070802@staticwave.ca>
	<44CA1C55.2080800@datkan.net>
Message-ID: <200607301541.20712.laurent.pinchart@skynet.be>

Hi Marcel,

the Debian package includes a patch that adds support for Apple iSight 
devices. Unfortunately, the patch breaks all UVC compliant devices, as the 
iSight is not UVC compliant. Please try to download the latest sources from 
SVN and see if it fixes your problem.

Laurent Pinchart


From dancer at netfort.gr.jp  Sun Jul 30 15:58:06 2006
From: dancer at netfort.gr.jp (Junichi Uekawa)
Date: Sun, 30 Jul 2006 22:58:06 +0900
Subject: [Linux-uvc-devel] Logitech QuickcamPro USB Notebook an debian
In-Reply-To: <200607301535.59679.laurent.pinchart@skynet.be>
References: <44C8CF5C.8000100@cgv.tugraz.at> <44C9CA1D.6020501@chenais.net>
	<87mzatga4t.dancerj%dancer@netfort.gr.jp>
	<200607301535.59679.laurent.pinchart@skynet.be>
Message-ID: <87ac6ri49d.dancerj%dancer@netfort.gr.jp>

Hi,

> > > > Ok, tested luvcview from 06072006.
> > > > But I still get a black picture and I can?t stop it, just a kill -9 PID
> > > > kills the luvcview...
> > >
> > > I have the same error with debian sid and kernel 2.6.17-6 from kernel.org
> >
> > Hmm... For the Debian packages, I'm applying patch for Mactel iSight,
> > is this breaking Logitec devices?
> 
> Yes it does. the iSight devices are not UVC compliant, and the patch is a 
> quick hack. I plan to integrate it in a clean way when I'll be done with 
> restructuring the driver. In the meantime, please don't apply the iSight 
> patch.

On a closer look, I see that the patch changes the way data is
processed unconditionally, which breaks compatibility with other
existing UVC devices.

Oh well.

Since reverting the patch means it won't work at all for me (I only
have the iSight to test on), I'll need to think of a better way to get
out of this situation.


regards,
	junichi
-- 
dancer@{debian.org,netfort.gr.jp}   Debian Project


From martin_rubli at logitech.com  Sun Jul 30 23:20:56 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Sun, 30 Jul 2006 14:20:56 -0700
Subject: [Linux-uvc-devel] webcam viewer application
In-Reply-To: <f4586a2e0607290520p770abd2cnebab2eab5c50694c@mail.gmail.com>
References: <f4586a2e0607280626u3029ef69sbfd6c45a4f0487d@mail.gmail.com>
	<op.tderftu2sttmjo@maya>
	<f4586a2e0607290520p770abd2cnebab2eab5c50694c@mail.gmail.com>
Message-ID: <op.tditk6dnsttmjo@maya>

On Sat, 29 Jul 2006 05:20:14 -0700, Parag N(????) <panemade at gmail.com>  
wrote:

>> Sure:
>> http://linuxtv.org/downloads/video4linux/API/V4L2_API/spec-single/v4l2.html
>> There's even frame format enumeration (for resolution and frame rate),
>> which is supported by the UVC driver. The patch should be merged into  
>> V4L2 anytime soon.
>> http://linuxtv.org/v4lwiki/index.php/Discussion_of_API_enhancements
>
>  I got errors as
>    gcc frmfmtenum.c -o frmfmtenum
> frmfmtenum.c: In function `enum_frame_intervals':
> frmfmtenum.c:79: error: structure has no member named `continuous'
> frmfmtenum.c:79: error: structure has no member named `continuous'
> frmfmtenum.c:80: error: structure has no member named `continuous'
> frmfmtenum.c:80: error: structure has no member named `continuous'
> frmfmtenum.c: In function `enum_frame_sizes':
> frmfmtenum.c:119: error: structure has no member named `continuous'
> frmfmtenum.c:119: error: structure has no member named `continuous'
> frmfmtenum.c:120: error: structure has no member named `continuous'
> frmfmtenum.c:120: error: structure has no member named `continuous'

My mistake. I forgot to upload the latest version of the program after  
updating the API. You can get the fixed version from:
http://www.newvibes.ch/mrubli/v4l/frmfmtenum.c

As you can see, the "continuous" case is now a special case of "step-wise"  
(i.e. step = 1), that's the only change.

> But what about v4l devices which are still in large numbers? how can i do
> frmfmtenum on v4l devices?

Guess why we came up with the frame format enumeration API! ;-)

> Thanks i learnt how to clone video stream using GStreamer.

Since you have it already, could you share it with us in the interest of  
archiving the info? Thanks!

Cheers,
Martin


From dancer at netfort.gr.jp  Mon Jul 31 00:45:04 2006
From: dancer at netfort.gr.jp (Junichi Uekawa)
Date: Mon, 31 Jul 2006 07:45:04 +0900
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <200607301541.20712.laurent.pinchart@skynet.be>
References: <44C9343F.8090004@datkan.net> <44CA0A4E.9070802@staticwave.ca>
	<44CA1C55.2080800@datkan.net>
	<200607301541.20712.laurent.pinchart@skynet.be>
Message-ID: <87wt9un24v.dancerj%dancer@netfort.gr.jp>

Hi,
> 
> the Debian package includes a patch that adds support for Apple iSight 
> devices. Unfortunately, the patch breaks all UVC compliant devices, as the 
> iSight is not UVC compliant. Please try to download the latest sources from 
> SVN and see if it fixes your problem.
> 
> Laurent Pinchart

I've prepared for now a version with Apple iSight patch removed. (just
commenting out the relevant line in debian/patches/00list).

add the following to your /etc/apt/sources.list:
deb-src http://www.netfort.gr.jp/~dancer/tmp/20060731/ ./

then please do something like:

# apt-get update 
$ apt-get source linux-uvc
$ cd linux-uvc-0.1.0
$ debuild 
# debi 
# m-a a-i linux-uvc


regards,
	junichi
-- 
dancer@{debian.org,netfort.gr.jp}   Debian Project


From panemade at gmail.com  Mon Jul 31 05:32:13 2006
From: panemade at gmail.com (=?UTF-8?Q?Parag_N(=E0=A4=AA=E0=A4=B0=E0=A4=BE=E0=A5=9A)?=)
Date: Mon, 31 Jul 2006 09:02:13 +0530
Subject: [Linux-uvc-devel] webcam viewer application
In-Reply-To: <op.tditk6dnsttmjo@maya>
References: <f4586a2e0607280626u3029ef69sbfd6c45a4f0487d@mail.gmail.com>
	<op.tderftu2sttmjo@maya>
	<f4586a2e0607290520p770abd2cnebab2eab5c50694c@mail.gmail.com>
	<op.tditk6dnsttmjo@maya>
Message-ID: <f4586a2e0607302032g737f4155u73b0eed76a1be9ee@mail.gmail.com>

On 7/31/06, Martin Rubli <martin_rubli at logitech.com> wrote:
> On Sat, 29 Jul 2006 05:20:14 -0700, Parag N(????) <panemade at gmail.com>
> wrote:
>
> >> Sure:
> >> http://linuxtv.org/downloads/video4linux/API/V4L2_API/spec-single/v4l2.html
> >> There's even frame format enumeration (for resolution and frame rate),
> >> which is supported by the UVC driver. The patch should be merged into
> >> V4L2 anytime soon.
> >> http://linuxtv.org/v4lwiki/index.php/Discussion_of_API_enhancements
> >
> >  I got errors as
> >    gcc frmfmtenum.c -o frmfmtenum
> > frmfmtenum.c: In function `enum_frame_intervals':
> > frmfmtenum.c:79: error: structure has no member named `continuous'
> > frmfmtenum.c:79: error: structure has no member named `continuous'
> > frmfmtenum.c:80: error: structure has no member named `continuous'
> > frmfmtenum.c:80: error: structure has no member named `continuous'
> > frmfmtenum.c: In function `enum_frame_sizes':
> > frmfmtenum.c:119: error: structure has no member named `continuous'
> > frmfmtenum.c:119: error: structure has no member named `continuous'
> > frmfmtenum.c:120: error: structure has no member named `continuous'
> > frmfmtenum.c:120: error: structure has no member named `continuous'
>
> My mistake. I forgot to upload the latest version of the program after
> updating the API. You can get the fixed version from:
> http://www.newvibes.ch/mrubli/v4l/frmfmtenum.c
  I used this new version and on Quickcam Pro 5000 it gave  2 frame formats
{ pixelformat = 'MJPG', description = 'MJPEG' }
{ pixelformat = 'YUYV', description = 'Uncompressed' }
So this mean webcam supports only 2 frame formats mjpg,yuyv. right?
>
> As you can see, the "continuous" case is now a special case of "step-wise"
> (i.e. step = 1), that's the only change.
>
> > But what about v4l devices which are still in large numbers? how can i do
> > frmfmtenum on v4l devices?
>
> Guess why we came up with the frame format enumeration API! ;-)
>
> > Thanks i learnt how to clone video stream using GStreamer.
>
> Since you have it already, could you share it with us in the interest of
> archiving the info? Thanks!
>
  Sure. I used following command with help of #gstreamer peoples
gst-launch v4l2src ! decodebin ! tee name=t  t. ! queue !
ffmpegcolorspace ! ximagesink  t. ! queue ! ffmpegcolorspace !
ximagesink
this command showed  2 output live video windows from same webcam device
> Cheers,
> Martin
>

From l.schimmer at cgv.tugraz.at  Mon Jul 31 14:52:49 2006
From: l.schimmer at cgv.tugraz.at (Lars Schimmer)
Date: Mon, 31 Jul 2006 14:52:49 +0200
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <87wt9un24v.dancerj%dancer@netfort.gr.jp>
References: <44C9343F.8090004@datkan.net>
	<44CA0A4E.9070802@staticwave.ca>	<44CA1C55.2080800@datkan.net>	<200607301541.20712.laurent.pinchart@skynet.be>
	<87wt9un24v.dancerj%dancer@netfort.gr.jp>
Message-ID: <44CDFD21.2050902@cgv.tugraz.at>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Junichi Uekawa wrote:
> Hi,
>> the Debian package includes a patch that adds support for Apple iSight 
>> devices. Unfortunately, the patch breaks all UVC compliant devices, as the 
>> iSight is not UVC compliant. Please try to download the latest sources from 
>> SVN and see if it fixes your problem.
>>
>> Laurent Pinchart
> 
> I've prepared for now a version with Apple iSight patch removed. (just
> commenting out the relevant line in debian/patches/00list).
> 
> add the following to your /etc/apt/sources.list:
> deb-src http://www.netfort.gr.jp/~dancer/tmp/20060731/ ./
> 
> then please do something like:
> 
> # apt-get update 
> $ apt-get source linux-uvc
> $ cd linux-uvc-0.1.0
> $ debuild 
> # debi 
> # m-a a-i linux-uvc

Sorry, that doesn?t work as expected...
But I grabbed the .deb from that site, installed it and rebuild the
module...
Still no success, a black window...


> regards,
> 	junichi


MfG,
Lars Schimmer
- --
- -------------------------------------------------------------
TU Graz, Institut f?r ComputerGraphik & WissensVisualisierung
Tel: +43 316 873-5405       E-Mail: l.schimmer at cgv.tugraz.at
Fax: +43 316 873-5402       PGP-Key-ID: 0x4A9B1723
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.1 (GNU/Linux)
Comment: Using GnuPG with Mozilla - http://enigmail.mozdev.org

iD8DBQFEzf0hmWhuE0qbFyMRAjQhAJwJDP4GvC4Oqfld2lRrMpTEITXjAACgkT/t
KRxowJJvIhwWZjXvoJ3K14Q=
=qxBt
-----END PGP SIGNATURE-----


From dancer at netfort.gr.jp  Mon Jul 31 16:40:35 2006
From: dancer at netfort.gr.jp (Junichi Uekawa)
Date: Mon, 31 Jul 2006 23:40:35 +0900
Subject: [Linux-uvc-devel] Quickcam Fusion with debian not working...
In-Reply-To: <44CDFD21.2050902@cgv.tugraz.at>
References: <44C9343F.8090004@datkan.net> <44CA0A4E.9070802@staticwave.ca>
	<44CA1C55.2080800@datkan.net>
	<200607301541.20712.laurent.pinchart@skynet.be>
	<87wt9un24v.dancerj%dancer@netfort.gr.jp>
	<44CDFD21.2050902@cgv.tugraz.at>
Message-ID: <877j1tg7mk.dancerj%dancer@netfort.gr.jp>

> 
> Sorry, that doesn?t work as expected...
> But I grabbed the .deb from that site, installed it and rebuild the
> module...
> Still no success, a black window...
> 

Are you trying with ekiga ?

regards,
	junichi
-- 
dancer@{debian.org,netfort.gr.jp}   Debian Project


From martin_rubli at logitech.com  Mon Jul 31 18:02:09 2006
From: martin_rubli at logitech.com (Martin Rubli)
Date: Mon, 31 Jul 2006 09:02:09 -0700
Subject: [Linux-uvc-devel] webcam viewer application
In-Reply-To: <f4586a2e0607302032g737f4155u73b0eed76a1be9ee@mail.gmail.com>
References: <f4586a2e0607280626u3029ef69sbfd6c45a4f0487d@mail.gmail.com>
	<op.tderftu2sttmjo@maya>
	<f4586a2e0607290520p770abd2cnebab2eab5c50694c@mail.gmail.com>
	<op.tditk6dnsttmjo@maya>
	<f4586a2e0607302032g737f4155u73b0eed76a1be9ee@mail.gmail.com>
Message-ID: <op.tdj9hviwsttmjo@maya>

On Sun, 30 Jul 2006 20:32:13 -0700, Parag N(????) <panemade at gmail.com>  
wrote:

> I used this new version and on Quickcam Pro 5000 it gave  2 frame formats
> { pixelformat = 'MJPG', description = 'MJPEG' }
> { pixelformat = 'YUYV', description = 'Uncompressed' }
> So this mean webcam supports only 2 frame formats mjpg,yuyv. right?

Exactly. :-)

Cheers,
Martin


From pierre.gronlier at gmail.com  Mon Jul 31 18:15:45 2006
From: pierre.gronlier at gmail.com (pierre gronlier)
Date: Mon, 31 Jul 2006 19:15:45 +0300
Subject: [Linux-uvc-devel] webcam viewer application
In-Reply-To: <f4586a2e0607280626u3029ef69sbfd6c45a4f0487d@mail.gmail.com>
References: <f4586a2e0607280626u3029ef69sbfd6c45a4f0487d@mail.gmail.com>
Message-ID: <ecc945da0607310915g24d20608qe39f11cc76672aae@mail.gmail.com>

Hi

Maybe you can have a look at :
http://ronald.bitfreak.net/cupid.php to get some ideas.

Pierre

On 28/07/06, Parag N(????) <panemade at gmail.com> wrote:
> Hi,
>     I would like to add video recording to luvcviewer. Is there anyone
> who would like to give me some guidelines for doing that? I do have
> the following querys
> 1)Is it possible to write a unique webcam viewer application that will
> support webcam's from spca5xx, pwc, luvcvideo drivers? If not, what
> are those limitations?
> 2)Is there any tools that probe what type the camera is without,
> actually having to go through its hardware specs? I mean whether my
> webcam supports JPEG/rgb32/yuv etc. types?
> 3) How can i identify, given a webcam that it supports only v4l driver
> & application /v4l2 also?
> 4) Is there some way by which i can redirect video output to 2
> different webcam applications?
> e.g. if i have gqcam/luvcvideo/spcaview and i am seeing live video
> from it and at same time if i used streamer/mplayer to record a video
> at command line or integrate that command line tool inside GUI
> application, it doesn't allow streamer/mplayer to get access of
> webcam, then what are possible ways to have video recording feature in
> any GUI application?
>
> Regards,
> Parag.
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> http://bat.berlios.de/mailman/listinfo/linux-uvc-devel
>


-- 
www.gentoo.org - www.epita.fr - www.iitk.ac.in
http://ticapix.blogspot.com/

From m.blizinski at wit.edu.pl  Mon Jul 31 18:42:20 2006
From: m.blizinski at wit.edu.pl (Maciej =?UTF-8?Q?Blizi=C5=84ski?=)
Date: Mon, 31 Jul 2006 18:42:20 +0200
Subject: [Linux-uvc-devel] Capture from UVC with MPlayer
In-Reply-To: <1153844383.16328.37.camel@localhost.localnet>
References: <1151569713.17381.19.camel@localhost.localnet>
	<op.tbw03gensttmjo@maya> <1151601811.17381.77.camel@localhost.localnet>
	<200607042211.49308.laurent.pinchart@skynet.be>
	<1153844383.16328.37.camel@localhost.localnet>
Message-ID: <1154364140.2292.22.camel@localhost.localnet>

On Tue, 2006-07-25 at 18:19 +0200, Maciej Blizi?ski wrote:
> On Tue, 2006-07-04 at 22:11 +0200, Laurent Pinchart wrote:
> > Anyway the problem with the v4l2 input module is that it doesn't set the 
> > v4l2_buffer.memory field before calling VIDIOC_QBUF and VIDIOC_DQBUF 
> > (libmpdemux/tvi_v4l2.c, lines 881, 1401, 1425 and 1519).
> > 
> > That would only take a few minutes to fix. Could you submit the request to 
> > Martin Olschewski ?

Martin's patch fixes the problem, please see the attachment (3kB).
I think it will be submitted to MPlayer's source trunk.

However, to encode the video, the tuner.patch for the UVC driver is
still needed, otherwise mencoder dies from a floating point exception.
But, as Laurent asks, one problem at a time. ;-)

-- 
Maciej Blizi?ski <m.blizinski at wit.edu.pl>
http://automatthias.wordpress.com
-------------- next part --------------
A non-text attachment was scrubbed...
Name: tvi_v4l2.patch
Type: text/x-patch
Size: 3061 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20060731/bafe458f/attachment.bin>

