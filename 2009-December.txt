From oliver at neukum.org  Tue Dec  1 08:53:42 2009
From: oliver at neukum.org (Oliver Neukum)
Date: Tue, 1 Dec 2009 08:53:42 +0100
Subject: [Linux-uvc-devel] BisonCam 5986:0203 kills USB
In-Reply-To: <20091201003807.GA19125@kroah.com>
References: <Pine.LNX.4.44L0.0911211143580.6664-100000@netrider.rowland.org>
	<200911302215.04555.stephan.diestelhorst@gmail.com>
	<20091201003807.GA19125@kroah.com>
Message-ID: <200912010853.43047.oliver@neukum.org>

Am Dienstag, 1. Dezember 2009 01:38:07 schrieb Greg KH:
> On Mon, Nov 30, 2009 at 10:15:04PM +0100, Stephan Diestelhorst wrote:
> > Am Montag 23 November 2009 10:20:46 schrieb Oliver Neukum:
> > > Am Samstag, 21. November 2009 17:56:30 schrieb Alan Stern:
> > > this version should be efficient.
> > > Stephan, please test.
> >
> > I have increased the delay to 1000us, as discussed and added a
> > tested-by notice.
> >
> > Is my back-port of interest to anyone?
> 
> backport to what?  An older kernel version?
> 
> Should I take this version instead as the delay is longer?

The maximum delay of 1000 microseconds is the correct one.
Earlier experimentation was based on one of two possible scenarios.

	HTH
		Oliver


From stephan.diestelhorst at gmail.com  Tue Dec  1 11:36:59 2009
From: stephan.diestelhorst at gmail.com (Stephan Diestelhorst)
Date: Tue, 1 Dec 2009 11:36:59 +0100
Subject: [Linux-uvc-devel] BisonCam 5986:0203 kills USB
In-Reply-To: <20091201003807.GA19125@kroah.com>
References: <Pine.LNX.4.44L0.0911211143580.6664-100000@netrider.rowland.org>
	<200911302215.04555.stephan.diestelhorst@gmail.com>
	<20091201003807.GA19125@kroah.com>
Message-ID: <200912011137.02808.stephan.diestelhorst@gmail.com>

Am Dienstag, 1. Dezember 2009 01:38:07 schrieb Greg KH:
> On Mon, Nov 30, 2009 at 10:15:04PM +0100, Stephan Diestelhorst wrote:
> > Am Montag 23 November 2009 10:20:46 schrieb Oliver Neukum:
> > > Am Samstag, 21. November 2009 17:56:30 schrieb Alan Stern:
> > > this version should be efficient.
> > > Stephan, please test.
> > 
> > I have increased the delay to 1000us, as discussed and added a
> > tested-by notice.
> > 
> > Is my back-port of interest to anyone?
> 
> backport to what?  An older kernel version?

I had this patch backported and tested under 2.6.31.4, as this is the
kernel (source) used in the current Ubuntu "Karmic Koala". I sent the
patch in an earlier mail, which might need tweaking of the delay to
1000us.

I just wondered whether this backported patch could make it into an Ubuntu
update, but that is rather a question to the Ubuntu package
maintainers, rather than to this list.

> Should I take this version instead as the delay is longer?

The "tested-by" version is the one that should apply to the current
development tree, and has the proper delay set. So yes, this is the
version that should be taken upstream.

Thanks,
  Stephan


From laurent.pinchart at ideasonboard.com  Tue Dec  1 12:31:08 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 1 Dec 2009 12:31:08 +0100
Subject: [Linux-uvc-devel] Chicony CNF8140 in Samsung N510 Netbook not
	working
In-Reply-To: <200911181818.08519.ep@plicht.de>
References: <200911181818.08519.ep@plicht.de>
Message-ID: <200912011231.08979.laurent.pinchart@ideasonboard.com>

Hi Ekki,

On Wednesday 18 November 2009 18:18:08 Ekki Plicht (DF4OR) wrote:
> Hi.
> I am new to this list, not a dev, just a user. Sorry for the long post.

No worries. Despite its name, the list is not restricted to developers.

> What is required to make the built in webcam in my new Samsung N510 netbook
> work? It's a Chicony, model CNF8140, vid:pid is 04f2:b147.

It should work out of the box, at least if the camera isn't buggy.

> Symptom: Camera is recognized during boot (v4l2 driver in kernel), but
>  xawtv, ffplay etc. just give some errors like "Device or resource busy".
>  My user is member of the "video" group, the rights of the device are set
>  to group=video (read). Trying as root produces the same errors.

xawtv 3.95 has a bug that prevents it from working with the uvcvideo driver. 
Could you try an applications known to be working such as luvcview ?

> System: N270 Atom processor, NVidia Ion video chip (MCP79). Kernel is
> 2.6.30-gentoo-r8, handmade. KDE 4.3.1 by gentoo.
> 
> Below is what v4l-info is saying, below that the output of lsusb. I am
>  happy to provide other information as required.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Tue Dec  1 12:41:15 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 1 Dec 2009 12:41:15 +0100
Subject: [Linux-uvc-devel] Linux UVC driver - device not listed
In-Reply-To: <003401ca6c5c$f99234a0$ecb69de0$@com>
References: <003401ca6c5c$f99234a0$ecb69de0$@com>
Message-ID: <200912011241.15283.laurent.pinchart@ideasonboard.com>

Hi,

On Monday 23 November 2009 17:49:50 Liz wrote:
> Good afternoon
> 
> As per the excellent Linux UVC driver website at linux-uvc.berlios.de I am
>  emailing to advise that our Hue HD webcam is UVC-compliant in its current
>  incarnation, which can be identified by the text www.huehd.com on the
>  silver focusing ring. The very old Clique models came with Windows drivers
>  and were not UVC-compliant, but the current ones are and we plan to
>  continue; we have attained the Windows Vista certification for which UVC
>  is a requirement and we recognise the benefits to the open source and Mac
>  communities as well. We would like to participate in your supported
>  devices list if possible and would like to know how to achieve this.
> 
> The compatible Device ID is 0c45:62f1 and the best way to easily tell is by
>  the text on the focusing ring as above. If the URL is present, it?s the
>  current model.

To include the device in the supported devices list, I will need the output of

lsusb -v 0c45:62f1

run on a Linux system. I will also need a report stating that the device has 
been tested and is working with the uvcvideo driver (this can just be an e-
mail stating that you've actually tested the device under Linux and that it 
works properly).

If you can't perform the tests yourself, I could take care of them with a 
device sample.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Tue Dec  1 12:54:55 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 1 Dec 2009 12:54:55 +0100
Subject: [Linux-uvc-devel] Fwd: isight macbook pro 5.3 (non-glossy)
Message-ID: <200912011254.55909.laurent.pinchart@ideasonboard.com>


----------  Forwarded Message  ----------

Subject: isight macbook pro 5.3 (non-glossy)
Date: Wednesday 25 November 2009
From: Toon Verwaest <toon.verwaest at gmail.com>
To: linux-uvc-devel-owner at lists.berlios.de

Could you please send the following to the mailinglist? I don't want to 
subscribe to the mailinglist but I would like to inform you about the 
problem and if necessary help out with this specific version.

Hi,

I'm getting:
uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8507)
uvcvideo: No valid video chain found.

while loading uvcvideo in the latest ubuntu. I didn't install the latest 
version of uvcvideo but from the website it seems like I have a 
different version from the supported isight (which ends in 8502).

I'd be glad to help getting support for this device if needed.

best regards,
Toon Verwaest

-------------------------------------------------------

-- 
Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Tue Dec  1 13:12:56 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 1 Dec 2009 13:12:56 +0100
Subject: [Linux-uvc-devel] Fwd: isight macbook pro 5.3 (non-glossy)
In-Reply-To: <200912011254.55909.laurent.pinchart@ideasonboard.com>
References: <200912011254.55909.laurent.pinchart@ideasonboard.com>
Message-ID: <200912011312.56652.laurent.pinchart@ideasonboard.com>

Hi Toon,

On Wednesday 25 November 2009 Toon Verwaest wrote:
> 
> I'm getting:
> uvcvideo: Found UVC 1.00 device Built-in iSight (05ac:8507)
> uvcvideo: No valid video chain found.
> 
> while loading uvcvideo in the latest ubuntu. I didn't install the latest
> version of uvcvideo but from the website it seems like I have a
> different version from the supported isight (which ends in 8502).
> 
> I'd be glad to help getting support for this device if needed.

Could you please send me the output of

lsusb -v -d 05ac:8507

with usbutils 0.72 or newer (0.73+ preferred) ? Please capture the lsusb 
output both after a cold boot and after rebooting from Mac OS (if that 
operating system is still available on your system).

-- 
Regards,

Laurent Pinchart


From shmera at gmail.com  Tue Dec  1 13:32:15 2009
From: shmera at gmail.com (Ramesh Rajagopal)
Date: Tue, 1 Dec 2009 18:02:15 +0530
Subject: [Linux-uvc-devel] Has anybody implemented UVC bulk transfer on
	a device? Some doubts need clarification.
In-Reply-To: <abc44c8d0911250449m35937656m6540ba180a7c254c@mail.gmail.com>
References: <abc44c8d0911100803pc9e9b3foee53c92133b0dc52@mail.gmail.com>
	<200911110043.54288.laurent.pinchart@ideasonboard.com>
	<abc44c8d0911110343s7a8bb3e5qfd21a254df8c5d86@mail.gmail.com>
	<200911250239.02662.laurent.pinchart@ideasonboard.com>
	<abc44c8d0911242043t1020c892pb2c66381de47001b@mail.gmail.com>
	<abc44c8d0911250449m35937656m6540ba180a7c254c@mail.gmail.com>
Message-ID: <abc44c8d0912010432g40a4728es2be3268b6094ff95@mail.gmail.com>

Hi Laurent,
    Anything on this front?

Regards,
Ramesh.

On Wed, Nov 25, 2009 at 6:19 PM, Ramesh Rajagopal <shmera at gmail.com> wrote:

> Hi Laurent,
>      I got little  luck with UVC bulk transfer after changing the uvcvideo
> driver. Now I am getting some frames on
> the host side.
>
> In the UVC driver, the
> dwMaxPayloadSize(stream->ctrl.dwMaxpayloadTransferSize) of streaming control
> variable is being assigned during the enumeration stage.
> When we start the luvcview on the host side, this variable is being changed
> to "0". This is happening in the call of uvc_v4l2_do_ioctl() with
> VIDIOC_S_FMT as a "cmd"
> variable.
>
> The function uvc_v4l2_try_format function is copying values of
> "bFrameIndex", "formatIndex" and "dwMaxFrameVideoSize" . But it does
> re-initialize the dwMaxpayloadTransferSize to "0".
> This one causes problem in the uvc_init_video_bulk() which takes
> dwMaxpayloadSize for calculating number of URB packets which is becoming "0"
> because of the above re-initialization.
>
> When I applied the attached patch, I could get some frames on my host side.
> Without this patch, it was failing on uvc_init_video_bulk() function.
>
> I am not well familiar with UVC video driver. I don't know whether this is
> the correct way of fixing this problem. I may need some help on this issue.
> Please find the attachment. Please let me know, how can I proceed from
> here.
>
>
>
> Thanks & Regards,
> Ramesh.
>
>
>
> On Wed, Nov 25, 2009 at 10:13 AM, Ramesh Rajagopal <shmera at gmail.com>wrote:
>
>> Hi Laurent,
>>
>>
>>> sorry for the late reply.
>>>
>>
>>  Thats fine.
>>
>>>
>>> On Wednesday 11 November 2009 12:43:38 Ramesh Rajagopal wrote:
>>> > Hi Laurent,
>>> >
>>> > Thank you for the reply. The webcam  is linux based and I am using the
>>> > UVC gadget driver of linux kernel 2.6.10.
>>> > In this kernel I don't see any example doing UVC bulk transfer. It is
>>> > working perfectly with ISOC.
>>> > Can you please let me know, if there is any example code that does UVC
>>> bulk
>>> > transfer ? I couldn't find it any.
>>>
>>> The UVC gadget driver I wrote uses isochronous transfers. It should be
>>> possible to use bulk transfers by modifying the driver, but there's no
>>> code
>>> sample that I'm aware of.
>>>
>>
>> Does this mean, I have to change the musb gadget driver code? I changed my
>> driver
>> which registers with musb. I didn't chane anything on the musb gadget
>> driver.
>>
>>
>>>
>>> > The uvc specification is not clear enough to distinguish ISOC and BULK
>>> > transfer atleast from my understanding.
>>> >
>>> > While doing ISOC transfer, we have an alternate Interface Setting, when
>>> we
>>> > get a SET_INTERFACE we start transferring the UVC header first alone to
>>> > start the transfer. There after each IN token from host will carry the
>>> > frames if any, otherwise header alone goes.
>>> >
>>> > In case of BULK, with alternate settings, the host machine hangs.
>>> > SET_INTERFACE (alternateSetting set 1), Why is it like that?
>>>
>>> According to the UVC specification, streaming interfaces with bulk
>>> endpoints
>>> don't use alternate settings.
>>>
>>> This is actually a problem, as the UVC specification doesn't provide any
>>> way
>>> for bulk devices to detect when the host starts and stops streaming.
>>>
>>
>> Do you aware when do I start sending packets to the host? In case of ISOC,
>> we start sending packets
>> when get SET_INTERFACE (enabling the alternate setting) request. Please
>> let me know.
>>
>>
>>>
>>> > So I removed alternate settings and till enumeration it is proper. Then
>>> > After I get VS_PROBE_COMMIT from the host, I start transferring exactly
>>> >  same like ISOC, but
>>> > I don't see any video on the host and no more proceedings from here.
>>> The
>>> > data is not going from the FIFO, hence I am not getting any more TX
>>> > interrupt from my device.
>>> >
>>> > I am attaching my devices descriptor as well as host side logs. Please
>>> find
>>> > the attachment. Please let me know, is there any link talk about BULK
>>> > transfer or example.
>>>
>>> The descriptors look correct at first glance. The log shows that the
>>> driver
>>> doesn't receive any bulk packet (assuming the trace parameter has been
>>> set to
>>> 255). This seems to indicate a low-level problem, probably on the device
>>> side.
>>> My guess is that the device doesn't sent bulk packets. That would be easy
>>> to
>>> verify if you have access to a USB analyzer. If the assumption is
>>> correct, the
>>> problem is on the device side.
>>>
>>
>> I see the packets are on the wire. USB Analyzer  shows me the data and
>> even I verified the header data,
>> it looks correct, Now I am not getting back the ACK from the host. Thanks
>> for your Reply.
>>
>>>
>>> --
>>> Regards,
>>>
>>> Laurent Pinchart
>>>
>>
>> Regards,
>> Ramesh.
>>
>>
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091201/9b2e5b62/attachment.html>

From laurent.pinchart at ideasonboard.com  Tue Dec  1 13:39:43 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 1 Dec 2009 13:39:43 +0100
Subject: [Linux-uvc-devel] Has anybody implemented UVC bulk transfer on
	a device? Some doubts need clarification.
In-Reply-To: <abc44c8d0911242043t1020c892pb2c66381de47001b@mail.gmail.com>
References: <abc44c8d0911100803pc9e9b3foee53c92133b0dc52@mail.gmail.com>
	<200911250239.02662.laurent.pinchart@ideasonboard.com>
	<abc44c8d0911242043t1020c892pb2c66381de47001b@mail.gmail.com>
Message-ID: <200912011339.43146.laurent.pinchart@ideasonboard.com>

On Wednesday 25 November 2009 05:43:37 Ramesh Rajagopal wrote:
> > On Wednesday 11 November 2009 12:43:38 Ramesh Rajagopal wrote:
> > >
> > > Thank you for the reply. The webcam  is linux based and I am using the
> > > UVC gadget driver of linux kernel 2.6.10.
> > > In this kernel I don't see any example doing UVC bulk transfer. It is
> > > working perfectly with ISOC.
> > > Can you please let me know, if there is any example code that does UVC
> > > bulk transfer ? I couldn't find it any.
> >
> > The UVC gadget driver I wrote uses isochronous transfers. It should be
> > possible to use bulk transfers by modifying the driver, but there's no
> > code sample that I'm aware of.
> 
> Does this mean, I have to change the musb gadget driver code? I changed my
> driver which registers with musb. I didn't chane anything on the musb gadget
> driver.

You shouldn't need to change the musb gadget driver code (unless there's a 
bulk-specific bug in the musb gadget driver of course). You will need to 
change the UVC gadget driver code though.

> > > The uvc specification is not clear enough to distinguish ISOC and BULK
> > > transfer atleast from my understanding.
> > >
> > > While doing ISOC transfer, we have an alternate Interface Setting, when
> > > we get a SET_INTERFACE we start transferring the UVC header first alone
> > > to start the transfer. There after each IN token from host will carry
> > > the frames if any, otherwise header alone goes.
> > >
> > > In case of BULK, with alternate settings, the host machine hangs.
> > > SET_INTERFACE (alternateSetting set 1), Why is it like that?
> >
> > According to the UVC specification, streaming interfaces with bulk
> > endpoints don't use alternate settings.
> >
> > This is actually a problem, as the UVC specification doesn't provide any
> > way for bulk devices to detect when the host starts and stops streaming.
> 
> Do you aware when do I start sending packets to the host? In case of ISOC,
> we start sending packets when get SET_INTERFACE (enabling the alternate
> setting) request. Please let me know.

I don't know, and that's the real problem. I think you should start sending 
data when you receive the first bulk packet. I'm not sure if there's a way to 
be notified of that though. You could then stop the stream when no bulk packet 
is received for some time.

> > > So I removed alternate settings and till enumeration it is proper. Then
> > > After I get VS_PROBE_COMMIT from the host, I start transferring exactly
> > > same like ISOC, but I don't see any video on the host and no more
> > > proceedings from here. The data is not going from the FIFO, hence I am
> > > not getting any more TX interrupt from my device.
> > >
> > > I am attaching my devices descriptor as well as host side logs. Please
> > > find the attachment. Please let me know, is there any link talk about
> > > BULK transfer or example.
> >
> > The descriptors look correct at first glance. The log shows that the
> > driver doesn't receive any bulk packet (assuming the trace parameter has
> > been set to 255). This seems to indicate a low-level problem, probably on
> > the device side.
> > My guess is that the device doesn't sent bulk packets. That would be easy
> > to verify if you have access to a USB analyzer. If the assumption is
> > correct, the problem is on the device side.
> 
> I see the packets are on the wire. USB Analyzer  shows me the data and even
> I verified the header data, it looks correct, Now I am not getting back the
> ACK from the host. Thanks for your Reply.

You're welcome.

-- 
Regards,

Laurent Pinchart


From shmera at gmail.com  Tue Dec  1 13:52:47 2009
From: shmera at gmail.com (Ramesh Rajagopal)
Date: Tue, 1 Dec 2009 18:22:47 +0530
Subject: [Linux-uvc-devel] Has anybody implemented UVC bulk transfer on
	a device? Some doubts need clarification.
In-Reply-To: <200912011339.43146.laurent.pinchart@ideasonboard.com>
References: <abc44c8d0911100803pc9e9b3foee53c92133b0dc52@mail.gmail.com>
	<200911250239.02662.laurent.pinchart@ideasonboard.com>
	<abc44c8d0911242043t1020c892pb2c66381de47001b@mail.gmail.com>
	<200912011339.43146.laurent.pinchart@ideasonboard.com>
Message-ID: <abc44c8d0912010452o6a1c47bey77c736f3f3b8c064@mail.gmail.com>

Hi Laurent,
   I had sent you the patch which I modified in the host uvc_driver code?
Can you look at and let me know
how to fix that problem? After that patch, I started getting some packets
from the device.

Thanks,
Ramesh.

On Tue, Dec 1, 2009 at 6:09 PM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> On Wednesday 25 November 2009 05:43:37 Ramesh Rajagopal wrote:
> > > On Wednesday 11 November 2009 12:43:38 Ramesh Rajagopal wrote:
> > > >
> > > > Thank you for the reply. The webcam  is linux based and I am using
> the
> > > > UVC gadget driver of linux kernel 2.6.10.
> > > > In this kernel I don't see any example doing UVC bulk transfer. It is
> > > > working perfectly with ISOC.
> > > > Can you please let me know, if there is any example code that does
> UVC
> > > > bulk transfer ? I couldn't find it any.
> > >
> > > The UVC gadget driver I wrote uses isochronous transfers. It should be
> > > possible to use bulk transfers by modifying the driver, but there's no
> > > code sample that I'm aware of.
> >
> > Does this mean, I have to change the musb gadget driver code? I changed
> my
> > driver which registers with musb. I didn't chane anything on the musb
> gadget
> > driver.
>
> You shouldn't need to change the musb gadget driver code (unless there's a
> bulk-specific bug in the musb gadget driver of course). You will need to
> change the UVC gadget driver code though.
>
> > > > The uvc specification is not clear enough to distinguish ISOC and
> BULK
> > > > transfer atleast from my understanding.
> > > >
> > > > While doing ISOC transfer, we have an alternate Interface Setting,
> when
> > > > we get a SET_INTERFACE we start transferring the UVC header first
> alone
> > > > to start the transfer. There after each IN token from host will carry
> > > > the frames if any, otherwise header alone goes.
> > > >
> > > > In case of BULK, with alternate settings, the host machine hangs.
> > > > SET_INTERFACE (alternateSetting set 1), Why is it like that?
> > >
> > > According to the UVC specification, streaming interfaces with bulk
> > > endpoints don't use alternate settings.
> > >
> > > This is actually a problem, as the UVC specification doesn't provide
> any
> > > way for bulk devices to detect when the host starts and stops
> streaming.
> >
> > Do you aware when do I start sending packets to the host? In case of
> ISOC,
> > we start sending packets when get SET_INTERFACE (enabling the alternate
> > setting) request. Please let me know.
>
> I don't know, and that's the real problem. I think you should start sending
> data when you receive the first bulk packet. I'm not sure if there's a way
> to
> be notified of that though. You could then stop the stream when no bulk
> packet
> is received for some time.
>
> > > > So I removed alternate settings and till enumeration it is proper.
> Then
> > > > After I get VS_PROBE_COMMIT from the host, I start transferring
> exactly
> > > > same like ISOC, but I don't see any video on the host and no more
> > > > proceedings from here. The data is not going from the FIFO, hence I
> am
> > > > not getting any more TX interrupt from my device.
> > > >
> > > > I am attaching my devices descriptor as well as host side logs.
> Please
> > > > find the attachment. Please let me know, is there any link talk about
> > > > BULK transfer or example.
> > >
> > > The descriptors look correct at first glance. The log shows that the
> > > driver doesn't receive any bulk packet (assuming the trace parameter
> has
> > > been set to 255). This seems to indicate a low-level problem, probably
> on
> > > the device side.
> > > My guess is that the device doesn't sent bulk packets. That would be
> easy
> > > to verify if you have access to a USB analyzer. If the assumption is
> > > correct, the problem is on the device side.
> >
> > I see the packets are on the wire. USB Analyzer  shows me the data and
> even
> > I verified the header data, it looks correct, Now I am not getting back
> the
> > ACK from the host. Thanks for your Reply.
>
> You're welcome.
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091201/8889b315/attachment.html>

From laurent.pinchart at ideasonboard.com  Tue Dec  1 14:00:42 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 1 Dec 2009 14:00:42 +0100
Subject: [Linux-uvc-devel] Has anybody implemented UVC bulk transfer on
	a device? Some doubts need clarification.
In-Reply-To: <abc44c8d0911250449m35937656m6540ba180a7c254c@mail.gmail.com>
References: <abc44c8d0911100803pc9e9b3foee53c92133b0dc52@mail.gmail.com>
	<abc44c8d0911242043t1020c892pb2c66381de47001b@mail.gmail.com>
	<abc44c8d0911250449m35937656m6540ba180a7c254c@mail.gmail.com>
Message-ID: <200912011400.42493.laurent.pinchart@ideasonboard.com>

Hi,

On Wednesday 25 November 2009 13:49:30 Ramesh Rajagopal wrote:
>
> I got little luck with UVC bulk transfer after changing the uvcvideo
> driver. Now I am getting some frames on the host side.
> 
> In the UVC driver, the 
> dwMaxPayloadSize(stream->ctrl.dwMaxpayloadTransferSize) of streaming
> control variable is being assigned during the enumeration stage.
> When we start the luvcview on the host side, this variable is being changed
> to "0". This is happening in the call of uvc_v4l2_do_ioctl() with
> VIDIOC_S_FMT as a "cmd" variable.
> 
> The function uvc_v4l2_try_format function is copying values of
> "bFrameIndex", "formatIndex" and "dwMaxFrameVideoSize" . But it does
> re-initialize the dwMaxpayloadTransferSize to "0".
> This one causes problem in the uvc_init_video_bulk() which takes
> dwMaxpayloadSize for calculating number of URB packets which is becoming
>  "0" because of the above re-initialization.
> 
> When I applied the attached patch, I could get some frames on my host side.
> Without this patch, it was failing on uvc_init_video_bulk() function.
> 
> I am not well familiar with UVC video driver. I don't know whether this is
> the correct way of fixing this problem. I may need some help on this issue.
> Please find the attachment. Please let me know, how can I proceed from
>  here.

The dwMaxPayloadTransferSize field should be filled by the device when queried 
for the current video streaming probe or commit parameters. If the device 
returns 0, that's a device bug. In that case you should fix the device to 
return the correct value.

-- 
Regards,

Laurent Pinchart


From a.bonometti at gmail.com  Tue Dec  1 15:07:13 2009
From: a.bonometti at gmail.com (Alessandro Bonometti)
Date: Tue, 1 Dec 2009 15:07:13 +0100
Subject: [Linux-uvc-devel] Microsoft Lifecam NX-6000
Message-ID: <200912011507.13289.a.bonometti@studiofarma.it>

Hello,

I bought a Microsoft LifeCam NX-6000 which should be supported by UVC 
(http://linux-uvc.berlios.de/#devices). The camera is recognized, but it 
doesn't work in skype, kopete or luvcview. The cam is fine (I have tried it on 
a Windows PC) and the OS should be correctly configured since I have another 
cam on this system (it's a eeepc) and it works fine.

Any help is appreciated! Thanks in advance,
Alessandro

(Please CC me, I'm not subscribed to the list)


OS: openSUSE 11.2, kernel 2.6.31.5-0.1-default)

Dmesg:
Dec  1 14:52:53 linux-wf29 kernel: [ 8800.362142] input: Microsoft? LifeCam 
NX-6000 as /devices/pci0000:00/0000:00:1d.7/usb1/1-4/1-4:1.0/input/input17
Dec  1 14:52:54 linux-wf29 kernel: [ 8801.168881] uvcvideo: Failed to query 
(1) UVC control 3 (unit 5) : -110 (exp. 2).
Dec  1 14:52:54 linux-wf29 kernel: [ 8801.468094] uvcvideo: Failed to query 
(135) UVC control 7 (unit 5) : -110 (exp. 2).
Dec  1 14:52:54 linux-wf29 kernel: [ 8801.772986] uvcvideo: Failed to query 
(135) UVC control 9 (unit 5) : -110 (exp. 2).
Dec  1 14:52:54 linux-wf29 kernel: [ 8801.896242] ALSA 
/usr/src/packages/BUILD/kernel-
default-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current 
value for control 1 ch 1: err = -22
Dec  1 14:52:55 linux-wf29 kernel: [ 8802.072252] uvcvideo: Failed to query 
(135) UVC control 6 (unit 5) : -110 (exp. 2).
Dec  1 14:52:55 linux-wf29 kernel: [ 8802.968257] ALSA 
/usr/src/packages/BUILD/kernel-
default-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current 
value for control 1 ch 1: err = -22

lsusb:
Bus 001 Device 010: ID 045e:00f8 Microsoft Corp. LifeCam NX-6000

bauno at linux-wf29:~> luvcview -d /dev/video1
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video1
Unable to set format: 5.
 Init v4L2 failed !! exit fatal


bauno at linux-wf29:~> luvcview -L /dev/video1
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
/dev/video0 does not support read i/o
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5,
{ discrete: width = 352, height = 288 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5,
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5,
{ discrete: width = 176, height = 144 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5,
{ discrete: width = 160, height = 120 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5,
{ discrete: width = 1280, height = 800 }
        Time interval between frame: 1/7, 1/5,
{ discrete: width = 1280, height = 1024 }
        Time interval between frame: 1/7, 1/5,



From laurent.pinchart at ideasonboard.com  Tue Dec  1 17:50:28 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 1 Dec 2009 17:50:28 +0100
Subject: [Linux-uvc-devel] Timestamp Accuracy Patch
In-Reply-To: <59cf47a80911300849u2d2bb009ue7f7030586c56df3@mail.gmail.com>
References: <833B0B09C5041D42A9924A3BA6A12B9A028FB22085@CALMAIL-CMS.smarttech.inc>
	<59cf47a80911271121v3a678adeud78e638fc51dadc6@mail.gmail.com>
	<59cf47a80911300849u2d2bb009ue7f7030586c56df3@mail.gmail.com>
Message-ID: <200912011750.28719.laurent.pinchart@ideasonboard.com>

Hi Paulo,

On Monday 30 November 2009 17:49:24 Paulo Assis wrote:
> Hi,
> using ktime_get (hrtimer.h) should provide a nice monotonic high res
> timer as a replacement for do_gettimeofday:
> 
> ktime_to_timeval (ktime_get()) should return the timeval struct for
> buf->buf.timestamp.
> 
> This seems the best aproach for video frame time-stamping; it's
> monotonic and it has a more than adequate resolution.

While I agree with you, we have a problem here. The V4L2 specification 
mandates the use of gettimeofday() to fill the v4l2_buffer::timestamp field:

http://www.linuxtv.org/downloads/video4linux/API/V4L2_API/spec-
single/v4l2.html#v4l2-buffer

I'll discuss this with core V4L2 developers.

-- 
Regards,

Laurent Pinchart


From pj.assis at gmail.com  Tue Dec  1 18:49:24 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 1 Dec 2009 17:49:24 +0000
Subject: [Linux-uvc-devel] Timestamp Accuracy Patch
In-Reply-To: <200912011750.28719.laurent.pinchart@ideasonboard.com>
References: <833B0B09C5041D42A9924A3BA6A12B9A028FB22085@CALMAIL-CMS.smarttech.inc>
	<59cf47a80911271121v3a678adeud78e638fc51dadc6@mail.gmail.com>
	<59cf47a80911300849u2d2bb009ue7f7030586c56df3@mail.gmail.com>
	<200912011750.28719.laurent.pinchart@ideasonboard.com>
Message-ID: <59cf47a80912010949h56d50580h3bad12f7970881bf@mail.gmail.com>

Laurent,

> While I agree with you, we have a problem here. The V4L2 specification
> mandates the use of gettimeofday() to fill the v4l2_buffer::timestamp field:
>
> http://www.linuxtv.org/downloads/video4linux/API/V4L2_API/spec-
> single/v4l2.html#v4l2-buffer
>
> I'll discuss this with core V4L2 developers.
>

Thank you, btw I've tested uvc v4l2 buffer timestamps with
gettimeofday and with ktime_get, and taking the first frame as
reference, ktime_get  proved much more steady.
While for gettimeofday (at 30 fps), I got anything from 28 ms to 40 ms
between frames in a totally random sequence, for ktime_get, I allways
got a steady 32 ms, 32ms, 36ms, 32ms, 32ms, 36ms.
The only explanation I could find is that my quad cores have the TSC
out of sync, since in a single core machine both methods seemed
equally steady.

Best regards,
Paulo


From pj.assis at gmail.com  Tue Dec  1 19:59:57 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 1 Dec 2009 18:59:57 +0000
Subject: [Linux-uvc-devel] Timestamp Accuracy Patch
In-Reply-To: <200912011750.28719.laurent.pinchart@ideasonboard.com>
References: <833B0B09C5041D42A9924A3BA6A12B9A028FB22085@CALMAIL-CMS.smarttech.inc>
	<59cf47a80911271121v3a678adeud78e638fc51dadc6@mail.gmail.com>
	<59cf47a80911300849u2d2bb009ue7f7030586c56df3@mail.gmail.com>
	<200912011750.28719.laurent.pinchart@ideasonboard.com>
Message-ID: <59cf47a80912011059xfc95bc5tfcffd23d8d7a277a@mail.gmail.com>

Laurent,

> While I agree with you, we have a problem here. The V4L2 specification
> mandates the use of gettimeofday() to fill the v4l2_buffer::timestamp field:

this should really be reviewed, there is a note in the kernel api
about do_gettimeofday:
http://www.gnugeneration.com/books/linux/2.6.20/kernel-api/re33.html

It's a bit old but I believe the recommendation is still valid.

Best regards,
Paulo


From melchior.franz at gmail.com  Tue Dec  1 20:50:52 2009
From: melchior.franz at gmail.com (Melchior FRANZ)
Date: Tue, 1 Dec 2009 20:50:52 +0100
Subject: [Linux-uvc-devel] [SUPPORTED] 04f2:a147 Chicony "USB2.0 2MP UVC
	Camera" (sold as Medion P86004 "2MP Webcam with Headset")
Message-ID: <200912012050.53019@rk-nord.at>

Works with the linux uvc driver:

  04f2:a147  Chicony Electronics Co., Ltd  --  "USB2.0 2MP UVC Camera"
  Sold as:   Medion P86004 "2MP Webcam with Headset"

  max. 1600x1200, max. 30 fps, snapshot button



Attached is the output of these commands:

  $ v4l-info
  $ lsusb -v -s 1:7
  $ v4lctl -c /dev/video0 list
  $ evtest /dev/input/event6

m.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 04f2:a147_Chicony_USB2.0_2MP_UVC_Camera.bz2
Type: application/x-bzip
Size: 4774 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091201/629ab9c0/attachment.bin>

From pj.assis at gmail.com  Tue Dec  1 23:20:08 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 1 Dec 2009 22:20:08 +0000
Subject: [Linux-uvc-devel] Timestamp Accuracy Patch
In-Reply-To: <833B0B09C5041D42A9924A3BA6A12B9A02950AEECD@CALMAIL-CMS.smarttech.inc>
References: <833B0B09C5041D42A9924A3BA6A12B9A028FB22085@CALMAIL-CMS.smarttech.inc>
	<200911250217.19104.laurent.pinchart@ideasonboard.com>
	<59cf47a80911270304i19c8eb17je35ed648c04065a4@mail.gmail.com>
	<833B0B09C5041D42A9924A3BA6A12B9A02950AEECD@CALMAIL-CMS.smarttech.inc>
Message-ID: <59cf47a80912011420m3cc2559an6dd07a29d49f2737@mail.gmail.com>

Jacob Hi,

2009/12/1 Jacob Fehr <JacobFehr at smarttech.com>:
> Hey Paulo,
>
> I posted another patch a while ago that is somewhat related to what you are doing. It removes the latency that happens as a result of USB IO (+/- 4ms) and takes advantages of the PTS and STC values that are carried in the stream.
>
> Not sure if you need your timestamps _that_ accurate but I thought I'd let you know about it. I submitted it to the mailing list a little while. Laurent is in the process of reviewing the changes that I made.

The problem with latency is the sync between audio and video, also
since regular audio frames don't have timestamps, these must be added
in the application side and an error is also introduced here,
fortunately this is only really noticeable above some tens of
miliseconds, so unless you capturing at very low frame rates it won't
be much of an issue.
The real problem is the variation in time between frames (frame
duration), for 30 fps, this would yield an average of 33.333 ms, with
a monotonic clock like ktime_get, the frame duration is quite stable
(ms) 32-32-36-32-32-36-... (3 frames in 100 ms = 30 fps) but the same
is not true for do_gettimeofday in some multicore processors where the
frame duration is a bit random, so some players will have a hard time
trying to play a video with this random frame durations specially when
they expect a steady frame rate.
Also non-monotonic based timestamps are subject to big errors in case
the system time changes, this is especially true if you are running a
ntp server.
Anyway gstreamer based applications, like totem, don't seem to have
any problems with random frame duration and xine also seems to work
without much problems, so the big issue here is the use of a
non-monotonic timer, that can cause a negative/future timestamps (this
would break any media player).

Best regards,
Paulo


From shmera at gmail.com  Wed Dec  2 05:37:23 2009
From: shmera at gmail.com (Ramesh Rajagopal)
Date: Wed, 2 Dec 2009 10:07:23 +0530
Subject: [Linux-uvc-devel] Has anybody implemented UVC bulk transfer on
	a device? Some doubts need clarification.
In-Reply-To: <200912011400.42493.laurent.pinchart@ideasonboard.com>
References: <abc44c8d0911100803pc9e9b3foee53c92133b0dc52@mail.gmail.com>
	<abc44c8d0911242043t1020c892pb2c66381de47001b@mail.gmail.com>
	<abc44c8d0911250449m35937656m6540ba180a7c254c@mail.gmail.com>
	<200912011400.42493.laurent.pinchart@ideasonboard.com>
Message-ID: <abc44c8d0912012037xe2d080aj7b37169dae32752b@mail.gmail.com>

Hi Laurent,
  During enumeration the device is sending the proper
dwMaxpayloadTransferSize to the host.
In the host side also, it is refelecting. But when we start streaming, the
host application is doing
SET_CUR call of PROBE which is sending "0" to the device and device is
sending back the same
value to host. In case of ISOC also this value is being reset to "0" where
as ISOC consider dwMaxFrameSize
which it got from the host application and sending the same to the device.
Due to this, ISOC doesn't fail.

This is what happens, Please explain is there anything I am missing. When we
start the streaming on the host side
this uvc_v4l2_try_format gets called under VIDIOC_S_FMT cmd. Here variable
"probe" is being memset and assigned
a few values. This "probe" is value is sent to the device with "SET_CUR"
request. Device is copying these variable
and the followed by GET_CUR request is getting back the same value of
"SET_CUR". Because of this, dwMaxPayloadSize
is being reset to "0".

If it is a device side bug means, the SET_CUR value should not be copied
inside the device thats what you are telling. But
in case of ISOC alos I do copy and send back the same value during the call
of GET_CUR. Please explain where am I missing.

static int uvc_v4l2_try_format(struct uvc_streaming *stream,
    struct v4l2_format *fmt, struct uvc_streaming_control *probe,
    struct uvc_format **uvc_format, struct uvc_frame **uvc_frame)
{
   .
   .

    /* Set the format index, frame index and frame interval. */
   * memset(probe, 0, sizeof *probe);
    probe->bmHint = 1;    /* dwFrameInterval */
    probe->bFormatIndex = format->index;
    probe->bFrameIndex = frame->bFrameIndex;
    probe->dwFrameInterval = uvc_try_frame_interval(frame, interval);*
    /* Some webcams stall the probe control set request when the
     * dwMaxVideoFrameSize field is set to zero. The UVC specification
     * clearly states that the field is read-only from the host, so this
     * is a webcam bug. Set dwMaxVideoFrameSize to the value reported by
     * the webcam to work around the problem.
     *
     * The workaround could probably be enabled for all webcams, so the
     * quirk can be removed if needed. It's currently useful to detect
     * webcam bugs and fix them before they hit the market (providing
     * developers test their webcams with the Linux driver as well as with
     * the Windows driver).
     */
    *if (stream->dev->quirks & UVC_QUIRK_PROBE_EXTRAFIELDS)
        probe->dwMaxVideoFrameSize =
            stream->ctrl.dwMaxVideoFrameSize;
*
*
    /* Probe the device. */
    ret = uvc_probe_video(stream, probe);
    if (ret < 0)
        goto done;*

    fmt->fmt.pix.width = frame->wWidth;
    fmt->fmt.pix.height = frame->wHeight;
    fmt->fmt.pix.field = V4L2_FIELD_NONE;
    fmt->fmt.pix.bytesperline = format->bpp * frame->wWidth / 8;
    fmt->fmt.pix.sizeimage = probe->dwMaxVideoFrameSize;
    fmt->fmt.pix.colorspace = format->colorspace;
    fmt->fmt.pix.priv = 0;

    if (uvc_format != NULL)
        *uvc_format = format;
    if (uvc_frame != NULL)
        *uvc_frame = frame;
}




Regards,
Ramesh.

On Tue, Dec 1, 2009 at 6:30 PM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi,
>
> On Wednesday 25 November 2009 13:49:30 Ramesh Rajagopal wrote:
> >
> > I got little luck with UVC bulk transfer after changing the uvcvideo
> > driver. Now I am getting some frames on the host side.
> >
> > In the UVC driver, the
> > dwMaxPayloadSize(stream->ctrl.dwMaxpayloadTransferSize) of streaming
> > control variable is being assigned during the enumeration stage.
> > When we start the luvcview on the host side, this variable is being
> changed
> > to "0". This is happening in the call of uvc_v4l2_do_ioctl() with
> > VIDIOC_S_FMT as a "cmd" variable.
> >
> > The function uvc_v4l2_try_format function is copying values of
> > "bFrameIndex", "formatIndex" and "dwMaxFrameVideoSize" . But it does
> > re-initialize the dwMaxpayloadTransferSize to "0".
> > This one causes problem in the uvc_init_video_bulk() which takes
> > dwMaxpayloadSize for calculating number of URB packets which is becoming
> >  "0" because of the above re-initialization.
> >
> > When I applied the attached patch, I could get some frames on my host
> side.
> > Without this patch, it was failing on uvc_init_video_bulk() function.
> >
> > I am not well familiar with UVC video driver. I don't know whether this
> is
> > the correct way of fixing this problem. I may need some help on this
> issue.
> > Please find the attachment. Please let me know, how can I proceed from
> >  here.
>
> The dwMaxPayloadTransferSize field should be filled by the device when
> queried
> for the current video streaming probe or commit parameters. If the device
> returns 0, that's a device bug. In that case you should fix the device to
> return the correct value.
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091202/0dd9bfde/attachment.html>

From laurent.pinchart at ideasonboard.com  Wed Dec  2 08:28:00 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 2 Dec 2009 08:28:00 +0100
Subject: [Linux-uvc-devel] Has anybody implemented UVC bulk transfer on
	a device? Some doubts need clarification.
In-Reply-To: <abc44c8d0912012037xe2d080aj7b37169dae32752b@mail.gmail.com>
References: <abc44c8d0911100803pc9e9b3foee53c92133b0dc52@mail.gmail.com>
	<200912011400.42493.laurent.pinchart@ideasonboard.com>
	<abc44c8d0912012037xe2d080aj7b37169dae32752b@mail.gmail.com>
Message-ID: <200912020828.00823.laurent.pinchart@ideasonboard.com>

Hi Ramesh,

On Wednesday 02 December 2009 05:37:23 Ramesh Rajagopal wrote:
> Hi Laurent,
> During enumeration the device is sending the proper dwMaxpayloadTransferSize
> to the host. In the host side also, it is refelecting. But when we start
> streaming, the host application is doing SET_CUR call of PROBE which is
> sending "0" to the device and device is sending back the same value to host.
> In case of ISOC also this value is being reset to "0" where as ISOC consider
> dwMaxFrameSize which it got from the host application and sending the same
> to the device. Due to this, ISOC doesn't fail.

According to the UVC 1.1 specification, table 4-47, the 
dwMaxPayloadTransferSize field "is set by the device and read only from the 
host". Your device must ignore the value sent by the host, and send back the 
right value when queried with GET_CUR.

> This is what happens, Please explain is there anything I am missing. When
> we start the streaming on the host side this uvc_v4l2_try_format gets called
> under VIDIOC_S_FMT cmd. Here variable "probe" is being memset and assigned
> a few values. This "probe" is value is sent to the device with "SET_CUR"
> request. Device is copying these variable and the followed by GET_CUR
> request is getting back the same value of "SET_CUR". Because of this,
> dwMaxPayloadSize is being reset to "0".
> 
> If it is a device side bug means, the SET_CUR value should not be copied
> inside the device thats what you are telling.

That's correct. According to the UVC specification, the device should not copy 
the dwMaxPayloadTransferSize value sent by the host.

> But in case of ISOC alos I do copy and send back the same value during the
> call of GET_CUR. Please explain where am I missing.

In the isochronous case it works because the driver uses the 
dwMaxPayloadTransferSize to select the alternate setting, and has a workaround 
for devices that return a 0 value.

-- 
Regards,

Laurent Pinchart


From Robert.Lukassen at tomtom.com  Wed Dec  2 09:30:36 2009
From: Robert.Lukassen at tomtom.com (Robert Lukassen)
Date: Wed, 2 Dec 2009 09:30:36 +0100
Subject: [Linux-uvc-devel] Has anybody implemented UVC bulk transfer ona
	device? Some doubts need clarification.
References: <abc44c8d0911100803pc9e9b3foee53c92133b0dc52@mail.gmail.com><abc44c8d0911242043t1020c892pb2c66381de47001b@mail.gmail.com><abc44c8d0911250449m35937656m6540ba180a7c254c@mail.gmail.com><200912011400.42493.laurent.pinchart@ideasonboard.com>
	<abc44c8d0912012037xe2d080aj7b37169dae32752b@mail.gmail.com>
Message-ID: <C3C930591D7B9D4083B73AC7CB7A5FF364F44C@nl-exc-02.intra.local>


>Hi Laurent,
> During enumeration the device is sending the proper
>dwMaxpayloadTransferSize to the host.
>In the host side also, it is refelecting. But when we start streaming, the
>host application is doing
>SET_CUR call of PROBE which is sending "0" to the device and device is
>sending back the same
>value to host. In case of ISOC also this value is being reset to "0" where
>as ISOC consider dwMaxFrameSize
>which it got from the host application and sending the same to the device.
>Due to this, ISOC doesn't fail.

Laurent replied:

> The dwMaxPayloadTransferSize field should be filled by the device when
> queried
> for the current video streaming probe or commit parameters. If the device
> returns 0, that's a device bug. In that case you should fix the device to
> return the correct value.
>
> --
> Regards,
>
> Laurent Pinchart


Laurent is correct.

In revision 1.1 of the UVC specification (page 109) you can read that the dwMaxPayloadTransferSize is set by the DEVICE, and read-only by the HOST. When the device returns the data (in response to a GET_CUR, for example), it will need to include the proper value for the control requested (probe or commit). The host can inspect this, and make changes to some values which are not read only. It can send the data back (with a SET_CUR). Typically it needs to do this on the probe control until it has reached some acceptable values. Then it can commit those values by doing a SET_CUR on the commit control.

On page 112 of the same specification, you may find a justification for the host setting the dwMaxPayloadTransferSize to 0. It clearly states that the host is expected to set only certain values, and have "all the remaining fields set to zero".

I believe in your case, the device is accepting the payload size value that has been reset by the host to 0. This it should not do. You probably will find that on a SET_CUR, the device simply accepts the value as send by the host and uses it in further probe/commit requests as the 'actual' value. 

You can fix this by only selectively copy fields from the data provided by the host on a SET_CUR request. Have your device accept only those values  that the host is allowed to change (read the specification) and reflect the consequences of these in the other fields (those that are read-only by the host).

Regards,

Robert Lukassen 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091202/ac1109da/attachment.html>

From melchior.franz at gmail.com  Wed Dec  2 18:10:56 2009
From: melchior.franz at gmail.com (Melchior FRANZ)
Date: Wed, 2 Dec 2009 18:10:56 +0100
Subject: [Linux-uvc-devel] [SUPPORTED] 04f2:a147 Chicony "USB2.0 2MP UVC
	Camera" (sold as Medion P86004 "2MP Webcam with Headset")
In-Reply-To: <200912012050.53019@rk-nord.at>
References: <200912012050.53019@rk-nord.at>
Message-ID: <200912021810.56583@rk-nord.at>

* Melchior FRANZ -- Tuesday 01 December 2009:
>   $ evtest /dev/input/event6

Most of you probably knew this (especially those who coded it :-), but I
only realized later: The snapshot button isn't only reported via kernel
event, but is also sent as a regular X key event. It has keycode 187, but
no keysym assigned. I get this in xev:

  KeyPress event, serial 29, synthetic NO, window 0x9400001,
      root 0x13c, subw 0x0, time 6746485, (113,93), root:(759,93),
      state 0x0, keycode 187 (keysym 0x0, NoSymbol), same_screen YES,
      XLookupString gives 0 bytes:
      XmbLookupString gives 0 bytes:
      XFilterEvent returns: False

I didn't find a reserved keysym for webcam snapshot buttons. Is there any
software that listens to that by default? In the meantime I just assigned
letter "s" to the key (by adding this to the ~/.Xmodmap: "keycode 187 = s").
Now at least luvcview knows how to take snapshots. Unfortunately, the key
is only reported when the camera is already in recording mode.

m.


From laurent.pinchart at ideasonboard.com  Thu Dec  3 20:23:07 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 3 Dec 2009 20:23:07 +0100
Subject: [Linux-uvc-devel] [UVC] Resuming: What are controls necessary
	resume when I suspend and resume video streaming?
In-Reply-To: <209499a0911300302x199ffb5flaff8010ee0658b8b@mail.gmail.com>
References: <209499a0911300302x199ffb5flaff8010ee0658b8b@mail.gmail.com>
Message-ID: <200912032023.07420.laurent.pinchart@ideasonboard.com>

Hi,

On Monday 30 November 2009 12:02:46 palmax at gmail.com wrote:
> Hello
> 
> I want to write a resume and suspend functions for building the
> basement of still image support. I read that resume is written but I
> want to know what controls are necessaries for doing "suspend+resume"
> functionality.

I'm not sure what you mean exactly. Are you talking about power management ? 
If so, how does that relate to still image capture ?

If by "suspend" and "resume" you mean video stream suspend and resume, how are 
controls involved ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Dec  3 20:29:24 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 3 Dec 2009 20:29:24 +0100
Subject: [Linux-uvc-devel] Microsoft Lifecam NX-6000
In-Reply-To: <200912011507.13289.a.bonometti@studiofarma.it>
References: <200912011507.13289.a.bonometti@studiofarma.it>
Message-ID: <200912032029.24877.laurent.pinchart@ideasonboard.com>

Hi Alessandro,

On Tuesday 01 December 2009 15:07:13 Alessandro Bonometti wrote:
> Hello,
> 
> I bought a Microsoft LifeCam NX-6000 which should be supported by UVC
> (http://linux-uvc.berlios.de/#devices). The camera is recognized, but it
> doesn't work in skype, kopete or luvcview. The cam is fine (I have tried it
>  on a Windows PC) and the OS should be correctly configured since I have
>  another cam on this system (it's a eeepc) and it works fine.

Could you try the camera on another Linux system ?

[snip]

> input: Microsoft? LifeCam NX-6000 as
> /devices/pci0000:00/0000:00:1d.7/usb1/1-4/1-4:1.0/input/input17
> uvcvideo: Failed to query (1) UVC control 3 (unit 5) : -110 (exp. 2).
> uvcvideo: Failed to query (135) UVC control 7 (unit 5) : -110 (exp. 2).
> uvcvideo: Failed to query (135) UVC control 9 (unit 5) : -110 (exp. 2).
> ALSA /usr/src/packages/BUILD/kernel-
> default-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current
> value for control 1 ch 1: err = -22
> uvcvideo: Failed to query (135) UVC control 6 (unit 5) : -110 (exp. 2).
> ALSA /usr/src/packages/BUILD/kernel-
> default-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current
> value for control 1 ch 1: err = -22

Ouch. It seems the problem is not limited to uvcvideo but also impacts 
usbaudio. Could you try not to load the uvcvideo driver (you can blacklist it 
by adding "blacklist uvcvideo" to /etc/modprobe.d/blacklist.conf or 
/etc/modprobe.conf - the file name and location might be distribution-
dependent) and check if ALSA still prints error messages ?

[snip]

> bauno at linux-wf29:~> luvcview -d /dev/video1
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video1
> Unable to set format: 5.
>  Init v4L2 failed !! exit fatal

Could you please send me the messages printed by the driver to the kernel log 
when running luvcview -d /dev/video1 ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Dec  3 20:40:09 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 3 Dec 2009 20:40:09 +0100
Subject: [Linux-uvc-devel] Timestamp Accuracy Patch
In-Reply-To: <59cf47a80912011420m3cc2559an6dd07a29d49f2737@mail.gmail.com>
References: <833B0B09C5041D42A9924A3BA6A12B9A028FB22085@CALMAIL-CMS.smarttech.inc>
	<833B0B09C5041D42A9924A3BA6A12B9A02950AEECD@CALMAIL-CMS.smarttech.inc>
	<59cf47a80912011420m3cc2559an6dd07a29d49f2737@mail.gmail.com>
Message-ID: <200912032040.09709.laurent.pinchart@ideasonboard.com>

Hi,

On Tuesday 01 December 2009 23:20:08 Paulo Assis wrote:
> 2009/12/1 Jacob Fehr <JacobFehr at smarttech.com>:
> >
> > I posted another patch a while ago that is somewhat related to what you
> > are doing. It removes the latency that happens as a result of USB IO (+/-
> > 4ms) and takes advantages of the PTS and STC values that are carried in
> > the stream.
> >
> > Not sure if you need your timestamps _that_ accurate but I thought I'd
> > let you know about it. I submitted it to the mailing list a little while.
> > Laurent is in the process of reviewing the changes that I made.

I've reviewed the patch and sent a reply to the mailing list. Have you 
received it ?

> The problem with latency is the sync between audio and video, also since
> regular audio frames don't have timestamps, these must be added in the
> application side and an error is also introduced here, fortunately this is
> only really noticeable above some tens of miliseconds, so unless you
> capturing at very low frame rates it won't be much of an issue.
> The real problem is the variation in time between frames (frame duration),
> for 30 fps, this would yield an average of 33.333 ms, with a monotonic clock
> like ktime_get, the frame duration is quite stable (ms)
> 32-32-36-32-32-36-... (3 frames in 100 ms = 30 fps) but the same is not true
> for do_gettimeofday in some multicore processors where the frame duration is
> a bit random, so some players will have a hard time trying to play a video
> with this random frame durations specially when they expect a steady frame
> rate.
> Also non-monotonic based timestamps are subject to big errors in case the
> system time changes, this is especially true if you are running a ntp
> server.
> Anyway gstreamer based applications, like totem, don't seem to have
> any problems with random frame duration and xine also seems to work
> without much problems, so the big issue here is the use of a
> non-monotonic timer, that can cause a negative/future timestamps (this
> would break any media player).

I've discussed the issue with Mauro Carvalho Chehab and Devin Heitmueller, and 
both agree that moving to a monotonic clock is the right solution. However, 
this could break applications that rely on the realtime clock. Testing is thus 
required.

I could easily create a test tree on linuxtv.org, but the issue is to get 
people to test the driver with their applications, as building and using a 
linuxtv.org mercurial tree is rather difficult for many users.

I will thus commit the change to the uvcvideo driver and push that to mainline 
in order to get a bigger user base for testing. I'm pretty confident few 
applications (if any) will break, but to be on the safe side I could add a 
module parameter to select the clock and use the realtime clock by default.

What's the general opinion regarding adding a module parameter for clock 
selection vs. replacing the realtime clock by a monotonic clock completely ? 
Is anyone here concerned about application breakage ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Dec  3 20:49:43 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 3 Dec 2009 20:49:43 +0100
Subject: [Linux-uvc-devel] [SUPPORTED] 04f2:a147 Chicony "USB2.0 2MP UVC
	Camera" (sold as Medion P86004 "2MP Webcam with Headset")
In-Reply-To: <200912012050.53019@rk-nord.at>
References: <200912012050.53019@rk-nord.at>
Message-ID: <200912032049.43210.laurent.pinchart@ideasonboard.com>

Hi Melchior,

On Tuesday 01 December 2009 20:50:52 Melchior FRANZ wrote:
> Works with the linux uvc driver:
> 
>   04f2:a147  Chicony Electronics Co., Ltd  --  "USB2.0 2MP UVC Camera"
>   Sold as:   Medion P86004 "2MP Webcam with Headset"
> 
>   max. 1600x1200, max. 30 fps, snapshot button
> 
> Attached is the output of these commands:
> 
>   $ v4l-info
>   $ lsusb -v -s 1:7
>   $ v4lctl -c /dev/video0 list
>   $ evtest /dev/input/event6

Thanks a lot for the information. I've updated the supported devices list on 
the driver's website.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Dec  3 21:11:13 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 3 Dec 2009 21:11:13 +0100
Subject: [Linux-uvc-devel] [SUPPORTED] 04f2:a147 Chicony "USB2.0 2MP UVC
	Camera" (sold as Medion P86004 "2MP Webcam with Headset")
In-Reply-To: <200912021810.56583@rk-nord.at>
References: <200912012050.53019@rk-nord.at> <200912021810.56583@rk-nord.at>
Message-ID: <200912032111.13748.laurent.pinchart@ideasonboard.com>

Hi Melchior,

On Wednesday 02 December 2009 18:10:56 Melchior FRANZ wrote:
> * Melchior FRANZ -- Tuesday 01 December 2009:
> >   $ evtest /dev/input/event6
> 
> Most of you probably knew this (especially those who coded it :-), but I
> only realized later: The snapshot button isn't only reported via kernel
> event, but is also sent as a regular X key event. It has keycode 187, but
> no keysym assigned. I get this in xev:
> 
>   KeyPress event, serial 29, synthetic NO, window 0x9400001,
>       root 0x13c, subw 0x0, time 6746485, (113,93), root:(759,93),
>       state 0x0, keycode 187 (keysym 0x0, NoSymbol), same_screen YES,
>       XLookupString gives 0 bytes:
>       XmbLookupString gives 0 bytes:
>       XFilterEvent returns: False
> 
> I didn't find a reserved keysym for webcam snapshot buttons.

What about XF86WebCam ?

> Is there any software that listens to that by default?

Not that I know of, but depending on the desktop environment you're using, you 
could probably map the key to a global shortcut.

> In the meantime I just assigned letter "s" to the key (by adding this to the
> ~/.Xmodmap: "keycode 187 =  s"). Now at least luvcview knows how to take
> snapshots. Unfortunately, the  key is only reported when the camera is
> already in recording mode.

It used to be reported all the time, but that broke power management. To 
report button events the device needs interrupt URBs, and keeping them flying 
over USB prevents the device from being auto-suspended.

The camera doesn't need to stream video to report button events. Holding the 
video device node (/dev/videoX) open is enough. It should be quite trivial to 
write an application that opens the device node and then sleeps forever.

-- 
Regards,

Laurent Pinchart


From melchior.franz at gmail.com  Fri Dec  4 02:02:53 2009
From: melchior.franz at gmail.com (Melchior FRANZ)
Date: Fri, 4 Dec 2009 02:02:53 +0100
Subject: [Linux-uvc-devel] [SUPPORTED] 04f2:a147 Chicony "USB2.0 2MP UVC
	Camera" (sold as Medion P86004 "2MP Webcam with Headset")
In-Reply-To: <200912032111.13748.laurent.pinchart@ideasonboard.com>
References: <200912012050.53019@rk-nord.at> <200912021810.56583@rk-nord.at>
	<200912032111.13748.laurent.pinchart@ideasonboard.com>
Message-ID: <200912040202.53606@rk-nord.at>

* Laurent Pinchart -- Thursday 03 December 2009:
> On Wednesday 02 December 2009 18:10:56 Melchior FRANZ wrote:
> > I didn't find a reserved keysym for webcam snapshot buttons.
> 
> What about XF86WebCam ?

I saw that one, but the definition says that it's for launching the "camera app",
not for taking a snapshot. Sure, I could use that locally, as my keyboard doesn't
have a camera launcher key. But this is probably not generally usable.

XF86keysym.h:#define XF86XK_WebCam              0x1008FF8F   /* Launch web camera app.    */

(And I had assumed that xmodmap can't assign keys from XF86keysym.h, but I was
wrong. It just has to be the raw value:  "keycode 187 = 0x1008FF8F".)



> The camera doesn't need to stream video to report button events. Holding the 
> video device node (/dev/videoX) open is enough. It should be quite trivial to 
> write an application that opens the device node and then sleeps forever.

That would be trivial, indeed. But once open for supporting the snapshot key,
it can probably not be opened a second time for actually taking the snapshot.
I assume one would first have to close the device, then take the shot, then
grab the device again for the next shot. A bit messy. But I don't care much,
I just wondered.  :-)

m.


From JacobFehr at smarttech.com  Fri Dec  4 17:12:15 2009
From: JacobFehr at smarttech.com (Jacob Fehr)
Date: Fri, 4 Dec 2009 09:12:15 -0700
Subject: [Linux-uvc-devel] Timestamp Accuracy Patch
In-Reply-To: <200912032040.09709.laurent.pinchart@ideasonboard.com>
References: <833B0B09C5041D42A9924A3BA6A12B9A028FB22085@CALMAIL-CMS.smarttech.inc>
	<833B0B09C5041D42A9924A3BA6A12B9A02950AEECD@CALMAIL-CMS.smarttech.inc>
	<59cf47a80912011420m3cc2559an6dd07a29d49f2737@mail.gmail.com>
	<200912032040.09709.laurent.pinchart@ideasonboard.com>
Message-ID: <833B0B09C5041D42A9924A3BA6A12B9A02950AEEE4@CALMAIL-CMS.smarttech.inc>

Hey Laurent,

Thanks for your feedback. I didn't see it at first. :-) It looks like I have some more work to do.

Jake

-----Original Message-----
From: Laurent Pinchart [mailto:laurent.pinchart at ideasonboard.com] 
Sent: Thursday, December 03, 2009 12:40 PM
To: linux-uvc-devel at lists.berlios.de
Cc: Paulo Assis; Jacob Fehr
Subject: Re: [Linux-uvc-devel] Timestamp Accuracy Patch

Hi,

On Tuesday 01 December 2009 23:20:08 Paulo Assis wrote:
> 2009/12/1 Jacob Fehr <JacobFehr at smarttech.com>:
> >
> > I posted another patch a while ago that is somewhat related to what you
> > are doing. It removes the latency that happens as a result of USB IO (+/-
> > 4ms) and takes advantages of the PTS and STC values that are carried in
> > the stream.
> >
> > Not sure if you need your timestamps _that_ accurate but I thought I'd
> > let you know about it. I submitted it to the mailing list a little while.
> > Laurent is in the process of reviewing the changes that I made.

I've reviewed the patch and sent a reply to the mailing list. Have you 
received it ?

> The problem with latency is the sync between audio and video, also since
> regular audio frames don't have timestamps, these must be added in the
> application side and an error is also introduced here, fortunately this is
> only really noticeable above some tens of miliseconds, so unless you
> capturing at very low frame rates it won't be much of an issue.
> The real problem is the variation in time between frames (frame duration),
> for 30 fps, this would yield an average of 33.333 ms, with a monotonic clock
> like ktime_get, the frame duration is quite stable (ms)
> 32-32-36-32-32-36-... (3 frames in 100 ms = 30 fps) but the same is not true
> for do_gettimeofday in some multicore processors where the frame duration is
> a bit random, so some players will have a hard time trying to play a video
> with this random frame durations specially when they expect a steady frame
> rate.
> Also non-monotonic based timestamps are subject to big errors in case the
> system time changes, this is especially true if you are running a ntp
> server.
> Anyway gstreamer based applications, like totem, don't seem to have
> any problems with random frame duration and xine also seems to work
> without much problems, so the big issue here is the use of a
> non-monotonic timer, that can cause a negative/future timestamps (this
> would break any media player).

I've discussed the issue with Mauro Carvalho Chehab and Devin Heitmueller, and 
both agree that moving to a monotonic clock is the right solution. However, 
this could break applications that rely on the realtime clock. Testing is thus 
required.

I could easily create a test tree on linuxtv.org, but the issue is to get 
people to test the driver with their applications, as building and using a 
linuxtv.org mercurial tree is rather difficult for many users.

I will thus commit the change to the uvcvideo driver and push that to mainline 
in order to get a bigger user base for testing. I'm pretty confident few 
applications (if any) will break, but to be on the safe side I could add a 
module parameter to select the clock and use the realtime clock by default.

What's the general opinion regarding adding a module parameter for clock 
selection vs. replacing the realtime clock by a monotonic clock completely ? 
Is anyone here concerned about application breakage ?

-- 
Regards,

Laurent Pinchart




From sazeile at aol.com  Fri Dec  4 19:54:34 2009
From: sazeile at aol.com (sazeile at aol.com)
Date: Fri, 04 Dec 2009 13:54:34 -0500
Subject: [Linux-uvc-devel] Is Logitech Webcam Model C250 Supported?
In-Reply-To: <8CC4328A9EE4630-5E10-9C10@webmail-m031.sysops.aol.com>
References: <8CC4328A9EE4630-5E10-9C10@webmail-m031.sysops.aol.com>
Message-ID: <8CC432A5A16C810-5E10-A013@webmail-m031.sysops.aol.com>


 Hello,
Guten Tag,


I have alogitech C250 which is device ID 046d:0804 with chipset SPCA2211.
 
Is itsupported?
 
Thanks,
 
Steve Zeile
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091204/4a7b38b8/attachment.html>

From pj.assis at gmail.com  Fri Dec  4 20:20:13 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Fri, 4 Dec 2009 19:20:13 +0000
Subject: [Linux-uvc-devel] Is Logitech Webcam Model C250 Supported?
In-Reply-To: <8CC432A5A16C810-5E10-A013@webmail-m031.sysops.aol.com>
References: <8CC4328A9EE4630-5E10-9C10@webmail-m031.sysops.aol.com>
	<8CC432A5A16C810-5E10-A013@webmail-m031.sysops.aol.com>
Message-ID: <59cf47a80912041120j3f3d4c42w7bd2e1824c9481ad@mail.gmail.com>

Hi,
just have a look here:
http://www.quickcamteam.net/devices/logitech_uvc_device_list.pdf

All logitech c models are uvc compatible.

Best regards,
Paulo

2009/12/4  <sazeile at aol.com>:
> Hello,
> Guten Tag,
>
> I have a logitech C250 which is device ID 046d:0804 with chipset SPCA2211.
>
> Is it supported?
>
> Thanks,
>
> Steve Zeile
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>


From pj.assis at gmail.com  Sat Dec  5 11:25:16 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Sat, 5 Dec 2009 10:25:16 +0000
Subject: [Linux-uvc-devel] Is Logitech Webcam Model C250 Supported?
In-Reply-To: <8CC435F248F7E01-50AC-105D0@webmail-m051.sysops.aol.com>
References: <8CC4328A9EE4630-5E10-9C10@webmail-m031.sysops.aol.com>
	<8CC432A5A16C810-5E10-A013@webmail-m031.sysops.aol.com>
	<59cf47a80912041120j3f3d4c42w7bd2e1824c9481ad@mail.gmail.com>
	<8CC43352D72FC10-5E10-B944@webmail-m031.sysops.aol.com>
	<59cf47a80912041514q5497452n3eb92c9c57c75ed9@mail.gmail.com>
	<8CC435F248F7E01-50AC-105D0@webmail-m051.sysops.aol.com>
Message-ID: <59cf47a80912050225u15f43d46xfe54ae92708cf532@mail.gmail.com>

Hi,

> hub 2-0:1.0: USB hub found
> hub 2-0:1.0: 2 ports detected

Are you connecting the camera through a usb hub?
If you are, then try connecting directly to the pc usb port, usb hubs
don't work well in linux (If I remember there is a reported bug on
this)

Best regards,
Paulo


From pj.assis at gmail.com  Sat Dec  5 13:25:04 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Sat, 5 Dec 2009 12:25:04 +0000
Subject: [Linux-uvc-devel] control black list
Message-ID: <59cf47a80912050425o3a85b7d6t970aa4eb1197cff1@mail.gmail.com>

Laurent Hi,

I've just discovered that all my camera models have the WB Temperature
and Hue controls black listed, I would suppose that the control black
list was device specific.
For some reason the device id's are not taken into account and the
controls get blacklisted in all models.
If I have time today, I'll check the reason and post a patch to fix the issue.

Best regards,
Paulo


From pj.assis at gmail.com  Sat Dec  5 16:09:14 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Sat, 5 Dec 2009 15:09:14 +0000
Subject: [Linux-uvc-devel] Fwd: control black list
In-Reply-To: <59cf47a80912050425o3a85b7d6t970aa4eb1197cff1@mail.gmail.com>
References: <59cf47a80912050425o3a85b7d6t970aa4eb1197cff1@mail.gmail.com>
Message-ID: <59cf47a80912050709w6f6caa3fv55a5e86ae1039810@mail.gmail.com>

OK,
The following patch works for me.
usb_match_id doesn't seem to be working properly, so I'm using
dev->udev->descriptor instead.
I'm  also not a big fan of "continue" so I change it to a simple
if..else statement, this shouldn't make any difference (it's just easy
for read, at least for me :D)

Best regards
Paulo

---------- Forwarded message ----------
From: Paulo Assis <pj.assis at gmail.com>
Date: 2009/12/5
Subject: control black list
To: linux-uvc development discussions <linux-uvc-devel at lists.berlios.de>


Laurent Hi,

I've just discovered that all my camera models have the WB Temperature
and Hue controls black listed, I would suppose that the control black
list was device specific.
For some reason the device id's are not taken into account and the
controls get blacklisted in all models.
If I have time today, I'll check the reason and post a patch to fix the issue.

Best regards,
Paulo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: uvc_blacklist.patch
Type: text/x-patch
Size: 1158 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091205/eb060ce2/attachment.bin>

From pj.assis at gmail.com  Sat Dec  5 23:14:57 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Sat, 5 Dec 2009 22:14:57 +0000
Subject: [Linux-uvc-devel] control black list
In-Reply-To: <59cf47a80912050709w6f6caa3fv55a5e86ae1039810@mail.gmail.com>
References: <59cf47a80912050425o3a85b7d6t970aa4eb1197cff1@mail.gmail.com>
	<59cf47a80912050709w6f6caa3fv55a5e86ae1039810@mail.gmail.com>
Message-ID: <59cf47a80912051414h499a4043ref7274efca48809e@mail.gmail.com>

Laurent,

The problem with usb_match_id is that the second argument must be a
0/NULL terminated array of struct usb_device_id and you are only
passing a single struct.
The attached patch makes your code work with usb_match_id.
I still think the first patch is better, but since both of them are
working, it doesn't really matter :D.

Best regards,
Paulo

2009/12/5 Paulo Assis <pj.assis at gmail.com>:
> OK,
> The following patch works for me.
> usb_match_id doesn't seem to be working properly, so I'm using
> dev->udev->descriptor instead.
> I'm ?also not a big fan of "continue" so I change it to a simple
> if..else statement, this shouldn't make any difference (it's just easy
> for read, at least for me :D)
>
> Best regards
> Paulo
>
> ---------- Forwarded message ----------
> From: Paulo Assis <pj.assis at gmail.com>
> Date: 2009/12/5
> Subject: control black list
> To: linux-uvc development discussions <linux-uvc-devel at lists.berlios.de>
>
>
> Laurent Hi,
>
> I've just discovered that all my camera models have the WB Temperature
> and Hue controls black listed, I would suppose that the control black
> list was device specific.
> For some reason the device id's are not taken into account and the
> controls get blacklisted in all models.
> If I have time today, I'll check the reason and post a patch to fix the issue.
>
> Best regards,
> Paulo
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: uvc_blacklist_v2.patch
Type: text/x-patch
Size: 939 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091205/8a725513/attachment.bin>

From rainbow at leonardo.it  Sun Dec  6 15:04:24 2009
From: rainbow at leonardo.it (rainbow at leonardo.it)
Date: Sun, 06 Dec 2009 15:04:24 +0100
Subject: [Linux-uvc-devel]  Looking for upside down uvc cams
Message-ID: <4B1BB9E8.30005@leonardo.it>

Thank's  Hans for the help.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091206/c88435f3/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dmi.log
Type: text/x-log
Size: 5298 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091206/c88435f3/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb.log
Type: text/x-log
Size: 625 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091206/c88435f3/attachment-0001.bin>

From blobster_nz at yahoo.com.au  Mon Dec  7 09:19:54 2009
From: blobster_nz at yahoo.com.au (Chris Wilkinson)
Date: Mon, 7 Dec 2009 00:19:54 -0800 (PST)
Subject: [Linux-uvc-devel] New UVC webcam not working
Message-ID: <884737.43041.qm@web56906.mail.re3.yahoo.com>

Hi there,

I bought a usb2 vga uvc-compliant webcam (arkmicro chipset) today for use with Skype 2.1 beta on openSUSE 11. When I plug it in I get this in dmesg...

usb 4-2: new high speed USB device using ehci_hcd and address 11
usb 4-2: configuration #1 chosen from 1 choice
usb 4-2: New USB device found, idVendor=18ec, idProduct=3299
usb 4-2: New USB device strings: Mfr=1, Product=2, SerialNumber=0
usb 4-2: Product: USB2.0 PC CAMERA
usb 4-2: Manufacturer: ARKMICRO
uvcvideo: disagrees about version of symbol v4l_compat_translate_ioctl
uvcvideo: Unknown symbol v4l_compat_translate_ioctl
uvcvideo: disagrees about version of symbol video_devdata
uvcvideo: Unknown symbol video_devdata
uvcvideo: disagrees about version of symbol video_unregister_device
uvcvideo: Unknown symbol video_unregister_device
uvcvideo: disagrees about version of symbol video_device_alloc
uvcvideo: Unknown symbol video_device_alloc
uvcvideo: disagrees about version of symbol video_register_device
uvcvideo: Unknown symbol video_register_device
uvcvideo: disagrees about version of symbol video_usercopy
uvcvideo: Unknown symbol video_usercopy
uvcvideo: disagrees about version of symbol video_device_release
uvcvideo: Unknown symbol video_device_release

I'm running the latest version of uvcvideo, compiled from source today. No /dev/video* device is created, and because of that no webcam software can see the webcam. I do see a new usb audio device (camera's inbuilt mic), but of course I would prefer if I could get video with that.

Does anyone have any pointer as to where I can start, to diagnose what prevents the video from this camera working? Are there some parameters I can try and pass to the kernel module etc?...

Kind regards,

Chris Wilkinson, Brisbane, Australia.


      __________________________________________________________________________________
Win 1 of 4 Sony home entertainment packs thanks to Yahoo!7.
Enter now: http://au.docs.yahoo.com/homepageset/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091207/274532a9/attachment.html>

From pj.assis at gmail.com  Mon Dec  7 10:21:14 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Mon, 7 Dec 2009 09:21:14 +0000
Subject: [Linux-uvc-devel] New UVC webcam not working
In-Reply-To: <884737.43041.qm@web56906.mail.re3.yahoo.com>
References: <884737.43041.qm@web56906.mail.re3.yahoo.com>
Message-ID: <59cf47a80912070121n75a78a35iafa40121d5c7c358@mail.gmail.com>

Hi,
You haven't unloaded the old modules.
If you got the source from the mercurial repo you should follow this steps:

1- make distclean
2- make menuconfig (optional - must be run as root)
3- make
4- make install
5- make unload
6- modprobe uvcvideo (as root)

Best regards,
Paulo


From pj.assis at gmail.com  Mon Dec  7 12:35:11 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Mon, 7 Dec 2009 11:35:11 +0000
Subject: [Linux-uvc-devel] New UVC webcam not working
In-Reply-To: <375569.35277.qm@web56904.mail.re3.yahoo.com>
References: <884737.43041.qm@web56906.mail.re3.yahoo.com>
	<59cf47a80912070121n75a78a35iafa40121d5c7c358@mail.gmail.com>
	<375569.35277.qm@web56904.mail.re3.yahoo.com>
Message-ID: <59cf47a80912070335k1f7dac5ah542072e5488b961a@mail.gmail.com>

Hi,
Does the build process finishes without any warnings or errors?

Best regards,
Paulo

2009/12/7 Chris Wilkinson <blobster_nz at yahoo.com.au>:
> Hi there,
>
> I've done as suggested below, but when I go to modprobe uvcvideo I get the
> following...
>
> # modprobe uvcvideo
> FATAL: Error inserting uvcvideo
> (/lib/modules/2.6.25.18-0.2-default/weak-updates/uvcvideo.ko): Unknown
> symbol in module, or unknown parameter (see dmesg)
>
> dmesg shows the same as before.
>
> I'm not sure what 'unknown symbol' means, but are there any parameters I can
> pass to uvcvideo when I try to load it?
>
> Kind regards
>
> Chris Wilkinson, Brisbane, Australia.
>
> ________________________________
> From: Paulo Assis <pj.assis at gmail.com>
> To: Chris Wilkinson <blobster_nz at yahoo.com.au>; linux-uvc development
> discussions <linux-uvc-devel at lists.berlios.de>
> Sent: Mon, 7 December, 2009 7:21:14 PM
> Subject: Re: [Linux-uvc-devel] New UVC webcam not working
>
> Hi,
> You haven't unloaded the old modules.
> If you got the source from the mercurial repo you should follow this steps:
>
> 1- make distclean
> 2- make menuconfig (optional - must be run as root)
> 3- make
> 4- make install
> 5- make unload
> 6- modprobe uvcvideo (as root)
>
> Best regards,
> Paulo
>
> ________________________________
> See what's on at the movies in your area. Find out now.


From a.bonometti at gmail.com  Mon Dec  7 17:12:18 2009
From: a.bonometti at gmail.com (Alessandro Bonometti)
Date: Mon, 7 Dec 2009 17:12:18 +0100
Subject: [Linux-uvc-devel] Microsoft Lifecam NX-6000
In-Reply-To: <200912032029.24877.laurent.pinchart@ideasonboard.com>
References: <200912011507.13289.a.bonometti@studiofarma.it>
	<200912032029.24877.laurent.pinchart@ideasonboard.com>
Message-ID: <200912071712.18986.a.bonometti@gmail.com>

Hi Laurent, and thanks for the answer,

On Thursday 03 December 2009 20:29:24 Laurent Pinchart wrote:
> > I bought a Microsoft LifeCam NX-6000 which should be supported by UVC
> > (http://linux-uvc.berlios.de/#devices). The camera is recognized, but it
> > doesn't work in skype, kopete or luvcview. The cam is fine (I have tried
> > it on a Windows PC) and the OS should be correctly configured since I
> > have another cam on this system (it's a eeepc) and it works fine.
> 
> Could you try the camera on another Linux system ?

Ok, this is really strange. I have two Linux system, a desktop and an eeepc, 
both with openSUSE 11.2 (the desktop has the X86_64 version)  and when I first 
tried the NX-6000, I had the same messages on both system. Here are the one 
from the desktop:
Dec  1 00:43:29 linux-l8hb kernel: [165305.462577] uvcvideo: Found UVC 1.00 
device Microsoft? LifeCam NX-6000 (045e:00f8)
Dec  1 00:43:29 linux-l8hb kernel: [165305.462899] uvcvideo: UVC non 
compliance - GET_DEF(PROBE) not supported. Enabling workaround.
Dec  1 00:43:29 linux-l8hb kernel: [165305.463498] input: Microsoft? LifeCam 
NX-6000 as 
/devices/pci0000:00/0000:00:1d.7/usb2/2-1/2-1.1/2-1.1.1/2-1.1.1:1.0/inp
ut/input10
Dec  1 00:43:30 linux-l8hb kernel: [165306.269428] uvcvideo: Failed to query 
(1) UVC control 3 (unit 5) : -110 (exp. 2).
Dec  1 00:43:30 linux-l8hb kernel: [165306.569245] uvcvideo: Failed to query 
(135) UVC control 7 (unit 5) : -110 (exp. 2).
Dec  1 00:43:30 linux-l8hb kernel: [165306.869099] uvcvideo: Failed to query 
(135) UVC control 9 (unit 5) : -110 (exp. 2).
Dec  1 00:43:31 linux-l8hb kernel: [165307.169093] uvcvideo: Failed to query 
(135) UVC control 6 (unit 5) : -110 (exp. 2).
Dec  1 00:43:31 linux-l8hb kernel: [165307.376088] ALSA 
/usr/src/packages/BUILD/kernel-
desktop-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current 
value for control 1 ch 1: err = -22
Dec  1 00:43:32 linux-l8hb kernel: [165308.440797] ALSA 
/usr/src/packages/BUILD/kernel-
desktop-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current 
value for control 1 ch 1: err = -22
[and so on...]

I then borrowed a LifeCam Cinema (045e:075d) from a friend of mine and it 
works perfectly on luvcview, skype and kopete, on both systems.

Saturday I re-attached my NX-6000 to answer your questions, and it seemed to 
work fine!
Dec  5 19:41:54 linux-l8hb kernel: [579205.650965] uvcvideo: Found UVC 1.00 
device Microsoft? LifeCam NX-6000 (045e:00f8)
Dec  5 19:41:54 linux-l8hb kernel: [579205.651398] uvcvideo: UVC non 
compliance - GET_DEF(PROBE) not supported. Enabling workaround.
Dec  5 19:41:54 linux-l8hb kernel: [579205.652136] input: Microsoft? LifeCam 
NX-6000 as 
/devices/pci0000:00/0000:00:1d.7/usb2/2-1/2-1.1/2-1.1.1/2-1.1.1:1.0/inp
ut/input21

I could see it working in lucview, while in Skype and Kopete it didn't 
work...but it seemed a step forward.
But now I'm back on square one! When I attach the cam, it says:


Dec  7 16:55:04 linux-l8hb kernel: [741992.357149] usb 2-1.1.1: Product: 
Microsoft? LifeCam NX-6000
Dec  7 16:55:04 linux-l8hb kernel: [741992.357156] usb 2-1.1.1: Manufacturer: 
Microsoft
Dec  7 16:55:04 linux-l8hb kernel: [741992.357300] usb 2-1.1.1: configuration 
#1 chosen from 1 choice
Dec  7 16:55:04 linux-l8hb kernel: [741992.357968] uvcvideo: Found UVC 1.00 
device Microsoft? LifeCam NX-6000 (045e:00f8)
Dec  7 16:55:04 linux-l8hb kernel: [741992.358337] uvcvideo: UVC non 
compliance - GET_DEF(PROBE) not supported. Enabling workaround.
Dec  7 16:55:04 linux-l8hb kernel: [741992.358958] input: Microsoft? LifeCam 
NX-6000 as 
/devices/pci0000:00/0000:00:1d.7/usb2/2-1/2-1.1/2-1.1.1/2-1.1.1:1.0/input/input25
Dec  7 16:55:05 linux-l8hb kernel: [741993.160295] uvcvideo: Failed to query 
(1) UVC control 3 (unit 5) : -110 (exp. 2).
Dec  7 16:55:05 linux-l8hb kernel: [741993.460201] uvcvideo: Failed to query 
(135) UVC control 7 (unit 5) : -110 (exp. 2).
Dec  7 16:55:06 linux-l8hb kernel: [741993.760222] uvcvideo: Failed to query 
(135) UVC control 9 (unit 5) : -110 (exp. 2).
Dec  7 16:55:06 linux-l8hb kernel: [741993.980246] ALSA 
/usr/src/packages/BUILD/kernel-
desktop-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current 
value for control 1 ch 1: err = -22
Dec  7 16:55:06 linux-l8hb kernel: [741994.060260] uvcvideo: Failed to query 
(135) UVC control 6 (unit 5) : -110 (exp. 2).
Dec  7 16:55:07 linux-l8hb kernel: [741995.051221] ALSA 
/usr/src/packages/BUILD/kernel-
desktop-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current 
value for control 1 ch 1: err = -22
Dec  7 16:55:13 linux-l8hb kernel: [742001.638202] uvcvideo: Failed to set UVC 
probe control : -110 (exp. 26).
Dec  7 16:55:23 linux-l8hb kernel: [742011.561120] uvcvideo: Failed to set UVC 
probe control : -110 (exp. 26).


>Ouch. It seems the problem is not limited to uvcvideo but also impacts
>usbaudio. Could you try not to load the uvcvideo driver (you can blacklist
> it by adding "blacklist uvcvideo" to /etc/modprobe.d/blacklist.conf or
> /etc/modprobe.conf - the file name and location might be distribution-
> dependent) and check if ALSA still prints error messages ?

It doesn't:
Dec  7 17:05:06 linux-l8hb kernel: [742594.398463] usb 2-1.1.1: new high speed 
USB device using ehci_hcd and address 83
Dec  7 17:05:06 linux-l8hb kernel: [742594.520837] usb 2-1.1.1: New USB device 
found, idVendor=045e, idProduct=00f8
Dec  7 17:05:06 linux-l8hb kernel: [742594.520858] usb 2-1.1.1: New USB device 
strings: Mfr=1, Product=2, SerialNumber=0
Dec  7 17:05:06 linux-l8hb kernel: [742594.520870] usb 2-1.1.1: Product: 
Microsoft? LifeCam NX-6000
Dec  7 17:05:06 linux-l8hb kernel: [742594.520880] usb 2-1.1.1: Manufacturer: 
Microsoft
Dec  7 17:05:06 linux-l8hb kernel: [742594.521053] usb 2-1.1.1: configuration 
#1 chosen from 1 choice



> Could you please send me the messages printed by the driver to the kernel
>  log when running luvcview -d /dev/video1 ?
> 

Just one line:
Dec  7 17:01:29 linux-l8hb kernel: [742376.860611] uvcvideo: Failed to set UVC 
probe control : -110 (exp. 26).

I didn't reboot my PC or change kernel version. I still have m friend's 
lifecam cinema here, and it still works perfectly (so I don't think it's a 
messed-up configuration).
Any hint?

Thanks, reegards,
AB


From pj.assis at gmail.com  Mon Dec  7 22:57:55 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Mon, 7 Dec 2009 21:57:55 +0000
Subject: [Linux-uvc-devel] New UVC webcam not working
In-Reply-To: <760191.83126.qm@web56904.mail.re3.yahoo.com>
References: <884737.43041.qm@web56906.mail.re3.yahoo.com>
	<59cf47a80912070121n75a78a35iafa40121d5c7c358@mail.gmail.com>
	<375569.35277.qm@web56904.mail.re3.yahoo.com>
	<59cf47a80912070335k1f7dac5ah542072e5488b961a@mail.gmail.com>
	<760191.83126.qm@web56904.mail.re3.yahoo.com>
Message-ID: <59cf47a80912071357y21d88530sc54bfbc4a3723e63@mail.gmail.com>

Hi,
uvc was integrated into the kernel from 2.6.27 onwards, so you
shouldn't need to install it from source on a newer kernel.
In any case you should be able to compile and install it with your
kernel version.
Can you check your /etc/modprobe.d directory for any uvc configuration
file (older versions  use modprobe.conf), maybe your system is setting
some bad module parameter when you try to insert uvcvideo.

Best regards,
Paulo


From pj.assis at gmail.com  Tue Dec  8 11:13:24 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 8 Dec 2009 10:13:24 +0000
Subject: [Linux-uvc-devel] Is Logitech Webcam Model C250 Supported?
In-Reply-To: <8CC45CF9ABDEA5D-2018-BA36@webmail-d061.sysops.aol.com>
References: <8CC4328A9EE4630-5E10-9C10@webmail-m031.sysops.aol.com>
	<8CC432A5A16C810-5E10-A013@webmail-m031.sysops.aol.com>
	<59cf47a80912041120j3f3d4c42w7bd2e1824c9481ad@mail.gmail.com>
	<8CC43352D72FC10-5E10-B944@webmail-m031.sysops.aol.com>
	<59cf47a80912041514q5497452n3eb92c9c57c75ed9@mail.gmail.com>
	<8CC435F248F7E01-50AC-105D0@webmail-m051.sysops.aol.com>
	<59cf47a80912050225u15f43d46xfe54ae92708cf532@mail.gmail.com>
	<8CC444AAB6405A4-3044-89A@webmail-m026.sysops.aol.com>
	<8CC45CF9ABDEA5D-2018-BA36@webmail-d061.sysops.aol.com>
Message-ID: <59cf47a80912080213o2bf94943lf0585c61e18f7fce@mail.gmail.com>

Hi,

I have another question which I hope has a quick answer.
> Skype for Linux doesn't have any camera brightness controls.
> I was able to use a Linux utility called "videoview" which does have
> brightness controls which will persist through to the Skype session.
> Unfortunately the settings are lost when I power down my computer.
> Is there a file where uvcvideo stores the brightness setting or is there a
> command line that I could use at start up to set the brightness?
>

You can use "guvcview --control_only" this will only open the control panel
of guvcview (http://guvcview.berlios.de) so that you can use it along side
skype.
Another option is to use uvcdynctrl from libwebcam (
http://www.quickcamteam.net/software/libwebcam), this is a command line app
so you should be able to start it from a script at boot time.

Best regards,
Paulo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091208/1da2fa32/attachment.html>

From federicotg at gmail.com  Tue Dec  8 15:05:58 2009
From: federicotg at gmail.com (Federico Tello Gentile)
Date: Tue, 08 Dec 2009 11:05:58 -0300
Subject: [Linux-uvc-devel] Genius cam to be added to the compatible list
Message-ID: <1260281158.4430.23.camel@phenom>

Hi. Maybe you can add the "Genius iSlim 330" to the compatible cam list 

The ID is 0458:505e

lsusb output:

Bus 002 Device 003: ID 0458:505e KYE Systems Corp. (Mouse Systems)

It is not the mouse ID, I checked unplugging the cam.

The camera is this one:

http://www.geniusnet.com/geniusOnline/online.portal?_nfpb=true&productPortlet_actionOverride=%2Fportlets%2FproductArea%2Fcategory%2FqueryPro&_windowLabel=productPortlet&productPortletproductId=1092053&_pageLabel=productPage&test=portlet-action

I think it is important to add more genius models to the list because
most brands listed there are unknown in Argentina where I live, so the
list might not be too useful for a shopper around here.

All the UVC cameras actually being sold in stores in my area were not in
the list and most of them were Genius.



From federicotg at gmail.com  Tue Dec  8 15:16:41 2009
From: federicotg at gmail.com (Federico Tello Gentile)
Date: Tue, 08 Dec 2009 11:16:41 -0300
Subject: [Linux-uvc-devel] Genius cam to be added to the compatible list
In-Reply-To: <1260281158.4430.23.camel@phenom>
References: <1260281158.4430.23.camel@phenom>
Message-ID: <1260281801.4430.25.camel@phenom>

Sorry I did not tell you the lsusb -v output. Here it is.


Bus 002 Device 004: ID 0458:505e KYE Systems Corp. (Mouse Systems) 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0458 KYE Systems Corp. (Mouse Systems)
  idProduct          0x505e 
  bcdDevice            1.00
  iManufacturer          16 PixArt Imaging Inc.
  iProduct               96 iSlim 330
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          927
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration         48 EV-Board_Configuration
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction              96 iSlim 330
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface             96 iSlim 330
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           77
        dwClockFrequency       12.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               4
        iTerminal               0 
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {f07735d1-898d-0047-812e-7dd5e2fdb898}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0xff
        iExtension              0 
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000200
          Zoom (Absolute)
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000057f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
        iProcessing             0 
        bmVideoStandards     0x 0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         2
        wTotalLength                      557
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    11
        bmaControls( 1)                    11
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        bFlags                              1
          Fixed-size samples: Yes
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   128000
        dwMaxBitRate                 11059200
        dwMaxVideoFrameBufferSize      460800
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  0
        dwMinFrameInterval             333333
        dwMaxFrameInterval            9999990
        dwFrameIntervalStep            333333
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   128000
        dwMaxBitRate                  2764800
        dwMaxVideoFrameBufferSize      115200
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  0
        dwMinFrameInterval             333333
        dwMaxFrameInterval            9999990
        dwFrameIntervalStep            333333
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   128000
        dwMaxBitRate                   691200
        dwMaxVideoFrameBufferSize       28800
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  0
        dwMinFrameInterval             333333
        dwMaxFrameInterval            9999990
        dwFrameIntervalStep            333333
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   128000
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       38016
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  0
        dwMinFrameInterval             333333
        dwMaxFrameInterval            9999990
        dwFrameIntervalStep            333333
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   128000
        dwMaxBitRate                  3649536
        dwMaxVideoFrameBufferSize      152064
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  0
        dwMinFrameInterval             333333
        dwMaxFrameInterval            9999990
        dwFrameIntervalStep            333333
      VideoStreaming Interface Descriptor:
        bLength                            26
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        320
        wHeight( 1)                       240
        wWidth( 2)                        160
        wHeight( 2)                       120
        wWidth( 3)                        176
        wHeight( 3)                       144
        wWidth( 4)                        352
        wHeight( 4)                       288
        bNumCompressionPatterns             5
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        2
        bNumFrameDescriptors                5
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   614400
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           2000000
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   153600
        dwMaxBitRate                  4608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1016960
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                    38400
        dwMaxBitRate                  1152000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1016960
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                    50688
        dwMaxBitRate                  1520640
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1016960
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            50
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   202752
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  6
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            500000
        dwFrameInterval( 2)            666666
        dwFrameInterval( 3)           1000000
        dwFrameInterval( 4)           1016960
        dwFrameInterval( 5)          10000000
      VideoStreaming Interface Descriptor:
        bLength                            26
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        320
        wHeight( 1)                       240
        wWidth( 2)                        160
        wHeight( 2)                       120
        wWidth( 3)                        176
        wHeight( 3)                       144
        wWidth( 4)                        352
        wHeight( 4)                       288
        bNumCompressionPatterns             5
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0a60  2x 608 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b00  2x 768 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b20  2x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1300  3x 768 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13fc  3x 1020 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       2 Streaming
      bFunctionProtocol       0 
      iFunction              64 Audio_Device
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0 
      iInterface             64 Audio_Device
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           38
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0 
        iTerminal               0 
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0 
      AudioControl Interface Descriptor:
        bLength                 8
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 5
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x03
          Mute
          Volume
        iFeature                0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0 
      iInterface              0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        48000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0060  1x 96 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)



From pj.assis at gmail.com  Tue Dec  8 23:02:36 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 8 Dec 2009 22:02:36 +0000
Subject: [Linux-uvc-devel] Fwd:  New UVC webcam not working
In-Reply-To: <59cf47a80912081351of2f4f33rc17ba1992131edeb@mail.gmail.com>
References: <884737.43041.qm@web56906.mail.re3.yahoo.com>
	<59cf47a80912070121n75a78a35iafa40121d5c7c358@mail.gmail.com>
	<375569.35277.qm@web56904.mail.re3.yahoo.com>
	<59cf47a80912070335k1f7dac5ah542072e5488b961a@mail.gmail.com>
	<760191.83126.qm@web56904.mail.re3.yahoo.com>
	<59cf47a80912071357y21d88530sc54bfbc4a3723e63@mail.gmail.com>
	<30548.23722.qm@web56906.mail.re3.yahoo.com>
	<59cf47a80912081351of2f4f33rc17ba1992131edeb@mail.gmail.com>
Message-ID: <59cf47a80912081402j155a09fy9418393d27186e6d@mail.gmail.com>

Hi,
This is my configuration for 2.6.31 (/etc/modprobe.d/uvcvideo.conf):
------------//--------------
#options for uvcvideo
options uvcvideo nodrop=1 trace=15
------------//--------------

but in your case you have to make sure you add all the correct modules
first (unload all the old ones):
Try following the v4l-dvb wiki first
(http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-DVB_Device_Drivers)
especially the "Unresolved Symbols" section:

.......

Unresolved Symbols

? ?* if you tried the second method ("make unload" followed by an
appropriate modprobe command) but encountered errors in relation to
unresolved symbols, e.g. using the saa7134 module as an example:

sudo modprobe saa7134
FATAL: Error inserting saa7134 (/lib/modules/[your kernel
version]/kernel/drivers/media/video/saa7134/saa7134.ko):\
Unknown symbol in module, or unknown parameter (see dmesg)

please try a system reboot before filing an error report. Irregardless
of what caused the unresolved symbols errors, usually, after
performing the reboot, you will find that the install was actually
successful and the drivers will work as intended.

? ?* Special case: If your system uses compressed kernel modules,
after running the "make install" command of the V4L-DVB installation
process, you could end up with a mixture of new modules (*.ko) and
their older compressed version (*.ko.gz) installed. If the system
attempts to concurrently load both sets into memory, you are bound to
run into modprobe insertion errors (eg. unknown symbol or unknown
parameter). All conflicting *.ko.gz files must be removed. The
following command line can help you locate these conflicting files in
all your installed kernels:

for file in `find /lib/modules -name "*.ko"`; do if [[ -e $file.gz ]];
then echo "$file.gz should be removed"; fi; done

Usually all conflicting module files resulting of v4l-dvb installation
will be located in:

/lib/modules/[your kernel version]/kernel/drivers/media

Once the conflicting *.ko.gz have been moved elsewhere or renamed (to
*.ko.gz.disabled for example), use the v4l-dvb reload command and, to
be safe, also add a "depmod" step in order to rebuild modules
dependencies):

make reload
depmod -a

Your new modules should now be loaded correctly.

.......

Best regards,
Paulo


From bardia.vivek at gmail.com  Wed Dec  9 08:12:46 2009
From: bardia.vivek at gmail.com (Vivek Bardia)
Date: Wed, 9 Dec 2009 12:42:46 +0530
Subject: [Linux-uvc-devel] How to add UVC driver into ti-davinci kernel
	(v.2.6.18) ?
Message-ID: <779226550912082312j36f641aem4bc9037118a73285@mail.gmail.com>

I need the uvc driver to add into ti-davinci kernel, can someone guide me as
to where to get it and how to add the module into this kernel....
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091209/d013c2e2/attachment.html>

From pj.assis at gmail.com  Wed Dec  9 10:47:11 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Wed, 9 Dec 2009 09:47:11 +0000
Subject: [Linux-uvc-devel] Is Logitech Webcam Model C250 Supported?
In-Reply-To: <8CC4695970D213A-60E0-AF71@webmail-m043.sysops.aol.com>
References: <8CC4328A9EE4630-5E10-9C10@webmail-m031.sysops.aol.com>
	<59cf47a80912041120j3f3d4c42w7bd2e1824c9481ad@mail.gmail.com>
	<8CC43352D72FC10-5E10-B944@webmail-m031.sysops.aol.com>
	<59cf47a80912041514q5497452n3eb92c9c57c75ed9@mail.gmail.com>
	<8CC435F248F7E01-50AC-105D0@webmail-m051.sysops.aol.com>
	<59cf47a80912050225u15f43d46xfe54ae92708cf532@mail.gmail.com>
	<8CC444AAB6405A4-3044-89A@webmail-m026.sysops.aol.com>
	<8CC45CF9ABDEA5D-2018-BA36@webmail-d061.sysops.aol.com>
	<59cf47a80912080213o2bf94943lf0585c61e18f7fce@mail.gmail.com>
	<8CC4695970D213A-60E0-AF71@webmail-m043.sysops.aol.com>
Message-ID: <59cf47a80912090147y29b107fds450e5aee859034e9@mail.gmail.com>

Hi,
Please make sure you use the svn version:
"svn checkout http://svn.quickcamteam.net/svn/qct/Linux/"

You will also need uvcvideo.h header from the linux-uvc driver:
" http://linuxtv.org/hg/~pinchartl/uvcvideo/file/26d3049cb825/linux/drivers/media/video/uvc/uvcvideo.h
"

this file must be patched (around line 59):

--------------------//---------------------
struct uvc_xu_control {
 __u8 unit;
 __u8 selector;
 __u16 size;
 //__u8 __user *data;  //<------remove __user
 __u8 *data;
 };
--------------------//---------------------

now some more patches to libwebcam so that udev scripts work wit the
latest udev version:
modify "./ Apps/uvcdynctrl/udev/rules/80-uvcdynctrl.rules" to:

--------------------//---------------------
###############################################################################
# Rules for adding dynamic UVC extension unit controls to UVC devices
###############################################################################
ACTION=="add", SUBSYSTEM=="video4linux", DRIVERS=="uvcvideo",
RUN+="/lib/udev/uvcdynctrl"
--------------------//---------------------

and "./Apps/uvcdynctrl/udev/scripts/uvcdynctrl" to:

--------------------//---------------------
#!/bin/sh
###############################################################################
# udev helper script for UVC devices to support dynamic controls.
#
# Version: 0.1
###############################################################################

xmlpath=/etc/udev/data
logfile=/tmp/uvcdynctrl-udev.log
#logfile=/dev/null
uvcdynctrlpath=uvcdynctrl

echo "\n===========================================================================
=== " >> $logfile
echo "Triggered at `date`\n" >> $logfile
set >> $logfile
echo >> $logfile

# Extract the VID and PID
vid=$ID_VENDOR
pid=$ID_MODEL
echo "VID of new device: '$vid'" >> $logfile
echo "PID of new device: '$pid'" >> $logfile
if [ -z $vid ]; then
echo "ERROR: Unable to extract USB VID from '$DEVPATH'" >> $logfile
exit 2
fi

# Make sure the vendor directory ($xmlpath/VID) exists
vendordir="$xmlpath/$vid"
if [ ! -d "$vendordir" ]; then
echo "ERROR: Vendor directory '$vendordir' not found." >> $logfile
exit 5
fi

# Look for device specific XML files ($xmlpath/VID/PID/*.xml)
if [ ! -z $pid ]; then
productdir="$xmlpath/$vid/$pid"
if [ -d "$productdir" ]; then
for file in $productdir/*.xml; do
if [ -f "$file" ]; then
echo "Found product XML file: $file" >> $logfile
cmd="$uvcdynctrlpath -d $DEVNAME -i $file"
echo "Executing command: '$cmd'" >> $logfile
$cmd >> $logfile 2>&1
fi
done
fi
fi

# Look for vendor specific XML files ($xmlpath/VID/*.xml)
for file in $vendordir/*.xml; do
if [ -f "$file" ]; then
echo "Found vendor XML file: $file" >> $logfile
cmd="$uvcdynctrlpath -d $DEVNAME -i $file"
echo "Executing command: '$cmd'" >> $logfile
$cmd >> $logfile 2>&1
fi
done



echo "==============================================================================\n
" >> $logfile
--------------------//---------------------

This should be enough to make everything work :D

Best regards,
Paulo


From pj.assis at gmail.com  Wed Dec  9 17:08:44 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Wed, 9 Dec 2009 16:08:44 +0000
Subject: [Linux-uvc-devel] Fwd: New UVC webcam not working
In-Reply-To: <335545.66639.qm@web56902.mail.re3.yahoo.com>
References: <884737.43041.qm@web56906.mail.re3.yahoo.com>
	<59cf47a80912070121n75a78a35iafa40121d5c7c358@mail.gmail.com>
	<375569.35277.qm@web56904.mail.re3.yahoo.com>
	<59cf47a80912070335k1f7dac5ah542072e5488b961a@mail.gmail.com>
	<760191.83126.qm@web56904.mail.re3.yahoo.com>
	<59cf47a80912071357y21d88530sc54bfbc4a3723e63@mail.gmail.com>
	<30548.23722.qm@web56906.mail.re3.yahoo.com>
	<59cf47a80912081351of2f4f33rc17ba1992131edeb@mail.gmail.com>
	<59cf47a80912081402j155a09fy9418393d27186e6d@mail.gmail.com>
	<335545.66639.qm@web56902.mail.re3.yahoo.com>
Message-ID: <59cf47a80912090808g8b3c2e7qe07c6387bc38ce64@mail.gmail.com>

For the list :D

2009/12/9 Chris Wilkinson <blobster_nz at yahoo.com.au>:
> Hi Paulo,
>
> My camera is working. I uninstalled then reinstalled everything related to
> v4l, then again rebuilt the uvcvideo kernel module as per your instructions.
> This time it worked and persists across reboots! :-)
>
> It is now I discover why the webcam was so cheap - in bright daylight image
> is actually quite good, but from dusk onward our friends & family are going
> to see some really grainy/slow-framerate video of us on skype - unless we
> install a small sun in our apartment for night-skyping... :-)
>
> Never mind, its as good as I could expect for a AU$29 webcam, but best of
> all I'm glad it now works in openSUSE 11.0! :-)
>
> Thanks for your help.
>
> Kind regards,
>
> Chris Wilkinson, Brisbane, Australia.
>
> ________________________________
> From: Paulo Assis <pj.assis at gmail.com>
> To: linux-uvc development discussions <linux-uvc-devel at lists.berlios.de>
> Sent: Wed, 9 December, 2009 8:02:36 AM
> Subject: [Linux-uvc-devel] Fwd: New UVC webcam not working
>
> Hi,
> This is my configuration for 2.6.31 (/etc/modprobe.d/uvcvideo.conf):
> ------------//--------------
> #options for uvcvideo
> options uvcvideo nodrop=1 trace=15
> ------------//--------------
>
> but in your case you have to make sure you add all the correct modules
> first (unload all the old ones):
> Try following the v4l-dvb wiki first
> (http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-DVB_Device_Drivers)
> especially the "Unresolved Symbols" section:
>
> .......
>
> Unresolved Symbols
>
> ? ?* if you tried the second method ("make unload" followed by an
> appropriate modprobe command) but encountered errors in relation to
> unresolved symbols, e.g. using the saa7134 module as an example:
>
> sudo modprobe saa7134
> FATAL: Error inserting saa7134 (/lib/modules/[your kernel
> version]/kernel/drivers/media/video/saa7134/saa7134.ko):\
> Unknown symbol in module, or unknown parameter (see dmesg)
>
> please try a system reboot before filing an error report. Irregardless
> of what caused the unresolved symbols errors, usually, after
> performing the reboot, you will find that the install was actually
> successful and the drivers will work as intended.
>
> ? ?* Special case: If your system uses compressed kernel modules,
> after running the "make install" command of the V4L-DVB installation
> process, you could end up with a mixture of new modules (*.ko) and
> their older compressed version (*.ko.gz) installed. If the system
> attempts to concurrently load both sets into memory, you are bound to
> run into modprobe insertion errors (eg. unknown symbol or unknown
> parameter). All conflicting *.ko.gz files must be removed. The
> following command line can help you locate these conflicting files in
> all your installed kernels:
>
> for file in `find /lib/modules -name "*.ko"`; do if [[ -e $file.gz ]];
> then echo "$file.gz should be removed"; fi; done
>
> Usually all conflicting module files resulting of v4l-dvb installation
> will be located in:
>
> /lib/modules/[your kernel version]/kernel/drivers/media
>
> Once the conflicting *.ko.gz have been moved elsewhere or renamed (to
> *.ko.gz.disabled for example), use the v4l-dvb reload command and, to
> be safe, also add a "depmod" step in order to rebuild modules
> dependencies):
>
> make reload
> depmod -a
>
> Your new modules should now be loaded correctly.
>
> .......
>
> Best regards,
> Paulo
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
> ________________________________
> Win 1 of 4 Sony home entertainment packs thanks to Yahoo!7. Enter now.


From shaohuang at gmail.com  Wed Dec  9 23:29:36 2009
From: shaohuang at gmail.com (Brian Pin)
Date: Wed, 9 Dec 2009 14:29:36 -0800
Subject: [Linux-uvc-devel] How to add UVC driver into ti-davinci kernel
	(v.2.6.18) ?
In-Reply-To: <779226550912082312j36f641aem4bc9037118a73285@mail.gmail.com>
References: <779226550912082312j36f641aem4bc9037118a73285@mail.gmail.com>
Message-ID: <a81f87bb0912091429v4e97a176h6c01f62c4ec38f50@mail.gmail.com>

You can pull out uvc driver from the mainline linux kernel, and port to
ti-davinci kernel. Or maybe if the ti-davinci kernel is new enough, it will
already contain the uvc driver.
The uvc driver is at: drivers/media/video/uvc/

On Tue, Dec 8, 2009 at 11:12 PM, Vivek Bardia <bardia.vivek at gmail.com>wrote:

> I need the uvc driver to add into ti-davinci kernel, can someone guide me
> as to where to get it and how to add the module into this kernel....
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>


-- 
Best Regards
Shao Huang Pin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091209/86163d43/attachment.html>

From laurent.pinchart at ideasonboard.com  Thu Dec 10 02:32:49 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 10 Dec 2009 02:32:49 +0100
Subject: [Linux-uvc-devel] control black list
In-Reply-To: <59cf47a80912051414h499a4043ref7274efca48809e@mail.gmail.com>
References: <59cf47a80912050425o3a85b7d6t970aa4eb1197cff1@mail.gmail.com>
	<59cf47a80912050709w6f6caa3fv55a5e86ae1039810@mail.gmail.com>
	<59cf47a80912051414h499a4043ref7274efca48809e@mail.gmail.com>
Message-ID: <200912100232.50042.laurent.pinchart@ideasonboard.com>

Hi Paulo,

thanks a lot for the bug report and the proposed fixes.

From 2.6.21 onwards the kernel provides a usb_match_one_id() function that 
matches perfectly what the driver needs here. In order to keep compatibility 
with < 2.6.21 kernels on the linuxtv.org tree, I've committed a patch that 
checks the idVendor and idProduct values directly (after converting them from 
little-endian to cpu-endian, which was forgotten in your first patch).

For the record, here's the patch.

# HG changeset patch
# User Laurent Pinchart <laurent.pinchart at ideasonboard.com>
# Date 1260408681 -3600
# Node ID 0826158f044cfc144681aa2e716a3825d8d84ce7
# Parent  065f9e34e07bea91007d787ae75ada7570cccf5c
uvcvideo: Fix controls blacklisting

From: Laurent Pinchart <laurent.pinchart at ideasonboard.com>

The control blacklisting code erroneously used usb_match_id() by passing
a pointer to a usb_device_id structure instead of an array of such
structures.

Replace the usb_match_id() call by usb_match_id_one().

Thanks to Paulo Assis for diagnosing the bug and providing an initial
fix.

Priority: normal

Signed-off-by: Laurent Pinchart <laurent.pinchart at ideasonboard.com>

diff -r 065f9e34e07b -r 0826158f044c linux/drivers/media/video/uvc/uvc_ctrl.c
--- a/linux/drivers/media/video/uvc/uvc_ctrl.c	Mon Dec 07 10:08:33 2009 -0200
+++ b/linux/drivers/media/video/uvc/uvc_ctrl.c	Thu Dec 10 02:31:21 2009 +0100
@@ -1395,7 +1395,14 @@
 	size = entity->processing.bControlSize;
 
 	for (i = 0; i < ARRAY_SIZE(blacklist); ++i) {
-		if (!usb_match_id(dev->intf, &blacklist[i].id))
+#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 21)
+		if ((blacklist[i].id.idVendor !=
+		     le16_to_cpu(dev->udev->descriptor.idVendor)) ||
+		    (blacklist[i].id.idProduct !=
+		     le16_to_cpu(dev->udev->descriptor.idProduct)))
+#else
+		if (!usb_match_one_id(dev->intf, &blacklist[i].id))
+#endif
 			continue;
 
 		if (blacklist[i].index >= 8 * size ||

-- 
Best regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Dec 10 02:40:00 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 10 Dec 2009 02:40:00 +0100
Subject: [Linux-uvc-devel] [SUPPORTED] 04f2:a147 Chicony "USB2.0 2MP UVC
	Camera" (sold as Medion P86004 "2MP Webcam with Headset")
In-Reply-To: <200912040202.53606@rk-nord.at>
References: <200912012050.53019@rk-nord.at>
	<200912032111.13748.laurent.pinchart@ideasonboard.com>
	<200912040202.53606@rk-nord.at>
Message-ID: <200912100240.00169.laurent.pinchart@ideasonboard.com>

On Friday 04 December 2009 02:02:53 Melchior FRANZ wrote:
> * Laurent Pinchart -- Thursday 03 December 2009:
> > On Wednesday 02 December 2009 18:10:56 Melchior FRANZ wrote:
> > > I didn't find a reserved keysym for webcam snapshot buttons.
> >
> > What about XF86WebCam ?
> 
> I saw that one, but the definition says that it's for launching the "camera
>  app", not for taking a snapshot. Sure, I could use that locally, as my
>  keyboard doesn't have a camera launcher key. But this is probably not
>  generally usable.
> 
> XF86keysym.h:#define XF86XK_WebCam              0x1008FF8F   /* Launch web
>  camera app.    */

Good point. I'm not sure how formal the definition is though. And there's no 
formal definition for the webcam button usage either, it could be used to 
launch the web camera application :-)

> (And I had assumed that xmodmap can't assign keys from XF86keysym.h, but I
>  was wrong. It just has to be the raw value:  "keycode 187 = 0x1008FF8F".)
> 
> > The camera doesn't need to stream video to report button events. Holding
> > the video device node (/dev/videoX) open is enough. It should be quite
> > trivial to write an application that opens the device node and then
> > sleeps forever.
> 
> That would be trivial, indeed. But once open for supporting the snapshot
>  key, it can probably not be opened a second time for actually taking the
>  snapshot. I assume one would first have to close the device, then take the
>  shot, then grab the device again for the next shot. A bit messy. But I
>  don't care much, I just wondered.  :-)

The uvcvideo driver supports multiple opens. You can open the device in an 
application and sit there with the device opened without disturbing any other 
application. Of course, if you're trying to stream video in two separate 
applications at the same time, that's another story.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Dec 10 03:03:32 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 10 Dec 2009 03:03:32 +0100
Subject: [Linux-uvc-devel] New UVC webcam not working
In-Reply-To: <884737.43041.qm@web56906.mail.re3.yahoo.com>
References: <884737.43041.qm@web56906.mail.re3.yahoo.com>
Message-ID: <200912100303.32704.laurent.pinchart@ideasonboard.com>

Hi Chris,

On Monday 07 December 2009 09:19:54 Chris Wilkinson wrote:
> Hi there,
> 
> I bought a usb2 vga uvc-compliant webcam (arkmicro chipset) today for use
>  with Skype 2.1 beta on openSUSE 11. When I plug it in I get this in
>  dmesg...
> 
> usb 4-2: new high speed USB device using ehci_hcd and address 11
> usb 4-2: configuration #1 chosen from 1 choice
> usb 4-2: New USB device found, idVendor=18ec, idProduct=3299

Could you please send me the output of

lsusb -v -d 18ec:3299

Thanks.

> usb 4-2: New USB device strings: Mfr=1, Product=2, SerialNumber=0
> usb 4-2: Product: USB2.0 PC CAMERA
> usb 4-2: Manufacturer: ARKMICRO
> uvcvideo: disagrees about version of symbol v4l_compat_translate_ioctl
> uvcvideo: Unknown symbol v4l_compat_translate_ioctl
> uvcvideo: disagrees about version of symbol video_devdata
> uvcvideo: Unknown symbol video_devdata
> uvcvideo: disagrees about version of symbol video_unregister_device
> uvcvideo: Unknown symbol video_unregister_device
> uvcvideo: disagrees about version of symbol video_device_alloc
> uvcvideo: Unknown symbol video_device_alloc
> uvcvideo: disagrees about version of symbol video_register_device
> uvcvideo: Unknown symbol video_register_device
> uvcvideo: disagrees about version of symbol video_usercopy
> uvcvideo: Unknown symbol video_usercopy
> uvcvideo: disagrees about version of symbol video_device_release
> uvcvideo: Unknown symbol video_device_release
> 
> I'm running the latest version of uvcvideo, compiled from source today. No
>  /dev/video* device is created, and because of that no webcam software can
>  see the webcam. I do see a new usb audio device (camera's inbuilt mic),
>  but of course I would prefer if I could get video with that.
> 
> Does anyone have any pointer as to where I can start, to diagnose what
>  prevents the video from this camera working? Are there some parameters I
>  can try and pass to the kernel module etc?...

The above messages show that you've indeed installed the uvcvideo driver from 
source, but that the v4l core modules (such as videodev.ko) are still the one 
bundled with your default kernel. You need to install all the modules from the 
source tree.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Dec 10 10:17:33 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 10 Dec 2009 10:17:33 +0100
Subject: [Linux-uvc-devel] Genius cam to be added to the compatible list
In-Reply-To: <1260281158.4430.23.camel@phenom>
References: <1260281158.4430.23.camel@phenom>
Message-ID: <200912101017.33449.laurent.pinchart@ideasonboard.com>

Hi Federico,

On Tuesday 08 December 2009 15:05:58 Federico Tello Gentile wrote:
> Hi. Maybe you can add the "Genius iSlim 330" to the compatible cam list
> 
> The ID is 0458:505e
> 
> lsusb output:
> 
> Bus 002 Device 003: ID 0458:505e KYE Systems Corp. (Mouse Systems)
> 
> It is not the mouse ID, I checked unplugging the cam.
> 
> The camera is this one:
> 
> http://www.geniusnet.com/geniusOnline/online.portal?_nfpb=true&productPortl
> et_actionOverride=%2Fportlets%2FproductArea%2Fcategory%2FqueryPro&_windowLa
> bel=productPortlet&productPortletproductId=1092053&_pageLabel=productPage&t
> est=portlet-action
> 
> I think it is important to add more genius models to the list because
> most brands listed there are unknown in Argentina where I live, so the
> list might not be too useful for a shopper around here.
> 
> All the UVC cameras actually being sold in stores in my area were not in
> the list and most of them were Genius.

Thanks for the report. I've updated the supported devices list on the website.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Dec 10 10:56:51 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 10 Dec 2009 10:56:51 +0100
Subject: [Linux-uvc-devel] Is Logitech Webcam Model C250 Supported?
In-Reply-To: <8CC432A5A16C810-5E10-A013@webmail-m031.sysops.aol.com>
References: <8CC4328A9EE4630-5E10-9C10@webmail-m031.sysops.aol.com>
	<8CC432A5A16C810-5E10-A013@webmail-m031.sysops.aol.com>
Message-ID: <200912101056.51549.laurent.pinchart@ideasonboard.com>

Hi Steve,

On Friday 04 December 2009 19:54:34 sazeile at aol.com wrote:
>  Hello,
> Guten Tag,
> 
> I have alogitech C250 which is device ID 046d:0804 with chipset SPCA2211.
> 
> Is itsupported?

Why don't you try it ? :-)

The camera should be supported. I haven't received any test report for it 
though, but I've successfully tested the C600 and Portable C200.

Could you please send me the output of

lsusb -v -d 046d:0804

with your camera plugged in ? Thanks.

-- 
Regards,

Laurent Pinchart


From michael_curlis at hotmail.com  Thu Dec 10 18:56:40 2009
From: michael_curlis at hotmail.com (Michael Curlis)
Date: Thu, 10 Dec 2009 11:56:40 -0600
Subject: [Linux-uvc-devel] Philips NC610: UVC Video Cam to Add to Support
	List
Message-ID: <SNT116-W583F3357AA987E69307877E58D0@phx.gbl>


The following USB Video Class (UVC) cam is not yet supported: the Philips NC610 (also known as Philips SPC 610NC). I do not know the device ID.
Thanks,

MICHAEL CURLIS 
E       michael_curlis at hotmail.com

 		 	   		  
_________________________________________________________________
Windows Live Hotmail is faster and more secure than ever.
http://www.microsoft.com/windows/windowslive/hotmail_bl1/hotmail_bl1.aspx?ocid=PID23879::T:WLMTAGL:ON:WL:en-ww:WM_IMHM_1:092009
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091210/b1f9db02/attachment.html>

From laurent.pinchart at ideasonboard.com  Fri Dec 11 02:12:27 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 11 Dec 2009 02:12:27 +0100
Subject: [Linux-uvc-devel] Is Logitech Webcam Model C250 Supported?
In-Reply-To: <8CC47C39057416A-9FE4-3375@webmail-d045.sysops.aol.com>
References: <8CC4328A9EE4630-5E10-9C10@webmail-m031.sysops.aol.com>
	<200912101056.51549.laurent.pinchart@ideasonboard.com>
	<8CC47C39057416A-9FE4-3375@webmail-d045.sysops.aol.com>
Message-ID: <200912110212.27327.laurent.pinchart@ideasonboard.com>

Hi Steve,

(CC'ing the linux-uvc-devel mailing list, as the information you wrote can be 
helpful for many people).

On Thursday 10 December 2009 16:21:21 sazeile at aol.com wrote:
>  Laurent,
> 
> Thanks for the reply.  I sent the output of dmesg to Paulo and he observed
>  the camera was connected via a hub. Paulo suspected that the problem may
>  be caused by a defect in the way that Linux handles hubs. It turns out
>  that all of the USB ports on my laptop go through a hub. I switched to a
>  desktop and it worked!
> I am using Puppy Linux and I relayed the problem to the Puppy forum.
> One of the members off this advice on changing the uvcvideo driver to get
>  around the hub problem:
> 
> While compiling the 2.6.31.6 kernel, I noticedthis: in order to get true
>  usb2 speed through my (Intel ICH7) usbports, I must compile the usb2
>  driver ehci_hcd into the kernel, not asa module. Otherwise the usb1 driver
>  (uhci_hcd) grabs the hub'sinterrupts first and doesn't relinquish them to
>  ehci_hcd. Result:slooooww usb-port operation. I would speculate, too slow
>  for a webcam.
> 
> I would therefore suggest to the writers of Linux usb webcamdrivers that,
>  in order to obtain a meaningful probe for a usb2 hub, thewebcam driver
>  loader should look first at the output of lspci -k,before looking at
>  lsmod. If the webcam driver loader looks only atlsmod, it will miss the
>  case where the 2.6.31.6 (and, presumably, allearlier) kernel(s)
>  is/are/were compiled correctly for usb2 (i.e., withehci_hcd compiled
>  directly into the kernel, and uhci_hcd and ohci_hcdas modules).
> 
> If the kernel.org team ever makes the kernel do its ehci_hcd probebefore
>  its uhci_hcd probe, then a mere lsmod probe will suffice. Untilthat happy
>  day, I would venture to predict there will be muchfrustration in webcam
>  Linuxland, except among those who are savvyenough to add the necessary
>  lspci -k probing logic to the webcam driverloader ourselves
> 
> If your camera's driver loader *is* already written to look first atlspci
>  -k, then all you need in order for the webcam to work is torecompile the
>  kernel with ehci_hcd compiled directly into the kernel,the other two as
>  modules. Wuh-laww, now your ICH7 usb2 hub runs at itsintended speed and
>  your usb webcam (knock on wood) works.
> 
> Don't get carried away and compile usbhid into the kernel as well,though.
>  It works OK, but it confuses the Puppy shutdown script.
> 
> 
> Not sure how difficult it is to use lspci -k before lsmod but it might be
>  worth trying so that users with only hub terminated USB ports can use
>  uvcvideo.

Thanks a lot for the information. You forgot the "lsusb -v -d 046d:0804" 
output though ;-)

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Fri Dec 11 02:27:19 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 11 Dec 2009 02:27:19 +0100
Subject: [Linux-uvc-devel] Philips NC610: UVC Video Cam to Add to
	Support List
In-Reply-To: <SNT116-W583F3357AA987E69307877E58D0@phx.gbl>
References: <SNT116-W583F3357AA987E69307877E58D0@phx.gbl>
Message-ID: <200912110227.19202.laurent.pinchart@ideasonboard.com>

Hi Michael,

On Thursday 10 December 2009 18:56:40 Michael Curlis wrote:
> The following USB Video Class (UVC) cam is not yet supported: the Philips
>  NC610 (also known as Philips SPC 610NC). I do not know the device ID.

Do you own one of those cameras ? If so, have you tested it ? Most UVC webcam 
should be supported out of the box by the uvcvideo driver even if they're not 
listed on the driver's website.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sun Dec 13 13:23:49 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sun, 13 Dec 2009 13:23:49 +0100
Subject: [Linux-uvc-devel] Microsoft Lifecam NX-6000
In-Reply-To: <200912071712.18986.a.bonometti@gmail.com>
References: <200912011507.13289.a.bonometti@studiofarma.it>
	<200912032029.24877.laurent.pinchart@ideasonboard.com>
	<200912071712.18986.a.bonometti@gmail.com>
Message-ID: <200912131323.49439.laurent.pinchart@ideasonboard.com>

Hi Alessandro,

On Monday 07 December 2009 17:12:18 Alessandro Bonometti wrote:
> On Thursday 03 December 2009 20:29:24 Laurent Pinchart wrote:
> > > I bought a Microsoft LifeCam NX-6000 which should be supported by UVC
> > > (http://linux-uvc.berlios.de/#devices). The camera is recognized, but
> > > it doesn't work in skype, kopete or luvcview. The cam is fine (I have
> > > tried it on a Windows PC) and the OS should be correctly configured
> > > since I have another cam on this system (it's a eeepc) and it works
> > > fine.
> >
> > Could you try the camera on another Linux system ?
> 
> Ok, this is really strange. I have two Linux system, a desktop and an
>  eeepc, both with openSUSE 11.2 (the desktop has the X86_64 version)  and
>  when I first tried the NX-6000, I had the same messages on both system.
>  Here are the one from the desktop:
> Dec  1 00:43:29 linux-l8hb kernel: [165305.462577] uvcvideo: Found UVC 1.00
> device Microsoft? LifeCam NX-6000 (045e:00f8)
> Dec  1 00:43:29 linux-l8hb kernel: [165305.462899] uvcvideo: UVC non
> compliance - GET_DEF(PROBE) not supported. Enabling workaround.
> Dec  1 00:43:29 linux-l8hb kernel: [165305.463498] input: Microsoft?
>  LifeCam NX-6000 as
> /devices/pci0000:00/0000:00:1d.7/usb2/2-1/2-1.1/2-1.1.1/2-1.1.1:1.0/inp
> ut/input10
> Dec  1 00:43:30 linux-l8hb kernel: [165306.269428] uvcvideo: Failed to
>  query (1) UVC control 3 (unit 5) : -110 (exp. 2).
> Dec  1 00:43:30 linux-l8hb kernel: [165306.569245] uvcvideo: Failed to
>  query (135) UVC control 7 (unit 5) : -110 (exp. 2).
> Dec  1 00:43:30 linux-l8hb kernel: [165306.869099] uvcvideo: Failed to
>  query (135) UVC control 9 (unit 5) : -110 (exp. 2).
> Dec  1 00:43:31 linux-l8hb kernel: [165307.169093] uvcvideo: Failed to
>  query (135) UVC control 6 (unit 5) : -110 (exp. 2).
> Dec  1 00:43:31 linux-l8hb kernel: [165307.376088] ALSA
> /usr/src/packages/BUILD/kernel-
> desktop-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current
> value for control 1 ch 1: err = -22
> Dec  1 00:43:32 linux-l8hb kernel: [165308.440797] ALSA
> /usr/src/packages/BUILD/kernel-
> desktop-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current
> value for control 1 ch 1: err = -22
> [and so on...]
> 
> I then borrowed a LifeCam Cinema (045e:075d) from a friend of mine and it
> works perfectly on luvcview, skype and kopete, on both systems.
> 
> Saturday I re-attached my NX-6000 to answer your questions, and it seemed
>  to work fine!
> Dec  5 19:41:54 linux-l8hb kernel: [579205.650965] uvcvideo: Found UVC 1.00
> device Microsoft? LifeCam NX-6000 (045e:00f8)
> Dec  5 19:41:54 linux-l8hb kernel: [579205.651398] uvcvideo: UVC non
> compliance - GET_DEF(PROBE) not supported. Enabling workaround.
> Dec  5 19:41:54 linux-l8hb kernel: [579205.652136] input: Microsoft?
>  LifeCam NX-6000 as
> /devices/pci0000:00/0000:00:1d.7/usb2/2-1/2-1.1/2-1.1.1/2-1.1.1:1.0/inp
> ut/input21
> 
> I could see it working in lucview, while in Skype and Kopete it didn't
> work...but it seemed a step forward.
> But now I'm back on square one! When I attach the cam, it says:
> 
> 
> Dec  7 16:55:04 linux-l8hb kernel: [741992.357149] usb 2-1.1.1: Product:
> Microsoft? LifeCam NX-6000
> Dec  7 16:55:04 linux-l8hb kernel: [741992.357156] usb 2-1.1.1:
>  Manufacturer: Microsoft
> Dec  7 16:55:04 linux-l8hb kernel: [741992.357300] usb 2-1.1.1:
>  configuration #1 chosen from 1 choice
> Dec  7 16:55:04 linux-l8hb kernel: [741992.357968] uvcvideo: Found UVC 1.00
> device Microsoft? LifeCam NX-6000 (045e:00f8)
> Dec  7 16:55:04 linux-l8hb kernel: [741992.358337] uvcvideo: UVC non
> compliance - GET_DEF(PROBE) not supported. Enabling workaround.
> Dec  7 16:55:04 linux-l8hb kernel: [741992.358958] input: Microsoft?
>  LifeCam NX-6000 as
> /devices/pci0000:00/0000:00:1d.7/usb2/2-1/2-1.1/2-1.1.1/2-1.1.1:1.0/input/i
> nput25 Dec  7 16:55:05 linux-l8hb kernel: [741993.160295] uvcvideo: Failed
>  to query (1) UVC control 3 (unit 5) : -110 (exp. 2).
> Dec  7 16:55:05 linux-l8hb kernel: [741993.460201] uvcvideo: Failed to
>  query (135) UVC control 7 (unit 5) : -110 (exp. 2).
> Dec  7 16:55:06 linux-l8hb kernel: [741993.760222] uvcvideo: Failed to
>  query (135) UVC control 9 (unit 5) : -110 (exp. 2).
> Dec  7 16:55:06 linux-l8hb kernel: [741993.980246] ALSA
> /usr/src/packages/BUILD/kernel-
> desktop-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current
> value for control 1 ch 1: err = -22
> Dec  7 16:55:06 linux-l8hb kernel: [741994.060260] uvcvideo: Failed to
>  query (135) UVC control 6 (unit 5) : -110 (exp. 2).
> Dec  7 16:55:07 linux-l8hb kernel: [741995.051221] ALSA
> /usr/src/packages/BUILD/kernel-
> desktop-2.6.31.5/linux-2.6.31/sound/usb/usbmixer.c:405: cannot get current
> value for control 1 ch 1: err = -22
> Dec  7 16:55:13 linux-l8hb kernel: [742001.638202] uvcvideo: Failed to set
>  UVC probe control : -110 (exp. 26).
> Dec  7 16:55:23 linux-l8hb kernel: [742011.561120] uvcvideo: Failed to set
>  UVC probe control : -110 (exp. 26).
> 
> >Ouch. It seems the problem is not limited to uvcvideo but also impacts
> >usbaudio. Could you try not to load the uvcvideo driver (you can blacklist
> > it by adding "blacklist uvcvideo" to /etc/modprobe.d/blacklist.conf or
> > /etc/modprobe.conf - the file name and location might be distribution-
> > dependent) and check if ALSA still prints error messages ?
> 
> It doesn't:
> Dec  7 17:05:06 linux-l8hb kernel: [742594.398463] usb 2-1.1.1: new high
>  speed USB device using ehci_hcd and address 83
> Dec  7 17:05:06 linux-l8hb kernel: [742594.520837] usb 2-1.1.1: New USB
>  device found, idVendor=045e, idProduct=00f8
> Dec  7 17:05:06 linux-l8hb kernel: [742594.520858] usb 2-1.1.1: New USB
>  device strings: Mfr=1, Product=2, SerialNumber=0
> Dec  7 17:05:06 linux-l8hb kernel: [742594.520870] usb 2-1.1.1: Product:
> Microsoft? LifeCam NX-6000
> Dec  7 17:05:06 linux-l8hb kernel: [742594.520880] usb 2-1.1.1:
>  Manufacturer: Microsoft
> Dec  7 17:05:06 linux-l8hb kernel: [742594.521053] usb 2-1.1.1:
>  configuration #1 chosen from 1 choice
> 
> > Could you please send me the messages printed by the driver to the kernel
> >  log when running luvcview -d /dev/video1 ?
> 
> Just one line:
> Dec  7 17:01:29 linux-l8hb kernel: [742376.860611] uvcvideo: Failed to set
>  UVC probe control : -110 (exp. 26).
> 
> I didn't reboot my PC or change kernel version. I still have m friend's
> lifecam cinema here, and it still works perfectly (so I don't think it's a
> messed-up configuration).
> Any hint?

You won't like it, but my guess is that the webcam firmware is buggy (like 
most webcam firmwares :-/) and crashes due to a race condition. Lack of luck 
makes your system reproduce the timings required to trigger the bug.

It might be possible to work around the problem. Could you try to load the 
driver with quirks=0x102 and timeout=3000 ? If that help, please try only one 
of those parameters to see which one fixes the problem.

-- 
Regards,

Laurent Pinchart


From glavkos at gmail.com  Sun Dec 13 23:33:53 2009
From: glavkos at gmail.com (Glavkos Xaon)
Date: Mon, 14 Dec 2009 00:33:53 +0200
Subject: [Linux-uvc-devel] Fwd: laptop with an upside down webcam
In-Reply-To: <68fd85260912131420l272160d6pff7e70b73b254994@mail.gmail.com>
References: <68fd85260912131420l272160d6pff7e70b73b254994@mail.gmail.com>
Message-ID: <68fd85260912131433w245907f5uc26cf1ca528a45ed@mail.gmail.com>

---------- Forwarded message ----------
From: Glavkos Xaon <glavkos at gmail.com>
Date: 2009/12/14
Subject: laptop with an upside down webcam
To: linux-uvc-devel at lists.berlios.de


Partially i solved the problem and the webcam works normal in Cheese but
still in Skype can not find how to turn it around ...I followed Radu tips to
fix the bug
http://radu.cotescu.com/2009/11/05/flipped-images-ubuntu-webcam/#comments
I thought it works after all , but still can not find a solution in skype. I
sent you the output for lsusb and dmidecode commands ...
I would be very greateful if i had your help on that ...
thank you very much...


glavkos at glavkos-laptop:~$ lsusb
Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 001 Device 003: ID 04f2:b012 Chicony Electronics Co., Ltd 1.3 MPixel UVC
Webcam
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 003 Device 002: ID 046d:c019 Logitech, Inc. Optical Tilt Wheel Mouse
Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
glavkos at glavkos-laptop:~$ dmidecode
# dmidecode 2.9
/dev/mem: Permission denied
glavkos at glavkos-laptop:~$ sudo -i
[sudo] password for glavkos:
root at glavkos-laptop:~# dmidecode
# dmidecode 2.9
SMBIOS 2.4 present.
34 structures occupying 1615 bytes.
Table at 0x000E4EE0.

Handle 0x0000, DMI type 0, 24 bytes
BIOS Information
    Vendor: American Megatrends Inc.
    Version: 203
    Release Date: 08/14/2007
    Address: 0xF0000
    Runtime Size: 64 kB
    ROM Size: 512 kB
    Characteristics:
        ISA is supported
        PCI is supported
        PC Card (PCMCIA) is supported
        PNP is supported
        BIOS is upgradeable
        BIOS shadowing is allowed
        ESCD support is available
        Boot from CD is supported
        Selectable boot is supported
        EDD is supported
        5.25"/1.2 MB floppy services are supported (int 13h)
        3.5"/720 KB floppy services are supported (int 13h)
        3.5"/2.88 MB floppy services are supported (int 13h)
        Print screen service is supported (int 5h)
        8042 keyboard services are supported (int 9h)
        Printer services are supported (int 17h)
        CGA/mono video services are supported (int 10h)
        ACPI is supported
        USB legacy is supported
        Smart battery is supported
        BIOS boot specification is supported
        Function key-initiated network boot is supported
        Targeted content distribution is supported
    BIOS Revision: 1.4
    Firmware Revision: 168.153

Handle 0x0001, DMI type 1, 27 bytes
System Information
    Manufacturer: ASUSTeK Computer Inc.
    Product Name: F7F
    Version: 1.0
    Serial Number: SSN12345678901234567
    UUID: 3A3A81DC-A206-7D4D-6580-001E8C29407C
    Wake-up Type: Power Switch
    SKU Number:
    Family:

Handle 0x0002, DMI type 2, 15 bytes
Base Board Information
    Manufacturer: ASUSTeK Computer Inc.
    Product Name: F7F
    Version: 2.1
    Serial Number: BSN12345678901234567
    Asset Tag: ATN12345678901234567
    Features:
        Board is a hosting board
        Board requires at least one daughter board
        Board is replaceable
    Location In Chassis: MIDDLE
    Chassis Handle: 0x0003
    Type: Motherboard
    Contained Object Handles: 0

Handle 0x0003, DMI type 3, 21 bytes
Chassis Information
    Manufacturer: ASUSTeK Computer Inc.
    Type: Notebook
    Lock: Not Present
    Version:
    Serial Number:
    Asset Tag:
    Boot-up State: Safe
    Power Supply State: Safe
    Thermal State: Safe
    Security Status: None
    OEM Information: 0x00000000
    Height: Unspecified
    Number Of Power Cords: 1
    Contained Elements: 0

Handle 0x0004, DMI type 4, 35 bytes
Processor Information
    Socket Designation: Socket 478
    Type: Central Processor
    Family: Pentium M
    Manufacturer: Intel
    ID: EC 06 00 00 FF FB E9 BF
    Signature: Type 0, Family 6, Model 14, Stepping 12
    Flags:
        FPU (Floating-point unit on-chip)
        VME (Virtual mode extension)
        DE (Debugging extension)
        PSE (Page size extension)
        TSC (Time stamp counter)
        MSR (Model specific registers)
        PAE (Physical address extension)
        MCE (Machine check exception)
        CX8 (CMPXCHG8 instruction supported)
        APIC (On-chip APIC hardware supported)
        SEP (Fast system call)
        MTRR (Memory type range registers)
        PGE (Page global enable)
        MCA (Machine check architecture)
        CMOV (Conditional move instruction supported)
        PAT (Page attribute table)
        CLFSH (CLFLUSH instruction supported)
        DS (Debug store)
        ACPI (ACPI supported)
        MMX (MMX technology supported)
        FXSR (Fast floating-point save and restore)
        SSE (Streaming SIMD extensions)
        SSE2 (Streaming SIMD extensions 2)
        SS (Self-snoop)
        HTT (Hyper-threading technology)
        TM (Thermal monitor supported)
        PBE (Pending break enabled)
    Version: Genuine Intel(R) CPU T2130 @ 1.86GHz
    Voltage: 1.2 V
    External Clock: 133 MHz
    Max Speed: 1867 MHz
    Current Speed: 1866 MHz
    Status: Populated, Enabled
    Upgrade: Socket 423
    L1 Cache Handle: 0x0005
    L2 Cache Handle: 0x0006
    L3 Cache Handle: Not Provided
    Serial Number: PSN12345678901234567
    Asset Tag: PATN1234567890123456
    Part Number: PPN12345678901234567

Handle 0x0005, DMI type 7, 19 bytes
Cache Information
    Socket Designation: L1-Cache
    Configuration: Enabled, Not Socketed, Level 1
    Operational Mode: Write Back
    Location: Internal
    Installed Size: 64 KB
    Maximum Size: 64 KB
    Supported SRAM Types:
        Other
    Installed SRAM Type: Other
    Speed: Unknown
    Error Correction Type: Single-bit ECC
    System Type: Instruction
    Associativity: 8-way Set-associative

Handle 0x0006, DMI type 7, 19 bytes
Cache Information
    Socket Designation: L2-Cache
    Configuration: Enabled, Not Socketed, Level 2
    Operational Mode: Write Back
    Location: Internal
    Installed Size: 1024 KB
    Maximum Size: 1024 KB
    Supported SRAM Types:
        Other
    Installed SRAM Type: Other
    Speed: Unknown
    Error Correction Type: Single-bit ECC
    System Type: Unified
    Associativity: 4-way Set-associative

Handle 0x0007, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CON18
    Internal Connector Type: None
    External Reference Designator: USB1
    External Connector Type: Access Bus (USB)
    Port Type: USB

Handle 0x0008, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CON18
    Internal Connector Type: None
    External Reference Designator: USB2
    External Connector Type: Access Bus (USB)
    Port Type: USB

Handle 0x0009, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CON19
    Internal Connector Type: None
    External Reference Designator: USB3
    External Connector Type: Access Bus (USB)
    Port Type: USB

Handle 0x000A, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CON19
    Internal Connector Type: None
    External Reference Designator: USB4
    External Connector Type: Access Bus (USB)
    Port Type: USB

Handle 0x000B, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: BCON1
    Internal Connector Type: None
    External Reference Designator: 1394
    External Connector Type: IEEE 1394
    Port Type: Firewire (IEEE P1394)

Handle 0x000C, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CON28
    Internal Connector Type: None
    External Reference Designator: MODEM
    External Connector Type: RJ-11
    Port Type: Modem Port

Handle 0x000D, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CON28
    Internal Connector Type: None
    External Reference Designator: LAN
    External Connector Type: RJ-45
    Port Type: Network Port

Handle 0x000E, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: J1
    Internal Connector Type: None
    External Reference Designator: Headphone Out
    External Connector Type: Mini Jack (headphones)
    Port Type: Audio Port

Handle 0x000F, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: J2
    Internal Connector Type: None
    External Reference Designator: Mic In
    External Connector Type: Mini Jack (headphones)
    Port Type: Audio Port

Handle 0x0010, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CON4
    Internal Connector Type: None
    External Reference Designator: Video
    External Connector Type: DB-15 female
    Port Type: Video Port

Handle 0x0011, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CON13
    Internal Connector Type: None
    External Reference Designator: SD/MMC/MS
    External Connector Type: Other
    Port Type: Other

Handle 0x0012, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CON12
    Internal Connector Type: None
    External Reference Designator: CARD BUS
    External Connector Type: 68 Pin Dual Inline
    Port Type: Cardbus

Handle 0x0013, DMI type 8, 9 bytes
Port Connector Information
    Internal Reference Designator: CN12
    Internal Connector Type: None
    External Reference Designator: Multi Port
    External Connector Type: Other
    Port Type: Other

Handle 0x0014, DMI type 9, 13 bytes
System Slot Information
    Designation: PCIE1
    Type: x1 PCI Express
    Current Usage: Available
    Length: Short
    ID: 1
    Characteristics:
        3.3 V is provided
        PME signal is supported

Handle 0x0015, DMI type 10, 6 bytes
On Board Device Information
    Type: Video
    Status: Enabled
    Description: AGP VGA controller

Handle 0x0016, DMI type 10, 6 bytes
On Board Device Information
    Type: Ethernet
    Status: Enabled
    Description: Ethernet controller

Handle 0x0017, DMI type 10, 6 bytes
On Board Device Information
    Type: Sound
    Status: Enabled
    Description: Audio controller

Handle 0x0018, DMI type 10, 6 bytes
On Board Device Information
    Type: Other
    Status: Enabled
    Description: Modem controller

Handle 0x0019, DMI type 13, 22 bytes
BIOS Language Information
    Installable Languages: 1
        en|US|iso8859-1
    Currently Installed Language: en|US|iso8859-1

Handle 0x001A, DMI type 16, 15 bytes
Physical Memory Array
    Location: System Board Or Motherboard
    Use: System Memory
    Error Correction Type: None
    Maximum Capacity: 2 GB
    Error Information Handle: Not Provided
    Number Of Devices: 2

Handle 0x001B, DMI type 19, 15 bytes
Memory Array Mapped Address
    Starting Address: 0x00000000000
    Ending Address: 0x0007FFFFFFF
    Range Size: 2 GB
    Physical Array Handle: 0x001A
    Partition Width: 0

Handle 0x001C, DMI type 17, 27 bytes
Memory Device
    Array Handle: 0x001A
    Error Information Handle: Not Provided
    Total Width: 64 bits
    Data Width: 64 bits
    Size: 1024 MB
    Form Factor: SODIMM
    Set: None
    Locator: SODIMM0
    Bank Locator: BANK0
    Type: DDR2
    Type Detail: Synchronous
    Speed: 533 MHz (1.9 ns)
    Manufacturer: N/A
    Serial Number: N/A
    Asset Tag: N/A
    Part Number: N/A

Handle 0x001D, DMI type 20, 19 bytes
Memory Device Mapped Address
    Starting Address: 0x00000000000
    Ending Address: 0x0003FFFFFFF
    Range Size: 1 GB
    Physical Device Handle: 0x001C
    Memory Array Mapped Address Handle: 0x001B
    Partition Row Position: Unknown
    Interleave Position: Unknown
    Interleaved Data Depth: Unknown

Handle 0x001E, DMI type 17, 27 bytes
Memory Device
    Array Handle: 0x001A
    Error Information Handle: Not Provided
    Total Width: 64 bits
    Data Width: 64 bits
    Size: 1024 MB
    Form Factor: SODIMM
    Set: None
    Locator: SODIMM1
    Bank Locator: BANK1
    Type: DDR2
    Type Detail: Synchronous
    Speed: 533 MHz (1.9 ns)
    Manufacturer: N/A
    Serial Number: N/A
    Asset Tag: N/A
    Part Number: N/A

Handle 0x001F, DMI type 20, 19 bytes
Memory Device Mapped Address
    Starting Address: 0x00040000000
    Ending Address: 0x0007FFFFFFF
    Range Size: 1 GB
    Physical Device Handle: 0x001E
    Memory Array Mapped Address Handle: 0x001B
    Partition Row Position: Unknown
    Interleave Position: Unknown
    Interleaved Data Depth: Unknown

Handle 0x0020, DMI type 200, 7 bytes
OEM-specific Type
    Header and Data:
        C8 07 20 00 01 02 03
    Strings:
        1043
        F7F
        203

Handle 0x0021, DMI type 127, 4 bytes
End Of Table

root at glavkos-laptop:~#
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091214/dfbc6a24/attachment.html>

From jose1711 at gmail.com  Tue Dec 15 00:03:30 2009
From: jose1711 at gmail.com (Jozef Riha)
Date: Tue, 15 Dec 2009 00:03:30 +0100
Subject: [Linux-uvc-devel] please add note to MSI StarCam 370i at
	http://linux-uvc.berlios.de/#devices
Message-ID: <51be034e0912141503h188185bchb8f1d2d81224c8e4@mail.gmail.com>

hello,

please make a note next to MSI Starcam 370i (1b3b:2951). As of kernel
2.6.32 it seems that the camera is not working 100 % since missing
automatic white balance (and maybe also gain) makes colors look
"washed" anytime but day-light.

more info at http://www.spinics.net/lists/linux-media/msg13592.html

thank you,

joe


From pj.assis at gmail.com  Tue Dec 15 12:04:59 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 15 Dec 2009 11:04:59 +0000
Subject: [Linux-uvc-devel] please add note to MSI StarCam 370i at
	http://linux-uvc.berlios.de/#devices
In-Reply-To: <51be034e0912141503h188185bchb8f1d2d81224c8e4@mail.gmail.com>
References: <51be034e0912141503h188185bchb8f1d2d81224c8e4@mail.gmail.com>
Message-ID: <59cf47a80912150304h2adf2562yc0ad49faef280a3b@mail.gmail.com>

Hi,
If you check the mercurial repo at linuxtv.org, you will be able to
find a patch that solves that problem,
WB temperature and Hue are being blacklisted for all cameras due to a
bug in the driver.
Just follow the instructions on the driver page to download and
install the latest development version, that should fix it.

Regards,
Paulo

2009/12/14 Jozef Riha <jose1711 at gmail.com>:
> hello,
>
> please make a note next to MSI Starcam 370i (1b3b:2951). As of kernel
> 2.6.32 it seems that the camera is not working 100 % since missing
> automatic white balance (and maybe also gain) makes colors look
> "washed" anytime but day-light.
>
> more info at http://www.spinics.net/lists/linux-media/msg13592.html
>
> thank you,
>
> joe
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From palmax at gmail.com  Tue Dec 15 12:29:37 2009
From: palmax at gmail.com (palmax at gmail.com)
Date: Tue, 15 Dec 2009 12:29:37 +0100
Subject: [Linux-uvc-devel] [Linux-UVC] [UVC] I had opened a blog about my
	work. My first patch. What is a queue? :).
Message-ID: <209499a0912150329l60b4c228y96f71a1cf69a8a7@mail.gmail.com>

Hello


I had opened a new blog about my blog: http://palmax-uvc.blogspot.com
. It's written in spanish, but you may push the link "Translate to
english".

I think that uvc_video_suspend can have some useful commentaries for
helping readers. I send you a patch with some of them. If this idea to
get more commentaries can be interesting for you, I will bring you
patches with commentaries of linux-uvc code whenever I write them.

Now, I'm trying to understand how you manage queue, but it isn't easy
for a newbie :).


Good bye
Palmax


From jose1711 at gmail.com  Tue Dec 15 16:47:03 2009
From: jose1711 at gmail.com (Jozef Riha)
Date: Tue, 15 Dec 2009 16:47:03 +0100
Subject: [Linux-uvc-devel] please add note to MSI StarCam 370i at
	http://linux-uvc.berlios.de/#devices
In-Reply-To: <59cf47a80912150304h2adf2562yc0ad49faef280a3b@mail.gmail.com>
References: <51be034e0912141503h188185bchb8f1d2d81224c8e4@mail.gmail.com>
	<59cf47a80912150304h2adf2562yc0ad49faef280a3b@mail.gmail.com>
Message-ID: <51be034e0912150747g5e4e4544he4e00e30d5175847@mail.gmail.com>

Hi Paulo,

you asked me to run dmesg | grep blacklist, remember? This returned an
empty output. Is there still a hope for me even then?

Cheers,

Jozef

On Tue, Dec 15, 2009 at 12:04 PM, Paulo Assis <pj.assis at gmail.com> wrote:
> Hi,
> If you check the mercurial repo at linuxtv.org, you will be able to
> find a patch that solves that problem,
> WB temperature and Hue are being blacklisted for all cameras due to a
> bug in the driver.
> Just follow the instructions on the driver page to download and
> install the latest development version, that should fix it.
>
> Regards,
> Paulo
>
> 2009/12/14 Jozef Riha <jose1711 at gmail.com>:
>> hello,
>>
>> please make a note next to MSI Starcam 370i (1b3b:2951). As of kernel
>> 2.6.32 it seems that the camera is not working 100 % since missing
>> automatic white balance (and maybe also gain) makes colors look
>> "washed" anytime but day-light.
>>
>> more info at http://www.spinics.net/lists/linux-media/msg13592.html
>>
>> thank you,
>>
>> joe
>> _______________________________________________
>> Linux-uvc-devel mailing list
>> Linux-uvc-devel at lists.berlios.de
>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


From pj.assis at gmail.com  Tue Dec 15 17:54:22 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 15 Dec 2009 16:54:22 +0000
Subject: [Linux-uvc-devel] please add note to MSI StarCam 370i at
	http://linux-uvc.berlios.de/#devices
In-Reply-To: <51be034e0912150747g5e4e4544he4e00e30d5175847@mail.gmail.com>
References: <51be034e0912141503h188185bchb8f1d2d81224c8e4@mail.gmail.com>
	<59cf47a80912150304h2adf2562yc0ad49faef280a3b@mail.gmail.com>
	<51be034e0912150747g5e4e4544he4e00e30d5175847@mail.gmail.com>
Message-ID: <59cf47a80912150854w3c197fabx383b8b68007be863@mail.gmail.com>

Josef,
try:
dmesg | grep "black listed"

:)

Did you try it under windows ?
How did the colors look like ?

Regards,
Paulo

2009/12/15 Jozef Riha <jose1711 at gmail.com>:
> Hi Paulo,
>
> you asked me to run dmesg | grep blacklist, remember? This returned an
> empty output. Is there still a hope for me even then?
>
> Cheers,
>
> Jozef
>
> On Tue, Dec 15, 2009 at 12:04 PM, Paulo Assis <pj.assis at gmail.com> wrote:
>> Hi,
>> If you check the mercurial repo at linuxtv.org, you will be able to
>> find a patch that solves that problem,
>> WB temperature and Hue are being blacklisted for all cameras due to a
>> bug in the driver.
>> Just follow the instructions on the driver page to download and
>> install the latest development version, that should fix it.
>>
>> Regards,
>> Paulo
>>
>> 2009/12/14 Jozef Riha <jose1711 at gmail.com>:
>>> hello,
>>>
>>> please make a note next to MSI Starcam 370i (1b3b:2951). As of kernel
>>> 2.6.32 it seems that the camera is not working 100 % since missing
>>> automatic white balance (and maybe also gain) makes colors look
>>> "washed" anytime but day-light.
>>>
>>> more info at http://www.spinics.net/lists/linux-media/msg13592.html
>>>
>>> thank you,
>>>
>>> joe
>>> _______________________________________________
>>> Linux-uvc-devel mailing list
>>> Linux-uvc-devel at lists.berlios.de
>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From linux at rainbow-software.org  Tue Dec 15 22:15:19 2009
From: linux at rainbow-software.org (Ondrej Zary)
Date: Tue, 15 Dec 2009 22:15:19 +0100
Subject: [Linux-uvc-devel] uvcvideo Logitech patch
In-Reply-To: <4B27DD88.3090900@tnode.com>
References: <4B27DD88.3090900@tnode.com>
Message-ID: <200912152215.21467.linux@rainbow-software.org>

On Tuesday 15 December 2009 20:03:36 Mitar wrote:
> Hi!
>
> I have Logitech QuickCam Pro 9000 webcam and I had the same problems
> described here:
>
> http://patchwork.kernel.org/patch/52261/
>
> I have applied the patch and it did not help. But it helped when I
> increased UVC_CTRL_CONTROL_TIMEOUT to 1000 and
> UVC_CTRL_STREAMING_TIMEOUT 5000. So 300 and 3000 values were not enough.
> I do not know if it was really necessary to increase
> UVC_CTRL_CONTROL_TIMEOUT or if it would be enough something between 3000
> and 5000 for UVC_CTRL_STREAMING_TIMEOUT as I did not have more time to
> test it.
>
> So maybe 5000 would be a good default for UVC_CTRL_STREAMING_TIMEOUT?
>
> I have been doing this on 2.6.30 amd64 system.
>
> Just to let you know. And thanks for the patch.
>
>
> Mitar

[Added UVC mailing lists to CC]


-- 
Ondrej Zary


From palmax at gmail.com  Wed Dec 16 11:38:28 2009
From: palmax at gmail.com (palmax at gmail.com)
Date: Wed, 16 Dec 2009 11:38:28 +0100
Subject: [Linux-uvc-devel] [UVC] Break =>
	http://lxr.linux.no/#linux+v2.6.32/drivers/media/video/uvc/uvc_video.c#L955
Message-ID: <209499a0912160238t647c2a89ica64a942ad732dd1@mail.gmail.com>

Hello

I'm reading uvc_video.c but I don't understand what you are doing in
the break of line 955 (
http://lxr.linux.no/#linux+v2.6.32/drivers/media/video/uvc/uvc_video.c#L955
). If you don't have enough bandwidth for sending packages, where will
it go?

Thanks for your help
Palmax


From shaohuang at gmail.com  Wed Dec 16 20:33:55 2009
From: shaohuang at gmail.com (Brian Pin)
Date: Wed, 16 Dec 2009 11:33:55 -0800
Subject: [Linux-uvc-devel] [UVC] Break =>
	http://lxr.linux.no/#linux+v2.6.32/drivers/media/video/uvc/uvc_video.c#L955
In-Reply-To: <209499a0912160238t647c2a89ica64a942ad732dd1@mail.gmail.com>
References: <209499a0912160238t647c2a89ica64a942ad732dd1@mail.gmail.com>
Message-ID: <a81f87bb0912161133g577af58dx1419bdf104911db4@mail.gmail.com>

Hi,

I think you might misunderstood the code, the code in line 955 which you
pointed out means when there is a alternative interface whose endpoint has
enough packet size for transferring the "bandwidth" amount of data which is
decided by the streaming negotiation, then it is time to break the loop.

It is quite normal, I think nothing wrong in it, isn't it?

Brian

On Wed, Dec 16, 2009 at 2:38 AM, <palmax at gmail.com> wrote:

> Hello
>
> I'm reading uvc_video.c but I don't understand what you are doing in
> the break of line 955 (
> http://lxr.linux.no/#linux+v2.6.32/drivers/media/video/uvc/uvc_video.c#L955
> ). If you don't have enough bandwidth for sending packages, where will
> it go?
>
> Thanks for your help
> Palmax
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>



-- 
Best Regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091216/6f9f6ef9/attachment.html>

From jose1711 at gmail.com  Wed Dec 16 21:57:35 2009
From: jose1711 at gmail.com (Jozef Riha)
Date: Wed, 16 Dec 2009 21:57:35 +0100
Subject: [Linux-uvc-devel] please add note to MSI StarCam 370i at
	http://linux-uvc.berlios.de/#devices
In-Reply-To: <59cf47a80912150854w3c197fabx383b8b68007be863@mail.gmail.com>
References: <51be034e0912141503h188185bchb8f1d2d81224c8e4@mail.gmail.com>
	<59cf47a80912150304h2adf2562yc0ad49faef280a3b@mail.gmail.com>
	<51be034e0912150747g5e4e4544he4e00e30d5175847@mail.gmail.com>
	<59cf47a80912150854w3c197fabx383b8b68007be863@mail.gmail.com>
Message-ID: <51be034e0912161257u56038ca3n788189bb6b98f933@mail.gmail.com>

[jose at darkstar ~]$ lsmod|grep ^uvcvideo
uvcvideo               54623  0
[jose at darkstar ~]$ dmesg | grep black
[jose at darkstar ~]$

i did not yet try neither on vista nor 7 using the OS supplied drivers
- i'll need to find someone with this system installed first :-)

thank you for your interest,

joe

On Tue, Dec 15, 2009 at 5:54 PM, Paulo Assis <pj.assis at gmail.com> wrote:
> Josef,
> try:
> dmesg | grep "black listed"
>
> :)
>
> Did you try it under windows ?
> How did the colors look like ?
>
> Regards,
> Paulo
>
> 2009/12/15 Jozef Riha <jose1711 at gmail.com>:
>> Hi Paulo,
>>
>> you asked me to run dmesg | grep blacklist, remember? This returned an
>> empty output. Is there still a hope for me even then?
>>
>> Cheers,
>>
>> Jozef
>>
>> On Tue, Dec 15, 2009 at 12:04 PM, Paulo Assis <pj.assis at gmail.com> wrote:
>>> Hi,
>>> If you check the mercurial repo at linuxtv.org, you will be able to
>>> find a patch that solves that problem,
>>> WB temperature and Hue are being blacklisted for all cameras due to a
>>> bug in the driver.
>>> Just follow the instructions on the driver page to download and
>>> install the latest development version, that should fix it.
>>>
>>> Regards,
>>> Paulo
>>>
>>> 2009/12/14 Jozef Riha <jose1711 at gmail.com>:
>>>> hello,
>>>>
>>>> please make a note next to MSI Starcam 370i (1b3b:2951). As of kernel
>>>> 2.6.32 it seems that the camera is not working 100 % since missing
>>>> automatic white balance (and maybe also gain) makes colors look
>>>> "washed" anytime but day-light.
>>>>
>>>> more info at http://www.spinics.net/lists/linux-media/msg13592.html
>>>>
>>>> thank you,
>>>>
>>>> joe


From pj.assis at gmail.com  Wed Dec 16 23:39:29 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Wed, 16 Dec 2009 22:39:29 +0000
Subject: [Linux-uvc-devel] please add note to MSI StarCam 370i at
	http://linux-uvc.berlios.de/#devices
In-Reply-To: <51be034e0912161257u56038ca3n788189bb6b98f933@mail.gmail.com>
References: <51be034e0912141503h188185bchb8f1d2d81224c8e4@mail.gmail.com>
	<59cf47a80912150304h2adf2562yc0ad49faef280a3b@mail.gmail.com>
	<51be034e0912150747g5e4e4544he4e00e30d5175847@mail.gmail.com>
	<59cf47a80912150854w3c197fabx383b8b68007be863@mail.gmail.com>
	<51be034e0912161257u56038ca3n788189bb6b98f933@mail.gmail.com>
Message-ID: <59cf47a80912161439t4a7a7b10s2f659541f1b7ea2e@mail.gmail.com>

Josef.
There was also a older version of this model that used gspca and
although it add several color controls the end result was pretty much
the same, very bad colors:
http://lists.berlios.de/pipermail/linux-uvc-devel/2009-August/005072.html

So I would say that the newer model uses the same or similar
sensor/optics, and that the resulting picture ends up overexposed or
with a gain increased in such a way that produces that sort of washed
colors (low contrast).
This can indicate a low quality/low sensitive cmos sensor (and
probably also low quality plastic optics). With a better sensor (CCD
or high quality cmos) smaller increases in gain and exposure would be
enough to produce a good image, even in low light. It can also be that
the firmware that controls these parameters is just bad :-(

You can however try to reduce the fps value, this may (depending on
the firmware) increase the exposure time and reduce gain producing a
little better image (at least in some cameras I've tested reducing fps
makes for a brighter image).

Regards,
Paulo

2009/12/16 Jozef Riha <jose1711 at gmail.com>:
> [jose at darkstar ~]$ lsmod|grep ^uvcvideo
> uvcvideo ? ? ? ? ? ? ? 54623 ?0
> [jose at darkstar ~]$ dmesg | grep black
> [jose at darkstar ~]$
>
> i did not yet try neither on vista nor 7 using the OS supplied drivers
> - i'll need to find someone with this system installed first :-)
>
> thank you for your interest,
>
> joe
>
> On Tue, Dec 15, 2009 at 5:54 PM, Paulo Assis <pj.assis at gmail.com> wrote:
>> Josef,
>> try:
>> dmesg | grep "black listed"
>>
>> :)
>>
>> Did you try it under windows ?
>> How did the colors look like ?
>>
>> Regards,
>> Paulo
>>
>> 2009/12/15 Jozef Riha <jose1711 at gmail.com>:
>>> Hi Paulo,
>>>
>>> you asked me to run dmesg | grep blacklist, remember? This returned an
>>> empty output. Is there still a hope for me even then?
>>>
>>> Cheers,
>>>
>>> Jozef
>>>
>>> On Tue, Dec 15, 2009 at 12:04 PM, Paulo Assis <pj.assis at gmail.com> wrote:
>>>> Hi,
>>>> If you check the mercurial repo at linuxtv.org, you will be able to
>>>> find a patch that solves that problem,
>>>> WB temperature and Hue are being blacklisted for all cameras due to a
>>>> bug in the driver.
>>>> Just follow the instructions on the driver page to download and
>>>> install the latest development version, that should fix it.
>>>>
>>>> Regards,
>>>> Paulo
>>>>
>>>> 2009/12/14 Jozef Riha <jose1711 at gmail.com>:
>>>>> hello,
>>>>>
>>>>> please make a note next to MSI Starcam 370i (1b3b:2951). As of kernel
>>>>> 2.6.32 it seems that the camera is not working 100 % since missing
>>>>> automatic white balance (and maybe also gain) makes colors look
>>>>> "washed" anytime but day-light.
>>>>>
>>>>> more info at http://www.spinics.net/lists/linux-media/msg13592.html
>>>>>
>>>>> thank you,
>>>>>
>>>>> joe
>


From usezam at gmail.com  Fri Dec 18 18:39:47 2009
From: usezam at gmail.com (Aleksandr Zagorodnikov)
Date: Fri, 18 Dec 2009 20:39:47 +0300
Subject: [Linux-uvc-devel] uvc camera
Message-ID: <45133a700912180939i7a4087e9r8b85dc3a7a02f304@mail.gmail.com>

I have notebook hp tx2650er and my UVC device is not listed.

Bus 007 Device 002: ID 04f2:b103 Chicony Electronics Co., Ltd
# lsusb -v -d 04f2:b103
Bus 007 Device 002: ID 04f2:b103 Chicony Electronics Co., Ltd
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x04f2 Chicony Electronics Co., Ltd
  idProduct          0xb103
  bcdDevice           36.04
  iManufacturer           2 Chicony Electronics Co., Ltd.
  iProduct                1 CKF7073
  iSerial                 3 SN0001
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          543
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower               98mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               5 HP Webcam
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              5 HP Webcam
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength          103
        dwClockFrequency       15.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               5
        iTerminal               0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {7033f028-1163-2e4a-
ba2c-6890eb334016}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            1
        bmControls( 0)       0x0f
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 5
        guidExtensionCode         {3fae1228-d7bc-114e-
a357-6f1edef7d61d}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          4
        bControlSize            1
        bmControls( 0)       0xff
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000157f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0
        bmVideoStandards     0x 0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval               6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         1
        wTotalLength                      297
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       2
        bStillCaptureMethod                 0
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4
(FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16

        bDefaultFrameIndex                  1

        bAspectRatioX                       0

        bAspectRatioY                       0

        bmInterlaceFlags                 0x00

          Interlaced stream or variable: No

          Fields per frame: 1 fields

          Field 1 first: No

          Field pattern: Field 1 only

          bCopyProtect                      0

      VideoStreaming Interface Descriptor:

        bLength                            50

        bDescriptorType                    36

        bDescriptorSubtype                  5
(FRAME_UNCOMPRESSED)
        bFrameIndex                         1

        bmCapabilities                   0x00

          Still image unsupported

        wWidth                            640

        wHeight                           480

        dwMinBitRate                  3072000

        dwMaxBitRate                 18432000

        dwMaxVideoFrameBufferSize      614400

        dwDefaultFrameInterval         333333

        bFrameIntervalType                  6

        dwFrameInterval( 0)            333333

        dwFrameInterval( 1)            400000

        dwFrameInterval( 2)            500000

        dwFrameInterval( 3)            666666

        dwFrameInterval( 4)           1000000

        dwFrameInterval( 5)           2000000

      VideoStreaming Interface Descriptor:

        bLength                            50

        bDescriptorType                    36

        bDescriptorSubtype                  5
(FRAME_UNCOMPRESSED)
        bFrameIndex                         2

        bmCapabilities                   0x00

          Still image unsupported

        wWidth                            352

        wHeight                           288

        dwMinBitRate                  1013760

        dwMaxBitRate                  6082560

        dwMaxVideoFrameBufferSize      202752

        dwDefaultFrameInterval         333333

        bFrameIntervalType                  6

        dwFrameInterval( 0)            333333

        dwFrameInterval( 1)            400000

        dwFrameInterval( 2)            500000

        dwFrameInterval( 3)            666666

        dwFrameInterval( 4)           1000000

        dwFrameInterval( 5)           2000000

      VideoStreaming Interface Descriptor:

        bLength                            50

        bDescriptorType                    36

        bDescriptorSubtype                  5
(FRAME_UNCOMPRESSED)
        bFrameIndex                         3

        bmCapabilities                   0x00

          Still image unsupported

        wWidth                            320

        wHeight                           240

        dwMinBitRate                   768000

        dwMaxBitRate                  4608000

        dwMaxVideoFrameBufferSize      153600

        dwDefaultFrameInterval         333333

        bFrameIntervalType                  6

        dwFrameInterval( 0)            333333

        dwFrameInterval( 1)            400000

        dwFrameInterval( 2)            500000

        dwFrameInterval( 3)            666666

        dwFrameInterval( 4)           1000000

        dwFrameInterval( 5)           2000000

      VideoStreaming Interface Descriptor:

        bLength                            50

        bDescriptorType                    36

        bDescriptorSubtype                  5
(FRAME_UNCOMPRESSED)
        bFrameIndex                         4

        bmCapabilities                   0x00

          Still image unsupported

        wWidth                            176

        wHeight                           144

        dwMinBitRate                   253440

        dwMaxBitRate                  1520640

        dwMaxVideoFrameBufferSize       50688

        dwDefaultFrameInterval         333333

        bFrameIntervalType                  6

        dwFrameInterval( 0)            333333

        dwFrameInterval( 1)            400000

        dwFrameInterval( 2)            500000

        dwFrameInterval( 3)            666666

        dwFrameInterval( 4)           1000000

        dwFrameInterval( 5)           2000000

      VideoStreaming Interface Descriptor:

        bLength                            50

        bDescriptorType                    36

        bDescriptorSubtype                  5
(FRAME_UNCOMPRESSED)
        bFrameIndex                         5

        bmCapabilities                   0x00

          Still image unsupported

        wWidth                            160

        wHeight                           120

        dwMinBitRate                   192000

        dwMaxBitRate                  1152000

        dwMaxVideoFrameBufferSize       38400

        dwDefaultFrameInterval         333333

        bFrameIntervalType                  6

        dwFrameInterval( 0)            333333

        dwFrameInterval( 1)            400000

        dwFrameInterval( 2)            500000

        dwFrameInterval( 3)            666666

        dwFrameInterval( 4)           1000000

        dwFrameInterval( 5)           2000000

      VideoStreaming Interface Descriptor:

        bLength                             6

        bDescriptorType                    36

        bDescriptorSubtype                 13 (COLORFORMAT)

        bColorPrimaries                     1 (BT.709,sRGB)

        bTransferCharacteristics            1 (BT.709)

        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))

    Interface Descriptor:

      bLength                 9

      bDescriptorType         4

      bInterfaceNumber        1

      bAlternateSetting       1

      bNumEndpoints           1

      bInterfaceClass        14 Video

      bInterfaceSubClass      2 Video Streaming

      bInterfaceProtocol      0

      iInterface              0

      Endpoint Descriptor:

        bLength                 7

        bDescriptorType         5

        bEndpointAddress     0x81  EP 1 IN

        bmAttributes            5

          Transfer Type            Isochronous

          Synch Type               Asynchronous

          Usage Type               Data

        wMaxPacketSize     0x0080  1x 128 bytes

        bInterval               1

    Interface Descriptor:

      bLength                 9

      bDescriptorType         4

      bInterfaceNumber        1

      bAlternateSetting       2

      bNumEndpoints           1

      bInterfaceClass        14 Video

      bInterfaceSubClass      2 Video Streaming

      bInterfaceProtocol      0

      iInterface              0

      Endpoint Descriptor:

        bLength                 7

        bDescriptorType         5

        bEndpointAddress     0x81  EP 1 IN

        bmAttributes            5

          Transfer Type            Isochronous

          Synch Type               Asynchronous

          Usage Type               Data

        wMaxPacketSize     0x0100  1x 256 bytes

        bInterval               1

    Interface Descriptor:

      bLength                 9

      bDescriptorType         4

      bInterfaceNumber        1

      bAlternateSetting       3

      bNumEndpoints           1

      bInterfaceClass        14 Video

      bInterfaceSubClass      2 Video Streaming

      bInterfaceProtocol      0

      iInterface              0

      Endpoint Descriptor:

        bLength                 7

        bDescriptorType         5

        bEndpointAddress     0x81  EP 1 IN

        bmAttributes            5

          Transfer Type            Isochronous

          Synch Type               Asynchronous

          Usage Type               Data

        wMaxPacketSize     0x0320  1x 800 bytes

        bInterval               1

    Interface Descriptor:

      bLength                 9

      bDescriptorType         4

      bInterfaceNumber        1

      bAlternateSetting       4

      bNumEndpoints           1

      bInterfaceClass        14 Video

      bInterfaceSubClass      2 Video Streaming

      bInterfaceProtocol      0

      iInterface              0

      Endpoint Descriptor:

        bLength                 7

        bDescriptorType         5

        bEndpointAddress     0x81  EP 1 IN

        bmAttributes            5

          Transfer Type            Isochronous

          Synch Type               Asynchronous

          Usage Type               Data

        wMaxPacketSize     0x0b20  2x 800 bytes

        bInterval               1

    Interface Descriptor:

      bLength                 9

      bDescriptorType         4

      bInterfaceNumber        1

      bAlternateSetting       5

      bNumEndpoints           1

      bInterfaceClass        14 Video

      bInterfaceSubClass      2 Video Streaming

      bInterfaceProtocol      0

      iInterface              0

      Endpoint Descriptor:

        bLength                 7

        bDescriptorType         5

        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1320  3x 800 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0002
  (Bus Powered)
  Remote Wakeup Enabled

# dmesg | egrep -i uvc
uvcvideo: disagrees about version of symbol
v4l_compat_translate_ioctl
uvcvideo: Unknown symbol v4l_compat_translate_ioctl
uvcvideo: disagrees about version of symbol video_devdata
uvcvideo: Unknown symbol video_devdata
uvcvideo: disagrees about version of symbol
video_unregister_device
uvcvideo: Unknown symbol video_unregister_device
uvcvideo: disagrees about version of symbol video_device_alloc
uvcvideo: Unknown symbol video_device_alloc
uvcvideo: disagrees about version of symbol
video_register_device
uvcvideo: Unknown symbol video_register_device
uvcvideo: disagrees about version of symbol video_usercopy
uvcvideo: Unknown symbol video_usercopy
uvcvideo: disagrees about version of symbol
video_device_release
uvcvideo: Unknown symbol video_device_release
uvcvideo: disagrees about version of symbol
v4l_compat_translate_ioctl
uvcvideo: Unknown symbol v4l_compat_translate_ioctl
uvcvideo: disagrees about version of symbol video_devdata
uvcvideo: Unknown symbol video_devdata
uvcvideo: disagrees about version of symbol
video_unregister_device
uvcvideo: Unknown symbol video_unregister_device
uvcvideo: disagrees about version of symbol video_device_alloc
uvcvideo: Unknown symbol video_device_alloc
uvcvideo: disagrees about version of symbol
video_register_device
uvcvideo: Unknown symbol video_register_device
uvcvideo: disagrees about version of symbol video_usercopy
uvcvideo: Unknown symbol video_usercopy
uvcvideo: disagrees about version of symbol
video_device_release
uvcvideo: Unknown symbol video_device_release

dmesg | grep uvc
uvcvideo: Found UVC 1.00 device CKF7073 (04f2:b103)
uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp.
26).
uvcvideo: Failed to query (129) UVC control 1 (unit 0) : -32 (exp.
26).
uvcvideo: Failed to initialize the device (-5).
usbcore: registered new interface driver uvcvideo

 luvcview
luvcview 0.2.5

SDL information:
  Video driver: x11
  A window manager is available
Device information:
  Device path:  /dev/video0
ERROR opening V4L interface: No such file or directory
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091218/6cd65813/attachment.html>

From yybingyybing at gmail.com  Sat Dec 19 02:33:42 2009
From: yybingyybing at gmail.com (=?GB2312?B?zrXR3rHz?=)
Date: Sat, 19 Dec 2009 09:33:42 +0800
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
Message-ID: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>

Hello everyone,

        My uvc devic ID is 0c45:62c0 . I can use it in my VM which os is
ubuntu 8.04. We want to use it in the OMAP3530-MINI board.
I don't know how complier the UVC source in my VM and then it can be used in
the OMAP3530-MINI. By the way, the kernel version is 2.6.24-26-generic in my
VM and it in the OMAP3530-MINI is 2.6.28.

        Could someone help me?
        Sorry for my pool English.

Best wishes.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091219/7815d7c8/attachment.html>

From shaohuang at gmail.com  Sat Dec 19 03:12:16 2009
From: shaohuang at gmail.com (Brian Pin)
Date: Fri, 18 Dec 2009 18:12:16 -0800
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
Message-ID: <a81f87bb0912181812m3d09ce4dmfde8821e1fcaaef6@mail.gmail.com>

Hi
2.6.28 already contains uvc host driver implementation.
You just need to find out 'USB_VIDEO_CLASS' during config. then you will
have the uvc driver support



On Fri, Dec 18, 2009 at 5:33 PM, ??? <yybingyybing at gmail.com> wrote:

> Hello everyone,
>
>         My uvc devic ID is 0c45:62c0 . I can use it in my VM which os is
> ubuntu 8.04. We want to use it in the OMAP3530-MINI board.
> I don't know how complier the UVC source in my VM and then it can be used
> in the OMAP3530-MINI. By the way, the kernel version is 2.6.24-26-generic in
> my VM and it in the OMAP3530-MINI is 2.6.28.
>
>         Could someone help me?
>         Sorry for my pool English.
>
> Best wishes.
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>


-- 
Best Regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091218/8b10ede4/attachment.html>

From yybingyybing at gmail.com  Sat Dec 19 06:24:42 2009
From: yybingyybing at gmail.com (=?GB2312?B?zrXR3rHz?=)
Date: Sat, 19 Dec 2009 13:24:42 +0800
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <a81f87bb0912181812m3d09ce4dmfde8821e1fcaaef6@mail.gmail.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
	<a81f87bb0912181812m3d09ce4dmfde8821e1fcaaef6@mail.gmail.com>
Message-ID: <cc3a7cb10912182124h12f9fbc8j61788b5b00b251cf@mail.gmail.com>

Hi,
  After I configed USB_VIDEO_CLASS,  when I plug the UVC Device to the
board, and "dmesg",  there will be some error message as fllowing:

usb 1-1.4: device descriptor read/64, error 2
usb 1-1.4: new full speed USB device using musb_hdrc and address 5
usb 1-1.4: device descriptor read/64, error 2
usb 1-1.4: device descriptor read/64, error 2
usb 1-1.4: new full speed USB device using musb_hdrc and address 6
usb 1-1.4: device descriptor read/8, error 2
usb 1-1.4: device descriptor read/8, error 2
usb 1-1.4: new full speed USB device using musb_hdrc and address 7
usb 1-1.4: device descriptor read/8, error 2
usb 1-1.4: device descriptor read/8, error 2

and lsmod

Module                  Size  Used by
ipv6                  235192  12

I guess that the dirver hadn't insmod, so entry the UVC directory and
"modprobe uvcvideo"

Module                  Size  Used by
uvcvideo               54152  0
compat_ioctl32          1216  1 uvcvideo
videodev               31648  1 uvcvideo
v4l1_compat            14500  2 uvcvideo,videodev
ipv6                  235192  12

Then plug the UVC Device again, dmesg , nothing about UVC append.

lsusb, I can't find the DeviceId and VenderId about my UVC device. Is there
anything wrong ?

-- 
Best Regards

2009/12/19 Brian Pin <shaohuang at gmail.com>

> Hi
> 2.6.28 already contains uvc host driver implementation.
> You just need to find out 'USB_VIDEO_CLASS' during config. then you will
> have the uvc driver support
>
>
>
> On Fri, Dec 18, 2009 at 5:33 PM, ??? <yybingyybing at gmail.com> wrote:
>
>> Hello everyone,
>>
>>         My uvc devic ID is 0c45:62c0 . I can use it in my VM which os is
>> ubuntu 8.04. We want to use it in the OMAP3530-MINI board.
>> I don't know how complier the UVC source in my VM and then it can be used
>> in the OMAP3530-MINI. By the way, the kernel version is 2.6.24-26-generic in
>> my VM and it in the OMAP3530-MINI is 2.6.28.
>>
>>         Could someone help me?
>>         Sorry for my pool English.
>>
>> Best wishes.
>> _______________________________________________
>> Linux-uvc-devel mailing list
>> Linux-uvc-devel at lists.berlios.de
>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>
>>
>
>
> --
> Best Regards
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091219/4d8a33bb/attachment.html>

From shaohuang at gmail.com  Sat Dec 19 06:40:40 2009
From: shaohuang at gmail.com (Brian Pin)
Date: Fri, 18 Dec 2009 21:40:40 -0800
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <cc3a7cb10912182124h12f9fbc8j61788b5b00b251cf@mail.gmail.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
	<a81f87bb0912181812m3d09ce4dmfde8821e1fcaaef6@mail.gmail.com>
	<cc3a7cb10912182124h12f9fbc8j61788b5b00b251cf@mail.gmail.com>
Message-ID: <a81f87bb0912182140w25cf9782m47613796c04065b9@mail.gmail.com>

In this case I think you can't blame UVC, because it is shown your USB host
controller can not get descriptor successfully, let alone to let UVC driver
bind the device. So I think you should first check the device. See if its
working anywhere. Or check the roothub of the port, maybe it has something
wrong on it.
In anycase, it has nothing to do with UVC module because the host controller
driver doesn't even have a chance to bring up the UVC driver.



2009/12/18 ??? <yybingyybing at gmail.com>

> Hi,
>   After I configed USB_VIDEO_CLASS,  when I plug the UVC Device to the
> board, and "dmesg",  there will be some error message as fllowing:
>
> usb 1-1.4: device descriptor read/64, error 2
> usb 1-1.4: new full speed USB device using musb_hdrc and address 5
> usb 1-1.4: device descriptor read/64, error 2
> usb 1-1.4: device descriptor read/64, error 2
> usb 1-1.4: new full speed USB device using musb_hdrc and address 6
> usb 1-1.4: device descriptor read/8, error 2
> usb 1-1.4: device descriptor read/8, error 2
> usb 1-1.4: new full speed USB device using musb_hdrc and address 7
> usb 1-1.4: device descriptor read/8, error 2
> usb 1-1.4: device descriptor read/8, error 2
>
> and lsmod
>
> Module                  Size  Used by
> ipv6                  235192  12
>
> I guess that the dirver hadn't insmod, so entry the UVC directory and
> "modprobe uvcvideo"
>
> Module                  Size  Used by
> uvcvideo               54152  0
> compat_ioctl32          1216  1 uvcvideo
> videodev               31648  1 uvcvideo
> v4l1_compat            14500  2 uvcvideo,videodev
> ipv6                  235192  12
>
> Then plug the UVC Device again, dmesg , nothing about UVC append.
>
> lsusb, I can't find the DeviceId and VenderId about my UVC device. Is there
> anything wrong ?
>
> --
> Best Regards
>
> 2009/12/19 Brian Pin <shaohuang at gmail.com>
>
>> Hi
>> 2.6.28 already contains uvc host driver implementation.
>> You just need to find out 'USB_VIDEO_CLASS' during config. then you will
>> have the uvc driver support
>>
>>
>>
>> On Fri, Dec 18, 2009 at 5:33 PM, ??? <yybingyybing at gmail.com> wrote:
>>
>>> Hello everyone,
>>>
>>>         My uvc devic ID is 0c45:62c0 . I can use it in my VM which os is
>>> ubuntu 8.04. We want to use it in the OMAP3530-MINI board.
>>> I don't know how complier the UVC source in my VM and then it can be used
>>> in the OMAP3530-MINI. By the way, the kernel version is 2.6.24-26-generic in
>>> my VM and it in the OMAP3530-MINI is 2.6.28.
>>>
>>>         Could someone help me?
>>>         Sorry for my pool English.
>>>
>>> Best wishes.
>>> _______________________________________________
>>> Linux-uvc-devel mailing list
>>> Linux-uvc-devel at lists.berlios.de
>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>>
>>>
>>
>>
>> --
>> Best Regards
>>
>>
>


-- 
Best Regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091218/cceda0b1/attachment.html>

From gunchars at googlemail.com  Sat Dec 19 07:02:23 2009
From: gunchars at googlemail.com (=?UTF-8?Q?Guntars_A=C5=A1manis?=)
Date: Sat, 19 Dec 2009 15:02:23 +0900
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema 720p support
In-Reply-To: <284aa6060912182111n77b7fe18w220913f4694c77c1@mail.gmail.com>
References: <284aa6060912182111n77b7fe18w220913f4694c77c1@mail.gmail.com>
Message-ID: <284aa6060912182202j3bcc3bblc44014c9104ccf78@mail.gmail.com>

Hi, there!

I read on Linux UVC driver webpage that this camera is fully
supported, but couldn't find any additional information on either this
mailing list or elsewhere as this is a fairly new device.

So can anyone be so kind and provide me with "lsusb -v" output for this device ?

I am specifically interested whether it supports hardware mjpeg
compression as I plan to use it as a wireless IP webcam on an embedded
system.

Thank you in advance for any useful information.

G.


From laurent.pinchart at ideasonboard.com  Sat Dec 19 10:54:09 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 19 Dec 2009 10:54:09 +0100
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <a81f87bb0912182140w25cf9782m47613796c04065b9@mail.gmail.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
	<cc3a7cb10912182124h12f9fbc8j61788b5b00b251cf@mail.gmail.com>
	<a81f87bb0912182140w25cf9782m47613796c04065b9@mail.gmail.com>
Message-ID: <200912191054.09985.laurent.pinchart@ideasonboard.com>

On Saturday 19 December 2009 06:40:40 Brian Pin wrote:
> In this case I think you can't blame UVC, because it is shown your USB host
> controller can not get descriptor successfully, let alone to let UVC driver
> bind the device. So I think you should first check the device. See if its
> working anywhere. Or check the roothub of the port, maybe it has something
> wrong on it.

Try to add an external hub, the device might require more power than the OMAP 
board can provide.

> In anycase, it has nothing to do with UVC module because the host
>  controller driver doesn't even have a chance to bring up the UVC driver.

-- 
Regards,

Laurent Pinchart


From pj.assis at gmail.com  Sat Dec 19 11:01:02 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Sat, 19 Dec 2009 10:01:02 +0000
Subject: [Linux-uvc-devel] Microsoft LifeCam Cinema 720p support
In-Reply-To: <284aa6060912182202j3bcc3bblc44014c9104ccf78@mail.gmail.com>
References: <284aa6060912182111n77b7fe18w220913f4694c77c1@mail.gmail.com>
	<284aa6060912182202j3bcc3bblc44014c9104ccf78@mail.gmail.com>
Message-ID: <59cf47a80912190201n154c71a6l3f9f2956b861442e@mail.gmail.com>

Hi,
Please check this thread:
http://ubuntuforums.org/showthread.php?p=8480893

The camera supports both YUYV and MJPG

However it seems to have some timing issues as it crashes a bit
randomly while streaming (requiring a format "reset" - VIDIOC_S_FMT )

Best regards,
Paulo

2009/12/19 Guntars A?manis <gunchars at googlemail.com>:
> Hi, there!
>
> I read on Linux UVC driver webpage that this camera is fully
> supported, but couldn't find any additional information on either this
> mailing list or elsewhere as this is a fairly new device.
>
> So can anyone be so kind and provide me with "lsusb -v" output for this device ?
>
> I am specifically interested whether it supports hardware mjpeg
> compression as I plan to use it as a wireless IP webcam on an embedded
> system.
>
> Thank you in advance for any useful information.
>
> G.
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From a.bonometti at gmail.com  Sat Dec 19 15:04:32 2009
From: a.bonometti at gmail.com (Alessandro Bonometti)
Date: Sat, 19 Dec 2009 15:04:32 +0100
Subject: [Linux-uvc-devel] Microsoft Lifecam NX-6000
In-Reply-To: <200912131323.49439.laurent.pinchart@ideasonboard.com>
References: <200912011507.13289.a.bonometti@studiofarma.it>
	<200912071712.18986.a.bonometti@gmail.com>
	<200912131323.49439.laurent.pinchart@ideasonboard.com>
Message-ID: <200912191504.32437.a.bonometti@gmail.com>

On Sunday 13 December 2009 13:23:49 Laurent Pinchart wrote:


> It might be possible to work around the problem. Could you try to load the
> driver with quirks=0x102 and timeout=3000 ? If that help, please try only
>  one of those parameters to see which one fixes the problem.

"timeout" gives "unknow parameter".
With "Quirks=0x102" the camera works in luvcview, but not in Skype and kopete.
I think I'll buy myself a new webcam for Christmas :-]

Thanks,
AB


From a.bonometti at gmail.com  Sat Dec 19 15:04:32 2009
From: a.bonometti at gmail.com (Alessandro Bonometti)
Date: Sat, 19 Dec 2009 15:04:32 +0100
Subject: [Linux-uvc-devel] Microsoft Lifecam NX-6000
In-Reply-To: <200912131323.49439.laurent.pinchart@ideasonboard.com>
References: <200912011507.13289.a.bonometti@studiofarma.it>
	<200912071712.18986.a.bonometti@gmail.com>
	<200912131323.49439.laurent.pinchart@ideasonboard.com>
Message-ID: <200912191504.32437.a.bonometti@gmail.com>

On Sunday 13 December 2009 13:23:49 Laurent Pinchart wrote:


> It might be possible to work around the problem. Could you try to load the
> driver with quirks=0x102 and timeout=3000 ? If that help, please try only
>  one of those parameters to see which one fixes the problem.

"timeout" gives "unknow parameter".
With "Quirks=0x102" the camera works in luvcview, but not in Skype and kopete.
I think I'll buy myself a new webcam for Christmas :-]

Thanks,
AB


From blobster_nz at yahoo.com.au  Mon Dec 21 08:34:08 2009
From: blobster_nz at yahoo.com.au (Chris Wilkinson)
Date: Sun, 20 Dec 2009 23:34:08 -0800 (PST)
Subject: [Linux-uvc-devel] Simple way to do timelapse with webcam?
Message-ID: <920894.24250.qm@web56907.mail.re3.yahoo.com>

Hi there,

Sorry if this is not quite on topic.

I wish to use my webcam to capture some timelapse video of cloud/storm buildup here in Brisbane (it is summer thunderstorm season).

I've googled, but I cannot see a single step method. Most methods use scripts to grab frames every however long, but then require a 2nd command to recompile to video. I wish to bypass that by grabbing a frame every 30 or 60 frames (cam is 30fps), and directly encoding it into a video running at 25 or 30 fps. Docs for mencoder, ffmpeg, and other software, plus google cannot answer this for me.

I'm sure I've seen this done before, but this was 4-5 years ago and my memory of it is sketchy at best. Can anyone help? I want to avoid creating directories full of single frames that need to be recompiled, and would much prefer if the encoding process waited for new frames and just added them as they came in.

Kind regards,

Chris Wilkinson, Brisbane, Australia.



      __________________________________________________________________________________
See what's on at the movies in your area. Find out now: http://au.movies.yahoo.com/session-times/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091220/073bd58c/attachment.html>

From bobi at omegatim.com  Mon Dec 21 08:48:13 2009
From: bobi at omegatim.com (Borislav Gerassimov)
Date: Mon, 21 Dec 2009 09:48:13 +0200
Subject: [Linux-uvc-devel] Simple way to do timelapse with webcam?
In-Reply-To: <920894.24250.qm@web56907.mail.re3.yahoo.com>
References: <920894.24250.qm@web56907.mail.re3.yahoo.com>
Message-ID: <20091221094813.262731b7@slimmer.omegatim.kicks-ass.net>

On Sun, 20 Dec 2009 23:34:08 -0800 (PST)
Chris Wilkinson <blobster_nz at yahoo.com.au> wrote:

> Hi there,
> 
> Sorry if this is not quite on topic.
> 
> I wish to use my webcam to capture some timelapse video of
> cloud/storm buildup here in Brisbane (it is summer thunderstorm
> season).

Hi,
I'm using "motion" at home, it has a timelapse function, that may be
useful in your case. 
http://www.lavrsen.dk/twiki/bin/view/Motion/WebHome

Hope that I've helped.
-- 
Borislav Gerassimov
???????????????? ?????????, ?? ??????? ??? ?? ? ??????????!
Eco-friendly email - don't print if not necessary!


From fragabr at gmail.com  Mon Dec 21 17:28:26 2009
From: fragabr at gmail.com (=?UTF-8?B?RMOibmllbA==?= Fraga)
Date: Mon, 21 Dec 2009 14:28:26 -0200
Subject: [Linux-uvc-devel] Simple way to do timelapse with webcam?
References: <920894.24250.qm@web56907.mail.re3.yahoo.com>
	<20091221094813.262731b7@slimmer.omegatim.kicks-ass.net>
Message-ID: <aak407-pah.ln1@tux.abusar.org.br>

On Mon, 21 Dec 2009 09:48:13 +0200
Borislav Gerassimov <bobi at omegatim.com> wrote:

> I'm using "motion" at home, it has a timelapse function, that may be
> useful in your case. 
> http://www.lavrsen.dk/twiki/bin/view/Motion/WebHome

	But he doesn't want to process lots of single frame snapshot
files.

-- 
Linux 2.6.32: Man-Eating Seals of Antiquity




From pj.assis at gmail.com  Mon Dec 21 18:15:24 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Mon, 21 Dec 2009 17:15:24 +0000
Subject: [Linux-uvc-devel] Simple way to do timelapse with webcam?
In-Reply-To: <aak407-pah.ln1@tux.abusar.org.br>
References: <920894.24250.qm@web56907.mail.re3.yahoo.com>
	<20091221094813.262731b7@slimmer.omegatim.kicks-ass.net>
	<aak407-pah.ln1@tux.abusar.org.br>
Message-ID: <59cf47a80912210915h2baf8c7bo1d6c228aafaccf3a@mail.gmail.com>

Hi,
Here is a easy way:
 just use guvcview and increase the vid_sleep parameter in
.guvcviewrc, this will make the video grabber thread sleep for the
amount you specified, you can then just capture the resulting video
into avi,
To increase speed just fix the avi fps value in avidemux or some other
avi tool (matroska won't work as it sets a per frame timestamp)

Best regards,
Paulo

2009/12/21 D?niel Fraga <fragabr at gmail.com>:
> On Mon, 21 Dec 2009 09:48:13 +0200
> Borislav Gerassimov <bobi at omegatim.com> wrote:
>
>> I'm using "motion" at home, it has a timelapse function, that may be
>> useful in your case.
>> http://www.lavrsen.dk/twiki/bin/view/Motion/WebHome
>
> ? ? ? ?But he doesn't want to process lots of single frame snapshot
> files.
>
> --
> Linux 2.6.32: Man-Eating Seals of Antiquity
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From barsnick at gmx.net  Tue Dec 22 02:05:56 2009
From: barsnick at gmx.net (Moritz Barsnick)
Date: Tue, 22 Dec 2009 02:05:56 +0100
Subject: [Linux-uvc-devel] Simple way to do timelapse with webcam?
In-Reply-To: <aak407-pah.ln1@tux.abusar.org.br>
References: <920894.24250.qm@web56907.mail.re3.yahoo.com>
	<20091221094813.262731b7@slimmer.omegatim.kicks-ass.net>
	<aak407-pah.ln1@tux.abusar.org.br>
Message-ID: <20091222010556.GC27908@sunshine.barsnick.net>

Hi,

On Mon, Dec 21, 2009 at 14:28:26 -0200, D?niel Fraga wrote:
> On Mon, 21 Dec 2009 09:48:13 +0200
> Borislav Gerassimov <bobi at omegatim.com> wrote:
> > I'm using "motion" at home, it has a timelapse function, that may be
> > useful in your case. 
> 	But he doesn't want to process lots of single frame snapshot
> files.

But motion doesn't process single frame snapshots, it creates videos
directly if told to do so. (Unfortunately restricted to MPEG1 for some
stupid reason, if I read the docs correctly. But I think there should
be a way to trick it....)

Moritz


From shaohuang at gmail.com  Tue Dec 22 03:23:02 2009
From: shaohuang at gmail.com (Brian Pin)
Date: Mon, 21 Dec 2009 18:23:02 -0800
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <cc3a7cb10912211811w2cfecc6fx4650d60c0a71f4b3@mail.gmail.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
	<a81f87bb0912181812m3d09ce4dmfde8821e1fcaaef6@mail.gmail.com>
	<cc3a7cb10912182124h12f9fbc8j61788b5b00b251cf@mail.gmail.com>
	<a81f87bb0912182140w25cf9782m47613796c04065b9@mail.gmail.com>
	<cc3a7cb10912211811w2cfecc6fx4650d60c0a71f4b3@mail.gmail.com>
Message-ID: <a81f87bb0912211823g47619e0crb7e1ed0fd16e76ce@mail.gmail.com>

In my previous reply, I saw the error is not related to UVC driver.
Also you have tested another USB device (is it an UVC device? you have to be
specific)
If this device you tested is UVC device, then your UVC driver is working
fine.


2009/12/21 Yanbin Yue <yybingyybing at gmail.com>

> HI,
>
>      I have tested another USB device, its driver very simple, so it can
> work now. I guess, maybe I lost some config in the kernel configure, could
> you show me the must configure items whom if I chose then the UVC could
> work.
>      The attachment is my kernel configure file.
>
>      Thanks.
>
> --
> Best Regards
>
> 2009/12/19 Brian Pin <shaohuang at gmail.com>
>
>> In this case I think you can't blame UVC, because it is shown your USB
>> host controller can not get descriptor successfully, let alone to let UVC
>> driver bind the device. So I think you should first check the device. See if
>> its working anywhere. Or check the roothub of the port, maybe it has
>> something wrong on it.
>> In anycase, it has nothing to do with UVC module because the host
>> controller driver doesn't even have a chance to bring up the UVC driver.
>>
>>
>>
>> 2009/12/18 ??? <yybingyybing at gmail.com>
>>
>> Hi,
>>>   After I configed USB_VIDEO_CLASS,  when I plug the UVC Device to the
>>> board, and "dmesg",  there will be some error message as fllowing:
>>>
>>> usb 1-1.4: device descriptor read/64, error 2
>>> usb 1-1.4: new full speed USB device using musb_hdrc and address 5
>>> usb 1-1.4: device descriptor read/64, error 2
>>> usb 1-1.4: device descriptor read/64, error 2
>>> usb 1-1.4: new full speed USB device using musb_hdrc and address 6
>>> usb 1-1.4: device descriptor read/8, error 2
>>> usb 1-1.4: device descriptor read/8, error 2
>>> usb 1-1.4: new full speed USB device using musb_hdrc and address 7
>>> usb 1-1.4: device descriptor read/8, error 2
>>> usb 1-1.4: device descriptor read/8, error 2
>>>
>>> and lsmod
>>>
>>> Module                  Size  Used by
>>> ipv6                  235192  12
>>>
>>> I guess that the dirver hadn't insmod, so entry the UVC directory and
>>> "modprobe uvcvideo"
>>>
>>> Module                  Size  Used by
>>> uvcvideo               54152  0
>>> compat_ioctl32          1216  1 uvcvideo
>>> videodev               31648  1 uvcvideo
>>> v4l1_compat            14500  2 uvcvideo,videodev
>>> ipv6                  235192  12
>>>
>>> Then plug the UVC Device again, dmesg , nothing about UVC append.
>>>
>>> lsusb, I can't find the DeviceId and VenderId about my UVC device. Is
>>> there anything wrong ?
>>>
>>> --
>>> Best Regards
>>>
>>> 2009/12/19 Brian Pin <shaohuang at gmail.com>
>>>
>>>> Hi
>>>> 2.6.28 already contains uvc host driver implementation.
>>>> You just need to find out 'USB_VIDEO_CLASS' during config. then you will
>>>> have the uvc driver support
>>>>
>>>>
>>>>
>>>> On Fri, Dec 18, 2009 at 5:33 PM, ??? <yybingyybing at gmail.com> wrote:
>>>>
>>>>> Hello everyone,
>>>>>
>>>>>         My uvc devic ID is 0c45:62c0 . I can use it in my VM which os
>>>>> is ubuntu 8.04. We want to use it in the OMAP3530-MINI board.
>>>>> I don't know how complier the UVC source in my VM and then it can be
>>>>> used in the OMAP3530-MINI. By the way, the kernel version is
>>>>> 2.6.24-26-generic in my VM and it in the OMAP3530-MINI is 2.6.28.
>>>>>
>>>>>         Could someone help me?
>>>>>         Sorry for my pool English.
>>>>>
>>>>> Best wishes.
>>>>> _______________________________________________
>>>>> Linux-uvc-devel mailing list
>>>>> Linux-uvc-devel at lists.berlios.de
>>>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>>>>
>>>>>
>>>>
>>>>
>>>> --
>>>> Best Regards
>>>>
>>>>
>>>
>>
>>
>> --
>> Best Regards
>>
>>
>


-- 
Best Regards
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091221/e9aa95ed/attachment.html>

From yybingyybing at gmail.com  Tue Dec 22 03:43:05 2009
From: yybingyybing at gmail.com (Yanbin Yue)
Date: Tue, 22 Dec 2009 10:43:05 +0800
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <a81f87bb0912211823g47619e0crb7e1ed0fd16e76ce@mail.gmail.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
	<a81f87bb0912181812m3d09ce4dmfde8821e1fcaaef6@mail.gmail.com>
	<cc3a7cb10912182124h12f9fbc8j61788b5b00b251cf@mail.gmail.com>
	<a81f87bb0912182140w25cf9782m47613796c04065b9@mail.gmail.com>
	<cc3a7cb10912211811w2cfecc6fx4650d60c0a71f4b3@mail.gmail.com>
	<a81f87bb0912211823g47619e0crb7e1ed0fd16e76ce@mail.gmail.com>
Message-ID: <cc3a7cb10912211843y4d74a1dfk73856e484e1c29d7@mail.gmail.com>

    The device is is a  WIFI USB 2.0 device, it use the same USB slot, so I
think the USB controller could work fine now. The error message as fllowing
:

usb 1-1.4: device descriptor read/64, error 2
usb 1-1.4: new full speed USB device using musb_hdrc and address 5
usb 1-1.4: device descriptor read/8, error 2
usb 1-1.4: device descriptor read/8, error 2
usb 1-1.4: new full speed USB device using musb_hdrc and address 6
usb 1-1.4: device descriptor read/8, error 2
usb 1-1.4: device descriptor read/8, error 2

     I think the USB controller  couldn't find the right dirver, so it
display these error message.

 --
Best Regards

2009/12/22 Brian Pin <shaohuang at gmail.com>

> In my previous reply, I saw the error is not related to UVC driver.
> Also you have tested another USB device (is it an UVC device? you have to
> be specific)
> If this device you tested is UVC device, then your UVC driver is working
> fine.
>
>
> 2009/12/21 Yanbin Yue <yybingyybing at gmail.com>
>
> HI,
>>
>>      I have tested another USB device, its driver very simple, so it can
>> work now. I guess, maybe I lost some config in the kernel configure, could
>> you show me the must configure items whom if I chose then the UVC could
>> work.
>>      The attachment is my kernel configure file.
>>
>>      Thanks.
>>
>> --
>> Best Regards
>>
>> 2009/12/19 Brian Pin <shaohuang at gmail.com>
>>
>>> In this case I think you can't blame UVC, because it is shown your USB
>>> host controller can not get descriptor successfully, let alone to let UVC
>>> driver bind the device. So I think you should first check the device. See if
>>> its working anywhere. Or check the roothub of the port, maybe it has
>>> something wrong on it.
>>> In anycase, it has nothing to do with UVC module because the host
>>> controller driver doesn't even have a chance to bring up the UVC driver.
>>>
>>>
>>>
>>> 2009/12/18 ??? <yybingyybing at gmail.com>
>>>
>>> Hi,
>>>>   After I configed USB_VIDEO_CLASS,  when I plug the UVC Device to the
>>>> board, and "dmesg",  there will be some error message as fllowing:
>>>>
>>>> usb 1-1.4: device descriptor read/64, error 2
>>>> usb 1-1.4: new full speed USB device using musb_hdrc and address 5
>>>> usb 1-1.4: device descriptor read/64, error 2
>>>> usb 1-1.4: device descriptor read/64, error 2
>>>> usb 1-1.4: new full speed USB device using musb_hdrc and address 6
>>>> usb 1-1.4: device descriptor read/8, error 2
>>>> usb 1-1.4: device descriptor read/8, error 2
>>>> usb 1-1.4: new full speed USB device using musb_hdrc and address 7
>>>> usb 1-1.4: device descriptor read/8, error 2
>>>> usb 1-1.4: device descriptor read/8, error 2
>>>>
>>>> and lsmod
>>>>
>>>> Module                  Size  Used by
>>>> ipv6                  235192  12
>>>>
>>>> I guess that the dirver hadn't insmod, so entry the UVC directory and
>>>> "modprobe uvcvideo"
>>>>
>>>> Module                  Size  Used by
>>>> uvcvideo               54152  0
>>>> compat_ioctl32          1216  1 uvcvideo
>>>> videodev               31648  1 uvcvideo
>>>> v4l1_compat            14500  2 uvcvideo,videodev
>>>> ipv6                  235192  12
>>>>
>>>> Then plug the UVC Device again, dmesg , nothing about UVC append.
>>>>
>>>> lsusb, I can't find the DeviceId and VenderId about my UVC device. Is
>>>> there anything wrong ?
>>>>
>>>> --
>>>> Best Regards
>>>>
>>>> 2009/12/19 Brian Pin <shaohuang at gmail.com>
>>>>
>>>>> Hi
>>>>> 2.6.28 already contains uvc host driver implementation.
>>>>> You just need to find out 'USB_VIDEO_CLASS' during config. then you
>>>>> will have the uvc driver support
>>>>>
>>>>>
>>>>>
>>>>> On Fri, Dec 18, 2009 at 5:33 PM, ??? <yybingyybing at gmail.com> wrote:
>>>>>
>>>>>> Hello everyone,
>>>>>>
>>>>>>         My uvc devic ID is 0c45:62c0 . I can use it in my VM which os
>>>>>> is ubuntu 8.04. We want to use it in the OMAP3530-MINI board.
>>>>>> I don't know how complier the UVC source in my VM and then it can be
>>>>>> used in the OMAP3530-MINI. By the way, the kernel version is
>>>>>> 2.6.24-26-generic in my VM and it in the OMAP3530-MINI is 2.6.28.
>>>>>>
>>>>>>         Could someone help me?
>>>>>>         Sorry for my pool English.
>>>>>>
>>>>>> Best wishes.
>>>>>> _______________________________________________
>>>>>> Linux-uvc-devel mailing list
>>>>>> Linux-uvc-devel at lists.berlios.de
>>>>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>>>>>
>>>>>>
>>>>>
>>>>>
>>>>> --
>>>>> Best Regards
>>>>>
>>>>>
>>>>
>>>
>>>
>>> --
>>> Best Regards
>>>
>>>
>>
>
>
> --
> Best Regards
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091222/687395c3/attachment.html>

From yybingyybing at gmail.com  Tue Dec 22 04:14:33 2009
From: yybingyybing at gmail.com (Yanbin Yue)
Date: Tue, 22 Dec 2009 11:14:33 +0800
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <200912191054.09985.laurent.pinchart@ideasonboard.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
	<cc3a7cb10912182124h12f9fbc8j61788b5b00b251cf@mail.gmail.com>
	<a81f87bb0912182140w25cf9782m47613796c04065b9@mail.gmail.com>
	<200912191054.09985.laurent.pinchart@ideasonboard.com>
Message-ID: <cc3a7cb10912211914o5a9b7958oc0e704b897d1d152@mail.gmail.com>

I have used the external hub now, and the hub use external power. The error
still in the same.

2009/12/19 Laurent Pinchart <laurent.pinchart at ideasonboard.com>

> On Saturday 19 December 2009 06:40:40 Brian Pin wrote:
> > In this case I think you can't blame UVC, because it is shown your USB
> host
> > controller can not get descriptor successfully, let alone to let UVC
> driver
> > bind the device. So I think you should first check the device. See if its
> > working anywhere. Or check the roothub of the port, maybe it has
> something
> > wrong on it.
>
> Try to add an external hub, the device might require more power than the
> OMAP
> board can provide.
>
> > In anycase, it has nothing to do with UVC module because the host
> >  controller driver doesn't even have a chance to bring up the UVC driver.
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091222/cc0f84df/attachment.html>

From yybingyybing at gmail.com  Tue Dec 22 04:32:27 2009
From: yybingyybing at gmail.com (Yanbin Yue)
Date: Tue, 22 Dec 2009 11:32:27 +0800
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <cc3a7cb10912211914o5a9b7958oc0e704b897d1d152@mail.gmail.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
	<cc3a7cb10912182124h12f9fbc8j61788b5b00b251cf@mail.gmail.com>
	<a81f87bb0912182140w25cf9782m47613796c04065b9@mail.gmail.com>
	<200912191054.09985.laurent.pinchart@ideasonboard.com>
	<cc3a7cb10912211914o5a9b7958oc0e704b897d1d152@mail.gmail.com>
Message-ID: <cc3a7cb10912211932t51f6c8cjb3a4c2b892479443@mail.gmail.com>

And my UVC device id is 0c45 : 62c0.  When I search this code in the UVC
dirver source, I can't find any item.  Whether this device information need
I add to the source code?

2009/12/22 Yanbin Yue <yybingyybing at gmail.com>

> I have used the external hub now, and the hub use external power. The error
> still in the same.
>
> 2009/12/19 Laurent Pinchart <laurent.pinchart at ideasonboard.com>
>
> On Saturday 19 December 2009 06:40:40 Brian Pin wrote:
>> > In this case I think you can't blame UVC, because it is shown your USB
>> host
>> > controller can not get descriptor successfully, let alone to let UVC
>> driver
>> > bind the device. So I think you should first check the device. See if
>> its
>> > working anywhere. Or check the roothub of the port, maybe it has
>> something
>> > wrong on it.
>>
>> Try to add an external hub, the device might require more power than the
>> OMAP
>> board can provide.
>>
>> > In anycase, it has nothing to do with UVC module because the host
>> >  controller driver doesn't even have a chance to bring up the UVC
>> driver.
>>
>> --
>> Regards,
>>
>> Laurent Pinchart
>>
>
>


-- 
-- 
Best Regards
Yanbin Yue
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091222/e13cb6c8/attachment.html>

From uvc at darkcuriosities.com  Tue Dec 22 16:01:21 2009
From: uvc at darkcuriosities.com (Jeremy Figgins)
Date: Tue, 22 Dec 2009 09:01:21 -0600
Subject: [Linux-uvc-devel] Simple way to do timelapse with webcam?
In-Reply-To: <920894.24250.qm@web56907.mail.re3.yahoo.com>
References: <920894.24250.qm@web56907.mail.re3.yahoo.com>
Message-ID: <4B30DF41.3080305@darkcuriosities.com>

It seems like Paulo answered your question, but I'm curious why you
would want this behavior? I'm setting up a similar system right now and
I wanted the intermediate frames for analysis (so that I wouldn't have
to use a framegrabber on the video file). In my case, the script creates
a video file every 60 minutes.

One thing to remember is that most video formats compress by comparing
the similarities between the current frame and nearby frames. By not
having all of the frames available at the beginning of the compression
process, you might not get the best file size.

-Jeremy


From JacobFehr at smarttech.com  Tue Dec 22 19:32:38 2009
From: JacobFehr at smarttech.com (Jacob Fehr)
Date: Tue, 22 Dec 2009 11:32:38 -0700
Subject: [Linux-uvc-devel] Timestamp Accuracy Patch
In-Reply-To: <200911250217.19104.laurent.pinchart@ideasonboard.com>
References: <833B0B09C5041D42A9924A3BA6A12B9A028FB22085@CALMAIL-CMS.smarttech.inc>
	<200911250217.19104.laurent.pinchart@ideasonboard.com>
Message-ID: <833B0B09C5041D42A9924A3BA6A12B9A0375E949D3@CALMAIL-CMS.smarttech.inc>

Hey Laurent,

I'm just having a quick look at section 2.4.3.3 in the UVC spec. If I read that correctly, the SCR SOF counter is not necessarily the same as the USB SOF frame number. The device can maintain it's own 1 KHz counter and send that instead of the USBS SOF frame number. That would mean that there is no way to correlate device time to USB time for devices that maintain their own counter. The only thing the PTS, SCR could be used for is to determine interframe jitter/skew.

I have a camera that seems to take advantage of this. I modified the UVC driver to print out the SCR SOF and urb.start_frame then I plugged two cameras into the same USB controller. This is a sample log:

[  249.799452] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 7590
[  249.812207] uvcvideo: stream = 0xe9ea5000, sof = 1158
[  249.812217] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 7700
[  249.815195] uvcvideo: stream = 0xe9ea2000, sof = 843
[  249.815203] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 7723
[  249.830206] uvcvideo: stream = 0xe9ea5000, sof = 1174
[  249.830216] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 7834
[  249.833196] uvcvideo: stream = 0xe9ea2000, sof = 860
[  249.833205] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 7857
[  249.845958] uvcvideo: stream = 0xe9ea5000, sof = 1191
[  249.845967] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 7967
[  249.848949] uvcvideo: stream = 0xe9ea2000, sof = 877
[  249.848957] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 7990
[  249.861710] uvcvideo: stream = 0xe9ea5000, sof = 1208
[  249.861720] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 8100
[  249.864701] uvcvideo: stream = 0xe9ea2000, sof = 893
[  249.864710] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 8123
[  249.879704] uvcvideo: stream = 0xe9ea5000, sof = 1224
[  249.879714] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 41
[  249.882696] uvcvideo: stream = 0xe9ea2000, sof = 910
[  249.882705] uvcvideo: stream = 0xe9ea2000, urb->start_frame = 64
[  249.895457] uvcvideo: stream = 0xe9ea5000, sof = 1241
[  249.895466] uvcvideo: stream = 0xe9ea5000, urb->start_frame = 175
[  249.898451] uvcvideo: stream = 0xe9ea2000, sof = 927

Camera 0xe9ea5000 seems to be running off a different time reference from camera 0xe9ea2000. If the cameras did echo the USB SOF into the SCR they should track with urb->start_frame.

As far as I can tell there is no way to correlate the SCR SOF counter to the USB SOF. It looks like there is no way to (generically) determine the device latency... I can't tell when a device will use it's own counter or when it'll echo the USB SOF frame number.

Jake


-----Original Message-----
From: Laurent Pinchart [mailto:laurent.pinchart at ideasonboard.com] 
Sent: Tuesday, November 24, 2009 6:17 PM
To: linux-uvc-devel at lists.berlios.de
Cc: Jacob Fehr
Subject: Re: [Linux-uvc-devel] Timestamp Accuracy Patch

Hi Jacob,

I'm very sorry for the (very) late review. I barely had time to work on the
UVC driver for the past 4 weeks. Things will hopefully settle down a bit
soon. Please don't believe your contribution isn't appreciated.

On Saturday 31 October 2009 00:07:51 Jacob Fehr wrote:
> Hey Laurent,
> 
> Attached is a changeset that will sync the computer's clock to the camera
> clock.

Thank you very much. I've copied the patch inline for the purpose of
commenting.

> The final result is that uvc_buffer.buf.timestamp is adjusted to compensate
> for the latency that happens on the camera and the latency that happens in
> the USB stack. It seems to work quite nicely. With the patch, I get very
> even timestamp intervals. In fact it's so accurate that I see a 9
> microsecond/frame drift between my camera clock and my computer clock.

Very nice. Do you have a GPS clock to check which one is correct ;-)
 
> There is still +-105 microseconds of latency that could be tweaked out. But
> for now this is should be accurate enough for even the most demanding 
> application... such as watching TV, DVDs, etc. :-) I suspect the remaining
> latency is coming from the interrupt handler and USB stack. Getting that out
> would require that I get down into the HCD code.
> 
> Have a look and let me know what you think.

> diff -r 214c94aa62aa -r 4617ec8de827 linux/drivers/media/video/uvc/uvc_driver.c
> --- a/linux/drivers/media/video/uvc/uvc_driver.c	Sat Oct 10 01:55:23 2009 +0200
> +++ b/linux/drivers/media/video/uvc/uvc_driver.c	Fri Oct 30 16:24:31 2009 -0600
> @@ -198,24 +198,23 @@
>  	kfree(an);
>  }
>  
> -/* Convert a fraction to a frame interval in 100ns multiples. The idea here is
> - * to compute numerator / denominator * 10000000 using 32 bit fixed point
> - * arithmetic only.
> +/* Calculate a crossproduct. The idea here is to compute
> + * numerator / denominator * multiplier using 32 bit fixed point arithmetic
> + * only.
>   */
> -uint32_t uvc_fraction_to_interval(uint32_t numerator, uint32_t denominator)
> +uint32_t uvc_cross_product(uint32_t numerator, uint32_t denominator,
> +	uint32_t multiplier)

Interesting reuse of the function. Are you sure this is called a cross
product ? Both Wikipedia and my algebra classes fail to give me a definition
for cross product that could apply here.

>  {
> -	uint32_t multiplier;
>  
>  	/* Saturate the result if the operation would overflow. */
>  	if (denominator == 0 ||
> -	    numerator/denominator >= ((uint32_t)-1)/10000000)
> +	    numerator/denominator >= ((uint32_t)-1)/multiplier)
>  		return (uint32_t)-1;
>  
>  	/* Divide both the denominator and the multiplier by two until
>  	 * numerator * multiplier doesn't overflow. If anyone knows a better
>  	 * algorithm please let me know.
>  	 */
> -	multiplier = 10000000;
>  	while (numerator > ((uint32_t)-1)/multiplier) {
>  		multiplier /= 2;
>  		denominator /= 2;

[snip]

> diff -r 214c94aa62aa -r 4617ec8de827 linux/drivers/media/video/uvc/uvc_video.c
> --- a/linux/drivers/media/video/uvc/uvc_video.c	Sat Oct 10 01:55:23 2009 +0200
> +++ b/linux/drivers/media/video/uvc/uvc_video.c	Fri Oct 30 16:24:31 2009 -0600
> @@ -373,6 +373,8 @@
>  		struct uvc_buffer *buf, const __u8 *data, int len)
>  {
>  	__u8 fid;
> +	__u32 pts = 0, stc = 0, pts_stc_delta, device_latency = 0;
> +	int i = 0, idx = 2;
>  
>  	/* Sanity checks:
>  	 * - packet must be at least 2 bytes long
> @@ -417,7 +419,44 @@
>  			return -ENODATA;
>  		}
>  
> -		/* TODO: Handle PTS and SCR. */
> +		do_gettimeofday(&buf->buf.timestamp);
> +
> +		if((data[1] & UVC_STREAM_PTS) &&
> +				(data[1] & UVC_STREAM_SCR && 
> +				stream->dev->clock_frequency)) {

Please make sure that your patch conforms with Linux kernel coding style
(Documentation/CodingStyle). You can verify patches using the
scripts/checkpatch.pl before submitting them.

> +
> +                        for(i = 0; i < 4; i++) {
> +                                pts += data[idx+i] << (8*i);
> +                        }
> +
> +			idx += 4;
> +
> +                        for(i = 0; i < 4; i++) {
> +                                stc += data[idx+i] << (8*i);
> +                        }

You should use the le32_to_cpup macros instead of reinventing them:

	pts = le32_to_cpup(&data[2]);
	stc = le32_to_cpup(&data[6]);

> +
> +			if(stc < pts) {
> +				// Camera clock rolled over
> +				pts_stc_delta = UINT_MAX-pts+stc;
> +			}
> +			else {
> +				pts_stc_delta = stc-pts;
> +			}

You don't need to handle the overflow manually,

	pts_stc_delta = stc - pts;

will produce the right value thanks to the integer overflow in all cases.

> +			device_latency = uvc_cross_product(
> +				pts_stc_delta, stream->dev->clock_frequency,
> +				1000000);

You should use stream->ctrl.dwClockFrequency here. The VC Interface Header
Descriptor dwClockFrequency, stored in stream->dev->clock_frequency, has been
deprecated in UVC 1.1.

> +			if(device_latency &&
> +				buf->buf.timestamp.tv_usec < device_latency) {
> +
> +				// borrow a second
> +				buf->buf.timestamp.tv_sec--;
> +				buf->buf.timestamp.tv_usec += 1000000;
> +			}
> +
> +			buf->buf.timestamp.tv_usec -= device_latency;

You're trying to compute device latency by subtracting the PTS field from the
STC field, and then subtracting that latency, converted to microseconds using
the nominal device clock frequency, from the system time acquired when the
first URB of a video frame completes. I'm afraid this is not correct.

First of all, the nominal device clock frequency isn't accurate. Drift and
jitter make the frequency vary over time. Even if it didn't, the device clock
isn't synchronized to the host clock, so you can't use the device clock
frequency to convert a time stamp difference to a host time delta.

The whole purpose of the PTS and SCR fields is to account for the device clock
inaccuracies by offering a mean to match the device and host clock rates over
time in an adaptive way.

The PTS field gives the device time at which the raw frame capture begins. This
is the time that must be copied to the buffer's timestamp after being converted
to host time.

As the device and host clocks are not synchronized and do not slave to a common
clock, conversion from device time to host time requires additional
information. This is the purpose of the SCR field.

The SCR field gives two timestamps sampled from two clocks at the same time.
The 32 low-order bits are sampled from the device clock (System Time Clock or
STC), and the next 10 bits are sampled from the USB bus clock (SOF counter).

As the SOF counter resolution is only 1ms in full-speed USB, an error of up
to 1ms can be present in the SCR field. This error can be mitigated using
statistical analysis on consecutive SCR samples.

Using that information, the relationship between the device clock and the USB
bus clock can be computed, and the PTS field can be converted to USB bus clock
units.

Now, on the host side, a similar process can be done by sampling the USB SOF
counter and the system time at regular intervals, and the relationship between
the USB bus clock and the system clock can be established. The PTS field
converted to USB bus clock units can further be converted to host clock units.

This is what the PTS/SCR support patch should do. With such an algorithm, the
USB latency calculation in uvc_video_decode_isoc() becomes unnecessary. I'm
afraid the version you submitted doesn't perform those operations.

I'm sorry to have to refuse the patch in its current state.

-- 
Best regards,

Laurent Pinchart




From blobster_nz at yahoo.com.au  Tue Dec 22 23:06:40 2009
From: blobster_nz at yahoo.com.au (Chris Wilkinson)
Date: Tue, 22 Dec 2009 14:06:40 -0800 (PST)
Subject: [Linux-uvc-devel] Simple way to do timelapse with webcam?
In-Reply-To: <4B30DF41.3080305@darkcuriosities.com>
References: <920894.24250.qm@web56907.mail.re3.yahoo.com>
	<4B30DF41.3080305@darkcuriosities.com>
Message-ID: <309380.4768.qm@web56904.mail.re3.yahoo.com>

I used to have a TV card with a video-input, and I used a command line tool to grab video from /dev/video0, but the playback framerate and grab framerate were able to be different. I would specify a playback rate of 25 fps (PAL) and then a grab rate of 1 fps giving me a timelapse rate of 25x - brilliant for showing developing storm clouds.

It was a very simple single-step process, but I cannot recall the name of the software - it was 4 or 5 years ago I last tried this.

Currently I can record a 1fps video using mencoder or ffmpeg, but the playback rate is also 1fps - it seems I cannot specify separate fps for playback and capture in one-step with those softwares, so it must be another software I was using. I'm having trouble getting dvgrab to get video from uvcvideo, trouble building the deps for motion, and would prefer not to have to write gazillions of images into a folder for later processing.

Thanks to those who have suggested solutions, but unfortunately the solutions proposed are turning out more difficult than I hoped for.

Regards,

Chris W from stormy Brisbane Australia.




________________________________
From: Jeremy Figgins <uvc at darkcuriosities.com>
To: linux-uvc-devel at lists.berlios.de
Sent: Wed, 23 December, 2009 1:01:21 AM
Subject: Re: [Linux-uvc-devel] Simple way to do timelapse with webcam?

It seems like Paulo answered your question, but I'm curious why you
would want this behavior? I'm setting up a similar system right now and
I wanted the intermediate frames for analysis (so that I wouldn't have
to use a framegrabber on the video file). In my case, the script creates
a video file every 60 minutes.

One thing to remember is that most video formats compress by comparing
the similarities between the current frame and nearby frames. By not
having all of the frames available at the beginning of the compression
process, you might not get the best file size.

-Jeremy
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel



      __________________________________________________________________________________
See what's on at the movies in your area. Find out now: http://au.movies.yahoo.com/session-times/
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091222/5fafca06/attachment.html>

From nitesh.24rcm at gmail.com  Wed Dec 23 08:06:03 2009
From: nitesh.24rcm at gmail.com (nitesh suthar)
Date: Wed, 23 Dec 2009 12:36:03 +0530
Subject: [Linux-uvc-devel] has no release call back
Message-ID: <690b911e0912222306s793e8cet9665acf84e23fc84@mail.gmail.com>

hello,dear all

I having problem when using uvcvideo.ko ,Would any one help me in this.

I got error as :

videodev:  has no release callback. Please fix your driver for proper sysfs
support

I am using linux 2.6.24 kernel . And download latest uvc driver .I am using
cross compiler gcc- 4.2.2-eabi

while I am compiling uvc driver using this compiler and kernel path I got
error in v4l2-dev.h file that

In file included from
/home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/../linux/include/media/v4l2-common.h:30,
                 from
/home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/uvc_driver.c:37:
/home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/../linux/include/media/v4l2-dev.h:
In function 'video_device_node_name':
/home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/../linux/include/media/v4l2-dev.h:159:
error: implicit declaration of function 'dev_name'
/home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/../linux/include/media/v4l2-dev.h:159:
warning: return makes pointer from integer without a cast

after getting this error I change  function video_device_node_name as:
old function is
static inline const char *video_device_node_name(struct video_device *vdev)
{
#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 19)
        return vdev->dev.class_id;
#else
        return dev_name(&vdev->dev);
#endif
}

I have changed this function as
static inline const char *video_device_node_name(struct video_device *vdev)
{
#if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 19)
        return vdev->dev.class_id;
#else
        return "/dev/video0";
#endif
}


after replacing this dev_name it is got compiled easily.
and when I loaded it and trying to execute test program for dev/video0 then
I got error as

Unable to handle kernel NULL pointer dereference at virtual address 00000004
pgd=c6a54000
[00000004] *pgd=56b57031, *pte=00000000,*ppte=00000000
internal error:Oops:17[#1]
Modules linked in : uvcvideo
.....so many lines and last line is
Sementation fault

If any one knows the solution for this problem Please guide me
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091223/1e0c3b1e/attachment.html>

From shmera at gmail.com  Wed Dec 23 12:10:24 2009
From: shmera at gmail.com (Ramesh Rajagopal)
Date: Wed, 23 Dec 2009 16:40:24 +0530
Subject: [Linux-uvc-devel] Is it possible to have two streaming interfaces
	for ISOC & BULK under one configuration ?
Message-ID: <abc44c8d0912230310x2de5185bw19376771f5cb3845@mail.gmail.com>

Hi,
  I want my webcam to provide two streaming interfaces one with ISOC
transfer, another with BULK transfer. On the fly
user can choose any of the transfer and do capture.  I am planning to try
like following

One control interface with interrupt endpoint for status.
Two streaming interface , one with alternate settings for ISOC with
supported formats(MJPEG, YUYV)
another video streaming interface without alternate settings for BULK
transfer with supported formats.

First off all, is it possible to try this practically ? Will the host be
able to handle both the streamings ?

I tried in the above way, the camera enumeration seemed successful, however
I did get only one device
on the host (/dev/vide0). I hope for two streaming interfaces you should get
two devices on the host
isn't it?

Thanks for the help.


Regards,
Ramesh.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091223/0dc1d03d/attachment.html>

From hdegoede at redhat.com  Thu Dec 24 07:37:20 2009
From: hdegoede at redhat.com (Hans de Goede)
Date: Thu, 24 Dec 2009 07:37:20 +0100
Subject: [Linux-uvc-devel] Looking for upside down uvc cams
In-Reply-To: <4B333DD4.3000803@telering.at>
References: <4B333DD4.3000803@telering.at>
Message-ID: <4B330C20.9090206@redhat.com>

Hi,

On 12/24/2009 11:09 AM, norbert lederbauer wrote:
>   I have an ASUS Laptop K51AC with Kubuntu 9.10 on it.
> I have the upside-down camera
> Unfortunately the code you wrote on your letter doesn't wor for me or I
> make something wrong:
> I wrote the following:
>
> norbert at asusLx:~$ lsusb > lsusb.log
> norbert at asusLx:~$ lsusb
> Bus 002 Device 002: *ID 064e:a116 Suyin Corp*.
> Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
> Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
> Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
> Bus 003 Device 002: ID 046d:c018 Logitech, Inc. Optical Wheel Mouse
> Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
> Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
> norbert at asusLx:~$ lsusb.log
> lsusb.log: command not found
> norbert at asusLx:~$ sudo lsusb > lsusb.log
> [sudo] password for norbert:
> norbert at asusLx:~$ sudo dmidecode > dmi.log
> norbert at asusLx:~$
>
> So I can't tell you the Informations you need.
> Written on the laptop:
> Model: K51AC        ID = 1A
> MB Ver.: K51AC
> 9AN0AS45797243H
> K51AC - SX037D
> Warranty 24 M
> 2009 - 10
>
> I tryed to install the libv4l-0.6.4 from your test package, but there is
> no change in the upside-down mode. I can change that in cheese or in
> guvcview (twice mirroed) but not in Skype.
>

The K51AC has been added to the latest 0.6.4 test release recently, I'll send
you another mail with download and test instructions.

Regards,

Hans


From laurent.pinchart at ideasonboard.com  Sat Dec 26 19:36:30 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 26 Dec 2009 19:36:30 +0100
Subject: [Linux-uvc-devel] Is it possible to have two streaming
	interfaces for ISOC & BULK under one configuration ?
In-Reply-To: <abc44c8d0912230310x2de5185bw19376771f5cb3845@mail.gmail.com>
References: <abc44c8d0912230310x2de5185bw19376771f5cb3845@mail.gmail.com>
Message-ID: <200912261936.31130.laurent.pinchart@ideasonboard.com>

Hi Ramesh,

On Wednesday 23 December 2009 12:10:24 Ramesh Rajagopal wrote:
> Hi,
> I want my webcam to provide two streaming interfaces one with ISOC transfer,
> another with BULK transfer. On the fly user can choose any of the transfer
> and do capture. I am planning to try like following
> 
> One control interface with interrupt endpoint for status.
> Two streaming interface, one with alternate settings for ISOC with
> supported formats(MJPEG, YUYV)
> another video streaming interface without alternate settings for BULK
> transfer with supported formats.
> 
> First off all, is it possible to try this practically ? Will the host be
> able to handle both the streamings ?

Yes, but only if the two streaming interfaces are associated with different 
UVC input or output terminals in the control interface.

> I tried in the above way, the camera enumeration seemed successful, however
> I did get only one device on the host (/dev/vide0). I hope for two streaming
> interfaces you should get two devices on the host
> isn't it?

I suspect that you're trying to use two different streaming interfaces with 
the same USB output terminal. That's not possible.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Dec 26 19:52:16 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 26 Dec 2009 19:52:16 +0100
Subject: [Linux-uvc-devel] has no release call back
In-Reply-To: <690b911e0912222306s793e8cet9665acf84e23fc84@mail.gmail.com>
References: <690b911e0912222306s793e8cet9665acf84e23fc84@mail.gmail.com>
Message-ID: <200912261952.16544.laurent.pinchart@ideasonboard.com>

Hi,

On Wednesday 23 December 2009 08:06:03 nitesh suthar wrote:
> hello,dear all
> 
> I having problem when using uvcvideo.ko ,Would any one help me in this.
> 
> I got error as :
> 
> videodev:  has no release callback. Please fix your driver for proper sysfs
> support
> 
> I am using linux 2.6.24 kernel . And download latest uvc driver .I am using
> cross compiler gcc- 4.2.2-eabi
> 
> while I am compiling uvc driver using this compiler and kernel path I got
> error in v4l2-dev.h file that
> 
> In file included from
> /home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/../linux/inclu
> de/media/v4l2-common.h:30, from
> /home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/uvc_driver.c:3
> 7:
>  /home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/../linux/incl
> ude/media/v4l2-dev.h: In function 'video_device_node_name':
> /home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/../linux/inclu
> de/media/v4l2-dev.h:159: error: implicit declaration of function 'dev_name'
> /home/rajiv/6410/ExperimentUVC/UVC/uvcvideo-033b5968aa1a/v4l/../linux/inclu
> de/media/v4l2-dev.h:159: warning: return makes pointer from integer without
>  a cast
> 
> after getting this error I change  function video_device_node_name as:
> old function is
> static inline const char *video_device_node_name(struct video_device *vdev)
> {
> #if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 19)
>         return vdev->dev.class_id;
> #else
>         return dev_name(&vdev->dev);
> #endif
> }
> 
> I have changed this function as
> static inline const char *video_device_node_name(struct video_device *vdev)
> {
> #if LINUX_VERSION_CODE < KERNEL_VERSION(2, 6, 19)
>         return vdev->dev.class_id;
> #else
>         return "/dev/video0";
> #endif
> }
> 
> 
> after replacing this dev_name it is got compiled easily.

This issue has been fixed in the uvcvideo tree on linuxtv.org. Could you get 
the latest version and see if you still get an oops ?

> and when I loaded it and trying to execute test program for dev/video0 then
> I got error as
> 
> Unable to handle kernel NULL pointer dereference at virtual address
>  00000004 pgd=c6a54000
> [00000004] *pgd=56b57031, *pte=00000000,*ppte=00000000
> internal error:Oops:17[#1]
> Modules linked in : uvcvideo
> .....so many lines and last line is
> Sementation fault
> 
> If any one knows the solution for this problem Please guide me

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Dec 26 19:53:44 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 26 Dec 2009 19:53:44 +0100
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <cc3a7cb10912211843y4d74a1dfk73856e484e1c29d7@mail.gmail.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
	<a81f87bb0912211823g47619e0crb7e1ed0fd16e76ce@mail.gmail.com>
	<cc3a7cb10912211843y4d74a1dfk73856e484e1c29d7@mail.gmail.com>
Message-ID: <200912261953.44792.laurent.pinchart@ideasonboard.com>

Hi,

On Tuesday 22 December 2009 03:43:05 Yanbin Yue wrote:
>     The device is is a  WIFI USB 2.0 device, it use the same USB slot, so I
> think the USB controller could work fine now. The error message as fllowing
> 
> 
> usb 1-1.4: device descriptor read/64, error 2
> usb 1-1.4: new full speed USB device using musb_hdrc and address 5
> usb 1-1.4: device descriptor read/8, error 2
> usb 1-1.4: device descriptor read/8, error 2
> usb 1-1.4: new full speed USB device using musb_hdrc and address 6
> usb 1-1.4: device descriptor read/8, error 2
> usb 1-1.4: device descriptor read/8, error 2
> 
>      I think the USB controller  couldn't find the right dirver, so it
> display these error message.

No, those messages indicate that the host can't read the device descriptor. 
That's a very low-level error completely unrelated to the uvcvideo driver.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Dec 26 19:54:32 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 26 Dec 2009 19:54:32 +0100
Subject: [Linux-uvc-devel] How can I use a UVC Device in OMAP3530
In-Reply-To: <cc3a7cb10912211932t51f6c8cjb3a4c2b892479443@mail.gmail.com>
References: <cc3a7cb10912181733t31bc31edl89acd48672a863ae@mail.gmail.com>
	<cc3a7cb10912211914o5a9b7958oc0e704b897d1d152@mail.gmail.com>
	<cc3a7cb10912211932t51f6c8cjb3a4c2b892479443@mail.gmail.com>
Message-ID: <200912261954.32777.laurent.pinchart@ideasonboard.com>

Hi,

On Tuesday 22 December 2009 04:32:27 Yanbin Yue wrote:
> And my UVC device id is 0c45 : 62c0.  When I search this code in the UVC
> dirver source, I can't find any item.  Whether this device information need
> I add to the source code?

You don't need to add it. The uvcvideo driver matches against the device using 
interface class and subclass, not the device vendor and product IDs.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Dec 26 20:24:53 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 26 Dec 2009 20:24:53 +0100
Subject: [Linux-uvc-devel] Microsoft Lifecam NX-6000
In-Reply-To: <200912191504.32437.a.bonometti@gmail.com>
References: <200912011507.13289.a.bonometti@studiofarma.it>
	<200912131323.49439.laurent.pinchart@ideasonboard.com>
	<200912191504.32437.a.bonometti@gmail.com>
Message-ID: <200912262024.53201.laurent.pinchart@ideasonboard.com>

Hi Alessandro,

On Saturday 19 December 2009 15:04:32 Alessandro Bonometti wrote:
> On Sunday 13 December 2009 13:23:49 Laurent Pinchart wrote:
> > It might be possible to work around the problem. Could you try to load the
> > driver with quirks=0x102 and timeout=3000 ? If that help, please try only
> > one of those parameters to see which one fixes the problem.
> 
> "timeout" gives "unknow parameter".

That's probably because the uvcvideo driver version used on your system is too 
old.

> With "Quirks=0x102" the camera works in luvcview, but not in Skype and
> kopete. I think I'll buy myself a new webcam for Christmas :-]

What happens in Skype and Kopete ? Note that those applications are not known 
to be webcam-friendly, so it might not be your camera's fault.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Dec 26 20:35:16 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 26 Dec 2009 20:35:16 +0100
Subject: [Linux-uvc-devel] uvc camera
In-Reply-To: <45133a700912180939i7a4087e9r8b85dc3a7a02f304@mail.gmail.com>
References: <45133a700912180939i7a4087e9r8b85dc3a7a02f304@mail.gmail.com>
Message-ID: <200912262035.16262.laurent.pinchart@ideasonboard.com>

Hi Alexksandr,

On Friday 18 December 2009 18:39:47 Aleksandr Zagorodnikov wrote:
> I have notebook hp tx2650er and my UVC device is not listed.

Thanks for the report.

[snip]

> # dmesg | egrep -i uvc
> uvcvideo: disagrees about version of symbol
> v4l_compat_translate_ioctl
> uvcvideo: Unknown symbol v4l_compat_translate_ioctl
> uvcvideo: disagrees about version of symbol video_devdata
> uvcvideo: Unknown symbol video_devdata
> uvcvideo: disagrees about version of symbol
> video_unregister_device
> uvcvideo: Unknown symbol video_unregister_device
> uvcvideo: disagrees about version of symbol video_device_alloc
> uvcvideo: Unknown symbol video_device_alloc
> uvcvideo: disagrees about version of symbol
> video_register_device
> uvcvideo: Unknown symbol video_register_device
> uvcvideo: disagrees about version of symbol video_usercopy
> uvcvideo: Unknown symbol video_usercopy
> uvcvideo: disagrees about version of symbol
> video_device_release
> uvcvideo: Unknown symbol video_device_release
> uvcvideo: disagrees about version of symbol
> v4l_compat_translate_ioctl
> uvcvideo: Unknown symbol v4l_compat_translate_ioctl
> uvcvideo: disagrees about version of symbol video_devdata
> uvcvideo: Unknown symbol video_devdata
> uvcvideo: disagrees about version of symbol
> video_unregister_device
> uvcvideo: Unknown symbol video_unregister_device
> uvcvideo: disagrees about version of symbol video_device_alloc
> uvcvideo: Unknown symbol video_device_alloc
> uvcvideo: disagrees about version of symbol
> video_register_device
> uvcvideo: Unknown symbol video_register_device
> uvcvideo: disagrees about version of symbol video_usercopy
> uvcvideo: Unknown symbol video_usercopy
> uvcvideo: disagrees about version of symbol
> video_device_release
> uvcvideo: Unknown symbol video_device_release

Those errors are caused by loading a version of the uvcvideo driver compiled 
from a linuxtv.org repository with core v4l modules provided by your 
distribution. You should use the core v4l modules from the uvcvideo tree.

> dmesg | grep uvc
> uvcvideo: Found UVC 1.00 device CKF7073 (04f2:b103)
> uvcvideo: Failed to query (135) UVC control 1 (unit 0) : -32 (exp.
> 26).
> uvcvideo: Failed to query (129) UVC control 1 (unit 0) : -32 (exp.
> 26).
> uvcvideo: Failed to initialize the device (-5).
> usbcore: registered new interface driver uvcvideo

Ouch. That seems to be a very buggy webcam. Could you please try to load the 
uvcvideo driver with quirks=0x100 and see if it helps ?

-- 
Regars,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Dec 26 20:48:53 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 26 Dec 2009 20:48:53 +0100
Subject: [Linux-uvc-devel] uvcvideo Logitech patch
In-Reply-To: <200912152215.21467.linux@rainbow-software.org>
References: <4B27DD88.3090900@tnode.com>
	<200912152215.21467.linux@rainbow-software.org>
Message-ID: <200912262048.53769.laurent.pinchart@ideasonboard.com>

Hi Mitar,

On Tuesday 15 December 2009 22:15:19 Ondrej Zary wrote:
> On Tuesday 15 December 2009 20:03:36 Mitar wrote:
> > Hi!
> >
> > I have Logitech QuickCam Pro 9000 webcam and I had the same problems
> > described here:
> >
> > http://patchwork.kernel.org/patch/52261/
> >
> > I have applied the patch and it did not help. But it helped when I
> > increased UVC_CTRL_CONTROL_TIMEOUT to 1000 and UVC_CTRL_STREAMING_TIMEOUT
> > 5000. So 300 and 3000 values were not enough.
> > I do not know if it was really necessary to increase
> > UVC_CTRL_CONTROL_TIMEOUT or if it would be enough something between 3000
> > and 5000 for UVC_CTRL_STREAMING_TIMEOUT as I did not have more time to
> > test it.
> >
> > So maybe 5000 would be a good default for UVC_CTRL_STREAMING_TIMEOUT?

Could be, but I'd like to know if increasing the control streaming timeout is 
required as well.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Dec 26 20:50:58 2009
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 26 Dec 2009 20:50:58 +0100
Subject: [Linux-uvc-devel] [UVC] Break =>
	http://lxr.linux.no/#linux+v2.6.32/drivers/media/video/uvc/uvc_video.c#L955
In-Reply-To: <a81f87bb0912161133g577af58dx1419bdf104911db4@mail.gmail.com>
References: <209499a0912160238t647c2a89ica64a942ad732dd1@mail.gmail.com>
	<a81f87bb0912161133g577af58dx1419bdf104911db4@mail.gmail.com>
Message-ID: <200912262050.58372.laurent.pinchart@ideasonboard.com>

Hi,

On Wednesday 16 December 2009 20:33:55 Brian Pin wrote:
> 
> I think you might misunderstood the code, the code in line 955 which you
> pointed out means when there is a alternative interface whose endpoint has
> enough packet size for transferring the "bandwidth" amount of data which is
> decided by the streaming negotiation, then it is time to break the loop.
> 
> It is quite normal, I think nothing wrong in it, isn't it?

That's correct. In the most recent uvcvideo version that code has been 
modified to find the alternate setting with the smallest bandwidth big enough 
to accommodate the device needs, not just the first one.

-- 
Regards,

Laurent Pinchart


From shmera at gmail.com  Sun Dec 27 07:20:19 2009
From: shmera at gmail.com (Ramesh Rajagopal)
Date: Sun, 27 Dec 2009 11:50:19 +0530
Subject: [Linux-uvc-devel] Is it possible to have two streaming
	interfaces for ISOC & BULK under one configuration ?
In-Reply-To: <200912261936.31130.laurent.pinchart@ideasonboard.com>
References: <abc44c8d0912230310x2de5185bw19376771f5cb3845@mail.gmail.com>
	<200912261936.31130.laurent.pinchart@ideasonboard.com>
Message-ID: <abc44c8d0912262220sff9a2fbg4ba7802a1fa51b9e@mail.gmail.com>

Hi Laurent,
  Thanks for the reply. Yes, I tried with same INPUT/OUTPUT terminal for
both Video streaming interfaces.
I will try with different INPUT/OUTPUT terminal. But physcially there is
only one INPUT/OUTPUT terminal in the device.
Can I logically create two INPUT/OUTPUT terminal both pointing the same
physical entity? Both there INPUT/OUTPUT terminal
are part of the same CONTROL interface right?

Basically what I am trying to acheive is, give user a flexiblity of choosing
the transfer type based on thier required bandwidth.
I decided to give two logical devices on the host side, so that user
can exclusively select one device and stream it.
Will the above approach work in this way or i am missing something here,
suggestions?


Thanks,
Ramesh.



On Sun, Dec 27, 2009 at 12:06 AM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi Ramesh,
>
> On Wednesday 23 December 2009 12:10:24 Ramesh Rajagopal wrote:
> > Hi,
> > I want my webcam to provide two streaming interfaces one with ISOC
> transfer,
> > another with BULK transfer. On the fly user can choose any of the
> transfer
> > and do cature. I am planning to try like following
> >
> > One control interface with interrupt endpoint for status.
> > Two streaming interface, one with alternate settings for ISOC with
> > supported formats(MJPEG, YUYV)
> > another video streaming interface without alternate settings for BULK
> > transfer with supported formats.
> >
> > First off all, is it possible to try this practically ? Will the host be
> > able to handle both the streamings ?
>
> Yes, but only if the two streaming interfaces are associated with different
> UVC input or output terminals in the control interface.
>
> > I tried in the above way, the camera enumeration seemed successful,
> however
> > I did get only one device on the host (/dev/vide0). I hope for two
> streaming
> > interfaces you should get two devices on the host
> > isn't it?
>
> I suspect that you're trying to use two different streaming interfaces with
> the same USB output terminal. That's not possible.
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091227/869f83ba/attachment.html>

From mike_schmidt at gmx.net  Mon Dec 28 14:17:51 2009
From: mike_schmidt at gmx.net (Michael Schmidt)
Date: Mon, 28 Dec 2009 14:17:51 +0100
Subject: [Linux-uvc-devel] another UVC-compatible webcam
Message-ID: <4B38AFFF.6010407@gmx.net>

Hi,

The 'avatec CMA-L688' (USB 'Microdia 0c45:62f1') works flawlessly under
Ubuntu Linux 9.10 (PC, 32 bit). Both camera and microphone work.

Michael


From nicom66 at gmail.com  Tue Dec 29 13:49:29 2009
From: nicom66 at gmail.com (Nico)
Date: Tue, 29 Dec 2009 13:49:29 +0100
Subject: [Linux-uvc-devel] 041e:4038 Creative Technology,
	Ltd ORITE CCD Webcam [PC370R]
In-Reply-To: <2b8cf1970912290327x638a266fy33ebe5abc5d74aa2@mail.gmail.com>
References: <2b8cf1970912290327x638a266fy33ebe5abc5d74aa2@mail.gmail.com>
Message-ID: <2b8cf1970912290449w2f6b20fdk7e9e1544f2457ba3@mail.gmail.com>

Hello,

I would like to install my Creative webcam on kubuntu 9.10 but it can't find
any hel about how to do. The webcam model is:

041e:4038 Creative Technology, Ltd ORITE CCD Webcam [PC370R]

Does anyboy knows if it is possible to install and make work?

Thanks in advance

-- 
Nico
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20091229/7f7b01b5/attachment.html>

From pj.assis at gmail.com  Tue Dec 29 15:25:30 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 29 Dec 2009 14:25:30 +0000
Subject: [Linux-uvc-devel] 041e:4038 Creative Technology,
	Ltd ORITE CCD 	Webcam [PC370R]
In-Reply-To: <2b8cf1970912290449w2f6b20fdk7e9e1544f2457ba3@mail.gmail.com>
References: <2b8cf1970912290327x638a266fy33ebe5abc5d74aa2@mail.gmail.com>
	<2b8cf1970912290449w2f6b20fdk7e9e1544f2457ba3@mail.gmail.com>
Message-ID: <59cf47a80912290625o21aeed28t792cd2a415672cc0@mail.gmail.com>

Hi,
If this a uvc model, you just have to plug it to the usb port :D,
then try a v4l2 app like guvcview (http://guvcview.berlios.de) or
luvcview, to check if it works.

Regards and a happy new year to everyone.
Paulo

2009/12/29 Nico <nicom66 at gmail.com>:
>
> Hello,
>
> I would like to install my Creative webcam on kubuntu 9.10 but it can't find
> any hel about how to do. The webcam model is:
>
> 041e:4038 Creative Technology, Ltd ORITE CCD Webcam [PC370R]
>
> Does anyboy knows if it is possible to install and make work?
>
> Thanks in advance
>
> --
> Nico
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>


From pj.assis at gmail.com  Tue Dec 29 19:17:51 2009
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 29 Dec 2009 18:17:51 +0000
Subject: [Linux-uvc-devel] 041e:4038 Creative Technology,
	Ltd ORITE CCD 	Webcam [PC370R]
In-Reply-To: <2b8cf1970912290639g5de18535u48bc1d0ae1f9cd71@mail.gmail.com>
References: <2b8cf1970912290327x638a266fy33ebe5abc5d74aa2@mail.gmail.com>
	<2b8cf1970912290449w2f6b20fdk7e9e1544f2457ba3@mail.gmail.com>
	<59cf47a80912290625o21aeed28t792cd2a415672cc0@mail.gmail.com>
	<2b8cf1970912290639g5de18535u48bc1d0ae1f9cd71@mail.gmail.com>
Message-ID: <59cf47a80912291017x8c6bb5ah3eb3ff0e8a1c7fb2@mail.gmail.com>

Nico Hi,
You can type dmesg in a terminal(console) after connecting the camera,
this should present some system messages from the camera driver (if
any), in any case have you tried any of the apps mentioned in the
previous post ? The best way to know if the camera works is to
actually test it :D

Best regards,
Paulo

2009/12/29 Nico <nicom66 at gmail.com>:
> Hello Paulo,
>
> Thanks for your answer. How can i know if my webcam is a uvc model? I
> checked here http://linux-uvc.berlios.de/ and i can't find my model
> (041e:4038 Creative Technology, Ltd ORITE CCD Webcam [PC370R]). I'm sorry if
> i seems stupid but i'm new on linux.
>
> Thanks & regards
> Nico
>
> 2009/12/29 Paulo Assis <pj.assis at gmail.com>
>>
>> Hi,
>> If this a uvc model, you just have to plug it to the usb port :D,
>> then try a v4l2 app like guvcview (http://guvcview.berlios.de) or
>> luvcview, to check if it works.
>>
>> Regards and a happy new year to everyone.
>> Paulo
>>
>> 2009/12/29 Nico <nicom66 at gmail.com>:
>> >
>> > Hello,
>> >
>> > I would like to install my Creative webcam on kubuntu 9.10 but it can't
>> > find
>> > any hel about how to do. The webcam model is:
>> >
>> > 041e:4038 Creative Technology, Ltd ORITE CCD Webcam [PC370R]
>> >
>> > Does anyboy knows if it is possible to install and make work?
>> >
>> > Thanks in advance
>> >
>> > --
>> > Nico
>> >
>> >
>> > _______________________________________________
>> > Linux-uvc-devel mailing list
>> > Linux-uvc-devel at lists.berlios.de
>> > https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>> >
>> >
>
>
>
> --
> Nico
>


