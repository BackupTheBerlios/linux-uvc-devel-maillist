<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Controls on Logitech QuickCam Pro 9000
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Controls%20on%20Logitech%20QuickCam%20Pro%209000&In-Reply-To=%3C491D44E5.2040807%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004220.html">
   <LINK REL="Next"  HREF="004222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Controls on Logitech QuickCam Pro 9000</H1>
    <B>Paulo Assis</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Controls%20on%20Logitech%20QuickCam%20Pro%209000&In-Reply-To=%3C491D44E5.2040807%40gmail.com%3E"
       TITLE="[Linux-uvc-devel] Controls on Logitech QuickCam Pro 9000">pj.assis at gmail.com
       </A><BR>
    <I>Fri Nov 14 10:29:09 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004220.html">[Linux-uvc-devel] Controls on Logitech QuickCam Pro 9000
</A></li>
        <LI>Next message: <A HREF="004222.html">[Linux-uvc-devel] Controls on Logitech QuickCam Pro 9000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4221">[ date ]</a>
              <a href="thread.html#4221">[ thread ]</a>
              <a href="subject.html#4221">[ subject ]</a>
              <a href="author.html#4221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Michael,

Dynamic controls need to be added to the driver first, and you will
require admin rights for that.
You can see examples of this on libwebcam:
<A HREF="http://www.quickcamteam.net/software/libwebcam">http://www.quickcamteam.net/software/libwebcam</A>
and guvcview: <A HREF="http://guvcview.berlios.de">http://guvcview.berlios.de</A>
you will need to run them as root (sudo) once in order to add dynamic
controls, like focus control.

Also newer models of the pro 9000 (2008 model) use gspca driver and are
not uvc compatible.

Best regards.
Paulo

&gt;<i> On Mon, Nov 10, 2008 at 12:14 AM, Michael
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">michael.the.drummer at gmail.com</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">michael.the.drummer at gmail.com</A>&gt;&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i>     On Sun, Nov 9, 2008 at 11:28 PM, Laurent Pinchart
</I>&gt;<i>     &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">laurent.pinchart at skynet.be</A> &lt;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">laurent.pinchart at skynet.be</A>&gt;&gt;
</I>&gt;<i>     wrote:
</I>&gt;<i>
</I>&gt;<i>         Hi Michael,
</I>&gt;<i>
</I>&gt;<i>         On Thursday 06 November 2008, Michael wrote:
</I>&gt;<i>         &gt; Hey
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt; I'm trying to use video4linux2 to control a Logitech
</I>&gt;<i>         QuickCam Pro 9000. The
</I>&gt;<i>         &gt; camera supports UVC and I can get the image just fine.
</I>&gt;<i>         However, I'm having
</I>&gt;<i>         &gt; issues with the controls.
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt; Luvcview reports the following controls:
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt; V4L2_CID_BASE         (predefined controls):
</I>&gt;<i>         &gt;  index:9963776    name:Brightness                      
</I>&gt;<i>         type:1 min:0
</I>&gt;<i>         &gt; max:255   step:1     def:128   now:128
</I>&gt;<i>         &gt;  index:9963777    name:Contrast                        
</I>&gt;<i>         type:1 min:0
</I>&gt;<i>         &gt; max:255   step:1     def:32    now:32
</I>&gt;<i>         &gt;  index:9963778    name:Saturation                      
</I>&gt;<i>         type:1 min:0
</I>&gt;<i>         &gt; max:255   step:1     def:32    now:32
</I>&gt;<i>         &gt;  index:9963788    name:White Balance Temperature, Auto
</I>&gt;<i>          type:2 min:0
</I>&gt;<i>         &gt; max:1     step:1     def:1     now:1
</I>&gt;<i>         &gt;  index:9963795    name:Gain                            
</I>&gt;<i>         type:1 min:0
</I>&gt;<i>         &gt; max:255   step:1     def:0     now:0
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt; There are no driver specific controls. The problem is that
</I>&gt;<i>         there are some
</I>&gt;<i>         &gt; missing. There should also be Auto Exposure on/off, manual
</I>&gt;<i>         exposure,
</I>&gt;<i>         &gt; autofocus on/off and manual focus.
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt; The strange thing is that luvcview will let me turn off auto
</I>&gt;<i>         exposure
</I>&gt;<i>         &gt; (strangely by pressing the on button), and will also let me
</I>&gt;<i>         set the
</I>&gt;<i>         &gt; exposure manually.
</I>&gt;<i>         &gt;
</I>&gt;<i>         &gt; I would like to know if there is a way to access these
</I>&gt;<i>         controls using
</I>&gt;<i>         &gt; video4linux?
</I>&gt;<i>
</I>&gt;<i>         Yes there is. luvcview uses an old control enumeration method
</I>&gt;<i>         that results in
</I>&gt;<i>         controls being missed. It should instead use the
</I>&gt;<i>         V4L2_CTRL_FLAG_NEXT_CTRL
</I>&gt;<i>         flag as explained in the V4L2 specification.
</I>&gt;<i>
</I>&gt;<i>         Regardless of enumeration issues, controls can be accessed through
</I>&gt;<i>         VIDIOC_G_CTRL and VIDIOC_S_CTRL.
</I>&gt;<i>
</I>&gt;<i>         Best regards,
</I>&gt;<i>
</I>&gt;<i>         Laurent Pinchart
</I>&gt;<i>
</I>&gt;<i>      
</I>&gt;<i>     Hi Laurent
</I>&gt;<i>
</I>&gt;<i>     Thanks for that. After looking through the code, I am enumerating
</I>&gt;<i>     the controls in the same way luvcview does. I was just following a
</I>&gt;<i>     code example from the V4L2 api documentation (perhaps I was
</I>&gt;<i>     looking at an old version of the docs).
</I>&gt;<i>
</I>&gt;<i>     Anyway I'll have a look at the V4L2_CTRL_FLAG_NEXT_CTRL tomorrow.
</I>&gt;<i>
</I>&gt;<i>     Cheers
</I>&gt;<i>     Michael 
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> I've modified how my code enumerates the controls for the camera.
</I>&gt;<i> Auto/manual exposure controls are now appearing, but manual focus is
</I>&gt;<i> not. A quick Google only finds mailing list posts from about a year
</I>&gt;<i> ago dealing with focus issues:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; - If I want to change the focus manually, than I have to do it by my own
</I>&gt;<i> &gt; in a userspace program, as mentioned in some previous posts.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Right.
</I>&gt;<i>
</I>&gt;<i> &gt; Is the a code snippet available?
</I>&gt;<i>
</I>&gt;<i> Not yet but soon :-) A userspace tool to handle vendor-specific controls is on 
</I>&gt;<i> the way. It will be announced on the mailing list.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Laurent Pinchart
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I would like to know if this is still the case? Am I able to set the focus of the camera using Video4Linux2?
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> Michael
</I>&gt;<i>   
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Linux-uvc-devel mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A>
</I>&gt;<i>   
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004220.html">[Linux-uvc-devel] Controls on Logitech QuickCam Pro 9000
</A></li>
	<LI>Next message: <A HREF="004222.html">[Linux-uvc-devel] Controls on Logitech QuickCam Pro 9000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4221">[ date ]</a>
              <a href="thread.html#4221">[ thread ]</a>
              <a href="subject.html#4221">[ subject ]</a>
              <a href="author.html#4221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
