<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] linux uvc: Ubuntu YUV-&gt;MJPEG bug
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20linux%20uvc%3A%20Ubuntu%20YUV-%3EMJPEG%20bug&In-Reply-To=%3C59cf47a80811251448s5fb39a27rd9a3b58ba955f8bd%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004273.html">
   <LINK REL="Next"  HREF="004279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] linux uvc: Ubuntu YUV-&gt;MJPEG bug</H1>
    <B>Paulo Assis</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20linux%20uvc%3A%20Ubuntu%20YUV-%3EMJPEG%20bug&In-Reply-To=%3C59cf47a80811251448s5fb39a27rd9a3b58ba955f8bd%40mail.gmail.com%3E"
       TITLE="[Linux-uvc-devel] linux uvc: Ubuntu YUV-&gt;MJPEG bug">pj.assis at gmail.com
       </A><BR>
    <I>Tue Nov 25 23:48:09 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004273.html">[Linux-uvc-devel] Problem with luvcview and uvccapture
</A></li>
        <LI>Next message: <A HREF="004279.html">[Linux-uvc-devel] linux uvc: Ubuntu YUV-&gt;MJPEG bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4274">[ date ]</a>
              <a href="thread.html#4274">[ thread ]</a>
              <a href="subject.html#4274">[ subject ]</a>
              <a href="author.html#4274">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
While performing some tests on the latest svn revision of guvcview
I've notice some strange behaviour from the uvc driver dispatched
with Ubuntu latest kernel (2.6.27-8).
After starting guvcview in MJPEG mode everything is working fine, I then
proceed into changing the imput mode to yuv, also everything is working OK.
But now if I set it back to MJPEG mode, I get a select timeout, meaning
that no frames are available.
With luvcview, that doesn't implement a select prior to the VIDIOC_DQBUF
ioctl, it just hangs waiting for a frame.

If I had to guess I would say that after geting into yuv (uncompressed) mode
incomplete frame drop gets activated, but after getting back into MJPEG mode
it doesn't get deactivated, and since MJPEG data is smaller in size than yuv
then the driver just confuses the MJPEG frame with a incomplete yuv frame.

Like I said it's just a wild guess based on the driver behaviour :-).
I will only have time to debug this properly in the next weekend.

Best regards,
Paulo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004273.html">[Linux-uvc-devel] Problem with luvcview and uvccapture
</A></li>
	<LI>Next message: <A HREF="004279.html">[Linux-uvc-devel] linux uvc: Ubuntu YUV-&gt;MJPEG bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4274">[ date ]</a>
              <a href="thread.html#4274">[ thread ]</a>
              <a href="subject.html#4274">[ subject ]</a>
              <a href="author.html#4274">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
