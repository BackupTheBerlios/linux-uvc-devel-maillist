<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20libv4l2%20jpeg%20error%20with%2005a9%3A2640%20webcams&In-Reply-To=%3C200811200006.40081.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004263.html">
   <LINK REL="Next"  HREF="004268.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20libv4l2%20jpeg%20error%20with%2005a9%3A2640%20webcams&In-Reply-To=%3C200811200006.40081.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams">laurent.pinchart at skynet.be
       </A><BR>
    <I>Thu Nov 20 00:06:39 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004263.html">[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams
</A></li>
        <LI>Next message: <A HREF="004268.html">[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4265">[ date ]</a>
              <a href="thread.html#4265">[ thread ]</a>
              <a href="subject.html#4265">[ subject ]</a>
              <a href="author.html#4265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Filippo,

On Tuesday 18 November 2008, Filippo Argiolas wrote:
&gt;<i> On Tue, Nov 18, 2008 at 12:36 AM, Laurent Pinchart wrote:
</I>&gt;<i> &gt; &gt; He said that most likely the first frame sent by the webcam doesn't
</I>&gt;<i> &gt; &gt; have a valid jpeg header, maybe because it starts sending in the
</I>&gt;<i> &gt; &gt; middle of  a frame.
</I>&gt;<i> &gt; &gt; Any idea about it?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That would be my guess too. Would it be possible to dump the first frame
</I>&gt;<i> &gt; to a file for analysis ?
</I>&gt;<i>
</I>&gt;<i> Ok attached you can find the first frame from one of the two users
</I>&gt;<i> (Juan Pablo could you attach a first frame dump too? Thank you)
</I>&gt;<i>
</I>&gt;<i> It's been created with &quot;luvcvideo -f mjpg -c&quot;, is it ok? The webcam
</I>&gt;<i> seems to support  yuv too but since that error is jpeg related this
</I>&gt;<i> should be the right command.
</I>
The frame starts with garbage followed by valid JPEG data. Either the device 
sends invalid data with valid UVC headers, in which case the uvcvideo driver 
rightfully stores the data in the frame buffer, or the garbage is marked as 
such by the device but is wrongly processed by the driver.

Could you please set the trace level to 255 (echo 255 
&gt;<i> /sys/modules/uvcvideo/parameters/trace), capture one frame 
</I>with 'luvcview -f mjpg -c' and send me both the captured frame and the 
messages printed by the driver to the kernel log (dmesg) ? Make sure you 
close luvcview as soon as it displays video on screen, otherwise you will 
overflow your kernel log.

Best regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004263.html">[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams
</A></li>
	<LI>Next message: <A HREF="004268.html">[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4265">[ date ]</a>
              <a href="thread.html#4265">[ thread ]</a>
              <a href="subject.html#4265">[ subject ]</a>
              <a href="author.html#4265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
