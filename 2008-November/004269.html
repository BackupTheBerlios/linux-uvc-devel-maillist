<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20libv4l2%20jpeg%20error%20with%2005a9%3A2640%20webcams&In-Reply-To=%3C200811210120.11529.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004266.html">
   <LINK REL="Next"  HREF="004270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20libv4l2%20jpeg%20error%20with%2005a9%3A2640%20webcams&In-Reply-To=%3C200811210120.11529.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams">laurent.pinchart at skynet.be
       </A><BR>
    <I>Fri Nov 21 01:20:11 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004266.html">[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams
</A></li>
        <LI>Next message: <A HREF="004270.html">[Linux-uvc-devel] Bug @ 046d:09a4 / Logitech Quickcam E 3500 driver?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4269">[ date ]</a>
              <a href="thread.html#4269">[ thread ]</a>
              <a href="subject.html#4269">[ subject ]</a>
              <a href="author.html#4269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Filippo,

On Thursday 20 November 2008, Filippo Argiolas wrote:
&gt;<i> On Thu, Nov 20, 2008 at 12:06 AM, Laurent Pinchart wrote:
</I>&gt;<i> &gt; Could you please set the trace level to 255 (echo 255 &gt;
</I>&gt;<i> &gt; /sys/modules/uvcvideo/parameters/trace), capture one frame
</I>&gt;<i> &gt; with 'luvcview -f mjpg -c' and send me both the captured frame and the 
</I>&gt;<i> &gt; messages printed by the driver to the kernel log (dmesg) ? Make sure you
</I>&gt;<i>
</I>&gt;<i> Forwarding you the logs I just received from Felix Kaser (the other user).
</I>&gt;<i> I asked him several logs since I noticed the first frame size was
</I>&gt;<i> always different so I thought it could be useful to have some more
</I>&gt;<i> frame to compare.
</I>
Data look like they come from the middle of a JPEG frame. The second sample 
ends with a JPEG End Of Image marker, but the other two don't, which is a bit 
puzzling.

The kernel logs don't show any error. My guess is that the camera starts 
streaming somewhere in the middle of a JPEG frame. The problem probably 
occurs with YUV too, but the driver drops incomplete YUV frames so 
applications don't notice anything.

It shouldn't be too difficult to add a quirk to skip the first video frame. 
I'll try to work on that tomorrow.

Best regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004266.html">[Linux-uvc-devel] libv4l2 jpeg error with 05a9:2640 webcams
</A></li>
	<LI>Next message: <A HREF="004270.html">[Linux-uvc-devel] Bug @ 046d:09a4 / Logitech Quickcam E 3500 driver?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4269">[ date ]</a>
              <a href="thread.html#4269">[ thread ]</a>
              <a href="subject.html#4269">[ subject ]</a>
              <a href="author.html#4269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
