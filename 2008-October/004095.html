<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] 174f:5931 is not working
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20174f%3A5931%20is%20not%20working&In-Reply-To=%3C200810150104.14783.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004090.html">
   <LINK REL="Next"  HREF="004091.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] 174f:5931 is not working</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20174f%3A5931%20is%20not%20working&In-Reply-To=%3C200810150104.14783.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] 174f:5931 is not working">laurent.pinchart at skynet.be
       </A><BR>
    <I>Wed Oct 15 01:04:14 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004090.html">[Linux-uvc-devel] 174f:5931 is not working
</A></li>
        <LI>Next message: <A HREF="004091.html">[Linux-uvc-devel] Webcam Driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4095">[ date ]</a>
              <a href="thread.html#4095">[ thread ]</a>
              <a href="subject.html#4095">[ subject ]</a>
              <a href="author.html#4095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ivan,

On Friday 10 October 2008, Ivan Babkin wrote:
&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i> I have a problem with a built-in camera in my Samsung Q310 laptop.
</I>&gt;<i>
</I>&gt;<i> After &quot;modprobe uvcvideo trace=15&quot; I get the following in dmesg:
</I>&gt;<i>
</I>&gt;<i> [ 4149.432261] uvcvideo: Adding mapping Brightness to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/2.
</I>&gt;<i> [ 4149.434693] uvcvideo: Adding mapping Contrast to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/3.
</I>&gt;<i> [ 4149.436971] uvcvideo: Adding mapping Hue to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/6.
</I>&gt;<i> [ 4149.439150] uvcvideo: Adding mapping Saturation to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/7.
</I>&gt;<i> [ 4149.440291] uvcvideo: Adding mapping Sharpness to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/8.
</I>&gt;<i> [ 4149.441371] uvcvideo: Adding mapping Gamma to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/9.
</I>&gt;<i> [ 4149.442396] uvcvideo: Adding mapping Backlight Compensation to
</I>&gt;<i> control 00000000-0000-0000-0000-000000000101/1.
</I>&gt;<i> [ 4149.443594] uvcvideo: Adding mapping Gain to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/4.
</I>&gt;<i> [ 4149.444610] uvcvideo: Adding mapping Power Line Frequency to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/5.
</I>&gt;<i> [ 4149.445796] uvcvideo: Adding mapping Hue, Auto to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/16.
</I>&gt;<i> [ 4149.446867] uvcvideo: Adding mapping Exposure, Auto to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000001/2.
</I>&gt;<i> [ 4149.447994] uvcvideo: Adding mapping Exposure, Auto Priority to
</I>&gt;<i> control 00000000-0000-0000-0000-000000000001/3.
</I>&gt;<i> [ 4149.449215] uvcvideo: Adding mapping Exposure (Absolute) to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000001/4.
</I>&gt;<i> [ 4149.450386] uvcvideo: Adding mapping White Balance Temperature, Auto
</I>&gt;<i> to control 00000000-0000-0000-0000-000000000101/11.
</I>&gt;<i> [ 4149.451682] uvcvideo: Adding mapping White Balance Temperature to
</I>&gt;<i> control 00000000-0000-0000-0000-000000000101/10.
</I>&gt;<i> [ 4149.452923] uvcvideo: Adding mapping White Balance Component, Auto to
</I>&gt;<i> control 00000000-0000-0000-0000-000000000101/13.
</I>&gt;<i> [ 4149.454236] uvcvideo: Adding mapping White Balance Blue Component to
</I>&gt;<i> control 00000000-0000-0000-0000-000000000101/12.
</I>&gt;<i> [ 4149.455529] uvcvideo: Adding mapping White Balance Red Component to
</I>&gt;<i> control 00000000-0000-0000-0000-000000000101/12.
</I>&gt;<i> [ 4149.456818] uvcvideo: Adding mapping Focus (absolute) to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000001/6.
</I>&gt;<i> [ 4149.457984] uvcvideo: Adding mapping Focus, Auto to control
</I>&gt;<i> 00000000-0000-0000-0000-000000000001/8.
</I>&gt;<i> [ 4149.459119] uvcvideo: Probing generic UVC device 3
</I>&gt;<i> [ 4149.459731] uvcvideo: Found format YUV 4:2:2 (YUYV).
</I>&gt;<i> [ 4149.459735] uvcvideo: - 640x480 (20.0 fps)
</I>&gt;<i> [ 4149.459737] uvcvideo: - 160x120 (24.0 fps)
</I>&gt;<i> [ 4149.459739] uvcvideo: - 176x144 (24.0 fps)
</I>&gt;<i> [ 4149.459741] uvcvideo: - 320x240 (24.0 fps)
</I>&gt;<i> [ 4149.459742] uvcvideo: - 352x288 (24.0 fps)
</I>&gt;<i> [ 4149.459744] uvcvideo: - 800x600 (7.0 fps)
</I>&gt;<i> [ 4149.459746] uvcvideo: - 1024x768 (7.0 fps)
</I>&gt;<i> [ 4149.459748] uvcvideo: - 1280x800 (7.0 fps)
</I>&gt;<i> [ 4149.459749] uvcvideo: - 1280x960 (7.0 fps)
</I>&gt;<i> [ 4149.459751] uvcvideo: - 1280x1024 (7.0 fps)
</I>&gt;<i> [ 4149.459755] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
</I>&gt;<i> (174f:5931)
</I>&gt;<i> [ 4149.466351] uvcvideo: Added control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/2 to device 3 entity 3
</I>&gt;<i> [ 4149.466357] uvcvideo: Added control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/3 to device 3 entity 3
</I>&gt;<i> [ 4149.466360] uvcvideo: Added control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/6 to device 3 entity 3
</I>&gt;<i> [ 4149.466364] uvcvideo: Added control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/7 to device 3 entity 3
</I>&gt;<i> [ 4149.466367] uvcvideo: Added control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/8 to device 3 entity 3
</I>&gt;<i> [ 4149.466370] uvcvideo: Added control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/9 to device 3 entity 3
</I>&gt;<i> [ 4149.466374] uvcvideo: Added control
</I>&gt;<i> 00000000-0000-0000-0000-000000000101/1 to device 3 entity 3
</I>&gt;<i> [ 4149.466381] uvcvideo: Scanning UVC chain: OT 4 &lt;- PU 3 &lt;- IT 1
</I>&gt;<i> [ 4149.466385] uvcvideo: Found a valid video chain (1 -&gt; 4).
</I>&gt;<i> [ 4149.521015] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
</I>&gt;<i> -32 (exp. 26).
</I>
This is a non-fatal message. No worries there. As a side note, I will soon 
remove it as it confuses many users.

&gt;<i> [ 4150.339102] uvcvideo: UVC device initialized.
</I>&gt;<i> [ 4150.339164] usbcore: registered new interface driver uvcvideo
</I>&gt;<i> [ 4150.339171] USB Video Class driver (SVN r257)
</I>&gt;<i> [ 4150.346123] uvcvideo: Trying format 0x56595559 (YUYV): 10000x10000.
</I>&gt;<i> [ 4150.346131] uvcvideo: Using default frame interval 142857.1 us (7.0
</I>&gt;<i> fps).
</I>&gt;<i>
</I>&gt;<i> The driver creates /dev/video0, and a few program list &quot;USB2.0 UVC PC
</I>&gt;<i> Camera&quot; as an installed webcam.
</I>
Good so far.

&gt;<i> But the problem is that the camera is not really usable: all programs
</I>&gt;<i> I've tried so far do not capture any image from it.
</I>&gt;<i>
</I>&gt;<i> I had only very limited success with running &quot;luvcview -f yuv&quot; (I use
</I>&gt;<i> version 0.2.1 from ubuntu hardy).
</I>&gt;<i> In this case, luvcview captures and outputs only the first frame and
</I>&gt;<i> hangs completely: only &quot;kill -KILL pid&quot; helps.
</I>&gt;<i> Here is what I get in dmesg:
</I>&gt;<i>
</I>&gt;<i> [ 4164.797148] uvcvideo: Trying format 0x56595559 (YUYV): 320x240.
</I>&gt;<i> [ 4164.797155] uvcvideo: Using default frame interval 41666.6 us (24.0
</I>&gt;<i> fps). [ 4165.657184] uvcvideo: Setting frame interval to 1/15 (666666).
</I>&gt;<i>
</I>&gt;<i> Does this mean the camera is not supported by uvcvideo driver?
</I>
It means the camera is detected by the driver, and should work unless it is 
buggy (the driver can also be buggy, but experience showed that there are now 
more issues in the cameras themselves than in the driver :-)).

&gt;<i> Any help will be appreciated.
</I>
Could you please set the quirks parameter to 16 when loading the driver ? You 
can run the following two commands as root to unload the driver and reload it 
with quirks set to the right value.

rmmod uvcvideo
modprobe uvcvideo quirks=16

If it helps, please let me know and I'll issue a proper fix.

Best regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004090.html">[Linux-uvc-devel] 174f:5931 is not working
</A></li>
	<LI>Next message: <A HREF="004091.html">[Linux-uvc-devel] Webcam Driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4095">[ date ]</a>
              <a href="thread.html#4095">[ thread ]</a>
              <a href="subject.html#4095">[ subject ]</a>
              <a href="author.html#4095">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
