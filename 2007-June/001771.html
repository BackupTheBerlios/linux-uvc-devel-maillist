<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Bison Integrated Webcam - Used in Acer 5104WLMi
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Bison%20Integrated%20Webcam%20-%20Used%20in%20Acer%205104WLMi&In-Reply-To=%3CBAY101-F29D21DBADC5518FD9455BAE1220%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001788.html">
   <LINK REL="Next"  HREF="001784.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Bison Integrated Webcam - Used in Acer 5104WLMi</H1>
    <B>Mark McCarron</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Bison%20Integrated%20Webcam%20-%20Used%20in%20Acer%205104WLMi&In-Reply-To=%3CBAY101-F29D21DBADC5518FD9455BAE1220%40phx.gbl%3E"
       TITLE="[Linux-uvc-devel] Bison Integrated Webcam - Used in Acer 5104WLMi">markmccarron_itt at hotmail.com
       </A><BR>
    <I>Sun Jun  3 13:08:56 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001788.html">[Linux-uvc-devel] YUYV to RGB converter
</A></li>
        <LI>Next message: <A HREF="001784.html">[Linux-uvc-devel] Bison Integrated Webcam - Used in Acer	5104WLMi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1771">[ date ]</a>
              <a href="thread.html#1771">[ thread ]</a>
              <a href="subject.html#1771">[ subject ]</a>
              <a href="author.html#1771">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi guys,

I have a integrated webcam in my Acer laptop.  The manufacter is Bison (not 
logitech) and I'm having a problem with uvcvideo driver which is similar to 
the logitech orbicam issue.  The cam itself is 1.3 Megapixels, whether that 
is obtained through interpolation is another question.

Please read through this as I provided additional information throughout.

Here is the output of lsusb:

Bus 003 Device 002: ID 5986:0100
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 Common Class
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x5986
  idProduct          0x0100
  bcdDevice            1.00
  iManufacturer           0
  iProduct                1 USB2.0 Camera
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          632
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
    MaxPower              500mA
    UNRECOGNIZED:  08 0b 00 02 0e 03 00 01
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              1 USB2.0 Camera
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              15
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 0 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0        64
  bNumConfigurations      1

When running lucview I get the following error:

# /usr/local/bin/luvcview
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 5.
Init v4L2 failed !! exit fatal

# /usr/local/bin/luvcview -L
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
/dev/video0 does not support read i/o
{ pixelformat = 'MJPG', description = 'MJPEG' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 160, height = 120 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 352, height = 288 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 176, height = 144 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ pixelformat = 'YUYV', description = 'Uncompressed' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 160, height = 120 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 352, height = 288 }
        Time interval between frame: 1/30, 1/15, 1/10,
{ discrete: width = 176, height = 144 }
        Time interval between frame: 1/30, 1/15, 1/10,

I patched the current svn release with the USB Reset patch, this adds an 
extra line to my messages:

Jun  3 18:50:31 localhost kernel: uvcvideo: Failed to query (130) UVC 
control 1 (unit 0) : 2 (exp. 26).
Jun  3 18:50:31 localhost kernel: usb 3-5: reset high speed USB device using 
ehci_hcd and address 2

Adding trace=255 does not produce much more in the way of useful 
information.

At no time does the webcam function, in saying that it is *recognised*.  I 
can confirm that using Ekiga and the webcam appears in the list.  Ekiga is 
unable to obtain the requested pallete.

It appears to fail, when using luvcview, at the following section:

/* set format in */
    memset(&amp;vd-&gt;fmt, 0, sizeof(struct v4l2_format));
    vd-&gt;fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    vd-&gt;fmt.fmt.pix.width = vd-&gt;width;
    vd-&gt;fmt.fmt.pix.height = vd-&gt;height;
    vd-&gt;fmt.fmt.pix.pixelformat = vd-&gt;formatIn;
    vd-&gt;fmt.fmt.pix.field = V4L2_FIELD_ANY;
    ret = ioctl(vd-&gt;fd, VIDIOC_S_FMT, &amp;vd-&gt;fmt);
    if (ret &lt; 0) {
	printf(&quot;Unable to set format: %d.\n&quot;, errno);
	goto fatal;

Any suggestions???

Thanks,

Mark.

_________________________________________________________________
The next generation of Hotmail is here! <A HREF="http://www.newhotmail.co.uk">http://www.newhotmail.co.uk</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001788.html">[Linux-uvc-devel] YUYV to RGB converter
</A></li>
	<LI>Next message: <A HREF="001784.html">[Linux-uvc-devel] Bison Integrated Webcam - Used in Acer	5104WLMi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1771">[ date ]</a>
              <a href="thread.html#1771">[ thread ]</a>
              <a href="subject.html#1771">[ subject ]</a>
              <a href="author.html#1771">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
