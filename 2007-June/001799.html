<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Bison webcam: the patch doesn't work
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Bison%20webcam%3A%20the%20patch%20doesn%27t%20work&In-Reply-To=%3C200706131930.58357.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001793.html">
   <LINK REL="Next"  HREF="001794.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Bison webcam: the patch doesn't work</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Bison%20webcam%3A%20the%20patch%20doesn%27t%20work&In-Reply-To=%3C200706131930.58357.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] Bison webcam: the patch doesn't work">laurent.pinchart at skynet.be
       </A><BR>
    <I>Wed Jun 13 19:30:58 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001793.html">[Linux-uvc-devel] Bison webcam: the patch doesn't work
</A></li>
        <LI>Next message: <A HREF="001794.html">[Linux-uvc-devel] Bison webcam and pathes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1799">[ date ]</a>
              <a href="thread.html#1799">[ thread ]</a>
              <a href="subject.html#1799">[ subject ]</a>
              <a href="author.html#1799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Monday 11 June 2007, D G wrote:
&gt;<i> I tried your patch (add a few lines to uvc_driver.c for Bison, and
</I>&gt;<i> recompile). dmesg does not complain at boot time:
</I>&gt;<i>
</I>&gt;<i> uvcvideo: Found UVC 1.00 device USB2.0 Camera (5986:0100)
</I>&gt;<i> usbcore: registered new interface driver uvcvideo
</I>&gt;<i> USB Video Class driver (v0.1.0)
</I>&gt;<i>
</I>&gt;<i> But it does not work. Examples with three applications:
</I>&gt;<i>
</I>&gt;<i> * Camorama: A window with &quot;Could not connect to video device (/dev/video0)&quot;
</I>&gt;<i> (although /dev/video0 does exist). No output on the terminal
</I>
Camorama supports the deprecated V4L1 interface only and won't work with the 
driver.

&gt;<i> * amsn:
</I>&gt;<i>
</I>&gt;<i> Type: IP-Restrict-NAT, Listening: false , the same if I completely
</I>&gt;<i> disconnect the firewall.
</I>&gt;<i>
</I>&gt;<i> If I do &quot;change video settings&quot;, dmesg says  uvcvideo: Button event (0). (I
</I>&gt;<i> think it is at that moment, but not sure).
</I>&gt;<i>
</I>&gt;<i> Surprisingly, when I change a video setting in amsn, the led on the webcam
</I>&gt;<i> lights and stays lit. But the message Type: IP-Restrict-NAT, Listening:
</I>&gt;<i> false is still the same.
</I>
That seems to be a networking issue unrelated to the webcam driver.

&gt;<i> * With xawtv . The led lights for a second and then stops. The capture
</I>&gt;<i> screen is black.
</I>&gt;<i>
</I>&gt;<i> The output on the terminal:
</I>&gt;<i>
</I>&gt;<i> # xawtv
</I>&gt;<i> This is xawtv-3.95.dfsg.1, running on Linux/i686 (2.6.21-1-686)
</I>&gt;<i> xinerama 0: 1280x800+0+0
</I>&gt;<i> /dev/video0 [v4l2]: no overlay support
</I>&gt;<i> v4l-conf had some trouble, trying to continue anyway
</I>&gt;<i> Warning: Cannot convert string &quot;-*-ledfixed-medium-r-*--39-*-*-*-c-*-*-*&quot;
</I>&gt;<i> to type FontStruct ioctl: VIDIOC_G_STD(std=0xbfbe3bb4
</I>&gt;<i> [PAL_G,PAL_I,PAL_D,PAL_K,PAL_M,PAL_N,PAL_60,NTSC_M,NTSC_M_JP,SECAM_D,SECAM_
</I>&gt;<i>G,SECAM_H,SECAM_K,SECAM_K1,?ATSC_8_VSB,ATSC_16_VSB,(null),(null),(null),(nul
</I>&gt;<i>l),(null),(null)]): Invalid argument ioctl: VIDIOC_S_STD(std=0x0 []):
</I>&gt;<i> Invalid argument
</I>&gt;<i> libGL warning: 3D driver claims to not support visual 0x66
</I>&gt;<i> ioctl: VIDIOC_REQBUFS(count=1;type=VIDEO_CAPTURE;memory=MMAP): Invalid
</I>&gt;<i> argument ioctl:
</I>&gt;<i> VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
</I>&gt;<i> [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.s
</I>&gt;<i>econds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits=&quot;&quot;;sequence=0
</I>&gt;<i>;memory=unknown): Invalid argument ioctl:
</I>&gt;<i> VIDIOC_REQBUFS(count=2;type=VIDEO_CAPTURE;memory=MMAP): Device or resource
</I>&gt;<i> busy ioctl: VIDIOC_QBUF(index=0;type=unknown;bytesused=0;flags=0x0
</I>&gt;<i> [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode.s
</I>&gt;<i>econds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits=&quot;&quot;;sequence=0
</I>&gt;<i>;memory=unknown): Invalid argument v4l2: oops: select timeout
</I>&gt;<i> munmap: Invalid argument
</I>&gt;<i> ioctl: VIDIOC_REQBUFS(count=1;type=VIDEO_CAPTURE;memory=MMAP): Device or
</I>&gt;<i> resource busy X Error of failed request:  BadWindow (invalid Window
</I>&gt;<i> parameter)
</I>&gt;<i>   Major opcode of failed request:  2 (X_ChangeWindowAttributes)
</I>&gt;<i>   Resource id in failed request:  0x1c0005c
</I>&gt;<i>   Serial number of failed request:  1537
</I>&gt;<i>   Current serial number in output stream:  1537
</I>
There are two issues with xawtv. xawtv requires a patch available in the Linux 
UVC driver's SVN repository at

<A HREF="svn://svn.berlios.de/linux-uvc/patches/xawtv">svn://svn.berlios.de/linux-uvc/patches/xawtv</A>

The second issue (BadWindow) is a X-server related problem, and again out of 
scope of the Linux UVC driver.

To summarise the situation, the patch you tried probably helped, but you 
picked the wrong applications. Please try luvcview or Ekiga.

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001793.html">[Linux-uvc-devel] Bison webcam: the patch doesn't work
</A></li>
	<LI>Next message: <A HREF="001794.html">[Linux-uvc-devel] Bison webcam and pathes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1799">[ date ]</a>
              <a href="thread.html#1799">[ thread ]</a>
              <a href="subject.html#1799">[ subject ]</a>
              <a href="author.html#1799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
