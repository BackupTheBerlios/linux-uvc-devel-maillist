<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Problems with QuickCam Pro 5000
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-March/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Problems%20with%20QuickCam%20Pro%205000&In-Reply-To=%3C200603300047.12026.chrivers%40iversen-net.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000392.html">
   <LINK REL="Next"  HREF="000394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Problems with QuickCam Pro 5000</H1>
    <B>Christian Iversen</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Problems%20with%20QuickCam%20Pro%205000&In-Reply-To=%3C200603300047.12026.chrivers%40iversen-net.dk%3E"
       TITLE="[Linux-uvc-devel] Problems with QuickCam Pro 5000">chrivers at iversen-net.dk
       </A><BR>
    <I>Thu Mar 30 00:47:11 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000392.html">[Linux-uvc-devel] Problems with QuickCam Pro 5000
</A></li>
        <LI>Next message: <A HREF="000394.html">[Linux-uvc-devel] Problems with QuickCam Pro 5000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#393">[ date ]</a>
              <a href="thread.html#393">[ thread ]</a>
              <a href="subject.html#393">[ subject ]</a>
              <a href="author.html#393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 29 March 2006 21:34, Eduardo P&#233;rez Ureta wrote:
&gt;<i> On 2006-03-28 15:09:35 +0200, Christian Iversen wrote:
</I>&gt;<i> &gt; Hi. I've recently bought a Logitech QC Pro 5000. I've compiled and
</I>&gt;<i> &gt; installed the driver on a 2.6.14 kernel.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; uvcviewer works fine. I get a good clean picture in (what seems to
</I>&gt;<i> &gt; be) 640x480 x 30fps.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now, I've tried various programs, to see if I can make this webcam work
</I>&gt;<i> &gt; with anything other than uvcviewer.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; #### Lavrec ####
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">root at zephyr</A>]~ #LAV_VIDEO_DEV=/dev/video1 lavrec -v2  test.avi
</I>&gt;<i> &gt;    INFO: [lavrec] Recording parameters:
</I>&gt;<i> &gt;    INFO: [lavrec] Output format:      AVI
</I>&gt;<i> &gt;    INFO: [lavrec] Input Source:       Auto detect
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    INFO: [lavrec] Decimation:         4
</I>&gt;<i> &gt;    INFO: [lavrec] Quality:            50
</I>&gt;<i> &gt;    INFO: [lavrec] Recording time:     -1 sec
</I>&gt;<i> &gt;    INFO: [lavrec]
</I>&gt;<i> &gt;    INFO: [lavrec] MJPEG buffer size:  256 KB
</I>&gt;<i> &gt;    INFO: [lavrec] # of MJPEG buffers: 64
</I>&gt;<i> &gt;    INFO: [lavrec] Audio parameters:
</I>&gt;<i> &gt;    INFO: [lavrec] Audio sample size:           16 bit
</I>&gt;<i> &gt;    INFO: [lavrec] Audio sampling rate:         44100 Hz
</I>&gt;<i> &gt;    INFO: [lavrec] Audio is MONO
</I>&gt;<i> &gt;    INFO: [lavrec] Audio input recording level: Use mixer setting
</I>&gt;<i> &gt;    INFO: [lavrec] Level of correction for Audio/Video synchronization:
</I>&gt;<i> &gt;    INFO: [lavrec] Lost frame compensation and frame drop/insert
</I>&gt;<i> &gt; --DEBUG: [lavrec] Maximum size per file will be 1739 MB
</I>&gt;<i> &gt;    INFO: [lavrec] Using mmap(2) system call for capture
</I>&gt;<i> &gt;    INFO: [lavrec] Auto detecting input and norm ...
</I>&gt;<i> &gt;    INFO: [lavrec] Trying Composite ...
</I>&gt;<i> &gt; **ERROR: [lavrec] Error getting video input status: Invalid argument
</I>&gt;<i> &gt; ++ WARN: [lavrec] Not ready for capture (state = 0)!
</I>&gt;<i> &gt; zsh: segmentation fault  LAV_VIDEO_DEV=/dev/video1 lavrec -v2 test.avi
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I think the problem here is that lavrec expects PAL, NTSC or SECAM. Of
</I>&gt;<i> &gt; course, selecting one of those standards is not going to work.
</I>&gt;<i>
</I>&gt;<i> Then, most probably, there is a problem in lavrec that should be fixed
</I>&gt;<i> there. You should ask lavrec maintainers if they made lavrec work with a
</I>&gt;<i> USB webcam.
</I>
Ok, fair enough.

&gt;<i> &gt; #### Transcode ####
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">root at zephyr</A>]~ #transcode -x v4l2,null -i /dev/video1 -g160x120 -y ffmpeg
</I>&gt;<i> &gt; -F mpeg4 -w 1024 -c 0-0:0:10 -o test.avi
</I>&gt;<i> &gt; transcode v1.0.2 (C) 2001-2003 Thomas Oestreich, 2003-2004 T. Bitterberg
</I>&gt;<i> &gt; [transcode] (probe) suggested AV correction -D 0 (0 ms) | AV 0 ms | 0 ms
</I>&gt;<i> &gt; [transcode] auto-probing source /dev/video1 (ok)
</I>&gt;<i> &gt; [transcode] V: import format    | unknown  (V=v4l2|A=null)
</I>&gt;<i> &gt; [transcode] V: import frame     | 160x120  1.33:1
</I>&gt;<i> &gt; [transcode] V: bits/pixel       | 2.133
</I>&gt;<i> &gt; [transcode] V: decoding fps,frc | 25.000,3
</I>&gt;<i> &gt; [transcode] V: Y'CbCr           | YV12/I420
</I>&gt;<i> &gt; [transcode] A: import format    | 0x1     PCM          [44100,16,2]
</I>&gt;<i> &gt; [transcode] A: export format    | 0x55    MPEG layer-3 [44100,16,2]  128
</I>&gt;<i> &gt; kbps [transcode] V: encoding fps,frc | 25.000,3
</I>&gt;<i> &gt; [transcode] A: bytes per frame  | 7056 (7056.000000)
</I>&gt;<i> &gt; [transcode] A: adjustment       | <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">0 at 1000</A>
</I>&gt;<i> &gt; [transcode] V: IA32/AMD64 accel | sse (sse 3dnowext 3dnow mmxext mmx asm
</I>&gt;<i> &gt; C) tc_memcpy: using sse for memcpy
</I>&gt;<i> &gt; [transcode] V: video buffer     | 10 @ 160x120
</I>&gt;<i> &gt; [import_null.so] v0.2.0 (2002-01-19) (video) null | (audio) null
</I>&gt;<i> &gt; [import_v4l2.so] v1.3.5 (2005-03-11) (video) v4l2 | (audio) pcm
</I>&gt;<i> &gt; [export_ffmpeg.so] v0.3.13 (2004-08-03) (video) Lavc51.0.0 | (audio)
</I>&gt;<i> &gt; MPEG/AC3/PCM
</I>&gt;<i> &gt; [import_v4l2.so]: v4l2 video grabbing
</I>&gt;<i> &gt; [import_v4l2.so]: resync disabled
</I>&gt;<i> &gt; [import_v4l2.so]: video grabbing, driver = uvcvideo, card = USB Video
</I>&gt;<i> &gt; Class device
</I>&gt;<i> &gt; [import_v4l2.so]: VIDIOC_S_FMT: : Invalid argument
</I>&gt;<i> &gt; [import_v4l2.so]: VIDIOC_S_FMT: : Invalid argument
</I>&gt;<i> &gt; [import_v4l2.so]: VIDIOC_S_FMT: : Invalid argument
</I>&gt;<i> &gt; [import_v4l2.so]: no usable pixel format supported by card
</I>&gt;<i> &gt; video import module error: OPEN failed
</I>&gt;<i> &gt; [transcode] critical: failed to open input source
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I'm not exactly sure what format import_v4l2.so wants, but it doesn't
</I>&gt;<i> &gt; seem to be supported.
</I>&gt;<i>
</I>&gt;<i> You should ask the import_v4l2 maintainer to print the formats tried on
</I>&gt;<i> every VIDIOC_S_FMT call instead of just 'Invalid argument'.
</I>&gt;<i> And if one of those pixel formats is supposed to work with the webcam
</I>&gt;<i> them maybe there is a problem in the uvc driver.
</I>
I'll contact Erik Slagter (who wrote that plugin), or try to patch it myself. 
It's not that hard, and I'll get back to you when I have more information. 

&gt;<i> &gt; #### XawTV ####
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This is xawtv-3.94, running on Linux/i686 (2.6.14-zephyr)
</I>&gt;<i> &gt; xinerama 0: 1280x1024+0+0
</I>&gt;<i> &gt; xinerama 1: 1280x1024+1280+0
</I>&gt;<i> &gt; X Error of failed request:  XF86DGANoDirectVideoMode
</I>&gt;<i> &gt;   Major opcode of failed request:  137 (XFree86-DGA)
</I>&gt;<i> &gt;   Minor opcode of failed request:  1 (XF86DGAGetVideoLL)
</I>&gt;<i> &gt;   Serial number of failed request:  13
</I>&gt;<i> &gt;   Current serial number in output stream:  13
</I>&gt;<i> &gt; v4l-conf had some trouble, trying to continue anyway
</I>&gt;<i> &gt; Warning: Cannot convert string &quot;-*-ledfixed-medium-r-*--39-*-*-*-c-*-*-*&quot;
</I>&gt;<i> &gt; to type FontStruct
</I>&gt;<i> &gt; ioctl: VIDIOC_G_STD(std=0xbf859bb4
</I>&gt;<i> &gt; [PAL_G,PAL_I,PAL_D,PAL_K,PAL_M,PAL_N,PAL_60,NTSC_M,?,SECAM_B,SECAM_G,?ATS
</I>&gt;<i> &gt;C_8_VSB,ATSC_16_VSB, (null),(null),(null),(null),(null),(null)]): Invalid
</I>&gt;<i> &gt; argument
</I>&gt;<i> &gt; config: invalid value for input: Television
</I>&gt;<i> &gt; valid choices for &quot;input&quot;: &quot;Camera&quot;
</I>&gt;<i> &gt; config: invalid value for norm: PAL
</I>&gt;<i> &gt; valid choices for &quot;norm&quot;:
</I>&gt;<i> &gt; ioctl: VIDIOC_S_CTRL(id=9963778;value=124): Input/output error
</I>&gt;<i> &gt; ioctl: VIDIOC_S_STD(std=0x0 []): Invalid argument
</I>&gt;<i> &gt; ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
</I>&gt;<i> &gt; [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode
</I>&gt;<i> &gt;.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits=&quot;&quot;;sequen
</I>&gt;<i> &gt;ce=0;memory=unknown): Invalid argument
</I>&gt;<i> &gt; ioctl: VIDIOC_DQBUF(index=0;type=VIDEO_CAPTURE;bytesused=0;flags=0x0
</I>&gt;<i> &gt; [];field=ANY;;timecode.type=0;timecode.flags=0;timecode.frames=0;timecode
</I>&gt;<i> &gt;.seconds=0;timecode.minutes=0;timecode.hours=0;timecode.userbits=&quot;&quot;;sequen
</I>&gt;<i> &gt;ce=0;memory=unknown): Invalid argument
</I>&gt;<i> &gt; &lt;ctrl-c pressed here&gt;
</I>&gt;<i> &gt; zsh: segmentation fault  xawtv -nodga -c /dev/video1
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I don't know what the problem with this is, either. Is XawTV supposed to
</I>&gt;<i> &gt; work?
</I>&gt;<i>
</I>&gt;<i> This seems like a bug in the uvc driver that does not correctly support
</I>&gt;<i> VIDIOC_DQBUF but maybe XawTV is not totally ready for USB webcams.
</I>
VIDEOC_DQBUF is supposed to dequeue a buffered image, or? And does this 
explain that the webcam LED turns on for a split second, and then turns off 
again? And does it explain why there's no / a black image only?

&gt;<i> &gt; #### Kopete ####
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; (which is what I mostly want to use this cam for)
</I>&gt;<i>
</I>&gt;<i> There are people in this list that have the webcam working with kopete.
</I>&gt;<i> You should ask them. Maybe there is some patch left to apply to kopete or
</I>&gt;<i> the uvc driver.
</I>
Anybody here who have tried kopete?

And thanks for your reply!


-- 
Regards,
Christian Iversen

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000392.html">[Linux-uvc-devel] Problems with QuickCam Pro 5000
</A></li>
	<LI>Next message: <A HREF="000394.html">[Linux-uvc-devel] Problems with QuickCam Pro 5000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#393">[ date ]</a>
              <a href="thread.html#393">[ thread ]</a>
              <a href="subject.html#393">[ subject ]</a>
              <a href="author.html#393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
