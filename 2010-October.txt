From avi.nehemiah at madisonrt.com  Fri Oct  1 17:05:02 2010
From: avi.nehemiah at madisonrt.com (avi.nehemiah at madisonrt.com)
Date: Fri, 1 Oct 2010 08:05:02 -0700
Subject: [Linux-uvc-devel] Help with camera contol using extension unit
Message-ID: <180016629E60E248879BFEDE11955D851471474070@P3PW5EX1MB04.EX1.SECURESERVER.NET>

We are using a custom camera that uses an Alcor AU 3821 controller in conjunction with Aptina camera sensor (UVC 1.1 compatible), we are trying to control the camera by changing values of a few camera registers through I2C using an extension unit on the camera controller. We do have a directshow based solution in windows but are looking to migrate our development effort to Linux and would greatly appreciate any tips or pointers on how to achieve this.

We are using Ubuntu 8.04.4 with Kernel 2.6.27.27.

If someone is interested on helping us with this we will happy to compensate for your time and effort on a contract basis.

Thanks,

Avinash


Avinash Nehemiah
Senior Software Engineer
Madison Research Technologies, LLC


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101001/8c9dd67f/attachment.html>

From public_filter at yahoo.com  Fri Oct  1 20:15:17 2010
From: public_filter at yahoo.com (P F)
Date: Fri, 1 Oct 2010 11:15:17 -0700 (PDT)
Subject: [Linux-uvc-devel] Help with camera contol using extension unit
Message-ID: <90109.32317.qm@web120212.mail.ne1.yahoo.com>

Hi Avi,

>--- On Fri, 10/1/10, avi.nehemiah at madisonrt.com ><avi.nehemiah at madisonrt.com> wrote:
>
>We are using a custom camera that uses an Alcor AU 3821 controller in
>conjunction with Aptina camera sensor (UVC 1.1 compatible), we are trying
>to control the camera by changing values ofa few camera registers through
>I2C using an extension unit on the camera controller. We do have a
>directshow based solution in windows but are looking to migrate our
>development effort to Linux and would greatly appreciate any
>tips or pointers on how to achieve this.  

I recently completed some extension unit work, probably similar to what
you're attempting.  I could not find an official, authoritative source of
documentation, but in the end the API is pretty straightforward.  A copy
can be found here:
http://simosnet.com/debian/packages/eeepc/src/drivers/linux-uvc/dynctrl.txt

You might also be interested in libwebcam and uvcdynctrl, available here:
http://www.quickcamteam.net/software/libwebcam
These can be adapted for your application or at least used as a reference.

HTH


      


From jesse.k.phillips at gmail.com  Sat Oct  2 22:14:33 2010
From: jesse.k.phillips at gmail.com (Jesse Phillips)
Date: Sat, 2 Oct 2010 13:14:33 -0700
Subject: [Linux-uvc-devel] Supported Camera: Sanyo VPC-CA102
Message-ID: <AANLkTi=9qXK3j9d=JJsrmA7KOaSmB9AsgzCpWtY-9Ob3@mail.gmail.com>

I recently purchased a Sanyo VPC-CA102 taking a gamble that it would
be UVC complaint. The camera operates perfectly, so I thought I would
supply you with the dmesg output:

[  737.516518] usb 2-6: new high speed USB device using ehci_hcd and address 7
[  737.657568] usb 2-6: New USB device found, idVendor=0474, idProduct=0b0e
[  737.657578] usb 2-6: New USB device strings: Mfr=1, Product=2, SerialNumber=3
[  737.657585] usb 2-6: Product: SANYO Digital Camera CA102
[  737.657590] usb 2-6: Manufacturer: SANYO
[  737.657594] usb 2-6: SerialNumber: xxxxxxxxxxx
[  737.657816] usb 2-6: configuration #1 chosen from 1 choice
[  737.858273] uvcvideo: Found UVC 1.00 device SANYO Digital Camera
CA102 (0474:0b0e)


-- 
Liberty means responsibility. That is why most men dread it.
? - George Bernard Shaw


From barsnick at gmx.net  Mon Oct  4 01:01:32 2010
From: barsnick at gmx.net (Moritz Barsnick)
Date: Mon, 4 Oct 2010 01:01:32 +0200
Subject: [Linux-uvc-devel] Support of C120: praise, but no listing
Message-ID: <20101003230132.GA7969@sunshine.barsnick.net>

Hi,

I wanted to point out this blogger's praise: "It just worked":
http://www.dvhart.com/content/blog/dvhart/linux/it_just_worked
which indirectly tolls great respect to the UVC driver development.

Interestingly, the C120 isn't listed among the driver's "supported
device list". Logitech only lists this particular cam in its newer
lists.

Here's another site which confirms that it "just works":
http://www.tux-planet.fr/logitech-webcam-c120-une-webcam-compatible-linux/

Just an observation. :)

Moritz


From nick.rout at gmail.com  Mon Oct  4 02:23:24 2010
From: nick.rout at gmail.com (Nick Rout)
Date: Mon, 4 Oct 2010 13:23:24 +1300
Subject: [Linux-uvc-devel] Philips SPC530NC webcam stuck on 160x120
Message-ID: <AANLkTimcp+N8pWact4WnBK9mkz-v6XLQOOLAOTrLSdFi@mail.gmail.com>

My first post here so if I am in the wrong place, let me know.

I am setting up zoneminder on ubuntu 10.04. I have a Philips SPC530NC
webcam which seems to be capable of 640x480, according to advertising
and other info on the web. See by way of example:
http://www.testfreaks.co.uk/webcameras/philips-spc530nc-00/

However the camera doesn't seem capable of doing more than a miserable
160x120 when plugged into my system. All the tools (v4l-info, lucview,
lsusb -v etc) report the width as 160 and the height as 120. However
output from similar commands, eg here:

http://lists.berlios.de/pipermail/linux-uvc-devel/2008-October/004146.html

show that people have got the correct resolutions from this device.

Any idea where to go from here?


From ejshoor at yahoo.com  Mon Oct  4 06:02:06 2010
From: ejshoor at yahoo.com (EJS)
Date: Sun, 3 Oct 2010 21:02:06 -0700 (PDT)
Subject: [Linux-uvc-devel] Microphone stopped working on Logitech Quickcam
	3000 for Business
Message-ID: <686558.22641.qm@web35603.mail.mud.yahoo.com>

Hi all,

So I went out and bought this web cam because supposedly it worked right out of 
the box and it did. I least for a few weeks, but a few days ago I was trying to 
use skype and the microphone on the camera doesnt seem to work any more. (It 
used to work with skype.) 


I had been installing some new applications and upgrading some packages 
recently; so I couldnt really tell what I would dave done to break it.? Anyway, 
I have spend the past few days rolling everything back and I still cant figure 
out what the problem is. I've also changed the order or the kernel modules 
loading, and even took out all of the other cards that might be causing a 
conflict.? If anyone, might be willing to help troubleshoot or at least point me 
in the right direction, I would appreciate it.

Here are some system details. Everything seems to look okay.

uname -a
Linux jshoor-media 2.6.32-24-generic #43-Ubuntu SMP Thu Sep 16 14:17:33 UTC 2010 
i686 GNU/Linux

lsusb
Bus 002 Device 002: ID 0bc7:0004 X10 Wireless Technology, Inc. X10 Receiver
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 001 Device 003: ID 046d:09a5 Logitech, Inc.
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub

dmesg |grep video
[??? 0.281434] pci 0000:00:10.0: Boot video device
[?? 13.436269] Linux video capture interface: v2.00
[?? 13.819647] cx88[0]/0: registered device video0 [v4l2]
[?? 14.350621] uvcvideo: Found UVC 1.00 device <unnamed> (046d:09a5)
[?? 14.419363] usbcore: registered new interface driver uvcvideo

dmesg |grep snd
[?? 14.172483] usbcore: registered new interface driver snd-usb-audio

arecord -l
**** List of CAPTURE Hardware Devices ****
card 0: NVidia [HDA NVidia], device 0: ALC889A Analog [ALC889A Analog]
? Subdevices: 1/1
? Subdevice #0: subdevice #0
card 0: NVidia [HDA NVidia], device 1: ALC889A Digital [ALC889A Digital]
? Subdevices: 1/1
? Subdevice #0: subdevice #0
card 0: NVidia [HDA NVidia], device 2: ALC889A Analog [ALC889A Analog]
? Subdevices: 2/2
? Subdevice #0: subdevice #0
? Subdevice #1: subdevice #1
card 1: U0x46d0x9a5 [USB Device 0x46d:0x9a5], device 0: USB Audio [USB Audio]
? Subdevices: 1/1
? Subdevice #0: subdevice #0


?arecord? -v -f S16_LE -d 10 -D plughw:1,0 test
Recording WAVE 'test' : Signed 16 bit Little Endian, Rate 8000 Hz, Mono
Plug PCM: Rate conversion PCM (16000, sformat=S16_LE)
Converter: libspeex (builtin)
Protocol version: 10002
Its setup is:
? stream?????? : CAPTURE
? access?????? : RW_INTERLEAVED
? format?????? : S16_LE
? subformat??? : STD
? channels???? : 1
? rate???????? : 8000
? exact rate?? : 8000 (8000/1)
? msbits?????? : 16
? buffer_size? : 4000
? period_size? : 1000
? period_time? : 125000
? tstamp_mode? : NONE
? period_step? : 1
? avail_min??? : 1000
? period_event : 0
? start_threshold? : 1
? stop_threshold?? : 4000
? silence_threshold: 0
? silence_size : 0
? boundary???? : 1048576000
Slave: Hardware PCM card 1 'USB Device 0x46d:0x9a5' device 0 subdevice 0
Its setup is:
? stream?????? : CAPTURE
? access?????? : MMAP_INTERLEAVED
? format?????? : S16_LE
? subformat??? : STD
? channels???? : 1
? rate???????? : 16000
? exact rate?? : 16000 (16000/1)
? msbits?????? : 16
? buffer_size? : 8002
? period_size? : 2000
? period_time? : 125000
? tstamp_mode? : NONE
? period_step? : 1
? avail_min??? : 2000
? period_event : 0
? start_threshold? : 2
? stop_threshold?? : 8002
? silence_threshold: 0
? silence_size : 0
? boundary???? : 2097676288
? appl_ptr???? : 0
? hw_ptr?????? : 0


Thanks,
J



      


From pj.assis at gmail.com  Mon Oct  4 10:29:55 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Mon, 4 Oct 2010 09:29:55 +0100
Subject: [Linux-uvc-devel] Philips SPC530NC webcam stuck on 160x120
In-Reply-To: <AANLkTimcp+N8pWact4WnBK9mkz-v6XLQOOLAOTrLSdFi@mail.gmail.com>
References: <AANLkTimcp+N8pWact4WnBK9mkz-v6XLQOOLAOTrLSdFi@mail.gmail.com>
Message-ID: <AANLkTinaumbOLvyRR=Jr3wdkxdyD_CZ9+9T6iDaREax5@mail.gmail.com>

Hi,
did you connect the camera to a usb1.1 port?
Devices can/will reduce available resolutions when connected to lower
speed usb ports.
Make sure you plug it directly to a usb2 port.

Regards,
Paulo

2010/10/4 Nick Rout <nick.rout at gmail.com>:
> My first post here so if I am in the wrong place, let me know.
>
> I am setting up zoneminder on ubuntu 10.04. I have a Philips SPC530NC
> webcam which seems to be capable of 640x480, according to advertising
> and other info on the web. See by way of example:
> http://www.testfreaks.co.uk/webcameras/philips-spc530nc-00/
>
> However the camera doesn't seem capable of doing more than a miserable
> 160x120 when plugged into my system. All the tools (v4l-info, lucview,
> lsusb -v etc) report the width as 160 and the height as 120. However
> output from similar commands, eg here:
>
> http://lists.berlios.de/pipermail/linux-uvc-devel/2008-October/004146.html
>
> show that people have got the correct resolutions from this device.
>
> Any idea where to go from here?
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From pj.assis at gmail.com  Mon Oct  4 10:38:11 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Mon, 4 Oct 2010 09:38:11 +0100
Subject: [Linux-uvc-devel] Microphone stopped working on Logitech
 Quickcam 3000 for Business
In-Reply-To: <686558.22641.qm@web35603.mail.mud.yahoo.com>
References: <686558.22641.qm@web35603.mail.mud.yahoo.com>
Message-ID: <AANLkTimf5AZ8wuikQbDK3AhZoViGuE4D12s7_jFw0Sfh@mail.gmail.com>

Hi,
Audio in this camera is handled by usb-audio driver not uvcvideo (video only).
In any case when grabbing audio from it make sure you set the sample
rate to 16 Khz (mono), a sound server like pulse should convert the
sample rate and channels automatically, but if you are not using it
then you must use the correct frequency.

Regards,
Paulo

in your test you are using 8 khz:
> Recording WAVE 'test' : Signed 16 bit Little Endian, Rate 8000 Hz, Mono



2010/10/4 EJS <ejshoor at yahoo.com>:
> Hi all,
>
> So I went out and bought this web cam because supposedly it worked right out of
> the box and it did. I least for a few weeks, but a few days ago I was trying to
> use skype and the microphone on the camera doesnt seem to work any more. (It
> used to work with skype.)
>
>
> I had been installing some new applications and upgrading some packages
> recently; so I couldnt really tell what I would dave done to break it.? Anyway,
> I have spend the past few days rolling everything back and I still cant figure
> out what the problem is. I've also changed the order or the kernel modules
> loading, and even took out all of the other cards that might be causing a
> conflict.? If anyone, might be willing to help troubleshoot or at least point me
> in the right direction, I would appreciate it.
>
> Here are some system details. Everything seems to look okay.
>
> uname -a
> Linux jshoor-media 2.6.32-24-generic #43-Ubuntu SMP Thu Sep 16 14:17:33 UTC 2010
> i686 GNU/Linux
>
> lsusb
> Bus 002 Device 002: ID 0bc7:0004 X10 Wireless Technology, Inc. X10 Receiver
> Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
> Bus 001 Device 003: ID 046d:09a5 Logitech, Inc.
> Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
>
> dmesg |grep video
> [??? 0.281434] pci 0000:00:10.0: Boot video device
> [?? 13.436269] Linux video capture interface: v2.00
> [?? 13.819647] cx88[0]/0: registered device video0 [v4l2]
> [?? 14.350621] uvcvideo: Found UVC 1.00 device <unnamed> (046d:09a5)
> [?? 14.419363] usbcore: registered new interface driver uvcvideo
>
> dmesg |grep snd
> [?? 14.172483] usbcore: registered new interface driver snd-usb-audio
>
> arecord -l
> **** List of CAPTURE Hardware Devices ****
> card 0: NVidia [HDA NVidia], device 0: ALC889A Analog [ALC889A Analog]
> ? Subdevices: 1/1
> ? Subdevice #0: subdevice #0
> card 0: NVidia [HDA NVidia], device 1: ALC889A Digital [ALC889A Digital]
> ? Subdevices: 1/1
> ? Subdevice #0: subdevice #0
> card 0: NVidia [HDA NVidia], device 2: ALC889A Analog [ALC889A Analog]
> ? Subdevices: 2/2
> ? Subdevice #0: subdevice #0
> ? Subdevice #1: subdevice #1
> card 1: U0x46d0x9a5 [USB Device 0x46d:0x9a5], device 0: USB Audio [USB Audio]
> ? Subdevices: 1/1
> ? Subdevice #0: subdevice #0
>
>
> ?arecord? -v -f S16_LE -d 10 -D plughw:1,0 test
> Recording WAVE 'test' : Signed 16 bit Little Endian, Rate 8000 Hz, Mono
> Plug PCM: Rate conversion PCM (16000, sformat=S16_LE)
> Converter: libspeex (builtin)
> Protocol version: 10002
> Its setup is:
> ? stream?????? : CAPTURE
> ? access?????? : RW_INTERLEAVED
> ? format?????? : S16_LE
> ? subformat??? : STD
> ? channels???? : 1
> ? rate???????? : 8000
> ? exact rate?? : 8000 (8000/1)
> ? msbits?????? : 16
> ? buffer_size? : 4000
> ? period_size? : 1000
> ? period_time? : 125000
> ? tstamp_mode? : NONE
> ? period_step? : 1
> ? avail_min??? : 1000
> ? period_event : 0
> ? start_threshold? : 1
> ? stop_threshold?? : 4000
> ? silence_threshold: 0
> ? silence_size : 0
> ? boundary???? : 1048576000
> Slave: Hardware PCM card 1 'USB Device 0x46d:0x9a5' device 0 subdevice 0
> Its setup is:
> ? stream?????? : CAPTURE
> ? access?????? : MMAP_INTERLEAVED
> ? format?????? : S16_LE
> ? subformat??? : STD
> ? channels???? : 1
> ? rate???????? : 16000
> ? exact rate?? : 16000 (16000/1)
> ? msbits?????? : 16
> ? buffer_size? : 8002
> ? period_size? : 2000
> ? period_time? : 125000
> ? tstamp_mode? : NONE
> ? period_step? : 1
> ? avail_min??? : 2000
> ? period_event : 0
> ? start_threshold? : 2
> ? stop_threshold?? : 8002
> ? silence_threshold: 0
> ? silence_size : 0
> ? boundary???? : 2097676288
> ? appl_ptr???? : 0
> ? hw_ptr?????? : 0
>
>
> Thanks,
> J
>
>
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From laurent.pinchart at ideasonboard.com  Mon Oct  4 11:11:40 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Mon, 4 Oct 2010 11:11:40 +0200
Subject: [Linux-uvc-devel] Support of C120: praise, but no listing
In-Reply-To: <20101003230132.GA7969@sunshine.barsnick.net>
References: <20101003230132.GA7969@sunshine.barsnick.net>
Message-ID: <201010041111.41562.laurent.pinchart@ideasonboard.com>

Hi Moritz,

On Monday 04 October 2010 01:01:32 Moritz Barsnick wrote:
> Hi,
> 
> I wanted to point out this blogger's praise: "It just worked":
> http://www.dvhart.com/content/blog/dvhart/linux/it_just_worked
> which indirectly tolls great respect to the UVC driver development.

Thanks :-)

> Interestingly, the C120 isn't listed among the driver's "supported
> device list". Logitech only lists this particular cam in its newer
> lists.
> 
> Here's another site which confirms that it "just works":
> http://www.tux-planet.fr/logitech-webcam-c120-une-webcam-compatible-linux/

I have a policy of collecting USB descriptors of devices I add to the 
supported devices list. If you can send me the lsusb -v output for the C120 
I'll add it to the list :-)

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Mon Oct  4 11:12:56 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Mon, 4 Oct 2010 11:12:56 +0200
Subject: [Linux-uvc-devel] Supported Camera: Sanyo VPC-CA102
In-Reply-To: <AANLkTi=9qXK3j9d=JJsrmA7KOaSmB9AsgzCpWtY-9Ob3@mail.gmail.com>
References: <AANLkTi=9qXK3j9d=JJsrmA7KOaSmB9AsgzCpWtY-9Ob3@mail.gmail.com>
Message-ID: <201010041112.57215.laurent.pinchart@ideasonboard.com>

Hi Jesse,

On Saturday 02 October 2010 22:14:33 Jesse Phillips wrote:
> I recently purchased a Sanyo VPC-CA102 taking a gamble that it would
> be UVC complaint. The camera operates perfectly, so I thought I would
> supply you with the dmesg output:
> 
> [  737.516518] usb 2-6: new high speed USB device using ehci_hcd and
> address 7 [  737.657568] usb 2-6: New USB device found, idVendor=0474,
> idProduct=0b0e [  737.657578] usb 2-6: New USB device strings: Mfr=1,
> Product=2, SerialNumber=3 [  737.657585] usb 2-6: Product: SANYO Digital
> Camera CA102
> [  737.657590] usb 2-6: Manufacturer: SANYO
> [  737.657594] usb 2-6: SerialNumber: xxxxxxxxxxx
> [  737.657816] usb 2-6: configuration #1 chosen from 1 choice
> [  737.858273] uvcvideo: Found UVC 1.00 device SANYO Digital Camera
> CA102 (0474:0b0e)

Thanks for the report. Could you please send me the output of

lsusb -v -d 0474:0b0e

Thanks.

-- 
Regards,

Laurent Pinchart


From avi.nehemiah at madisonrt.com  Mon Oct  4 15:23:31 2010
From: avi.nehemiah at madisonrt.com (avi.nehemiah at madisonrt.com)
Date: Mon, 4 Oct 2010 06:23:31 -0700
Subject: [Linux-uvc-devel] Linux-uvc-devel Digest, Vol 52, Issue 1
In-Reply-To: <mailman.35.1286013606.16627.linux-uvc-devel@lists.berlios.de>
References: <mailman.35.1286013606.16627.linux-uvc-devel@lists.berlios.de>
Message-ID: <180016629E60E248879BFEDE11955D8514714741FF@P3PW5EX1MB04.EX1.SECURESERVER.NET>

Thanks for that information. I will look into it right anway.

Best,

Avi



Avinash Nehemiah
Senior Software Engineer
Madison Research Technologies, LLC

The information contained in this email is considered CONFIDENTIAL and the protected intellectual property of Madison Research Technologies, LLC.


-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of linux-uvc-devel-request at lists.berlios.de
Sent: Saturday, October 02, 2010 5:00 AM
To: linux-uvc-devel at lists.berlios.de
Subject: Linux-uvc-devel Digest, Vol 52, Issue 1

Send Linux-uvc-devel mailing list submissions to
	linux-uvc-devel at lists.berlios.de

To subscribe or unsubscribe via the World Wide Web, visit
	https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
or, via email, send a message with subject or body 'help' to
	linux-uvc-devel-request at lists.berlios.de

You can reach the person managing the list at
	linux-uvc-devel-owner at lists.berlios.de

When replying, please edit your Subject line so it is more specific
than "Re: Contents of Linux-uvc-devel digest..."


Today's Topics:

   1. Help with camera contol using extension unit
      (avi.nehemiah at madisonrt.com)
   2. Re: Help with camera contol using extension unit (P F)


----------------------------------------------------------------------

Message: 1
Date: Fri, 1 Oct 2010 08:05:02 -0700
From: "avi.nehemiah at madisonrt.com" <avi.nehemiah at madisonrt.com>
To: "linux-uvc-devel at lists.berlios.de"
	<linux-uvc-devel at lists.berlios.de>
Subject: [Linux-uvc-devel] Help with camera contol using extension
	unit
Message-ID:
	<180016629E60E248879BFEDE11955D851471474070 at P3PW5EX1MB04.EX1.SECURESERVER.NET>
	
Content-Type: text/plain; charset="us-ascii"

We are using a custom camera that uses an Alcor AU 3821 controller in conjunction with Aptina camera sensor (UVC 1.1 compatible), we are trying to control the camera by changing values of a few camera registers through I2C using an extension unit on the camera controller. We do have a directshow based solution in windows but are looking to migrate our development effort to Linux and would greatly appreciate any tips or pointers on how to achieve this.

We are using Ubuntu 8.04.4 with Kernel 2.6.27.27.

If someone is interested on helping us with this we will happy to compensate for your time and effort on a contract basis.

Thanks,

Avinash


Avinash Nehemiah
Senior Software Engineer
Madison Research Technologies, LLC


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101001/8c9dd67f/attachment-0001.html>

------------------------------

Message: 2
Date: Fri, 1 Oct 2010 11:15:17 -0700 (PDT)
From: P F <public_filter at yahoo.com>
To: "avi.nehemiah at madisonrt.com" <avi.nehemiah at madisonrt.com>
Cc: "linux-uvc-devel at lists.berlios.de"
	<linux-uvc-devel at lists.berlios.de>
Subject: Re: [Linux-uvc-devel] Help with camera contol using extension
	unit
Message-ID: <90109.32317.qm at web120212.mail.ne1.yahoo.com>
Content-Type: text/plain; charset=us-ascii

Hi Avi,

>--- On Fri, 10/1/10, avi.nehemiah at madisonrt.com ><avi.nehemiah at madisonrt.com> wrote:
>
>We are using a custom camera that uses an Alcor AU 3821 controller in
>conjunction with Aptina camera sensor (UVC 1.1 compatible), we are trying
>to control the camera by changing values ofa few camera registers through
>I2C using an extension unit on the camera controller. We do have a
>directshow based solution in windows but are looking to migrate our
>development effort to Linux and would greatly appreciate any
>tips or pointers on how to achieve this.  

I recently completed some extension unit work, probably similar to what
you're attempting.  I could not find an official, authoritative source of
documentation, but in the end the API is pretty straightforward.  A copy
can be found here:
http://simosnet.com/debian/packages/eeepc/src/drivers/linux-uvc/dynctrl.txt

You might also be interested in libwebcam and uvcdynctrl, available here:
http://www.quickcamteam.net/software/libwebcam
These can be adapted for your application or at least used as a reference.

HTH


      


------------------------------

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


End of Linux-uvc-devel Digest, Vol 52, Issue 1
**********************************************


From ejshoor at yahoo.com  Mon Oct  4 18:50:26 2010
From: ejshoor at yahoo.com (EJS)
Date: Mon, 4 Oct 2010 09:50:26 -0700 (PDT)
Subject: [Linux-uvc-devel] Microphone stopped working on Logitech
	Quickcam 3000 for Business
In-Reply-To: <AANLkTimf5AZ8wuikQbDK3AhZoViGuE4D12s7_jFw0Sfh@mail.gmail.com>
References: <686558.22641.qm@web35603.mail.mud.yahoo.com>
	<AANLkTimf5AZ8wuikQbDK3AhZoViGuE4D12s7_jFw0Sfh@mail.gmail.com>
Message-ID: <415776.71197.qm@web35605.mail.mud.yahoo.com>

Thanks for the response. I wasnt sure whether to investigate the video driver or 
sound driver. In the end, it turns out that the mixer for the microphone was set 
too high. It was set up to 100% to help in troubleshooting. As soon as I turned 
it down to about 80% it started working fine. Crazy. Also skype was auto-setting 
the mixer level back to 100% as well, which was just complicating the 
troubleshooting more.

Well at least its resolved.


?


----- Original Message ----
From: Paulo Assis <pj.assis at gmail.com>
To: EJS <ejshoor at yahoo.com>
Cc: linux-uvc-devel at lists.berlios.de
Sent: Mon, October 4, 2010 4:38:11 AM
Subject: Re: [Linux-uvc-devel] Microphone stopped working on Logitech Quickcam 
3000 for Business

Hi,
Audio in this camera is handled by usb-audio driver not uvcvideo (video only).
In any case when grabbing audio from it make sure you set the sample
rate to 16 Khz (mono), a sound server like pulse should convert the
sample rate and channels automatically, but if you are not using it
then you must use the correct frequency.

Regards,
Paulo

in your test you are using 8 khz:
> Recording WAVE 'test' : Signed 16 bit Little Endian, Rate 8000 Hz, Mono



2010/10/4 EJS <ejshoor at yahoo.com>:
> Hi all,
>
> So I went out and bought this web cam because supposedly it worked right out 
of
> the box and it did. I least for a few weeks, but a few days ago I was trying 
to
> use skype and the microphone on the camera doesnt seem to work any more. (It
> used to work with skype.)
>
>
> I had been installing some new applications and upgrading some packages
> recently; so I couldnt really tell what I would dave done to break it.? 
Anyway,
> I have spend the past few days rolling everything back and I still cant figure
> out what the problem is. I've also changed the order or the kernel modules
> loading, and even took out all of the other cards that might be causing a
> conflict.? If anyone, might be willing to help troubleshoot or at least point 
>me
> in the right direction, I would appreciate it.
>
> Here are some system details. Everything seems to look okay.
>
> uname -a
> Linux jshoor-media 2.6.32-24-generic #43-Ubuntu SMP Thu Sep 16 14:17:33 UTC 
>2010
> i686 GNU/Linux
>
> lsusb
> Bus 002 Device 002: ID 0bc7:0004 X10 Wireless Technology, Inc. X10 Receiver
> Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
> Bus 001 Device 003: ID 046d:09a5 Logitech, Inc.
> Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
>
> dmesg |grep video
> [??? 0.281434] pci 0000:00:10.0: Boot video device
> [?? 13.436269] Linux video capture interface: v2.00
> [?? 13.819647] cx88[0]/0: registered device video0 [v4l2]
> [?? 14.350621] uvcvideo: Found UVC 1.00 device <unnamed> (046d:09a5)
> [?? 14.419363] usbcore: registered new interface driver uvcvideo
>
> dmesg |grep snd
> [?? 14.172483] usbcore: registered new interface driver snd-usb-audio
>
> arecord -l
> **** List of CAPTURE Hardware Devices ****
> card 0: NVidia [HDA NVidia], device 0: ALC889A Analog [ALC889A Analog]
> ? Subdevices: 1/1
> ? Subdevice #0: subdevice #0
> card 0: NVidia [HDA NVidia], device 1: ALC889A Digital [ALC889A Digital]
> ? Subdevices: 1/1
> ? Subdevice #0: subdevice #0
> card 0: NVidia [HDA NVidia], device 2: ALC889A Analog [ALC889A Analog]
> ? Subdevices: 2/2
> ? Subdevice #0: subdevice #0
> ? Subdevice #1: subdevice #1
> card 1: U0x46d0x9a5 [USB Device 0x46d:0x9a5], device 0: USB Audio [USB Audio]
> ? Subdevices: 1/1
> ? Subdevice #0: subdevice #0
>
>
> ?arecord? -v -f S16_LE -d 10 -D plughw:1,0 test
> Recording WAVE 'test' : Signed 16 bit Little Endian, Rate 8000 Hz, Mono
> Plug PCM: Rate conversion PCM (16000, sformat=S16_LE)
> Converter: libspeex (builtin)
> Protocol version: 10002
> Its setup is:
> ? stream?????? : CAPTURE
> ? access?????? : RW_INTERLEAVED
> ? format?????? : S16_LE
> ? subformat??? : STD
> ? channels???? : 1
> ? rate???????? : 8000
> ? exact rate?? : 8000 (8000/1)
> ? msbits?????? : 16
> ? buffer_size? : 4000
> ? period_size? : 1000
> ? period_time? : 125000
> ? tstamp_mode? : NONE
> ? period_step? : 1
> ? avail_min??? : 1000
> ? period_event : 0
> ? start_threshold? : 1
> ? stop_threshold?? : 4000
> ? silence_threshold: 0
> ? silence_size : 0
> ? boundary???? : 1048576000
> Slave: Hardware PCM card 1 'USB Device 0x46d:0x9a5' device 0 subdevice 0
> Its setup is:
> ? stream?????? : CAPTURE
> ? access?????? : MMAP_INTERLEAVED
> ? format?????? : S16_LE
> ? subformat??? : STD
> ? channels???? : 1
> ? rate???????? : 16000
> ? exact rate?? : 16000 (16000/1)
> ? msbits?????? : 16
> ? buffer_size? : 8002
> ? period_size? : 2000
> ? period_time? : 125000
> ? tstamp_mode? : NONE
> ? period_step? : 1
> ? avail_min??? : 2000
> ? period_event : 0
> ? start_threshold? : 2
> ? stop_threshold?? : 8002
> ? silence_threshold: 0
> ? silence_size : 0
> ? boundary???? : 2097676288
> ? appl_ptr???? : 0
> ? hw_ptr?????? : 0
>
>
> Thanks,
> J
>
>
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>



      


From gautam1982 at gmail.com  Tue Oct  5 23:45:00 2010
From: gautam1982 at gmail.com (Atul Gautam)
Date: Wed, 6 Oct 2010 03:15:00 +0530
Subject: [Linux-uvc-devel] UVC device not listed
Message-ID: <AANLkTi=ayaKJRy+eeAibQ1OmPUoAttRSDh4aS6e9nc3d@mail.gmail.com>

Hello Experts,

While checking for the driver for a webcam from Ricoh Ltd., I found that the
Device ID is not present in the database. The page suggested me to update
and report it to the Linux UVC development mailing list. Details for my UVC
are listed below --


Bus 001 Device 004: ID *05ca:1870* *Ricoh Co., Ltd Webcam* 1000


This webcam is with HP Pavilion dv6114tx notebook.

Kindly let me know if you require any more information on the subject.



Thanks very much,

ATUL GAUTAM
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101006/1deba9be/attachment.html>

From mari.schm at gmx.de  Sun Oct 10 13:26:17 2010
From: mari.schm at gmx.de (Marion Schmidt)
Date: Sun, 10 Oct 2010 13:26:17 +0200
Subject: [Linux-uvc-devel] ASUS K52JC - Chicony WebCam 04f2:b1e5 - Mounted
	Upside Down
Message-ID: <4CB1A2D9.4080609@gmx.de>

An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101010/ba90ed0c/attachment.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: lsusb-info.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101010/ba90ed0c/attachment.txt>

From csrodley at xnet.co.nz  Mon Oct 11 01:01:01 2010
From: csrodley at xnet.co.nz (Chris)
Date: Mon, 11 Oct 2010 12:01:01 +1300
Subject: [Linux-uvc-devel] Exposure
Message-ID: <4CB245AD.2050403@xnet.co.nz>

Hi,

I want to be able to read the exposure value of my camera when it is set 
to auto exposure.
I can make changes to exposure via exposure_auto and exposure_absolute 
v4l settings.

What I want to be able to do is find out the exposure value when 
exposure is set to auto so I can know the value of a well exposed image
That way I can change the exposure based on this figure to either 
slightly over or slightly under exposure the image.

Does anyone know if this is possible or how it might be achieved?

Regards,
CJ





From m_carpenter at hotmail.com  Tue Oct 12 02:33:44 2010
From: m_carpenter at hotmail.com (Mogue Carpenter)
Date: Tue, 12 Oct 2010 00:33:44 +0000
Subject: [Linux-uvc-devel] 1c4f:3002 SiGma Micro , branded as Digiflex
Message-ID: <SNT105-W551F1A0EB67CC82BDAAC3E95540@phx.gbl>


 Feel a bit silly now, should have checked this out better before i got this camera :) but had a very similar one before that worked is my only excuse. so here is what I found. you may find it useful. 

The 1c4f:3002 SiGma Micro , branded as Digiflex Colorvis (cam 640 X 480, mic, 6 led, led control ) sort of works. 

it's fine with luvcview but gives console warnings for some of the settings.


but crashes cheese and gstreamer-properties

and in a web java app i get the top right 1/16 of the picture with horizontal lines.

also seen workarounds for skype and msn that involved setting the resolution in app xml files . 

Hope this is a help. Next cam going to be one that is on your list :) 


~$ uname  -a
Linux mec-laptop 2.6.32-25-generic #44-Ubuntu SMP Fri Sep 17 20:26:08 UTC 2010 i686 GNU/Linux

~$ lsusb
Bus 008 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 007 Device 002: ID 046d:c501 Logitech, Inc. Cordless Mouse Receiver
Bus 007 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 006 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 004 Device 002: ID 147e:1000 Upek 
Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 002 Device 006: ID 1c4f:3002 SiGma Micro 
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 001 Device 004: ID 064e:a103 Suyin Corp. 
Bus 001 Device 002: ID 0bda:0158 Realtek Semiconductor Corp. Mass Storage Device
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub

~$ dmesg | grep 1c4f:3002
[   13.197228] uvcvideo: Found UVC 1.00 device USB 2.0 CAMERA (1c4f:3002)
[ 9425.501433] uvcvideo: Found UVC 1.00 device USB 2.0 CAMERA (1c4f:3002)
[14347.601812] uvcvideo: Found UVC 1.00 device USB 2.0 CAMERA (1c4f:3002)
[32706.565524] uvcvideo: Found UVC 1.00 device USB 2.0 CAMERA (1c4f:3002)

~$ luvcview -d /dev/video1
luvcview 0.2.6

SDL information:
  Video driver: x11
  A window manager is available
Device information:
  Device path:  /dev/video1
Stream settings:
  Frame format: YUYV (MJPG is not supported by device)
  Frame size:   640x480
  Frame rate:   30 fps

Quit signal received.
Cleanup done. Exiting ...

~$ gstreamer-properties
Xlib:  extension "RANDR" missing on display ":0.0".
gstreamer-properties-Message: Skipping unavailable plugin 'artsdsink'
gstreamer-properties-Message: Skipping unavailable plugin 'esdsink'
gstreamer-properties-Message: Skipping unavailable plugin 'glimagesink'
gstreamer-properties-Message: Skipping unavailable plugin 'sdlvideosink'
gstreamer-properties-Message: Skipping unavailable plugin 'v4lmjpegsrc'
gstreamer-properties-Message: Skipping unavailable plugin 'qcamsrc'
gstreamer-properties-Message: Skipping unavailable plugin 'esdmon'
gstreamer-properties-Message: Error running pipeline 'Video for Linux (v4l)': Could not get/set settings from/on resource. [v4l_calls.c(418): gst_v4l_set_chan_norm (): /GstPipeline:pipeline0/GstV4lSrc:v4lsrc1:
Error setting the channel/norm settings: Invalid argument]



~$ cheese
Xlib:  extension "RANDR" missing on display ":0.0".
Segmentation fault


 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101012/a310574a/attachment.html>

From tcoulon at decoulon.ch  Sat Oct 16 16:08:19 2010
From: tcoulon at decoulon.ch (Thierry de Coulon)
Date: Sat, 16 Oct 2010 16:08:19 +0200
Subject: [Linux-uvc-devel] Supported cameras: Lenovo internal webcam and
	Bodelin Proscope HR2
Message-ID: <201010161608.19608.tcoulon@decoulon.ch>

Hi,

My new laptop and my new Digital Microscope both work perfectly with the UVC 
drivers. From previous posts I understand the following information may be 
useful:

Lenovo Edge 13" (AMD version), Suyin 064e:e201

Bus 002 Device 003: ID 064e:e201 Suyin Corp. Lenovo Integrated Webcam
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x064e Suyin Corp.
  idProduct          0xe201 Lenovo Integrated Webcam
  bcdDevice            7.10
  iManufacturer           3 SuYin
  iProduct                2 Integrated Camera
  iSerial                 1 Integrated Camera
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          529
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              0 
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           77
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00002a0e
          Auto-Exposure Mode
          Auto-Exposure Priority
          Exposure Time (Absolute)
          Zoom (Absolute)
          PanTilt (Absolute)
          Roll (Absolute)
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 2
        guidExtensionCode         {92423946-d10c-e34a-8783-3133f9eaaa3b}
        bNumControl             3
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            1
        bmControls( 0)       0xff
        iExtension              0 
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               2
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000157f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0 
        bmVideoStandards     0x 9
          None
          SECAM - 625/50
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             4
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               3
        iTerminal               0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              16
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         1
        wTotalLength                      341
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       4
        bStillCaptureMethod                 1
        bTriggerSupport                     0
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                7
        guidFormat                            
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            333334
        dwFrameInterval( 2)            333335
        dwFrameInterval( 3)            333336
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                           1280
        wHeight                           720
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize     1843200
        dwDefaultFrameInterval        1333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)           1333333
        dwFrameInterval( 1)           1333334
        dwFrameInterval( 2)           1333335
        dwFrameInterval( 3)           1333336
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            333334
        dwFrameInterval( 2)            333335
        dwFrameInterval( 3)            333336
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            333334
        dwFrameInterval( 2)            333335
        dwFrameInterval( 3)            333336
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            333334
        dwFrameInterval( 2)            333335
        dwFrameInterval( 3)            333336
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            333334
        dwFrameInterval( 2)            333335
        dwFrameInterval( 3)            333336
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         7
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           360
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      460800
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            333334
        dwFrameInterval( 2)            333335
        dwFrameInterval( 3)            333336
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     0 (Unspecified)
        bTransferCharacteristics            0 (Unspecified)
        bMatrixCoefficients                 0 (Unspecified)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1340  3x 832 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1300  3x 768 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13fc  3x 1020 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)




Bodelin Proscope HR 2 (19ab:1020)

Bus 001 Device 005: ID 19ab:1020 Bodelin 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x19ab Bodelin
  idProduct          0x1020 
  bcdDevice            0.69
  iManufacturer           1 Bodelin
  iProduct                2 ProScope HR2
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          304
    bNumInterfaces          3
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              250mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               2 ProScope HR2
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              2 ProScope HR2
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           51
        dwClockFrequency        6.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x0000000a
          Auto-Exposure Mode
          Exposure Time (Absolute)
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 2
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000007b
          Brightness
          Contrast
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
        iProcessing             0 
        bmVideoStandards     0x 9
          None
          SECAM - 625/50
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval               9
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         1
        wTotalLength                      167
        bEndPointAddress                  130
        bmInfo                              0
        bTerminalLink                       3
        bStillCaptureMethod                 0
        bTriggerSupport                     0
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                4
        guidFormat                            
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 73728000
        dwMaxBitRate                 73728000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  1
        dwFrameInterval( 0)            666666
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1280
        wHeight                          1024
        dwMinBitRate                 78643200
        dwMaxBitRate                 78643200
        dwMaxVideoFrameBufferSize     2621440
        dwDefaultFrameInterval        2666666
        bFrameIntervalType                  1
        dwFrameInterval( 0)           2666666
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                 18432000
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  1
        dwFrameInterval( 0)            666666
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                           1600
        wHeight                          1200
        dwMinBitRate                 78643200
        dwMaxBitRate                 78643200
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval        3906250
        bFrameIntervalType                  1
        dwFrameInterval( 0)           3906250
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     1 (BT.709,sRGB)
        bTransferCharacteristics            1 (BT.709)
        bMatrixCoefficients                 4 (SMPTE 170M (BT.601))
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass         3 Human Interface Device
      bInterfaceSubClass      0 No Subclass
      bInterfaceProtocol      0 None
      iInterface              0 
      Warning: Descriptor too short
        HID Device Descriptor:
          bLength                 9
          bDescriptorType        33
          bcdHID               1.10
          bCountryCode            0 Not supported
          bNumDescriptors         2
          bDescriptorType        34 Report
          wDescriptorLength      50
          bDescriptorType         0 (null)
          wDescriptorLength       0
         Report Descriptors: 
           ** UNAVAILABLE **
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x88  EP 8 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval              10
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval              10
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0002
  (Bus Powered)
  Remote Wakeup Enabled

If you require anything else just ask.

Regards,

Thierry de Coulon

-- 
"We live at a time when emotions and feelings count more than truth, an there 
is a vast ignorance of science" James Lovelock



From oldcpu at opensuse-forums.org  Sun Oct 17 17:00:21 2010
From: oldcpu at opensuse-forums.org (oldcpu)
Date: Sun, 17 Oct 2010 17:00:21 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
	linux compatible ?
Message-ID: <4CBB0F85.8060805@opensuse-forums.org>



It appears that Logitech HD Pro Webcam C910 (046d:0821) is functional with the uvc driver.

Why is it not on your UVC list:  http://www.ideasonboard.org/uvc/ ?

Some queries referencing this webcam working in Linux:http://forums.quickcamteam.net/showthread.php?tid=1345

Also reference uvc thread:https://lists.berlios.de/pipermail/linux-uvc-devel/2010-September/005926.html

And another:
https://lists.berlios.de/pipermail/linux-uvc-devel/2010-September/005939.html

and from the Logitech site: http://www.logitech.com/en-us/webcam-communications/webcams/devices/6816 if one scrolls through enough comments
one will read ports of Linux compatibility with the UVC.

I do NOT own this webcam myself.

But I am thinking of purchasing this webcam, but since I see no reference to it in your list , I am left wondering if there is a compatibility
problem I have not discovered in my surfing (which may explain why it is not in your list). Or if this webcam works well ?

Lee
aka oldcpu





From pj.assis at gmail.com  Mon Oct 18 10:51:31 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Mon, 18 Oct 2010 09:51:31 +0100
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
 linux compatible ?
In-Reply-To: <4CBB0F85.8060805@opensuse-forums.org>
References: <4CBB0F85.8060805@opensuse-forums.org>
Message-ID: <AANLkTim3ob7kQyhuTBfixo6fsW2AGBbQ5Y5AhVQ_Vi1k@mail.gmail.com>

Hi,

2010/10/17 oldcpu <oldcpu at opensuse-forums.org>:
>
>
> It appears that Logitech HD Pro Webcam C910 (046d:0821) is functional with
> the uvc driver.
>
> Why is it not on your UVC list: ?http://www.ideasonboard.org/uvc/ ?

Maybe because it's a rather recent model ;-D and no one confirmed it
yet as uvc compatible (with lsusb output).
In fact all new logitech models are uvc compliant, this includes
off-curse the C models.
The C910 is an updated C900, so it should work at least as good.

Best Regards,
Paulo


From laurent.pinchart at ideasonboard.com  Mon Oct 18 15:45:37 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Mon, 18 Oct 2010 15:45:37 +0200
Subject: [Linux-uvc-devel] Not able to compile v4l-dvb-1da5fed5c8b2 on
	RHEL5.5
In-Reply-To: <AANLkTi=waPOa0ve71XumOi=THCGK5c-xL49EkmZT_X5n@mail.gmail.com>
References: <AANLkTi=waPOa0ve71XumOi=THCGK5c-xL49EkmZT_X5n@mail.gmail.com>
Message-ID: <201010181545.38096.laurent.pinchart@ideasonboard.com>

Hi Preetish,

On Wednesday 29 September 2010 09:16:56 Preetish wrote:
> Hello Everybody
> 
> I am not able to compile v4l-dvb-1da5fed5c8b2 on RHEL5.5 Client .
> Below are the details :
> 
> This is a lenovo R400 Thinkpad with a builtin webcam.
> $uname -a
> Linux punlap13 2.6.18-194.el5 #1 SMP Tue Mar 16 21:52:39 EDT 2010
> x86_64 x86_64 x86_64 GNU/Linux
> 
> 
> When I run 'make' I get the following error :
> 
> ---- snip ----
> 
> make -C /exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l
> make[1]: Entering directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l' perl
> scripts/make_config_compat.pl /lib/modules/2.6.18-194.el5/source
> ./.myconfig ./config-compat.h
> creating symbolic links...
> make -C firmware prep
> make[2]: Entering directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
> make[2]: Leaving directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
> make -C firmware
> make[2]: Entering directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
>  CC  ihex2fw
> gcc: No such file or directory
> make[2]: *** [ihex2fw] Error 1
> make[2]: Leaving directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
> make[1]: *** [firmware] Error 2
> make[1]: Leaving directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l' make: *** [all] Error 2
> 
> ---- snip ----
> 
> It looks like ihex2fw is not there in 2.6.18.194 . Can someone please
> point me what am I missing. Should I be using an older source which
> supports my kernel. If yes can someone point me the link to download
> it. I am not able to find one. Thanks in advance .

It seems gcc isn't installed on your system. Without a compiler you will have 
trouble compiling anything :-)

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Mon Oct 18 16:04:11 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Mon, 18 Oct 2010 16:04:11 +0200
Subject: [Linux-uvc-devel] 064e:a219 Suyin Corp. "1.3M WebCam" (Acer
	Aspire 5745G)
In-Reply-To: <AANLkTi=oFc+MsHfdZ6tokQr-uaCmLK=dFostxnNjqJdB@mail.gmail.com>
References: <AANLkTim=3bMcoT+Yn3fR2P_eySXKmr8RVPvjWqnnt-Fq@mail.gmail.com>
	<201009222323.42642.laurent.pinchart@ideasonboard.com>
	<AANLkTi=oFc+MsHfdZ6tokQr-uaCmLK=dFostxnNjqJdB@mail.gmail.com>
Message-ID: <201010181604.12278.laurent.pinchart@ideasonboard.com>

Hi Igor,

On Thursday 23 September 2010 00:08:13 Igor Demyanov wrote:
> Hi Laurent,
> 
> I found the cause. All the matter in light of the room. So in the exposure
> (auto-exposure or even auto white balance).
> My camera only supports:
> 9963776: Brightness: 0
> 9963777: Contrast: 32
> 9963778: Saturation: 64
> 9963779: Hue: 0
> 9963788: White Balance Temperature, Auto: 1
> 9963792: Gamma: 100
> 9963800: Power Line Frequency: 1
> 9963803: Sharpness: 4
> 9963804: Backlight Compensation: 1
> 
> How to add support exposure and auto white balance?

Auto white balance is supported as reported by your camera:

> 9963788: White Balance Temperature, Auto: 1

Turning auto-exposure off isn't supported by the camera, so there's little the 
driver can do.

> PS: You were right, the talking about it earlier.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Mon Oct 18 16:09:57 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Mon, 18 Oct 2010 16:09:57 +0200
Subject: [Linux-uvc-devel] Webcam doesn't work.
In-Reply-To: <201009261027.01752.dion@thinkmoult.com>
References: <201009261027.01752.dion@thinkmoult.com>
Message-ID: <201010181609.57503.laurent.pinchart@ideasonboard.com>

Hi Dion,

On Sunday 26 September 2010 04:26:57 Dion Moult wrote:
> I've been trying to get my webcam working for a few years now and I've
> unfortunately made little progress. I'm sorry for being vague about the
> problem but that's because I don't know what the problem is.
> 
> Here's a detailed thread describing my progress:
> http://forums.gentoo.org/viewtopic-t-804143.html
> 
> I hope one of you can help me resolve this issue.

Can you please send me all messages printed to the kernel log (dmesg) when the 
camera fails to work ?

-- 
Regards,

Laurent Pinchart


From igor.demyanov at gmail.com  Mon Oct 18 21:03:02 2010
From: igor.demyanov at gmail.com (Igor Demyanov)
Date: Mon, 18 Oct 2010 23:03:02 +0400
Subject: [Linux-uvc-devel] 064e:a219 Suyin Corp. "1.3M WebCam" (Acer
	Aspire 5745G)
In-Reply-To: <201010181604.12278.laurent.pinchart@ideasonboard.com>
References: <AANLkTim=3bMcoT+Yn3fR2P_eySXKmr8RVPvjWqnnt-Fq@mail.gmail.com>
	<201009222323.42642.laurent.pinchart@ideasonboard.com>
	<AANLkTi=oFc+MsHfdZ6tokQr-uaCmLK=dFostxnNjqJdB@mail.gmail.com>
	<201010181604.12278.laurent.pinchart@ideasonboard.com>
Message-ID: <AANLkTi=Hs1znpMaPEFehwJWvceqseYug5Af3qzA0RN8=@mail.gmail.com>

Hi Laurent,
Unfortunately it did not help.

Noticed a strange behavior.
In the light table lamp White Balance temperature varies fps at 1 frame. fps
= 6-7.
If, WBT = 0 bring a sheet of white paper into the frame. FPS rises to 14.5.
Removing paper, FPS remains the same(14.5).
Next, if you close the lens by hand and wait for 1-2 seconds, open the lens,
the FPS again fall to 6 frames and after some time (15 seconds) again rises
to 14.5 frames. It was also observed decrease in fps when moving in the
frame.
A similar behavior of the camera at WBT = 1.
One gets the feeling that the WBT only affects the color.
Auto-exposure not supported by the camera?

When I run guvcview
Console output:
fps is set to 1/30
 Could not grab image (select timeout): Resource temporarily unavailable
Is this normal?

2010/10/18 Laurent Pinchart <laurent.pinchart at ideasonboard.com>

> Hi Igor,
>
> > How to add support exposure and auto white balance?
>
> Auto white balance is supported as reported by your camera:
>
> > 9963788: White Balance Temperature, Auto: 1
>
> Turning auto-exposure off isn't supported by the camera, so there's little
> the
> driver can do.
>
> > PS: You were right, the talking about it earlier.
>

-- 
Best regards,
Igor Demyanov
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101018/d02bfeb5/attachment.html>

From laurent.pinchart at ideasonboard.com  Tue Oct 19 00:21:18 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 19 Oct 2010 00:21:18 +0200
Subject: [Linux-uvc-devel] Help with camera contol using extension unit
In-Reply-To: <180016629E60E248879BFEDE11955D851471474070@P3PW5EX1MB04.EX1.SECURESERVER.NET>
References: <180016629E60E248879BFEDE11955D851471474070@P3PW5EX1MB04.EX1.SECURESERVER.NET>
Message-ID: <201010190021.18928.laurent.pinchart@ideasonboard.com>

Hi Avinash,

On Friday 01 October 2010 17:05:02 avi.nehemiah at madisonrt.com wrote:
> We are using a custom camera that uses an Alcor AU 3821 controller in
> conjunction with Aptina camera sensor (UVC 1.1 compatible), we are trying
> to control the camera by changing values of a few camera registers through
> I2C using an extension unit on the camera controller. We do have a
> directshow based solution in windows but are looking to migrate our
> development effort to Linux and would greatly appreciate any tips or
> pointers on how to achieve this.
> 
> We are using Ubuntu 8.04.4 with Kernel 2.6.27.27.
> 
> If someone is interested on helping us with this we will happy to
> compensate for your time and effort on a contract basis.

The uvcvideo driver has a simple (but undocumented) XU controls API. The API 
is being reworked and documented. I can send you a preliminary patch for 
testing if you're interested.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Tue Oct 19 00:36:13 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 19 Oct 2010 00:36:13 +0200
Subject: [Linux-uvc-devel] UVC device not listed
In-Reply-To: <AANLkTi=ayaKJRy+eeAibQ1OmPUoAttRSDh4aS6e9nc3d@mail.gmail.com>
References: <AANLkTi=ayaKJRy+eeAibQ1OmPUoAttRSDh4aS6e9nc3d@mail.gmail.com>
Message-ID: <201010190036.13987.laurent.pinchart@ideasonboard.com>

Hi Atul,

On Tuesday 05 October 2010 23:45:00 Atul Gautam wrote:
> Hello Experts,
> 
> While checking for the driver for a webcam from Ricoh Ltd., I found that
> the Device ID is not present in the database. The page suggested me to
> update and report it to the Linux UVC development mailing list. Details
> for my UVC are listed below --
> 
> 
> Bus 001 Device 004: ID *05ca:1870* *Ricoh Co., Ltd Webcam* 1000
> 
> 
> This webcam is with HP Pavilion dv6114tx notebook.
> 
> Kindly let me know if you require any more information on the subject.

Could you please send me the output of

lsusb -v -d 05ca:1870

-- 
Regards,

Laurent Pinchart


From gautam1982 at gmail.com  Tue Oct 19 05:13:17 2010
From: gautam1982 at gmail.com (Atul Gautam)
Date: Tue, 19 Oct 2010 08:43:17 +0530
Subject: [Linux-uvc-devel] UVC device not listed
In-Reply-To: <201010190036.13987.laurent.pinchart@ideasonboard.com>
References: <AANLkTi=ayaKJRy+eeAibQ1OmPUoAttRSDh4aS6e9nc3d@mail.gmail.com>
	<201010190036.13987.laurent.pinchart@ideasonboard.com>
Message-ID: <AANLkTim2f74h6b41hRBox2kjpE_aHoG+ij1CECCTY9Fc@mail.gmail.com>

Hi Laurent,

So glad to see your reply. Eagerly looking for someone to help me out on
this. Output for "lsusb" command is attached with this mail in the form of a
notepad.


Thanks,

ATUL GAUTAM






On Tue, Oct 19, 2010 at 4:06 AM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi Atul,
>
> On Tuesday 05 October 2010 23:45:00 Atul Gautam wrote:
> > Hello Experts,
> >
> > While checking for the driver for a webcam from Ricoh Ltd., I found that
> > the Device ID is not present in the database. The page suggested me to
> > update and report it to the Linux UVC development mailing list. Details
> > for my UVC are listed below --
> >
> >
> > Bus 001 Device 004: ID *05ca:1870* *Ricoh Co., Ltd Webcam* 1000
> >
> >
> > This webcam is with HP Pavilion dv6114tx notebook.
> >
> > Kindly let me know if you require any more information on the subject.
>
> Could you please send me the output of
>
> lsusb -v -d 05ca:1870
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101019/038173f2/attachment.html>
-------------- next part --------------
linux-1n3f:~ # lsusb -v -d 05ca:1870

Bus 001 Device 005: ID 05ca:1870 Ricoh Co., Ltd Webcam 1000
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0 
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  idVendor           0x05ca Ricoh Co., Ltd
  idProduct          0x1870 Webcam 1000
  bcdDevice            1.00
  iManufacturer           0 
  iProduct                0 
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           78
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              100mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass         6 Imaging
      bInterfaceSubClass      0 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       1
      bNumEndpoints           2
      bInterfaceClass         6 Imaging
      bInterfaceSubClass      0 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0c00  2x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       2
      bNumEndpoints           2
      bInterfaceClass         6 Imaging
      bInterfaceSubClass      0 
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0 
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)
linux-1n3f:~ # 

From oldcpu at opensuse-forums.org  Tue Oct 19 08:07:17 2010
From: oldcpu at opensuse-forums.org (oldcpu)
Date: Tue, 19 Oct 2010 08:07:17 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
 linux compatible ?
In-Reply-To: <AANLkTim3ob7kQyhuTBfixo6fsW2AGBbQ5Y5AhVQ_Vi1k@mail.gmail.com>
References: <4CBB0F85.8060805@opensuse-forums.org>
	<AANLkTim3ob7kQyhuTBfixo6fsW2AGBbQ5Y5AhVQ_Vi1k@mail.gmail.com>
Message-ID: <4CBD3595.5030605@opensuse-forums.org>

  OK, ... well, I went ahead and ordered it via mail order.  :)

I figure if it does not work well, I have many friends who use 
MS-Windows who would love to have it as a gift. :)

If it does work reasonably well, what will I have to do to have the UVC 
compatibility list updated to reflect that the Logitech HD Pro Webcam 
C910 (046d:0821) works with Linux and the UVC driver?

Regards,

Lee
aka oldcpu


On 10/18/2010 10:51 AM, Paulo Assis wrote:
> Hi,
>
> 2010/10/17 oldcpu<oldcpu at opensuse-forums.org>:
>>
>> It appears that Logitech HD Pro Webcam C910 (046d:0821) is functional with
>> the uvc driver.
>>
>> Why is it not on your UVC list:  http://www.ideasonboard.org/uvc/ ?
> Maybe because it's a rather recent model ;-D and no one confirmed it
> yet as uvc compatible (with lsusb output).
> In fact all new logitech models are uvc compliant, this includes
> off-curse the C models.
> The C910 is an updated C900, so it should work at least as good.
>
> Best Regards,
> Paulo
>



From riccardo.magliocchetti at gmail.com  Tue Oct 19 09:01:35 2010
From: riccardo.magliocchetti at gmail.com (Riccardo Magliocchetti)
Date: Tue, 19 Oct 2010 09:01:35 +0200
Subject: [Linux-uvc-devel] sanyo cg10
Message-ID: <4CBD424F.50804@gmail.com>

[resending after subscribing]

Hello,

i have a sanyo cg10 camcorder, i've tried to connect it to my pc using 
it "pc camera" mode, it is recognized as uvc device but it is not 
working. With vlc i see a green background, with luvcview:

$ luvcview -d /dev/video1
luvcview 0.2.6

SDL information:
    Video driver: x11
    A window manager is available
Device information:
    Device path:  /dev/video1
Stream settings:
    Frame format: MJPG
Unable to set format: Input/output error
   Init v4L2 failed !! exit fatal

dmesg shows:

[ 2542.516177] usb 2-2: new high speed USB device using ehci_hcd and 
address 4
[ 2542.876873] usb 2-2: New USB device found, idVendor=0474, idProduct=02e0
[ 2542.876890] usb 2-2: New USB device strings: Mfr=1, Product=2, 
SerialNumber=3
[ 2542.876899] usb 2-2: Product: SANYO Digital Camera
[ 2542.876906] usb 2-2: Manufacturer: SANYO
[ 2542.876912] usb 2-2: SerialNumber: 0000V2057131
[ 2543.224991] uvcvideo: Found UVC 1.00 device SANYO Digital Camera 
(0474:02e0)

Attached lsusb -v output.

thanks,
riccardo

-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb-sanyo-cg10-0474:02e0.log
Type: text/x-log
Size: 5938 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101019/493827d6/attachment.bin>

From pj.assis at gmail.com  Tue Oct 19 10:25:28 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 19 Oct 2010 09:25:28 +0100
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
 linux compatible ?
In-Reply-To: <4CBD3595.5030605@opensuse-forums.org>
References: <4CBB0F85.8060805@opensuse-forums.org>
	<AANLkTim3ob7kQyhuTBfixo6fsW2AGBbQ5Y5AhVQ_Vi1k@mail.gmail.com>
	<4CBD3595.5030605@opensuse-forums.org>
Message-ID: <AANLkTimZ3Rb1x5_VCzwrtzE9EOWCddCD4XvjLKHPzS41@mail.gmail.com>

Hi,

2010/10/19 oldcpu <oldcpu at opensuse-forums.org>:
> ?OK, ... well, I went ahead and ordered it via mail order. ?:)
>
> I figure if it does not work well, I have many friends who use MS-Windows
> who would love to have it as a gift. :)
>
> If it does work reasonably well, what will I have to do to have the UVC
> compatibility list updated to reflect that the Logitech HD Pro Webcam C910
> (046d:0821) works with Linux and the UVC driver?
>

Usually Laurent asks for the output of "lsusb -v", so I guess a little
report on the camera compatibility, accompanied by this will be
enough.
But that's up to Laurent ;-D

Regards,
Paulo


From neil.benn at gmail.com  Tue Oct 19 18:12:10 2010
From: neil.benn at gmail.com (Neil Benn)
Date: Tue, 19 Oct 2010 09:12:10 -0700
Subject: [Linux-uvc-devel] Compiling and loading V4l modules
Message-ID: <AANLkTimoOAzVG=XRVE20c3xQMeKnT+wCiX+wjSPS-e4p@mail.gmail.com>

Hello,

        I have successfully checked out video for linux, compiled it
and installed it using:

hg clone http://linuxtv.org/hg/v4l-dvb
make menuconfig
<I disabled FireTV as it did not compile>
sudo make
sudo make install

  That all worked fine but the thing is that I really want to work on
just the video for linux uvc bits and the sudo make install loads in a
whole load of stuff.  Can I just load in the bits for video for linux
and uvc and if so what commands and files do I need to work on - there
are a lot!

  Thanks in advance.

Cheers,

Neil


From oldcpu at opensuse-forums.org  Tue Oct 19 22:06:46 2010
From: oldcpu at opensuse-forums.org (oldcpu)
Date: Tue, 19 Oct 2010 22:06:46 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
 linux compatible ?
In-Reply-To: <AANLkTimZ3Rb1x5_VCzwrtzE9EOWCddCD4XvjLKHPzS41@mail.gmail.com>
References: <4CBB0F85.8060805@opensuse-forums.org>
	<AANLkTim3ob7kQyhuTBfixo6fsW2AGBbQ5Y5AhVQ_Vi1k@mail.gmail.com>
	<4CBD3595.5030605@opensuse-forums.org>
	<AANLkTimZ3Rb1x5_VCzwrtzE9EOWCddCD4XvjLKHPzS41@mail.gmail.com>
Message-ID: <4CBDFA56.8080408@opensuse-forums.org>

  The Logitech HD Pro Webcam C910 (046d:0821) uvc / linux compatible 
webcam arrived in the mail today.

I plugged it into my desktop PC (Asus PST Deluxe V2 w/6 GB RAM and Core 
i7 920 CPU).

It immediately worked with cheese and wxcam on a 64-bit openSUSE-11.2.  
I have not yet tested any other applications nor distributions.

Resolutions I tried were 320x240, 640x480, and 960x720, ... but this 
webcam has MANY other resolutions available.

I used 'mpeg' output format and also 'auto' (not sure what auto was 
using).  Clearly the webcam is compatible with Linux. As to what 
features are available, I do not know enough about the web camera at 
this time to say. I can say it shows a picture at very very good quality.

The "lsusb -v" output is MASSIVE. So rather than put it in an email, I 
copied and pasted it here:
http://pastebin.ca/1967260

The basic "lsusb" yields:
Bus 002 Device 004: ID 046d:0821 Logitech, Inc.

I think it safe to say this webcam works with Linux, albeit the full 
range of features present in MS-Windows may not be available in Lniux (I 
don't do windows so I can not compare to windows and hence I can not say).

Lee
aka oldcpu

On 10/19/2010 10:25 AM, Paulo Assis wrote:
> Hi,
>
> 2010/10/19 oldcpu<oldcpu at opensuse-forums.org>:
>>   OK, ... well, I went ahead and ordered it via mail order.  :)
>>
>> I figure if it does not work well, I have many friends who use MS-Windows
>> who would love to have it as a gift. :)
>>
>> If it does work reasonably well, what will I have to do to have the UVC
>> compatibility list updated to reflect that the Logitech HD Pro Webcam C910
>> (046d:0821) works with Linux and the UVC driver?
>>
> Usually Laurent asks for the output of "lsusb -v", so I guess a little
> report on the camera compatibility, accompanied by this will be
> enough.
> But that's up to Laurent ;-D
>
> Regards,
> Paulo
>



From josu.lazkano at gmail.com  Tue Oct 19 23:45:06 2010
From: josu.lazkano at gmail.com (Josu Lazkano)
Date: Tue, 19 Oct 2010 23:45:06 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
 linux compatible ?
In-Reply-To: <4CBDFA56.8080408@opensuse-forums.org>
References: <4CBB0F85.8060805@opensuse-forums.org>
	<AANLkTim3ob7kQyhuTBfixo6fsW2AGBbQ5Y5AhVQ_Vi1k@mail.gmail.com>
	<4CBD3595.5030605@opensuse-forums.org>
	<AANLkTimZ3Rb1x5_VCzwrtzE9EOWCddCD4XvjLKHPzS41@mail.gmail.com>
	<4CBDFA56.8080408@opensuse-forums.org>
Message-ID: <AANLkTikiALLiiDWtCRqYET4tuEabAdYjRR3CWRN4zc7P@mail.gmail.com>

Hello Lee, I am thinking on buy this webcam for a LAN videoconference
with 1080p.

Do you try to have 1080p video on Linux???

Thanks and regards.

2010/10/19 oldcpu <oldcpu at opensuse-forums.org>:
> ?The Logitech HD Pro Webcam C910 (046d:0821) uvc / linux compatible webcam
> arrived in the mail today.
>
> I plugged it into my desktop PC (Asus PST Deluxe V2 w/6 GB RAM and Core i7
> 920 CPU).
>
> It immediately worked with cheese and wxcam on a 64-bit openSUSE-11.2. ?I
> have not yet tested any other applications nor distributions.
>
> Resolutions I tried were 320x240, 640x480, and 960x720, ... but this webcam
> has MANY other resolutions available.
>
> I used 'mpeg' output format and also 'auto' (not sure what auto was using).
> ?Clearly the webcam is compatible with Linux. As to what features are
> available, I do not know enough about the web camera at this time to say. I
> can say it shows a picture at very very good quality.
>
> The "lsusb -v" output is MASSIVE. So rather than put it in an email, I
> copied and pasted it here:
> http://pastebin.ca/1967260
>
> The basic "lsusb" yields:
> Bus 002 Device 004: ID 046d:0821 Logitech, Inc.
>
> I think it safe to say this webcam works with Linux, albeit the full range
> of features present in MS-Windows may not be available in Lniux (I don't do
> windows so I can not compare to windows and hence I can not say).
>
> Lee
> aka oldcpu
>
> On 10/19/2010 10:25 AM, Paulo Assis wrote:
>>
>> Hi,
>>
>> 2010/10/19 oldcpu<oldcpu at opensuse-forums.org>:
>>>
>>> ?OK, ... well, I went ahead and ordered it via mail order. ?:)
>>>
>>> I figure if it does not work well, I have many friends who use MS-Windows
>>> who would love to have it as a gift. :)
>>>
>>> If it does work reasonably well, what will I have to do to have the UVC
>>> compatibility list updated to reflect that the Logitech HD Pro Webcam
>>> C910
>>> (046d:0821) works with Linux and the UVC driver?
>>>
>> Usually Laurent asks for the output of "lsusb -v", so I guess a little
>> report on the camera compatibility, accompanied by this will be
>> enough.
>> But that's up to Laurent ;-D
>>
>> Regards,
>> Paulo
>>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>



-- 
Josu Lazkano


From m_uvcdev at ml1.co.uk  Wed Oct 20 00:28:11 2010
From: m_uvcdev at ml1.co.uk (Martin)
Date: Tue, 19 Oct 2010 23:28:11 +0100
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
 linux compatible ?
In-Reply-To: <AANLkTikiALLiiDWtCRqYET4tuEabAdYjRR3CWRN4zc7P@mail.gmail.com>
References: <4CBB0F85.8060805@opensuse-forums.org>
	<AANLkTim3ob7kQyhuTBfixo6fsW2AGBbQ5Y5AhVQ_Vi1k@mail.gmail.com>
	<4CBD3595.5030605@opensuse-forums.org>
	<AANLkTimZ3Rb1x5_VCzwrtzE9EOWCddCD4XvjLKHPzS41@mail.gmail.com>
	<4CBDFA56.8080408@opensuse-forums.org>
	<AANLkTikiALLiiDWtCRqYET4tuEabAdYjRR3CWRN4zc7P@mail.gmail.com>
Message-ID: <4CBE1B7B.1000207@ml1.co.uk>

On 19/10/10 22:45, Josu Lazkano wrote:
> Hello Lee, I am thinking on buy this webcam for a LAN videoconference
> with 1080p.
> 
> Do you try to have 1080p video on Linux???

Also take a look at the Sweex HD webcam:

WC060 Series HD Webcam
idVendor=177f, idProduct=0060

Works well and supports 1600 x 1200 at about 5fps (provided there is
nothing else on the USB root hub!).

Best image clarity I've seen so far in that price range.

Only thing to note is that the supplied USB lead must be plugged
directly into a powered hub. If you try an USB extension lead on it, the
image quality is reduced.

Takes 128mA max.


Good luck,
Martin


From laurent.pinchart at ideasonboard.com  Wed Oct 20 01:38:37 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 20 Oct 2010 01:38:37 +0200
Subject: [Linux-uvc-devel] Exposure
In-Reply-To: <4CB245AD.2050403@xnet.co.nz>
References: <4CB245AD.2050403@xnet.co.nz>
Message-ID: <201010200138.37837.laurent.pinchart@ideasonboard.com>

Hi Chris,

On Monday 11 October 2010 01:01:01 Chris wrote:
> Hi,
> 
> I want to be able to read the exposure value of my camera when it is set
> to auto exposure.
> I can make changes to exposure via exposure_auto and exposure_absolute
> v4l settings.
> 
> What I want to be able to do is find out the exposure value when
> exposure is set to auto so I can know the value of a well exposed image
> That way I can change the exposure based on this figure to either
> slightly over or slightly under exposure the image.
> 
> Does anyone know if this is possible or how it might be achieved?

When an auto control is turned on, cameras can report control change events
for the corresponding manual controls to inform the host about current control
values. This feature is currently not supported by the uvcvideo driver.

Despite this, you should be able to use the VIDIOC_G_CTRL ioctl to read the
current exposure value. However, the driver caches the value and doesn't read
it back from the hardware every time an application reads the control. You can
disable caching for the exposure control with the following patch.

diff --git a/drivers/media/video/uvc/uvc_ctrl.c b/drivers/media/video/uvc/uvc_ctrl.c
index a350fad..cf5e5a5 100644
--- a/drivers/media/video/uvc/uvc_ctrl.c
+++ b/drivers/media/video/uvc/uvc_ctrl.c
@@ -210,7 +210,7 @@ static struct uvc_control_info uvc_ctrls[] = {
 		.index		= 3,
 		.size		= 4,
 		.flags		= UVC_CONTROL_SET_CUR | UVC_CONTROL_GET_RANGE
-				| UVC_CONTROL_RESTORE,
+				| UVC_CONTROL_RESTORE | UVC_CONTROL_AUTO_UPDATE,
 	},
 	{
 		.entity		= UVC_GUID_UVC_CAMERA,


This assumes that your camera firmware isn't buggy and will report the current
exposure value when queried. The only way to find out is to try it out.

-- 
Regards,

Laurent Pinchart


From oldcpu at opensuse-forums.org  Wed Oct 20 01:44:07 2010
From: oldcpu at opensuse-forums.org (oldcpu)
Date: Wed, 20 Oct 2010 01:44:07 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
 linux compatible ?
In-Reply-To: <AANLkTikiALLiiDWtCRqYET4tuEabAdYjRR3CWRN4zc7P@mail.gmail.com>
References: <4CBB0F85.8060805@opensuse-forums.org>	<AANLkTim3ob7kQyhuTBfixo6fsW2AGBbQ5Y5AhVQ_Vi1k@mail.gmail.com>	<4CBD3595.5030605@opensuse-forums.org>	<AANLkTimZ3Rb1x5_VCzwrtzE9EOWCddCD4XvjLKHPzS41@mail.gmail.com>	<4CBDFA56.8080408@opensuse-forums.org>
	<AANLkTikiALLiiDWtCRqYET4tuEabAdYjRR3CWRN4zc7P@mail.gmail.com>
Message-ID: <4CBE2D47.2040301@opensuse-forums.org>

  I've not had much chance to play with the webcam ...

Please take a look at post#5 in this thread: 
http://forums.quickcamteam.net/showthread.php?tid=1345

It supports 1280x720 @ 30 fps (ie 720p @ 30 fps) and 1920x1080 @ 30 fps 
(ie 1080 @ 30 fps) according to that link.

I have not had this webcam long enough to do any real testing (I had 
other things to do tonight and also the rest of this week).

I have played it at 1920 x 1080 but I have not determined if that is a 
rendered vs direct resolution that I get.

Also, its one thing to say video resolution is supported at 1920x1080 
using guvcview, but its another thing to obtain a high resolution in a 
specific application.

To stave off any Skype questions, I do not use Skype (which appears to 
be the app many people use for conferencing) so I can not answer any 
questions on that.

Good luck.

Lee



On 10/19/2010 11:45 PM, Josu Lazkano wrote:
> Hello Lee, I am thinking on buy this webcam for a LAN videoconference
> with 1080p.
>
> Do you try to have 1080p video on Linux???
>
> Thanks and regards.
>
> 2010/10/19 oldcpu<oldcpu at opensuse-forums.org>:
>>   The Logitech HD Pro Webcam C910 (046d:0821) uvc / linux compatible webcam
>> arrived in the mail today.
>>
>> I plugged it into my desktop PC (Asus PST Deluxe V2 w/6 GB RAM and Core i7
>> 920 CPU).
>>
>> It immediately worked with cheese and wxcam on a 64-bit openSUSE-11.2.  I
>> have not yet tested any other applications nor distributions.
>>
>> Resolutions I tried were 320x240, 640x480, and 960x720, ... but this webcam
>> has MANY other resolutions available.
>>
>> I used 'mpeg' output format and also 'auto' (not sure what auto was using).
>>   Clearly the webcam is compatible with Linux. As to what features are
>> available, I do not know enough about the web camera at this time to say. I
>> can say it shows a picture at very very good quality.
>>
>> The "lsusb -v" output is MASSIVE. So rather than put it in an email, I
>> copied and pasted it here:
>> http://pastebin.ca/1967260
>>
>> The basic "lsusb" yields:
>> Bus 002 Device 004: ID 046d:0821 Logitech, Inc.
>>
>> I think it safe to say this webcam works with Linux, albeit the full range
>> of features present in MS-Windows may not be available in Lniux (I don't do
>> windows so I can not compare to windows and hence I can not say).
>>
>> Lee
>> aka oldcpu
>>
>> On 10/19/2010 10:25 AM, Paulo Assis wrote:
>>> Hi,
>>>
>>> 2010/10/19 oldcpu<oldcpu at opensuse-forums.org>:
>>>>   OK, ... well, I went ahead and ordered it via mail order.  :)
>>>>
>>>> I figure if it does not work well, I have many friends who use MS-Windows
>>>> who would love to have it as a gift. :)
>>>>
>>>> If it does work reasonably well, what will I have to do to have the UVC
>>>> compatibility list updated to reflect that the Logitech HD Pro Webcam
>>>> C910
>>>> (046d:0821) works with Linux and the UVC driver?
>>>>
>>> Usually Laurent asks for the output of "lsusb -v", so I guess a little
>>> report on the camera compatibility, accompanied by this will be
>>> enough.
>>> But that's up to Laurent ;-D
>>>
>>> Regards,
>>> Paulo
>>>
>> _______________________________________________
>> Linux-uvc-devel mailing list
>> Linux-uvc-devel at lists.berlios.de
>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>
>
>



From laurent.pinchart at ideasonboard.com  Wed Oct 20 01:45:13 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 20 Oct 2010 01:45:13 +0200
Subject: [Linux-uvc-devel] 1c4f:3002 SiGma Micro , branded as Digiflex
In-Reply-To: <SNT105-W551F1A0EB67CC82BDAAC3E95540@phx.gbl>
References: <SNT105-W551F1A0EB67CC82BDAAC3E95540@phx.gbl>
Message-ID: <201010200145.13989.laurent.pinchart@ideasonboard.com>

Hi Mogue,

On Tuesday 12 October 2010 02:33:44 Mogue Carpenter wrote:
>  Feel a bit silly now, should have checked this out better before i got
> this camera :) but had a very similar one before that worked is my only
> excuse. so here is what I found. you may find it useful.
> 
> The 1c4f:3002 SiGma Micro , branded as Digiflex Colorvis (cam 640 X 480,
> mic, 6 led, led control ) sort of works.

Could you please send me the output of

lsusb -v -d 1c4f:3002

> it's fine with luvcview but gives console warnings for some of the
> settings.

Which settings, and what warnings ?

> but crashes cheese and gstreamer-properties
> 
> and in a web java app i get the top right 1/16 of the picture with
> horizontal lines.
> 
> also seen workarounds for skype and msn that involved setting the
> resolution in app xml files.
> 
> Hope this is a help. Next cam going to be one that is on your list :)

I should add a disclaimer to the list, as manufacturers sometimes produce 
different webcams with the same commercial name, VID and PID. There's no 100% 
guarantee that listed devices will work properly (but I hope the probability 
is high enough).

[snip]

> ~$ luvcview -d /dev/video1
> luvcview 0.2.6
> 
> SDL information:
>   Video driver: x11
>   A window manager is available
> Device information:
>   Device path:  /dev/video1
> Stream settings:
>   Frame format: YUYV (MJPG is not supported by device)
>   Frame size:   640x480
>   Frame rate:   30 fps
> 
> Quit signal received.
> Cleanup done. Exiting ...

Looks good so far.

> ~$ gstreamer-properties
> Xlib:  extension "RANDR" missing on display ":0.0".
> gstreamer-properties-Message: Skipping unavailable plugin 'artsdsink'
> gstreamer-properties-Message: Skipping unavailable plugin 'esdsink'
> gstreamer-properties-Message: Skipping unavailable plugin 'glimagesink'
> gstreamer-properties-Message: Skipping unavailable plugin 'sdlvideosink'
> gstreamer-properties-Message: Skipping unavailable plugin 'v4lmjpegsrc'
> gstreamer-properties-Message: Skipping unavailable plugin 'qcamsrc'
> gstreamer-properties-Message: Skipping unavailable plugin 'esdmon'
> gstreamer-properties-Message: Error running pipeline 'Video for Linux
> (v4l)': Could not get/set settings from/on resource. [v4l_calls.c(418):
> gst_v4l_set_chan_norm (): /GstPipeline:pipeline0/GstV4lSrc:v4lsrc1: Error
> setting the channel/norm settings: Invalid argument]

The uvcvideo driver doesn't implement the channel/norm ioctls, so the error is 
not specific to your camera. gstreamer-properties should be able to handler 
that properly.

> ~$ cheese
> Xlib:  extension "RANDR" missing on display ":0.0".
> Segmentation fault

Nice one ! Do you get an crash trace in your kernel log after that ? If you 
don't there's definitely a bug in cheese (there could also be a driver bug, 
but cheese shouldn't crash like that).

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Oct 20 01:48:27 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 20 Oct 2010 01:48:27 +0200
Subject: [Linux-uvc-devel] sanyo cg10
In-Reply-To: <4CB73E91.7050701@gmail.com>
References: <4CB73E91.7050701@gmail.com>
Message-ID: <201010200148.27485.laurent.pinchart@ideasonboard.com>

Hi Riccardo,

On Thursday 14 October 2010 19:32:01 Riccardo Magliocchetti wrote:
> Hello,
> 
> i have a sanyo cg10 camcorder, i've tried to connect it to my pc using
> it "pc camera" mode, it is recognized as uvc device but it is not
> working. With vlc i see a green background, with luvcview:
> 
> $ luvcview -d /dev/video1
> luvcview 0.2.6
> 
> SDL information:
>    Video driver: x11
>    A window manager is available
> Device information:
>    Device path:  /dev/video1
> Stream settings:
>    Frame format: MJPG
> Unable to set format: Input/output error
>   Init v4L2 failed !! exit fatal

Do you get any additional message printed to the kernel log when this happens 
? If not, please raise the driver trace level with

echo 0xffff > /sys/modules/uvcvideo/parameters/trace

and run luvcview again. The driver should then print additional debug 
information.

> dmesg shows:
> 
> [ 2542.516177] usb 2-2: new high speed USB device using ehci_hcd and
> address 4
> [ 2542.876873] usb 2-2: New USB device found, idVendor=0474, idProduct=02e0
> [ 2542.876890] usb 2-2: New USB device strings: Mfr=1, Product=2,
> SerialNumber=3
> [ 2542.876899] usb 2-2: Product: SANYO Digital Camera
> [ 2542.876906] usb 2-2: Manufacturer: SANYO
> [ 2542.876912] usb 2-2: SerialNumber: 0000V2057131
> [ 2543.224991] uvcvideo: Found UVC 1.00 device SANYO Digital Camera
> (0474:02e0)
> 
> Attached lsusb -v output.

Thanks for the report.

-- 
Regards,

Laurent Pinchart


From m_uvcdev at ml1.co.uk  Wed Oct 20 01:48:49 2010
From: m_uvcdev at ml1.co.uk (Martin)
Date: Wed, 20 Oct 2010 00:48:49 +0100
Subject: [Linux-uvc-devel] [PATCH] Still image support (very broken and
 hackish)
In-Reply-To: <201009230052.45996.laurent.pinchart@ideasonboard.com>
References: <1284024641.2294.43.camel@flunder>
	<201009161644.48604.laurent.pinchart@ideasonboard.com>
	<1284703044.15800.37.camel@flunder>
	<201009230052.45996.laurent.pinchart@ideasonboard.com>
Message-ID: <4CBE2E61.5030105@ml1.co.uk>

On 22/09/10 23:52, Laurent Pinchart wrote:
> Hi Florian,
> 
> On Friday 17 September 2010 07:57:24 Florian Echtler wrote:
>> On Thu, 2010-09-16 at 16:44 +0200, Laurent Pinchart wrote:
>>>> I'm aware that this is a really ugly hack right now, but maybe it
>>>> provides a starting point for those of you with more insight into how
>>>> the driver works. I'd be glad for some hints as to how to proceed!
>>>
>>> The patch looks good to me, except of course that it's a hack :-)
>>
>> Good to hear :-)
>>
>>> The real question we need to answer is how to expose the still image
>>> capture function to userspace. Should a new video node be created for
>>> still image capture ? The new video node could be linked to the existing
>>> one using the media controller API. Or should we use multiple open on a
>>> single video node ? In that case, how would we select video/still image
>>> capture ?
>>
>> Good point - I'd say that a second device node, e.g. /dev/stillX would
>> be the best solution. Otherwise, you'd have to rewrite every piece of
>> video software to include the new ioctl (or something like that). With a
>> separate dev node, it _should_ "just work" (TM)....
> 
> I think this should be discussed on the linux-media mailing list. We're 
> creating a still image capture API (or at least an interpretation of the V4L 
> API on how to capture still images), developers of other drivers could be 
> interested.

How did the discussion go?

Is there any interest to go along with this?


(I'm bound to be wanting to play with this at Christmas... ;-) )
((...And some 3D analysis software... :-) ))


Regards,
Martin





From laurent.pinchart at ideasonboard.com  Wed Oct 20 02:00:41 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 20 Oct 2010 02:00:41 +0200
Subject: [Linux-uvc-devel] Supported cameras: Lenovo internal webcam and
	Bodelin Proscope HR2
In-Reply-To: <201010161608.19608.tcoulon@decoulon.ch>
References: <201010161608.19608.tcoulon@decoulon.ch>
Message-ID: <201010200200.41883.laurent.pinchart@ideasonboard.com>

Hi Thierry,

On Saturday 16 October 2010 16:08:19 Thierry de Coulon wrote:
> Hi,
> 
> My new laptop and my new Digital Microscope both work perfectly with the
> UVC drivers. From previous posts I understand the following information
> may be useful:

Thanks for the report. I've updated the supported devices list.

-- 
Regards,

Laurent Pinchart


From josu.lazkano at gmail.com  Wed Oct 20 02:01:49 2010
From: josu.lazkano at gmail.com (Josu Lazkano)
Date: Wed, 20 Oct 2010 02:01:49 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
 linux compatible ?
In-Reply-To: <4CBE2D47.2040301@opensuse-forums.org>
References: <4CBB0F85.8060805@opensuse-forums.org>
	<AANLkTim3ob7kQyhuTBfixo6fsW2AGBbQ5Y5AhVQ_Vi1k@mail.gmail.com>
	<4CBD3595.5030605@opensuse-forums.org>
	<AANLkTimZ3Rb1x5_VCzwrtzE9EOWCddCD4XvjLKHPzS41@mail.gmail.com>
	<4CBDFA56.8080408@opensuse-forums.org>
	<AANLkTikiALLiiDWtCRqYET4tuEabAdYjRR3CWRN4zc7P@mail.gmail.com>
	<4CBE2D47.2040301@opensuse-forums.org>
Message-ID: <AANLkTikY73tc7r7d25ysSDq76+nBRDv5jgXf8L8b0dSF@mail.gmail.com>

Thanks for all your replys. I use Skype with some other webcams.

I want to try 1080p video conference with VLC streming or something
more power than Skype.

Thanks and regards.

2010/10/20 oldcpu <oldcpu at opensuse-forums.org>:
> ?I've not had much chance to play with the webcam ...
>
> Please take a look at post#5 in this thread:
> http://forums.quickcamteam.net/showthread.php?tid=1345
>
> It supports 1280x720 @ 30 fps (ie 720p @ 30 fps) and 1920x1080 @ 30 fps (ie
> 1080 @ 30 fps) according to that link.
>
> I have not had this webcam long enough to do any real testing (I had other
> things to do tonight and also the rest of this week).
>
> I have played it at 1920 x 1080 but I have not determined if that is a
> rendered vs direct resolution that I get.
>
> Also, its one thing to say video resolution is supported at 1920x1080 using
> guvcview, but its another thing to obtain a high resolution in a specific
> application.
>
> To stave off any Skype questions, I do not use Skype (which appears to be
> the app many people use for conferencing) so I can not answer any questions
> on that.
>
> Good luck.
>
> Lee
>
>
>
> On 10/19/2010 11:45 PM, Josu Lazkano wrote:
>>
>> Hello Lee, I am thinking on buy this webcam for a LAN videoconference
>> with 1080p.
>>
>> Do you try to have 1080p video on Linux???
>>
>> Thanks and regards.
>>
>> 2010/10/19 oldcpu<oldcpu at opensuse-forums.org>:
>>>
>>> ?The Logitech HD Pro Webcam C910 (046d:0821) uvc / linux compatible
>>> webcam
>>> arrived in the mail today.
>>>
>>> I plugged it into my desktop PC (Asus PST Deluxe V2 w/6 GB RAM and Core
>>> i7
>>> 920 CPU).
>>>
>>> It immediately worked with cheese and wxcam on a 64-bit openSUSE-11.2. ?I
>>> have not yet tested any other applications nor distributions.
>>>
>>> Resolutions I tried were 320x240, 640x480, and 960x720, ... but this
>>> webcam
>>> has MANY other resolutions available.
>>>
>>> I used 'mpeg' output format and also 'auto' (not sure what auto was
>>> using).
>>> ?Clearly the webcam is compatible with Linux. As to what features are
>>> available, I do not know enough about the web camera at this time to say.
>>> I
>>> can say it shows a picture at very very good quality.
>>>
>>> The "lsusb -v" output is MASSIVE. So rather than put it in an email, I
>>> copied and pasted it here:
>>> http://pastebin.ca/1967260
>>>
>>> The basic "lsusb" yields:
>>> Bus 002 Device 004: ID 046d:0821 Logitech, Inc.
>>>
>>> I think it safe to say this webcam works with Linux, albeit the full
>>> range
>>> of features present in MS-Windows may not be available in Lniux (I don't
>>> do
>>> windows so I can not compare to windows and hence I can not say).
>>>
>>> Lee
>>> aka oldcpu
>>>
>>> On 10/19/2010 10:25 AM, Paulo Assis wrote:
>>>>
>>>> Hi,
>>>>
>>>> 2010/10/19 oldcpu<oldcpu at opensuse-forums.org>:
>>>>>
>>>>> ?OK, ... well, I went ahead and ordered it via mail order. ?:)
>>>>>
>>>>> I figure if it does not work well, I have many friends who use
>>>>> MS-Windows
>>>>> who would love to have it as a gift. :)
>>>>>
>>>>> If it does work reasonably well, what will I have to do to have the UVC
>>>>> compatibility list updated to reflect that the Logitech HD Pro Webcam
>>>>> C910
>>>>> (046d:0821) works with Linux and the UVC driver?
>>>>>
>>>> Usually Laurent asks for the output of "lsusb -v", so I guess a little
>>>> report on the camera compatibility, accompanied by this will be
>>>> enough.
>>>> But that's up to Laurent ;-D
>>>>
>>>> Regards,
>>>> Paulo
>>>>
>>> _______________________________________________
>>> Linux-uvc-devel mailing list
>>> Linux-uvc-devel at lists.berlios.de
>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>>
>>
>>
>
>



-- 
Josu Lazkano


From preetish.tripathi at gmail.com  Wed Oct 20 12:52:39 2010
From: preetish.tripathi at gmail.com (Preetish)
Date: Wed, 20 Oct 2010 16:22:39 +0530
Subject: [Linux-uvc-devel] Not able to compile v4l-dvb-1da5fed5c8b2 on
	RHEL5.5
In-Reply-To: <201010181545.38096.laurent.pinchart@ideasonboard.com>
References: <AANLkTi=waPOa0ve71XumOi=THCGK5c-xL49EkmZT_X5n@mail.gmail.com>
	<201010181545.38096.laurent.pinchart@ideasonboard.com>
Message-ID: <AANLkTi=P=4LTHtiALdACZ4j6biGH=+tZj2R+b05umN-1@mail.gmail.com>

On Mon, Oct 18, 2010 at 7:15 PM, Laurent Pinchart
<laurent.pinchart at ideasonboard.com> wrote:
> Hi Preetish,
>
> On Wednesday 29 September 2010 09:16:56 Preetish wrote:
>> Hello Everybody
>>
>> I am not able to compile v4l-dvb-1da5fed5c8b2 on RHEL5.5 Client .
>> Below are the details :
>>
>> This is a lenovo R400 Thinkpad with a builtin webcam.
>> $uname -a
>> Linux punlap13 2.6.18-194.el5 #1 SMP Tue Mar 16 21:52:39 EDT 2010
>> x86_64 x86_64 x86_64 GNU/Linux
>>
>>
>> When I run 'make' I get the following error :
>>
>> ---- snip ----
>>
>> make -C /exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l
>> make[1]: Entering directory
>> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l' perl
>> scripts/make_config_compat.pl /lib/modules/2.6.18-194.el5/source
>> ./.myconfig ./config-compat.h
>> creating symbolic links...
>> make -C firmware prep
>> make[2]: Entering directory
>> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
>> make[2]: Leaving directory
>> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
>> make -C firmware
>> make[2]: Entering directory
>> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
>> ?CC ?ihex2fw
>> gcc: No such file or directory
>> make[2]: *** [ihex2fw] Error 1
>> make[2]: Leaving directory
>> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
>> make[1]: *** [firmware] Error 2
>> make[1]: Leaving directory
>> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l' make: *** [all] Error 2
>>
>> ---- snip ----
>>
>> It looks like ihex2fw is not there in 2.6.18.194 . Can someone please
>> point me what am I missing. Should I be using an older source which
>> supports my kernel. If yes can someone point me the link to download
>> it. I am not able to find one. Thanks in advance .
>
> It seems gcc isn't installed on your system. Without a compiler you will have
> trouble compiling anything :-)
>
> --
> Regards,
>
> Laurent Pinchart
>

Hello Laurent

I must have been half asleep when I was trying to do this . Sorry
about that. However now that I have gcc on my system, I am still not
able to compile it :

---- snip ----

make
make -C /exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l
make[1]: Entering directory `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l'
creating symbolic links...
make -C firmware prep
make[2]: Entering directory
`/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
make[2]: Leaving directory
`/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
make -C firmware
make[2]: Entering directory
`/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
make[2]: Nothing to be done for `default'.
make[2]: Leaving directory
`/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
Kernel build directory is /lib/modules/2.6.18-194.el5/build
make -C /lib/modules/2.6.18-194.el5/build
SUBDIRS=/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l  modules
make[2]: Entering directory `/usr/src/kernels/2.6.18-194.el5-x86_64'
  CC [M]  /exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/tuner-xc2028.o
In file included from
/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/tuner-xc2028.c:19:
/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/compat.h:133: error:
static declaration of 'strict_strtoul' follows non-static declaration
include/linux/kernel.h:141: error: previous declaration of
'strict_strtoul' was here
make[3]: *** [/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/tuner-xc2028.o]
Error 1
make[2]: *** [_module_/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l] Error 2
make[2]: Leaving directory `/usr/src/kernels/2.6.18-194.el5-x86_64'
make[1]: *** [default] Error 2
make[1]: Leaving directory `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l'
make: *** [all] Error 2

---- snip ----

Can you suggest what else am I missing .

Regards
Preetish


From neil.benn at gmail.com  Wed Oct 20 19:14:00 2010
From: neil.benn at gmail.com (Neil Benn)
Date: Wed, 20 Oct 2010 18:14:00 +0100
Subject: [Linux-uvc-devel] Fwd: Compiling and loading V4l modules
In-Reply-To: <AANLkTimoOAzVG=XRVE20c3xQMeKnT+wCiX+wjSPS-e4p@mail.gmail.com>
References: <AANLkTimoOAzVG=XRVE20c3xQMeKnT+wCiX+wjSPS-e4p@mail.gmail.com>
Message-ID: <AANLkTikVy8ANvtWDvDHZ7Tm4BNwKR+PWFuRLyhbzQuLe@mail.gmail.com>

Hello,

        The following did not seem to appear on teh list - tyring
agin.  Sorry if I end up double posting!
--
Hello,

? ? ? ?I have successfully checked out video for linux, compiled it
and installed it using:

hg clone http://linuxtv.org/hg/v4l-dvb
make menuconfig
<I disabled FireTV as it did not compile>
sudo make
sudo make install

?That all worked fine but the thing is that I really want to work on
just the video for linux uvc bits and the sudo make install loads in a
whole load of stuff. ?Can I just load in the bits for video for linux
and uvc, reload into memory and if so what commands and files do I
need to work on - there
are a lot!

?Thanks in advance.

Cheers,

Neil


From lthuns at opensuse.org  Wed Oct 20 22:03:25 2010
From: lthuns at opensuse.org (Lutz Thuns)
Date: Wed, 20 Oct 2010 22:03:25 +0200
Subject: [Linux-uvc-devel] 090c:37b3 Feiya Technology Corp.
Message-ID: <4CBF4B0D.6020203@opensuse.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

This cam is inside a Lenovo G560 notebook.
It's working with Skype, Kopete and gmerlin-camelot, but not with other
applications.

- --------------------------------------------------------------------------

2.6.34.7-0.4-desktop #1 SMP PREEMPT 2010-10-07 19:07:51 +0200 x86_64
x86_64 x86_64 GNU/Linux
openSUSE 11.3

- --------------------------------------------------------------------------

dmesg | grep uvc
uvcvideo: Found UVC 1.00 device Lenovo EasyCamera (090c:37b3)
usbcore: registered new interface driver uvcvideo
uvcvideo: Failed to query (130) UVC control 5 (unit 3) : -32 (exp. 1).

- --------------------------------------------------------------------------

lsusb -v
Bus 002 Device 003: ID 090c:37b3 Feiya Technology Corp.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x090c Feiya Technology Corp.
  idProduct          0x37b3
  bcdDevice            8.16
  iManufacturer           1 Image Processor
  iProduct                2 Lenovo EasyCamera
  iSerial                 3 Integrated Camera
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          517
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              0
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           77
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x0000000e
          Auto-Exposure Mode
          Auto-Exposure Priority
          Exposure Time (Absolute)
      VideoControl Interface Descriptor:
        bLength                26
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 2
        guidExtensionCode         {92423946-d10c-e34a-8783-3133f9eaaa3b}
        bNumControl             3
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            1
        bmControls( 0)       0xff
        iExtension              0
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               2
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000157f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0
        bmVideoStandards     0x 9
          None
          SECAM - 625/50
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             4
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               3
        iTerminal               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              16
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         1
        wTotalLength                      329
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       4
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                6
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           400
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      512000
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  4
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            416667
        dwFrameInterval( 2)            416668
        dwFrameInterval( 3)            416669
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  4
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            416667
        dwFrameInterval( 2)            416668
        dwFrameInterval( 3)            416669
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  4
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            416667
        dwFrameInterval( 2)            416668
        dwFrameInterval( 3)            416669
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  4
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            416667
        dwFrameInterval( 2)            416668
        dwFrameInterval( 3)            416669
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  4
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            416667
        dwFrameInterval( 2)            416668
        dwFrameInterval( 3)            416669
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         416666
        bFrameIntervalType                  4
        dwFrameInterval( 0)            416666
        dwFrameInterval( 1)            416667
        dwFrameInterval( 2)            416668
        dwFrameInterval( 3)            416669
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               6
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        640
        wHeight( 1)                       400
        wWidth( 2)                        352
        wHeight( 2)                       288
        wWidth( 3)                        320
        wHeight( 3)                       240
        wWidth( 4)                        176
        wHeight( 4)                       144
        wWidth( 5)                        160
        wHeight( 5)                       120
        bNumCompressionPatterns             6
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     0 (Unspecified)
        bTransferCharacteristics            0 (Unspecified)
        bMatrixCoefficients                 0 (Unspecified)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1340  3x 832 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1300  3x 768 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)

- --------------------------------------------------------------------------

lsmod | grep uvc
uvcvideo               68119  0
videodev               43828  1 uvcvideo
v4l1_compat            17249  2 uvcvideo,videodev

- --------------------------------------------------------------------------

luvcview
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
 Init v4L2 failed !! exit fatal


- -- 
Lutz Thuns
openSUSE official member (lOtz1009)
LXDE-Team
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2.0.15 (GNU/Linux)
Comment: Using GnuPG with SUSE - http://enigmail.mozdev.org/

iQEcBAEBAgAGBQJMv0sNAAoJEFuFM+jpZ7AVvq4H/ioY0B+eKmvdmpSSneMlN8l5
Lzqn5RRiDozZkfqQl6BDltLltE7yy65wUhpuIIGPxO8S3fxzJ+BE8oK6M1qSe8O7
ZgFD8I3z+WaSOa1MhSlC7qnNobvJxgmNXsOV6lJ7B7+5OSPVzZihYri07Q57m/Ka
t7wzfDLXOmIzdykQXKnyeGW48JB173y/2lqXtn3P7/9XKfydOspUtmhU+djPCe+g
/egAS2EPOuSRVF9F35Q2Iebdxq/24Foq3LNXRLd7TzWC9MxbyBIQWmMZRoel6o1d
LmGEG/TTq5pc7SPUC+6hjkNyCQ/W/pw7Dpl7sXLUcBZLbSv4nYLKgDcYqiHKC3o=
=jk4y
-----END PGP SIGNATURE-----


From laurent.pinchart at ideasonboard.com  Fri Oct 22 21:20:19 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 22 Oct 2010 21:20:19 +0200
Subject: [Linux-uvc-devel] 064e:a219 Suyin Corp. "1.3M WebCam" (Acer
	Aspire 5745G)
In-Reply-To: <AANLkTi=Hs1znpMaPEFehwJWvceqseYug5Af3qzA0RN8=@mail.gmail.com>
References: <AANLkTim=3bMcoT+Yn3fR2P_eySXKmr8RVPvjWqnnt-Fq@mail.gmail.com>
	<201010181604.12278.laurent.pinchart@ideasonboard.com>
	<AANLkTi=Hs1znpMaPEFehwJWvceqseYug5Af3qzA0RN8=@mail.gmail.com>
Message-ID: <201010222120.19900.laurent.pinchart@ideasonboard.com>

Hi Igor,

On Monday 18 October 2010 21:03:02 Igor Demyanov wrote:
> Hi Laurent,
> Unfortunately it did not help.
> 
> Noticed a strange behavior.
> In the light table lamp White Balance temperature varies fps at 1 frame.
> fps = 6-7.
> If, WBT = 0 bring a sheet of white paper into the frame. FPS rises to 14.5.
> Removing paper, FPS remains the same(14.5).
> Next, if you close the lens by hand and wait for 1-2 seconds, open the
> lens, the FPS again fall to 6 frames and after some time (15 seconds)
> again rises to 14.5 frames. It was also observed decrease in fps when
> moving in the frame.
> A similar behavior of the camera at WBT = 1.
> One gets the feeling that the WBT only affects the color.

Manufacturers implement all kind of interesting (or not...) bugs in their 
devices. I don't think we can do much about it.

> Auto-exposure not supported by the camera?

The camera doesn't report any auto-exposure control. That means that auto-
exposure is either not implemented or always on.

> When I run guvcview
> Console output:
> fps is set to 1/30
>  Could not grab image (select timeout): Resource temporarily unavailable
> Is this normal?

No it isn't.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Fri Oct 22 21:23:52 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 22 Oct 2010 21:23:52 +0200
Subject: [Linux-uvc-devel] UVC device not listed
In-Reply-To: <AANLkTim2f74h6b41hRBox2kjpE_aHoG+ij1CECCTY9Fc@mail.gmail.com>
References: <AANLkTi=ayaKJRy+eeAibQ1OmPUoAttRSDh4aS6e9nc3d@mail.gmail.com>
	<201010190036.13987.laurent.pinchart@ideasonboard.com>
	<AANLkTim2f74h6b41hRBox2kjpE_aHoG+ij1CECCTY9Fc@mail.gmail.com>
Message-ID: <201010222123.52304.laurent.pinchart@ideasonboard.com>

Hi Atul,

On Tuesday 19 October 2010 05:13:17 Atul Gautam wrote:
> Hi Laurent,
> 
> So glad to see your reply. Eagerly looking for someone to help me out on
> this. Output for "lsusb" command is attached with this mail in the form of
> a notepad.

According to the USB descriptors your camera isn't UVC compatible, so there's 
little I can do.

There's an old driver for Ricoh webcams lying around, you might have more luck 
with it. You can find it at http://bitbucket.org/ahixon/r5u87x.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Fri Oct 22 21:29:36 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 22 Oct 2010 21:29:36 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 (046d:0821) uvc /
	linux compatible ?
In-Reply-To: <4CBDFA56.8080408@opensuse-forums.org>
References: <4CBB0F85.8060805@opensuse-forums.org>
	<AANLkTimZ3Rb1x5_VCzwrtzE9EOWCddCD4XvjLKHPzS41@mail.gmail.com>
	<4CBDFA56.8080408@opensuse-forums.org>
Message-ID: <201010222129.37075.laurent.pinchart@ideasonboard.com>

Hi Lee,

On Tuesday 19 October 2010 22:06:46 oldcpu wrote:
>   The Logitech HD Pro Webcam C910 (046d:0821) uvc / linux compatible
> webcam arrived in the mail today.
> 
> I plugged it into my desktop PC (Asus PST Deluxe V2 w/6 GB RAM and Core
> i7 920 CPU).
> 
> It immediately worked with cheese and wxcam on a 64-bit openSUSE-11.2.
> I have not yet tested any other applications nor distributions.
> 
> Resolutions I tried were 320x240, 640x480, and 960x720, ... but this
> webcam has MANY other resolutions available.
> 
> I used 'mpeg' output format and also 'auto' (not sure what auto was
> using).  Clearly the webcam is compatible with Linux. As to what
> features are available, I do not know enough about the web camera at
> this time to say. I can say it shows a picture at very very good quality.
> 
> The "lsusb -v" output is MASSIVE. So rather than put it in an email, I
> copied and pasted it here:
> http://pastebin.ca/1967260

Thanks for the report. Supported devices list updated.

> The basic "lsusb" yields:
> Bus 002 Device 004: ID 046d:0821 Logitech, Inc.
> 
> I think it safe to say this webcam works with Linux, albeit the full
> range of features present in MS-Windows may not be available in Lniux (I
> don't do windows so I can not compare to windows and hence I can not say).

Features implemented in the Logitech Windows driver (such as face tracking for 
instance) won't work, but features implemented in the camera should work out 
of the box on Linux.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Fri Oct 22 21:33:06 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 22 Oct 2010 21:33:06 +0200
Subject: [Linux-uvc-devel] Compiling and loading V4l modules
In-Reply-To: <AANLkTimoOAzVG=XRVE20c3xQMeKnT+wCiX+wjSPS-e4p@mail.gmail.com>
References: <AANLkTimoOAzVG=XRVE20c3xQMeKnT+wCiX+wjSPS-e4p@mail.gmail.com>
Message-ID: <201010222133.07089.laurent.pinchart@ideasonboard.com>

Hi Neil,

On Tuesday 19 October 2010 18:12:10 Neil Benn wrote:
> Hello,
> 
>         I have successfully checked out video for linux, compiled it
> and installed it using:
> 
> hg clone http://linuxtv.org/hg/v4l-dvb
> make menuconfig
> <I disabled FireTV as it did not compile>
> sudo make
> sudo make install
> 
>   That all worked fine but the thing is that I really want to work on
> just the video for linux uvc bits and the sudo make install loads in a
> whole load of stuff.  Can I just load in the bits for video for linux
> and uvc and if so what commands and files do I need to work on - there
> are a lot!

The hg tree contains a copy of the complete v4l-dvb subsystem. You can't just 
load the uvcvideo driver from that tree, you will also need to load

v4l2_compat_ioctl32
videodev

Please note that v4l-dvb drivers already installed on your system will not 
work with the v4l core modules from the hg tree.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Fri Oct 22 21:34:53 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 22 Oct 2010 21:34:53 +0200
Subject: [Linux-uvc-devel] [PATCH] Still image support (very broken and
	hackish)
In-Reply-To: <4CBE2E61.5030105@ml1.co.uk>
References: <1284024641.2294.43.camel@flunder>
	<201009230052.45996.laurent.pinchart@ideasonboard.com>
	<4CBE2E61.5030105@ml1.co.uk>
Message-ID: <201010222134.54027.laurent.pinchart@ideasonboard.com>

Hi Martin,

On Wednesday 20 October 2010 01:48:49 Martin wrote:
> On 22/09/10 23:52, Laurent Pinchart wrote:
> > On Friday 17 September 2010 07:57:24 Florian Echtler wrote:
> >> On Thu, 2010-09-16 at 16:44 +0200, Laurent Pinchart wrote:
> >>>> I'm aware that this is a really ugly hack right now, but maybe it
> >>>> provides a starting point for those of you with more insight into how
> >>>> the driver works. I'd be glad for some hints as to how to proceed!
> >>> 
> >>> The patch looks good to me, except of course that it's a hack :-)
> >> 
> >> Good to hear :-)
> >> 
> >>> The real question we need to answer is how to expose the still image
> >>> capture function to userspace. Should a new video node be created for
> >>> still image capture ? The new video node could be linked to the
> >>> existing one using the media controller API. Or should we use multiple
> >>> open on a single video node ? In that case, how would we select
> >>> video/still image capture ?
> >> 
> >> Good point - I'd say that a second device node, e.g. /dev/stillX would
> >> be the best solution. Otherwise, you'd have to rewrite every piece of
> >> video software to include the new ioctl (or something like that). With a
> >> separate dev node, it _should_ "just work" (TM)....
> > 
> > I think this should be discussed on the linux-media mailing list. We're
> > creating a still image capture API (or at least an interpretation of the
> > V4L API on how to capture still images), developers of other drivers
> > could be interested.
> 
> How did the discussion go?

I said it *should* be discussed on the linux-media mailing list. That didn't 
mean I would go and do it :-)

> Is there any interest to go along with this?

Definitely, but I unfortunately don't have time to start discussing a new 
still capture API at the moment. I can contribute to a discussion though.

> (I'm bound to be wanting to play with this at Christmas... ;-) )
> ((...And some 3D analysis software... :-) ))

-- 
Regards,

Laurent Pinchart


From riccardo.magliocchetti at gmail.com  Fri Oct 22 21:19:22 2010
From: riccardo.magliocchetti at gmail.com (Riccardo Magliocchetti)
Date: Fri, 22 Oct 2010 21:19:22 +0200
Subject: [Linux-uvc-devel] sanyo cg10
In-Reply-To: <201010200148.27485.laurent.pinchart@ideasonboard.com>
References: <4CB73E91.7050701@gmail.com>
	<201010200148.27485.laurent.pinchart@ideasonboard.com>
Message-ID: <4CC1E3BA.5060000@gmail.com>

Il 20/10/2010 01:48, Laurent Pinchart ha scritto:
> Hi Riccardo,

Hi Laurent,

> On Thursday 14 October 2010 19:32:01 Riccardo Magliocchetti wrote:
>> Hello,
>>
>> i have a sanyo cg10 camcorder, i've tried to connect it to my pc using
>> it "pc camera" mode, it is recognized as uvc device but it is not
>> working. With vlc i see a green background, with luvcview:
>>
>> $ luvcview -d /dev/video1
>> luvcview 0.2.6
>>
>> SDL information:
>>     Video driver: x11
>>     A window manager is available
>> Device information:
>>     Device path:  /dev/video1
>> Stream settings:
>>     Frame format: MJPG
>> Unable to set format: Input/output error
>>    Init v4L2 failed !! exit fatal
>
> Do you get any additional message printed to the kernel log when this happens
> ? If not, please raise the driver trace level with
>
> echo 0xffff>  /sys/modules/uvcvideo/parameters/trace
>
> and run luvcview again. The driver should then print additional debug
> information.

well, i've found that it's working fine out the box, it's actually a 
call to luvcview -L -d /dev/video1 that breaks it.

Attached you can find a log before the call with -L (sanyo-cg10.log) and 
during and after (sanyo-cg10-ko.log).

I'm with kernel 2.6.36.

thanks,
riccardo

-------------- next part --------------
A non-text attachment was scrubbed...
Name: sanyo-cg10.log
Type: text/x-log
Size: 120736 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101022/ef925ef7/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sanyo-cg10-ko.log
Type: text/x-log
Size: 2297 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20101022/ef925ef7/attachment-0001.bin>

From laurent.pinchart at ideasonboard.com  Fri Oct 22 21:50:15 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Fri, 22 Oct 2010 21:50:15 +0200
Subject: [Linux-uvc-devel] 090c:37b3 Feiya Technology Corp.
In-Reply-To: <4CBF4B0D.6020203@opensuse.org>
References: <4CBF4B0D.6020203@opensuse.org>
Message-ID: <201010222150.15987.laurent.pinchart@ideasonboard.com>

Hi Lutz,

On Wednesday 20 October 2010 22:03:25 Lutz Thuns wrote:
> This cam is inside a Lenovo G560 notebook.
> It's working with Skype, Kopete and gmerlin-camelot, but not with other
> applications.

Thanks for the report. I've added the camera to the supported devices list.

[snip]

> luvcview
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal

luvcview 0.2.1 defaults to MJPG and doesn't gracefully fall back to YUV. 
Running luvcview -f yuv should do the trick.

-- 
Regards,

Laurent Pinchart


From stefan at wisper.se  Fri Oct 22 22:35:04 2010
From: stefan at wisper.se (Stefan Karlsson)
Date: Fri, 22 Oct 2010 22:35:04 +0200
Subject: [Linux-uvc-devel] Trying to add UVC support for Microsoft Lifecam
 Cinema to older 2.6.20 kernel fails...
Message-ID: <4CC1F578.4080709@wisper.se>

Hello,

I have now struggled awhile on my own, and tried  v4l-dvb from mg and 
and picks from the backport repro, and all fails compiling against an 
2.6.20 kernel
(Yes.. I know .. use newer kernel , but there are other dependencies 
that makes me stuck with 2.6.20 for the time being.. :/  )

This are the errors (which according to Google I am alone in the 
universe to get...? ):
  CC [M]  /drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.o
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c: In function 
'v4l2_event_free':
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:92: warning: 
implicit declaration of function 'list_first_entry'
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:92: error: 
expected expression before 'struct'
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:92: warning: 
assignment makes pointer from integer without a cast
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:93: error: 
expected expression before 'struct'
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:93: warning: 
assignment makes pointer from integer without a cast
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:94: error: 
expected expression before 'struct'
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:94: warning: 
assignment makes pointer from integer without a cast
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c: In function 
'__v4l2_event_dequeue':
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:116: error: 
expected expression before 'struct'
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:116: 
warning: assignment makes pointer from integer without a cast
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c: In function 
'v4l2_event_queue':
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:193: error: 
expected expression before 'struct'
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:193: 
warning: assignment makes pointer from integer without a cast
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c: In function 
'v4l2_event_unsubscribe_all':
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:261: error: 
expected expression before 'struct'
/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.c:261: 
warning: assignment makes pointer from integer without a cast
make[3]: *** 
[/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l/v4l2-event.o] Error 1
make[2]: *** [_module_/drv2/usr/src/v4l-dvb/v4l-dvb-abd3aac6644e/v4l] 
Error 2

Can anyone please point me in the right direction or perhaps suggest an 
backport that is tagged to work with 2.6.20 ?
Thanks in advance!

Best regards,
Stefan Karlsson


From palmax at gmail.com  Sat Oct 23 12:05:22 2010
From: palmax at gmail.com (Palmax Maverick)
Date: Sat, 23 Oct 2010 12:05:22 +0200
Subject: [Linux-uvc-devel] [Linux] [UVC] I'm building a still-image patch
Message-ID: <AANLkTi=URwDzch22O_n+9Jx2_T+k+bVkUnEUEThfx9uA@mail.gmail.com>

Dear linux-uvc developers and users,


I'm at the middle of my still image patch :-)

When I have a one that works, I will send you this patch.


Bye
Palmax


From mmitar at gmail.com  Sun Oct 24 17:46:28 2010
From: mmitar at gmail.com (Mitar)
Date: Sun, 24 Oct 2010 17:46:28 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 and Linux
Message-ID: <AANLkTi=JANud6dXjJ10C15gqLzxfu=9SBWQa2p6P=CTw@mail.gmail.com>

Hi!

I can also confirm that Logitech HD Pro Webcam C910 works on Linux.
But I have few (small) issues/quirks.

The first one is that it seems with HD (1920x1080) field of view is
much much smaller then normally. Probably so that it is possible to
pan/tilt it around for face following on Windows. Maybe this is not
configurable, but maybe this is just default and could be turned-off
somehow?

Device supports zoom (at least this is what it tells uvc driver) in
range 1-5, but selecting anything except default (1) makes it simply
hangs when you want to do anything with it. Is this a driver issue?
But device still works and you can select back zoom level 1 and it
works normally then.

The third issue is the most interesting for me. Device supports
2592x1944 (this seems to be native resolution and 1920x1080 is
achieved by using just a part of that and allowing panning and tilling
with moving the area around). In YUYV format it declares itself to
have 2 FPS, but in practice it is only 1 FPS. I have used example
capture program from V4L documentation to experiment with that. I have
compared time when timestamp is put on the buffer in kernel and when
this buffer arrives into my program. Normally this time is around time
length of one frame (1 / FPS). But in the case of 2592x1944 (and not
for lower resolutions) this time is around second. So 500 ms more than
it is normal with other resolutions and cameras is spend somewhere in
the kernel. As I have been just queuing and dequeuing buffers without
doing any processing on them it seems this is really something
internal. As on this resolution FPS is already very low with YUYV
format it would be really great to get that one frame more in.

I use 2.6.36-rc6-amd64 and Intel(R) Core(TM)2 Quad CPU Q9400 @ 2.66GHz.

Otherwise things work as expected. The only thing I noticed is that
with such high resolution and MJPEG encoding decoding time of frames
is quite visible if you want to decode MJPEG on the fly in real-time.
For example, with libv4l decoding of one pixel of MJPEG to BGR24 takes
around 0.025 microseconds on my machine. This is nothing important
with for example 640x480 resolution, it takes around 7680
microseconds, that is 8 milliseconds. But with 2592x1944 this becomes
around 125 milliseconds. So it is impossible to decode stream n the
fly in real-time with 10 FPS which device supports for this resolution
and MJPEG.

Has anybody tried to improve MJPEG support in libv4l? For example by
using ffmpeg MJPEG decoder? They argue it has better performance:

https://roundup.ffmpeg.org/issue1816


Mitar


From neil.benn at gmail.com  Sun Oct 24 23:42:38 2010
From: neil.benn at gmail.com (Neil Benn)
Date: Sun, 24 Oct 2010 22:42:38 +0100
Subject: [Linux-uvc-devel] Compiling and loading V4l modules
In-Reply-To: <AANLkTim6U5xm0hjtU95hgUMdrfVtAFi_Ez6Hocfd1q2C@mail.gmail.com>
References: <AANLkTimoOAzVG=XRVE20c3xQMeKnT+wCiX+wjSPS-e4p@mail.gmail.com>
	<201010222133.07089.laurent.pinchart@ideasonboard.com>
	<AANLkTim6U5xm0hjtU95hgUMdrfVtAFi_Ez6Hocfd1q2C@mail.gmail.com>
Message-ID: <AANLkTin_VeUA5F4tkzKbxvak6gukQXbJ0jf99VpGGgiT@mail.gmail.com>

Hello,

        Sorry I sent the previous message on my Android phone while
standing on a windswept beach and holding my hat on my head!  Here is
the message without that handicap and more descriptive!
---
  Thanks for the reply.  Sorry to ask such a basic question but here
goes - if the drivers on my system will not work with the code form
the hg tree can I access the git tree and obtain the branch for the
kernel I am using.  I can then modify the code and load the uvc
drivers in and use those?  I'm investigating the bandwidth used by
some webcams I have and have been looking at some of the work done to
access multiple webcams - I'm playing with UBS2.0 and USB3.0 to see
what happens but I would like to be able to edit the uvc code to put
in some logging (at first) and just want to get started with something
(i.e. print Hello World out when setting the bandwidth).

  Any help on this is greatly appreciated.
---

  Thanks again.

Regards,

Neil

On Sat, Oct 23, 2010 at 9:27 PM, Neil Benn <neil.benn at gmail.com> wrote:
> Hello,
>
> ?????????? Thanks, sorry to be thick but a quick question.? If the B4L
> doubts will not work does that meN I cannot update V4L from the hg tree and
> then load in uvc.? I'm.trying to look at the bandwidth used by a USB
> camera.? I wanted to start by just putting in a bit of logging.? However,
> I'm a little confused as to how to add in a but of logging, compile and then
> use that code to see the results.? If I pick the git branch which matches my
> kernel can I do this?
>
> ? Any help on this is greatly appreciated.
>
> Cheers,
>
> Neil
>
> On 22 Oct 2010 20:32, "Laurent Pinchart" <laurent.pinchart at ideasonboard.com>
> wrote:
>> Hi Neil,
>>
>> On Tuesday 19 October 2010 18:12:10 Neil Benn wrote:
>>> Hello,
>>>
>>> I have successfully checked out video for linux, compiled it
>>> and installed it using:
>>>
>>> hg clone http://linuxtv.org/hg/v4l-dvb
>>> make menuconfig
>>> <I disabled FireTV as it did not compile>
>>> sudo make
>>> sudo make install
>>>
>>> That all worked fine but the thing is that I really want to work on
>>> just the video for linux uvc bits and the sudo make install loads in a
>>> whole load of stuff. Can I just load in the bits for video for linux
>>> and uvc and if so what commands and files do I need to work on - there
>>> are a lot!
>>
>> The hg tree contains a copy of the complete v4l-dvb subsystem. You can't
>> just
>> load the uvcvideo driver from that tree, you will also need to load
>>
>> v4l2_compat_ioctl32
>> videodev
>>
>> Please note that v4l-dvb drivers already installed on your system will not
>> work with the v4l core modules from the hg tree.
>>
>> --
>> Regards,
>>
>> Laurent Pinchart
>


From lthuns at opensuse.org  Mon Oct 25 08:22:50 2010
From: lthuns at opensuse.org (Lutz Thuns)
Date: Mon, 25 Oct 2010 08:22:50 +0200
Subject: [Linux-uvc-devel] 090c:37b3 Feiya Technology Corp.
In-Reply-To: <201010222150.15987.laurent.pinchart@ideasonboard.com>
References: <4CBF4B0D.6020203@opensuse.org>
	<201010222150.15987.laurent.pinchart@ideasonboard.com>
Message-ID: <9c8a72798554d28d5991c75333ef9015@lutz-thuns.de>

 On Fri, 22 Oct 2010 21:50:15 +0200, Laurent Pinchart 
 <laurent.pinchart at ideasonboard.com> wrote:
>
> luvcview 0.2.1 defaults to MJPG and doesn't gracefully fall back to 
> YUV.
> Running luvcview -f yuv should do the trick.
>

 Exactly. This works!
 Still got a problem with the application Cheese, which does not
 recognize the cam.


 uvcvideo: Failed to query (130) UVC control 5 (unit 3) : -32 (exp. 1).

 I have an errorlog on
 https://bugzilla.novell.com/show_bug.cgi?id=634487

 Maybe that's some driver's issue...

-- 
 Lutz Thuns
 openSUSE official member (lOtz1009)
 LXDE-Team



From m_uvcdev at ml1.co.uk  Tue Oct 26 16:28:26 2010
From: m_uvcdev at ml1.co.uk (Martin)
Date: Tue, 26 Oct 2010 15:28:26 +0100
Subject: [Linux-uvc-devel] [Linux] [UVC] I'm building a still-image patch
In-Reply-To: <AANLkTi=URwDzch22O_n+9Jx2_T+k+bVkUnEUEThfx9uA@mail.gmail.com>
References: <AANLkTi=URwDzch22O_n+9Jx2_T+k+bVkUnEUEThfx9uA@mail.gmail.com>
Message-ID: <4CC6E58A.6070603@ml1.co.uk>

On 23/10/10 11:05, Palmax Maverick wrote:
> Dear linux-uvc developers and users,
> 
> 
> I'm at the middle of my still image patch :-)
> 
> When I have a one that works, I will send you this patch.

Count me as interested to try some testing if you wish.

Is this something new? Or developing further the patch posted a little
while ago?

Good luck,

Cheers,
Martin




From mmitar at gmail.com  Wed Oct 27 01:59:57 2010
From: mmitar at gmail.com (Mitar)
Date: Wed, 27 Oct 2010 01:59:57 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 and Linux
In-Reply-To: <AANLkTi=JANud6dXjJ10C15gqLzxfu=9SBWQa2p6P=CTw@mail.gmail.com>
References: <AANLkTi=JANud6dXjJ10C15gqLzxfu=9SBWQa2p6P=CTw@mail.gmail.com>
Message-ID: <AANLkTi=m-7es+vGx-0b4c7Q1S-m9cRADj=3_O+0-APHg@mail.gmail.com>

Hi!

On Sun, Oct 24, 2010 at 5:46 PM, Mitar <mmitar at gmail.com> wrote:
> Has anybody tried to improve MJPEG support in libv4l? For example by
> using ffmpeg MJPEG decoder? They argue it has better performance:

I made patch for libv4l which uses ffmpeg's avcodec library for MJPEG decoding:

http://article.gmane.org/gmane.linux.drivers.video-input-infrastructure/24581

Performance improvements are incredible.


Mitar


From palmax at gmail.com  Wed Oct 27 12:20:30 2010
From: palmax at gmail.com (Palmax Maverick)
Date: Wed, 27 Oct 2010 12:20:30 +0200
Subject: [Linux-uvc-devel] Linux-uvc-devel Digest, Vol 52, Issue 18
In-Reply-To: <mailman.41.1288173606.11513.linux-uvc-devel@lists.berlios.de>
References: <mailman.41.1288173606.11513.linux-uvc-devel@lists.berlios.de>
Message-ID: <AANLkTi=pkzyrOdUyCF09w5x8uTNuW6k0Y0Er9b1Kve34@mail.gmail.com>

Dear Martin,


Before of all: when I have an alpha revision, I will send you my patch :-D

It will be something new, but I'm developing this patch 1 year ago...
(I didn't know almost nothing about linux (linux as kernel)
programming).


Thanks for asking about my work,
Palmax


> Message: 1
> Date: Tue, 26 Oct 2010 15:28:26 +0100
> From: Martin <m_uvcdev at ml1.co.uk>
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] [Linux] [UVC] I'm building a
> ? ? ? ?still-image patch
> Message-ID: <4CC6E58A.6070603 at ml1.co.uk>
> Content-Type: text/plain; charset=ISO-8859-1
>
> On 23/10/10 11:05, Palmax Maverick wrote:
>> Dear linux-uvc developers and users,
>>
>>
>> I'm at the middle of my still image patch :-)
>>
>> When I have a one that works, I will send you this patch.
>
> Count me as interested to try some testing if you wish.
>
> Is this something new? Or developing further the patch posted a little
> while ago?
>
> Good luck,
>
> Cheers,
> Martin


From linux.newbie79 at gmail.com  Fri Oct 29 06:34:28 2010
From: linux.newbie79 at gmail.com (linux newbie)
Date: Fri, 29 Oct 2010 15:34:28 +1100
Subject: [Linux-uvc-devel] ISO data corruption
Message-ID: <AANLkTi=CPJ2V83VWgqb0-M+q1t7SAdsBuVhrrvBDPBrd@mail.gmail.com>

Hi,

* I connected Microsoft Life cam (1280 x 800) to ARM board.
* my application can able to capture image and it is working fine.
* I modified my application in such a way tht STREAMON is set, and
every 30secs, i capture the frame, write it to file as PNG image.
* In this case, image is corrupted at the end.

Can anyone let me know how to debug this issue in driver level? I gave
dummy frame in application level and made sure the application code is
fine.

Thanks


From barsnick at gmx.net  Fri Oct 29 15:06:47 2010
From: barsnick at gmx.net (Moritz Barsnick)
Date: Fri, 29 Oct 2010 15:06:47 +0200
Subject: [Linux-uvc-devel] Logitech HD Pro Webcam C910 and Linux
In-Reply-To: <AANLkTi=JANud6dXjJ10C15gqLzxfu=9SBWQa2p6P=CTw@mail.gmail.com>
References: <AANLkTi=JANud6dXjJ10C15gqLzxfu=9SBWQa2p6P=CTw@mail.gmail.com>
Message-ID: <20101029130647.GA25963@sunshine.barsnick.net>

On Sun, Oct 24, 2010 at 17:46:28 +0200, Mitar wrote:
> https://roundup.ffmpeg.org/issue1816

Thanks for this part of the discussion (msg10238):
> > Why does FFmpeg insist on reinventing the wheel all the time?
> Because the other wheels are square.  Ours are round.

I need a sig now.
:-)

Moritz


From laurent.pinchart at ideasonboard.com  Sat Oct 30 20:51:07 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 30 Oct 2010 20:51:07 +0200
Subject: [Linux-uvc-devel] Not able to compile v4l-dvb-1da5fed5c8b2 on
	RHEL5.5
In-Reply-To: <AANLkTi=P=4LTHtiALdACZ4j6biGH=+tZj2R+b05umN-1@mail.gmail.com>
References: <AANLkTi=waPOa0ve71XumOi=THCGK5c-xL49EkmZT_X5n@mail.gmail.com>
	<201010181545.38096.laurent.pinchart@ideasonboard.com>
	<AANLkTi=P=4LTHtiALdACZ4j6biGH=+tZj2R+b05umN-1@mail.gmail.com>
Message-ID: <201010302051.07878.laurent.pinchart@ideasonboard.com>

Hi Preetish,

On Wednesday 20 October 2010 12:52:39 Preetish wrote:
>
> Hello Laurent
> 
> I must have been half asleep when I was trying to do this . Sorry
> about that. However now that I have gcc on my system, I am still not
> able to compile it :
> 
> ---- snip ----
> 
> make
> make -C /exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l
> make[1]: Entering directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l' creating symbolic
> links...
> make -C firmware prep
> make[2]: Entering directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
> make[2]: Leaving directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
> make -C firmware
> make[2]: Entering directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
> make[2]: Nothing to be done for `default'.
> make[2]: Leaving directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/firmware'
> Kernel build directory is /lib/modules/2.6.18-194.el5/build
> make -C /lib/modules/2.6.18-194.el5/build
> SUBDIRS=/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l  modules
> make[2]: Entering directory `/usr/src/kernels/2.6.18-194.el5-x86_64'
>   CC [M]  /exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/tuner-xc2028.o
> In file included from
> /exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/tuner-xc2028.c:19:
> /exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/compat.h:133: error:
> static declaration of 'strict_strtoul' follows non-static declaration
> include/linux/kernel.h:141: error: previous declaration of
> 'strict_strtoul' was here
> make[3]: ***
> [/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l/tuner-xc2028.o] Error 1
> make[2]: *** [_module_/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l]
> Error 2 make[2]: Leaving directory
> `/usr/src/kernels/2.6.18-194.el5-x86_64' make[1]: *** [default] Error 2
> make[1]: Leaving directory
> `/exports/preetish/Rpms/v4l-dvb-1da5fed5c8b2/v4l' make: *** [all] Error 2
> 
> ---- snip ----
> 
> Can you suggest what else am I missing .

RHEL 5.5 seems to have backported the strict_strtoul function to 2.6.18. You 
should be able to fix that by editing v4l/compat.h and removing the 
strict_strtoul definition.

Several other functions could have been backported as well. If so you will 
need to modify v4l/compat.h accordingly.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Oct 30 20:58:11 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 30 Oct 2010 20:58:11 +0200
Subject: [Linux-uvc-devel] sanyo cg10
In-Reply-To: <4CC1E3BA.5060000@gmail.com>
References: <4CB73E91.7050701@gmail.com>
	<201010200148.27485.laurent.pinchart@ideasonboard.com>
	<4CC1E3BA.5060000@gmail.com>
Message-ID: <201010302058.11944.laurent.pinchart@ideasonboard.com>

Hi Riccardo,

On Friday 22 October 2010 21:19:22 Riccardo Magliocchetti wrote:
> Il 20/10/2010 01:48, Laurent Pinchart ha scritto:
> > On Thursday 14 October 2010 19:32:01 Riccardo Magliocchetti wrote:
> >> Hello,
> >> 
> >> i have a sanyo cg10 camcorder, i've tried to connect it to my pc using
> >> it "pc camera" mode, it is recognized as uvc device but it is not
> >> working. With vlc i see a green background, with luvcview:
> >> 
> >> $ luvcview -d /dev/video1
> >> luvcview 0.2.6
> >> 
> >> SDL information:
> >>     Video driver: x11
> >>     A window manager is available
> >> 
> >> Device information:
> >>     Device path:  /dev/video1
> >> 
> >> Stream settings:
> >>     Frame format: MJPG
> >> 
> >> Unable to set format: Input/output error
> >> 
> >>    Init v4L2 failed !! exit fatal
> > 
> > Do you get any additional message printed to the kernel log when this
> > happens ? If not, please raise the driver trace level with
> > 
> > echo 0xffff>  /sys/modules/uvcvideo/parameters/trace
> > 
> > and run luvcview again. The driver should then print additional debug
> > information.
> 
> well, i've found that it's working fine out the box, it's actually a
> call to luvcview -L -d /dev/video1 that breaks it.

I'm very surprised by that. luvcview -L doesn't modify the hardware state. 
Maybe only the first stream attempt succeeds ? Could you try running luvcview 
-d /dev/Video1 multiple times in a row ?

> Attached you can find a log before the call with -L (sanyo-cg10.log) and
> during and after (sanyo-cg10-ko.log).
> 
> I'm with kernel 2.6.36.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Oct 30 21:00:23 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 30 Oct 2010 21:00:23 +0200
Subject: [Linux-uvc-devel] Trying to add UVC support for Microsoft
	Lifecam Cinema to older 2.6.20 kernel fails...
In-Reply-To: <4CC1F578.4080709@wisper.se>
References: <4CC1F578.4080709@wisper.se>
Message-ID: <201010302100.23591.laurent.pinchart@ideasonboard.com>

Hi Stefan,

On Friday 22 October 2010 22:35:04 Stefan Karlsson wrote:
> Hello,
> 
> I have now struggled awhile on my own, and tried  v4l-dvb from mg and
> and picks from the backport repro, and all fails compiling against an
> 2.6.20 kernel
> (Yes.. I know .. use newer kernel , but there are other dependencies
> that makes me stuck with 2.6.20 for the time being.. :/  )
> 
> This are the errors (which according to Google I am alone in the
> universe to get...? ):

[snip]

> Can anyone please point me in the right direction or perhaps suggest an
> backport that is tagged to work with 2.6.20 ?
> Thanks in advance!

The hg backport tree requires a 2.6.22 or newer kernel. It might be possible 
to compile the uvcvideo driver on 2.6.20, but that would require manual 
backport from 2.6.22 to 2.6.20.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Oct 30 21:10:50 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 30 Oct 2010 21:10:50 +0200
Subject: [Linux-uvc-devel] Compiling and loading V4l modules
In-Reply-To: <AANLkTin_VeUA5F4tkzKbxvak6gukQXbJ0jf99VpGGgiT@mail.gmail.com>
References: <AANLkTimoOAzVG=XRVE20c3xQMeKnT+wCiX+wjSPS-e4p@mail.gmail.com>
	<AANLkTim6U5xm0hjtU95hgUMdrfVtAFi_Ez6Hocfd1q2C@mail.gmail.com>
	<AANLkTin_VeUA5F4tkzKbxvak6gukQXbJ0jf99VpGGgiT@mail.gmail.com>
Message-ID: <201010302110.50498.laurent.pinchart@ideasonboard.com>

Hi Neil,

On Sunday 24 October 2010 23:42:38 Neil Benn wrote:
> Hello,
> 
>         Sorry I sent the previous message on my Android phone while
> standing on a windswept beach and holding my hat on my head!  Here is
> the message without that handicap and more descriptive!

No worries.

> ---
>   Thanks for the reply.  Sorry to ask such a basic question but here
> goes - if the drivers on my system will not work with the code form
> the hg tree can I access the git tree and obtain the branch for the
> kernel I am using.  I can then modify the code and load the uvc
> drivers in and use those?  I'm investigating the bandwidth used by
> some webcams I have and have been looking at some of the work done to
> access multiple webcams - I'm playing with UBS2.0 and USB3.0 to see
> what happens but I would like to be able to edit the uvc code to put
> in some logging (at first) and just want to get started with something
> (i.e. print Hello World out when setting the bandwidth).
> 
>   Any help on this is greatly appreciated.

So more information in addition to what's provided in my reply to your 
previous e-mail.

Debugging message regarding bandwidth allocation can be printed to the kernel 
log by enabling the UVC_TRACE_VIDEO trace flag when loading the driver:

modprobe uvcvideo trace=1024

If the driver is already loaded you can modify the trace parameter with

echo 1024 > /sys/modules/uvcvideo/parameters/trace

This feature was made available in kernel 2.6.33.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sat Oct 30 21:29:19 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sat, 30 Oct 2010 21:29:19 +0200
Subject: [Linux-uvc-devel] 090c:37b3 Feiya Technology Corp.
In-Reply-To: <9c8a72798554d28d5991c75333ef9015@lutz-thuns.de>
References: <4CBF4B0D.6020203@opensuse.org>
	<201010222150.15987.laurent.pinchart@ideasonboard.com>
	<9c8a72798554d28d5991c75333ef9015@lutz-thuns.de>
Message-ID: <201010302129.19780.laurent.pinchart@ideasonboard.com>

Hi Lutz,

On Monday 25 October 2010 08:22:50 Lutz Thuns wrote:
>  On Fri, 22 Oct 2010 21:50:15 +0200, Laurent Pinchart
> 
>  <laurent.pinchart at ideasonboard.com> wrote:
> > luvcview 0.2.1 defaults to MJPG and doesn't gracefully fall back to
> > YUV.
> > Running luvcview -f yuv should do the trick.
> 
>  Exactly. This works!
>  Still got a problem with the application Cheese, which does not
>  recognize the cam.
> 
> 
>  uvcvideo: Failed to query (130) UVC control 5 (unit 3) : -32 (exp. 1).
> 
>  I have an errorlog on
>  https://bugzilla.novell.com/show_bug.cgi?id=634487
> 
>  Maybe that's some driver's issue...

It should have been fixed in 2.6.35.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sun Oct 31 01:28:49 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sun, 31 Oct 2010 01:28:49 +0200
Subject: [Linux-uvc-devel] ISO data corruption
In-Reply-To: <AANLkTi=CPJ2V83VWgqb0-M+q1t7SAdsBuVhrrvBDPBrd@mail.gmail.com>
References: <AANLkTi=CPJ2V83VWgqb0-M+q1t7SAdsBuVhrrvBDPBrd@mail.gmail.com>
Message-ID: <201010310128.49370.laurent.pinchart@ideasonboard.com>

Hi,

On Friday 29 October 2010 06:34:28 linux newbie wrote:
> Hi,
> 
> * I connected Microsoft Life cam (1280 x 800) to ARM board.

What ARM processor ?

> * my application can able to capture image and it is working fine.
> * I modified my application in such a way tht STREAMON is set, and
> every 30secs, i capture the frame, write it to file as PNG image.
> * In this case, image is corrupted at the end.

What kind of corruption ?

> Can anyone let me know how to debug this issue in driver level? I gave
> dummy frame in application level and made sure the application code is
> fine.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Sun Oct 31 01:37:28 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Sun, 31 Oct 2010 01:37:28 +0200
Subject: [Linux-uvc-devel] [Linux] [UVC] I'm building a still-image patch
In-Reply-To: <AANLkTi=URwDzch22O_n+9Jx2_T+k+bVkUnEUEThfx9uA@mail.gmail.com>
References: <AANLkTi=URwDzch22O_n+9Jx2_T+k+bVkUnEUEThfx9uA@mail.gmail.com>
Message-ID: <201010310137.28752.laurent.pinchart@ideasonboard.com>

Hi,

On Saturday 23 October 2010 12:05:22 Palmax Maverick wrote:
> Dear linux-uvc developers and users,
> 
> I'm at the middle of my still image patch :-)
> 
> When I have a one that works, I will send you this patch.

I'm looking forward to that. Please try to discuss the API on the linux-media 
mailing list.

-- 
Regards,

Laurent Pinchart


From linux.newbie79 at gmail.com  Sun Oct 31 23:09:18 2010
From: linux.newbie79 at gmail.com (linux newbie)
Date: Mon, 1 Nov 2010 09:09:18 +1100
Subject: [Linux-uvc-devel] ISO data corruption
In-Reply-To: <201010310128.49370.laurent.pinchart@ideasonboard.com>
References: <AANLkTi=CPJ2V83VWgqb0-M+q1t7SAdsBuVhrrvBDPBrd@mail.gmail.com>
	<201010310128.49370.laurent.pinchart@ideasonboard.com>
Message-ID: <AANLkTinyGyxEwGn4veK2R0vWeK2EGG2px34Q1_-r4y+0@mail.gmail.com>

* 250MHz Cavium ARM9 CPU
* Last 20 lines of the image (approx) is displaying the top portion.
* I changed the value of UVC_MAX_ISO_PACKETS to 60 and in this case
the issue is not consistent.

On Sun, Oct 31, 2010 at 10:28 AM, Laurent Pinchart
<laurent.pinchart at ideasonboard.com> wrote:
> Hi,
>
> On Friday 29 October 2010 06:34:28 linux newbie wrote:
>> Hi,
>>
>> * I connected Microsoft Life cam (1280 x 800) to ARM board.
>
> What ARM processor ?
>
>> * my application can able to capture image and it is working fine.
>> * I modified my application in such a way tht STREAMON is set, and
>> every 30secs, i capture the frame, write it to file as PNG image.
>> * In this case, image is corrupted at the end.
>
> What kind of corruption ?
>
>> Can anyone let me know how to debug this issue in driver level? I gave
>> dummy frame in application level and made sure the application code is
>> fine.
>
> --
> Regards,
>
> Laurent Pinchart
>


