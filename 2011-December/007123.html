<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] 174f:1420 Syntek malfunctions
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20174f%3A1420%20Syntek%20malfunctions&In-Reply-To=%3C4EE5BC87.1060008%40fisher-privat.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007122.html">
   <LINK REL="Next"  HREF="007124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] 174f:1420 Syntek malfunctions</H1>
    <B>Alexey Fisher</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20174f%3A1420%20Syntek%20malfunctions&In-Reply-To=%3C4EE5BC87.1060008%40fisher-privat.net%3E"
       TITLE="[Linux-uvc-devel] 174f:1420 Syntek malfunctions">bug-track at fisher-privat.net
       </A><BR>
    <I>Mon Dec 12 09:34:15 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007122.html">[Linux-uvc-devel] 174f:1420 Syntek malfunctions
</A></li>
        <LI>Next message: <A HREF="007124.html">[Linux-uvc-devel] 174f:1420 Syntek malfunctions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7123">[ date ]</a>
              <a href="thread.html#7123">[ thread ]</a>
              <a href="subject.html#7123">[ subject ]</a>
              <a href="author.html#7123">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Am 12.12.2011 05:51, schrieb Andres Cimmarusti:
&gt;<i> Hi again
</I>&gt;<i> 
</I>&gt;&gt;<i> It sounds plausibly. But in this case i would expect error -28
</I>&gt;&gt;<i> (no space), rather then -110 (time out). Any way, currently only
</I>&gt;&gt;<i> you can test if it's true. If you use debian you can probably use
</I>&gt;&gt;<i> precompiled ubuntu kernels: 
</I>&gt;&gt;<i> <A HREF="http://kernel.ubuntu.com/~kernel-ppa/mainline/">http://kernel.ubuntu.com/~kernel-ppa/mainline/</A>
</I>&gt;<i> 
</I>&gt;<i> I tested the latest 3 stable kernels: 2.6.39.4, 3.0.13 and 3.1.5
</I>&gt;<i> with no luck. I actually cannot use a kernel lower than 3.0.x
</I>&gt;<i> (permanently) because it has no support for my realtek wireless
</I>&gt;<i> card.
</I>&gt;<i> 
</I>&gt;&gt;<i> If still no results, then try other quirks: #define
</I>&gt;&gt;<i> UVC_QUIRK_STATUS_INTERVAL       0x00000001 #define
</I>&gt;&gt;<i> UVC_QUIRK_PROBE_MINMAX          0x00000002 #define
</I>&gt;&gt;<i> UVC_QUIRK_PROBE_EXTRAFIELDS     0x00000004 #define
</I>&gt;&gt;<i> UVC_QUIRK_BUILTIN_ISIGHT        0x00000008 #define
</I>&gt;&gt;<i> UVC_QUIRK_STREAM_NO_FID         0x00000010 #define
</I>&gt;&gt;<i> UVC_QUIRK_IGNORE_SELECTOR_UNIT  0x00000020 #define
</I>&gt;&gt;<i> UVC_QUIRK_FIX_BANDWIDTH         0x00000080 #define
</I>&gt;&gt;<i> UVC_QUIRK_PROBE_DEF             0x00000100 #define
</I>&gt;&gt;<i> UVC_QUIRK_RESTRICT_FRAME_RATE   0x00000200
</I>&gt;<i> 
</I>&gt;<i> Tried all the quirks one by one and nothing. The PROBE_DEF 0x100
</I>&gt;<i> quirk is the only one that doesn't complain in dmesg. The others
</I>&gt;<i> always showed this:
</I>&gt;<i> 
</I>&gt;<i> [ 5626.340681] uvcvideo: UVC non compliance - GET_DEF(PROBE) not 
</I>&gt;<i> supported. Enabling workaround.
</I>&gt;<i> 
</I>&gt;&gt;<i> then if no results, test if device works at all with some
</I>&gt;&gt;<i> alternate OS :)
</I>&gt;<i> 
</I>&gt;<i> Well, unfortunately this isn't an option for me. I could try, but
</I>&gt;<i> I'm not sure what that would accomplish, except getting the thing
</I>&gt;<i> to work properly. If this would help in bringing support for the
</I>&gt;<i> linux kernel then I would consider it.
</I>
If device do not fill uvc standards, there is nothing we can do. This
is the reason you should check alternate os, to see if there M$ one
more time define wort standard in other way. One example: would you
complain to kernel devs if FireWire plug do not fit to USB interface?
The same is about UVC. If it is almost UVC webcam, then we can almost
support it.

&gt;<i> Lastly I just want to share a few more of diagnostics I've tried:
</I>&gt;<i> 
</I>&gt;<i> 1. Attached is the output from the CLI utility 'v4l2-compliance 
</I>&gt;<i> --device=/dev/video0'. It shows a failure in one of the tests:
</I>&gt;<i> test VIDIOC_S_PRIORITY: FAIL (-1)
</I>&gt;<i> 
</I>&gt;<i> 2. Also attached is the log of the utility guvcview when I try to
</I>&gt;<i> use with the webcam. It almost always fails...however it worked
</I>&gt;<i> once without a problem... how does this make any sense? how is it
</I>&gt;<i> possible that it works sporadically? Jitsi, ekiga and linphone fail
</I>&gt;<i> right away, but cheese and luvcview also works sporadically...
</I>&gt;<i> 
</I>&gt;<i> 3. The webcam works flawlessly with the google talk plugin in 
</I>&gt;<i> conjunction with Firefox 8.0. I know that this plugin uses the
</I>&gt;<i> 32-bit version of libv4l. While the other applications I've been
</I>&gt;<i> trying are native 64-bit. Thoughts? comments?
</I>
google talk plugin do mostly same requests like luvcvideo do. Can you
please test if your cam works only with one specific format? On my
system GTalk use yuv <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">640x480 at 30fps.</A> To imitate it use:
luvcview -f yuv -i 30 -s 640x480

I doubt it has some thing todo with 64/32-bit.

Can you please test if increasing  UVC_CTRL_CONTROL_TIMEOUT will help.
You will need to edit: linux/drivers/media/video/uvc/uvcvideo.h
and recompile kernel.

If not, i have no more ideas. May be Laurent will have.

- -- 
Regards,
Alexey
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.11 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org/">http://enigmail.mozdev.org/</A>

iEYEARECAAYFAk7lvIAACgkQw8E0jNwoJm/fpgCfajRsxpAcDL2cHLlUDxtxMrb9
/qIAn0150abP/nsfwAFSZOKKzBhsEUhs
=mdab
-----END PGP SIGNATURE-----

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007122.html">[Linux-uvc-devel] 174f:1420 Syntek malfunctions
</A></li>
	<LI>Next message: <A HREF="007124.html">[Linux-uvc-devel] 174f:1420 Syntek malfunctions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7123">[ date ]</a>
              <a href="thread.html#7123">[ thread ]</a>
              <a href="subject.html#7123">[ subject ]</a>
              <a href="author.html#7123">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
