<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] problem with audio/video Microsoft Lifecam studio	Hd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20problem%20with%20audio/video%20Microsoft%20Lifecam%20studio%0A%09Hd&In-Reply-To=%3C4EEDFE2D.4050904%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007136.html">
   <LINK REL="Next"  HREF="007138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] problem with audio/video Microsoft Lifecam studio	Hd</H1>
    <B>Andrea Greggio</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20problem%20with%20audio/video%20Microsoft%20Lifecam%20studio%0A%09Hd&In-Reply-To=%3C4EEDFE2D.4050904%40gmail.com%3E"
       TITLE="[Linux-uvc-devel] problem with audio/video Microsoft Lifecam studio	Hd">parsifal83 at gmail.com
       </A><BR>
    <I>Sun Dec 18 15:52:29 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="007136.html">[Linux-uvc-devel] Acer HD Crystal Eye webcam
</A></li>
        <LI>Next message: <A HREF="007138.html">[Linux-uvc-devel] [patch] add &quot;report&quot; file to debugfs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7137">[ date ]</a>
              <a href="thread.html#7137">[ thread ]</a>
              <a href="subject.html#7137">[ subject ]</a>
              <a href="author.html#7137">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I used your suggestion to put  quirks=80 but nothing change.

sudo rmmod uvcvideo &amp;&amp; sudo modprobe uvcvideo quirks=0x80 jpeg_comp=1 6 
trace=0xffff

So when i settings in openmeetings video from lifecam and audio from Hda 
intel, the video works, but when i set audio and video from lifecam in 
syslog there is this error:

*uvcvideo: Failed to set UVC probe control : -32 (exp. 26).*

and the screen are black.

I've tested various resolution but the problem remains.

I don't know why the driver use YUV without MJPEG stream, the patch that 
i've used is correct?
Where i can set to use MJPEG stream? or it is the flash that send 
incorrect parameter?

In syslog there is this messages:

uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
uvcvideo: uvc_v4l2_ioctl(VIDIOC_G_FMT)
uvcvideo: uvc_v4l2_ioctl(VIDIOC_S_FMT)
uvcvideo: Trying format 0x56595559 (YUYV): 640x480.
uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
uvcvideo: uvc_set_video_ctrl: PROBE; bmHint: 1; bFormatIndex: 1; 
bFrameIndex: 1; dwFrameInterval: 333333; wKeyFrameRate: 0; wCompQuality: 
0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 0; 
dwMaxPayloadTransferSize: 0
uvcvideo: Revrite dwMaxPayloadTransferSize 128 to 2392
uvcvideo: uvc_get_video_ctrl: GET_MIN; bmHint: 0; bFormatIndex: 1; 
bFrameIndex: 1; dwFrameInterval: 333333; wKeyFrameRate: 0; wCompQuality: 
0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 614400; 
dwMaxPayloadTransferSize: 2392
uvcvideo: Revrite dwMaxPayloadTransferSize 3072 to 1024
uvcvideo: uvc_get_video_ctrl: GET_MAX; bmHint: 0; bFormatIndex: 1; 
bFrameIndex: 1; dwFrameInterval: 1333333; wKeyFrameRate: 0; 
wCompQuality: 0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 
614400; dwMaxPayloadTransferSize: 1024
uvcvideo: uvc_set_video_ctrl: PROBE; bmHint: 1; bFormatIndex: 1; 
bFrameIndex: 1; dwFrameInterval: 333333; wKeyFrameRate: 0; wCompQuality: 
0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 0; 
dwMaxPayloadTransferSize: 0
uvcvideo: Revrite dwMaxPayloadTransferSize 3072 to 2392
uvcvideo: uvc_get_video_ctrl: GET_CUR; bmHint: 0; bFormatIndex: 1; 
bFrameIndex: 1; dwFrameInterval: 333333; wKeyFrameRate: 0; wCompQuality: 
0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 614400; 
dwMaxPayloadTransferSize: 2392
  uvcvideo: uvc_v4l2_ioctl(VIDIOC_G_FMT)
uvcvideo: uvc_v4l2_ioctl(VIDIOC_S_FMT)
uvcvideo: Trying format 0x56595559 (YUYV): 320x240.
uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
uvcvideo: uvc_set_video_ctrl: PROBE; bmHint: 1; bFormatIndex: 1; 
bFrameIndex: 8; dwFrameInterval: 333333; wKeyFrameRate: 0; wCompQuality: 
0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 0; 
dwMaxPayloadTransferSize: 0
uvcvideo: Revrite dwMaxPayloadTransferSize 128 to 1024
uvcvideo: uvc_get_video_ctrl: GET_MIN; bmHint: 0; bFormatIndex: 1; 
bFrameIndex: 8; dwFrameInterval: 333333; wKeyFrameRate: 0; wCompQuality: 
0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 153600; 
dwMaxPayloadTransferSize: 1024
uvcvideo: Revrite dwMaxPayloadTransferSize 3072 to 1024
uvcvideo: uvc_get_video_ctrl: GET_MAX; bmHint: 0; bFormatIndex: 1; 
bFrameIndex: 8; dwFrameInterval: 1333333; wKeyFrameRate: 0; 
wCompQuality: 0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 
153600; dwMaxPayloadTransferSize: 1024
  uvcvideo: uvc_set_video_ctrl: PROBE; bmHint: 1; bFormatIndex: 1; 
bFrameIndex: 8; dwFrameInterval: 333333; wKeyFrameRate: 0; wCompQuality: 
0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 0; 
dwMaxPayloadTransferSize: 0
uvcvideo: Revrite dwMaxPayloadTransferSize 2688 to 1024
uvcvideo: uvc_get_video_ctrl: GET_CUR; bmHint: 0; bFormatIndex: 1; 
bFrameIndex: 8; dwFrameInterval: 333333; wKeyFrameRate: 0; wCompQuality: 
0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 153600; 
dwMaxPayloadTransferSize: 1024
uvcvideo: uvc_v4l2_ioctl(VIDIOC_G_FMT)
uvcvideo: uvc_v4l2_ioctl(VIDIOC_S_FMT)
uvcvideo: Trying format 0x56595559 (YUYV): 320x240.
uvcvideo: Using default frame interval 33333.3 us (30.0 fps).
uvcvideo: uvc_set_video_ctrl: PROBE; bmHint: 1; bFormatIndex: 1; 
bFrameIndex: 8; dwFrameInterval: 333333; wKeyFrameRate: 0; wCompQuality: 
0; wCompWindowSize: 0; wDelay: 0; dwMaxVideoFrameSize 0; 
dwMaxPayloadTransferSize: 0
5:3:1: cannot get freq at ep 0x82
uvcvideo: Failed to set UVC probe control : -32 (exp. 26).


And this is the udev info:

UDEV  [21.904696] add      
/devices/pci0000:00/0000:00:1d.7/usb1/1-8/1-8:1.0/video4linux/video0 
(video4linux)
UDEV_LOG=3
ACTION=add
DEVPATH=/devices/pci0000:00/0000:00:1d.7/usb1/1-8/1-8:1.0/video4linux/video0
SUBSYSTEM=video4linux
DEVNAME=/dev/video0
SEQNUM=1642
ID_V4L_VERSION=2
ID_V4L_PRODUCT=Microsoft&#174; LifeCam Studio(TM)
ID_V4L_CAPABILITIES=:capture:
ID_VENDOR=Microsoft
ID_VENDOR_ENC=Microsoft
ID_VENDOR_ID=045e
ID_MODEL=Microsoft&#174;_LifeCam_Studio_TM_
ID_MODEL_ENC=Microsoft&#174;\x20LifeCam\x20Studio\x28TM\x29
ID_MODEL_ID=0772
ID_REVISION=0112
ID_SERIAL=Microsoft_Microsoft&#174;_LifeCam_Studio_TM_
ID_TYPE=video
ID_BUS=usb
ID_USB_INTERFACES=:0e0100:0e0200:010100:010200:030000:
ID_USB_INTERFACE_NUM=00
ID_USB_DRIVER=uvcvideo
ID_PATH=pci-0000:00:1d.7-usb-0:8:1.0
ID_PATH_TAG=pci-0000_00_1d_7-usb-0_8_1_0
COLORD_DEVICE=1
COLORD_KIND=camera
MAJOR=81
MINOR=0
DEVLINKS=/dev/v4l/by-id/usb-Microsoft_Microsoft&#174;_LifeCam_Studio_TM_-video-index0 
/dev/v4l/by-path/pci-0000:00:1d.7-usb-0:8:1.0-video-index0
TAGS=:udev-acl:

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20111218/bf255ae1/attachment.html">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20111218/bf255ae1/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007136.html">[Linux-uvc-devel] Acer HD Crystal Eye webcam
</A></li>
	<LI>Next message: <A HREF="007138.html">[Linux-uvc-devel] [patch] add &quot;report&quot; file to debugfs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7137">[ date ]</a>
              <a href="thread.html#7137">[ thread ]</a>
              <a href="subject.html#7137">[ subject ]</a>
              <a href="author.html#7137">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
