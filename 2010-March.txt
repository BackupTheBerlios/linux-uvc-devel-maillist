From perja at extern.uio.no  Mon Mar  1 11:46:06 2010
From: perja at extern.uio.no (Per Thomas Jahr)
Date: Mon, 01 Mar 2010 11:46:06 +0100
Subject: [Linux-uvc-devel] IPEVO Point 2 View supported
Message-ID: <1267440366.3207.11.camel@delphi>

Hi, 

I just wanted to report that the IPEVO Point 2 View webcam works fine
with uvcvideo. I've tested it with various applications (Skype, UCView,
Flash ...) and found that it works in all except "Cheese Webcam Booth". 

This message always shows in dmesg once I start one of the video apps: 
uvcvideo: 
Failed to query (135) UVC control 11 (unit 3) : -32 (exp. 1).
(but it works ok)

There are two buttons on the webcam. One of them is to set focus and the
other is for taking a picture. The one that sets focus works as
expected, but nothing happens when I press the snapshot button. Should
it be supported? Also, about setting the focus: the hardware button for
this works, but is it possible to control focus from software? It seems
that the software that follows the webcam supports this (you click on
the part of the image that you want in focus).

Web site: http://www.ipevo.com/Point-2-View-USB-Camera_p_70.html

Here is the output from dmesg when plugged in:

usb 2-4.4: new high speed USB device using ehci_hcd and address 10
usb 2-4.4: New USB device found, idVendor=1778, idProduct=0204
usb 2-4.4: New USB device strings: Mfr=1, Product=2, SerialNumber=0
usb 2-4.4: Product: IPEVO Point 2 View
usb 2-4.4: Manufacturer: IPEVO corp
usb 2-4.4: configuration #1 chosen from 1 choice
drivers/hid/usbhid/hid-core.c: usb_submit_urb(ctrl) failed
generic-usb 0003:1778:0204.0008: timeout initializing reports
generic-usb 0003:1778:0204.0008: hiddev97,hidraw6: USB HID v1.10 Device [IPEVO corp IPEVO Point 2 View] on usb-0000:00:1d.7-4.4/input2
uvcvideo: Found UVC 1.00 device IPEVO Point 2 View (1778:0204)
input: IPEVO Point 2 View as /devices/pci0000:00/0000:00:1d.7/usb2/2-4/2-4.4/2-4.4:1.0/input/input12
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)

And here is "lsusb -v -d 1778:0204":

Bus 002 Device 008: ID 1778:0204  
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x1778 
  idProduct          0x0204 
  bcdDevice           10.12
  iManufacturer           1 IPEVO corp
  iProduct                2 IPEVO Point 2 View
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          905
    bNumInterfaces          3
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              300mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass         3 Human Interface Device
      bInterfaceSubClass      0 No Subclass
      bInterfaceProtocol      0 None
      iInterface              0 
        HID Device Descriptor:
          bLength                 9
          bDescriptorType        33
          bcdHID               1.10
          bCountryCode            0 Not supported
          bNumDescriptors         1
          bDescriptorType        34 Report
          wDescriptorLength      64
         Report Descriptors: 
           ** UNAVAILABLE **
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              10
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               0 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              0 
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           80
        dwClockFrequency        6.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x000200a2
          Auto-Exposure Mode
          Focus (Absolute)
          Iris (Absolute)
          Focus, Auto
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 3
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000147f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0 
        bmVideoStandards     0x1d
          None
          PAL - 625/50
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                29
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {2652215a-8932-5641-894a-5c557cdf9664}
        bNumControl             4
        bNrPins                 1
        baSourceID( 0)          3
        bControlSize            4
        bmControls( 0)       0xff
        bmControls( 1)       0xff
        bmControls( 2)       0xff
        bmControls( 3)       0xff
        iExtension              0 
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             2
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               4
        iTerminal               0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval               9
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
        INTERFACE CLASS:  0f 24 01 02 da 02 82 00 02 02 01 00 01 00 00
        INTERFACE CLASS:  1b 24 04 01 0b 59 55 59 32 00 00 10 00 80 00 00 aa 00 38 9b 71 10 01 00 00 00 00
        INTERFACE CLASS:  1e 24 05 01 00 80 02 e0 01 00 00 ca 08 00 00 ca 08 00 60 09 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 05 02 00 a0 00 78 00 00 a0 8c 00 00 a0 8c 00 00 96 00 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 05 03 00 b0 00 90 00 00 a0 b9 00 00 a0 b9 00 00 c6 00 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 05 04 00 40 01 f0 00 00 80 32 02 00 80 32 02 00 58 02 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 05 05 00 60 01 20 01 00 80 e6 02 00 80 e6 02 00 18 03 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 05 06 00 20 03 58 02 00 d0 dd 06 00 d0 dd 06 00 a6 0e 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 05 07 00 00 04 00 03 00 00 40 0b 00 00 40 0b 00 00 18 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 05 08 00 00 05 c0 03 00 00 94 11 00 00 94 11 00 80 25 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 05 09 00 00 05 00 04 00 00 c0 12 00 00 c0 12 00 00 28 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 05 0a 00 40 06 b0 04 00 40 77 1b 00 40 77 1b 00 98 3a 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 05 01 00 80 02 e0 01 00 00 ca 08 00 00 ca 08 00 60 09 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  0b 24 06 02 0b 00 01 00 00 00 00
        INTERFACE CLASS:  1e 24 07 01 00 80 02 e0 01 00 00 ca 08 00 00 ca 08 00 60 09 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 07 02 00 a0 00 78 00 00 a0 8c 00 00 a0 8c 00 00 96 00 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 07 03 00 b0 00 90 00 00 a0 b9 00 00 a0 b9 00 00 c6 00 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 07 04 00 40 01 f0 00 00 80 32 02 00 80 32 02 00 58 02 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 07 05 00 60 01 20 01 00 80 e6 02 00 80 e6 02 00 18 03 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  1e 24 07 06 00 20 03 58 02 00 d0 dd 06 00 d0 dd 06 00 a6 0e 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 07 07 00 00 04 00 03 00 00 40 0b 00 00 40 0b 00 00 18 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 07 08 00 00 05 c0 03 00 00 94 11 00 00 94 11 00 80 25 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 07 09 00 00 05 00 04 00 00 c0 12 00 00 c0 12 00 00 28 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 07 0a 00 40 06 b0 04 00 40 77 1b 00 40 77 1b 00 98 3a 00 2a 2c 0a 00 01 2a 2c 0a 00
        INTERFACE CLASS:  1e 24 07 01 00 80 02 e0 01 00 00 ca 08 00 00 ca 08 00 60 09 00 15 16 05 00 01 15 16 05 00
        INTERFACE CLASS:  0b 24 03 00 01 40 06 b0 04 01 00
        INTERFACE CLASS:  06 24 0d 00 00 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13fc  3x 1020 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)


And platform/kernel info: 
# uname -a
Linux delphi 2.6.32.8-58.fc12.x86_64 #1 SMP Wed Feb 17 18:49:18 UTC 2010
x86_64 x86_64 x86_64 GNU/Linux


Thanks
Per Thomas Jahr



From simon at danner-urloffen.de  Mon Mar  1 19:43:43 2010
From: simon at danner-urloffen.de (Simon Danner)
Date: Mon, 01 Mar 2010 19:43:43 +0100
Subject: [Linux-uvc-devel] Vimicro USB Camera (Altair)
Message-ID: <1267469023.2271.0.camel@debian-simon>

Hello,
i own a webcam which is not mentioned on the website. 
It works okay with skype, mplayer and with lucview. (I get some pixels
with wrong color), but the image in cheese is totally broken. Is this a
cheese bug or a driver bug.
The device also has lights built around it, is it possible to turn them
on in linux?

please cc me im not a member of the list,
kind regards Simon Danner





Bus 002 Device 002: ID 0ac8:3450 Z-Star Microelectronics Corp. 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0ac8 Z-Star Microelectronics Corp.
  idProduct          0x3450 
  bcdDevice            1.30
  iManufacturer           1 Vimicro
  iProduct                2 Vimicro USB Camera (Altair)
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          435
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              160mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               2 Vimicro USB Camera (Altair)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              2 Vimicro USB Camera (Altair)
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           79
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x0000000a
          Auto-Exposure Mode
          Exposure Time (Absolute)
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 2
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000167b
          Brightness
          Contrast
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Gain
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0 
        bmVideoStandards     0x 9
          None
          SECAM - 625/50
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0 
      VideoControl Interface Descriptor:
        bLength                28
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {5dc717a9-1941-da11-ae0e-000d56ac7b4c}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            3
        bmControls( 0)       0x59
        bmControls( 1)       0x80
        bmControls( 2)       0x80
        iExtension              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x000a  1x 10 bytes
        bInterval               5
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         1
        wTotalLength                      197
        bEndPointAddress                  130
        bmInfo                              0
        bTerminalLink                       3
        bStillCaptureMethod                 1
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                196608000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                196608000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                196608000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                196608000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                196608000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  1
        dwFrameInterval( 0)            333333
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     0 (Unspecified)
        bTransferCharacteristics            0 (Unspecified)
        bMatrixCoefficients                 0 (Unspecified)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0400  1x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b00  2x 768 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0c00  2x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1380  3x 896 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       7
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)




From volkerlinz1980 at googlemail.com  Wed Mar  3 13:52:44 2010
From: volkerlinz1980 at googlemail.com (Volker Linz)
Date: Wed, 3 Mar 2010 13:52:44 +0100
Subject: [Linux-uvc-devel] Fwd: Support for Microsoft Lifecam VX-2000 under
	Ubuntu 9.10 Kernel 2.6.31-19
In-Reply-To: <afb6ca351003030227x2193db69jb49caee520b40f43@mail.gmail.com>
References: <afb6ca351003030227x2193db69jb49caee520b40f43@mail.gmail.com>
Message-ID: <afb6ca351003030452m39ff52a5p2485fbaf9131cbe3@mail.gmail.com>

---------- Forwarded message ----------
From: Volker Linz <volkerlinz1980 at googlemail.com>
Date: Wed, Mar 3, 2010 at 11:27 AM
Subject: Support for Microsoft Lifecam VX-2000 under Ubuntu 9.10 Kernel
2.6.31-19
To: linux-uvc-devel at lists.berlios.de


Hi team,

I am looking for a UVC driver which supported Microsoft LifeCam VX-2000
under Ubuntu 9.10 (Kernel 2.6.31-19). After research I tried to follow the
setup instruction from this
forumhttp://swiss.ubuntuforums.org/showthread.php?p=8238570,
but it doesn't work for me. In the offical supported device list I didn't
find my webcam. However my webcam will be registered fine, see here
(message.log):

Mar  3 10:07:27 vlinz-de kernel: [    7.602597] uvcvideo: Found UVC 1.00
device Microsoft? LifeCam VX-2000 (045e:0761)
Mar  3 10:07:27 vlinz-de kernel: [    7.604467] input: Microsoft? LifeCam
VX-2000 as
/devices/pci0000:00/0000:00:1a.7/usb1/1-4/1-4.2/1-4.2.2/1-4.2.2:1.0/input/input9
Mar  3 10:07:27 vlinz-de kernel: [    7.604513] usbcore: registered new
interface driver uvcvideo
Mar  3 10:07:27 vlinz-de kernel: [    7.604516] USB Video Class driver
(v0.1.0)

Do you any ideas to get work my webcam?
Please assist me to find a working driver and library (lib4vl).
I am pleased about your reply and your hints.

Regards,
Volker
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100303/52893883/attachment.html>

From laurent.pinchart at ideasonboard.com  Thu Mar  4 11:34:11 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 4 Mar 2010 11:34:11 +0100
Subject: [Linux-uvc-devel] frame rate dropping when capturing from webcam
In-Reply-To: <4B8325CA.8050207@gmail.com>
References: <4B8325CA.8050207@gmail.com>
Message-ID: <201003041134.13595.laurent.pinchart@ideasonboard.com>

Hi Cesar,

On Tuesday 23 February 2010 01:48:10 Cesar Maciel wrote:
> Hello,
> 
> I am trying to capture from a webcam with a fixed frame rate. I am using
> ffmpeg (svn revision 21498) with the following options:
> 
> 
> ./ffmpeg -y -t 00:01:00 -f video4linux2  -r 30 -s 352x288   -i
> /dev/video0 -vcodec msmpeg4v2 -f avi -r 30 video.avi
> 
> 
> I used two webcams where uvcvideo shows being capable of 352x288 at
> 30fps. For some reason, ffmpeg cannot keep the input frame rate, and it
> starts to go down. There are processing resources available in the
> system (Ubuntu Karmic 9.10, and also Voyage Linux 0.62 (Debian-based). I
> have tried specifying the qscale option, but it did not make any
> difference. Also, both cameras can output raw and mjpeg, but it also did
> not make a difference.

Have you tried disabling auto-exposure ? Most cameras adjust the frame rate 
based on lightning conditions.

> I have updated uvc on Karmic to the version available as a gzip file on
> the official website. dmesg shows tons of
> 
> uvcvideo: Dropping payload (out of sync).
> 
> and every now and then:
> 
> [28339.492016] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [28339.492022] uvcvideo: Queuing buffer 30.
> [28339.492030] uvcvideo: uvc_v4l2_ioctl(VIDIOC_DQBUF)
> 
> 
> for both cameras. On Voyage Linux (kernel 2.6.30), it shows several msgs
> like the following ones
> 
> [26440.191029] uvcvideo: Queuing buffer 3.
> [26440.191405] uvcvideo: uvc_v4l2_ioctl(VIDIOC_DQBUF)
> [26440.201496] uvcvideo: uvc_v4l2_ioctl(VIDIOC_DQBUF)
> [26440.211579] uvcvideo: uvc_v4l2_ioctl(VIDIOC_DQBUF)
> [26440.221661] uvcvideo: uvc_v4l2_ioctl(VIDIOC_DQBUF)
> [26440.230034] uvcvideo: Frame complete (EOF found).
> [26440.231743] uvcvideo: uvc_v4l2_ioctl(VIDIOC_DQBUF)
> [26440.231753] uvcvideo: Dequeuing buffer 4 (3, 14800 bytes).
> [26440.249905] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [26440.249921] uvcvideo: Queuing buffer 4.
> [26440.249950] uvcvideo: uvc_v4l2_ioctl(VIDIOC_DQBUF)
> 
> Cameras are Microsoft NX-3000 and Genius eFace 1325R
> 
> Does anyone have an idea, or need more info?

-- 
Regards,

Laurent Pinchart


From arunprasathsp at gmail.com  Thu Mar  4 15:50:58 2010
From: arunprasathsp at gmail.com (Arun Prasath S.P.)
Date: Thu, 4 Mar 2010 20:20:58 +0530
Subject: [Linux-uvc-devel] Model: LPC-UC35
In-Reply-To: <201003041123.48089.laurent.pinchart@ideasonboard.com>
References: <521f2c251002150322p17dbab9am4ce3a03ada127f5e@mail.gmail.com>
	<201002182240.09358.laurent.pinchart@ideasonboard.com>
	<521f2c251002212123h6f2d829ewe7e51c04ba7378@mail.gmail.com>
	<201003041123.48089.laurent.pinchart@ideasonboard.com>
Message-ID: <521f2c251003040650x7d490f4fw5e517924e432541f@mail.gmail.com>

Thanks, Mr.Laurent Pinchart, for your suggestion...

On Thu, Mar 4, 2010 at 3:53 PM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi Arun,
>
> On Monday 22 February 2010 06:23:01 Arun Prasath S.P. wrote:
> > I tried with gspca driver also. It is not supporting my webcam. Is there
> > any other solution?
>
> There are a few other drivers, but they don't support many cameras. Yours
> might be unsupported. Try to report the problem on the linux-media mailing
> list, someone might be able to help you. You should post the lsusb -v
> output
> for your camera in the report.
>
> --
> Regards,
>
> Laurent Pinchart
>



-- 
--
Thanks & Regards,
Arun Prasath S.P. | Kerala: +919746926636; TN: +919952046551  |
Save a tree...please do not print any document unless you really need to.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100304/86c50b7c/attachment.html>

From laurent.pinchart at ideasonboard.com  Thu Mar  4 11:23:46 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 4 Mar 2010 11:23:46 +0100
Subject: [Linux-uvc-devel] Model: LPC-UC35
In-Reply-To: <521f2c251002212123h6f2d829ewe7e51c04ba7378@mail.gmail.com>
References: <521f2c251002150322p17dbab9am4ce3a03ada127f5e@mail.gmail.com>
	<201002182240.09358.laurent.pinchart@ideasonboard.com>
	<521f2c251002212123h6f2d829ewe7e51c04ba7378@mail.gmail.com>
Message-ID: <201003041123.48089.laurent.pinchart@ideasonboard.com>

Hi Arun,

On Monday 22 February 2010 06:23:01 Arun Prasath S.P. wrote:
> I tried with gspca driver also. It is not supporting my webcam. Is there
> any other solution?

There are a few other drivers, but they don't support many cameras. Yours 
might be unsupported. Try to report the problem on the linux-media mailing 
list, someone might be able to help you. You should post the lsusb -v output 
for your camera in the report.

-- 
Regards,

Laurent Pinchart


From bk at a-bort.org  Fri Mar  5 10:10:45 2010
From: bk at a-bort.org (Bart Koppe)
Date: Fri, 05 Mar 2010 10:10:45 +0100
Subject: [Linux-uvc-devel] uvcvideo broke my vloopback module?
Message-ID: <4B90CA95.9020401@a-bort.org>

Hi List,

I'm making a media installation. One screen shows video streams from 
several webcams in the world, another screen shows you watching these 
streams.

Basically i have two issues that I need to solve. One caused by the 
install (or something I did wrong during that process)
To make my Microsoft Lifecam Cinema HD (not really a fan of MS, but 
that's what i got) stream live video I installed the dev version of 
uvc-video.
After I booted my PC this morning unfortunatly vloopback stopped working.

The other issue I could ask in a separate email, basically i can record 
the webcam output, but not stream it.

Thanks,

Bart



Some outputs according vloopback (the suggestions I found elsewhere to 
just reboot don't work):

# modprobe vloopback
FATAL: Error inserting vloopback 
(/lib/modules/2.6.26-2-686/kernel/drivers/misc/vloopback.ko): Unknown 
symbol in module, or unknown parameter (see dmesg)

dmesg shows:
[ 2216.742102] vloopback: disagrees about version of symbol video_devdata
[ 2216.742102] vloopback: Unknown symbol video_devdata
[ 2216.742102] vloopback: disagrees about version of symbol 
video_unregister_device
[ 2216.742102] vloopback: Unknown symbol video_unregister_device
[ 2216.742205] vloopback: disagrees about version of symbol 
video_device_alloc
[ 2216.742210] vloopback: Unknown symbol video_device_alloc
[ 2216.742293] vloopback: disagrees about version of symbol 
video_register_device
[ 2216.742298] vloopback: Unknown symbol video_register_device
[ 2216.742370] vloopback: disagrees about version of symbol 
video_device_release
[ 2216.742370] vloopback: Unknown symbol video_device_release

# cat /proc/version
Linux version 2.6.26-2-686 (Debian 2.6.26-21lenny3) (dannf at debian.org) 
(gcc version 4.1.3 20080704 (prerelease) (Debian 4.1.2-25)) #1 SMP Wed 
Feb 10 08:59:21 UTC 2010

# cat /proc/modules
nvidia 7086148 34 - Live 0xf942f000 (P)
agpgart 28808 1 nvidia, Live 0xf8a6d000
tun 8292 1 - Live 0xf8a50000
ppdev 6468 0 - Live 0xf8a4d000
lp 8164 0 - Live 0xf8a4a000
ipv6 235396 24 - Live 0xf8c73000
powernow_k8 12036 0 - Live 0xf89fc000
cpufreq_powersave 1856 0 - Live 0xf89e3000
cpufreq_userspace 3172 0 - Live 0xf8945000
cpufreq_conservative 5960 0 - Live 0xf8a0c000
cpufreq_ondemand 6476 2 - Live 0xf89f6000
cpufreq_stats 3776 0 - Live 0xf8830000
freq_table 4224 3 powernow_k8,cpufreq_ondemand,cpufreq_stats, Live 
0xf89f9000
fuse 42908 1 - Live 0xf8a56000
compat_ioctl32 1248 0 - Live 0xf8918000
loop 12748 0 - Live 0xf8a07000
parport_pc 22500 1 - Live 0xf8a00000
parport 30988 3 ppdev,lp,parport_pc, Live 0xf89da000
snd_hda_intel 325720 0 - Live 0xf8a90000
snd_usb_audio 70272 0 - Live 0xf8a10000
snd_usb_lib 13472 1 snd_usb_audio, Live 0xf89d5000
shpchp 25528 0 - Live 0xf89ba000
snd_pcm 62660 2 snd_hda_intel,snd_usb_audio, Live 0xf89e5000
snd_seq_midi 5728 0 - Live 0xf8947000
pci_hotplug 23460 1 shpchp, Live 0xf89a6000
pcspkr 2432 0 - Live 0xf88b6000
snd_seq_midi_event 6432 1 snd_seq_midi, Live 0xf898c000
snd_rawmidi 18496 2 snd_usb_lib,snd_seq_midi, Live 0xf89b4000
snd_hwdep 6212 1 snd_usb_audio, Live 0xf8951000
snd_seq 41456 2 snd_seq_midi,snd_seq_midi_event, Live 0xf89c3000
snd_timer 17800 2 snd_pcm,snd_seq, Live 0xf89ae000
uvcvideo 51692 0 - Live 0xf897e000
snd_seq_device 6380 3 snd_seq_midi,snd_rawmidi,snd_seq, Live 0xf894e000
videodev 34656 1 uvcvideo, Live 0xf899c000
snd 45636 8 
snd_hda_intel,snd_usb_audio,snd_pcm,snd_rawmidi,snd_hwdep,snd_seq,snd_timer,snd_seq_device, 
Live 0xf898f000
v4l1_compat 11524 2 uvcvideo,videodev, Live 0xf894a000
snd_page_alloc 7816 2 snd_hda_intel,snd_pcm, Live 0xf893e000
soundcore 6368 1 snd, Live 0xf8942000
ftdi_sio 44296 1 - Live 0xf8955000
usbserial 26472 3 ftdi_sio, Live 0xf88ae000
i2c_core 19828 2 nvidia,videodev, Live 0xf8895000
wmi 6440 0 - Live 0xf88ab000
button 6096 0 - Live 0xf88a8000
evdev 8000 4 - Live 0xf884b000
ext3 105576 2 - Live 0xf8963000
jbd 39476 1 ext3, Live 0xf8933000
mbcache 7108 1 ext3, Live 0xf8865000
sd_mod 22200 4 - Live 0xf8911000
usbhid 35904 0 - Live 0xf8907000
hid 33184 1 usbhid, Live 0xf88fd000
ff_memless 4392 1 usbhid, Live 0xf8892000
ide_pci_generic 3908 0 [permanent], Live 0xf8852000
amd74xx 7752 0 [permanent], Live 0xf8824000
ide_core 96168 2 ide_pci_generic,amd74xx, Live 0xf891a000
forcedeth 45072 0 - Live 0xf889b000
ata_generic 4676 0 - Live 0xf884f000
ahci 23596 3 - Live 0xf885e000
libata 140448 2 ata_generic,ahci, Live 0xf88d9000
scsi_mod 129548 2 sd_mod,libata, Live 0xf88b8000
dock 8304 1 libata, Live 0xf8832000
ehci_hcd 28428 0 - Live 0xf8856000
ohci_hcd 18500 0 - Live 0xf8845000
usbcore 118192 9 
snd_usb_audio,snd_usb_lib,uvcvideo,ftdi_sio,usbserial,usbhid,ehci_hcd,ohci_hcd, 
Live 0xf886d000
thermal 15228 0 - Live 0xf8836000
processor 32576 2 powernow_k8,thermal, Live 0xf883c000
fan 4196 0 - Live 0xf8827000
thermal_sys 10856 3 thermal,processor,fan, Live 0xf882a000


--
-----/\/\/\/\/\/\-----
Bart Koppe
bk at a-bort dot org
http://a-bort.org
-----\/\/\/\/\/\/-----

I love deadlines. I like the whooshing sound they make as they fly by.
- 
Douglas Adams


From bk at a-bort.org  Fri Mar  5 09:54:24 2010
From: bk at a-bort.org (Bart Koppe)
Date: Fri, 05 Mar 2010 09:54:24 +0100
Subject: [Linux-uvc-devel] uvcvideo broke my vloopback module?
Message-ID: <4B90C6C0.3040901@a-bort.org>

Hi List,

I'm making a media installation. One screen shows video streams from 
several webcams in the world, another screen shows you watching these 
streams.

Basically i have two issues that I need to solve. One caused by the 
install (or something I did wrong during that process)
To make my Microsoft Lifecam Cinema HD (not really a fan of MS, but 
that's what i got) stream live video I installed the dev version of 
uvc-video.
After I booted my PC this morning unfortunatly vloopback stopped working.

The other issue I could ask in a separate email, basically i can record 
the webcam output, but not stream it.

Thanks,

Bart



Some outputs according vloopback (the suggestions I found elsewhere to 
just reboot don't work):

# modprobe vloopback
FATAL: Error inserting vloopback 
(/lib/modules/2.6.26-2-686/kernel/drivers/misc/vloopback.ko): Unknown 
symbol in module, or unknown parameter (see dmesg)

dmesg shows:
[ 2216.742102] vloopback: disagrees about version of symbol video_devdata
[ 2216.742102] vloopback: Unknown symbol video_devdata
[ 2216.742102] vloopback: disagrees about version of symbol 
video_unregister_device
[ 2216.742102] vloopback: Unknown symbol video_unregister_device
[ 2216.742205] vloopback: disagrees about version of symbol 
video_device_alloc
[ 2216.742210] vloopback: Unknown symbol video_device_alloc
[ 2216.742293] vloopback: disagrees about version of symbol 
video_register_device
[ 2216.742298] vloopback: Unknown symbol video_register_device
[ 2216.742370] vloopback: disagrees about version of symbol 
video_device_release
[ 2216.742370] vloopback: Unknown symbol video_device_release

# cat /proc/version
Linux version 2.6.26-2-686 (Debian 2.6.26-21lenny3) (dannf at debian.org) 
(gcc version 4.1.3 20080704 (prerelease) (Debian 4.1.2-25)) #1 SMP Wed 
Feb 10 08:59:21 UTC 2010

# cat /proc/modules
nvidia 7086148 34 - Live 0xf942f000 (P)
agpgart 28808 1 nvidia, Live 0xf8a6d000
tun 8292 1 - Live 0xf8a50000
ppdev 6468 0 - Live 0xf8a4d000
lp 8164 0 - Live 0xf8a4a000
ipv6 235396 24 - Live 0xf8c73000
powernow_k8 12036 0 - Live 0xf89fc000
cpufreq_powersave 1856 0 - Live 0xf89e3000
cpufreq_userspace 3172 0 - Live 0xf8945000
cpufreq_conservative 5960 0 - Live 0xf8a0c000
cpufreq_ondemand 6476 2 - Live 0xf89f6000
cpufreq_stats 3776 0 - Live 0xf8830000
freq_table 4224 3 powernow_k8,cpufreq_ondemand,cpufreq_stats, Live 
0xf89f9000
fuse 42908 1 - Live 0xf8a56000
compat_ioctl32 1248 0 - Live 0xf8918000
loop 12748 0 - Live 0xf8a07000
parport_pc 22500 1 - Live 0xf8a00000
parport 30988 3 ppdev,lp,parport_pc, Live 0xf89da000
snd_hda_intel 325720 0 - Live 0xf8a90000
snd_usb_audio 70272 0 - Live 0xf8a10000
snd_usb_lib 13472 1 snd_usb_audio, Live 0xf89d5000
shpchp 25528 0 - Live 0xf89ba000
snd_pcm 62660 2 snd_hda_intel,snd_usb_audio, Live 0xf89e5000
snd_seq_midi 5728 0 - Live 0xf8947000
pci_hotplug 23460 1 shpchp, Live 0xf89a6000
pcspkr 2432 0 - Live 0xf88b6000
snd_seq_midi_event 6432 1 snd_seq_midi, Live 0xf898c000
snd_rawmidi 18496 2 snd_usb_lib,snd_seq_midi, Live 0xf89b4000
snd_hwdep 6212 1 snd_usb_audio, Live 0xf8951000
snd_seq 41456 2 snd_seq_midi,snd_seq_midi_event, Live 0xf89c3000
snd_timer 17800 2 snd_pcm,snd_seq, Live 0xf89ae000
uvcvideo 51692 0 - Live 0xf897e000
snd_seq_device 6380 3 snd_seq_midi,snd_rawmidi,snd_seq, Live 0xf894e000
videodev 34656 1 uvcvideo, Live 0xf899c000
snd 45636 8 
snd_hda_intel,snd_usb_audio,snd_pcm,snd_rawmidi,snd_hwdep,snd_seq,snd_timer,snd_seq_device, 
Live 0xf898f000
v4l1_compat 11524 2 uvcvideo,videodev, Live 0xf894a000
snd_page_alloc 7816 2 snd_hda_intel,snd_pcm, Live 0xf893e000
soundcore 6368 1 snd, Live 0xf8942000
ftdi_sio 44296 1 - Live 0xf8955000
usbserial 26472 3 ftdi_sio, Live 0xf88ae000
i2c_core 19828 2 nvidia,videodev, Live 0xf8895000
wmi 6440 0 - Live 0xf88ab000
button 6096 0 - Live 0xf88a8000
evdev 8000 4 - Live 0xf884b000
ext3 105576 2 - Live 0xf8963000
jbd 39476 1 ext3, Live 0xf8933000
mbcache 7108 1 ext3, Live 0xf8865000
sd_mod 22200 4 - Live 0xf8911000
usbhid 35904 0 - Live 0xf8907000
hid 33184 1 usbhid, Live 0xf88fd000
ff_memless 4392 1 usbhid, Live 0xf8892000
ide_pci_generic 3908 0 [permanent], Live 0xf8852000
amd74xx 7752 0 [permanent], Live 0xf8824000
ide_core 96168 2 ide_pci_generic,amd74xx, Live 0xf891a000
forcedeth 45072 0 - Live 0xf889b000
ata_generic 4676 0 - Live 0xf884f000
ahci 23596 3 - Live 0xf885e000
libata 140448 2 ata_generic,ahci, Live 0xf88d9000
scsi_mod 129548 2 sd_mod,libata, Live 0xf88b8000
dock 8304 1 libata, Live 0xf8832000
ehci_hcd 28428 0 - Live 0xf8856000
ohci_hcd 18500 0 - Live 0xf8845000
usbcore 118192 9 
snd_usb_audio,snd_usb_lib,uvcvideo,ftdi_sio,usbserial,usbhid,ehci_hcd,ohci_hcd, 
Live 0xf886d000
thermal 15228 0 - Live 0xf8836000
processor 32576 2 powernow_k8,thermal, Live 0xf883c000
fan 4196 0 - Live 0xf8827000
thermal_sys 10856 3 thermal,processor,fan, Live 0xf882a000


--
-----/\/\/\/\/\/\-----
Bart Koppe
bk at a-bort dot org
http://a-bort.org
-----\/\/\/\/\/\/-----

I love deadlines. I like the whooshing sound they make as they fly by.
- 
Douglas Adams


From pj.assis at gmail.com  Fri Mar  5 10:30:09 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Fri, 5 Mar 2010 09:30:09 +0000
Subject: [Linux-uvc-devel] uvcvideo broke my vloopback module?
In-Reply-To: <4B90CA95.9020401@a-bort.org>
References: <4B90CA95.9020401@a-bort.org>
Message-ID: <59cf47a81003050130q59ba168dk8f8643c5e6499e65@mail.gmail.com>

Bart Hi,
The errors you are getting are usually from old modules still laying around.
try following the v4l-dvb installation how-to:
http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-DVB_Device_Drivers#First_Use:_Out_with_the_Old.2C_In_with_the_New

take special attention to the Special case (compressed kernel modules)
in the Unresolved Symbols section


Best regards,
Paulo

2010/3/5 Bart Koppe <bk at a-bort.org>:
> Hi List,
>
> I'm making a media installation. One screen shows video streams from several
> webcams in the world, another screen shows you watching these streams.
>
> Basically i have two issues that I need to solve. One caused by the install
> (or something I did wrong during that process)
> To make my Microsoft Lifecam Cinema HD (not really a fan of MS, but that's
> what i got) stream live video I installed the dev version of uvc-video.
> After I booted my PC this morning unfortunatly vloopback stopped working.
>
> The other issue I could ask in a separate email, basically i can record the
> webcam output, but not stream it.
>
> Thanks,
>
> Bart
>
>
>
> Some outputs according vloopback (the suggestions I found elsewhere to just
> reboot don't work):
>
> # modprobe vloopback
> FATAL: Error inserting vloopback
> (/lib/modules/2.6.26-2-686/kernel/drivers/misc/vloopback.ko): Unknown symbol
> in module, or unknown parameter (see dmesg)
>
> dmesg shows:
> [ 2216.742102] vloopback: disagrees about version of symbol video_devdata
> [ 2216.742102] vloopback: Unknown symbol video_devdata
> [ 2216.742102] vloopback: disagrees about version of symbol
> video_unregister_device
> [ 2216.742102] vloopback: Unknown symbol video_unregister_device
> [ 2216.742205] vloopback: disagrees about version of symbol
> video_device_alloc
> [ 2216.742210] vloopback: Unknown symbol video_device_alloc
> [ 2216.742293] vloopback: disagrees about version of symbol
> video_register_device
> [ 2216.742298] vloopback: Unknown symbol video_register_device
> [ 2216.742370] vloopback: disagrees about version of symbol
> video_device_release
> [ 2216.742370] vloopback: Unknown symbol video_device_release
>
> # cat /proc/version
> Linux version 2.6.26-2-686 (Debian 2.6.26-21lenny3) (dannf at debian.org) (gcc
> version 4.1.3 20080704 (prerelease) (Debian 4.1.2-25)) #1 SMP Wed Feb 10
> 08:59:21 UTC 2010
>
> # cat /proc/modules
> nvidia 7086148 34 - Live 0xf942f000 (P)
> agpgart 28808 1 nvidia, Live 0xf8a6d000
> tun 8292 1 - Live 0xf8a50000
> ppdev 6468 0 - Live 0xf8a4d000
> lp 8164 0 - Live 0xf8a4a000
> ipv6 235396 24 - Live 0xf8c73000
> powernow_k8 12036 0 - Live 0xf89fc000
> cpufreq_powersave 1856 0 - Live 0xf89e3000
> cpufreq_userspace 3172 0 - Live 0xf8945000
> cpufreq_conservative 5960 0 - Live 0xf8a0c000
> cpufreq_ondemand 6476 2 - Live 0xf89f6000
> cpufreq_stats 3776 0 - Live 0xf8830000
> freq_table 4224 3 powernow_k8,cpufreq_ondemand,cpufreq_stats, Live
> 0xf89f9000
> fuse 42908 1 - Live 0xf8a56000
> compat_ioctl32 1248 0 - Live 0xf8918000
> loop 12748 0 - Live 0xf8a07000
> parport_pc 22500 1 - Live 0xf8a00000
> parport 30988 3 ppdev,lp,parport_pc, Live 0xf89da000
> snd_hda_intel 325720 0 - Live 0xf8a90000
> snd_usb_audio 70272 0 - Live 0xf8a10000
> snd_usb_lib 13472 1 snd_usb_audio, Live 0xf89d5000
> shpchp 25528 0 - Live 0xf89ba000
> snd_pcm 62660 2 snd_hda_intel,snd_usb_audio, Live 0xf89e5000
> snd_seq_midi 5728 0 - Live 0xf8947000
> pci_hotplug 23460 1 shpchp, Live 0xf89a6000
> pcspkr 2432 0 - Live 0xf88b6000
> snd_seq_midi_event 6432 1 snd_seq_midi, Live 0xf898c000
> snd_rawmidi 18496 2 snd_usb_lib,snd_seq_midi, Live 0xf89b4000
> snd_hwdep 6212 1 snd_usb_audio, Live 0xf8951000
> snd_seq 41456 2 snd_seq_midi,snd_seq_midi_event, Live 0xf89c3000
> snd_timer 17800 2 snd_pcm,snd_seq, Live 0xf89ae000
> uvcvideo 51692 0 - Live 0xf897e000
> snd_seq_device 6380 3 snd_seq_midi,snd_rawmidi,snd_seq, Live 0xf894e000
> videodev 34656 1 uvcvideo, Live 0xf899c000
> snd 45636 8
> snd_hda_intel,snd_usb_audio,snd_pcm,snd_rawmidi,snd_hwdep,snd_seq,snd_timer,snd_seq_device,
> Live 0xf898f000
> v4l1_compat 11524 2 uvcvideo,videodev, Live 0xf894a000
> snd_page_alloc 7816 2 snd_hda_intel,snd_pcm, Live 0xf893e000
> soundcore 6368 1 snd, Live 0xf8942000
> ftdi_sio 44296 1 - Live 0xf8955000
> usbserial 26472 3 ftdi_sio, Live 0xf88ae000
> i2c_core 19828 2 nvidia,videodev, Live 0xf8895000
> wmi 6440 0 - Live 0xf88ab000
> button 6096 0 - Live 0xf88a8000
> evdev 8000 4 - Live 0xf884b000
> ext3 105576 2 - Live 0xf8963000
> jbd 39476 1 ext3, Live 0xf8933000
> mbcache 7108 1 ext3, Live 0xf8865000
> sd_mod 22200 4 - Live 0xf8911000
> usbhid 35904 0 - Live 0xf8907000
> hid 33184 1 usbhid, Live 0xf88fd000
> ff_memless 4392 1 usbhid, Live 0xf8892000
> ide_pci_generic 3908 0 [permanent], Live 0xf8852000
> amd74xx 7752 0 [permanent], Live 0xf8824000
> ide_core 96168 2 ide_pci_generic,amd74xx, Live 0xf891a000
> forcedeth 45072 0 - Live 0xf889b000
> ata_generic 4676 0 - Live 0xf884f000
> ahci 23596 3 - Live 0xf885e000
> libata 140448 2 ata_generic,ahci, Live 0xf88d9000
> scsi_mod 129548 2 sd_mod,libata, Live 0xf88b8000
> dock 8304 1 libata, Live 0xf8832000
> ehci_hcd 28428 0 - Live 0xf8856000
> ohci_hcd 18500 0 - Live 0xf8845000
> usbcore 118192 9
> snd_usb_audio,snd_usb_lib,uvcvideo,ftdi_sio,usbserial,usbhid,ehci_hcd,ohci_hcd,
> Live 0xf886d000
> thermal 15228 0 - Live 0xf8836000
> processor 32576 2 powernow_k8,thermal, Live 0xf883c000
> fan 4196 0 - Live 0xf8827000
> thermal_sys 10856 3 thermal,processor,fan, Live 0xf882a000
>
>
> --
> -----/\/\/\/\/\/\-----
> Bart Koppe
> bk at a-bort dot org
> http://a-bort.org
> -----\/\/\/\/\/\/-----
>
> I love deadlines. I like the whooshing sound they make as they fly by.
-
> Douglas Adams
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From pj.assis at gmail.com  Fri Mar  5 14:52:30 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Fri, 5 Mar 2010 13:52:30 +0000
Subject: [Linux-uvc-devel] uvcvideo broke my vloopback module?
In-Reply-To: <4B90D3E4.8000202@a-bort.org>
References: <4B90CA95.9020401@a-bort.org>
	<59cf47a81003050130q59ba168dk8f8643c5e6499e65@mail.gmail.com>
	<4B90D3E4.8000202@a-bort.org>
Message-ID: <59cf47a81003050552y5a6fedc0k4b7a744c73a79664@mail.gmail.com>

Bart,
In your case I would first remove the installed modules:
make rminstall

I would then check for any extra vloopback module still laying around
and remove it.

Then proceed with a new installation following the how-to,
and install vloopback from source:
http://www.lavrsen.dk/twiki/bin/view/Motion/VideoFourLinuxLoopbackDevice

Best regards,
Paulo

2010/3/5 Bart Koppe <bk at a-bort.org>:
> Hi Paulo,
>
> I now tried:
> # for file in `find /lib/modules -name "*.ko"`; do if [[ -e $file.gz ]];
> then echo "$file.gz should be removed"; fi; done
> This returns nothing.
> To be sure I also did:
> # find / -name "*.ko.gz"
> but it also does not return anything..
>
> I anyway tried to unload and then load modules. Basically I used to only
> load vloopback, now also uvcvideo. Unloading and loading in different order
> does not solve it to.
>
> The same message appears (which is indeed similar to the example message
> about compressed kernel modules conflicting)
>
> Thanks,
>
> bart
>
>
> On 03/05/2010 10:30 AM, Paulo Assis wrote:
>>
>> Bart Hi,
>> The errors you are getting are usually from old modules still laying
>> around.
>> try following the v4l-dvb installation how-to:
>>
>> http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-DVB_Device_Drivers#First_Use:_Out_with_the_Old.2C_In_with_the_New
>>
>> take special attention to the Special case (compressed kernel modules)
>> in the Unresolved Symbols section
>>
>>
>> Best regards,
>> Paulo
>>
>> 2010/3/5 Bart Koppe<bk at a-bort.org>:
>>
>>>
>>> Hi List,
>>>
>>> I'm making a media installation. One screen shows video streams from
>>> several
>>> webcams in the world, another screen shows you watching these streams.
>>>
>>> Basically i have two issues that I need to solve. One caused by the
>>> install
>>> (or something I did wrong during that process)
>>> To make my Microsoft Lifecam Cinema HD (not really a fan of MS, but
>>> that's
>>> what i got) stream live video I installed the dev version of uvc-video.
>>> After I booted my PC this morning unfortunatly vloopback stopped working.
>>>
>>> The other issue I could ask in a separate email, basically i can record
>>> the
>>> webcam output, but not stream it.
>>>
>>> Thanks,
>>>
>>> Bart
>>>
>>>
>>>
>>> Some outputs according vloopback (the suggestions I found elsewhere to
>>> just
>>> reboot don't work):
>>>
>>> # modprobe vloopback
>>> FATAL: Error inserting vloopback
>>> (/lib/modules/2.6.26-2-686/kernel/drivers/misc/vloopback.ko): Unknown
>>> symbol
>>> in module, or unknown parameter (see dmesg)
>>>
>>> dmesg shows:
>>> [ 2216.742102] vloopback: disagrees about version of symbol video_devdata
>>> [ 2216.742102] vloopback: Unknown symbol video_devdata
>>> [ 2216.742102] vloopback: disagrees about version of symbol
>>> video_unregister_device
>>> [ 2216.742102] vloopback: Unknown symbol video_unregister_device
>>> [ 2216.742205] vloopback: disagrees about version of symbol
>>> video_device_alloc
>>> [ 2216.742210] vloopback: Unknown symbol video_device_alloc
>>> [ 2216.742293] vloopback: disagrees about version of symbol
>>> video_register_device
>>> [ 2216.742298] vloopback: Unknown symbol video_register_device
>>> [ 2216.742370] vloopback: disagrees about version of symbol
>>> video_device_release
>>> [ 2216.742370] vloopback: Unknown symbol video_device_release
>>>
>>> # cat /proc/version
>>> Linux version 2.6.26-2-686 (Debian 2.6.26-21lenny3) (dannf at debian.org)
>>> (gcc
>>> version 4.1.3 20080704 (prerelease) (Debian 4.1.2-25)) #1 SMP Wed Feb 10
>>> 08:59:21 UTC 2010
>>>
>>> # cat /proc/modules
>>> nvidia 7086148 34 - Live 0xf942f000 (P)
>>> agpgart 28808 1 nvidia, Live 0xf8a6d000
>>> tun 8292 1 - Live 0xf8a50000
>>> ppdev 6468 0 - Live 0xf8a4d000
>>> lp 8164 0 - Live 0xf8a4a000
>>> ipv6 235396 24 - Live 0xf8c73000
>>> powernow_k8 12036 0 - Live 0xf89fc000
>>> cpufreq_powersave 1856 0 - Live 0xf89e3000
>>> cpufreq_userspace 3172 0 - Live 0xf8945000
>>> cpufreq_conservative 5960 0 - Live 0xf8a0c000
>>> cpufreq_ondemand 6476 2 - Live 0xf89f6000
>>> cpufreq_stats 3776 0 - Live 0xf8830000
>>> freq_table 4224 3 powernow_k8,cpufreq_ondemand,cpufreq_stats, Live
>>> 0xf89f9000
>>> fuse 42908 1 - Live 0xf8a56000
>>> compat_ioctl32 1248 0 - Live 0xf8918000
>>> loop 12748 0 - Live 0xf8a07000
>>> parport_pc 22500 1 - Live 0xf8a00000
>>> parport 30988 3 ppdev,lp,parport_pc, Live 0xf89da000
>>> snd_hda_intel 325720 0 - Live 0xf8a90000
>>> snd_usb_audio 70272 0 - Live 0xf8a10000
>>> snd_usb_lib 13472 1 snd_usb_audio, Live 0xf89d5000
>>> shpchp 25528 0 - Live 0xf89ba000
>>> snd_pcm 62660 2 snd_hda_intel,snd_usb_audio, Live 0xf89e5000
>>> snd_seq_midi 5728 0 - Live 0xf8947000
>>> pci_hotplug 23460 1 shpchp, Live 0xf89a6000
>>> pcspkr 2432 0 - Live 0xf88b6000
>>> snd_seq_midi_event 6432 1 snd_seq_midi, Live 0xf898c000
>>> snd_rawmidi 18496 2 snd_usb_lib,snd_seq_midi, Live 0xf89b4000
>>> snd_hwdep 6212 1 snd_usb_audio, Live 0xf8951000
>>> snd_seq 41456 2 snd_seq_midi,snd_seq_midi_event, Live 0xf89c3000
>>> snd_timer 17800 2 snd_pcm,snd_seq, Live 0xf89ae000
>>> uvcvideo 51692 0 - Live 0xf897e000
>>> snd_seq_device 6380 3 snd_seq_midi,snd_rawmidi,snd_seq, Live 0xf894e000
>>> videodev 34656 1 uvcvideo, Live 0xf899c000
>>> snd 45636 8
>>>
>>> snd_hda_intel,snd_usb_audio,snd_pcm,snd_rawmidi,snd_hwdep,snd_seq,snd_timer,snd_seq_device,
>>> Live 0xf898f000
>>> v4l1_compat 11524 2 uvcvideo,videodev, Live 0xf894a000
>>> snd_page_alloc 7816 2 snd_hda_intel,snd_pcm, Live 0xf893e000
>>> soundcore 6368 1 snd, Live 0xf8942000
>>> ftdi_sio 44296 1 - Live 0xf8955000
>>> usbserial 26472 3 ftdi_sio, Live 0xf88ae000
>>> i2c_core 19828 2 nvidia,videodev, Live 0xf8895000
>>> wmi 6440 0 - Live 0xf88ab000
>>> button 6096 0 - Live 0xf88a8000
>>> evdev 8000 4 - Live 0xf884b000
>>> ext3 105576 2 - Live 0xf8963000
>>> jbd 39476 1 ext3, Live 0xf8933000
>>> mbcache 7108 1 ext3, Live 0xf8865000
>>> sd_mod 22200 4 - Live 0xf8911000
>>> usbhid 35904 0 - Live 0xf8907000
>>> hid 33184 1 usbhid, Live 0xf88fd000
>>> ff_memless 4392 1 usbhid, Live 0xf8892000
>>> ide_pci_generic 3908 0 [permanent], Live 0xf8852000
>>> amd74xx 7752 0 [permanent], Live 0xf8824000
>>> ide_core 96168 2 ide_pci_generic,amd74xx, Live 0xf891a000
>>> forcedeth 45072 0 - Live 0xf889b000
>>> ata_generic 4676 0 - Live 0xf884f000
>>> ahci 23596 3 - Live 0xf885e000
>>> libata 140448 2 ata_generic,ahci, Live 0xf88d9000
>>> scsi_mod 129548 2 sd_mod,libata, Live 0xf88b8000
>>> dock 8304 1 libata, Live 0xf8832000
>>> ehci_hcd 28428 0 - Live 0xf8856000
>>> ohci_hcd 18500 0 - Live 0xf8845000
>>> usbcore 118192 9
>>>
>>> snd_usb_audio,snd_usb_lib,uvcvideo,ftdi_sio,usbserial,usbhid,ehci_hcd,ohci_hcd,
>>> Live 0xf886d000
>>> thermal 15228 0 - Live 0xf8836000
>>> processor 32576 2 powernow_k8,thermal, Live 0xf883c000
>>> fan 4196 0 - Live 0xf8827000
>>> thermal_sys 10856 3 thermal,processor,fan, Live 0xf882a000
>>>
>>>
>>> --
>>> -----/\/\/\/\/\/\-----
>>> Bart Koppe
>>> bk at a-bort dot org
>>> http://a-bort.org
>>> -----\/\/\/\/\/\/-----
>>>
>>> I love deadlines. I like the whooshing sound they make as they fly by.
-
>>> Douglas Adams
>>> _______________________________________________
>>> Linux-uvc-devel mailing list
>>> Linux-uvc-devel at lists.berlios.de
>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>>
>>>
>
> --
> -----/\/\/\/\/\/\-----
> Bart Koppe
> Franselaan 232C
> 3028 AP Rotterdam
> 06-40704051
> bk at a-bort.org
> aim/msn/skype bartkoppe
> http://a-bort.org
> -----\/\/\/\/\/\/-----
>
>


From bk at a-bort.org  Fri Mar  5 23:26:46 2010
From: bk at a-bort.org (Bart Koppe)
Date: Fri, 05 Mar 2010 23:26:46 +0100
Subject: [Linux-uvc-devel] uvcvideo broke my vloopback module?
In-Reply-To: <59cf47a81003050552y5a6fedc0k4b7a744c73a79664@mail.gmail.com>
References: <4B90CA95.9020401@a-bort.org>	
	<59cf47a81003050130q59ba168dk8f8643c5e6499e65@mail.gmail.com>	
	<4B90D3E4.8000202@a-bort.org>
	<59cf47a81003050552y5a6fedc0k4b7a744c73a79664@mail.gmail.com>
Message-ID: <4B918526.6000200@a-bort.org>



On 03/05/2010 02:52 PM, Paulo Assis wrote:
> Bart,
> In your case I would first remove the installed modules:
> make rminstall
>
> I would then check for any extra vloopback module still laying around
> and remove it.
>
> Then proceed with a new installation following the how-to,
> and install vloopback from source:
> http://www.lavrsen.dk/twiki/bin/view/Motion/VideoFourLinuxLoopbackDevice
>
> Best regards,
> Paulo
>
> 2010/3/5 Bart Koppe<bk at a-bort.org>:
>    
>> Hi Paulo,
>>
>> I now tried:
>> # for file in `find /lib/modules -name "*.ko"`; do if [[ -e $file.gz ]];
>> then echo "$file.gz should be removed"; fi; done
>> This returns nothing.
>> To be sure I also did:
>> # find / -name "*.ko.gz"
>> but it also does not return anything..
>>
>> I anyway tried to unload and then load modules. Basically I used to only
>> load vloopback, now also uvcvideo. Unloading and loading in different order
>> does not solve it to.
>>
>> The same message appears (which is indeed similar to the example message
>> about compressed kernel modules conflicting)
>>
>> Thanks,
>>
>> bart
>>
>>
>> On 03/05/2010 10:30 AM, Paulo Assis wrote:
>>      
>>> Bart Hi,
>>> The errors you are getting are usually from old modules still laying
>>> around.
>>> try following the v4l-dvb installation how-to:
>>>
>>> http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-DVB_Device_Drivers#First_Use:_Out_with_the_Old.2C_In_with_the_New
>>>
>>> take special attention to the Special case (compressed kernel modules)
>>> in the Unresolved Symbols section
>>>
>>>
>>> Best regards,
>>> Paulo
>>>
>>> 2010/3/5 Bart Koppe<bk at a-bort.org>:
>>>
>>>        
>>>> Hi List,
>>>>
>>>> I'm making a media installation. One screen shows video streams from
>>>> several
>>>> webcams in the world, another screen shows you watching these streams.
>>>>
>>>> Basically i have two issues that I need to solve. One caused by the
>>>> install
>>>> (or something I did wrong during that process)
>>>> To make my Microsoft Lifecam Cinema HD (not really a fan of MS, but
>>>> that's
>>>> what i got) stream live video I installed the dev version of uvc-video.
>>>> After I booted my PC this morning unfortunatly vloopback stopped working.
>>>>
>>>> The other issue I could ask in a separate email, basically i can record
>>>> the
>>>> webcam output, but not stream it.
>>>>
>>>> Thanks,
>>>>
>>>> Bart
>>>>
>>>>
>>>>
>>>> Some outputs according vloopback (the suggestions I found elsewhere to
>>>> just
>>>> reboot don't work):
>>>>
>>>> # modprobe vloopback
>>>> FATAL: Error inserting vloopback
>>>> (/lib/modules/2.6.26-2-686/kernel/drivers/misc/vloopback.ko): Unknown
>>>> symbol
>>>> in module, or unknown parameter (see dmesg)
>>>>
>>>> dmesg shows:
>>>> [ 2216.742102] vloopback: disagrees about version of symbol video_devdata
>>>> [ 2216.742102] vloopback: Unknown symbol video_devdata
>>>> [ 2216.742102] vloopback: disagrees about version of symbol
>>>> video_unregister_device
>>>> [ 2216.742102] vloopback: Unknown symbol video_unregister_device
>>>> [ 2216.742205] vloopback: disagrees about version of symbol
>>>> video_device_alloc
>>>> [ 2216.742210] vloopback: Unknown symbol video_device_alloc
>>>> [ 2216.742293] vloopback: disagrees about version of symbol
>>>> video_register_device
>>>> [ 2216.742298] vloopback: Unknown symbol video_register_device
>>>> [ 2216.742370] vloopback: disagrees about version of symbol
>>>> video_device_release
>>>> [ 2216.742370] vloopback: Unknown symbol video_device_release
>>>>
>>>> # cat /proc/version
>>>> Linux version 2.6.26-2-686 (Debian 2.6.26-21lenny3) (dannf at debian.org)
>>>> (gcc
>>>> version 4.1.3 20080704 (prerelease) (Debian 4.1.2-25)) #1 SMP Wed Feb 10
>>>> 08:59:21 UTC 2010
>>>>
>>>> # cat /proc/modules
>>>> nvidia 7086148 34 - Live 0xf942f000 (P)
>>>> agpgart 28808 1 nvidia, Live 0xf8a6d000
>>>> tun 8292 1 - Live 0xf8a50000
>>>> ppdev 6468 0 - Live 0xf8a4d000
>>>> lp 8164 0 - Live 0xf8a4a000
>>>> ipv6 235396 24 - Live 0xf8c73000
>>>> powernow_k8 12036 0 - Live 0xf89fc000
>>>> cpufreq_powersave 1856 0 - Live 0xf89e3000
>>>> cpufreq_userspace 3172 0 - Live 0xf8945000
>>>> cpufreq_conservative 5960 0 - Live 0xf8a0c000
>>>> cpufreq_ondemand 6476 2 - Live 0xf89f6000
>>>> cpufreq_stats 3776 0 - Live 0xf8830000
>>>> freq_table 4224 3 powernow_k8,cpufreq_ondemand,cpufreq_stats, Live
>>>> 0xf89f9000
>>>> fuse 42908 1 - Live 0xf8a56000
>>>> compat_ioctl32 1248 0 - Live 0xf8918000
>>>> loop 12748 0 - Live 0xf8a07000
>>>> parport_pc 22500 1 - Live 0xf8a00000
>>>> parport 30988 3 ppdev,lp,parport_pc, Live 0xf89da000
>>>> snd_hda_intel 325720 0 - Live 0xf8a90000
>>>> snd_usb_audio 70272 0 - Live 0xf8a10000
>>>> snd_usb_lib 13472 1 snd_usb_audio, Live 0xf89d5000
>>>> shpchp 25528 0 - Live 0xf89ba000
>>>> snd_pcm 62660 2 snd_hda_intel,snd_usb_audio, Live 0xf89e5000
>>>> snd_seq_midi 5728 0 - Live 0xf8947000
>>>> pci_hotplug 23460 1 shpchp, Live 0xf89a6000
>>>> pcspkr 2432 0 - Live 0xf88b6000
>>>> snd_seq_midi_event 6432 1 snd_seq_midi, Live 0xf898c000
>>>> snd_rawmidi 18496 2 snd_usb_lib,snd_seq_midi, Live 0xf89b4000
>>>> snd_hwdep 6212 1 snd_usb_audio, Live 0xf8951000
>>>> snd_seq 41456 2 snd_seq_midi,snd_seq_midi_event, Live 0xf89c3000
>>>> snd_timer 17800 2 snd_pcm,snd_seq, Live 0xf89ae000
>>>> uvcvideo 51692 0 - Live 0xf897e000
>>>> snd_seq_device 6380 3 snd_seq_midi,snd_rawmidi,snd_seq, Live 0xf894e000
>>>> videodev 34656 1 uvcvideo, Live 0xf899c000
>>>> snd 45636 8
>>>>
>>>> snd_hda_intel,snd_usb_audio,snd_pcm,snd_rawmidi,snd_hwdep,snd_seq,snd_timer,snd_seq_device,
>>>> Live 0xf898f000
>>>> v4l1_compat 11524 2 uvcvideo,videodev, Live 0xf894a000
>>>> snd_page_alloc 7816 2 snd_hda_intel,snd_pcm, Live 0xf893e000
>>>> soundcore 6368 1 snd, Live 0xf8942000
>>>> ftdi_sio 44296 1 - Live 0xf8955000
>>>> usbserial 26472 3 ftdi_sio, Live 0xf88ae000
>>>> i2c_core 19828 2 nvidia,videodev, Live 0xf8895000
>>>> wmi 6440 0 - Live 0xf88ab000
>>>> button 6096 0 - Live 0xf88a8000
>>>> evdev 8000 4 - Live 0xf884b000
>>>> ext3 105576 2 - Live 0xf8963000
>>>> jbd 39476 1 ext3, Live 0xf8933000
>>>> mbcache 7108 1 ext3, Live 0xf8865000
>>>> sd_mod 22200 4 - Live 0xf8911000
>>>> usbhid 35904 0 - Live 0xf8907000
>>>> hid 33184 1 usbhid, Live 0xf88fd000
>>>> ff_memless 4392 1 usbhid, Live 0xf8892000
>>>> ide_pci_generic 3908 0 [permanent], Live 0xf8852000
>>>> amd74xx 7752 0 [permanent], Live 0xf8824000
>>>> ide_core 96168 2 ide_pci_generic,amd74xx, Live 0xf891a000
>>>> forcedeth 45072 0 - Live 0xf889b000
>>>> ata_generic 4676 0 - Live 0xf884f000
>>>> ahci 23596 3 - Live 0xf885e000
>>>> libata 140448 2 ata_generic,ahci, Live 0xf88d9000
>>>> scsi_mod 129548 2 sd_mod,libata, Live 0xf88b8000
>>>> dock 8304 1 libata, Live 0xf8832000
>>>> ehci_hcd 28428 0 - Live 0xf8856000
>>>> ohci_hcd 18500 0 - Live 0xf8845000
>>>> usbcore 118192 9
>>>>
>>>> snd_usb_audio,snd_usb_lib,uvcvideo,ftdi_sio,usbserial,usbhid,ehci_hcd,ohci_hcd,
>>>> Live 0xf886d000
>>>> thermal 15228 0 - Live 0xf8836000
>>>> processor 32576 2 powernow_k8,thermal, Live 0xf883c000
>>>> fan 4196 0 - Live 0xf8827000
>>>> thermal_sys 10856 3 thermal,processor,fan, Live 0xf882a000
>>>>
>>>>
>>>> --
>>>> -----/\/\/\/\/\/\-----
>>>> Bart Koppe
>>>> bk at a-bort dot org
>>>> http://a-bort.org
>>>> -----\/\/\/\/\/\/-----
>>>>
>>>> I love deadlines. I like the whooshing sound they make as they fly by.
-
>>>> Douglas Adams
>>>> _______________________________________________
>>>> Linux-uvc-devel mailing list
>>>> Linux-uvc-devel at lists.berlios.de
>>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>>>
>>>>
>>>>          
>> --
>> -----/\/\/\/\/\/\-----
>> Bart Koppe
>> Franselaan 232C
>> 3028 AP Rotterdam
>> 06-40704051
>> bk at a-bort.org
>> aim/msn/skype bartkoppe
>> http://a-bort.org
>> -----\/\/\/\/\/\/-----
>>
>>
>>      

-- 
-----/\/\/\/\/\/\-----	
Bart Koppe		
Franselaan 232C
3028 AP Rotterdam
06-40704051		
bk at a-bort.org		
aim/msn/skype bartkoppe
http://a-bort.org
-----\/\/\/\/\/\/-----



From bk at a-bort.org  Fri Mar  5 23:28:22 2010
From: bk at a-bort.org (Bart Koppe)
Date: Fri, 05 Mar 2010 23:28:22 +0100
Subject: [Linux-uvc-devel] uvcvideo broke my vloopback module?
In-Reply-To: <59cf47a81003050552y5a6fedc0k4b7a744c73a79664@mail.gmail.com>
References: <4B90CA95.9020401@a-bort.org>	
	<59cf47a81003050130q59ba168dk8f8643c5e6499e65@mail.gmail.com>	
	<4B90D3E4.8000202@a-bort.org>
	<59cf47a81003050552y5a6fedc0k4b7a744c73a79664@mail.gmail.com>
Message-ID: <4B918586.6030409@a-bort.org>

(sorry for my empty reply just before this one)

Hi Paulo,

I got vloopback running in the first place with this link. I remember 
insmod did not work, but 'make install' and then 'modprobe vloopback' 
did. So I didn't bother with it, untill after installing uvc-video it 
stopped working.
Maybe i got the same message as now, but i don't remember.
# insmod vloopback.ko
insmod: error inserting 'vloopback.ko': -1 Unknown symbol in module

In the readme of vloopback they mention this error and the solution:

   Solution : You must load videodev module :
  'insmod videodev ; insmod ./vloopback.ko'

Also they mention:

To compile and install :
make ; su - ; make install
/sbin/modprobe videodev
/sbin/modprobe vloopback


But I now don't have videodev and it is not included in
svn co http://www.lavrsen.dk/svn/vloopback/trunk/ vloopback

Basically I have no clue why it ever worked, I had no videodev module 
installed unless it came with another software package, could that be?
I also remember having videdodev in the last few days, so maybe somehow 
I removed it.. I guess installed uvc-version over it, and then with 
'make rminstall' i deleted it. Does that make sense?

Trying to install the uvc-video version of videodev (I already ran 'make 
minstall', then 'make') I get:
# insmod v4l/videodev.ko
insmod: error inserting 'v4l/videodev.ko': -1 Unknown symbol in module

When i run just 'make install' as in the uvc-video readme, it installs 
and I can 'modprobe videodev'.
Then back to my vloopback source and
# insmod vloopback.ko
insmod: error inserting 'vloopback.ko': -1 Unknown symbol in module

When I do 'make install' instead of insmod I get the same old error again
# modprobe vloopback
FATAL: Error inserting vloopback 
(/lib/modules/2.6.26-2-686/kernel/drivers/misc/vloopback.ko): Unknown 
symbol in module, or unknown parameter (see dmesg)

Any idea?

Best,
bart

On 03/05/2010 02:52 PM, Paulo Assis wrote:
> Bart,
> In your case I would first remove the installed modules:
> make rminstall
>
> I would then check for any extra vloopback module still laying around
> and remove it.
>
> Then proceed with a new installation following the how-to,
> and install vloopback from source:
> http://www.lavrsen.dk/twiki/bin/view/Motion/VideoFourLinuxLoopbackDevice
>
> Best regards,
> Paulo
>
> 2010/3/5 Bart Koppe<bk at a-bort.org>:
>
>> Hi Paulo,
>>
>> I now tried:
>> # for file in `find /lib/modules -name "*.ko"`; do if [[ -e $file.gz ]];
>> then echo "$file.gz should be removed"; fi; done
>> This returns nothing.
>> To be sure I also did:
>> # find / -name "*.ko.gz"
>> but it also does not return anything..
>>
>> I anyway tried to unload and then load modules. Basically I used to only
>> load vloopback, now also uvcvideo. Unloading and loading in different order
>> does not solve it to.
>>
>> The same message appears (which is indeed similar to the example message
>> about compressed kernel modules conflicting)
>>
>> Thanks,
>>
>> bart
>>
>>
>> On 03/05/2010 10:30 AM, Paulo Assis wrote:
>>
>>> Bart Hi,
>>> The errors you are getting are usually from old modules still laying
>>> around.
>>> try following the v4l-dvb installation how-to:
>>>
>>> http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-DVB_Device_Drivers#First_Use:_Out_with_the_Old.2C_In_with_the_New
>>>
>>> take special attention to the Special case (compressed kernel modules)
>>> in the Unresolved Symbols section
>>>
>>>
>>> Best regards,
>>> Paulo
>>>
>>> 2010/3/5 Bart Koppe<bk at a-bort.org>:
>>>
>>>
>>>> Hi List,
>>>>
>>>> I'm making a media installation. One screen shows video streams from
>>>> several
>>>> webcams in the world, another screen shows you watching these streams.
>>>>
>>>> Basically i have two issues that I need to solve. One caused by the
>>>> install
>>>> (or something I did wrong during that process)
>>>> To make my Microsoft Lifecam Cinema HD (not really a fan of MS, but
>>>> that's
>>>> what i got) stream live video I installed the dev version of uvc-video.
>>>> After I booted my PC this morning unfortunatly vloopback stopped working.
>>>>
>>>> The other issue I could ask in a separate email, basically i can record
>>>> the
>>>> webcam output, but not stream it.
>>>>
>>>> Thanks,
>>>>
>>>> Bart
>>>>
>>>>
>>>>
>>>> Some outputs according vloopback (the suggestions I found elsewhere to
>>>> just
>>>> reboot don't work):
>>>>
>>>> # modprobe vloopback
>>>> FATAL: Error inserting vloopback
>>>> (/lib/modules/2.6.26-2-686/kernel/drivers/misc/vloopback.ko): Unknown
>>>> symbol
>>>> in module, or unknown parameter (see dmesg)
>>>>
>>>> dmesg shows:
>>>> [ 2216.742102] vloopback: disagrees about version of symbol video_devdata
>>>> [ 2216.742102] vloopback: Unknown symbol video_devdata
>>>> [ 2216.742102] vloopback: disagrees about version of symbol
>>>> video_unregister_device
>>>> [ 2216.742102] vloopback: Unknown symbol video_unregister_device
>>>> [ 2216.742205] vloopback: disagrees about version of symbol
>>>> video_device_alloc
>>>> [ 2216.742210] vloopback: Unknown symbol video_device_alloc
>>>> [ 2216.742293] vloopback: disagrees about version of symbol
>>>> video_register_device
>>>> [ 2216.742298] vloopback: Unknown symbol video_register_device
>>>> [ 2216.742370] vloopback: disagrees about version of symbol
>>>> video_device_release
>>>> [ 2216.742370] vloopback: Unknown symbol video_device_release
>>>>
>>>> # cat /proc/version
>>>> Linux version 2.6.26-2-686 (Debian 2.6.26-21lenny3) (dannf at debian.org)
>>>> (gcc
>>>> version 4.1.3 20080704 (prerelease) (Debian 4.1.2-25)) #1 SMP Wed Feb 10
>>>> 08:59:21 UTC 2010
>>>>
>>>> # cat /proc/modules
>>>> nvidia 7086148 34 - Live 0xf942f000 (P)
>>>> agpgart 28808 1 nvidia, Live 0xf8a6d000
>>>> tun 8292 1 - Live 0xf8a50000
>>>> ppdev 6468 0 - Live 0xf8a4d000
>>>> lp 8164 0 - Live 0xf8a4a000
>>>> ipv6 235396 24 - Live 0xf8c73000
>>>> powernow_k8 12036 0 - Live 0xf89fc000
>>>> cpufreq_powersave 1856 0 - Live 0xf89e3000
>>>> cpufreq_userspace 3172 0 - Live 0xf8945000
>>>> cpufreq_conservative 5960 0 - Live 0xf8a0c000
>>>> cpufreq_ondemand 6476 2 - Live 0xf89f6000
>>>> cpufreq_stats 3776 0 - Live 0xf8830000
>>>> freq_table 4224 3 powernow_k8,cpufreq_ondemand,cpufreq_stats, Live
>>>> 0xf89f9000
>>>> fuse 42908 1 - Live 0xf8a56000
>>>> compat_ioctl32 1248 0 - Live 0xf8918000
>>>> loop 12748 0 - Live 0xf8a07000
>>>> parport_pc 22500 1 - Live 0xf8a00000
>>>> parport 30988 3 ppdev,lp,parport_pc, Live 0xf89da000
>>>> snd_hda_intel 325720 0 - Live 0xf8a90000
>>>> snd_usb_audio 70272 0 - Live 0xf8a10000
>>>> snd_usb_lib 13472 1 snd_usb_audio, Live 0xf89d5000
>>>> shpchp 25528 0 - Live 0xf89ba000
>>>> snd_pcm 62660 2 snd_hda_intel,snd_usb_audio, Live 0xf89e5000
>>>> snd_seq_midi 5728 0 - Live 0xf8947000
>>>> pci_hotplug 23460 1 shpchp, Live 0xf89a6000
>>>> pcspkr 2432 0 - Live 0xf88b6000
>>>> snd_seq_midi_event 6432 1 snd_seq_midi, Live 0xf898c000
>>>> snd_rawmidi 18496 2 snd_usb_lib,snd_seq_midi, Live 0xf89b4000
>>>> snd_hwdep 6212 1 snd_usb_audio, Live 0xf8951000
>>>> snd_seq 41456 2 snd_seq_midi,snd_seq_midi_event, Live 0xf89c3000
>>>> snd_timer 17800 2 snd_pcm,snd_seq, Live 0xf89ae000
>>>> uvcvideo 51692 0 - Live 0xf897e000
>>>> snd_seq_device 6380 3 snd_seq_midi,snd_rawmidi,snd_seq, Live 0xf894e000
>>>> videodev 34656 1 uvcvideo, Live 0xf899c000
>>>> snd 45636 8
>>>>
>>>> snd_hda_intel,snd_usb_audio,snd_pcm,snd_rawmidi,snd_hwdep,snd_seq,snd_timer,snd_seq_device,
>>>> Live 0xf898f000
>>>> v4l1_compat 11524 2 uvcvideo,videodev, Live 0xf894a000
>>>> snd_page_alloc 7816 2 snd_hda_intel,snd_pcm, Live 0xf893e000
>>>> soundcore 6368 1 snd, Live 0xf8942000
>>>> ftdi_sio 44296 1 - Live 0xf8955000
>>>> usbserial 26472 3 ftdi_sio, Live 0xf88ae000
>>>> i2c_core 19828 2 nvidia,videodev, Live 0xf8895000
>>>> wmi 6440 0 - Live 0xf88ab000
>>>> button 6096 0 - Live 0xf88a8000
>>>> evdev 8000 4 - Live 0xf884b000
>>>> ext3 105576 2 - Live 0xf8963000
>>>> jbd 39476 1 ext3, Live 0xf8933000
>>>> mbcache 7108 1 ext3, Live 0xf8865000
>>>> sd_mod 22200 4 - Live 0xf8911000
>>>> usbhid 35904 0 - Live 0xf8907000
>>>> hid 33184 1 usbhid, Live 0xf88fd000
>>>> ff_memless 4392 1 usbhid, Live 0xf8892000
>>>> ide_pci_generic 3908 0 [permanent], Live 0xf8852000
>>>> amd74xx 7752 0 [permanent], Live 0xf8824000
>>>> ide_core 96168 2 ide_pci_generic,amd74xx, Live 0xf891a000
>>>> forcedeth 45072 0 - Live 0xf889b000
>>>> ata_generic 4676 0 - Live 0xf884f000
>>>> ahci 23596 3 - Live 0xf885e000
>>>> libata 140448 2 ata_generic,ahci, Live 0xf88d9000
>>>> scsi_mod 129548 2 sd_mod,libata, Live 0xf88b8000
>>>> dock 8304 1 libata, Live 0xf8832000
>>>> ehci_hcd 28428 0 - Live 0xf8856000
>>>> ohci_hcd 18500 0 - Live 0xf8845000
>>>> usbcore 118192 9
>>>>
>>>> snd_usb_audio,snd_usb_lib,uvcvideo,ftdi_sio,usbserial,usbhid,ehci_hcd,ohci_hcd,
>>>> Live 0xf886d000
>>>> thermal 15228 0 - Live 0xf8836000
>>>> processor 32576 2 powernow_k8,thermal, Live 0xf883c000
>>>> fan 4196 0 - Live 0xf8827000
>>>> thermal_sys 10856 3 thermal,processor,fan, Live 0xf882a000
>>>>
>>>>
>>>> --
>>>> -----/\/\/\/\/\/\-----
>>>> Bart Koppe
>>>> bk at a-bort dot org
>>>> http://a-bort.org
>>>> -----\/\/\/\/\/\/-----
>>>>
>>>> I love deadlines. I like the whooshing sound they make as they fly by.
-
>>>> Douglas Adams
>>>> _______________________________________________
>>>> Linux-uvc-devel mailing list
>>>> Linux-uvc-devel at lists.berlios.de
>>>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>>>>
>>>>
>>>>
>> --
>> -----/\/\/\/\/\/\-----
>> Bart Koppe
>> Franselaan 232C
>> 3028 AP Rotterdam
>> 06-40704051
>> bk at a-bort.org
>> aim/msn/skype bartkoppe
>> http://a-bort.org
>> -----\/\/\/\/\/\/-----
>>
>>
>>

-- 
-----/\/\/\/\/\/\-----	
Bart Koppe		
Franselaan 232C
3028 AP Rotterdam
06-40704051		
bk at a-bort.org		
aim/msn/skype bartkoppe
http://a-bort.org
-----\/\/\/\/\/\/-----



From chris at basementcode.com  Fri Mar  5 18:43:13 2010
From: chris at basementcode.com (Christopher Harvey)
Date: Fri, 5 Mar 2010 12:43:13 -0500
Subject: [Linux-uvc-devel] problems with uvc cameras and gstreamer on gentoo
Message-ID: <201003051243.13754.chris@basementcode.com>

I've been trying to fix a problem with one of my computers that is preventing 
me from using gstreamer with uvc cameras for a while now. I asked on the 
gstreamer lists recently, but got no answer. 

Firstly, my camera runs fine with guvcview, and I haven't had problems with 
this camera on other computers. (Namely a default OpenSUSE install, even with 
gstreamer)

I have a gentoo computer here that refuses to run the camera with gstreamer. 

ERROR: from element /GstPipeline:pipeline0/GstV4l2Src:v4l2src0: Device 
'/dev/video0' cannot capture at 320x240
Additional debug info:
gstv4l2object.c(1919): gst_v4l2_object_set_format (): 
/GstPipeline:pipeline0/GstV4l2Src:v4l2src0:
Call to S_FMT failed for YU12 @ 320x240: Invalid argument

Before I dive into gstreamer source code I wanted to see if anybody here 
happened to have any tips for uvc cameras and gstreamer. (Yes Cameras, I tried 
a few)

Here is some system information:
$ uname -a
Linux Tool 2.6.31-gentoo-r6 #7 SMP PREEMPT Sat Feb 20 13:32:41 EST 2010 x86_64 
AMD Athlon(tm) 64 X2 Dual Core Processor 4200+ AuthenticAMD GNU/Linux

Bus 001 Device 003: ID 046d:08ca Logitech, Inc. Mic (Fusion)

[I--] [ ~] media-libs/gstreamer-0.10.25 (0.10) (tried 0.10.24 as well)

# zcat /proc/config.gz | grep V4L
CONFIG_VIDEO_V4L2_COMMON=y
# CONFIG_VIDEO_ALLOW_V4L1 is not set
# CONFIG_VIDEO_V4L1_COMPAT is not set
CONFIG_VIDEO_V4L2=y
CONFIG_V4L_USB_DRIVERS=y

Does this look familiar to anybody?

thanks,
Chris.


From tiskanto at gmail.com  Sat Mar  6 13:20:27 2010
From: tiskanto at gmail.com (Teguh Iskanto)
Date: Sat, 6 Mar 2010 23:20:27 +1100
Subject: [Linux-uvc-devel] can't find /dev/videoX on 18ec:3299 ARKMICRO
In-Reply-To: <e137e8261003042329k50576227m937ae001eaab8beb@mail.gmail.com>
References: <e137e8261003042329k50576227m937ae001eaab8beb@mail.gmail.com>
Message-ID: <e137e8261003060420s632994c1n118e00e69a04edfd@mail.gmail.com>

Hi List,

I've got a problem with my webcam on UVC driver, seemed like whatever I try
I still couldn't get it working.
The one thing that I know is /dev/videoX is not being created (not quite
sure why). really appreciate if anyone on this list could shed me a light on
how to fix this problem.

BTW:
I've compiled the source with the latest UVC driver from the tree
with : hg clone http://linuxtv.org/hg/~pinchartl/uvcvideo/

Thanks

Followings are the configs:

Md5 sums:
6271c7189d71cbbec3df21dba73fbabe  ./uvcvideo/v4l/videodev.ko
6271c7189d71cbbec3df21dba73fbabe
 /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/videodev.ko

Kernel:
------------
 2.6.24-16-generic (Ubuntu 8.04)

lsmod | grep uvc
uvcvideo               65228  0
videodev               43040  1 uvcvideo
v4l1_compat            14724  2 uvcvideo,videodev
usbcore               146028  5 snd_usb_audio,snd_usb_lib,uvcvideo,uhci_hcd

Modules Conf:
---------------------
cat /etc/modprobe.d/uvcvideo.conf
options uvcvideo nodrop=1 trace=15

lsusb -v -d 18ec:3299 output:
--------------------------------------------
Bus 001 Device 002: ID 18ec:3299
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x18ec
  idProduct          0x3299
  bcdDevice            1.00
  iManufacturer           1 ARKMICRO
  iProduct                2 USB2.0 PC CAMERA
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          498
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              320mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              0
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           51
        dwClockFrequency       24.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x0000200a
          Auto-Exposure Mode
          Exposure Time (Absolute)
          Roll (Absolute)
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 2
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000073f

Dmesg output:
----------------------
[ 3796.010233] Linux video capture interface: v2.00
[ 3796.060510] uvcvideo: Adding mapping Brightness to control
00000000-0000-0000-0000-000000000101/2.
[ 3796.060582] uvcvideo: Adding mapping Contrast to control
00000000-0000-0000-0000-000000000101/3.
[ 3796.060620] uvcvideo: Adding mapping Hue to control
00000000-0000-0000-0000-000000000101/6.
[ 3796.060647] uvcvideo: Adding mapping Saturation to control
00000000-0000-0000-0000-000000000101/7.
[ 3796.060675] uvcvideo: Adding mapping Sharpness to control
00000000-0000-0000-0000-000000000101/8.
[ 3796.060703] uvcvideo: Adding mapping Gamma to control
00000000-0000-0000-0000-000000000101/9.
[ 3796.060731] uvcvideo: Adding mapping Backlight Compensation to control
00000000-0000-0000-0000-000000000101/1.
[ 3796.060762] uvcvideo: Adding mapping Gain to control
00000000-0000-0000-0000-000000000101/4.
[ 3796.060790] uvcvideo: Adding mapping Power Line Frequency to control
00000000-0000-0000-0000-000000000101/5.
[ 3796.060821] uvcvideo: Adding mapping Hue, Auto to control
00000000-0000-0000-0000-000000000101/16.
[ 3796.060853] uvcvideo: Adding mapping Exposure, Auto to control
00000000-0000-0000-0000-000000000001/2.
[ 3796.060884] uvcvideo: Adding mapping Exposure, Auto Priority to control
00000000-0000-0000-0000-000000000001/3.
[ 3796.060916] uvcvideo: Adding mapping Exposure (Absolute) to control
00000000-0000-0000-0000-000000000001/4.
[ 3796.060951] uvcvideo: Adding mapping White Balance Temperature, Auto to
control 00000000-0000-0000-0000-000000000101/11.
[ 3796.060984] uvcvideo: Adding mapping White Balance Temperature to control
00000000-0000-0000-0000-000000000101/10.
[ 3796.061017] uvcvideo: Adding mapping White Balance Component, Auto to
control 00000000-0000-0000-0000-000000000101/13.
[ 3796.061050] uvcvideo: Adding mapping White Balance Blue Component to
control 00000000-0000-0000-0000-000000000101/12.
[ 3796.061101] uvcvideo: Adding mapping White Balance Red Component to
control 00000000-0000-0000-0000-000000000101/12.
[ 3796.061136] uvcvideo: Adding mapping Focus (absolute) to control
00000000-0000-0000-0000-000000000001/6.
[ 3796.061168] uvcvideo: Adding mapping Focus, Auto to control
00000000-0000-0000-0000-000000000001/8.
[ 3796.061198] uvcvideo: Adding mapping Zoom, Absolute to control
00000000-0000-0000-0000-000000000001/11.
[ 3796.061235] uvcvideo: Adding mapping Zoom, Continuous to control
00000000-0000-0000-0000-000000000001/12.
[ 3796.061267] uvcvideo: Adding mapping Privacy to control
00000000-0000-0000-0000-000000000001/17.
[ 3796.061904] uvcvideo: Probing generic UVC device 1
[ 3796.062436] uvcvideo: Found format YUV 4:2:2 (YUYV).
[ 3796.062565] uvcvideo: - 640x480 (30.0 fps)
[ 3796.062595] uvcvideo: - 352x288 (30.0 fps)
[ 3796.062609] uvcvideo: - 320x240 (30.0 fps)
[ 3796.062623] uvcvideo: - 176x144 (30.0 fps)
[ 3796.062637] uvcvideo: - 160x120 (30.0 fps)
[ 3796.062992] uvcvideo: Found a Status endpoint (addr 81).
[ 3796.063039] uvcvideo: Found UVC 1.00 device USB2.0 PC CAMERA (18ec:3299)
[ 3796.063353] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/2 to device 1 entity 2
[ 3796.063403] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/3 to device 1 entity 2
[ 3796.063436] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/6 to device 1 entity 2
[ 3796.063464] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/7 to device 1 entity 2
[ 3796.063492] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/8 to device 1 entity 2
[ 3796.063519] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/9 to device 1 entity 2
[ 3796.063560] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/1 to device 1 entity 2
[ 3796.063588] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/4 to device 1 entity 2
[ 3796.063615] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/5 to device 1 entity 2
[ 3796.063644] uvcvideo: Added control
00000000-0000-0000-0000-000000000001/2 to device 1 entity 1
[ 3796.063672] uvcvideo: Added control
00000000-0000-0000-0000-000000000001/4 to device 1 entity 1
[ 3796.063701] uvcvideo: Added control
00000000-0000-0000-0000-000000000001/15 to device 1 entity 1
[ 3796.063808] uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
[ 3796.064187] uvcvideo: Found a valid video chain (1 -> 3).
[ 3796.073807] uvcvideo: UVC non compliance - GET_DEF(PROBE) not supported.
Enabling workaround.
[ 3801.068514] uvcvideo: Failed to query (129) UVC probe control : -110
(exp. 26).
[ 3801.069552] uvcvideo: Failed to initialize the device (-5).
[ 3801.073780] usbcore: registered new interface driver uvcvideo
[ 3801.073848] USB Video Class driver (v0.1.0)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100306/32088822/attachment.html>

From tiskanto at gmail.com  Fri Mar  5 08:29:35 2010
From: tiskanto at gmail.com (Teguh Iskanto)
Date: Fri, 5 Mar 2010 18:29:35 +1100
Subject: [Linux-uvc-devel] can't find /dev/videoX on 18ec:3299 ARKMICRO
Message-ID: <e137e8261003042329k50576227m937ae001eaab8beb@mail.gmail.com>

Hi List,

I've got a problem with my webcam on UVC driver, seemed like whatever I try
I still couldn't get it working.
The one thing that I know is /dev/videoX is not being created (not quite
sure why). really appreciate if anyone on this list could shed me a light on
how to fix this problem.

BTW:
I've compiled the source with the latest UVC driver from the tree
with : hg clone http://linuxtv.org/hg/~pinchartl/uvcvideo/

Thanks

Followings are the configs:

Md5 sums:
6271c7189d71cbbec3df21dba73fbabe  ./uvcvideo/v4l/videodev.ko
6271c7189d71cbbec3df21dba73fbabe
 /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/videodev.ko

Kernel:
------------
 2.6.24-16-generic (Ubuntu 8.04)

lsmod | grep uvc
uvcvideo               65228  0
videodev               43040  1 uvcvideo
v4l1_compat            14724  2 uvcvideo,videodev
usbcore               146028  5 snd_usb_audio,snd_usb_lib,uvcvideo,uhci_hcd

Modules Conf:
---------------------
cat /etc/modprobe.d/uvcvideo.conf
options uvcvideo nodrop=1 trace=15

lsusb -v -d 18ec:3299 output:
--------------------------------------------
Bus 001 Device 002: ID 18ec:3299
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x18ec
  idProduct          0x3299
  bcdDevice            1.00
  iManufacturer           1 ARKMICRO
  iProduct                2 USB2.0 PC CAMERA
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          498
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              320mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              0
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           51
        dwClockFrequency       24.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x0000200a
          Auto-Exposure Mode
          Exposure Time (Absolute)
          Roll (Absolute)
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 2
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000073f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Gain
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x 9
          None
          SECAM - 625/50
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                        1
        wTotalLength                      284
        bEndPointAddress                  131
        bmInfo                              0
        bTerminalLink                       3
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
 {59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            18
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               3
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        800
        wHeight( 1)                       600
        wWidth( 2)                       1280
        wHeight( 2)                      1024
        bNumCompressionPatterns             3
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     0 (Unspecified)
        bTransferCharacteristics            0 (Unspecified)
        bMatrixCoefficients                 0 (Unspecified)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13e8  3x 1000 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       1 Control Device
      bFunctionProtocol       0
      iFunction               4 USB2.0 MIC
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              4 USB2.0 MIC
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           40
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             2
        wChannelConfig     0x0003
          Left Front (L)
          Right Front (R)
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                10
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 2
        bSourceID               1
        bControlSize            1
        bmaControls( 0)      0x00
        bmaControls( 1)      0x03
          Mute
          Volume
        bmaControls( 2)      0x03
          Mute
          Volume
        iFeature                0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              4 USB2.0 MIC
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        3
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              4 USB2.0 MIC
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        48000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)



Dmesg output:
----------------------
[ 3796.010233] Linux video capture interface: v2.00
[ 3796.060510] uvcvideo: Adding mapping Brightness to control
00000000-0000-0000-0000-000000000101/2.
[ 3796.060582] uvcvideo: Adding mapping Contrast to control
00000000-0000-0000-0000-000000000101/3.
[ 3796.060620] uvcvideo: Adding mapping Hue to control
00000000-0000-0000-0000-000000000101/6.
[ 3796.060647] uvcvideo: Adding mapping Saturation to control
00000000-0000-0000-0000-000000000101/7.
[ 3796.060675] uvcvideo: Adding mapping Sharpness to control
00000000-0000-0000-0000-000000000101/8.
[ 3796.060703] uvcvideo: Adding mapping Gamma to control
00000000-0000-0000-0000-000000000101/9.
[ 3796.060731] uvcvideo: Adding mapping Backlight Compensation to control
00000000-0000-0000-0000-000000000101/1.
[ 3796.060762] uvcvideo: Adding mapping Gain to control
00000000-0000-0000-0000-000000000101/4.
[ 3796.060790] uvcvideo: Adding mapping Power Line Frequency to control
00000000-0000-0000-0000-000000000101/5.
[ 3796.060821] uvcvideo: Adding mapping Hue, Auto to control
00000000-0000-0000-0000-000000000101/16.
[ 3796.060853] uvcvideo: Adding mapping Exposure, Auto to control
00000000-0000-0000-0000-000000000001/2.
[ 3796.060884] uvcvideo: Adding mapping Exposure, Auto Priority to control
00000000-0000-0000-0000-000000000001/3.
[ 3796.060916] uvcvideo: Adding mapping Exposure (Absolute) to control
00000000-0000-0000-0000-000000000001/4.
[ 3796.060951] uvcvideo: Adding mapping White Balance Temperature, Auto to
control 00000000-0000-0000-0000-000000000101/11.
[ 3796.060984] uvcvideo: Adding mapping White Balance Temperature to control
00000000-0000-0000-0000-000000000101/10.
[ 3796.061017] uvcvideo: Adding mapping White Balance Component, Auto to
control 00000000-0000-0000-0000-000000000101/13.
[ 3796.061050] uvcvideo: Adding mapping White Balance Blue Component to
control 00000000-0000-0000-0000-000000000101/12.
[ 3796.061101] uvcvideo: Adding mapping White Balance Red Component to
control 00000000-0000-0000-0000-000000000101/12.
[ 3796.061136] uvcvideo: Adding mapping Focus (absolute) to control
00000000-0000-0000-0000-000000000001/6.
[ 3796.061168] uvcvideo: Adding mapping Focus, Auto to control
00000000-0000-0000-0000-000000000001/8.
[ 3796.061198] uvcvideo: Adding mapping Zoom, Absolute to control
00000000-0000-0000-0000-000000000001/11.
[ 3796.061235] uvcvideo: Adding mapping Zoom, Continuous to control
00000000-0000-0000-0000-000000000001/12.
[ 3796.061267] uvcvideo: Adding mapping Privacy to control
00000000-0000-0000-0000-000000000001/17.
[ 3796.061904] uvcvideo: Probing generic UVC device 1
[ 3796.062436] uvcvideo: Found format YUV 4:2:2 (YUYV).
[ 3796.062565] uvcvideo: - 640x480 (30.0 fps)
[ 3796.062595] uvcvideo: - 352x288 (30.0 fps)
[ 3796.062609] uvcvideo: - 320x240 (30.0 fps)
[ 3796.062623] uvcvideo: - 176x144 (30.0 fps)
[ 3796.062637] uvcvideo: - 160x120 (30.0 fps)
[ 3796.062992] uvcvideo: Found a Status endpoint (addr 81).
[ 3796.063039] uvcvideo: Found UVC 1.00 device USB2.0 PC CAMERA (18ec:3299)
[ 3796.063353] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/2 to device 1 entity 2
[ 3796.063403] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/3 to device 1 entity 2
[ 3796.063436] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/6 to device 1 entity 2
[ 3796.063464] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/7 to device 1 entity 2
[ 3796.063492] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/8 to device 1 entity 2
[ 3796.063519] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/9 to device 1 entity 2
[ 3796.063560] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/1 to device 1 entity 2
[ 3796.063588] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/4 to device 1 entity 2
[ 3796.063615] uvcvideo: Added control
00000000-0000-0000-0000-000000000101/5 to device 1 entity 2
[ 3796.063644] uvcvideo: Added control
00000000-0000-0000-0000-000000000001/2 to device 1 entity 1
[ 3796.063672] uvcvideo: Added control
00000000-0000-0000-0000-000000000001/4 to device 1 entity 1
[ 3796.063701] uvcvideo: Added control
00000000-0000-0000-0000-000000000001/15 to device 1 entity 1
[ 3796.063808] uvcvideo: Scanning UVC chain: OT 3 <- PU 2 <- IT 1
[ 3796.064187] uvcvideo: Found a valid video chain (1 -> 3).
[ 3796.073807] uvcvideo: UVC non compliance - GET_DEF(PROBE) not supported.
Enabling workaround.
[ 3801.068514] uvcvideo: Failed to query (129) UVC probe control : -110
(exp. 26).
[ 3801.069552] uvcvideo: Failed to initialize the device (-5).
[ 3801.073780] usbcore: registered new interface driver uvcvideo
[ 3801.073848] USB Video Class driver (v0.1.0)
[ 3801.140985] ALSA
/build/buildd/linux-ubuntu-modules-2.6.24-2.6.24/debian/build/build-generic/sound/alsa-driver/usb/usbaudio.c:1296:
2:3:1: cannot get freq at ep 0x82
[ 3806.198877] usbcore: registered new interface driver snd-usb-audio
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100305/9be85e11/attachment.html>

From manny70 at speedpost.net  Sun Mar  7 14:40:58 2010
From: manny70 at speedpost.net (martuf1)
Date: Sun, 07 Mar 2010 14:40:58 +0100
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <200807280050.49986.laurent.pinchart@skynet.be>
References: <200807280050.49986.laurent.pinchart@skynet.be>
Message-ID: <4B93ACEA.5080901@speedpost.net>

>
> Hi,
>
> On Wednesday 28 July 2008, Laurent wrote:
>
> I'm afraid there's not much I can do. The camera refuses to answer perfectly 
> valid requests and I got no idea why.
>
> Best regards,
>
> Laurent Pinchart

Hi Laurent,
(... so long ago, isn't it?)

I just discovered that there is a way to make the
webcam working, found on 
http://www.mepisimo.com/forum/index.php?topic=305.msg1143 (Spanish)

    174f:8a12 Syntek Syntek 0.3MPixel USB 2.0 UVC PC Camera (despues de
    instalar dfu-util y ejcutar update-usbids). Carga uvcvideo, que no
    va, despu?s de trastear un rato, puesto que en linux-uvc.berlios.de
    aparec?a como no soportada, compilaciones frustradas..., con la
    opci?n quirks=16 rula con cheese (peta la grabaci?n de video, parece
    que por cuestiones de librer?as), kopete, xawtv, luvcview, sin poder
    realizarse ajustes de ning?n tipo, camorama ni arranca. En fin :
    C?digo:

    ##/etc/modprobe.d/uvcvideo.conf
    options uvcvideo quirks=16

I confirm that with amsn, cheese, luvcview and skype 2.1.x.x the cam is 
working fine!!!

I hope that this message will help other users,

Best regards,
    martuf1




From laurent.pinchart at ideasonboard.com  Tue Mar  9 12:11:17 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 9 Mar 2010 12:11:17 +0100
Subject: [Linux-uvc-devel] problems with uvc cameras and gstreamer on
	gentoo
In-Reply-To: <201003051243.13754.chris@basementcode.com>
References: <201003051243.13754.chris@basementcode.com>
Message-ID: <201003091211.18254.laurent.pinchart@ideasonboard.com>

Hi Christopher,

On Friday 05 March 2010 18:43:13 Christopher Harvey wrote:
> I've been trying to fix a problem with one of my computers that is
> preventing me from using gstreamer with uvc cameras for a while now. I
> asked on the gstreamer lists recently, but got no answer.
> 
> Firstly, my camera runs fine with guvcview, and I haven't had problems with
> this camera on other computers. (Namely a default OpenSUSE install, even
> with gstreamer)
> 
> I have a gentoo computer here that refuses to run the camera with
> gstreamer.
> 
> ERROR: from element /GstPipeline:pipeline0/GstV4l2Src:v4l2src0: Device
> '/dev/video0' cannot capture at 320x240
> Additional debug info:
> gstv4l2object.c(1919): gst_v4l2_object_set_format ():
> /GstPipeline:pipeline0/GstV4l2Src:v4l2src0:
> Call to S_FMT failed for YU12 @ 320x240: Invalid argument

It's quite simple, your webcam doesn't support the YU12 format requested by 
gstreamer. You need to select another format (YUYV should work).

> Before I dive into gstreamer source code I wanted to see if anybody here
> happened to have any tips for uvc cameras and gstreamer. (Yes Cameras, I
> tried a few)
> 
> Here is some system information:
> $ uname -a
> Linux Tool 2.6.31-gentoo-r6 #7 SMP PREEMPT Sat Feb 20 13:32:41 EST 2010
> x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 4200+ AuthenticAMD
> GNU/Linux
> 
> Bus 001 Device 003: ID 046d:08ca Logitech, Inc. Mic (Fusion)
> 
> [I--] [ ~] media-libs/gstreamer-0.10.25 (0.10) (tried 0.10.24 as well)
> 
> # zcat /proc/config.gz | grep V4L
> CONFIG_VIDEO_V4L2_COMMON=y
> # CONFIG_VIDEO_ALLOW_V4L1 is not set
> # CONFIG_VIDEO_V4L1_COMPAT is not set
> CONFIG_VIDEO_V4L2=y
> CONFIG_V4L_USB_DRIVERS=y
> 
> Does this look familiar to anybody?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Tue Mar  9 12:16:44 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 9 Mar 2010 12:16:44 +0100
Subject: [Linux-uvc-devel] can't find /dev/videoX on 18ec:3299 ARKMICRO
In-Reply-To: <e137e8261003042329k50576227m937ae001eaab8beb@mail.gmail.com>
References: <e137e8261003042329k50576227m937ae001eaab8beb@mail.gmail.com>
Message-ID: <201003091216.45015.laurent.pinchart@ideasonboard.com>

Hi Teguh,

On Friday 05 March 2010 08:29:35 Teguh Iskanto wrote:
> Hi List,
> 
> I've got a problem with my webcam on UVC driver, seemed like whatever I try
> I still couldn't get it working.
> The one thing that I know is /dev/videoX is not being created (not quite
> sure why). really appreciate if anyone on this list could shed me a light
> on how to fix this problem.
> 
> BTW:
> I've compiled the source with the latest UVC driver from the tree
> with : hg clone http://linuxtv.org/hg/~pinchartl/uvcvideo/

Could you please try to set the quirks parameter to 0x100 when loading the 
uvcvideo driver ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Tue Mar  9 12:22:15 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 9 Mar 2010 12:22:15 +0100
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <4B93ACEA.5080901@speedpost.net>
References: <200807280050.49986.laurent.pinchart@skynet.be>
	<4B93ACEA.5080901@speedpost.net>
Message-ID: <201003091222.15859.laurent.pinchart@ideasonboard.com>

Hi,

On Sunday 07 March 2010 14:40:58 martuf1 wrote:
> > On Wednesday 28 July 2008, Laurent wrote:
> > 
> > I'm afraid there's not much I can do. The camera refuses to answer
> > perfectly valid requests and I got no idea why.
> 
> Hi Laurent,
> (... so long ago, isn't it?)
> 
> I just discovered that there is a way to make the
> webcam working, found on
> http://www.mepisimo.com/forum/index.php?topic=305.msg1143 (Spanish)
> 
>     174f:8a12 Syntek Syntek 0.3MPixel USB 2.0 UVC PC Camera (despues de
>     instalar dfu-util y ejcutar update-usbids). Carga uvcvideo, que no
>     va, despu?s de trastear un rato, puesto que en linux-uvc.berlios.de
>     aparec?a como no soportada, compilaciones frustradas..., con la
>     opci?n quirks=16 rula con cheese (peta la grabaci?n de video, parece
>     que por cuestiones de librer?as), kopete, xawtv, luvcview, sin poder
>     realizarse ajustes de ning?n tipo, camorama ni arranca. En fin :
>     C?digo:
> 
>     ##/etc/modprobe.d/uvcvideo.conf
>     options uvcvideo quirks=16
> 
> I confirm that with amsn, cheese, luvcview and skype 2.1.x.x the cam is
> working fine!!!

Thanks a lot for the information. I will fix the driver to set the quirk 
automatically and update the supported devices list. Could you please tell me 
in which notebook model that webcam can be found ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Tue Mar  9 12:07:31 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 9 Mar 2010 12:07:31 +0100
Subject: [Linux-uvc-devel] uvcvideo broke my vloopback module?
In-Reply-To: <4B918586.6030409@a-bort.org>
References: <4B90CA95.9020401@a-bort.org>
	<59cf47a81003050552y5a6fedc0k4b7a744c73a79664@mail.gmail.com>
	<4B918586.6030409@a-bort.org>
Message-ID: <201003091207.32644.laurent.pinchart@ideasonboard.com>

Hi Bart,

On Friday 05 March 2010 23:28:22 Bart Koppe wrote:
> (sorry for my empty reply just before this one)
> 
> Hi Paulo,
> 
> I got vloopback running in the first place with this link. I remember
> insmod did not work, but 'make install' and then 'modprobe vloopback'
> did. So I didn't bother with it, untill after installing uvc-video it
> stopped working.
> Maybe i got the same message as now, but i don't remember.
> # insmod vloopback.ko
> insmod: error inserting 'vloopback.ko': -1 Unknown symbol in module
> 
> In the readme of vloopback they mention this error and the solution:
> 
>    Solution : You must load videodev module :
>   'insmod videodev ; insmod ./vloopback.ko'
> 
> Also they mention:
> 
> To compile and install :
> make ; su - ; make install
> /sbin/modprobe videodev
> /sbin/modprobe vloopback
> 
> 
> But I now don't have videodev and it is not included in
> svn co http://www.lavrsen.dk/svn/vloopback/trunk/ vloopback

The videodev.ko module provides the V4L2 core. If you're running a distro 
kernel the module was shipped with your kernel.

For backward-compatibility reasons (to make the latest driver work on older 
kernels), the uvcvideo driver ships with a copy of the whole V4L2 subsystem 
source. When installing the uvcvideo module, you've also installed the latest 
version of the V4L2 core and other V4L2 drivers.

> Basically I have no clue why it ever worked, I had no videodev module
> installed unless it came with another software package, could that be?
> I also remember having videdodev in the last few days, so maybe somehow
> I removed it.. I guess installed uvc-version over it, and then with
> 'make rminstall' i deleted it. Does that make sense?

It could make sense yes.

> Trying to install the uvc-video version of videodev (I already ran 'make
> minstall', then 'make') I get:
> # insmod v4l/videodev.ko
> insmod: error inserting 'v4l/videodev.ko': -1 Unknown symbol in module

This kind of message is caused by incompatibilities between driver versions. 
Basically, the videodev.ko module you're trying to load depends on other 
modules, but the version of those modules that are already loaded came from 
your distro and are not recent enough.

To solve this problem, you need to either:

- install the V4L2 subsystem that comes with uvcvideo, replacing the one that 
came with your distro (you might need to remove the distro one manually, as 
the new one might probably installs in a new location), or

- load all the required V4L2 modules in order using insmod (in this case you 
would need to load v4l/v4l2-compat-ioctl32.ko before loading v4l/videodev.ko).

The first solution is easier.

> When i run just 'make install' as in the uvc-video readme, it installs
> and I can 'modprobe videodev'.
> Then back to my vloopback source and
> # insmod vloopback.ko
> insmod: error inserting 'vloopback.ko': -1 Unknown symbol in module

This is because the vloopback.ko module has been compiled against your kernel 
distro, while the loaded videodev.ko module came with uvcvideo and is more 
recent.

> When I do 'make install' instead of insmod I get the same old error again
> # modprobe vloopback
> FATAL: Error inserting vloopback
> (/lib/modules/2.6.26-2-686/kernel/drivers/misc/vloopback.ko): Unknown
> symbol in module, or unknown parameter (see dmesg)
> 
> Any idea?

To solve your problem, you need to recompile vloopback against the uvcvideo 
tree.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Tue Mar  9 12:51:54 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 9 Mar 2010 12:51:54 +0100
Subject: [Linux-uvc-devel] IPEVO Point 2 View supported
In-Reply-To: <1267440366.3207.11.camel@delphi>
References: <1267440366.3207.11.camel@delphi>
Message-ID: <201003091251.54495.laurent.pinchart@ideasonboard.com>

Hi,

On Monday 01 March 2010 11:46:06 Per Thomas Jahr wrote:
> 
> I just wanted to report that the IPEVO Point 2 View webcam works fine
> with uvcvideo. I've tested it with various applications (Skype, UCView,
> Flash ...) and found that it works in all except "Cheese Webcam Booth".

What happens in Cheese ?

> This message always shows in dmesg once I start one of the video apps:
> uvcvideo:
> Failed to query (135) UVC control 11 (unit 3) : -32 (exp. 1).
> (but it works ok)

That's the "White Balance Temperature, Auto" control. The driver tries to 
retrieve its default value. According to the UVC spec, supporting that request 
is mandatory on that control, so it's probably a webcam bug. No big deal 
though.

> There are two buttons on the webcam. One of them is to set focus and the
> other is for taking a picture. The one that sets focus works as
> expected, but nothing happens when I press the snapshot button. Should
> it be supported?

Yes it should. The uvcvideo creates an evdev device when you plug your camera 
in:

> input: IPEVO Point 2 View as
> /devices/pci0000:00/0000:00:1d.7/usb2/2-4/2-4.4/2-4.4:1.0/input/input12

The device is then used to report the KEY_CAMERA event when the button is 
pressed. The event might not be mapped to any action on your system though.

> Also, about setting the focus: the hardware button for this works, but is it
> possible to control focus from software? It seems that the software that
> follows the webcam supports this (you click on the part of the image that
> you want in focus).

It should be possible yes. Your camera has two focus controls (auto-focus and 
absolute focus) that are accessible through the V4L2_CID_FOCUS_AUTO and 
V4L2_CID_FOCUS_ABSOLUTE V4L2 controls.

-- 
Regards,

Laurent Pinchart


From cmaciel.atl at gmail.com  Tue Mar  9 18:46:28 2010
From: cmaciel.atl at gmail.com (Cesar Maciel)
Date: Tue, 09 Mar 2010 12:46:28 -0500
Subject: [Linux-uvc-devel] [Fwd: Re: frame rate dropping when capturing from
 webcam]
Message-ID: <4B968974.7090900@gmail.com>

Laurent, I replied to you instead of to the list.
OK, I found the answer on how to set auto exposure off (using 
uvcdynctrl), but from as far as I found out, it really depends on the HW 
supporting it, and even on the value tto be used.
Anyway, I believe I am missing the basics here. If the webcam is varying 
the frame rate, it is still keeping the elapsed time the same as the 
wall clock, correct? If I record 10 seconds, it will be 10 seconds, 
regardless of the changes in frame rate. Is that correct?

Thanks

Cesar
-------------- next part --------------
An embedded message was scrubbed...
From: Cesar Maciel <cmaciel.atl at gmail.com>
Subject: Re: [Linux-uvc-devel] frame rate dropping when capturing from webcam
Date: Tue, 09 Mar 2010 00:12:19 -0500
Size: 3004
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100309/415d0230/attachment.eml>

From laurent.pinchart at ideasonboard.com  Tue Mar  9 12:42:36 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Tue, 9 Mar 2010 12:42:36 +0100
Subject: [Linux-uvc-devel] Vimicro USB Camera (Altair)
In-Reply-To: <1267469023.2271.0.camel@debian-simon>
References: <1267469023.2271.0.camel@debian-simon>
Message-ID: <201003091242.37203.laurent.pinchart@ideasonboard.com>

Hi Simon,

On Monday 01 March 2010 19:43:43 Simon Danner wrote:
> Hello,
> i own a webcam which is not mentioned on the website.

Thanks for the report.

> It works okay with skype, mplayer and with lucview. (I get some pixels
> with wrong color), but the image in cheese is totally broken. Is this a
> cheese bug or a driver bug.

Could be either, or both :-)

If other applications work correctly I would be tempted to say the bug is in 
Cheese (or possibly in any middleware it uses, such as gstreamer or libv4l). 
It could still be a driver bug (or worse, webcam bug) that is only triggered 
by the specific calls sequence Cheese happens to make.

Do you get any error message in the kernel log ?

> The device also has lights built around it, is it possible to turn them
> on in linux?

It should, but it won't be straightforward. The UVC specification doesn't 
address lights, so the driver doesn't know about them.

Devices are allowed to extend the UVC specification to expose controls not 
present in the standard. This is done through extension units, and your device 
has one of them:

[snip]

>       VideoControl Interface Descriptor:
>         bLength                28
>         bDescriptorType        36
>         bDescriptorSubtype      6 (EXTENSION_UNIT)
>         bUnitID                 4
>         guidExtensionCode         {5dc717a9-1941-da11-ae0e-000d56ac7b4c}
>         bNumControl             8
>         bNrPins                 1
>         baSourceID( 0)          1
>         bControlSize            3
>         bmControls( 0)       0x59
>         bmControls( 1)       0x80
>         bmControls( 2)       0x80
>         iExtension              0

The bmControls field is a bitmask that lists all supported controls. The 
values above mean that controls 0, 3, 4, 6, 15 and 23 are supported. 
Unfortunately no documentation is available to describe those controls. I'm 
pretty sure that one of them controls the lights. Guessing will be required.

WARNING: This could damage your device. Some vendors export firmware update 
controls, and accessing them incorrectly could erase the firmware.

You will first need to download and install the uvcdynctrl tool that comes 
with libwebcam (available through www.quickcamteam.net). Make sure you get the 
SVN version, last time I checked the tarball was outdated.

Then, you will need to create an XML file that describes mappings between the 
extension unit controls and V4L2 controls. To do so, take the Logitech sample 
XML file and adapt it to your extension unit. You can map all the available 
controls to V4L2 controls (pick some private value). The missing piece of 
information is the control selector: to access a control, the driver needs to 
pass a selector value to the device. For extension units selectors are usually 
equal to the control index in the bmControls bitmask plus 1, but that's not 
required by the spec. It's a safe first guess though.

The next step is to configure the uvcvideo driver with the extension unit 
controls information using uvcdynctrl and the XML file you've created. You 
will then be able to access the controls through the V4L2 API.

-- 
Regards,

Laurent Pinchart


From manny70 at speedpost.net  Tue Mar  9 21:21:51 2010
From: manny70 at speedpost.net (martuf1)
Date: Tue, 09 Mar 2010 21:21:51 +0100
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <201003091222.15859.laurent.pinchart@ideasonboard.com>
References: <200807280050.49986.laurent.pinchart@skynet.be>
	<4B93ACEA.5080901@speedpost.net>
	<201003091222.15859.laurent.pinchart@ideasonboard.com>
Message-ID: <4B96ADDF.2010107@speedpost.net>

On Tuesday 09 March 2010, Laurent Pinchart wrote:
> Hi,
>
> On Sunday 07 March 2010 14:40:58 martuf1 wrote:
>   
>> Hi Laurent,
>> (... so long ago, isn't it?)
>>
>> I just discovered that there is a way to make the
>> webcam working, found on
>> http://www.mepisimo.com/forum/index.php?topic=305.msg1143 (Spanish)
>>
>>     174f:8a12 Syntek Syntek 0.3MPixel USB 2.0 UVC PC Camera (despues de
>>     instalar dfu-util y ejcutar update-usbids). Carga uvcvideo, que no
>>     va, despu?s de trastear un rato, puesto que en linux-uvc.berlios.de
>>     aparec?a como no soportada, compilaciones frustradas..., con la
>>     opci?n quirks=16 rula con cheese (peta la grabaci?n de video, parece
>>     que por cuestiones de librer?as), kopete, xawtv, luvcview, sin poder
>>     realizarse ajustes de ning?n tipo, camorama ni arranca. En fin :
>>     C?digo:
>>
>>     ##/etc/modprobe.d/uvcvideo.conf
>>     options uvcvideo quirks=16
>>
>> I confirm that with amsn, cheese, luvcview and skype 2.1.x.x the cam is
>> working fine!!!
>>     
>
> Thanks a lot for the information. I will fix the driver to set the quirk 
> automatically and update the supported devices list. Could you please tell me 
> in which notebook model that webcam can be found ?
>
>   
Hi Laurent,
mine is a Packard Bell EASYNOTE (MX52-B-057)

Thanks to you,
  martuf1





From chris at basementcode.com  Wed Mar 10 08:40:14 2010
From: chris at basementcode.com (Christopher Harvey)
Date: Wed, 10 Mar 2010 02:40:14 -0500
Subject: [Linux-uvc-devel] problems with uvc cameras and gstreamer on	gentoo
Message-ID: <201003100240.14189.chris@basementcode.com>

Hi again,
I tried a slightly different command:
gst-launch-0.10 v4l2src ! video/x-raw-yuv,width=640,height=480 ! xvimagesink

(gst-launch-0.10:6239): GLib-WARNING **: g_set_prgname() called multiple times
Setting pipeline to PAUSED ...
Pipeline is live and does not need PREROLL ...
ERROR: from element /GstPipeline:pipeline0/GstV4l2Src:v4l2src0: Device 
'/dev/video0' cannot capture at 640x480
Additional debug info:
gstv4l2object.c(1854): gst_v4l2_object_set_format (): 
/GstPipeline:pipeline0/GstV4l2Src:v4l2src0:
Call to S_FMT failed for YUYV @ 640x480: Input/output error
ERROR: pipeline doesn't want to preroll.
Setting pipeline to PAUSED ...
Setting pipeline to READY ...
Setting pipeline to NULL ...
Freeing pipeline ...

and I KNOW this camera works at that resolution and video format. 
I setup the same camera on the other laptop that previously had OpenSUSE 
installed and it worked with kernel version 2.6.31-r10 (x86, gentoo this 
time).
The broken one is 2.6.31-r6 amd 64bit. 

are 
CONFIG_USB_VIDEO_CLASS=m
CONFIG_USB_VIDEO_CLASS_INPUT_EVDEV=y
the only kernel parameters that matter? I tried with both the usb audio module 
enabled and disabled. (built in for the audio) The camera has a mic, but I 
don't care about it. 

Thanks,
Chris

>Hi Christopher,

>On Friday 05 March 2010 18:43:13 Christopher Harvey wrote:
>> I've been trying to fix a problem with one of my computers that is
>> preventing me from using gstreamer with uvc cameras for a while now. I
>> asked on the gstreamer lists recently, but got no answer.
>> 
>> Firstly, my camera runs fine with guvcview, and I haven't had problems with
>> this camera on other computers. (Namely a default OpenSUSE install, even
>> with gstreamer)
>> 
>> I have a gentoo computer here that refuses to run the camera with
>> gstreamer.
>> 
>> ERROR: from element /GstPipeline:pipeline0/GstV4l2Src:v4l2src0: Device
>> '/dev/video0' cannot capture at 320x240
>> Additional debug info:
>> gstv4l2object.c(1919): gst_v4l2_object_set_format ():
>> /GstPipeline:pipeline0/GstV4l2Src:v4l2src0:
>> Call to S_FMT failed for YU12 @ 320x240: Invalid argument
>
>It's quite simple, your webcam doesn't support the YU12 format requested by 
>gstreamer. You need to select another format (YUYV should work).

>> Before I dive into gstreamer source code I wanted to see if anybody here
>> happened to have any tips for uvc cameras and gstreamer. (Yes Cameras, I
>> tried a few)
>> 
>> Here is some system information:
>> $ uname -a
>> Linux Tool 2.6.31-gentoo-r6 #7 SMP PREEMPT Sat Feb 20 13:32:41 EST 2010
>> x86_64 AMD Athlon(tm) 64 X2 Dual Core Processor 4200+ AuthenticAMD
>> GNU/Linux
>> 
>> Bus 001 Device 003: ID 046d:08ca Logitech, Inc. Mic (Fusion)
>> 
>> [I--] [ ~] media-libs/gstreamer-0.10.25 (0.10) (tried 0.10.24 as well)
>> 
>> # zcat /proc/config.gz | grep V4L
>> CONFIG_VIDEO_V4L2_COMMON=y
>> # CONFIG_VIDEO_ALLOW_V4L1 is not set
>> # CONFIG_VIDEO_V4L1_COMPAT is not set
>> CONFIG_VIDEO_V4L2=y
>> CONFIG_V4L_USB_DRIVERS=y
>> 
>> Does this look familiar to anybody?
>
>-- 
>Regards,
>
>Laurent Pinchart


From bk at a-bort.org  Wed Mar 10 10:25:49 2010
From: bk at a-bort.org (Bart Koppe)
Date: Wed, 10 Mar 2010 10:25:49 +0100
Subject: [Linux-uvc-devel] uvcvideo broke my vloopback module?
In-Reply-To: <201003091207.32644.laurent.pinchart@ideasonboard.com>
References: <4B90CA95.9020401@a-bort.org>
	<59cf47a81003050552y5a6fedc0k4b7a744c73a79664@mail.gmail.com>
	<4B918586.6030409@a-bort.org>
	<201003091207.32644.laurent.pinchart@ideasonboard.com>
Message-ID: <4B97659D.9040609@a-bort.org>

Hi Laurent,

My reply to Paulo a few days ago did not make it to the list (forgot 
again I need to 'reply all' or at least check if I send to the list).

What I did is reinstall of the system, since it became a bit of a mess. 
My error started by installing uvcvideo-dev over the original one that 
came with lenny. And then making some mess with installing/unstalling 
e.g. different modules. Uvcvideo was not the problem, just the way i 
thought I needed to stream video. Now using gstreamer all works well.

Thanks!

Bart

On 03/09/2010 12:07 PM, Laurent Pinchart wrote:
> Hi Bart,
>
> On Friday 05 March 2010 23:28:22 Bart Koppe wrote:
>    
>> (sorry for my empty reply just before this one)
>>
>> Hi Paulo,
>>
>> I got vloopback running in the first place with this link. I remember
>> insmod did not work, but 'make install' and then 'modprobe vloopback'
>> did. So I didn't bother with it, untill after installing uvc-video it
>> stopped working.
>> Maybe i got the same message as now, but i don't remember.
>> # insmod vloopback.ko
>> insmod: error inserting 'vloopback.ko': -1 Unknown symbol in module
>>
>> In the readme of vloopback they mention this error and the solution:
>>
>>     Solution : You must load videodev module :
>>    'insmod videodev ; insmod ./vloopback.ko'
>>
>> Also they mention:
>>
>> To compile and install :
>> make ; su - ; make install
>> /sbin/modprobe videodev
>> /sbin/modprobe vloopback
>>
>>
>> But I now don't have videodev and it is not included in
>> svn co http://www.lavrsen.dk/svn/vloopback/trunk/ vloopback
>>      
> The videodev.ko module provides the V4L2 core. If you're running a distro
> kernel the module was shipped with your kernel.
>
> For backward-compatibility reasons (to make the latest driver work on older
> kernels), the uvcvideo driver ships with a copy of the whole V4L2 subsystem
> source. When installing the uvcvideo module, you've also installed the latest
> version of the V4L2 core and other V4L2 drivers.
>
>    
>> Basically I have no clue why it ever worked, I had no videodev module
>> installed unless it came with another software package, could that be?
>> I also remember having videdodev in the last few days, so maybe somehow
>> I removed it.. I guess installed uvc-version over it, and then with
>> 'make rminstall' i deleted it. Does that make sense?
>>      
> It could make sense yes.
>
>    
>> Trying to install the uvc-video version of videodev (I already ran 'make
>> minstall', then 'make') I get:
>> # insmod v4l/videodev.ko
>> insmod: error inserting 'v4l/videodev.ko': -1 Unknown symbol in module
>>      
> This kind of message is caused by incompatibilities between driver versions.
> Basically, the videodev.ko module you're trying to load depends on other
> modules, but the version of those modules that are already loaded came from
> your distro and are not recent enough.
>
> To solve this problem, you need to either:
>
> - install the V4L2 subsystem that comes with uvcvideo, replacing the one that
> came with your distro (you might need to remove the distro one manually, as
> the new one might probably installs in a new location), or
>
> - load all the required V4L2 modules in order using insmod (in this case you
> would need to load v4l/v4l2-compat-ioctl32.ko before loading v4l/videodev.ko).
>
> The first solution is easier.
>
>    
>> When i run just 'make install' as in the uvc-video readme, it installs
>> and I can 'modprobe videodev'.
>> Then back to my vloopback source and
>> # insmod vloopback.ko
>> insmod: error inserting 'vloopback.ko': -1 Unknown symbol in module
>>      
> This is because the vloopback.ko module has been compiled against your kernel
> distro, while the loaded videodev.ko module came with uvcvideo and is more
> recent.
>
>    
>> When I do 'make install' instead of insmod I get the same old error again
>> # modprobe vloopback
>> FATAL: Error inserting vloopback
>> (/lib/modules/2.6.26-2-686/kernel/drivers/misc/vloopback.ko): Unknown
>> symbol in module, or unknown parameter (see dmesg)
>>
>> Any idea?
>>      
> To solve your problem, you need to recompile vloopback against the uvcvideo
> tree.
>
>    

-- 
-----/\/\/\/\/\/\-----	
Bart Koppe		
Franselaan 232C
3028 AP Rotterdam
06-40704051		
bk at a-bort.org		
aim/msn/skype bartkoppe
http://a-bort.org
-----\/\/\/\/\/\/-----



From tiskanto at gmail.com  Wed Mar 10 14:23:49 2010
From: tiskanto at gmail.com (Teguh Iskanto)
Date: Thu, 11 Mar 2010 00:23:49 +1100
Subject: [Linux-uvc-devel] can't find /dev/videoX on 18ec:3299 ARKMICRO
In-Reply-To: <201003091216.45015.laurent.pinchart@ideasonboard.com>
References: <e137e8261003042329k50576227m937ae001eaab8beb@mail.gmail.com> 
	<201003091216.45015.laurent.pinchart@ideasonboard.com>
Message-ID: <e137e8261003100523o21eaec53t65fe9ceaf947abf@mail.gmail.com>

Hi Laurent, thanks heaps for the help,

but now the device was complaining that it couldn't initialized  (seemed
like it couldn't find the suitable pic mode):
Do I need to put the 'right' quirks again to let the camera initialized
correctly ?

Thanks again for your help,

Followings are the excerpts:
------------------------------------------
streamer -d -c /dev/video0 -b 16 -o test.jpeg
checking writer files [multiple image files] ...
  video name=ppm ext=ppm: ext mismatch [need jpeg]
  video name=pgm ext=pgm: ext mismatch [need jpeg]
  video name=jpeg ext=jpeg: OK
files / video: JPEG (JFIF) / audio: none
vid-open: trying: v4l2-old...
vid-open: failed: v4l2-old
vid-open: trying: v4l2...
v4l2: open
v4l2: device info:
  uvcvideo 0.1.0 / USB2.0 PC CAMERA @ usb-0000:00:07.2-1
vid-open: ok: v4l2
movie_init_writer start
setformat: JPEG (JFIF) (320x240): failed
setformat: 12 bit YUV 4:2:0 (planar) (320x240): failed
setformat: 16 bit YUV 4:2:2 (planar) (320x240): failed
setformat: 24 bit TrueColor (BE: rgb) (320x240): failed
setformat: 24 bit TrueColor (LE: bgr) (320x240): failed
no way to get: 320x240 JPEG (JFIF)
movie writer initialisation failed
---------------------------------------------------------------> !!!!
v4l2: close

md5sum ./uvcvideo/v4l/v4l*.ko
ea6cf3272514f1c931209fe35b046af3  ./uvcvideo/v4l/v4l1-compat.ko
9f73334627d6b8352cb3344d6e6fdf3d  ./uvcvideo/v4l/v4l2-common.ko
c5478fe849acb3629eb7464734c8985e  ./uvcvideo/v4l/v4l2-int-device.ko

md5sum /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/v4*
ea6cf3272514f1c931209fe35b046af3
 /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/v4l1-compat.ko
9f73334627d6b8352cb3344d6e6fdf3d
 /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/v4l2-common.ko
c5478fe849acb3629eb7464734c8985e
 /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/v4l2-int-device.ko

[ 5057.614310] Linux video capture interface: v2.00
[ 5057.669214] uvcvideo: Found UVC 1.00 device USB2.0 PC CAMERA (18ec:3299)
[ 5057.669256] uvcvideo: Forcing device quirks to 0x100 by module parameter
for testing purpose.
[ 5057.669292] uvcvideo: Please report required quirks to the
linux-uvc-devel mailing list.
[ 5057.680847] input: USB2.0 PC CAMERA as
/devices/pci0000:00/0000:00:07.2/usb1/1-1/1-1:1.0/input/input5
[ 5057.708664] usbcore: registered new interface driver uvcvideo
[ 5057.708866] USB Video Class driver (v0.1.0)
[ 5058.743732] ALSA
/build/buildd/linux-ubuntu-modules-2.6.24-2.6.24/debian/build/build-generic/sound/alsa-driver/usb/usbaudio.c:1296:
2:3:1: cannot get freq at ep 0x82
[ 5063.808310] usbcore: registered new interface driver snd-usb-audio

On Tue, Mar 9, 2010 at 10:16 PM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi Teguh,
>
> On Friday 05 March 2010 08:29:35 Teguh Iskanto wrote:
> > Hi List,
> >
> > I've got a problem with my webcam on UVC driver, seemed like whatever I
> try
> > I still couldn't get it working.
> > The one thing that I know is /dev/videoX is not being created (not quite
> > sure why). really appreciate if anyone on this list could shed me a light
> > on how to fix this problem.
> >
> > BTW:
> > I've compiled the source with the latest UVC driver from the tree
> > with : hg clone http://linuxtv.org/hg/~pinchartl/uvcvideo/
>
> Could you please try to set the quirks parameter to 0x100 when loading the
> uvcvideo driver ?
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100311/16343eec/attachment.html>

From gentoo at mgorny.alt.pl  Wed Mar 10 22:27:20 2010
From: gentoo at mgorny.alt.pl (=?UTF-8?B?TWljaGHFgiBHw7Nybnk=?=)
Date: Wed, 10 Mar 2010 22:27:20 +0100
Subject: [Linux-uvc-devel] Motorola ROKR E6 'webcam' and resolution
 issues
In-Reply-To: <201003041131.56724.laurent.pinchart@ideasonboard.com>
References: <op.u76jtsfohdzqqm@asus.lan>
	<201002182251.10671.laurent.pinchart@ideasonboard.com>
	<op.u8cfm1bwhdzqqm@asus.lan>
	<201003041131.56724.laurent.pinchart@ideasonboard.com>
Message-ID: <20100310222720.4ce9b528@pomiocik.lan>

On Thu, 4 Mar 2010 11:31:55 +0100
Laurent Pinchart <laurent.pinchart at ideasonboard.com> wrote:

> I don't have much experience with Windows, so I can't advice for a
> test application that would allow you to configure the resolution.
> I've heard that amcap is often used for testing, maybe you could give
> it a try.

amcap wasn't much of help but I've tested several applications and all
provided resolutions seem to work on Windows. And I'm especially sure
that 160x120 works fine (which seems to be the preferred one with most
of the software).

What should I do now?

-- 
Best regards,
Micha? G?rny

<http://mgorny.alt.pl>
<xmpp:mgorny at jabber.ru>


From miloody at gmail.com  Thu Mar 11 17:28:35 2010
From: miloody at gmail.com (loody)
Date: Fri, 12 Mar 2010 00:28:35 +0800
Subject: [Linux-uvc-devel] some questions about uvc
Message-ID: <3a665c761003110828r204d3218sa1998e4a6ba828de@mail.gmail.com>

Dear all:
I try to fix the uvc driver on my mips platform.
But I got the messages as I append at the end of letter, the messages
are triggered by capture.c the sample c code at the official website.
I have some questions:
1. why the uvc resend the urb in uvc_video_complete?
2. from the log, it seems uvc keep catching when the VIDIOC_STREAMON
passed from v4l2 to uvc.
3. if the answer of 1 is yes; what will uvc does when he get
VIDIOC_QBUF and VIDIOC_DQBUF ?
    ( in my opinion, uvc should starting catpureing when he receives
VIDIOC_QBUF and stop when the buffer is full. Then it pass the buffer
above when he got VIDIOC_DQBUF. But from the log below, it start
captureing when he got VIDIOC_STREAMON. Am i right?)
4. if my assumption above is correct, uvc start capture at
VIDIOC_DQBUF and stop when buffer full. it should stop capture when
frame complete in the log appears.

appreciate your help,
miloody

VIDIOC_STREAMON
uvcvideo: Failed to resubmit video URB (-38).
uvcvideo: Failed to resubmit video URB (-38).
uvcvideo: Frame complete (overflow).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
uvcvideo: Dropping payload (out of sync).
.....


From perja at extern.uio.no  Thu Mar 11 22:05:30 2010
From: perja at extern.uio.no (Per Thomas Jahr)
Date: Thu, 11 Mar 2010 22:05:30 +0100
Subject: [Linux-uvc-devel] IPEVO Point 2 View supported
In-Reply-To: <201003091251.54495.laurent.pinchart@ideasonboard.com>
References: <1267440366.3207.11.camel@delphi>
	<201003091251.54495.laurent.pinchart@ideasonboard.com>
Message-ID: <1268341530.23614.53.camel@delphi>

On Tue, 2010-03-09 at 12:51 +0100, Laurent Pinchart wrote:
> Hi,
> 
> On Monday 01 March 2010 11:46:06 Per Thomas Jahr wrote:
> > 
> > I just wanted to report that the IPEVO Point 2 View webcam works fine
> > with uvcvideo. I've tested it with various applications (Skype, UCView,
> > Flash ...) and found that it works in all except "Cheese Webcam Booth".
> 
> What happens in Cheese ?

I just see a test picture, but I have a feeling that it is related to
another v4l2 device (tv tuner). Cheese seems to be stuck on /dev/video0
for some reason. It never switches over to /dev/video1 where the webcam
is (even when I change devices in preferences). 

> > This message always shows in dmesg once I start one of the video apps:
> > uvcvideo:
> > Failed to query (135) UVC control 11 (unit 3) : -32 (exp. 1).
> > (but it works ok)
> 
> That's the "White Balance Temperature, Auto" control. The driver tries to 
> retrieve its default value. According to the UVC spec, supporting that request 
> is mandatory on that control, so it's probably a webcam bug. No big deal 
> though.
> 
> > There are two buttons on the webcam. One of them is to set focus and the
> > other is for taking a picture. The one that sets focus works as
> > expected, but nothing happens when I press the snapshot button. Should
> > it be supported?
> 
> Yes it should. The uvcvideo creates an evdev device when you plug your camera 
> in:
> 
> > input: IPEVO Point 2 View as
> > /devices/pci0000:00/0000:00:1d.7/usb2/2-4/2-4.4/2-4.4:1.0/input/input12
> 
> The device is then used to report the KEY_CAMERA event when the button is 
> pressed. The event might not be mapped to any action on your system though.

I'm running Fedora 12. How can I test that the event comes through to
evdev? Tried with "xev", but nothing there.

> > Also, about setting the focus: the hardware button for this works, but is it
> > possible to control focus from software? It seems that the software that
> > follows the webcam supports this (you click on the part of the image that
> > you want in focus).
> 
> It should be possible yes. Your camera has two focus controls (auto-focus and 
> absolute focus) that are accessible through the V4L2_CID_FOCUS_AUTO and 
> V4L2_CID_FOCUS_ABSOLUTE V4L2 controls.

OK.


Thanks
Per Thomas




From fabreg at gmail.com  Sat Mar 13 15:09:26 2010
From: fabreg at gmail.com (Fabrizio Regalli)
Date: Sat, 13 Mar 2010 15:09:26 +0100
Subject: [Linux-uvc-devel] Webcam 05a9:2641 on linux 2.6.33
Message-ID: <43d295de1003130609m47079d0dy5637caed1774c1b6@mail.gmail.com>

Dear list,

my webcam does not work anymore after update the kernel to 2.6.33
I see this message on /var/log/messages


Mar 13 13:30:38 debiancasa kernel: [    7.544918] uvcvideo: Found UVC 1.00
device Monitor Integrated Webcam (05a9:2641)
Mar 13 13:30:38 debiancasa kernel: [    7.545946] uvcvideo: UVC non
compliance - GET_DEF(PROBE) not supported. Enabling workaround.
Mar 13 13:30:38 debiancasa kernel: [    7.547677] usbcore: registered new
interface driver uvcvideo

Cheese and mercury doesn't recognize the webcam.

My lsusb:

...
Bus 002 Device 007: ID 05a9:2641 OmniVision Technologies, Inc.
...

Many thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100313/70060579/attachment.html>

From tiskanto at gmail.com  Wed Mar 10 08:01:39 2010
From: tiskanto at gmail.com (Teguh Iskanto)
Date: Wed, 10 Mar 2010 18:01:39 +1100
Subject: [Linux-uvc-devel] can't find /dev/videoX on 18ec:3299 ARKMICRO
In-Reply-To: <201003091216.45015.laurent.pinchart@ideasonboard.com>
References: <e137e8261003042329k50576227m937ae001eaab8beb@mail.gmail.com> 
	<201003091216.45015.laurent.pinchart@ideasonboard.com>
Message-ID: <e137e8261003092301g1fd4eddes1473e13cbba8b6c9@mail.gmail.com>

Hi Laurent, thanks heaps for the help,

but now the device was complaining that it couldn't initialized  (seemed
like it couldn't find the suitable pic mode):
Do I need to put the 'right' quirks again to let the camera initialized
correctly ?

Thanks again for your help,

Followings are the excerpts:
------------------------------------------
streamer -d -c /dev/video0 -b 16 -o test.jpeg
checking writer files [multiple image files] ...
  video name=ppm ext=ppm: ext mismatch [need jpeg]
  video name=pgm ext=pgm: ext mismatch [need jpeg]
  video name=jpeg ext=jpeg: OK
files / video: JPEG (JFIF) / audio: none
vid-open: trying: v4l2-old...
vid-open: failed: v4l2-old
vid-open: trying: v4l2...
v4l2: open
v4l2: device info:
  uvcvideo 0.1.0 / USB2.0 PC CAMERA @ usb-0000:00:07.2-1
vid-open: ok: v4l2
movie_init_writer start
setformat: JPEG (JFIF) (320x240): failed
setformat: 12 bit YUV 4:2:0 (planar) (320x240): failed
setformat: 16 bit YUV 4:2:2 (planar) (320x240): failed
setformat: 24 bit TrueColor (BE: rgb) (320x240): failed
setformat: 24 bit TrueColor (LE: bgr) (320x240): failed
no way to get: 320x240 JPEG (JFIF)
movie writer initialisation failed
---------------------------------------------------------------> !!!!
v4l2: close

md5sum ./uvcvideo/v4l/v4l*.ko
ea6cf3272514f1c931209fe35b046af3  ./uvcvideo/v4l/v4l1-compat.ko
9f73334627d6b8352cb3344d6e6fdf3d  ./uvcvideo/v4l/v4l2-common.ko
c5478fe849acb3629eb7464734c8985e  ./uvcvideo/v4l/v4l2-int-device.ko

md5sum /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/v4*
ea6cf3272514f1c931209fe35b046af3
 /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/v4l1-compat.ko
9f73334627d6b8352cb3344d6e6fdf3d
 /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/v4l2-common.ko
c5478fe849acb3629eb7464734c8985e
 /lib/modules/2.6.24-16-generic/kernel/drivers/media/video/v4l2-int-device.ko

[ 5057.614310] Linux video capture interface: v2.00
[ 5057.669214] uvcvideo: Found UVC 1.00 device USB2.0 PC CAMERA (18ec:3299)
[ 5057.669256] uvcvideo: Forcing device quirks to 0x100 by module parameter
for testing purpose.
[ 5057.669292] uvcvideo: Please report required quirks to the
linux-uvc-devel mailing list.
[ 5057.680847] input: USB2.0 PC CAMERA as
/devices/pci0000:00/0000:00:07.2/usb1/1-1/1-1:1.0/input/input5
[ 5057.708664] usbcore: registered new interface driver uvcvideo
[ 5057.708866] USB Video Class driver (v0.1.0)
[ 5058.743732] ALSA
/build/buildd/linux-ubuntu-modules-2.6.24-2.6.24/debian/build/build-generic/sound/alsa-driver/usb/usbaudio.c:1296:
2:3:1: cannot get freq at ep 0x82
[ 5063.808310] usbcore: registered new interface driver snd-usb-audio

lsusb -v -d 18ec:3299
Bus 001 Device 002: ID 18ec:3299
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x18ec
  idProduct          0x3299
  bcdDevice            1.00
  iManufacturer           1
  iProduct                2
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          498
    bNumInterfaces          4
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              320mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0
      iFunction               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              0
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           51
        dwClockFrequency       24.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x0000200a
          Auto-Exposure Mode
          Exposure Time (Absolute)
          Roll (Absolute)
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 2
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000073f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Gain
          Power Line Frequency
        iProcessing             0
        bmVideoStandards     0x 9
          None
          SECAM - 625/50
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0010  1x 16 bytes
        bInterval              10
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                        1
        wTotalLength                      284
        bEndPointAddress                  131
        bmInfo                              0
        bTerminalLink                       3
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       0
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
 {59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            42
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize     3840000
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  4
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
        dwFrameInterval( 3)           2000000
      VideoStreaming Interface Descriptor:
        bLength                            18
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               3
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        800
        wHeight( 1)                       600
        wWidth( 2)                       1280
        wHeight( 2)                      1024
        bNumCompressionPatterns             3
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     0 (Unspecified)
        bTransferCharacteristics            0 (Unspecified)
        bMatrixCoefficients                 0 (Unspecified)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x13e8  3x 1000 bytes
        bInterval               1
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         2
      bInterfaceCount         2
      bFunctionClass          1 Audio
      bFunctionSubClass       1 Control Device
      bFunctionProtocol       0
      iFunction               4
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              4
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           40
        bInCollection           1
        baInterfaceNr( 0)       3
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             2
        wChannelConfig     0x0003
          Left Front (L)
          Right Front (R)
        iChannelNames           0
        iTerminal               0



lsmod | grep vid
uvcvideo               65228  0
videodev               43040  1 uvcvideo
v4l1_compat            14980  2 uvcvideo,videodev
video                  19856  0
output                  4736  1 video
usbcore               146028  5 snd_usb_audio,snd_usb_lib,uvcvideo,uhci_hcd

On Tue, Mar 9, 2010 at 10:16 PM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi Teguh,
>
> On Friday 05 March 2010 08:29:35 Teguh Iskanto wrote:
> > Hi List,
> >
> > I've got a problem with my webcam on UVC driver, seemed like whatever I
> try
> > I still couldn't get it working.
> > The one thing that I know is /dev/videoX is not being created (not quite
> > sure why). really appreciate if anyone on this list could shed me a light
> > on how to fix this problem.
> >
> > BTW:
> > I've compiled the source with the latest UVC driver from the tree
> > with : hg clone http://linuxtv.org/hg/~pinchartl/uvcvideo/
>
> Could you please try to set the quirks parameter to 0x100 when loading the
> uvcvideo driver ?
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100310/6953bf75/attachment.html>

From chandan12.k at tcs.com  Tue Mar 16 07:07:04 2010
From: chandan12.k at tcs.com (Chandan12 K)
Date: Tue, 16 Mar 2010 11:37:04 +0530
Subject: [Linux-uvc-devel] Upside down in webcam ASUS K50IJ
Message-ID: <OFC93E806D.0B5250D8-ON652576E8.00217056-652576E8.00219829@tcs.com>

I have a ASUS K50IJ series lap top. And facing the same issue of
upside down image.

Please find the attached lsusb and dmi output.


Chandan Kumar
Tata Consultancy Services
Mailto: chandan12.k at tcs.com
Website: http://www.tcs.com
____________________________________________
Experience certainty.   IT Services
                        Business Solutions
                        Outsourcing


Chandan kumar

=====-----=====-----=====
Notice: The information contained in this e-mail
message and/or attachments to it may contain 
confidential or privileged information. If you are 
not the intended recipient, any dissemination, use, 
review, distribution, printing or copying of the 
information contained in this e-mail message 
and/or attachments to it are strictly prohibited. If 
you have received this communication in error, 
please notify us by reply e-mail or telephone and 
immediately and permanently delete the message 
and any attachments. Thank you


-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100316/8c9f0f08/attachment.html>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lsusb.log
Type: application/octet-stream
Size: 725 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100316/8c9f0f08/attachment.obj>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: dmi.log
Type: application/octet-stream
Size: 12385 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100316/8c9f0f08/attachment-0001.obj>

From liangy at bmhdtv.com  Tue Mar 16 08:07:27 2010
From: liangy at bmhdtv.com (liangyong)
Date: Tue, 16 Mar 2010 15:07:27 +0800
Subject: [Linux-uvc-devel] Not found Device ID(0ac8:3313) of TopSpeed USB
	2.0 Camera B in source code
Message-ID: <000601cac4d7$59b1aeb0$ac00a8c0@jfzsliangyong>

I am using TopSpeed USB 2.0 Camera, and Device ID is 0ac8:3313. I downloaded http://linuxtv.org/hg/~pinchartl/uvcvideo/archive/tip.tar.gz . But I didn't found Device ID(0ac8:3313) in source code.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100316/2810248f/attachment.html>

From laurent.pinchart at ideasonboard.com  Wed Mar 17 17:55:28 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 17 Mar 2010 17:55:28 +0100
Subject: [Linux-uvc-devel] can't find /dev/videoX on 18ec:3299 ARKMICRO
In-Reply-To: <e137e8261003092301g1fd4eddes1473e13cbba8b6c9@mail.gmail.com>
References: <e137e8261003042329k50576227m937ae001eaab8beb@mail.gmail.com>
	<201003091216.45015.laurent.pinchart@ideasonboard.com>
	<e137e8261003092301g1fd4eddes1473e13cbba8b6c9@mail.gmail.com>
Message-ID: <201003171755.28823.laurent.pinchart@ideasonboard.com>

Hi,

On Wednesday 10 March 2010 08:01:39 Teguh Iskanto wrote:
> Hi Laurent, thanks heaps for the help,
> 
> but now the device was complaining that it couldn't initialized  (seemed
> like it couldn't find the suitable pic mode):
> Do I need to put the 'right' quirks again to let the camera initialized
> correctly ?
> 
> Thanks again for your help,
> 
> Followings are the excerpts:
> ------------------------------------------
> streamer -d -c /dev/video0 -b 16 -o test.jpeg
> checking writer files [multiple image files] ...
>   video name=ppm ext=ppm: ext mismatch [need jpeg]
>   video name=pgm ext=pgm: ext mismatch [need jpeg]
>   video name=jpeg ext=jpeg: OK
> files / video: JPEG (JFIF) / audio: none
> vid-open: trying: v4l2-old...
> vid-open: failed: v4l2-old
> vid-open: trying: v4l2...
> v4l2: open
> v4l2: device info:
>   uvcvideo 0.1.0 / USB2.0 PC CAMERA @ usb-0000:00:07.2-1
> vid-open: ok: v4l2
> movie_init_writer start
> setformat: JPEG (JFIF) (320x240): failed
> setformat: 12 bit YUV 4:2:0 (planar) (320x240): failed
> setformat: 16 bit YUV 4:2:2 (planar) (320x240): failed
> setformat: 24 bit TrueColor (BE: rgb) (320x240): failed
> setformat: 24 bit TrueColor (LE: bgr) (320x240): failed
> no way to get: 320x240 JPEG (JFIF)

Your application tries 5 different frame formats, but none of them are 
supported by the camera (it only supports YUV 4:2:2 packed). You will need to 
fix the application to support the YUYV format used by the camera. 
libv4lconvert might help if you need transcoding.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Mar 17 17:43:55 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 17 Mar 2010 17:43:55 +0100
Subject: [Linux-uvc-devel] [Fwd: Re: frame rate dropping when capturing
	from webcam]
In-Reply-To: <4B968974.7090900@gmail.com>
References: <4B968974.7090900@gmail.com>
Message-ID: <201003171743.56126.laurent.pinchart@ideasonboard.com>

Hi Cesar,

On Tuesday 09 March 2010 18:46:28 Cesar Maciel wrote:
> Laurent, I replied to you instead of to the list.
> OK, I found the answer on how to set auto exposure off (using
> uvcdynctrl), but from as far as I found out, it really depends on the HW
> supporting it, and even on the value tto be used.
> Anyway, I believe I am missing the basics here. If the webcam is varying
> the frame rate, it is still keeping the elapsed time the same as the
> wall clock, correct? If I record 10 seconds, it will be 10 seconds,
> regardless of the changes in frame rate. Is that correct?

Yes it will. Of course, if you store the frames in a container that expects a 
constant frame rate (let's say an AVI file, I think those don't support 
variable frame rates) then the playback might take less than 10 seconds.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Mar 17 17:50:17 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 17 Mar 2010 17:50:17 +0100
Subject: [Linux-uvc-devel] Motorola ROKR E6 'webcam' and resolution
	issues
In-Reply-To: <20100310222720.4ce9b528@pomiocik.lan>
References: <op.u76jtsfohdzqqm@asus.lan>
	<201003041131.56724.laurent.pinchart@ideasonboard.com>
	<20100310222720.4ce9b528@pomiocik.lan>
Message-ID: <201003171750.17507.laurent.pinchart@ideasonboard.com>

Hi Micha?,

On Wednesday 10 March 2010 22:27:20 Micha? G?rny wrote:
> On Thu, 4 Mar 2010 11:31:55 +0100 Laurent Pinchart wrote:
> > I don't have much experience with Windows, so I can't advice for a
> > test application that would allow you to configure the resolution.
> > I've heard that amcap is often used for testing, maybe you could give
> > it a try.
> 
> amcap wasn't much of help but I've tested several applications and all
> provided resolutions seem to work on Windows. And I'm especially sure
> that 160x120 works fine (which seems to be the preferred one with most
> of the software).
> 
> What should I do now?

The next step would be to use a software USB sniffer on Windows to capture the 
device initialization sequence in Windows, and compare that to what's done by 
the uvcvideo driver.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Mar 17 17:47:10 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 17 Mar 2010 17:47:10 +0100
Subject: [Linux-uvc-devel] frame rate dropping when capturing from webcam
In-Reply-To: <4B95D8B3.6060108@gmail.com>
References: <4B8325CA.8050207@gmail.com>
	<201003041134.13595.laurent.pinchart@ideasonboard.com>
	<4B95D8B3.6060108@gmail.com>
Message-ID: <201003171747.10682.laurent.pinchart@ideasonboard.com>

Hi Cesar,

On Tuesday 09 March 2010 06:12:19 Cesar Maciel wrote:
> Hi Laurent,
> No, I did not. Does it depend on the camera model to set a given flag,
> or is it universal provided that the camera is uvc compliant?

UVC webcams are not required to support disabling the auto-exposure, but if 
they do, that's done through a standard UVC control, mapped to the 
V4L2_CID_EXPOSURE_AUTO control.

> How could I do it?

There's a few command line tools that let you modify controls, as well as GUI 
applications. v4l2-ctl is a good candidate as a low-level command line tool.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Mar 17 17:52:08 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 17 Mar 2010 17:52:08 +0100
Subject: [Linux-uvc-devel]
 =?iso-8859-1?q?problems_with_uvc_cameras_and_gs?=
 =?iso-8859-1?q?treamer_on=09gentoo?=
In-Reply-To: <201003100240.14189.chris@basementcode.com>
References: <201003100240.14189.chris@basementcode.com>
Message-ID: <201003171752.08604.laurent.pinchart@ideasonboard.com>

Hi Christopher,

On Wednesday 10 March 2010 08:40:14 Christopher Harvey wrote:
> Hi again,
> I tried a slightly different command:
> gst-launch-0.10 v4l2src ! video/x-raw-yuv,width=640,height=480 !
> xvimagesink
> 
> (gst-launch-0.10:6239): GLib-WARNING **: g_set_prgname() called multiple
> times Setting pipeline to PAUSED ...
> Pipeline is live and does not need PREROLL ...
> ERROR: from element /GstPipeline:pipeline0/GstV4l2Src:v4l2src0: Device
> '/dev/video0' cannot capture at 640x480
> Additional debug info:
> gstv4l2object.c(1854): gst_v4l2_object_set_format ():
> /GstPipeline:pipeline0/GstV4l2Src:v4l2src0:
> Call to S_FMT failed for YUYV @ 640x480: Input/output error
> ERROR: pipeline doesn't want to preroll.
> Setting pipeline to PAUSED ...
> Setting pipeline to READY ...
> Setting pipeline to NULL ...
> Freeing pipeline ...
> 
> and I KNOW this camera works at that resolution and video format.
> I setup the same camera on the other laptop that previously had OpenSUSE
> installed and it worked with kernel version 2.6.31-r10 (x86, gentoo this
> time).
> The broken one is 2.6.31-r6 amd 64bit.
> 
> are
> CONFIG_USB_VIDEO_CLASS=m
> CONFIG_USB_VIDEO_CLASS_INPUT_EVDEV=y
> the only kernel parameters that matter? I tried with both the usb audio
> module enabled and disabled. (built in for the audio) The camera has a
> mic, but I don't care about it.

Could you check if the driver prints anything to the kernel log (use the dmesg 
command) when you get the above error with GStreamer ?

-- 
Regards,

Laurent Pinchart


From tiskanto at gmail.com  Thu Mar 18 02:07:40 2010
From: tiskanto at gmail.com (Teguh Iskanto)
Date: Thu, 18 Mar 2010 12:07:40 +1100
Subject: [Linux-uvc-devel] can't find /dev/videoX on 18ec:3299 ARKMICRO
In-Reply-To: <201003171755.28823.laurent.pinchart@ideasonboard.com>
References: <e137e8261003042329k50576227m937ae001eaab8beb@mail.gmail.com> 
	<201003091216.45015.laurent.pinchart@ideasonboard.com>
	<e137e8261003092301g1fd4eddes1473e13cbba8b6c9@mail.gmail.com> 
	<201003171755.28823.laurent.pinchart@ideasonboard.com>
Message-ID: <e137e8261003171807y54c85232x4fb6c702b5e5ccbf@mail.gmail.com>

Thanks again for the help, at least now I know what to do
Cheers,
Teguh Iskanto

On Thu, Mar 18, 2010 at 3:55 AM, Laurent Pinchart <
laurent.pinchart at ideasonboard.com> wrote:

> Hi,
>
> On Wednesday 10 March 2010 08:01:39 Teguh Iskanto wrote:
> > Hi Laurent, thanks heaps for the help,
> >
> > but now the device was complaining that it couldn't initialized  (seemed
> > like it couldn't find the suitable pic mode):
> > Do I need to put the 'right' quirks again to let the camera initialized
> > correctly ?
> >
> > Thanks again for your help,
> >
> > Followings are the excerpts:
> > ------------------------------------------
> > streamer -d -c /dev/video0 -b 16 -o test.jpeg
> > checking writer files [multiple image files] ...
> >   video name=ppm ext=ppm: ext mismatch [need jpeg]
> >   video name=pgm ext=pgm: ext mismatch [need jpeg]
> >   video name=jpeg ext=jpeg: OK
> > files / video: JPEG (JFIF) / audio: none
> > vid-open: trying: v4l2-old...
> > vid-open: failed: v4l2-old
> > vid-open: trying: v4l2...
> > v4l2: open
> > v4l2: device info:
> >   uvcvideo 0.1.0 / USB2.0 PC CAMERA @ usb-0000:00:07.2-1
> > vid-open: ok: v4l2
> > movie_init_writer start
> > setformat: JPEG (JFIF) (320x240): failed
> > setformat: 12 bit YUV 4:2:0 (planar) (320x240): failed
> > setformat: 16 bit YUV 4:2:2 (planar) (320x240): failed
> > setformat: 24 bit TrueColor (BE: rgb) (320x240): failed
> > setformat: 24 bit TrueColor (LE: bgr) (320x240): failed
> > no way to get: 320x240 JPEG (JFIF)
>
> Your application tries 5 different frame formats, but none of them are
> supported by the camera (it only supports YUV 4:2:2 packed). You will need
> to
> fix the application to support the YUYV format used by the camera.
> libv4lconvert might help if you need transcoding.
>
> --
> Regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100318/509052ec/attachment.html>

From chris at basementcode.com  Thu Mar 18 04:32:09 2010
From: chris at basementcode.com (Christopher Harvey)
Date: Wed, 17 Mar 2010 23:32:09 -0400
Subject: [Linux-uvc-devel] problems with uvc cameras and gstreamer on
	gentoo
In-Reply-To: <201003171752.08604.laurent.pinchart@ideasonboard.com>
References: <201003100240.14189.chris@basementcode.com>
	<201003171752.08604.laurent.pinchart@ideasonboard.com>
Message-ID: <201003172332.09923.chris@basementcode.com>

Yes, there is some dmesg text....
This is both plugging in the camera and from running
gst-launch-0.10 v4l2src ! video/x-raw-yuv,width=640,height=480 ! xvimagesink

[ 8064.905024] usb 1-4: new high speed USB device using ehci_hcd and address 3  
[ 8065.166803] usb 1-4: configuration #1 chosen from 1 choice                   
[ 8065.538788] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ca)            
[ 8065.558724] input: UVC Camera (046d:08ca) as 
/devices/pci0000:00/0000:00:02.1/usb1/1-4/1-4:1.0/input/input4                                                  
[ 8065.558790] usbcore: registered new interface driver uvcvideo                
[ 8065.558793] USB Video Class driver (v0.1.0)                                  
[ 8121.352316] uvcvideo: Failed to query (131) UVC probe control : -32 (exp. 
26).                                                                               
[ 8121.355309] uvcvideo: Failed to set UVC probe control : -32 (exp. 26).       
[ 8122.355194] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8123.355068] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8124.355069] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8125.355069] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8126.355071] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8127.355070] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8128.355071] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8129.355070] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8130.355072] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8131.355071] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).      
[ 8132.355072] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8133.355072] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8134.355245] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8135.355073] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8136.355074] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8137.355074] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8138.355075] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8139.355074] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8140.355076] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8141.355075] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8142.355076] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8143.355076] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8144.355077] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8145.355076] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8146.355079] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8147.355077] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8148.355078] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8149.355078] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8150.355080] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8151.355079] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8152.355080] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8153.355079] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8154.355081] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8155.355081] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8156.355081] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8157.355081] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8158.355083] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8159.358968] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8160.359077] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8161.359331] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
[ 8162.360084] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).

I'm not really sure what that means...

Regards,
Chris.

On Wednesday 17 March 2010 12:52:08 pm Laurent Pinchart wrote:
> Hi Christopher,
> 
> On Wednesday 10 March 2010 08:40:14 Christopher Harvey wrote:
> > Hi again,
> > I tried a slightly different command:
> > gst-launch-0.10 v4l2src ! video/x-raw-yuv,width=640,height=480 !
> > xvimagesink
> >
> > (gst-launch-0.10:6239): GLib-WARNING **: g_set_prgname() called multiple
> > times Setting pipeline to PAUSED ...
> > Pipeline is live and does not need PREROLL ...
> > ERROR: from element /GstPipeline:pipeline0/GstV4l2Src:v4l2src0: Device
> > '/dev/video0' cannot capture at 640x480
> > Additional debug info:
> > gstv4l2object.c(1854): gst_v4l2_object_set_format ():
> > /GstPipeline:pipeline0/GstV4l2Src:v4l2src0:
> > Call to S_FMT failed for YUYV @ 640x480: Input/output error
> > ERROR: pipeline doesn't want to preroll.
> > Setting pipeline to PAUSED ...
> > Setting pipeline to READY ...
> > Setting pipeline to NULL ...
> > Freeing pipeline ...
> >
> > and I KNOW this camera works at that resolution and video format.
> > I setup the same camera on the other laptop that previously had OpenSUSE
> > installed and it worked with kernel version 2.6.31-r10 (x86, gentoo this
> > time).
> > The broken one is 2.6.31-r6 amd 64bit.
> >
> > are
> > CONFIG_USB_VIDEO_CLASS=m
> > CONFIG_USB_VIDEO_CLASS_INPUT_EVDEV=y
> > the only kernel parameters that matter? I tried with both the usb audio
> > module enabled and disabled. (built in for the audio) The camera has a
> > mic, but I don't care about it.
> 
> Could you check if the driver prints anything to the kernel log (use the
>  dmesg command) when you get the above error with GStreamer ?
> 


From laurent.pinchart at ideasonboard.com  Thu Mar 18 08:42:01 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 18 Mar 2010 08:42:01 +0100
Subject: [Linux-uvc-devel] IPEVO Point 2 View supported
In-Reply-To: <1268341530.23614.53.camel@delphi>
References: <1267440366.3207.11.camel@delphi>
	<201003091251.54495.laurent.pinchart@ideasonboard.com>
	<1268341530.23614.53.camel@delphi>
Message-ID: <201003180842.01822.laurent.pinchart@ideasonboard.com>

Hi,

On Thursday 11 March 2010 22:05:30 Per Thomas Jahr wrote:
> On Tue, 2010-03-09 at 12:51 +0100, Laurent Pinchart wrote:
> > On Monday 01 March 2010 11:46:06 Per Thomas Jahr wrote:
> > > I just wanted to report that the IPEVO Point 2 View webcam works fine
> > > with uvcvideo. I've tested it with various applications (Skype, UCView,
> > > Flash ...) and found that it works in all except "Cheese Webcam Booth".
> > 
> > What happens in Cheese ?
> 
> I just see a test picture, but I have a feeling that it is related to
> another v4l2 device (tv tuner). Cheese seems to be stuck on /dev/video0
> for some reason. It never switches over to /dev/video1 where the webcam
> is (even when I change devices in preferences).

So it's not a uvcvideo driver issue, good :-)

> > > This message always shows in dmesg once I start one of the video apps:
> > > uvcvideo:
> > > Failed to query (135) UVC control 11 (unit 3) : -32 (exp. 1).
> > > (but it works ok)
> > 
> > That's the "White Balance Temperature, Auto" control. The driver tries to
> > retrieve its default value. According to the UVC spec, supporting that
> > request is mandatory on that control, so it's probably a webcam bug. No
> > big deal though.
> > 
> > > There are two buttons on the webcam. One of them is to set focus and
> > > the other is for taking a picture. The one that sets focus works as
> > > expected, but nothing happens when I press the snapshot button. Should
> > > it be supported?
> > 
> > Yes it should. The uvcvideo creates an evdev device when you plug your
> > camera
> > 
> > in:
> > > input: IPEVO Point 2 View as
> > > /devices/pci0000:00/0000:00:1d.7/usb2/2-4/2-4.4/2-4.4:1.0/input/input12
> > 
> > The device is then used to report the KEY_CAMERA event when the button is
> > pressed. The event might not be mapped to any action on your system
> > though.
> 
> I'm running Fedora 12. How can I test that the event comes through to
> evdev? Tried with "xev", but nothing there.

You need to open the /dev/video0 device for the driver to generate events. The 
reason for that is to allow the device to be auto-suspended when not in use.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Mar 18 08:49:08 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 18 Mar 2010 08:49:08 +0100
Subject: [Linux-uvc-devel] some questions about uvc
In-Reply-To: <3a665c761003110828r204d3218sa1998e4a6ba828de@mail.gmail.com>
References: <3a665c761003110828r204d3218sa1998e4a6ba828de@mail.gmail.com>
Message-ID: <201003180849.09038.laurent.pinchart@ideasonboard.com>

Hi Miloody,

On Thursday 11 March 2010 17:28:35 loody wrote:
> Dear all:
> I try to fix the uvc driver on my mips platform.
> But I got the messages as I append at the end of letter, the messages
> are triggered by capture.c the sample c code at the official website.
> I have some questions:
> 1. why the uvc resend the urb in uvc_video_complete?

Because the USB core doesn't resubmit URBs automatically. If the driver didn't 
do it there, it would only receive a few URBs (currently hardcoded to 5 in the 
driver) and then stop.

> 2. from the log, it seems uvc keep catching when the VIDIOC_STREAMON
> passed from v4l2 to uvc.

I'm not sure to get what you mean.

> 3. if the answer of 1 is yes; what will uvc does when he get
> VIDIOC_QBUF and VIDIOC_DQBUF ?
>     ( in my opinion, uvc should starting catpureing when he receives
> VIDIOC_QBUF and stop when the buffer is full. Then it pass the buffer
> above when he got VIDIOC_DQBUF. But from the log below, it start
> captureing when he got VIDIOC_STREAMON. Am i right?)

THe driver instructs the device to start sending data when it receives 
VIDIOC_STREAMON. If there's no buffer queued the data will just be discarded.

> 4. if my assumption above is correct, uvc start capture at
> VIDIOC_DQBUF and stop when buffer full. it should stop capture when
> frame complete in the log appears.

It could, but just discarding the data is enough.

> VIDIOC_STREAMON
> uvcvideo: Failed to resubmit video URB (-38).
> uvcvideo: Failed to resubmit video URB (-38).

-38 is -ENOSYS, and that error is returned by very few USB host controller 
drivers. Which controller are you using on your platform ? Chances are you 
might need to fix it.

> uvcvideo: Frame complete (overflow).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).
> uvcvideo: Dropping payload (out of sync).

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Mar 18 10:27:20 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 18 Mar 2010 10:27:20 +0100
Subject: [Linux-uvc-devel] Webcam 05a9:2641 on linux 2.6.33
In-Reply-To: <43d295de1003130609m47079d0dy5637caed1774c1b6@mail.gmail.com>
References: <43d295de1003130609m47079d0dy5637caed1774c1b6@mail.gmail.com>
Message-ID: <201003181027.21326.laurent.pinchart@ideasonboard.com>

Hi Fabrizio,

On Saturday 13 March 2010 15:09:26 Fabrizio Regalli wrote:
> Dear list,
> 
> my webcam does not work anymore after update the kernel to 2.6.33
> I see this message on /var/log/messages
> 
> 
> Mar 13 13:30:38 debiancasa kernel: [    7.544918] uvcvideo: Found UVC 1.00
> device Monitor Integrated Webcam (05a9:2641)
> Mar 13 13:30:38 debiancasa kernel: [    7.545946] uvcvideo: UVC non
> compliance - GET_DEF(PROBE) not supported. Enabling workaround.
> Mar 13 13:30:38 debiancasa kernel: [    7.547677] usbcore: registered new
> interface driver uvcvideo
> 
> Cheese and mercury doesn't recognize the webcam.

Do they print any error message ? Does the driver print messages to the kernel 
log when you start cheese or mercury ?

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Thu Mar 18 11:29:25 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Thu, 18 Mar 2010 11:29:25 +0100
Subject: [Linux-uvc-devel] Not found Device ID(0ac8:3313) of TopSpeed
	USB 2.0 Camera B in source code
In-Reply-To: <000601cac4d7$59b1aeb0$ac00a8c0@jfzsliangyong>
References: <000601cac4d7$59b1aeb0$ac00a8c0@jfzsliangyong>
Message-ID: <201003181129.26490.laurent.pinchart@ideasonboard.com>

Hi,

On Tuesday 16 March 2010 08:07:27 liangyong wrote:
> I am using TopSpeed USB 2.0 Camera, and Device ID is 0ac8:3313. I
> downloaded http://linuxtv.org/hg/~pinchartl/uvcvideo/archive/tip.tar.gz .
> But I didn't found Device ID(0ac8:3313) in source code.

The driver matches devices based on their class and subclass, not on their 
vendor and product ID. UVC compatible cameras should be supported out of the 
box without any need to modify the driver.

-- 
Regards,

Laurent Pinchart


From luisfelipezeni at gmail.com  Tue Mar 23 21:12:22 2010
From: luisfelipezeni at gmail.com (Luis Felipe Zeni)
Date: Tue, 23 Mar 2010 17:12:22 -0300
Subject: [Linux-uvc-devel] turn off the autofocus
Message-ID: <7aed453b1003231312g539e8e93n21daccb4f8d5a06b@mail.gmail.com>

Hello,

i have a Microsoft Lifecam Cinema and it works very well with the driver. My
question is:

Is possible turn off the autofocus by software?

thanks
-- 
Atenciosamente
-------------------------------------------
Luis Felipe de Araujo Zeni
(51) 8409 - 0825
www.luiszeni.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100323/c24efe39/attachment.html>

From fcrob.robinson at gmail.com  Thu Mar 25 18:35:21 2010
From: fcrob.robinson at gmail.com (Frederic Robinson II)
Date: Thu, 25 Mar 2010 13:35:21 -0400
Subject: [Linux-uvc-devel] cam support request!
Message-ID: <b5c975f1003251035o288b3f64ic1dfc44b7d5f80f0@mail.gmail.com>

Creative Live! Pro    ID 041e:4038

Here's my complete lsusb output.  It'd be awesome if it would be supported
soon  (^_^)

if it's been tried and its just a hassle, just lmk

i'll go buy a compatible device.


Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 002 Device 003: ID 04fc:05d8 Sunplus Technology Co., Ltd
Bus 002 Device 002: ID 15ca:00c3 Textech International Ltd. Mini Optical
Mouse
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 001 Device 003: ID 041e:4038 Creative Technology, Ltd ORITE CCD Webcam
[PC370R]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100325/987f9182/attachment.html>

From ustarkhanov at gmail.com  Mon Mar 29 02:28:09 2010
From: ustarkhanov at gmail.com (hadzhimurad ustarkhanov)
Date: Mon, 29 Mar 2010 01:28:09 +0100
Subject: [Linux-uvc-devel] Syntek STK-1135 174f:6a31 driver support
Message-ID: <f2d434a91003281728s4149d084o12c1a4885655b96e@mail.gmail.com>

Hi.
I have a laptop Asus F5R with web camera Syntek DC-1135 but I cant find
fully working driver.
There is one http://syntekdriver.sourceforge.net/ , but its not stable, and
developer dont want to support it.

My device is:

[hadzhimurad at hmws:~] lsusb | grep Syntek
Bus 001 Device 004: ID 174f:6a31 Syntek Web Cam - Asus A8J, F3S, F5R, VX2S,
V1S

I find many devices, which supports by UVC driver, could you add support
this camera in the UVC driver?

Regards,
Hadzhimurad
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100329/bd568471/attachment.html>

From gallonfr at gmail.com  Mon Mar 29 15:54:37 2010
From: gallonfr at gmail.com (Gallon Fr)
Date: Mon, 29 Mar 2010 21:54:37 +0800
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT successfully
	on host PC, yet 	failed on target ARM dev-board.
Message-ID: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>

Hi,all:

I got a problem while I was trying to capture a frame through a webcam
on a dev-board.I just followed the example provided by V4L2 specs and
made a little change in the process_image() function.The code runs
well on my PC,and I can exactly get a converted BMP file after setting
the image format to "YUYV".
  But when port it to ARM, I just got the "Invalid Argument" error
returned by VIDIOC_S_FMT.I tried with the G_FMT ioctl both on PC and
ARM and the result confused me.While on ARM the returned supported
format is "MJPG",rather than "YUYV" on PC and that's why the S_FMT
complained.

 Maybe this's a noob question cuz I'm new to linux,but if anyone happen
to know some resolution or give me a hint,it'd be a great help.

Thanks and Regards
Fei

Here is some info about my environment.
--------------------------------------
host-pc: Fedora 12( kernel 2.6.31.5)
target-arm: mini2440 (kernel 2.6.32.2) EABI enabled/V4L enabled/gspca
enabled/uvc enabled
--------------------------------------
Terminal message when I plug the cam into the BOARD

usb 1-1: new full speed USB device using s3c2410-ohci and address 5
usb 1-1: New USB device found, idVendor=0c45, idProduct=62f0
usb 1-1: New USB device strings: Mfr=2, Product=1, SerialNumber=0
usb 1-1: Product: USB 2.0 Camera
usb 1-1: Manufacturer: Sonix Technology Co., Ltd.
usb 1-1: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device USB 2.0 Camera (0c45:62f0)
--------------------------------------
Luvcview message on PC

luvcview 0.2.6
SDL information:
  Video driver: x11
  A window manager is available
Device information:
  Device path:  /dev/video0
/dev/video0 does not support read i/o
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
	Time interval between frame: 1/30, 1/25, 1/20, 1/15, 1/10, 1/5,
{ discrete: width = 320, height = 240 }
	Time interval between frame: 1/30, 1/25, 1/20, 1/15, 1/10, 1/5,
{ discrete: width = 160, height = 120 }
	Time interval between frame: 1/30, 1/25, 1/20, 1/15, 1/10, 1/5,
---------------------------------------
ENUM_FMT returned value on the BOARD

fmt=0x47504a4d ('MJPG')
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100329/aca15b4f/attachment.html>

From pj.assis at gmail.com  Mon Mar 29 17:14:37 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Mon, 29 Mar 2010 16:14:37 +0100
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
Message-ID: <59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>

Hi,
Do you know if in the ARM board you are using a usb1.1 port?
Some devices only support MJPG on slow usb ports, in this case on usb2
ports both formats should be available.

Best regards,
Paulo

2010/3/29 Gallon Fr <gallonfr at gmail.com>:
> Hi,all:
>
> I got a problem while I was trying to capture a frame through a webcam
> on a dev-board.I just followed the example provided by V4L2 specs and
> made a little change in the process_image() function.The code runs
>
> well on my PC,and I can exactly get a converted BMP file after setting
> the image format to "YUYV".
>   But when port it to ARM, I just got the "Invalid Argument" error
> returned by VIDIOC_S_FMT.I tried with the G_FMT ioctl both on PC and
>
> ARM and the result confused me.While on ARM the returned supported
> format is "MJPG",rather than "YUYV" on PC and that's why the S_FMT
> complained.
>
>  Maybe this's a noob question cuz I'm new to linux,but if anyone happen
>
> to know some resolution or give me a hint,it'd be a great help.
>
> Thanks and Regards
> Fei
>
> Here is some info about my environment.
> --------------------------------------
> host-pc: Fedora 12( kernel 2.6.31.5)
>
> target-arm: mini2440 (kernel 2.6.32.2) EABI enabled/V4L enabled/gspca
> enabled/uvc enabled
> --------------------------------------
> Terminal message when I plug the cam into the BOARD
>
> usb 1-1: new full speed USB device using s3c2410-ohci and address 5
>
> usb 1-1: New USB device found, idVendor=0c45, idProduct=62f0
> usb 1-1: New USB device strings: Mfr=2, Product=1, SerialNumber=0
> usb 1-1: Product: USB 2.0 Camera
> usb 1-1: Manufacturer: Sonix Technology Co., Ltd.
>
> usb 1-1: configuration #1 chosen from 1 choice
> uvcvideo: Found UVC 1.00 device USB 2.0 Camera (0c45:62f0)
> --------------------------------------
> Luvcview message on PC
>
> luvcview 0.2.6
>
> SDL information:
>   Video driver: x11
>   A window manager is available
> Device information:
>   Device path:  /dev/video0
> /dev/video0 does not support read i/o
> { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
>
> { discrete: width = 640, height = 480 }
> 	Time interval between frame: 1/30, 1/25, 1/20, 1/15, 1/10, 1/5,
> { discrete: width = 320, height = 240 }
> 	Time interval between frame: 1/30, 1/25, 1/20, 1/15, 1/10, 1/5,
>
> { discrete: width = 160, height = 120 }
> 	Time interval between frame: 1/30, 1/25, 1/20, 1/15, 1/10, 1/5,
> ---------------------------------------
> ENUM_FMT returned value on the BOARD
>
> fmt=0x47504a4d ('MJPG')
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>


From R.E.Wolff at BitWizard.nl  Mon Mar 29 18:27:23 2010
From: R.E.Wolff at BitWizard.nl (Rogier Wolff)
Date: Mon, 29 Mar 2010 18:27:23 +0200
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
	<59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>
Message-ID: <20100329162723.GD6398@bitwizard.nl>

On Mon, Mar 29, 2010 at 04:14:37PM +0100, Paulo Assis wrote:
> Hi,
> Do you know if in the ARM board you are using a usb1.1 port?

/that/ we know: 

> > usb 1-1: new full speed USB device using s3c2410-ohci and address 5

Roger. 

-- 
** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ ** +31-15-2600998 **
**    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233    **
*-- BitWizard writes Linux device drivers for any device you may have! --*
Q: It doesn't work. A: Look buddy, doesn't work is an ambiguous statement. 
Does it sit on the couch all day? Is it unemployed? Please be specific! 
Define 'it' and what it isn't doing. --------- Adapted from lxrbot FAQ


From palmax at gmail.com  Tue Mar 30 00:22:09 2010
From: palmax at gmail.com (Palmax Maverick)
Date: Tue, 30 Mar 2010 00:22:09 +0200
Subject: [Linux-uvc-devel] Linux-uvc-devel Digest, Vol 45, Issue 18
In-Reply-To: <mailman.45.1269856808.25481.linux-uvc-devel@lists.berlios.de>
References: <mailman.45.1269856808.25481.linux-uvc-devel@lists.berlios.de>
Message-ID: <209499a1003291522w402ef8a7h257a88bfca78c22c@mail.gmail.com>

Hello

I think that you may use a "# lsusb -d 174f:6a31 -v" for search a line as:
      bInterfaceClass        14 Video

Or you may use guvcview program for trying to get a video stream from
your webcam using linux-uvc.

Bye
Palmax

2010/3/29  <linux-uvc-devel-request at lists.berlios.de>:
> Send Linux-uvc-devel mailing list submissions to
> ? ? ? ?linux-uvc-devel at lists.berlios.de
>
> To subscribe or unsubscribe via the World Wide Web, visit
> ? ? ? ?https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> or, via email, send a message with subject or body 'help' to
> ? ? ? ?linux-uvc-devel-request at lists.berlios.de
>
> You can reach the person managing the list at
> ? ? ? ?linux-uvc-devel-owner at lists.berlios.de
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of Linux-uvc-devel digest..."
>
>
> Today's Topics:
>
> ? 1. Syntek STK-1135 174f:6a31 driver support (hadzhimurad ustarkhanov)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 29 Mar 2010 01:28:09 +0100
> From: hadzhimurad ustarkhanov <ustarkhanov at gmail.com>
> To: linux-uvc-devel at lists.berlios.de
> Subject: [Linux-uvc-devel] Syntek STK-1135 174f:6a31 driver support
> Message-ID:
> ? ? ? ?<f2d434a91003281728s4149d084o12c1a4885655b96e at mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Hi.
> I have a laptop Asus F5R with web camera Syntek DC-1135 but I cant find
> fully working driver.
> There is one http://syntekdriver.sourceforge.net/ , but its not stable, and
> developer dont want to support it.
>
> My device is:
>
> [hadzhimurad at hmws:~] lsusb | grep Syntek
> Bus 001 Device 004: ID 174f:6a31 Syntek Web Cam - Asus A8J, F3S, F5R, VX2S,
> V1S
>
> I find many devices, which supports by UVC driver, could you add support
> this camera in the UVC driver?
>
> Regards,
> Hadzhimurad
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100329/bd568471/attachment-0001.html>
>
> ------------------------------
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
> End of Linux-uvc-devel Digest, Vol 45, Issue 18
> ***********************************************
>


From ustarkhanov at gmail.com  Tue Mar 30 02:31:32 2010
From: ustarkhanov at gmail.com (hadzhimurad ustarkhanov)
Date: Tue, 30 Mar 2010 01:31:32 +0100
Subject: [Linux-uvc-devel] Fwd:  Linux-uvc-devel Digest, Vol 45, Issue 18
In-Reply-To: <f2d434a91003291729q5f43eb03o1efc7f41dd9be17e@mail.gmail.com>
References: <mailman.45.1269856808.25481.linux-uvc-devel@lists.berlios.de>
	<209499a1003291522w402ef8a7h257a88bfca78c22c@mail.gmail.com>
	<f2d434a91003291729q5f43eb03o1efc7f41dd9be17e@mail.gmail.com>
Message-ID: <f2d434a91003291731q61054dcdncbd48c4573ba9770@mail.gmail.com>

---------- Forwarded message ----------
From: hadzhimurad ustarkhanov <ustarkhanov at gmail.com>
Date: Tue, Mar 30, 2010 at 1:29 AM
Subject: Re: [Linux-uvc-devel] Linux-uvc-devel Digest, Vol 45, Issue 18
To: Palmax Maverick <palmax at gmail.com>


[root at hmws:~] lsusb -d 174f:6a31 -v | grep bInterfaceClass
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceClass       255 Vendor Specific Class

As you see I couldnt find line "bInterfaceClass        14 Video"
Maybe because driver doesnt support this device?
I ask developers to add support devices from
http://syntekdriver.sourceforge.net/ . Because nobody wants to support this
devices.
I am ready to test and help developers.

There http://hadzhimurad.ustarkhanov.com/stk-1135.txt is full result of
"lsusb -d 174f:6a31 -v"

Thank you.


On Mon, Mar 29, 2010 at 11:22 PM, Palmax Maverick <palmax at gmail.com> wrote:

> Hello
>
> I think that you may use a "# lsusb -d 174f:6a31 -v" for search a line as:
>      bInterfaceClass        14 Video
>
> Or you may use guvcview program for trying to get a video stream from
> your webcam using linux-uvc.
>
> Bye
> Palmax
>
> 2010/3/29  <linux-uvc-devel-request at lists.berlios.de>:
> > Send Linux-uvc-devel mailing list submissions to
> >        linux-uvc-devel at lists.berlios.de
> >
> > To subscribe or unsubscribe via the World Wide Web, visit
> >        https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> > or, via email, send a message with subject or body 'help' to
> >        linux-uvc-devel-request at lists.berlios.de
> >
> > You can reach the person managing the list at
> >        linux-uvc-devel-owner at lists.berlios.de
> >
> > When replying, please edit your Subject line so it is more specific
> > than "Re: Contents of Linux-uvc-devel digest..."
> >
> >
> > Today's Topics:
> >
> >   1. Syntek STK-1135 174f:6a31 driver support (hadzhimurad ustarkhanov)
> >
> >
> > ----------------------------------------------------------------------
> >
> > Message: 1
> > Date: Mon, 29 Mar 2010 01:28:09 +0100
> > From: hadzhimurad ustarkhanov <ustarkhanov at gmail.com>
> > To: linux-uvc-devel at lists.berlios.de
> > Subject: [Linux-uvc-devel] Syntek STK-1135 174f:6a31 driver support
> > Message-ID:
> >        <f2d434a91003281728s4149d084o12c1a4885655b96e at mail.gmail.com>
> > Content-Type: text/plain; charset="iso-8859-1"
> >
> > Hi.
> > I have a laptop Asus F5R with web camera Syntek DC-1135 but I cant find
> > fully working driver.
> > There is one http://syntekdriver.sourceforge.net/ , but its not stable,
> and
> > developer dont want to support it.
> >
> > My device is:
> >
> > [hadzhimurad at hmws:~] lsusb | grep Syntek
> > Bus 001 Device 004: ID 174f:6a31 Syntek Web Cam - Asus A8J, F3S, F5R,
> VX2S,
> > V1S
> >
> > I find many devices, which supports by UVC driver, could you add support
> > this camera in the UVC driver?
> >
> > Regards,
> > Hadzhimurad
> > -------------- next part --------------
> > An HTML attachment was scrubbed...
> > URL: <
> https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100329/bd568471/attachment-0001.html
> >
> >
> > ------------------------------
> >
> > _______________________________________________
> > Linux-uvc-devel mailing list
> > Linux-uvc-devel at lists.berlios.de
> > https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> >
> >
> > End of Linux-uvc-devel Digest, Vol 45, Issue 18
> > ***********************************************
> >
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100330/f926d623/attachment.html>

From pj.assis at gmail.com  Tue Mar 30 10:16:08 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 30 Mar 2010 09:16:08 +0100
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <20100329162723.GD6398@bitwizard.nl>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
	<59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>
	<20100329162723.GD6398@bitwizard.nl>
Message-ID: <59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>

Roger Hi,

>> > usb 1-1: new full speed USB device using s3c2410-ohci and address 5
>

I think this explains why you only have MJPG on the ARM board.
YUYV requires a higher bandwidth, so it's only available in usb2.

But MJPG should also be available with usb2 and from what I understand
you only have YUYV ?
If this is true then its a bit strange.

Best regards,
Paulo


From pj.assis at gmail.com  Tue Mar 30 10:20:57 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 30 Mar 2010 09:20:57 +0100
Subject: [Linux-uvc-devel] Fwd: Linux-uvc-devel Digest, Vol 45, Issue 18
In-Reply-To: <f2d434a91003291731q61054dcdncbd48c4573ba9770@mail.gmail.com>
References: <mailman.45.1269856808.25481.linux-uvc-devel@lists.berlios.de>
	<209499a1003291522w402ef8a7h257a88bfca78c22c@mail.gmail.com>
	<f2d434a91003291729q5f43eb03o1efc7f41dd9be17e@mail.gmail.com>
	<f2d434a91003291731q61054dcdncbd48c4573ba9770@mail.gmail.com>
Message-ID: <59cf47a81003300120u43bc5710ib959455cdccdc803@mail.gmail.com>

Hi,

> [root at hmws:~] lsusb -d 174f:6a31 -v | grep bInterfaceClass
> ????? bInterfaceClass?????? 255 Vendor Specific Class

Your device is not uvc compliant as such it cannot be supported by the
uvc driver.

Try following these instructions:

http://ubuntuforums.org/showthread.php?t=1081667

Best regards,
Paulo


From pj.assis at gmail.com  Tue Mar 30 13:39:30 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 30 Mar 2010 12:39:30 +0100
Subject: [Linux-uvc-devel] Fwd: Linux-uvc-devel Digest, Vol 45, Issue 18
In-Reply-To: <f2d434a91003300343gf279d2bk647ae28926b5f794@mail.gmail.com>
References: <mailman.45.1269856808.25481.linux-uvc-devel@lists.berlios.de>
	<209499a1003291522w402ef8a7h257a88bfca78c22c@mail.gmail.com>
	<f2d434a91003291729q5f43eb03o1efc7f41dd9be17e@mail.gmail.com>
	<f2d434a91003291731q61054dcdncbd48c4573ba9770@mail.gmail.com>
	<59cf47a81003300120u43bc5710ib959455cdccdc803@mail.gmail.com>
	<f2d434a91003300343gf279d2bk647ae28926b5f794@mail.gmail.com>
Message-ID: <59cf47a81003300439v806c4edy122c6440f2340cbe@mail.gmail.com>

Hi,

2010/3/30 hadzhimurad ustarkhanov <ustarkhanov at gmail.com>:
> Hi,
> but I see that driver for Asus F9SG (174f:8a31) supports by UVC.
> It`s impossible to add devices from stk11 to UVC ?

A device can be UVC compliant or not, in the case for your device it's not.
UVC is a open specification for usb video devices, many cameras
(almost all new models) are now built according to the UVC spec.
Still some camera models (mostly older ones) have a vendor specific
interface, so they need a specific driver for them, this is the case
of your device.


Best regards,
Paulo


From lordbah at lordbah.com  Tue Mar 30 15:40:23 2010
From: lordbah at lordbah.com (Jeff Van Epps)
Date: Tue, 30 Mar 2010 09:40:23 -0400
Subject: [Linux-uvc-devel] OmniVision / I've screwed my system
Message-ID: <4BB1FF47.9080107@lordbah.com>

I am having trouble getting the OmniVision webcam in the Dell SP2309W
monitor to work under Ubuntu 9.10. Others have reported that the video
works right out of the box but they have problems with the audio. I
don't know why my situation would be any different, but it is.

Bus 005 Device 006: ID 05a9:2649 OmniVision Technologies, Inc.

I'd like to include luvcview -L output here but it has scrolled away and
my attempts to correct the situation have left me unable to run it any
more. It said there was one supported format, MJPG, at various
resolutions and frame rate of variously 1/15 or 2/15. But even with -f
mjpg it would not work. However, we probably can't debug that until I
can fix my drivers.

How I messed up my system: I had source downloaded a couple of months
ago and built it

make release
make
make install

At this point a modprobe uvcvideo fails:

FATAL: Error inserting uvcvideo
(/lib/modules/2.6.31-21-generic/kernel/drivers/media/video/uvc/uvcvideo.ko):
Unknown symbol in module, or unknown parameter (see dmesg)

dmesg says:

[165394.669479] uvcvideo: disagrees about version of symbol video_devdata
[165394.669486] uvcvideo: Unknown symbol video_devdata
[165394.670453] uvcvideo: disagrees about version of symbol
video_unregister_device
[165394.670457] uvcvideo: Unknown symbol video_unregister_device
[165394.670751] uvcvideo: disagrees about version of symbol
video_device_alloc
[165394.670754] uvcvideo: Unknown symbol video_device_alloc
[165394.671023] uvcvideo: disagrees about version of symbol
video_register_device
[165394.671026] uvcvideo: Unknown symbol video_register_device
[165394.671754] uvcvideo: disagrees about version of symbol
video_device_release
[165394.671757] uvcvideo: Unknown symbol video_device_release

Wanting to get back to my previous state:

make rminstall

and I put back the uvcvideo.ko which was present before I ever compiled
anything. But modprobe uvcvideo now fails with:

WARNING: Could not open
'/lib/modules/2.6.31-21-generic/kernel/drivers/media/video/v4l1-compat.ko':
No such file or directory
WARNING: Could not open
'/lib/modules/2.6.31-21-generic/kernel/drivers/media/video/videodev.ko':
No such file or directory

Apparently I did something wrong. How can I get back to some sane state?


-- 
Jeff Van Epps




From pj.assis at gmail.com  Tue Mar 30 16:08:33 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 30 Mar 2010 15:08:33 +0100
Subject: [Linux-uvc-devel] OmniVision / I've screwed my system
In-Reply-To: <4BB1FF47.9080107@lordbah.com>
References: <4BB1FF47.9080107@lordbah.com>
Message-ID: <59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>

Jeff Hi,

You should have followed the v4l-dvb wiki:
http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-DVB_Device_Drivers

you now have mixed modules (new and old) and this is causing the errors.

get mercurial, the kernel headers and the full v4l tree from linuxtv.

from the top of the hg tree:

make rminstall
make distclean
sudo make menuconfig       <--- disable fireDTV or you will end up
with errors when building
make
sudo make install
sudo make unload
sudo modprobe uvcvideo


Best regards,
Paulo

2010/3/30 Jeff Van Epps <lordbah at lordbah.com>:
> I am having trouble getting the OmniVision webcam in the Dell SP2309W
> monitor to work under Ubuntu 9.10. Others have reported that the video
> works right out of the box but they have problems with the audio. I
> don't know why my situation would be any different, but it is.
>
> Bus 005 Device 006: ID 05a9:2649 OmniVision Technologies, Inc.
>
> I'd like to include luvcview -L output here but it has scrolled away and
> my attempts to correct the situation have left me unable to run it any
> more. It said there was one supported format, MJPG, at various
> resolutions and frame rate of variously 1/15 or 2/15. But even with -f
> mjpg it would not work. However, we probably can't debug that until I
> can fix my drivers.
>
> How I messed up my system: I had source downloaded a couple of months
> ago and built it
>
> make release
> make
> make install
>
> At this point a modprobe uvcvideo fails:
>
> FATAL: Error inserting uvcvideo
> (/lib/modules/2.6.31-21-generic/kernel/drivers/media/video/uvc/uvcvideo.ko):
> Unknown symbol in module, or unknown parameter (see dmesg)
>
> dmesg says:
>
> [165394.669479] uvcvideo: disagrees about version of symbol video_devdata
> [165394.669486] uvcvideo: Unknown symbol video_devdata
> [165394.670453] uvcvideo: disagrees about version of symbol
> video_unregister_device
> [165394.670457] uvcvideo: Unknown symbol video_unregister_device
> [165394.670751] uvcvideo: disagrees about version of symbol
> video_device_alloc
> [165394.670754] uvcvideo: Unknown symbol video_device_alloc
> [165394.671023] uvcvideo: disagrees about version of symbol
> video_register_device
> [165394.671026] uvcvideo: Unknown symbol video_register_device
> [165394.671754] uvcvideo: disagrees about version of symbol
> video_device_release
> [165394.671757] uvcvideo: Unknown symbol video_device_release
>
> Wanting to get back to my previous state:
>
> make rminstall
>
> and I put back the uvcvideo.ko which was present before I ever compiled
> anything. But modprobe uvcvideo now fails with:
>
> WARNING: Could not open
> '/lib/modules/2.6.31-21-generic/kernel/drivers/media/video/v4l1-compat.ko':
> No such file or directory
> WARNING: Could not open
> '/lib/modules/2.6.31-21-generic/kernel/drivers/media/video/videodev.ko':
> No such file or directory
>
> Apparently I did something wrong. How can I get back to some sane state?
>
>
> --
> Jeff Van Epps
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From lordbah at lordbah.com  Tue Mar 30 18:04:52 2010
From: lordbah at lordbah.com (Jeff Van Epps)
Date: Tue, 30 Mar 2010 12:04:52 -0400
Subject: [Linux-uvc-devel] OmniVision / I've screwed my system
In-Reply-To: <59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>
References: <4BB1FF47.9080107@lordbah.com>
	<59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>
Message-ID: <4BB22124.6030000@lordbah.com>

Thanks. Just what I needed. That gets me back to where I was before.

BTW, I wrote a poor request for help. I omitted these items:
     my kernel is 2.6.31-21-generic
    the original problem was that using Cheese 2.28.1 and all other
programs I've tried, I got "I/O error"
    before I tried to "fix" anything, the uvcvideo driver version was 256

$ luvcview -L
luvcview 0.2.4

SDL information:
  Video driver: x11
  A window manager is available
Device information:
  Device path:  /dev/video0
/dev/video0 does not support read i/o
{ pixelformat = 'MJPG', description = 'MJPEG' }
{ discrete: width = 352, height = 288 }
    Time interval between frame: 2/15,
{ discrete: width = 160, height = 120 }
    Time interval between frame: 1/15,
{ discrete: width = 176, height = 144 }
    Time interval between frame: 1/15,
{ discrete: width = 320, height = 240 }
    Time interval between frame: 1/15,
{ discrete: width = 640, height = 480 }
    Time interval between frame: 2/15,

$ luvcview -f mjpg
luvcview 0.2.4

SDL information:
  Video driver: x11
  A window manager is available
Device information:
  Device path:  /dev/video0
Stream settings:
  Frame format: MJPG
  Frame size:   640x480
  Frame rate:   15/2 fps (requested frame rate 30 fps is not supported
by device)
Unable to start capture: Input/output error
Error grabbing
Cleanup done. Exiting ...

$ luvcview -f mjpg -i 7.5
luvcview 0.2.4

Invalid frame rate '7.5' specified with -i. Only integers are supported.
Aborting.

Okay, guess I have to step down the resolution.

$ luvcview -f mjpg -s 320x240 -i 15
luvcview 0.2.4

SDL information:
  Video driver: x11
  A window manager is available
Device information:
  Device path:  /dev/video0
Stream settings:
  Frame format: MJPG
  Frame size:   320x240
  Frame rate:   15 fps
Unable to start capture: Input/output error
Error grabbing
Cleanup done. Exiting ...

Bah.

$ cheese -v
Cheese 2.28.1
Probing devices with HAL...
Found device 05a9:2649, getting capabilities...
Detected v4l2 device: Monitor Webcam
Driver: uvcvideo, version: 256
Capabilities: 0x04000001

Probing supported video formats...
libv4l2: error turning on stream: Input/output error

Okay, I don't know why this still saves uvcvideo version 256, same as it
did before. Where is that coming from?

Most significantly, why the I/O error?

(Wow. menuconfig isn't at all daunting, is it? Yikes. Finally found
FireDTV under Multimedia Support / DVB/ATSC adapters and excluded it.)

Paulo Assis wrote:
> Jeff Hi,
>
> You should have followed the v4l-dvb wiki:
> http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-DVB_Device_Drivers
>
> you now have mixed modules (new and old) and this is causing the errors.
>
> get mercurial, the kernel headers and the full v4l tree from linuxtv.
>
> from the top of the hg tree:
>
> make rminstall
> make distclean
> sudo make menuconfig       <--- disable fireDTV or you will end up
> with errors when building
> make
> sudo make install
> sudo make unload
> sudo modprobe uvcvideo
>
>   




From andrej.skvortzov at gmail.com  Tue Mar 30 19:49:39 2010
From: andrej.skvortzov at gmail.com (Andrey Skvortsov)
Date: Tue, 30 Mar 2010 21:49:39 +0400
Subject: [Linux-uvc-devel] A4Tech PK-333E is supported by uvc
Message-ID: <1269971379.4709.26.camel@andrew-laptop>

Hi!

The webcam works perfect out of the box. I've tested it with skype and
cheese. All is right. Shot button works in cheese also perfect. 
Thank you for a good job!

here is some information about webcam.

$ lsusb -v -s 2:7


Bus 002 Device 007: ID 0ac8:3450 Z-Star Microelectronics Corp. 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x0ac8 Z-Star Microelectronics Corp.
  idProduct          0x3450 
  bcdDevice            1.a2
  iManufacturer           1 A4 TECH Corp.
  iProduct                2 A4 TECH USB2.0 PC Camera E
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          481
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              320mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               2 A4 TECH USB2.0 PC Camera E
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              2 A4 TECH USB2.0 PC Camera E
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           79
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x0002002a
          Auto-Exposure Mode
          Exposure Time (Absolute)
          Focus (Absolute)
          Focus, Auto
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 2
        bSourceID               1
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000177b
          Brightness
          Contrast
          Saturation
          Sharpness
          Gamma
          White Balance Temperature
          Backlight Compensation
          Gain
          Power Line Frequency
          White Balance Temperature, Auto
        iProcessing             0 
        bmVideoStandards     0x 9
          None
          SECAM - 625/50
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0 
      VideoControl Interface Descriptor:
        bLength                28
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 4
        guidExtensionCode         {5dc717a9-1941-da11-ae0e-000d56ac7b4c}
        bNumControl             8
        bNrPins                 1
        baSourceID( 0)          1
        bControlSize            3
        bmControls( 0)       0x59
        bmControls( 1)       0x80
        bmControls( 2)       0x80
        iExtension              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x000a  1x 10 bytes
        bInterval               5
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                         1
        wTotalLength                      243
        bEndPointAddress                  130
        bmInfo                              0
        bTerminalLink                       3
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666667
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666667
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666667
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666667
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x00
          Still image unsupported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   768000
        dwMaxBitRate                196608000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  2
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666667
      VideoStreaming Interface Descriptor:
        bLength                            26
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               5
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        352
        wHeight( 1)                       288
        wWidth( 2)                        320
        wHeight( 2)                       240
        wWidth( 3)                        176
        wHeight( 3)                       144
        wWidth( 4)                        160
        wHeight( 4)                       120
        bNumCompressionPatterns             5
      VideoStreaming Interface Descriptor:
        bLength                             6
        bDescriptorType                    36
        bDescriptorSubtype                 13 (COLORFORMAT)
        bColorPrimaries                     0 (Unspecified)
        bTransferCharacteristics            0 (Unspecified)
        bMatrixCoefficients                 0 (Unspecified)
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0400  1x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0b00  2x 768 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       5
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0c00  2x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       6
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1380  3x 896 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       7
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)



-- 
Best regards.
Andrey Skvortsov
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100330/236f11c6/attachment.pgp>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/x-pkcs7-signature
Size: 3161 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100330/236f11c6/attachment.bin>

From pj.assis at gmail.com  Tue Mar 30 23:23:33 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Tue, 30 Mar 2010 22:23:33 +0100
Subject: [Linux-uvc-devel] OmniVision / I've screwed my system
In-Reply-To: <4BB22124.6030000@lordbah.com>
References: <4BB1FF47.9080107@lordbah.com>
	<59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>
	<4BB22124.6030000@lordbah.com>
Message-ID: <59cf47a81003301423w2d66d4fdsacb525e01e71b8fc@mail.gmail.com>

Jeff Hi,

2010/3/30 Jeff Van Epps <lordbah at lordbah.com>:
> Thanks. Just what I needed. That gets me back to where I was before.
>
> BTW, I wrote a poor request for help. I omitted these items:
> ? ? my kernel is 2.6.31-21-generic
> ? ?the original problem was that using Cheese 2.28.1 and all other
> programs I've tried, I got "I/O error"
> ? ?before I tried to "fix" anything, the uvcvideo driver version was 256

I wouldn't trust the driver version much, I'm not sure if this is
updated between kernel releases.

>
> $ luvcview -L
> luvcview 0.2.4
>
> SDL information:
> ?Video driver: x11
> ?A window manager is available
> Device information:
> ?Device path: ?/dev/video0
> /dev/video0 does not support read i/o
> { pixelformat = 'MJPG', description = 'MJPEG' }
> { discrete: width = 352, height = 288 }
> ? ?Time interval between frame: 2/15,
> { discrete: width = 160, height = 120 }
> ? ?Time interval between frame: 1/15,
> { discrete: width = 176, height = 144 }
> ? ?Time interval between frame: 1/15,
> { discrete: width = 320, height = 240 }
> ? ?Time interval between frame: 1/15,
> { discrete: width = 640, height = 480 }
> ? ?Time interval between frame: 2/15,
>

humm, strange values here, most cameras will support several fps
values for each resolution.


> $ luvcview -f mjpg
> luvcview 0.2.4
>
> SDL information:
> ?Video driver: x11
> ?A window manager is available
> Device information:
> ?Device path: ?/dev/video0
> Stream settings:
> ?Frame format: MJPG
> ?Frame size: ? 640x480
> ?Frame rate: ? 15/2 fps (requested frame rate 30 fps is not supported
> by device)
> Unable to start capture: Input/output error
> Error grabbing
> Cleanup done. Exiting ...
>
> $ luvcview -f mjpg -i 7.5
> luvcview 0.2.4
>
> Invalid frame rate '7.5' specified with -i. Only integers are supported.
> Aborting.
>

luvcview doesn't support float values, try using guvcview (
http://guvcview.berlios.de ), it should set fps automatically, and you
can change the device parameters from the gui.



> Okay, guess I have to step down the resolution.
>
> $ luvcview -f mjpg -s 320x240 -i 15
> luvcview 0.2.4
>
> SDL information:
> ?Video driver: x11
> ?A window manager is available
> Device information:
> ?Device path: ?/dev/video0
> Stream settings:
> ?Frame format: MJPG
> ?Frame size: ? 320x240
> ?Frame rate: ? 15 fps
> Unable to start capture: Input/output error
> Error grabbing
> Cleanup done. Exiting ...
>

can you increase the driver verbosity and check dmesg output for
uvcvideo errors/warnings ?
do it like this:
create a file named uvcvideo.conf in /etc/modprobe.d
add the following line:
options uvcvideo trace=255

now run:
sudo rmmod uvcvideo
sudo modprobe uvcvideo

now launch guvcview or luvcview and check dmesg output.



> Bah.
>
> $ cheese -v
> Cheese 2.28.1
> Probing devices with HAL...
> Found device 05a9:2649, getting capabilities...
> Detected v4l2 device: Monitor Webcam
> Driver: uvcvideo, version: 256
> Capabilities: 0x04000001
>
> Probing supported video formats...
> libv4l2: error turning on stream: Input/output error
>
> Okay, I don't know why this still saves uvcvideo version 256, same as it
> did before. Where is that coming from?
>

Like I said I wouldn't trust the version info much


> Most significantly, why the I/O error?
>

Please check dmesg, some cameras are buggy and may need a workaround
to work properly, others are so buggy that they just wont work at all.


> (Wow. menuconfig isn't at all daunting, is it? Yikes. Finally found
> FireDTV under Multimedia Support / DVB/ATSC adapters and excluded it.)

Sorry, I should have told you were to find it, I'm glad you figure it out. :-)


Regards,
Paulo

>
> Paulo Assis wrote:
>> Jeff Hi,
>>
>> You should have followed the v4l-dvb wiki:
>> http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-DVB_Device_Drivers
>>
>> you now have mixed modules (new and old) and this is causing the errors.
>>
>> get mercurial, the kernel headers and the full v4l tree from linuxtv.
>>
>> from the top of the hg tree:
>>
>> make rminstall
>> make distclean
>> sudo make menuconfig ? ? ? <--- disable fireDTV or you will end up
>> with errors when building
>> make
>> sudo make install
>> sudo make unload
>> sudo modprobe uvcvideo
>>
>>
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From lordbah at lordbah.com  Wed Mar 31 00:39:32 2010
From: lordbah at lordbah.com (Jeff Van Epps)
Date: Tue, 30 Mar 2010 18:39:32 -0400
Subject: [Linux-uvc-devel] OmniVision / I've screwed my system
In-Reply-To: <59cf47a81003301423w2d66d4fdsacb525e01e71b8fc@mail.gmail.com>
References: <4BB1FF47.9080107@lordbah.com>	
	<59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>	
	<4BB22124.6030000@lordbah.com>
	<59cf47a81003301423w2d66d4fdsacb525e01e71b8fc@mail.gmail.com>
Message-ID: <4BB27DA4.3090102@lordbah.com>

$ luvcview -f mjpg -s 320x240 -i 15
luvcview 0.2.4

SDL information:
  Video driver: x11
  A window manager is available
Device information:
  Device path:  /dev/video0
Stream settings:
  Frame format: MJPG
  Frame size:   320x240
  Frame rate:   15 fps
Unable to start capture: Input/output error
Error grabbing
Cleanup done. Exiting ...

--dmesg output below--

[199009.851002] uvcvideo: Adding mapping Brightness to control f81155d0/2.
[199009.851021] uvcvideo: Adding mapping Contrast to control f81155f8/3.
[199009.851025] uvcvideo: Adding mapping Hue to control f8115620/6.
[199009.851030] uvcvideo: Adding mapping Saturation to control f8115648/7.
[199009.851034] uvcvideo: Adding mapping Sharpness to control f8115670/8.
[199009.851039] uvcvideo: Adding mapping Gamma to control f8115698/9.
[199009.851044] uvcvideo: Adding mapping Backlight Compensation to
control f8115710/1.
[199009.851049] uvcvideo: Adding mapping Gain to control f8115738/4.
[199009.851054] uvcvideo: Adding mapping Power Line Frequency to control
f8115760/5.
[199009.851060] uvcvideo: Adding mapping Hue, Auto to control f8115788/16.
[199009.851066] uvcvideo: Adding mapping Exposure, Auto to control
f81158c8/2.
[199009.851073] uvcvideo: Adding mapping Exposure, Auto Priority to
control f81158f0/3.
[199009.851080] uvcvideo: Adding mapping Exposure (Absolute) to control
f8115918/4.
[199009.851085] uvcvideo: Adding mapping White Balance Temperature, Auto
to control f81157b0/11.
[199009.851090] uvcvideo: Adding mapping White Balance Temperature to
control f81156c0/10.
[199009.851096] uvcvideo: Adding mapping White Balance Component, Auto
to control f81157d8/13.
[199009.851102] uvcvideo: Adding mapping White Balance Blue Component to
control f81156e8/12.
[199009.851107] uvcvideo: Adding mapping White Balance Red Component to
control f81156e8/12.
[199009.851114] uvcvideo: Adding mapping Focus (absolute) to control
f8115968/6.
[199009.851122] uvcvideo: Adding mapping Focus, Auto to control f8115af8/8.
[199009.851129] uvcvideo: Adding mapping Zoom, Absolute to control
f8115a08/11.
[199009.851136] uvcvideo: Adding mapping Zoom, Continuous to control
f8115a30/12.
[199009.851145] uvcvideo: Adding mapping Privacy to control f8115b20/17.
[199009.867659] uvcvideo: Probing generic UVC device 1.4.1
[199009.867676] uvcvideo: Found format MJPEG.
[199009.867680] uvcvideo: - 352x288 (7.5 fps)
[199009.867683] uvcvideo: - 160x120 (15.0 fps)
[199009.867686] uvcvideo: - 176x144 (15.0 fps)
[199009.867689] uvcvideo: - 320x240 (15.0 fps)
[199009.867691] uvcvideo: - 640x480 (7.5 fps)
[199009.867699] uvcvideo: Found a Status endpoint (addr 83).
[199009.867702] uvcvideo: Found UVC 1.00 device Monitor Webcam (05a9:2649)
[199009.867709] uvcvideo: Added control f81155d0/2 to device 1.4.1 entity 5
[199009.867712] uvcvideo: Added control f81155f8/3 to device 1.4.1 entity 5
[199009.867716] uvcvideo: Added control f8115620/6 to device 1.4.1 entity 5
[199009.867719] uvcvideo: Added control f8115648/7 to device 1.4.1 entity 5
[199009.867722] uvcvideo: Added control f8115670/8 to device 1.4.1 entity 5
[199009.867725] uvcvideo: Added control f8115698/9 to device 1.4.1 entity 5
[199009.867728] uvcvideo: Added control f81156c0/10 to device 1.4.1 entity 5
[199009.867732] uvcvideo: Added control f8115710/1 to device 1.4.1 entity 5
[199009.867735] uvcvideo: Added control f8115760/5 to device 1.4.1 entity 5
[199009.867739] uvcvideo: Added control f81157b0/11 to device 1.4.1 entity 5
[199009.867748] uvcvideo: Scanning UVC chain: OT 3 <- PU 5 <- SU 4 <- IT 1
[199009.867756]  (-> XU 7 XU 6)
[199009.867761] uvcvideo: Found a valid video chain (1 -> 3).
[199009.871924] uvcvideo: UVC non compliance - GET_DEF(PROBE) not
supported. Enabling workaround.
[199009.875101] input: Monitor Webcam as
/devices/pci0000:00/0000:00:1a.2/usb5/5-1/5-1.4/5-1.4.1/5-1.4.1:1.0/input/input10
[199009.875152] uvcvideo: UVC device initialized.
[199009.875193] usbcore: registered new interface driver uvcvideo
[199009.875198] USB Video Class driver (v0.1.0)
[199009.921399] uvcvideo: uvc_v4l2_open
[199009.921420] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
[199009.921488] uvcvideo: uvc_v4l2_release
[199009.959207] uvcvideo: uvc_v4l2_open
[199009.959227] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
[199009.960290] uvcvideo: uvc_v4l2_release
[199052.679996] uvcvideo: uvc_v4l2_open
[199052.680038] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
[199052.680055] uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
[199052.680062] uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
[199052.680079] uvcvideo: uvc_v4l2_ioctl(VIDIOC_S_FMT)
[199052.680086] uvcvideo: Trying format 0x47504a4d (MJPG): 320x240.
[199052.680090] uvcvideo: Using default frame interval 66666.6 us (15.0
fps).
[199052.690049] uvcvideo: uvc_v4l2_ioctl(VIDIOC_S_PARM)
[199052.690061] uvcvideo: Setting frame interval to 1/15 (666666).
[199052.695032] uvcvideo: uvc_v4l2_ioctl(VIDIOC_G_PARM)
[199052.695063] uvcvideo: uvc_v4l2_ioctl(VIDIOC_REQBUFS)
[199052.695168] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
[199052.695189] uvcvideo: uvc_v4l2_mmap
[199052.695231] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
[199052.695237] uvcvideo: uvc_v4l2_mmap
[199052.695261] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
[199052.695266] uvcvideo: uvc_v4l2_mmap
[199052.695290] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
[199052.695295] uvcvideo: uvc_v4l2_mmap
[199052.695318] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
[199052.695323] uvcvideo: Queuing buffer 0.
[199052.695326] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
[199052.695329] uvcvideo: Queuing buffer 1.
[199052.695332] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
[199052.695336] uvcvideo: Queuing buffer 2.
[199052.695339] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
[199052.695342] uvcvideo: Queuing buffer 3.
[199052.703984] uvcvideo: uvc_v4l2_ioctl(VIDIOC_STREAMON)
[199052.792765] uvcvideo: uvc_v4l2_release

That's the end.




From liangy at bmhdtv.com  Wed Mar 31 04:37:56 2010
From: liangy at bmhdtv.com (liangyong)
Date: Wed, 31 Mar 2010 10:37:56 +0800
Subject: [Linux-uvc-devel] How to crosscompile the uvc of arm-2440?
Message-ID: <005001cad07b$2f215970$ac00a8c0@jfzsliangyong>

I want to use the uvc on a arm2440 board. How should I compile the uvc driver. Especially how to "make install"?

Thanks!
Liang Yong
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100331/73dd6233/attachment.html>

From gallonfr at gmail.com  Wed Mar 31 10:24:35 2010
From: gallonfr at gmail.com (Gallon Fr)
Date: Wed, 31 Mar 2010 16:24:35 +0800
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
	<59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>
	<20100329162723.GD6398@bitwizard.nl>
	<59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>
Message-ID: <l2w3c76e9761003310124y4bb29efes3a0e776ea4903d5e@mail.gmail.com>

2010/3/30, Paulo Assis <pj.assis at gmail.com>:
> Roger Hi,
>
>>> > usb 1-1: new full speed USB device using s3c2410-ohci and address 5
>>
>
> I think this explains why you only have MJPG on the ARM board.
> YUYV requires a higher bandwidth, so it's only available in usb2.
>
> But MJPG should also be available with usb2 and from what I understand
> you only have YUYV ?
> If this is true then its a bit strange.
>
> Best regards,
> Paulo
>
Thanks for the explaination all above.Indeed great help!
About the strange thing you refered to , I'll set the format to "MJPG"
on PC to make a try.
I'll reply later.

Regards,
Fei


From gallonfr at gmail.com  Wed Mar 31 10:32:21 2010
From: gallonfr at gmail.com (Gallon Fr)
Date: Wed, 31 Mar 2010 16:32:21 +0800
Subject: [Linux-uvc-devel] How to crosscompile the uvc of arm-2440?
In-Reply-To: <005001cad07b$2f215970$ac00a8c0@jfzsliangyong>
References: <005001cad07b$2f215970$ac00a8c0@jfzsliangyong>
Message-ID: <u2w3c76e9761003310132w4fa889afpb7d468530097b392@mail.gmail.com>

2010/3/31, liangyong <liangy at bmhdtv.com>:
> I want to use the uvc on a arm2440 board. How should I compile the uvc
> driver. Especially how to "make install"?
>
> Thanks!
> Liang Yong

Actually the UVC have been included into the kernel.You just need to
mark the corresponding option when you do "make ARCH=arm
CROSS_COMPILE=arm-linux- menuconfig".Then after "make zImage",you'll
get a kernel image that support UVC internally.

Hope this would help.
Fei


From pj.assis at gmail.com  Wed Mar 31 12:09:07 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Wed, 31 Mar 2010 11:09:07 +0100
Subject: [Linux-uvc-devel] OmniVision / I've screwed my system
In-Reply-To: <4BB27DA4.3090102@lordbah.com>
References: <4BB1FF47.9080107@lordbah.com>
	<59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>
	<4BB22124.6030000@lordbah.com>
	<59cf47a81003301423w2d66d4fdsacb525e01e71b8fc@mail.gmail.com>
	<4BB27DA4.3090102@lordbah.com>
Message-ID: <g2r59cf47a81003310309j14918d55v4b85a1985a4ed55e@mail.gmail.com>

Jeff, can you try setting the quirks parameter to 16.
change uvcvideo.conf in /etc/modprobe.d to
options uvcvideo quirks=16 trace=255

sudo rmmod uvcvideo
sudo modprobe uvcvideo

Try luvcview and check dmesg.

Regards,
Paulo

2010/3/30 Jeff Van Epps <lordbah at lordbah.com>:
> $ luvcview -f mjpg -s 320x240 -i 15
> luvcview 0.2.4
>
> SDL information:
> ?Video driver: x11
> ?A window manager is available
> Device information:
> ?Device path: ?/dev/video0
> Stream settings:
> ?Frame format: MJPG
> ?Frame size: ? 320x240
> ?Frame rate: ? 15 fps
> Unable to start capture: Input/output error
> Error grabbing
> Cleanup done. Exiting ...
>
> --dmesg output below--
>
> [199009.851002] uvcvideo: Adding mapping Brightness to control f81155d0/2.
> [199009.851021] uvcvideo: Adding mapping Contrast to control f81155f8/3.
> [199009.851025] uvcvideo: Adding mapping Hue to control f8115620/6.
> [199009.851030] uvcvideo: Adding mapping Saturation to control f8115648/7.
> [199009.851034] uvcvideo: Adding mapping Sharpness to control f8115670/8.
> [199009.851039] uvcvideo: Adding mapping Gamma to control f8115698/9.
> [199009.851044] uvcvideo: Adding mapping Backlight Compensation to
> control f8115710/1.
> [199009.851049] uvcvideo: Adding mapping Gain to control f8115738/4.
> [199009.851054] uvcvideo: Adding mapping Power Line Frequency to control
> f8115760/5.
> [199009.851060] uvcvideo: Adding mapping Hue, Auto to control f8115788/16.
> [199009.851066] uvcvideo: Adding mapping Exposure, Auto to control
> f81158c8/2.
> [199009.851073] uvcvideo: Adding mapping Exposure, Auto Priority to
> control f81158f0/3.
> [199009.851080] uvcvideo: Adding mapping Exposure (Absolute) to control
> f8115918/4.
> [199009.851085] uvcvideo: Adding mapping White Balance Temperature, Auto
> to control f81157b0/11.
> [199009.851090] uvcvideo: Adding mapping White Balance Temperature to
> control f81156c0/10.
> [199009.851096] uvcvideo: Adding mapping White Balance Component, Auto
> to control f81157d8/13.
> [199009.851102] uvcvideo: Adding mapping White Balance Blue Component to
> control f81156e8/12.
> [199009.851107] uvcvideo: Adding mapping White Balance Red Component to
> control f81156e8/12.
> [199009.851114] uvcvideo: Adding mapping Focus (absolute) to control
> f8115968/6.
> [199009.851122] uvcvideo: Adding mapping Focus, Auto to control f8115af8/8.
> [199009.851129] uvcvideo: Adding mapping Zoom, Absolute to control
> f8115a08/11.
> [199009.851136] uvcvideo: Adding mapping Zoom, Continuous to control
> f8115a30/12.
> [199009.851145] uvcvideo: Adding mapping Privacy to control f8115b20/17.
> [199009.867659] uvcvideo: Probing generic UVC device 1.4.1
> [199009.867676] uvcvideo: Found format MJPEG.
> [199009.867680] uvcvideo: - 352x288 (7.5 fps)
> [199009.867683] uvcvideo: - 160x120 (15.0 fps)
> [199009.867686] uvcvideo: - 176x144 (15.0 fps)
> [199009.867689] uvcvideo: - 320x240 (15.0 fps)
> [199009.867691] uvcvideo: - 640x480 (7.5 fps)
> [199009.867699] uvcvideo: Found a Status endpoint (addr 83).
> [199009.867702] uvcvideo: Found UVC 1.00 device Monitor Webcam (05a9:2649)
> [199009.867709] uvcvideo: Added control f81155d0/2 to device 1.4.1 entity 5
> [199009.867712] uvcvideo: Added control f81155f8/3 to device 1.4.1 entity 5
> [199009.867716] uvcvideo: Added control f8115620/6 to device 1.4.1 entity 5
> [199009.867719] uvcvideo: Added control f8115648/7 to device 1.4.1 entity 5
> [199009.867722] uvcvideo: Added control f8115670/8 to device 1.4.1 entity 5
> [199009.867725] uvcvideo: Added control f8115698/9 to device 1.4.1 entity 5
> [199009.867728] uvcvideo: Added control f81156c0/10 to device 1.4.1 entity 5
> [199009.867732] uvcvideo: Added control f8115710/1 to device 1.4.1 entity 5
> [199009.867735] uvcvideo: Added control f8115760/5 to device 1.4.1 entity 5
> [199009.867739] uvcvideo: Added control f81157b0/11 to device 1.4.1 entity 5
> [199009.867748] uvcvideo: Scanning UVC chain: OT 3 <- PU 5 <- SU 4 <- IT 1
> [199009.867756] ?(-> XU 7 XU 6)
> [199009.867761] uvcvideo: Found a valid video chain (1 -> 3).
> [199009.871924] uvcvideo: UVC non compliance - GET_DEF(PROBE) not
> supported. Enabling workaround.
> [199009.875101] input: Monitor Webcam as
> /devices/pci0000:00/0000:00:1a.2/usb5/5-1/5-1.4/5-1.4.1/5-1.4.1:1.0/input/input10
> [199009.875152] uvcvideo: UVC device initialized.
> [199009.875193] usbcore: registered new interface driver uvcvideo
> [199009.875198] USB Video Class driver (v0.1.0)
> [199009.921399] uvcvideo: uvc_v4l2_open
> [199009.921420] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
> [199009.921488] uvcvideo: uvc_v4l2_release
> [199009.959207] uvcvideo: uvc_v4l2_open
> [199009.959227] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
> [199009.960290] uvcvideo: uvc_v4l2_release
> [199052.679996] uvcvideo: uvc_v4l2_open
> [199052.680038] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
> [199052.680055] uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
> [199052.680062] uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
> [199052.680079] uvcvideo: uvc_v4l2_ioctl(VIDIOC_S_FMT)
> [199052.680086] uvcvideo: Trying format 0x47504a4d (MJPG): 320x240.
> [199052.680090] uvcvideo: Using default frame interval 66666.6 us (15.0
> fps).
> [199052.690049] uvcvideo: uvc_v4l2_ioctl(VIDIOC_S_PARM)
> [199052.690061] uvcvideo: Setting frame interval to 1/15 (666666).
> [199052.695032] uvcvideo: uvc_v4l2_ioctl(VIDIOC_G_PARM)
> [199052.695063] uvcvideo: uvc_v4l2_ioctl(VIDIOC_REQBUFS)
> [199052.695168] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
> [199052.695189] uvcvideo: uvc_v4l2_mmap
> [199052.695231] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
> [199052.695237] uvcvideo: uvc_v4l2_mmap
> [199052.695261] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
> [199052.695266] uvcvideo: uvc_v4l2_mmap
> [199052.695290] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
> [199052.695295] uvcvideo: uvc_v4l2_mmap
> [199052.695318] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [199052.695323] uvcvideo: Queuing buffer 0.
> [199052.695326] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [199052.695329] uvcvideo: Queuing buffer 1.
> [199052.695332] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [199052.695336] uvcvideo: Queuing buffer 2.
> [199052.695339] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [199052.695342] uvcvideo: Queuing buffer 3.
> [199052.703984] uvcvideo: uvc_v4l2_ioctl(VIDIOC_STREAMON)
> [199052.792765] uvcvideo: uvc_v4l2_release
>
> That's the end.
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From pj.assis at gmail.com  Wed Mar 31 12:31:29 2010
From: pj.assis at gmail.com (Paulo Assis)
Date: Wed, 31 Mar 2010 11:31:29 +0100
Subject: [Linux-uvc-devel] OmniVision / I've screwed my system
In-Reply-To: <4BB27DA4.3090102@lordbah.com>
References: <4BB1FF47.9080107@lordbah.com>
	<59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>
	<4BB22124.6030000@lordbah.com>
	<59cf47a81003301423w2d66d4fdsacb525e01e71b8fc@mail.gmail.com>
	<4BB27DA4.3090102@lordbah.com>
Message-ID: <g2v59cf47a81003310331q795b2f43m38f833f1d8e43094@mail.gmail.com>

Oh, please also make sure you are not connecting the camera through a
usb hub, unfortunately usb hubs don't work very well in linux and will
cause the video stream to fail.

Reagards,
Paulo

2010/3/30 Jeff Van Epps <lordbah at lordbah.com>:
> $ luvcview -f mjpg -s 320x240 -i 15
> luvcview 0.2.4
>
> SDL information:
> ?Video driver: x11
> ?A window manager is available
> Device information:
> ?Device path: ?/dev/video0
> Stream settings:
> ?Frame format: MJPG
> ?Frame size: ? 320x240
> ?Frame rate: ? 15 fps
> Unable to start capture: Input/output error
> Error grabbing
> Cleanup done. Exiting ...
>
> --dmesg output below--
>
> [199009.851002] uvcvideo: Adding mapping Brightness to control f81155d0/2.
> [199009.851021] uvcvideo: Adding mapping Contrast to control f81155f8/3.
> [199009.851025] uvcvideo: Adding mapping Hue to control f8115620/6.
> [199009.851030] uvcvideo: Adding mapping Saturation to control f8115648/7.
> [199009.851034] uvcvideo: Adding mapping Sharpness to control f8115670/8.
> [199009.851039] uvcvideo: Adding mapping Gamma to control f8115698/9.
> [199009.851044] uvcvideo: Adding mapping Backlight Compensation to
> control f8115710/1.
> [199009.851049] uvcvideo: Adding mapping Gain to control f8115738/4.
> [199009.851054] uvcvideo: Adding mapping Power Line Frequency to control
> f8115760/5.
> [199009.851060] uvcvideo: Adding mapping Hue, Auto to control f8115788/16.
> [199009.851066] uvcvideo: Adding mapping Exposure, Auto to control
> f81158c8/2.
> [199009.851073] uvcvideo: Adding mapping Exposure, Auto Priority to
> control f81158f0/3.
> [199009.851080] uvcvideo: Adding mapping Exposure (Absolute) to control
> f8115918/4.
> [199009.851085] uvcvideo: Adding mapping White Balance Temperature, Auto
> to control f81157b0/11.
> [199009.851090] uvcvideo: Adding mapping White Balance Temperature to
> control f81156c0/10.
> [199009.851096] uvcvideo: Adding mapping White Balance Component, Auto
> to control f81157d8/13.
> [199009.851102] uvcvideo: Adding mapping White Balance Blue Component to
> control f81156e8/12.
> [199009.851107] uvcvideo: Adding mapping White Balance Red Component to
> control f81156e8/12.
> [199009.851114] uvcvideo: Adding mapping Focus (absolute) to control
> f8115968/6.
> [199009.851122] uvcvideo: Adding mapping Focus, Auto to control f8115af8/8.
> [199009.851129] uvcvideo: Adding mapping Zoom, Absolute to control
> f8115a08/11.
> [199009.851136] uvcvideo: Adding mapping Zoom, Continuous to control
> f8115a30/12.
> [199009.851145] uvcvideo: Adding mapping Privacy to control f8115b20/17.
> [199009.867659] uvcvideo: Probing generic UVC device 1.4.1
> [199009.867676] uvcvideo: Found format MJPEG.
> [199009.867680] uvcvideo: - 352x288 (7.5 fps)
> [199009.867683] uvcvideo: - 160x120 (15.0 fps)
> [199009.867686] uvcvideo: - 176x144 (15.0 fps)
> [199009.867689] uvcvideo: - 320x240 (15.0 fps)
> [199009.867691] uvcvideo: - 640x480 (7.5 fps)
> [199009.867699] uvcvideo: Found a Status endpoint (addr 83).
> [199009.867702] uvcvideo: Found UVC 1.00 device Monitor Webcam (05a9:2649)
> [199009.867709] uvcvideo: Added control f81155d0/2 to device 1.4.1 entity 5
> [199009.867712] uvcvideo: Added control f81155f8/3 to device 1.4.1 entity 5
> [199009.867716] uvcvideo: Added control f8115620/6 to device 1.4.1 entity 5
> [199009.867719] uvcvideo: Added control f8115648/7 to device 1.4.1 entity 5
> [199009.867722] uvcvideo: Added control f8115670/8 to device 1.4.1 entity 5
> [199009.867725] uvcvideo: Added control f8115698/9 to device 1.4.1 entity 5
> [199009.867728] uvcvideo: Added control f81156c0/10 to device 1.4.1 entity 5
> [199009.867732] uvcvideo: Added control f8115710/1 to device 1.4.1 entity 5
> [199009.867735] uvcvideo: Added control f8115760/5 to device 1.4.1 entity 5
> [199009.867739] uvcvideo: Added control f81157b0/11 to device 1.4.1 entity 5
> [199009.867748] uvcvideo: Scanning UVC chain: OT 3 <- PU 5 <- SU 4 <- IT 1
> [199009.867756] ?(-> XU 7 XU 6)
> [199009.867761] uvcvideo: Found a valid video chain (1 -> 3).
> [199009.871924] uvcvideo: UVC non compliance - GET_DEF(PROBE) not
> supported. Enabling workaround.
> [199009.875101] input: Monitor Webcam as
> /devices/pci0000:00/0000:00:1a.2/usb5/5-1/5-1.4/5-1.4.1/5-1.4.1:1.0/input/input10
> [199009.875152] uvcvideo: UVC device initialized.
> [199009.875193] usbcore: registered new interface driver uvcvideo
> [199009.875198] USB Video Class driver (v0.1.0)
> [199009.921399] uvcvideo: uvc_v4l2_open
> [199009.921420] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
> [199009.921488] uvcvideo: uvc_v4l2_release
> [199009.959207] uvcvideo: uvc_v4l2_open
> [199009.959227] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
> [199009.960290] uvcvideo: uvc_v4l2_release
> [199052.679996] uvcvideo: uvc_v4l2_open
> [199052.680038] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP)
> [199052.680055] uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
> [199052.680062] uvcvideo: uvc_v4l2_ioctl(VIDIOC_ENUM_FMT)
> [199052.680079] uvcvideo: uvc_v4l2_ioctl(VIDIOC_S_FMT)
> [199052.680086] uvcvideo: Trying format 0x47504a4d (MJPG): 320x240.
> [199052.680090] uvcvideo: Using default frame interval 66666.6 us (15.0
> fps).
> [199052.690049] uvcvideo: uvc_v4l2_ioctl(VIDIOC_S_PARM)
> [199052.690061] uvcvideo: Setting frame interval to 1/15 (666666).
> [199052.695032] uvcvideo: uvc_v4l2_ioctl(VIDIOC_G_PARM)
> [199052.695063] uvcvideo: uvc_v4l2_ioctl(VIDIOC_REQBUFS)
> [199052.695168] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
> [199052.695189] uvcvideo: uvc_v4l2_mmap
> [199052.695231] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
> [199052.695237] uvcvideo: uvc_v4l2_mmap
> [199052.695261] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
> [199052.695266] uvcvideo: uvc_v4l2_mmap
> [199052.695290] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYBUF)
> [199052.695295] uvcvideo: uvc_v4l2_mmap
> [199052.695318] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [199052.695323] uvcvideo: Queuing buffer 0.
> [199052.695326] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [199052.695329] uvcvideo: Queuing buffer 1.
> [199052.695332] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [199052.695336] uvcvideo: Queuing buffer 2.
> [199052.695339] uvcvideo: uvc_v4l2_ioctl(VIDIOC_QBUF)
> [199052.695342] uvcvideo: Queuing buffer 3.
> [199052.703984] uvcvideo: uvc_v4l2_ioctl(VIDIOC_STREAMON)
> [199052.792765] uvcvideo: uvc_v4l2_release
>
> That's the end.
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>


From gallonfr at gmail.com  Wed Mar 31 12:37:36 2010
From: gallonfr at gmail.com (Gallon Fr)
Date: Wed, 31 Mar 2010 18:37:36 +0800
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
	<59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>
	<20100329162723.GD6398@bitwizard.nl>
	<59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>
Message-ID: <v2z3c76e9761003310337l472edaa3z73f9e5e10f9e00df@mail.gmail.com>

2010/3/30 Paulo Assis <pj.assis at gmail.com>

> Roger Hi,
>
> >> > usb 1-1: new full speed USB device using s3c2410-ohci and address 5
> >
>
> I think this explains why you only have MJPG on the ARM board.
> YUYV requires a higher bandwidth, so it's only available in usb2.
>
> But MJPG should also be available with usb2 and from what I understand
> you only have YUYV ?
> If this is true then its a bit strange.
>
> Best regards,
> Paulo
>

I've confirmed that I can ONLY use "YUYV"  format on PC, "MJPG" will end up
with an error.Then I test another cam embedded in my laptop (04f2:b13e from
Chicony).I don't want to mix up the two cam,so just call the "PC Cam" and
the "Laptop Cam".
----------------------------------------------------------
result of Laptop Cam   (just make sense as you say)
It says:
Index:0  Format:YUV 4:2:2 (YUYV)
Index:1  Format:MJPEG
----------------------------------------------------------
result of PC Cam on PC
It says:
Index:0  Format:YUV 4:2:2 (YUYV)
----------------------------------------------------------
result of PC Cam on laptop
It says:
Index:0  Format:YUV 4:2:2 (YUYV)
----------------------------------------------------------
result of PC Cam on ARM
It says:
Index=0 Format:MJPEG
----------------------------------------------------------
Do this mean the PC cam don't work well with the UVC driver?It seem I can
only choose one format, no matter on USB1.1 or USB2.0.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100331/c4111cda/attachment.html>

From lordbah at lordbah.com  Wed Mar 31 12:59:28 2010
From: lordbah at lordbah.com (Jeff Van Epps)
Date: Wed, 31 Mar 2010 06:59:28 -0400
Subject: [Linux-uvc-devel] OmniVision / I've screwed my system
In-Reply-To: <g2r59cf47a81003310309j14918d55v4b85a1985a4ed55e@mail.gmail.com>
References: <4BB1FF47.9080107@lordbah.com>	
	<59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>	
	<4BB22124.6030000@lordbah.com>	
	<59cf47a81003301423w2d66d4fdsacb525e01e71b8fc@mail.gmail.com>	
	<4BB27DA4.3090102@lordbah.com>
	<g2r59cf47a81003310309j14918d55v4b85a1985a4ed55e@mail.gmail.com>
Message-ID: <4BB32B10.9090407@lordbah.com>

Exact same result except for two additional lines in dmesg:

[243220.479865] uvcvideo: Forcing device quirks to 0x10 by module
parameter for testing purpose.
[243220.479869] uvcvideo: Please report required quirks to the
linux-uvc-devel mailing list.

As for a hub, if there is one internal to this monitor (the webcam is
builtin to the Dell SP2309W monitor) then I don't see what I can do
about it. It's quite possible since in addition to the display there is
the camera, microphone, and two additional USB ports on the side. Is
there some argument to lsusb which shows devices by connection?

To track this down I suppose I would sprinkle uvc_trace calls in
uvc_video.c in uvc_video_enable() and then run

make
sudo make install
sudo make unload
sudo modprobe uvcvideo




From R.E.Wolff at BitWizard.nl  Wed Mar 31 13:17:45 2010
From: R.E.Wolff at BitWizard.nl (Rogier Wolff)
Date: Wed, 31 Mar 2010 13:17:45 +0200
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <v2z3c76e9761003310337l472edaa3z73f9e5e10f9e00df@mail.gmail.com>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
	<59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>
	<20100329162723.GD6398@bitwizard.nl>
	<59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>
	<v2z3c76e9761003310337l472edaa3z73f9e5e10f9e00df@mail.gmail.com>
Message-ID: <20100331111745.GB16136@bitwizard.nl>

On Wed, Mar 31, 2010 at 06:37:36PM +0800, Gallon Fr wrote:

> I've confirmed that I can ONLY use "YUYV" format on PC, "MJPG" will
> end up with an error.Then I test another cam embedded in my laptop
> (04f2:b13e from Chicony).I don't want to mix up the two cam,so just
> call the "PC Cam" and the "Laptop Cam".

One extra thing you can try is to try connecting the PC Cam to the PC
using USB-1.1.

Try 

  lsmod |grep ehci

to determine the name of your ehci module, and then rmmod it.

Next you insert the camera to the PC again. 

Lets see if the camera notices... :-)

	Roger. 

-- 
** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ ** +31-15-2600998 **
**    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233    **
*-- BitWizard writes Linux device drivers for any device you may have! --*
Q: It doesn't work. A: Look buddy, doesn't work is an ambiguous statement. 
Does it sit on the couch all day? Is it unemployed? Please be specific! 
Define 'it' and what it isn't doing. --------- Adapted from lxrbot FAQ


From gallonfr at gmail.com  Wed Mar 31 14:16:25 2010
From: gallonfr at gmail.com (Gallon Fr)
Date: Wed, 31 Mar 2010 20:16:25 +0800
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <20100331111745.GB16136@bitwizard.nl>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
	<59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>
	<20100329162723.GD6398@bitwizard.nl>
	<59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>
	<v2z3c76e9761003310337l472edaa3z73f9e5e10f9e00df@mail.gmail.com>
	<20100331111745.GB16136@bitwizard.nl>
Message-ID: <k2w3c76e9761003310516m4fc7d591pf3b5819abaa1d47b@mail.gmail.com>

2010/3/31 Rogier Wolff <R.E.Wolff at bitwizard.nl>

> On Wed, Mar 31, 2010 at 06:37:36PM +0800, Gallon Fr wrote:
>
> > I've confirmed that I can ONLY use "YUYV" format on PC, "MJPG" will
> > end up with an error.Then I test another cam embedded in my laptop
> > (04f2:b13e from Chicony).I don't want to mix up the two cam,so just
> > call the "PC Cam" and the "Laptop Cam".
>
> One extra thing you can try is to try connecting the PC Cam to the PC
> using USB-1.1.
>
> Try
>
>  lsmod |grep ehci
>
> to determine the name of your ehci module, and then rmmod it.
>
> Next you insert the camera to the PC again.
>
> Lets see if the camera notices... :-)
>
>        Roger.
>

Whoops!That stumped me.I'm afraid Fedora 12 runs on a "module build-in"
kernel,(I don't know the terminology so the strange phrase) cuz I can find
nothing about ehci or uhci in the module list.AND, I don't know how to
remove a "build-in" module.I tried to disable USB2.0 support in the BIOS,but
the OEM motherboard stopped me.
Could you please teach me how to remove the echi module?

Thank
Fei
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100331/87440884/attachment.html>

From RMartinez at aurensis.com  Wed Mar 31 14:04:29 2010
From: RMartinez at aurensis.com (Ricardo Martinez Monje)
Date: Wed, 31 Mar 2010 14:04:29 +0200
Subject: [Linux-uvc-devel] How do I set PIXELFORMAT for...
Message-ID: <53536DD176E21C41B47CE16CBDAC4965342E31@bali.aurensis.com>

Hi,

 

I have a webcam with two pixel formats:

 

$ v4l2-ctl --list-formats-ext

ioctl: VIDIOC_ENUM_FMT

                Index       : 0

                Type        : Video Capture

                Pixel Format: 'YUYV'

                Name        : YUV 4:2:2 (YUYV)

                               Size: Discrete 640x480

                                               Interval: Discrete 0.040
s (25.000 fps)

                                               Interval: Discrete 0.100
s (10.000 fps)

                                               Interval: Discrete 0.200
s (5.000 fps)

 

                Index       : 1

                Type        : Video Capture

                Pixel Format: ''

                Name        : 20363159-0000-0010-8000-00aa003

                               Size: Discrete 640x480

                                               Interval: Discrete 0.040
s (25.000 fps)

                                               Interval: Discrete 0.100
s (10.000 fps)

                                               Interval: Discrete 0.200
s (5.000 fps)

 

The first is 8bit YUYV and the second is 14bit Y6 (FOURCC 0x20363159)
compliant...

 

But when I try to initiate the device with the following code... fails
(VIDIOC_S_FMT error 22, Invalid argument):

 

struct v4l2_format fmt;  

fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;  

fmt.fmt.pix.width = width;  

fmt.fmt.pix.height = height;  

fmt.fmt.pix.pixelformat = V4L2_PIX_FMT_Y16 /* that is, FOURCC 0x20363159
pixel_format; */

fmt.fmt.pix.field = V4L2_FIELD_INTERLACED;  

if (-1 == xioctl(fd, VIDIOC_S_FMT, &fmt))  

  errno_exit("VIDIOC_S_FMT");   

 

There is another way to initiate the device indicating the index of the
pixel format I'm interested in (Y16 FOURCC 0x20363159)?

 

 

Thanks.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100331/44560c51/attachment.html>

From R.E.Wolff at BitWizard.nl  Wed Mar 31 14:55:31 2010
From: R.E.Wolff at BitWizard.nl (Rogier Wolff)
Date: Wed, 31 Mar 2010 14:55:31 +0200
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <k2w3c76e9761003310516m4fc7d591pf3b5819abaa1d47b@mail.gmail.com>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
	<59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>
	<20100329162723.GD6398@bitwizard.nl>
	<59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>
	<v2z3c76e9761003310337l472edaa3z73f9e5e10f9e00df@mail.gmail.com>
	<20100331111745.GB16136@bitwizard.nl>
	<k2w3c76e9761003310516m4fc7d591pf3b5819abaa1d47b@mail.gmail.com>
Message-ID: <20100331125531.GC16136@bitwizard.nl>

On Wed, Mar 31, 2010 at 08:16:25PM +0800, Gallon Fr wrote:

> Whoops!That stumped me.I'm afraid Fedora 12 runs on a "module
> build-in" kernel,(I don't know the terminology so the strange
> phrase) cuz I can find nothing about ehci or uhci in the module
> list.AND, I don't know how to remove a "build-in" module.I tried to
> disable USB2.0 support in the BIOS,but the OEM motherboard stopped
> me.

Oops. Yeah! Same here. Modern kernels apparently have it built in. No
there is no easy way to remove it when it's builtin. You'd have to
build your own kernel, but for this simple test it isn't worth the
trouble for you to do that...

So still we're convinced that while some cameras remove formats from
their list-of-supported-formats depending on the USB connection speed,
your camera is a bit weird and switches the list completely when on
a full-speed (usb-1.1, 12Mbps) connection. 

So, your application will have to handle the mjpeg stream. It's not
that difficult, but you'll have to link against libjpeg to decode
it. Whether Libjpeg can decode directly into yuv I don't know.

For testing/development purposes I suggest you find a camera that you
can connect to your PC that also supports mjpeg there.....

	Roger.

-- 
** R.E.Wolff at BitWizard.nl ** http://www.BitWizard.nl/ ** +31-15-2600998 **
**    Delftechpark 26 2628 XH  Delft, The Netherlands. KVK: 27239233    **
*-- BitWizard writes Linux device drivers for any device you may have! --*
Q: It doesn't work. A: Look buddy, doesn't work is an ambiguous statement. 
Does it sit on the couch all day? Is it unemployed? Please be specific! 
Define 'it' and what it isn't doing. --------- Adapted from lxrbot FAQ


From gallonfr at gmail.com  Wed Mar 31 15:44:32 2010
From: gallonfr at gmail.com (Gallon Fr)
Date: Wed, 31 Mar 2010 21:44:32 +0800
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <20100331125531.GC16136@bitwizard.nl>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
	<59cf47a81003290814h4e16b7dbh7fce56fc36c47746@mail.gmail.com>
	<20100329162723.GD6398@bitwizard.nl>
	<59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>
	<v2z3c76e9761003310337l472edaa3z73f9e5e10f9e00df@mail.gmail.com>
	<20100331111745.GB16136@bitwizard.nl>
	<k2w3c76e9761003310516m4fc7d591pf3b5819abaa1d47b@mail.gmail.com>
	<20100331125531.GC16136@bitwizard.nl>
Message-ID: <t2w3c76e9761003310644lbcf9c120k563e6973940dade2@mail.gmail.com>

2010/3/31 Rogier Wolff <R.E.Wolff at bitwizard.nl>

> On Wed, Mar 31, 2010 at 08:16:25PM +0800, Gallon Fr wrote:
>
> > Whoops!That stumped me.I'm afraid Fedora 12 runs on a "module
> > build-in" kernel,(I don't know the terminology so the strange
> > phrase) cuz I can find nothing about ehci or uhci in the module
> > list.AND, I don't know how to remove a "build-in" module.I tried to
> > disable USB2.0 support in the BIOS,but the OEM motherboard stopped
> > me.
>
> Oops. Yeah! Same here. Modern kernels apparently have it built in. No
> there is no easy way to remove it when it's builtin. You'd have to
> build your own kernel, but for this simple test it isn't worth the
> trouble for you to do that...
>
> So still we're convinced that while some cameras remove formats from
> their list-of-supported-formats depending on the USB connection speed,
> your camera is a bit weird and switches the list completely when on
> a full-speed (usb-1.1, 12Mbps) connection.
>
> So, your application will have to handle the mjpeg stream. It's not
> that difficult, but you'll have to link against libjpeg to decode
> it. Whether Libjpeg can decode directly into yuv I don't know.
>
> For testing/development purposes I suggest you find a camera that you
> can connect to your PC that also supports mjpeg there.....
>
>        Roger.
>

Thanks for all the info.

Maybe I can try it on another computer later,on which I can disable the
USB2.0 from the BIOS.Or I'll try to study making a time-killing system by
following the LFS documentation.But for now,I'll have to focus on decoding
the MJPEG stream to finish my assignment.

Best,Regards
Fei
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100331/07b41975/attachment.html>

From laurent.pinchart at ideasonboard.com  Wed Mar 31 17:32:53 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 31 Mar 2010 17:32:53 +0200
Subject: [Linux-uvc-devel] turn off the autofocus
In-Reply-To: <7aed453b1003231312g539e8e93n21daccb4f8d5a06b@mail.gmail.com>
References: <7aed453b1003231312g539e8e93n21daccb4f8d5a06b@mail.gmail.com>
Message-ID: <201003311732.53659.laurent.pinchart@ideasonboard.com>

Hi Luis,

On Tuesday 23 March 2010 21:12:22 Luis Felipe Zeni wrote:
> Hello,
> 
> i have a Microsoft Lifecam Cinema and it works very well with the driver.
> My question is:
> 
> Is possible turn off the autofocus by software?

I'll assume you're referring to the 045e:075d model (there could be more than 
one Microsoft Lifecam Cinema). That webcam exposes an auto-focus control which 
you can access through the V4L2_CID_FOCUS_AUTO V4L2 control.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Mar 31 17:46:32 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 31 Mar 2010 17:46:32 +0200
Subject: [Linux-uvc-devel] cam support request!
In-Reply-To: <b5c975f1003251035o288b3f64ic1dfc44b7d5f80f0@mail.gmail.com>
References: <b5c975f1003251035o288b3f64ic1dfc44b7d5f80f0@mail.gmail.com>
Message-ID: <201003311746.32873.laurent.pinchart@ideasonboard.com>

Hi Frederic,

On Thursday 25 March 2010 18:35:21 Frederic Robinson II wrote:
> Creative Live! Pro    ID 041e:4038
> 
> Here's my complete lsusb output.  It'd be awesome if it would be supported
> soon  (^_^)
> 
> if it's been tried and its just a hassle, just lmk
> 
> i'll go buy a compatible device.
> 
> 
> Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
> Bus 002 Device 003: ID 04fc:05d8 Sunplus Technology Co., Ltd
> Bus 002 Device 002: ID 15ca:00c3 Textech International Ltd. Mini Optical
> Mouse
> Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
> Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
> Bus 001 Device 003: ID 041e:4038 Creative Technology, Ltd ORITE CCD Webcam
> [PC370R]

The uvcvideo driver supports UVC-compatible devices only. To find out if your 
camera is one of them, please have a look at http://linux-uvc.berlios.de/faq/.

If your device is UVC compatible, please post the output of

lsusb -v -d 041e:4038

with an explanation of the problem(s) you experience (kernel log messages are 
always helpful).

Otherwise I'm afraid I won't be able to help you. You might have more luck 
with the gspca driver.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Mar 31 17:58:24 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 31 Mar 2010 17:58:24 +0200
Subject: [Linux-uvc-devel] A4Tech PK-333E is supported by uvc
In-Reply-To: <1269971379.4709.26.camel@andrew-laptop>
References: <1269971379.4709.26.camel@andrew-laptop>
Message-ID: <201003311758.24786.laurent.pinchart@ideasonboard.com>

Hi Andrey,

On Tuesday 30 March 2010 19:49:39 Andrey Skvortsov wrote:
> Hi!
> 
> The webcam works perfect out of the box. I've tested it with skype and
> cheese. All is right. Shot button works in cheese also perfect.
> Thank you for a good job!
> 
> here is some information about webcam.

[snip]

Thanks a lot for the report. I'll update the supported devices list.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Mar 31 18:04:37 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 31 Mar 2010 18:04:37 +0200
Subject: [Linux-uvc-devel] OmniVision / I've screwed my system
In-Reply-To: <59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>
References: <4BB1FF47.9080107@lordbah.com>
	<59cf47a81003300708s6924808ekb90e1fe220469da6@mail.gmail.com>
Message-ID: <201003311804.38231.laurent.pinchart@ideasonboard.com>

Hi Paulo,

Thanks for providing help on the linux-uvc-devel mailing list, I really 
appreciate that.

On Tuesday 30 March 2010 16:08:33 Paulo Assis wrote:
> Jeff Hi,
> 
> You should have followed the v4l-dvb wiki:
> http://www.linuxtv.org/wiki/index.php/How_to_Obtain,_Build_and_Install_V4L-
> DVB_Device_Drivers
> 
> you now have mixed modules (new and old) and this is causing the errors.
> 
> get mercurial, the kernel headers and the full v4l tree from linuxtv.
> 
> from the top of the hg tree:
> 
> make rminstall
> make distclean
> sudo make menuconfig       <--- disable fireDTV or you will end up
> with errors when building

Quick side note, I don't think sudo is required for make menuconfig.

> make
> sudo make install
> sudo make unload
> sudo modprobe uvcvideo

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Mar 31 18:02:56 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 31 Mar 2010 18:02:56 +0200
Subject: [Linux-uvc-devel] Image format set with VIDIOC_S_FMT
	successfully on host PC, yet failed on target ARM dev-board.
In-Reply-To: <v2z3c76e9761003310337l472edaa3z73f9e5e10f9e00df@mail.gmail.com>
References: <3c76e9761003290654k2e90938fuf36e8c7807249735@mail.gmail.com>
	<59cf47a81003300116r6a4c737fi2342b5f0ccc4095c@mail.gmail.com>
	<v2z3c76e9761003310337l472edaa3z73f9e5e10f9e00df@mail.gmail.com>
Message-ID: <201003311802.57574.laurent.pinchart@ideasonboard.com>

Hi,

On Wednesday 31 March 2010 12:37:36 Gallon Fr wrote:
> 2010/3/30 Paulo Assis <pj.assis at gmail.com>
> > >> > usb 1-1: new full speed USB device using s3c2410-ohci and address 5
> > 
> > I think this explains why you only have MJPG on the ARM board.
> > YUYV requires a higher bandwidth, so it's only available in usb2.
> > 
> > But MJPG should also be available with usb2 and from what I understand
> > you only have YUYV ?
> > If this is true then its a bit strange.
> > 
> > Best regards,
> > Paulo
> 
> I've confirmed that I can ONLY use "YUYV"  format on PC, "MJPG" will end up
> with an error.

It's weird, but not unusual. There's no technical reason not to provide MJPEG 
on high-speed USB (USB 2.0). There could be a marketing reason though: MJPEG 
being compressed, it will produce lower quality images than YUYV (although 
with the bad sensors found on most webcams that doesn't really matter). The 
vendor might not want customers seeing lower quality images when "higher" 
quality is available.

> Then I test another cam embedded in my laptop (04f2:b13e from Chicony).I
> don't want to mix up the two cam,so just call the "PC Cam" and the "Laptop
> Cam".
> ----------------------------------------------------------
> result of Laptop Cam   (just make sense as you say)
> It says:
> Index:0  Format:YUV 4:2:2 (YUYV)
> Index:1  Format:MJPEG
> ----------------------------------------------------------
> result of PC Cam on PC
> It says:
> Index:0  Format:YUV 4:2:2 (YUYV)
> ----------------------------------------------------------
> result of PC Cam on laptop
> It says:
> Index:0  Format:YUV 4:2:2 (YUYV)
> ----------------------------------------------------------
> result of PC Cam on ARM
> It says:
> Index=0 Format:MJPEG
> ----------------------------------------------------------
> Do this mean the PC cam don't work well with the UVC driver?It seem I can
> only choose one format, no matter on USB1.1 or USB2.0.

It just means that it only exposes a single format (YUYV) on USB 2.0 for 
whatever reason the vendor came up with during development. The camera 
otherwise works.

-- 
Regards,

Laurent Pinchart


From laurent.pinchart at ideasonboard.com  Wed Mar 31 18:11:47 2010
From: laurent.pinchart at ideasonboard.com (Laurent Pinchart)
Date: Wed, 31 Mar 2010 18:11:47 +0200
Subject: [Linux-uvc-devel] problems with uvc cameras and gstreamer on
	gentoo
In-Reply-To: <201003172332.09923.chris@basementcode.com>
References: <201003100240.14189.chris@basementcode.com>
	<201003171752.08604.laurent.pinchart@ideasonboard.com>
	<201003172332.09923.chris@basementcode.com>
Message-ID: <201003311811.47840.laurent.pinchart@ideasonboard.com>

Hi Christopher,

Sorry for the late reply.

On Thursday 18 March 2010 04:32:09 Christopher Harvey wrote:
> Yes, there is some dmesg text....
> This is both plugging in the camera and from running
> gst-launch-0.10 v4l2src ! video/x-raw-yuv,width=640,height=480 !
> xvimagesink
> 
> [ 8064.905024] usb 1-4: new high speed USB device using ehci_hcd and
> address 3 [ 8065.166803] usb 1-4: configuration #1 chosen from 1 choice
> [ 8065.538788] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08ca)
> [ 8065.558724] input: UVC Camera (046d:08ca) as
> /devices/pci0000:00/0000:00:02.1/usb1/1-4/1-4:1.0/input/input4
> [ 8065.558790] usbcore: registered new interface driver uvcvideo
> [ 8065.558793] USB Video Class driver (v0.1.0)
> [ 8121.352316] uvcvideo: Failed to query (131) UVC probe control : -32
> (exp. 26).

The camera seems to crashed at this point. Could you please try to load the 
driver with the quirks=2 option ?

> [ 8121.355309] uvcvideo: Failed to set UVC probe control : -32 (exp. 26).
> [ 8122.355194] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
> [ 8123.355068] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).
> [ 8124.355069] uvcvideo: Failed to set UVC probe control : -110 (exp. 26).

-- 
Regards,

Laurent Pinchart


From primate101 at gmail.com  Wed Mar 31 23:58:36 2010
From: primate101 at gmail.com (Nikhil Benesch)
Date: Wed, 31 Mar 2010 17:58:36 -0400
Subject: [Linux-uvc-devel] Adjust Light Frequency Filter
Message-ID: <s2m82687eb71003311458xbbfd17des8dea6eed91387d97@mail.gmail.com>

I have a Chicony 2.0 USB Camera (04f2:b008) that *almost* works perfectly.
Right now, I can get it to work perfectly in both luvsview and Empathy.
Unfortunately, the image is too dark to be useful when the light frequency
filter is off. Using luvsview, I can easily change this value to 50 or 60Hz
with its GUI.

Is there a way to implement the same fix for Empathy? The chat client
doesn't currently provide a way to change this setting, and I'm not
experienced enough to write a piece of software that's able to, if that's
even possible. On Windows, I had a configuration tool that could update the
webcam settings while I was video chatting, but I don't see something
similar for Linux.

In short, is there a way to change the light frequency filter settings in a
program I didn't write?

Thanks so much!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20100331/f08bffd0/attachment.html>

