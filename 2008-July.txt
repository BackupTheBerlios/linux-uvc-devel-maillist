From richietommy at yahoo.com  Tue Jul  1 06:27:22 2008
From: richietommy at yahoo.com (Rich)
Date: Mon, 30 Jun 2008 21:27:22 -0700 (PDT)
Subject: [Linux-uvc-devel] Re. Reording sync'ed audio and video with
	uvcvideo + alsa
Message-ID: <814687.17244.qm@web52411.mail.re2.yahoo.com>

New versions of GStreamer record audio and video synced with v4l2src, 
and seem to handle a couple of UVC devices I've tried just fine. Try this:


gst-launch-0.10 v4l2src device=/dev/video0 queue-size=16 ! \ 
video/x-raw-yuv,width=640,height=480,framerate=30/1 ! \
tee name=tee tee. ! queue ! ffmpegcolorspace ! queue ! x264enc ! \ 
queue ! mux. matroskamux name=mux alsasrc device=hw:1,0 ! \
audiorate ! audio/x-raw-int,rate=48000,channels=2,depth=16 ! queue ! \
audioconvert ! lame !  mux. mux. ! queue ! \
filesink location=~/Desktop/test.mkv tee. ! ffmpegcolorspace ! queue ! \
xvimagesink


That assumes that you have a newer version of gstreamer with things
like the bad and ugly plugin sets.

You may have to adjust your audio settings (I have a stereo webcam that
works up to 48KHz, but a lot of webcams with audio only support 16000
Hz and 1 channel) and video size/rate to work, but that works just fine 
for me, and produces a perfectly synced matroska file (AVI's were always 
out of sync badly when I tried an AVI muxer with gstreamer).

If you want a graphical tool to do this, try this script I wrote:

http://forums.quickcamteam.net/showthread.php?tid=352

and replace every instance of 'avimux' with 'matroskamux' for proper
syncing. Hope that helps,

-Rich

>Is there any work around for this yet?
>
>
>Maurizio Monge wrote:
>> Hi,
>>  please excuse me if this question is not exactly about uvcvideo
>>  development, but was anyone able to record sync'ed audio and video
>>  with some tool?
>>  This is really driving me mad...
>>  transcode for some reason only records at 1fps, mencoder segfaults,
>>  vlc and ffmpeg lose sync, lavrec does not work with v4l2.
>>  Any suggestion? thanks a lot!
>>  Regards.
>>
>>
>>  --
>>  Ciao
>>  Maurizio
>>http://stregatto.wordpress.com
>>
>>  "Well we all shine on
>>  Like the moon and the stars and the sun" (John Lennon)
>>


      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080630/b648c061/attachment.html>

From arjos85 at gmail.com  Tue Jul  1 09:40:00 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Tue, 1 Jul 2008 09:40:00 +0200
Subject: [Linux-uvc-devel] SOLVED: upside-down image from SONIX laptop
	embedded webcam
In-Reply-To: <879e1f2b0806300846n64ac077ev5ffbd260e282b63d@mail.gmail.com>
References: <879e1f2b0806171214u4b553bf8t6771a356536936ca@mail.gmail.com>
	<200806201332.29045.laurent.pinchart@skynet.be>
	<879e1f2b0806201024w7a4adb04ld54042895614798e@mail.gmail.com>
	<200806242355.37075.laurent.pinchart@skynet.be>
	<879e1f2b0806260726i1e097b3ei9d81159bd9ec3fe3@mail.gmail.com>
	<879e1f2b0806300846n64ac077ev5ffbd260e282b63d@mail.gmail.com>
Message-ID: <879e1f2b0807010040j217e655an8a3fcb44cab616ef@mail.gmail.com>

Hi Laurent,
just one question:
I didn't understand why it is not possible to add my patch to the driver.
You said because it's a userspace job...
yes I know...but I also know there are also other driver that do this kind
of job!!

Let me know,
thank you very much.

Regards,

Marco Argiolas

2008/6/26 Marco Argiolas <arjos85 at gmail.com>:

Hey Laurent,
> I've tried to follow all your suggestion, I hope I didn't any mistakes.
>
> However you can find the updated HOW-TO always here:
> http://ubuntuforums.org/showthread.php?t=838210
>
> I did the following changes:
> - used PATCHES instead of the source of the modded function;
> - I've tried to speed up for the solutions with memory allocation, just
> allocating half the size of a frame;
> - I've rolled back the last "if (len >= maxlen)" to "if (len > maxlen)";
> - I've deleted some variable that where not needed;
> - in the solutions without allocation, I've modified a little bit the
> "filosofy" on counting the offset where to copy data. In this way it should
> be more clear to understand;
> - added a complete explaination of the code with a lot of comments (I hope
> they are clear and meaningful).
>
> I hope all these changes can help the final users and make the code more
> clear!!  ;)
>
> If you have any other suggestions...please let me know!!
>
> Thank you,
> Regards
>
> Marco Argiolas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080701/35291c09/attachment.html>

From arjos85 at gmail.com  Tue Jul  1 12:16:21 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Tue, 1 Jul 2008 12:16:21 +0200
Subject: [Linux-uvc-devel] SOLVED: upside-down image from SONIX laptop
	embedded webcam
In-Reply-To: <879e1f2b0807010040j217e655an8a3fcb44cab616ef@mail.gmail.com>
References: <879e1f2b0806171214u4b553bf8t6771a356536936ca@mail.gmail.com>
	<200806201332.29045.laurent.pinchart@skynet.be>
	<879e1f2b0806201024w7a4adb04ld54042895614798e@mail.gmail.com>
	<200806242355.37075.laurent.pinchart@skynet.be>
	<879e1f2b0806260726i1e097b3ei9d81159bd9ec3fe3@mail.gmail.com>
	<879e1f2b0806300846n64ac077ev5ffbd260e282b63d@mail.gmail.com>
	<879e1f2b0807010040j217e655an8a3fcb44cab616ef@mail.gmail.com>
Message-ID: <879e1f2b0807010316x6621cf4dy1168a6602962df34@mail.gmail.com>

Other two questions:
my patches just works with YUYV format and Memory Mapped streaming method.
I'd like to make them more flexible!!
1) Are the following all the supported image formats? (I took them from
videodev2.h)

/*      Pixel format         FOURCC                        depth
Description  */
#define V4L2_PIX_FMT_RGB332
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB332>
v4l2_fourcc('R','G','B','1') /*  8  RGB-3-3-2     */
#define V4L2_PIX_FMT_RGB444
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB444>
v4l2_fourcc('R','4','4','4') /* 16  xxxxrrrr ggggbbbb */
#define V4L2_PIX_FMT_RGB555
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB555>
v4l2_fourcc('R','G','B','O') /* 16  RGB-5-5-5     */
#define V4L2_PIX_FMT_RGB565
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB565>
v4l2_fourcc('R','G','B','P') /* 16  RGB-5-6-5     */
#define V4L2_PIX_FMT_RGB555X
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB555X>
v4l2_fourcc('R','G','B','Q') /* 16  RGB-5-5-5 BE  */
#define V4L2_PIX_FMT_RGB565X
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB565X>
v4l2_fourcc('R','G','B','R') /* 16  RGB-5-6-5 BE  */
#define V4L2_PIX_FMT_BGR24
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-BGR24>
v4l2_fourcc('B','G','R','3') /* 24  BGR-8-8-8     */
#define V4L2_PIX_FMT_RGB24
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB24>
v4l2_fourcc('R','G','B','3') /* 24  RGB-8-8-8     */
#define V4L2_PIX_FMT_BGR32
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-BGR32>
v4l2_fourcc('B','G','R','4') /* 32  BGR-8-8-8-8   */
#define V4L2_PIX_FMT_RGB32
<http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB32>
v4l2_fourcc('R','G','B','4') /* 32  RGB-8-8-8-8   */
#define V4L2_PIX_FMT_GREY <http://v4l2spec.bytesex.org/spec/r4185.htm>
   v4l2_fourcc('G','R','E','Y') /*  8  Greyscale     */
#define V4L2_PIX_FMT_Y16 <http://v4l2spec.bytesex.org/spec/r4246.htm>
   v4l2_fourcc('Y','1','6',' ') /* 16  Greyscale     */
#define V4L2_PIX_FMT_PAL8
<http://v4l2spec.bytesex.org/spec/x2428.htm#V4L2-PIX-FMT-PAL8>
v4l2_fourcc('P','A','L','8') /*  8  8-bit palette */
#define V4L2_PIX_FMT_YVU410
<http://v4l2spec.bytesex.org/spec/r5016.htm#V4L2-PIX-FMT-YVU410>
v4l2_fourcc('Y','V','U','9') /*  9  YVU 4:1:0     */
#define V4L2_PIX_FMT_YVU420
<http://v4l2spec.bytesex.org/spec/r4850.htm#V4L2-PIX-FMT-YVU420>
v4l2_fourcc('Y','V','1','2') /* 12  YVU 4:2:0     */
#define V4L2_PIX_FMT_YUYV <http://v4l2spec.bytesex.org/spec/r4339.htm>
   v4l2_fourcc('Y','U','Y','V') /* 16  YUV 4:2:2     */
#define V4L2_PIX_FMT_UYVY <http://v4l2spec.bytesex.org/spec/r4484.htm>
   v4l2_fourcc('U','Y','V','Y') /* 16  YUV 4:2:2     */
#define V4L2_PIX_FMT_YUV422P
<http://v4l2spec.bytesex.org/spec/r5154.htm>
v4l2_fourcc('4','2','2','P') /* 16  YVU422 planar */
#define V4L2_PIX_FMT_YUV411P
<http://v4l2spec.bytesex.org/spec/r5319.htm>
v4l2_fourcc('4','1','1','P') /* 16  YVU411 planar */
#define V4L2_PIX_FMT_Y41P <http://v4l2spec.bytesex.org/spec/r4629.htm>
   v4l2_fourcc('Y','4','1','P') /* 12  YUV 4:1:1     */
#define V4L2_PIX_FMT_YUV444
<http://v4l2spec.bytesex.org/spec/r3896.htm#V4L2-PIX-FMT-YUV444>
v4l2_fourcc('Y','4','4','4') /* 16  xxxxyyyy uuuuvvvv */
#define V4L2_PIX_FMT_YUV555
<http://v4l2spec.bytesex.org/spec/r3896.htm#V4L2-PIX-FMT-YUV555>
v4l2_fourcc('Y','U','V','O') /* 16  YUV-5-5-5     */
#define V4L2_PIX_FMT_YUV565
<http://v4l2spec.bytesex.org/spec/r3896.htm#V4L2-PIX-FMT-YUV565>
v4l2_fourcc('Y','U','V','P') /* 16  YUV-5-6-5     */
#define V4L2_PIX_FMT_YUV32
<http://v4l2spec.bytesex.org/spec/r3896.htm#V4L2-PIX-FMT-YUV32>
v4l2_fourcc('Y','U','V','4') /* 32  YUV-8-8-8-8   */

/* two planes -- one Y, one Cr + Cb interleaved  */
#define V4L2_PIX_FMT_NV12
<http://v4l2spec.bytesex.org/spec/r5470.htm#V4L2-PIX-FMT-NV12>
v4l2_fourcc('N','V','1','2') /* 12  Y/CbCr 4:2:0  */
#define V4L2_PIX_FMT_NV21
<http://v4l2spec.bytesex.org/spec/r5470.htm#V4L2-PIX-FMT-NV21>
v4l2_fourcc('N','V','2','1') /* 12  Y/CrCb 4:2:0  */

/*  The following formats are not defined in the V4L2 specification */
#define V4L2_PIX_FMT_YUV410
<http://v4l2spec.bytesex.org/spec/r5016.htm#V4L2-PIX-FMT-YUV410>
v4l2_fourcc('Y','U','V','9') /*  9  YUV 4:1:0     */
#define V4L2_PIX_FMT_YUV420
<http://v4l2spec.bytesex.org/spec/r4850.htm#V4L2-PIX-FMT-YUV420>
v4l2_fourcc('Y','U','1','2') /* 12  YUV 4:2:0     */
#define V4L2_PIX_FMT_YYUV
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-YYUV>
v4l2_fourcc('Y','Y','U','V') /* 16  YUV 4:2:2     */
#define V4L2_PIX_FMT_HI240
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-HI240>
v4l2_fourcc('H','I','2','4') /*  8  8-bit color   */
#define V4L2_PIX_FMT_HM12
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-HM12>
v4l2_fourcc('H','M','1','2') /*  8  YUV 4:2:0 16x16 macroblocks */

/* see http://www.siliconimaging.com/RGB%20Bayer.htm */
#define V4L2_PIX_FMT_SBGGR8
<http://v4l2spec.bytesex.org/spec/r3735.htm>
v4l2_fourcc('B','A','8','1') /*  8  BGBG.. GRGR.. */
#define V4L2_PIX_FMT_SBGGR16
<http://v4l2spec.bytesex.org/spec/r3796.htm>
v4l2_fourcc('B','Y','R','2') /* 16  BGBG.. GRGR.. */

/* compressed formats */
#define V4L2_PIX_FMT_MJPEG
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-MJPEG>
v4l2_fourcc('M','J','P','G') /* Motion-JPEG   */
#define V4L2_PIX_FMT_JPEG
<http://v4l2spec.bytesex.org/spec/x5634.htm#V4L2-PIX-FMT-JPEG>
v4l2_fourcc('J','P','E','G') /* JFIF JPEG     */
#define V4L2_PIX_FMT_DV
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-DV>
v4l2_fourcc('d','v','s','d') /* 1394          */
#define V4L2_PIX_FMT_MPEG
<http://v4l2spec.bytesex.org/spec/x5634.htm#V4L2-PIX-FMT-MPEG>
v4l2_fourcc('M','P','E','G') /* MPEG-1/2/4    */

/*  Vendor-specific formats   */
#define V4L2_PIX_FMT_WNVA
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-WNVA>
v4l2_fourcc('W','N','V','A') /* Winnov hw compress */
#define V4L2_PIX_FMT_SN9C10X
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-SN9C10X>
v4l2_fourcc('S','9','1','0') /* SN9C10x compression */
#define V4L2_PIX_FMT_PWC1
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-PWC1>
v4l2_fourcc('P','W','C','1') /* pwc older webcam */
#define V4L2_PIX_FMT_PWC2
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-PWC2>
v4l2_fourcc('P','W','C','2') /* pwc newer webcam */
#define V4L2_PIX_FMT_ET61X251
<http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-ET61X251>
v4l2_fourcc('E','6','2','5') /* ET61X251 compression */


2) If I'd like to make a patch for the User Pointer streaming method, which
is the function that does the same of "

uvc_video_decode_data

()" in "uvc_video.c"?

Thank you very much,

Marco Argiolas

ps.
what do you think about this kind of patch? do you think these adds are only
a loss of time?

2008/7/1 Marco Argiolas <arjos85 at gmail.com>:

> Hi Laurent,
> just one question:
> I didn't understand why it is not possible to add my patch to the driver.
> You said because it's a userspace job...
> yes I know...but I also know there are also other driver that do this kind
> of job!!
>
> Let me know,
> thank you very much.
>
> Regards,
>
> Marco Argiolas
>
> 2008/6/26 Marco Argiolas <arjos85 at gmail.com>:
>
> Hey Laurent,
>> I've tried to follow all your suggestion, I hope I didn't any mistakes.
>>
>> However you can find the updated HOW-TO always here:
>> http://ubuntuforums.org/showthread.php?t=838210
>>
>> I did the following changes:
>> - used PATCHES instead of the source of the modded function;
>> - I've tried to speed up for the solutions with memory allocation, just
>> allocating half the size of a frame;
>> - I've rolled back the last "if (len >= maxlen)" to "if (len > maxlen)";
>> - I've deleted some variable that where not needed;
>> - in the solutions without allocation, I've modified a little bit the
>> "filosofy" on counting the offset where to copy data. In this way it should
>> be more clear to understand;
>> - added a complete explaination of the code with a lot of comments (I hope
>> they are clear and meaningful).
>>
>> I hope all these changes can help the final users and make the code more
>> clear!!  ;)
>>
>> If you have any other suggestions...please let me know!!
>>
>> Thank you,
>> Regards
>>
>> Marco Argiolas
>
>


-- 
Marco Argiolas
marco.argiolas at studenti.polito.it
arjos85 at gmail.com
skype: arjos85
msn: sarace2003 at libero.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080701/b30b9791/attachment.html>

From oliver at neukum.org  Tue Jul  1 13:24:06 2008
From: oliver at neukum.org (Oliver Neukum)
Date: Tue, 1 Jul 2008 13:24:06 +0200
Subject: [Linux-uvc-devel] access beyond buffer
Message-ID: <200807011324.07684.oliver@neukum.org>

static int uvc_parse_format:

	switch (buffer[2]) {
	case VS_FORMAT_UNCOMPRESSED:
	case VS_FORMAT_FRAME_BASED:
		if (buflen < 27) {
			uvc_trace(UVC_TRACE_DESCR, "device %d videostreaming"
			       "interface %d FORMAT error\n",
			       dev->udev->devnum,
			       alts->desc.bInterfaceNumber);
			return -EINVAL;
		}

[..]

		format->bpp = buffer[21];
		if (buffer[2] == VS_FORMAT_UNCOMPRESSED) {
			ftype = VS_FRAME_UNCOMPRESSED;
		} else {
			ftype = VS_FRAME_FRAME_BASED;
			if (buffer[27])
				format->flags = UVC_FMT_FLAG_COMPRESSED;
		}
		break;

Hi,

you are checking for a length of at least 27 but access the 28th element
unconditionally. Looks like a check is missing.

	Regards
		Oliver


From oliver at neukum.org  Tue Jul  1 13:43:00 2008
From: oliver at neukum.org (Oliver Neukum)
Date: Tue, 1 Jul 2008 13:43:00 +0200
Subject: [Linux-uvc-devel] resume in uvc video
Message-ID: <200807011343.01343.oliver@neukum.org>

int uvc_status_resume(struct uvc_device *dev)
{
	if (dev->int_urb == NULL)
		return 0;

	return usb_submit_urb(dev->int_urb, GFP_KERNEL);
}

Hi,

if you are waking up from a system suspend, your swap device may still
be asleep. Better use GFP_NOIO.

	Regards
		Oliver


From laurent.pinchart at skynet.be  Tue Jul  1 14:41:54 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 1 Jul 2008 14:41:54 +0200
Subject: [Linux-uvc-devel] access beyond buffer
In-Reply-To: <200807011324.07684.oliver@neukum.org>
References: <200807011324.07684.oliver@neukum.org>
Message-ID: <200807011441.55232.laurent.pinchart@skynet.be>

Hi Oliver,

On Tuesday 01 July 2008, Oliver Neukum wrote:
> you are checking for a length of at least 27 but access the 28th element
> unconditionally. Looks like a check is missing.

Thanks for the report. I've applied a fix to the SVN repository, and I'll
resubmit the driver.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Jul  1 14:52:33 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 1 Jul 2008 14:52:33 +0200
Subject: [Linux-uvc-devel] resume in uvc video
In-Reply-To: <200807011343.01343.oliver@neukum.org>
References: <200807011343.01343.oliver@neukum.org>
Message-ID: <200807011452.34038.laurent.pinchart@skynet.be>

Hi Oliver,

On Tuesday 01 July 2008, Oliver Neukum wrote:
> int uvc_status_resume(struct uvc_device *dev)
> {
> 	if (dev->int_urb == NULL)
> 		return 0;
> 
> 	return usb_submit_urb(dev->int_urb, GFP_KERNEL);
> }
> 
> Hi,
> 
> if you are waking up from a system suspend, your swap device may still
> be asleep. Better use GFP_NOIO.

Thanks for the report.

I assume the same is true for the video resume path where I allocate and submit the video data URBs. The amount of memory the driver allocates there is higher, is there anything I should pay attention to to lower the memory pressure introduced by GFP_NOIO ?

Best regards,

Laurent Pinchart


From kyleaschmitt at gmail.com  Tue Jul  1 17:52:05 2008
From: kyleaschmitt at gmail.com (Kyle Schmitt)
Date: Tue, 1 Jul 2008 10:52:05 -0500
Subject: [Linux-uvc-devel] svn access?
Message-ID: <2b548b8b0807010852x14e6200k39791287005b419f@mail.gmail.com>

This may be an odd question, but is the svn repo up?  I'm trying to
get the drivers to build them for my hp mini-note, and keep on getting
refused connections from my svn attempts.

svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk

Thanks,
         Kyle


From eduardo at freedominterface.org  Tue Jul  1 18:32:23 2008
From: eduardo at freedominterface.org (Eduardo)
Date: Tue, 01 Jul 2008 13:32:23 -0300
Subject: [Linux-uvc-devel] Acer Crystal Eye
Message-ID: <486A5C17.7060802@freedominterface.org>

An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080701/e4b422cb/attachment.html>

From aneeska2k5 at gmail.com  Tue Jul  1 18:41:58 2008
From: aneeska2k5 at gmail.com (aneeskA)
Date: Tue, 1 Jul 2008 22:11:58 +0530
Subject: [Linux-uvc-devel] Omnivision OV7141 -ECX linux driver
In-Reply-To: <55c794f10806300634k41e15e36le1be9872076df875@mail.gmail.com>
References: <55c794f10806262215y6d9f93faxea8c7aeb726c9ab2@mail.gmail.com>
	<200806301522.27273.laurent.pinchart@skynet.be>
	<55c794f10806300634k41e15e36le1be9872076df875@mail.gmail.com>
Message-ID: <55c794f10807010941le22f349ha79972796513cbf6@mail.gmail.com>

Hi Laurent,

    from *http://linux-uvc.berlios.de/* i downloaded uvc driver using  "*svn
checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk*" . the "Supported
Devides" section lists Omnivision cams. but in the code i cant find their
Vendor id or product id in "*static struct usb_device_id uvc_ids[] = {*"
file :- uvc_driver.c line :- 1701.

   any idea why it is so ?

thanks and reagrds
-- anees

On Mon, Jun 30, 2008 at 7:04 PM, aneeskA <aneeska2k5 at gmail.com> wrote:

> Hi Laurent,
>
>
>     Thank you very much for those links.
>
> -- anees
>
>
> On Mon, Jun 30, 2008 at 6:52 PM, Laurent Pinchart <
> laurent.pinchart at skynet.be> wrote:
>
>> Hi Anees,
>>
>> On Friday 27 June 2008, aneeskA wrote:
>> > Hi all,
>> >
>> >     I am looking for a *linux driver to omnivision OV7141 - ECX* cam.
>> Any
>> > one knows where can i get one ?
>>
>> The Linux UVC driver supports UVC compatible cameras only. To check if
>> your
>> camera is UVC compatible, read
>>
>> http://www.quickcamteam.net/documentation/faq/how-do-i-find-out-whether-my-camera-is-a-uvc-device-or-not
>>
>> For non UVC compatible webcams, you might have more luck with the gspca
>> (http://mxhaard.free.fr/spca5xx.html) or microdia
>> (https://groups.google.com/group/microdia) drivers.
>>
>> Best regards,
>>
>> Laurent Pinchart
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080701/66db92b5/attachment.html>

From karl at hiramoto.org  Tue Jul  1 19:12:47 2008
From: karl at hiramoto.org (Karl Hiramoto)
Date: Tue, 01 Jul 2008 19:12:47 +0200
Subject: [Linux-uvc-devel] svn access?
In-Reply-To: <2b548b8b0807010852x14e6200k39791287005b419f@mail.gmail.com>
References: <2b548b8b0807010852x14e6200k39791287005b419f@mail.gmail.com>
Message-ID: <486A658F.3060308@hiramoto.org>

Kyle Schmitt wrote:
> This may be an odd question, but is the svn repo up?  I'm trying to
> get the drivers to build them for my hp mini-note, and keep on getting
> refused connections from my svn attempts.
>
> svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk
>
>   
It works for me.

svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk
A    trunk/uvc_status.c
A    trunk/svn-version.sh
A    trunk/uvc_ctrl.c
A    trunk/uvc_queue.c
A    trunk/uvc_video.c
A    trunk/uvc_isight.c
A    trunk/uvc_v4l2.c
A    trunk/uvc_compat.h
A    trunk/uvc_driver.c
A    trunk/uvcvideo.h
A    trunk/Makefile
A    trunk/dynctrl.txt
Checked out revision 220.



-- 

--
Karl Hiramoto  http://karl.hiramoto.org/
US VOIP: (1) 603.966.4448
Spain Casa  (34) 951.273.347
Spain Mobil (34) 617.463.826
Yahoo_IM = karl_hiramoto  GTalk= karl.hiramoto [at] gmail [d0t] com
skype = karl.hiramoto
--

Cable.  It's more wonderful than I dared hope.

		-- Homer Simpson
		   Homer vs. Lisa and the 8th Commandment



From maximlevitsky at gmail.com  Tue Jul  1 20:06:42 2008
From: maximlevitsky at gmail.com (Maxim Levitsky)
Date: Tue, 01 Jul 2008 21:06:42 +0300
Subject: [Linux-uvc-devel] Acer Crystal Eye
In-Reply-To: <486A5C17.7060802@freedominterface.org>
References: <486A5C17.7060802@freedominterface.org>
Message-ID: <486A7232.3010403@gmail.com>

Eduardo wrote:
> Hi everyone!
> 
> I'm having trouble with my webcam. First I will describe the scenario.
> 
> I have a Acer Aspire 7520-5949 running Slackware Linux 12.1 with Linux 2.6.25.
> I have downloaded svn trunk version of uvcvideo driver, which support Suyin webcam.
> 
> uname -a: Linux symphony 2.6.25-smp #3 SMP Mon Jun 23 01:13:41 BRT 2008 i686 AMD 
> Athlon(tm) 64 X2 Dual-Core Processor TK-53 AuthenticAMD GNU/Linux
> lsusb: Bus 003 Device 002: ID 064e:a101 Suyin Corp.
> cat version.h: #define DRIVER_VERSION  "SVN r220"
> 
> I get load without problems the module built as uvcvideo.ko and it generates a 
> device on /dev/v4l/video0, and in dmesg or tail /var/log/syslog appears the 
> following lines:
> Linux video capture interface: v2.00
> uvcvideo: Found UVC 1.00 device Acer CrystalEye webcam (064e:a101)
> input: Acer CrystalEye webcam as /class/input/input8
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (SVN r217)
> 
> I have tried use luvcview to test my webcam, without success:
> 
> $ ./luvcview
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal
> 
> Defining format with yuv, I have got the following message in the terminal:
> $ ./luvcview -f yuv
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to start capture: 71.
> Error grabbing
>  Clean Up done Quit
> 
> Trying again, I have got a window showing my face. I have closed the window e 
> tried again, without success, and the terminal showed me the same first error 
> with format yuv. I have tried again and I have got success. Conclusion, the 
> luvcview just works when I try twice.
> 
> Using mplayer with that command line: mplayer tv:// -tv fps=15:width=320:height=240
> I have got a green window and mplayer terminal shows me among several 
> informations that errors:
> 
> Selected device: Acer CrystalEye webcam
>  Capabilites:  video capture  streaming
>  supported norms:
>  inputs: 0 = Camera 1;
>  Current input: 0
>  Current format: YUYV
> v4l2: ioctl set format failed: Invalid argument
> v4l2: ioctl set format failed: Invalid argument
> v4l2: ioctl set format failed: Invalid argument
> tv.c: norm_from_string(pal): Bogus norm parameter, setting default.
> v4l2: ioctl enum norm failed: Invalid argument
> Error: Cannot set norm!
> Selected input hasn't got a tuner!
> v4l2: ioctl streamon failed: Protocol error
> 
> I would like to know if anyone had success using that webcam with that driver on 
> some softwares as ekiga, kopete, mplayer, among others.
I have acer aspire 5720g and have no trouble with this webcam.
I had stream freezes with ubuntu kernel, but now I installed svn of uvcvideo, and latest kernel -git,
and it works fine in all programs I tried except tvtime which I suspect just doesn't like image dimisions of this webcam
(It even says so)

I tried cheese, zapping, xawtv, ekiga and skype.

Take a look at dmesg, do you see errors about "Failed to resubmit video URB.."?

Best regards,
	Maxim Levitsky

> 
> 
> -- 
> *Eduardo Ramos*
> Asterisk Manager
> Linux User
> www.freedominterface.org
> +55 12 81129581
> exten=>eduardo,1,hangup()
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel



From mchehab at infradead.org  Tue Jul  1 20:34:22 2008
From: mchehab at infradead.org (Mauro Carvalho Chehab)
Date: Tue, 1 Jul 2008 15:34:22 -0300
Subject: [Linux-uvc-devel] access beyond buffer
In-Reply-To: <200807011441.55232.laurent.pinchart@skynet.be>
References: <200807011324.07684.oliver@neukum.org>
	<200807011441.55232.laurent.pinchart@skynet.be>
Message-ID: <20080701153422.23e3d919@gaivota>

On Tue, 1 Jul 2008 14:41:54 +0200
Laurent Pinchart <laurent.pinchart at skynet.be> wrote:

> Hi Oliver,
> 
> On Tuesday 01 July 2008, Oliver Neukum wrote:
> > you are checking for a length of at least 27 but access the 28th element
> > unconditionally. Looks like a check is missing.
> 
> Thanks for the report. I've applied a fix to the SVN repository, and I'll
> resubmit the driver.

Just submit the fix patch(es).


Cheers,
Mauro


From laurent.pinchart at skynet.be  Tue Jul  1 22:03:42 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 1 Jul 2008 22:03:42 +0200
Subject: [Linux-uvc-devel] Omnivision OV7141 -ECX linux driver
In-Reply-To: <55c794f10807010941le22f349ha79972796513cbf6@mail.gmail.com>
References: <55c794f10806262215y6d9f93faxea8c7aeb726c9ab2@mail.gmail.com>
	<55c794f10806300634k41e15e36le1be9872076df875@mail.gmail.com>
	<55c794f10807010941le22f349ha79972796513cbf6@mail.gmail.com>
Message-ID: <200807012203.42836.laurent.pinchart@skynet.be>

Hi Anees,

On Tuesday 01 July 2008, aneeskA wrote:
> Hi Laurent,
>
>     from *http://linux-uvc.berlios.de/* i downloaded uvc driver using 
> "*svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk*" . the
> "Supported Devides" section lists Omnivision cams. but in the code i cant
> find their Vendor id or product id in "*static struct usb_device_id
> uvc_ids[] = {*" file :- uvc_driver.c line :- 1701.
>
>    any idea why it is so ?

Because UVC devices report UVC compatibility in the bInterfaceClass and 
bInterfaceSubClass fields. The VID:PID is only used for non-compliant devices 
that require special handling from the driver.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Jul  1 23:07:46 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 1 Jul 2008 23:07:46 +0200
Subject: [Linux-uvc-devel] Acer Crystal Eye
In-Reply-To: <486A5C17.7060802@freedominterface.org>
References: <486A5C17.7060802@freedominterface.org>
Message-ID: <200807012307.46328.laurent.pinchart@skynet.be>

Hi Eduardo,

On Tuesday 01 July 2008, Eduardo wrote:
> Hi everyone!
>
>  I'm having trouble with my webcam. First I will describe the scenario.
>
>  I have a Acer Aspire 7520-5949 running Slackware Linux 12.1 with Linux
> 2.6.25. I have downloaded svn trunk version of uvcvideo driver, which
> support Suyin webcam.
>
>  uname -a: Linux symphony 2.6.25-smp #3 SMP Mon Jun 23 01:13:41 BRT 2008
> i686 AMD Athlon(tm) 64 X2 Dual-Core Processor TK-53 AuthenticAMD GNU/Linux
> lsusb: Bus 003 Device 002: ID 064e:a101 Suyin Corp.
>  cat version.h: #define DRIVER_VERSION? "SVN r220"
>
>  I get load without problems the module built as uvcvideo.ko and it
> generates a device on /dev/v4l/video0, and in dmesg or tail /var/log/syslog
> appears the following lines: Linux video capture interface: v2.00
>  uvcvideo: Found UVC 1.00 device Acer CrystalEye webcam (064e:a101)
>  input: Acer CrystalEye webcam as /class/input/input8
>  usbcore: registered new interface driver uvcvideo
>  USB Video Class driver (SVN r217)
>
>  I have tried use luvcview to test my webcam, without success:
>
>  $ ./luvcview
>  luvcview version 0.2.1
>  Video driver: x11
>  A window manager is available
>  video /dev/video0
>  Unable to set format: 22.
>  ?Init v4L2 failed !! exit fatal

This is pretty normal, as luvcview defaults to mjpeg and your camera supports 
yuv only.

>  Defining format with yuv, I have got the following message in the
> terminal: $ ./luvcview -f yuv
>  luvcview version 0.2.1
>  Video driver: x11
>  A window manager is available
>  video /dev/video0
>  Unable to start capture: 71.
>  Error grabbing
>  ?Clean Up done Quit

That's less normal. 71 means protocol error, and I hate protocol errors. They 
are often caused by buggy hardware/firmware (either on the device side, or on 
the host controller side).

Could you please try the 2.6.26-rc8 kernel ? A few USB host controller (EHCI) 
changes have made their way in the kernel since 2.6.25 and I'd like to find 
out if they help.

>  Trying again, I have got a window showing my face. I have closed the
> window e tried again, without success, and the terminal showed me the same
> first error with format yuv. I have tried again and I have got success.
> Conclusion, the luvcview just works when I try twice.

I've had similar reports, but with different webcams and different error 
codes, so they are probably unrelated.

Michael Sparks posted a mail on June the 4th to the Linux UVC mailing list 
whose subject was 'PATCH: Acer Crystal Eye WebCam (064e:a101 Suyin Corp.)'. 
He experienced a similar if not identical issue.

>  Using mplayer with that command line: mplayer tv:// -tv
> fps=15:width=320:height=240 I have got a green window and mplayer terminal
> shows me among several informations that errors:
>
>  Selected device: Acer CrystalEye webcam
>  ?Capabilites:? video capture? streaming
>  ?supported norms:
>  ?inputs: 0 = Camera 1;
>  ?Current input: 0
>  ?Current format: YUYV
>  v4l2: ioctl set format failed: Invalid argument
>  v4l2: ioctl set format failed: Invalid argument
>  v4l2: ioctl set format failed: Invalid argument
>  tv.c: norm_from_string(pal): Bogus norm parameter, setting default.
>  v4l2: ioctl enum norm failed: Invalid argument
>  Error: Cannot set norm!
>  Selected input hasn't got a tuner!
>  v4l2: ioctl streamon failed: Protocol error

Still the same hardware/firmware problem.

>  I would like to know if anyone had success using that webcam with that
> driver on some softwares as ekiga, kopete, mplayer, among others.

Could you please check the kernel log after the problem arises and report 
messages printed by the uvcvideo driver ? I'd appreciate if you could check 
the log using both 2.6.25 and 2.6.26-rc8.

Best regards,

Laurent Pinchart


From sparks.m at gmail.com  Tue Jul  1 23:20:18 2008
From: sparks.m at gmail.com (Michael Sparks)
Date: Tue, 1 Jul 2008 22:20:18 +0100
Subject: [Linux-uvc-devel] Acer Crystal Eye
Message-ID: <200807012220.18836.sparks.m@gmail.com>

On Tuesday 01 July 2008 17:32:23 Eduardo wrote:
> Hi everyone!
>
>  I'm having trouble with my webcam. First I will describe the scenario.
>
>  I have a Acer Aspire 7520-5949 running Slackware Linux 12.1 with Linux
> 2.6.25. I have downloaded svn trunk version of uvcvideo driver, which
> support Suyin webcam.

Sounds like you have /exactly/ the same issue I found with my machine - 
different acer model, but reports as being the same camera[1]. (complete with 
the "now it works", "now it doesn't", "now it works", "now it doesn't", ... 
behaviour.

[1] It's conceivable that the different cameras may report themselves as the
      same. I've seen that with SCSI hardware support in the past...

I also produced a fix/patch which fixes the issue however, and discussed it 
here. Laurent asked me to look into trying with the latest kernel as well, 
but I've (still) not had a chance to do that.

Anyway the thread is starts here, with patch, etc:

https://lists.berlios.de/pipermail/linux-uvc-devel/2008-June/003568.html

You'll note from the patch that the specific error it does a retry on is error 
71 - which matches your luvcview error (matching the errors I saw).

If you could try that and report back, it'd be useful. If you beat me to 
retrying with 2.6.26-rc5 as requested by Laurent, that'd be cool :-) (I've 
simply not had *any* chance to do this since then :-( sorry Laurent!)

The above fix makes the camera work with everything I've tried. (including for 
example video skype and random tools I've written)

Regards,


Michael


From aneeska2k5 at gmail.com  Wed Jul  2 07:38:58 2008
From: aneeska2k5 at gmail.com (aneeskA)
Date: Wed, 2 Jul 2008 11:08:58 +0530
Subject: [Linux-uvc-devel] Omnivision OV7141 -ECX linux driver
In-Reply-To: <200807012203.42836.laurent.pinchart@skynet.be>
References: <55c794f10806262215y6d9f93faxea8c7aeb726c9ab2@mail.gmail.com>
	<55c794f10806300634k41e15e36le1be9872076df875@mail.gmail.com>
	<55c794f10807010941le22f349ha79972796513cbf6@mail.gmail.com>
	<200807012203.42836.laurent.pinchart@skynet.be>
Message-ID: <55c794f10807012238i7034c7e7ocbb3417c1ab6f2a1@mail.gmail.com>

Hi Laurent,

   Thanks for that info. It was highly useful. Theres one more thing
regarding UVC driver. When i try to compile the driver the following symbols
are said to be undefined:-

input_allocate_device()

input_register_device()

input_unregister_device()

input_free_device()

all are from the file -- uvc_status.c. Any idea why this is so ? although
this is reported as warning it prevents me from loading the module. Any help
is highly appreciated.

thanks and regards

-- anees

On Wed, Jul 2, 2008 at 1:33 AM, Laurent Pinchart <laurent.pinchart at skynet.be>
wrote:

> Hi Anees,
>
> On Tuesday 01 July 2008, aneeskA wrote:
> > Hi Laurent,
> >
> >     from *http://linux-uvc.berlios.de/* i downloaded uvc driver using
> > "*svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk*" . the
> > "Supported Devides" section lists Omnivision cams. but in the code i cant
> > find their Vendor id or product id in "*static struct usb_device_id
> > uvc_ids[] = {*" file :- uvc_driver.c line :- 1701.
> >
> >    any idea why it is so ?
>
> Because UVC devices report UVC compatibility in the bInterfaceClass and
> bInterfaceSubClass fields. The VID:PID is only used for non-compliant
> devices
> that require special handling from the driver.
>
> Best regards,
>
> Laurent Pinchart
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080702/8ae50d5f/attachment.html>

From aneeska2k5 at gmail.com  Wed Jul  2 11:42:17 2008
From: aneeska2k5 at gmail.com (aneeskA)
Date: Wed, 2 Jul 2008 15:12:17 +0530
Subject: [Linux-uvc-devel] Omnivision OV7141 -ECX linux driver
In-Reply-To: <55c794f10807012238i7034c7e7ocbb3417c1ab6f2a1@mail.gmail.com>
References: <55c794f10806262215y6d9f93faxea8c7aeb726c9ab2@mail.gmail.com>
	<55c794f10806300634k41e15e36le1be9872076df875@mail.gmail.com>
	<55c794f10807010941le22f349ha79972796513cbf6@mail.gmail.com>
	<200807012203.42836.laurent.pinchart@skynet.be>
	<55c794f10807012238i7034c7e7ocbb3417c1ab6f2a1@mail.gmail.com>
Message-ID: <55c794f10807020242h5fe7f7b9ofcd3164579192b6c@mail.gmail.com>

I have found out what the issue was. the kernel didnt have support for these
and once i turned on, everything became ok.

thanks and regards

-- anees

On Wed, Jul 2, 2008 at 11:08 AM, aneeskA <aneeska2k5 at gmail.com> wrote:

> Hi Laurent,
>
>    Thanks for that info. It was highly useful. Theres one more thing
> regarding UVC driver. When i try to compile the driver the following symbols
> are said to be undefined:-
>
> input_allocate_device()
>
> input_register_device()
>
> input_unregister_device()
>
> input_free_device()
>
> all are from the file -- uvc_status.c. Any idea why this is so ? although
> this is reported as warning it prevents me from loading the module. Any help
> is highly appreciated.
>
> thanks and regards
>
> -- anees
>
>
> On Wed, Jul 2, 2008 at 1:33 AM, Laurent Pinchart <
> laurent.pinchart at skynet.be> wrote:
>
>> Hi Anees,
>>
>> On Tuesday 01 July 2008, aneeskA wrote:
>> > Hi Laurent,
>> >
>> >     from *http://linux-uvc.berlios.de/* i downloaded uvc driver using
>> > "*svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk*" . the
>> > "Supported Devides" section lists Omnivision cams. but in the code i
>> cant
>> > find their Vendor id or product id in "*static struct usb_device_id
>> > uvc_ids[] = {*" file :- uvc_driver.c line :- 1701.
>> >
>> >    any idea why it is so ?
>>
>> Because UVC devices report UVC compatibility in the bInterfaceClass and
>> bInterfaceSubClass fields. The VID:PID is only used for non-compliant
>> devices
>> that require special handling from the driver.
>>
>> Best regards,
>>
>> Laurent Pinchart
>>
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080702/b06bfa2a/attachment.html>

From oliver at neukum.org  Wed Jul  2 14:50:53 2008
From: oliver at neukum.org (Oliver Neukum)
Date: Wed, 2 Jul 2008 14:50:53 +0200
Subject: [Linux-uvc-devel] resume in uvc video
In-Reply-To: <200807011452.34038.laurent.pinchart@skynet.be>
References: <200807011343.01343.oliver@neukum.org>
	<200807011452.34038.laurent.pinchart@skynet.be>
Message-ID: <200807021450.53654.oliver@neukum.org>

Am Dienstag 01 Juli 2008 14:52:33 schrieb Laurent Pinchart:
> Hi Oliver,
> 
> On Tuesday 01 July 2008, Oliver Neukum wrote:
> > int uvc_status_resume(struct uvc_device *dev)
> > {
> > 	if (dev->int_urb == NULL)
> > 		return 0;
> > 
> > 	return usb_submit_urb(dev->int_urb, GFP_KERNEL);
> > }
> > 
> > Hi,
> > 
> > if you are waking up from a system suspend, your swap device may still
> > be asleep. Better use GFP_NOIO.
> 
> Thanks for the report.
> 
> I assume the same is true for the video resume path where I allocate and submit the video data URBs. The amount of memory the driver allocates there is higher, is there anything I should pay attention to to lower the memory pressure introduced by GFP_NOIO ?

How much memory is that?

	Regards
		Oliver


From conrad_videokonferenz at gmx.de  Wed Jul  2 22:06:30 2008
From: conrad_videokonferenz at gmx.de (Conrad Beckert)
Date: Wed, 02 Jul 2008 22:06:30 +0200
Subject: [Linux-uvc-devel] Acer Crystal Eye
In-Reply-To: <486A5C17.7060802@freedominterface.org>
References: <486A5C17.7060802@freedominterface.org>
Message-ID: <20080702200630.83280@gmx.net>

Hi 

... I have the same camera in my Acer Travelmate 5720 notebook. It used to work on Kubuntu Hardy with at least some programs (e.g. Kopete) but since some kernel update I'm getting the following messages in the syslog when I access the cam with Kopete:

ul  2 21:35:02 becconmobil kernel: [ 1060.771468] uvcvideo: Failed to query (1) UVC control 9 (unit 3) : -32 (exp. 2).
Jul  2 21:35:02 becconmobil kernel: [ 1060.784658] uvcvideo: Failed to query (1) UVC control 9 (unit 3) : -32 (exp. 2).
Jul  2 21:35:06 becconmobil kernel: [ 1063.203034] usb 6-1: USB disconnect, address 2
Jul  2 21:35:06 becconmobil NetworkManager: <debug> [1215027306.133704] nm_hal_device_removed(): Device removed (hal udi is '/org/freedesktop/Hal/devices/usb_device_64e_a101_CN0314_OV03_VA_R02_00_00_if0_logicaldev_input').
Jul  2 21:35:06 becconmobil NetworkManager: <debug> [1215027306.145828] nm_hal_device_removed(): Device removed (hal udi is '/org/freedesktop/Hal/devices/usb_device_64e_a101_CN0314_OV03_VA_R02_00_00_if0').
Jul  2 21:35:06 becconmobil NetworkManager: <debug> [1215027306.146531] nm_hal_device_removed(): Device removed (hal udi is '/org/freedesktop/Hal/devices/usb_device_64e_a101_CN0314_OV03_VA_R02_00_00_if1').
Jul  2 21:35:06 becconmobil NetworkManager: <debug> [1215027306.148510] nm_hal_device_removed(): Device removed (hal udi is '/org/freedesktop/Hal/devices/usb_device_64e_a101_CN0314_OV03_VA_R02_00_00').
Jul  2 21:35:06 becconmobil NetworkManager: <debug> [1215027306.149459] nm_hal_device_removed(): Device removed (hal udi is '/org/freedesktop/Hal/devices/usb_device_64e_a101_CN0314_OV03_VA_R02_00_00_if0_video4linux').
Jul  2 21:35:06 becconmobil kernel: [ 1063.469921] usb 6-1: new high speed USB device using ehci_hcd and address 3
Jul  2 21:35:06 becconmobil kernel: [ 1063.602512] usb 6-1: device descriptor read/all, error -75
Jul  2 21:35:06 becconmobil kernel: [ 1063.721482] usb 6-1: new high speed USB device using ehci_hcd and address 4
Jul  2 21:35:06 becconmobil kernel: [ 1063.854353] usb 6-1: device descriptor read/all, error -75
Jul  2 21:35:06 becconmobil kernel: [ 1063.970337] usb 6-1: new high speed USB device using ehci_hcd and address 5
Jul  2 21:35:07 becconmobil kernel: [ 1064.198558] usb 6-1: device descriptor read/8, error -71
Jul  2 21:35:07 becconmobil kernel: [ 1064.319483] usb 6-1: device descriptor read/8, error -71
                                                                                                 

Obviously some usb issues.  After that, the camera disappears from the lsusb-list. 

By the way: I was never able to use Linphone or Skype. Ekiga only gave me a green blank image.
What's wrong. Any ideas how to get the cam to work?

My system details:
- Acer Travelmate 5720
- Kubuntu Hardy: uname -a
Linux becconmobil 2.6.24-19-generic #1 SMP Wed Jun 18 14:43:41 UTC 2008 i686 GNU/Linux
- uvc module compiled from cvs June 26th 2008 23:11


Thanks for help
Conrad


From laurent.pinchart at skynet.be  Thu Jul  3 00:10:24 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 3 Jul 2008 00:10:24 +0200
Subject: [Linux-uvc-devel] Omnivision OV7141 -ECX linux driver
In-Reply-To: <55c794f10807020242h5fe7f7b9ofcd3164579192b6c@mail.gmail.com>
References: <55c794f10806262215y6d9f93faxea8c7aeb726c9ab2@mail.gmail.com>
	<55c794f10807012238i7034c7e7ocbb3417c1ab6f2a1@mail.gmail.com>
	<55c794f10807020242h5fe7f7b9ofcd3164579192b6c@mail.gmail.com>
Message-ID: <200807030010.24645.laurent.pinchart@skynet.be>

Hi Anees,

On Wednesday 02 July 2008, aneeskA wrote:
> I have found out what the issue was. the kernel didnt have support for
> these and once i turned on, everything became ok.

Thanks for the information. I'll fix the driver not to register an input 
device when CONFIG_INPUT is not set.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Jul  3 00:16:52 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 3 Jul 2008 00:16:52 +0200
Subject: [Linux-uvc-devel] resume in uvc video
In-Reply-To: <200807021450.53654.oliver@neukum.org>
References: <200807011343.01343.oliver@neukum.org>
	<200807011452.34038.laurent.pinchart@skynet.be>
	<200807021450.53654.oliver@neukum.org>
Message-ID: <200807030016.52497.laurent.pinchart@skynet.be>

On Wednesday 02 July 2008, Oliver Neukum wrote:
> Am Dienstag 01 Juli 2008 14:52:33 schrieb Laurent Pinchart:
> > Hi Oliver,
> >
> > On Tuesday 01 July 2008, Oliver Neukum wrote:
> > > int uvc_status_resume(struct uvc_device *dev)
> > > {
> > > 	if (dev->int_urb == NULL)
> > > 		return 0;
> > >
> > > 	return usb_submit_urb(dev->int_urb, GFP_KERNEL);
> > > }
> > >
> > > Hi,
> > >
> > > if you are waking up from a system suspend, your swap device may still
> > > be asleep. Better use GFP_NOIO.
> >
> > Thanks for the report.
> >
> > I assume the same is true for the video resume path where I allocate and
> > submit the video data URBs. The amount of memory the driver allocates
> > there is higher, is there anything I should pay attention to to lower the
> > memory pressure introduced by GFP_NOIO ?
>
> How much memory is that?

For isochronous transfers (bulk transfers use smaller buffers), the driver 
allocates five video buffers of at 240kB each.

Best regards,

Laurent Pinchart


From oliver at neukum.org  Thu Jul  3 08:55:45 2008
From: oliver at neukum.org (Oliver Neukum)
Date: Thu, 3 Jul 2008 08:55:45 +0200
Subject: [Linux-uvc-devel] resume in uvc video
In-Reply-To: <200807030016.52497.laurent.pinchart@skynet.be>
References: <200807011343.01343.oliver@neukum.org>
	<200807021450.53654.oliver@neukum.org>
	<200807030016.52497.laurent.pinchart@skynet.be>
Message-ID: <200807030855.46925.oliver@neukum.org>

Am Donnerstag 03 Juli 2008 00:16:52 schrieb Laurent Pinchart:
> On Wednesday 02 July 2008, Oliver Neukum wrote:
> > Am Dienstag 01 Juli 2008 14:52:33 schrieb Laurent Pinchart:
> > > Hi Oliver,
> > >
> > > On Tuesday 01 July 2008, Oliver Neukum wrote:
> > > > int uvc_status_resume(struct uvc_device *dev)
> > > > {
> > > > 	if (dev->int_urb == NULL)
> > > > 		return 0;
> > > >
> > > > 	return usb_submit_urb(dev->int_urb, GFP_KERNEL);
> > > > }
> > > >
> > > > Hi,
> > > >
> > > > if you are waking up from a system suspend, your swap device may still
> > > > be asleep. Better use GFP_NOIO.
> > >
> > > Thanks for the report.
> > >
> > > I assume the same is true for the video resume path where I allocate and
> > > submit the video data URBs. The amount of memory the driver allocates
> > > there is higher, is there anything I should pay attention to to lower the
> > > memory pressure introduced by GFP_NOIO ?
> >
> > How much memory is that?
> 
> For isochronous transfers (bulk transfers use smaller buffers), the driver 
> allocates five video buffers of at 240kB each.

That is over 1MB in the worst case. Can't you keep the buffers allocated?

	Regards
		Oliver


From Nikolaus at rath.org  Thu Jul  3 11:32:20 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Thu, 03 Jul 2008 11:32:20 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
Message-ID: <87bq1fqpnf.fsf@nokile.rath.org>

Hello,

I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
the webcam using e.g. mplayer, everything works fine (example
screenshot: http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png ).

However, if I try to access the webcam using ekiga (www.ekiga.org),
the video is garbled. It is only green and has horizontal lines all
over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png

I suppose this is more likely to be an ekiga bug, but since I'm not
entirely sure, I wanted to ask here as well. Has anyone else
encountered this problem, maybe with a different application? Or is
there something I could do with the driver to avoid the problem?

Best regards & thanks for the great work,

   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From maximlevitsky at gmail.com  Thu Jul  3 19:44:08 2008
From: maximlevitsky at gmail.com (Maxim Levitsky)
Date: Thu, 03 Jul 2008 20:44:08 +0300
Subject: [Linux-uvc-devel] [Offtopic] Skype 2 + video
Message-ID: <486D0FE8.4060008@gmail.com>

I know that this is off topic, and skype is properly software,
but by the chance, did anybody have similar problem I have with video calls.

When I do video call, the video is displayed on both ends,
but contents of the window that
contains video aren't updated.
Is this known?, is there any solution?

Best regards,
	Maxim Levitsky


From deloptes at yahoo.com  Thu Jul  3 23:16:40 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Thu, 3 Jul 2008 14:16:40 -0700 (PDT)
Subject: [Linux-uvc-devel] Question uvc Philps SPC620NC nvidia, ati and Skype
In-Reply-To: <mailman.115.1215079370.11941.linux-uvc-devel@lists.berlios.de>
Message-ID: <993202.54733.qm@web53202.mail.re2.yahoo.com>

Hello, I know that may be this is the wrong place  to post the question, but I hope and think that many of you are using your cams with Skype on different hardware and can help me solve the problems we have. I'm also sorry that this posting got a little bit long.

1) This is not a problem but a statement. I have SPC1000 and it is working flowlessly with two monitors on intel 945GM/GMS chipset without drm/dri, because intel does not support the drm. I don't think this is the reason for the following 2 problems.

2) Problem 1: My father has a Toshiba Satellite with NVidia GeForce4 460. I installed linux few years aago (SuSE) and he's pretty happy with it, but I have to support it because he is a mere user. Proprietary nvidia driver works fine with it but Skype does not. I tested it with the nv driver and it works great. With the nvidia either I can see him or he can sees me, but as soon as we both switch on our webcams the image freezes and speech get's broken and finally lost.

The Question: Is there someone who uses nvidia proprietary (especially with this video card model) and with the uvc driver (especially with this webcam model)? 

Does someone has a good xorg.conf setting for this issue or other work around?

I'm lost so thanks

3) A friend (it's she) has a notebook with  ATI Mobility Radeon X600. I installed there debian years ago and she likes it very much. It works fine with the fglrx proprietary but Skype with the same cam SPC620NC does not.
I read that there is a memory leak or similar in Skype and tried to put a question in their mailing list for possible solution, but didn't get an answer. 

The Question: Is there someone who uses ati proprietary (especially with this video card model) and with the uvc driver (especially with this webcam model)? 

Does someone has a good xorg.conf setting for this issue or other work around?

General Questions:
Is it the dri/drm or what could be the problem ? I spent a lot of time making this xorg.conf's but it was time ago, so who knows.
I don't think it is the webcam, because the SPC1000 does not make the things better, so this is something beween Skype and the propriuetary drivers and X. So is there someone, who has had same problems and solved them and how if so?

It would be very kind if you could help, because they are bugging me all the time. And I think they are right and it's a pitty if they have to give up the quality that comes with the proprietary drivers. The nv is not that big issue but free ati looks crappy on the notebook and makes alot of troubles.

Thanks in advance



      


From laurent.pinchart at skynet.be  Fri Jul  4 02:27:23 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 4 Jul 2008 02:27:23 +0200
Subject: [Linux-uvc-devel] resume in uvc video
In-Reply-To: <200807030855.46925.oliver@neukum.org>
References: <200807011343.01343.oliver@neukum.org>
	<200807030016.52497.laurent.pinchart@skynet.be>
	<200807030855.46925.oliver@neukum.org>
Message-ID: <200807040227.24124.laurent.pinchart@skynet.be>

Hi Oliver,

On Thursday 03 July 2008, Oliver Neukum wrote:
> Am Donnerstag 03 Juli 2008 00:16:52 schrieb Laurent Pinchart:
> > On Wednesday 02 July 2008, Oliver Neukum wrote:
> > > Am Dienstag 01 Juli 2008 14:52:33 schrieb Laurent Pinchart:
> > > > Hi Oliver,
> > > >
> > > > On Tuesday 01 July 2008, Oliver Neukum wrote:
> > > > > int uvc_status_resume(struct uvc_device *dev)
> > > > > {
> > > > > 	if (dev->int_urb == NULL)
> > > > > 		return 0;
> > > > >
> > > > > 	return usb_submit_urb(dev->int_urb, GFP_KERNEL);
> > > > > }
> > > > >
> > > > > Hi,
> > > > >
> > > > > if you are waking up from a system suspend, your swap device may
> > > > > still be asleep. Better use GFP_NOIO.
> > > >
> > > > Thanks for the report.
> > > >
> > > > I assume the same is true for the video resume path where I allocate
> > > > and submit the video data URBs. The amount of memory the driver
> > > > allocates there is higher, is there anything I should pay attention
> > > > to to lower the memory pressure introduced by GFP_NOIO ?
> > >
> > > How much memory is that?
> >
> > For isochronous transfers (bulk transfers use smaller buffers), the
> > driver allocates five video buffers of at 240kB each.
>
> That is over 1MB in the worst case. Can't you keep the buffers allocated?

Very good point, thanks.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Jul  4 02:39:29 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 4 Jul 2008 02:39:29 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <87bq1fqpnf.fsf@nokile.rath.org>
References: <87bq1fqpnf.fsf@nokile.rath.org>
Message-ID: <200807040239.30076.laurent.pinchart@skynet.be>

Hi Nikolaus,

On Thursday 03 July 2008, Nikolaus Rath wrote:
> Hello,
>
> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
> the webcam using e.g. mplayer, everything works fine (example
> screenshot: http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
> ).
>
> However, if I try to access the webcam using ekiga (www.ekiga.org),
> the video is garbled. It is only green and has horizontal lines all
> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>
> I suppose this is more likely to be an ekiga bug, but since I'm not
> entirely sure, I wanted to ask here as well. Has anyone else
> encountered this problem, maybe with a different application? Or is
> there something I could do with the driver to avoid the problem?

I'd vote for an Ekiga bug, but I never rule out the possibility of driver bugs 
either :-)

Which version of Ekiga are you using ?

Best regards,

Laurent Pinchart


From Nikolaus at rath.org  Fri Jul  4 10:00:37 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Fri, 04 Jul 2008 10:00:37 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<B6C20E7305314B91A34A807CF87E2E51@core2>
Message-ID: <871w2aqdsq.fsf@nokile.rath.org>

"Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>> the webcam using e.g. mplayer, everything works fine (example
>> screenshot: http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>> ).
>>
>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>> the video is garbled. It is only green and has horizontal lines all
>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>
>> I suppose this is more likely to be an ekiga bug, but since I'm not
>> entirely sure, I wanted to ask here as well. Has anyone else
>> encountered this problem, maybe with a different application? Or is
>> there something I could do with the driver to avoid the problem?
>
> Isn't that due to the fact that you are looking at an YUV video flow
> and ekiga thinks is something else? It seems to me that this is the
> problem. A copy into a surface with a different video encoding.

I don't know... how do I find out if my webcam sends a YUV flow? And
how do I determine the format that ekiga uses?

Thanks for your help,

   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From asergiu at yahoo.co.uk  Fri Jul  4 10:45:44 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Fri, 4 Jul 2008 11:45:44 +0300
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <871w2aqdsq.fsf@nokile.rath.org>
References: <87bq1fqpnf.fsf@nokile.rath.org><B6C20E7305314B91A34A807CF87E2E51@core2>
	<871w2aqdsq.fsf@nokile.rath.org>
Message-ID: <1513AC435D7E4CE7811DA6D0DD077D3C@core2>

Hello,
  I don't have ekiga right here but I am pretty sure the greenish image with
some wite lines or spots is a YUV (or black lines or spots) is an YUV format
encoded video blitted in a RGB surface.
Look if ekiga is linked against SDL - I think that would be a good start. I
didn't used ekiga till now but I am somehow working with video capture
application developpement.
Also look at si command line arguments and see if it says something about
the video part. 
Many of the recent years USB cameras do not stream RGB (just YUV and Ixx)
formats.
For checking for SDL linked to ekiga do an 
ldd ekiga 
and check in the list.

I might also be on the wrong path - however the greenish image is very
typical for YUV-RGB blitting.

Adrian




-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
Sent: Friday, July 04, 2008 11:01 AM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled

"Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>> the webcam using e.g. mplayer, everything works fine (example
>> screenshot:
http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>> ).
>>
>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>> the video is garbled. It is only green and has horizontal lines all
>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>
>> I suppose this is more likely to be an ekiga bug, but since I'm not
>> entirely sure, I wanted to ask here as well. Has anyone else
>> encountered this problem, maybe with a different application? Or is
>> there something I could do with the driver to avoid the problem?
>
> Isn't that due to the fact that you are looking at an YUV video flow
> and ekiga thinks is something else? It seems to me that this is the
> problem. A copy into a surface with a different video encoding.

I don't know... how do I find out if my webcam sends a YUV flow? And
how do I determine the format that ekiga uses?

Thanks for your help,

   -Nikolaus

-- 
 >It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.<
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From Nikolaus at rath.org  Fri Jul  4 10:22:56 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Fri, 04 Jul 2008 10:22:56 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<200807040239.30076.laurent.pinchart@skynet.be>
Message-ID: <87prpuoy73.fsf@nokile.rath.org>

Laurent Pinchart <laurent.pinchart at skynet.be> writes:
> Hi Nikolaus,
>
> On Thursday 03 July 2008, Nikolaus Rath wrote:
>> Hello,
>>
>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>> the webcam using e.g. mplayer, everything works fine (example
>> screenshot: http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>> ).
>>
>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>> the video is garbled. It is only green and has horizontal lines all
>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>
>> I suppose this is more likely to be an ekiga bug, but since I'm not
>> entirely sure, I wanted to ask here as well. Has anyone else
>> encountered this problem, maybe with a different application? Or is
>> there something I could do with the driver to avoid the problem?
>
> I'd vote for an Ekiga bug, but I never rule out the possibility of driver bugs 
> either :-)

I just tried to access the webcam with luvcview:

nokile:~/projekte/s3fs$ luvcview 
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
Unable to set format: 22.
 Init v4L2 failed !! exit fatal 

nokile:~/projekte/s3fs$ luvcview -f yuv
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
 Clean Up done Quit 


The second call works. Could that be the reason for my problems? And
is it the fault of the driver or the cam itself that it doesn't
generate jpg?


Best,

   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From Nikolaus at rath.org  Fri Jul  4 10:09:48 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Fri, 04 Jul 2008 10:09:48 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<200807040239.30076.laurent.pinchart@skynet.be>
Message-ID: <87vdzmoysz.fsf@nokile.rath.org>

Laurent Pinchart <laurent.pinchart at skynet.be> writes:
> Hi Nikolaus,
>
> On Thursday 03 July 2008, Nikolaus Rath wrote:
>> Hello,
>>
>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>> the webcam using e.g. mplayer, everything works fine (example
>> screenshot: http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>> ).
>>
>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>> the video is garbled. It is only green and has horizontal lines all
>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>
>> I suppose this is more likely to be an ekiga bug, but since I'm not
>> entirely sure, I wanted to ask here as well. Has anyone else
>> encountered this problem, maybe with a different application? Or is
>> there something I could do with the driver to avoid the problem?
>
> I'd vote for an Ekiga bug, but I never rule out the possibility of
> driver bugs either :-)
>
> Which version of Ekiga are you using ?

I'm using 2.0.12-0ubuntu2. Would it help if I try to access the webcam
with different programs? I already tried xawtv, but it only gives

nokile:~/projekte/s3fs$ xawtv
This is xawtv-3.95.dfsg.1, running on Linux/i686 (2.6.24-19-386)
xinerama 0: 1680x1050+0+0
X Error of failed request:  XF86DGANoDirectVideoMode
  Major opcode of failed request:  136 (XFree86-DGA)
  Minor opcode of failed request:  1 (XF86DGAGetVideoLL)
  Serial number of failed request:  69
  Current serial number in output stream:  69



Best,

   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From asergiu at yahoo.co.uk  Fri Jul  4 11:18:14 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Fri, 4 Jul 2008 12:18:14 +0300
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <87prpuoy73.fsf@nokile.rath.org>
References: <87bq1fqpnf.fsf@nokile.rath.org><200807040239.30076.laurent.pinchart@skynet.be>
	<87prpuoy73.fsf@nokile.rath.org>
Message-ID: <511992EDF3EB4B9B91F58B5DEF3EEFC4@core2>

Hi Nikoalus
Try again to list the formats exported by the camera with luvcview.
There is a command line option for that - and send us the result.

Adrian

-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
Sent: Friday, July 04, 2008 11:23 AM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled

Laurent Pinchart <laurent.pinchart at skynet.be> writes:
> Hi Nikolaus,
>
> On Thursday 03 July 2008, Nikolaus Rath wrote:
>> Hello,
>>
>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>> the webcam using e.g. mplayer, everything works fine (example
>> screenshot:
http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>> ).
>>
>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>> the video is garbled. It is only green and has horizontal lines all
>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>
>> I suppose this is more likely to be an ekiga bug, but since I'm not
>> entirely sure, I wanted to ask here as well. Has anyone else
>> encountered this problem, maybe with a different application? Or is
>> there something I could do with the driver to avoid the problem?
>
> I'd vote for an Ekiga bug, but I never rule out the possibility of driver
bugs 
> either :-)

I just tried to access the webcam with luvcview:

nokile:~/projekte/s3fs$ luvcview 
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
Unable to set format: 22.
 Init v4L2 failed !! exit fatal 

nokile:~/projekte/s3fs$ luvcview -f yuv
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
 Clean Up done Quit 


The second call works. Could that be the reason for my problems? And
is it the fault of the driver or the cam itself that it doesn't
generate jpg?


Best,

   -Nikolaus

-- 
 >It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.<
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From asergiu at yahoo.co.uk  Fri Jul  4 11:21:28 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Fri, 4 Jul 2008 12:21:28 +0300
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <511992EDF3EB4B9B91F58B5DEF3EEFC4@core2>
References: <87bq1fqpnf.fsf@nokile.rath.org><200807040239.30076.laurent.pinchart@skynet.be><87prpuoy73.fsf@nokile.rath.org>
	<511992EDF3EB4B9B91F58B5DEF3EEFC4@core2>
Message-ID: <6A85DB3BF0AE499194B83A84BE5E6EC7@core2>

Ahh didn't see the 2nd running is working. Might this be a timing issue like
for my cameras !?!?!?

Adrian

-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Adrian Sergiu
DARABANT
Sent: Friday, July 04, 2008 12:18 PM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled

Hi Nikoalus
Try again to list the formats exported by the camera with luvcview.
There is a command line option for that - and send us the result.

Adrian

-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
Sent: Friday, July 04, 2008 11:23 AM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled

Laurent Pinchart <laurent.pinchart at skynet.be> writes:
> Hi Nikolaus,
>
> On Thursday 03 July 2008, Nikolaus Rath wrote:
>> Hello,
>>
>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>> the webcam using e.g. mplayer, everything works fine (example
>> screenshot:
http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>> ).
>>
>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>> the video is garbled. It is only green and has horizontal lines all
>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>
>> I suppose this is more likely to be an ekiga bug, but since I'm not
>> entirely sure, I wanted to ask here as well. Has anyone else
>> encountered this problem, maybe with a different application? Or is
>> there something I could do with the driver to avoid the problem?
>
> I'd vote for an Ekiga bug, but I never rule out the possibility of driver
bugs 
> either :-)

I just tried to access the webcam with luvcview:

nokile:~/projekte/s3fs$ luvcview 
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
Unable to set format: 22.
 Init v4L2 failed !! exit fatal 

nokile:~/projekte/s3fs$ luvcview -f yuv
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
 Clean Up done Quit 


The second call works. Could that be the reason for my problems? And
is it the fault of the driver or the cam itself that it doesn't
generate jpg?


Best,

   -Nikolaus

-- 
 >It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.<
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From Nikolaus at rath.org  Fri Jul  4 11:10:41 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Fri, 04 Jul 2008 11:10:41 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<B6C20E7305314B91A34A807CF87E2E51@core2>
	<871w2aqdsq.fsf@nokile.rath.org>
	<1513AC435D7E4CE7811DA6D0DD077D3C@core2>
Message-ID: <87hcb6ovzi.fsf@nokile.rath.org>

Hey,

You are definitely on the right track. As I wrote in my other mail,
luvcview can access the cam with -f yuv but not with -f jpg. Ekiga is
not linked against SDL. It also has no configuration option to switch
between jpg and yuv.  Is there anything I can do to make the driver
produce jpg output?

Best,
Nikolaus


"Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
> Hello,
> I don't have ekiga right here but I am pretty sure the greenish
> image with some wite lines or spots is a YUV (or black lines or
> spots) is an YUV format encoded video blitted in a RGB surface. Look
> if ekiga is linked against SDL - I think that would be a good start.
> I didn't used ekiga till now but I am somehow working with video
> capture application developpement. Also look at si command line
> arguments and see if it says something about the video part. Many of
> the recent years USB cameras do not stream RGB (just YUV and Ixx)
> formats. For checking for SDL linked to ekiga do an ldd ekiga and
> check in the list.
>
> I might also be on the wrong path - however the greenish image is very
> typical for YUV-RGB blitting.
>
> Adrian
>
>
>
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
> Sent: Friday, July 04, 2008 11:01 AM
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>
> "Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
>>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>>> the webcam using e.g. mplayer, everything works fine (example
>>> screenshot:
> http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>>> ).
>>>
>>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>>> the video is garbled. It is only green and has horizontal lines all
>>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>>
>>> I suppose this is more likely to be an ekiga bug, but since I'm not
>>> entirely sure, I wanted to ask here as well. Has anyone else
>>> encountered this problem, maybe with a different application? Or is
>>> there something I could do with the driver to avoid the problem?
>>
>> Isn't that due to the fact that you are looking at an YUV video flow
>> and ekiga thinks is something else? It seems to me that this is the
>> problem. A copy into a surface with a different video encoding.
>
> I don't know... how do I find out if my webcam sends a YUV flow? And
> how do I determine the format that ekiga uses?
>
> Thanks for your help,
>
>    -Nikolaus
>
> -- 
>  >It is not worth an intelligent man's time to be in the majority.
>   By definition, there are already enough people to do that.<
>                                                          -J.H. Hardy
>
>   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From asergiu at yahoo.co.uk  Fri Jul  4 12:15:39 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Fri, 4 Jul 2008 13:15:39 +0300
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <87hcb6ovzi.fsf@nokile.rath.org>
References: <87bq1fqpnf.fsf@nokile.rath.org><B6C20E7305314B91A34A807CF87E2E51@core2><871w2aqdsq.fsf@nokile.rath.org><1513AC435D7E4CE7811DA6D0DD077D3C@core2>
	<87hcb6ovzi.fsf@nokile.rath.org>
Message-ID: <EE871E5A9B8E41CF82CC957FC707A618@core2>

That's for Laurent to answer but I'm afraid that if the camera is not
exporting those type of stream formats it isn't possible. There is entire
debate in wheter a driver should do transcoding or not in kernel space.

Could you send us from the luvcview the list of stream formats your camera
supports ?
luvcview -L 
i think (I don't have the software in front of me) just take the option that
says it only reports the video formats and quits.

Adrian

-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
Sent: Friday, July 04, 2008 12:11 PM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled

Hey,

You are definitely on the right track. As I wrote in my other mail,
luvcview can access the cam with -f yuv but not with -f jpg. Ekiga is
not linked against SDL. It also has no configuration option to switch
between jpg and yuv.  Is there anything I can do to make the driver
produce jpg output?

Best,
Nikolaus


"Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
> Hello,
> I don't have ekiga right here but I am pretty sure the greenish
> image with some wite lines or spots is a YUV (or black lines or
> spots) is an YUV format encoded video blitted in a RGB surface. Look
> if ekiga is linked against SDL - I think that would be a good start.
> I didn't used ekiga till now but I am somehow working with video
> capture application developpement. Also look at si command line
> arguments and see if it says something about the video part. Many of
> the recent years USB cameras do not stream RGB (just YUV and Ixx)
> formats. For checking for SDL linked to ekiga do an ldd ekiga and
> check in the list.
>
> I might also be on the wrong path - however the greenish image is very
> typical for YUV-RGB blitting.
>
> Adrian
>
>
>
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus
Rath
> Sent: Friday, July 04, 2008 11:01 AM
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>
> "Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
>>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>>> the webcam using e.g. mplayer, everything works fine (example
>>> screenshot:
> http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>>> ).
>>>
>>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>>> the video is garbled. It is only green and has horizontal lines all
>>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>>
>>> I suppose this is more likely to be an ekiga bug, but since I'm not
>>> entirely sure, I wanted to ask here as well. Has anyone else
>>> encountered this problem, maybe with a different application? Or is
>>> there something I could do with the driver to avoid the problem?
>>
>> Isn't that due to the fact that you are looking at an YUV video flow
>> and ekiga thinks is something else? It seems to me that this is the
>> problem. A copy into a surface with a different video encoding.
>
> I don't know... how do I find out if my webcam sends a YUV flow? And
> how do I determine the format that ekiga uses?
>
> Thanks for your help,
>
>    -Nikolaus
>
> -- 
>  >It is not worth an intelligent man's time to be in the majority.
>   By definition, there are already enough people to do that.<
>                                                          -J.H. Hardy
>
>   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


   -Nikolaus

-- 
 >It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.<
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From jaime.perea at gmail.com  Fri Jul  4 12:21:44 2008
From: jaime.perea at gmail.com (Jaime Perea)
Date: Fri, 4 Jul 2008 12:21:44 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <87hcb6ovzi.fsf@nokile.rath.org>
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<1513AC435D7E4CE7811DA6D0DD077D3C@core2>
	<87hcb6ovzi.fsf@nokile.rath.org>
Message-ID: <200807041221.44300.jaime.perea@gmail.com>

El Viernes, 4 de Julio de 2008, Nikolaus Rath escribi?:
> Hey,
>
> You are definitely on the right track. As I wrote in my other mail,
> luvcview can access the cam with -f yuv but not with -f jpg. Ekiga is
> not linked against SDL. It also has no configuration option to switch
> between jpg and yuv.  Is there anything I can do to make the driver
> produce jpg output?
>
> Best,
> Nikolaus
>.....

Hi

I've got an integrated camera that works only in yuv mode and
it works with ekiga. In my case ldd tells that ekiga is linked against  
libSDL-1.2.so.0 ... apart from about other 100 libraries :-) 

In any case the camera has to be configured as V4L2.

Regards

--
Jaime Perea


From deloptes at yahoo.com  Fri Jul  4 12:36:18 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Fri, 4 Jul 2008 03:36:18 -0700 (PDT)
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <mailman.121.1215165747.18760.linux-uvc-devel@lists.berlios.de>
Message-ID: <510304.29424.qm@web53206.mail.re2.yahoo.com>

Hello as I stated I have experience with 1 SPC620 and one SPC1000 webcams. The 620 does support only YUV the 1000 supports MJPEG additionally.

Skype test works fine with both of them. luvcview is defaulted to use MJPEG, so you have to run it with -f YUV to get the job done.

I was not able to get any other app working with either SPC620/1000 webcam. I tried mplayer. vlc and xawtv. I read there is a patch for this issue for mplayer (because this is my favourite), but didn't test it.

So may be it's not only the format (i.e. YUV) but also another issue how device and data is handled by the app itself.

I hope this info was some kind helpful to you.

I also want to ask you to help me with the issues I stated in my other mail if possible

thanks in advance

regards





      


From jaime.perea at gmail.com  Fri Jul  4 12:50:30 2008
From: jaime.perea at gmail.com (Jaime Perea)
Date: Fri, 4 Jul 2008 12:50:30 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <510304.29424.qm@web53206.mail.re2.yahoo.com>
References: <510304.29424.qm@web53206.mail.re2.yahoo.com>
Message-ID: <200807041250.30788.jaime.perea@gmail.com>

El Viernes, 4 de Julio de 2008, Emanoil Kotsev escribi?:
> Hello as I stated I have experience with 1 SPC620 and one SPC1000
> webcams. The 620 does support only YUV the 1000 supports MJPEG
> additionally.
>
> Skype test works fine with both of them. luvcview is defaulted to use
> MJPEG, so you have to run it with -f YUV to get the job done.
>
> I was not able to get any other app working with either SPC620/1000
> webcam. I tried mplayer. vlc and xawtv. I read there is a patch for this
> issue for mplayer (because this is my favourite), but didn't test it.
>
> So may be it's not only the format (i.e. YUV) but also another issue how
> device and data is handled by the app itself.
>
> I hope this info was some kind helpful to you.
>
> I also want to ask you to help me with the issues I stated in my other
> mail if possible
>
> thanks in advance
>
> regards
>

For me the following worked

mplayer -vo xv -ao alsa -framedrop  -contrast 0 -brightness 0 -hue \ 
0 -saturation 0 tv:// -tv driver=v4l2:device=/dev/video   

--
Jaime Perea




From muriel_vd at yahoo.com  Fri Jul  4 14:04:57 2008
From: muriel_vd at yahoo.com (Muriel Vander Donckt)
Date: Fri, 4 Jul 2008 05:04:57 -0700 (PDT)
Subject: [Linux-uvc-devel] Support for QuickCam for Notebook Deluxe ?
Message-ID: <291451.92183.qm@web43137.mail.sp1.yahoo.com>



Hi, 
  I installed the uvc driver on top of my fedora 9 just in case to see 
if it would support my webcam, but indeed, it is not in the list of 
supported devices and does not work. 
My webcam is a 
 046d:08d8 Logitech, Inc. QuickCam for Notebook Deluxe 
(as seen from lsusb) 

Kernel : 2.6.25.9-76.fc9.i686 
uvc revision : 223 

/var/log/messages : 
usb 2-1: New USB device found, idVendor=046d, idProduct=08d8 
usb 2-1: New USB device strings: Mfr=0, Product=0, SerialNumber=0 

I would be quite happy to help test if you have a driver version for 
this webcam. 
Any help is welcome 
Cheers, 
Muriel 


      _____________________________________________________________________________ 
Envoyez avec Yahoo! Mail. Une boite mail plus intelligente http://mail.yahoo.fr



From Nikolaus at rath.org  Fri Jul  4 20:42:07 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Fri, 04 Jul 2008 20:42:07 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<200807040239.30076.laurent.pinchart@skynet.be>
	<87prpuoy73.fsf@nokile.rath.org>
	<511992EDF3EB4B9B91F58B5DEF3EEFC4@core2>
	<6A85DB3BF0AE499194B83A84BE5E6EC7@core2>
Message-ID: <878wwhpk3k.fsf@nokile.rath.org>

Well, I wish I knew :-). Can you elaborate on this timing problems
you're facing? Maybe I can check whether the symptoms are the same
here.

Best,
-Nikolaus

"Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
> Ahh didn't see the 2nd running is working. Might this be a timing issue like
> for my cameras !?!?!?
>
> Adrian
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Adrian Sergiu
> DARABANT
> Sent: Friday, July 04, 2008 12:18 PM
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>
> Hi Nikoalus
> Try again to list the formats exported by the camera with luvcview.
> There is a command line option for that - and send us the result.
>
> Adrian
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
> Sent: Friday, July 04, 2008 11:23 AM
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>
> Laurent Pinchart <laurent.pinchart at skynet.be> writes:
>> Hi Nikolaus,
>>
>> On Thursday 03 July 2008, Nikolaus Rath wrote:
>>> Hello,
>>>
>>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>>> the webcam using e.g. mplayer, everything works fine (example
>>> screenshot:
> http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>>> ).
>>>
>>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>>> the video is garbled. It is only green and has horizontal lines all
>>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>>
>>> I suppose this is more likely to be an ekiga bug, but since I'm not
>>> entirely sure, I wanted to ask here as well. Has anyone else
>>> encountered this problem, maybe with a different application? Or is
>>> there something I could do with the driver to avoid the problem?
>>
>> I'd vote for an Ekiga bug, but I never rule out the possibility of driver
> bugs 
>> either :-)
>
> I just tried to access the webcam with luvcview:
>
> nokile:~/projekte/s3fs$ luvcview 
> luvcview version 0.2.1 
> Video driver: x11
> A window manager is available
> video /dev/video0 
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal 
>
> nokile:~/projekte/s3fs$ luvcview -f yuv
> luvcview version 0.2.1 
> Video driver: x11
> A window manager is available
> video /dev/video0 
>  Clean Up done Quit 
>
>
> The second call works. Could that be the reason for my problems? And
> is it the fault of the driver or the cam itself that it doesn't
> generate jpg?
>
>
> Best,
>
>    -Nikolaus
>
> -- 
>  >It is not worth an intelligent man's time to be in the majority.
>   By definition, there are already enough people to do that.<
>                                                          -J.H. Hardy
>
>   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From laurent.pinchart at skynet.be  Sat Jul  5 00:36:47 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 5 Jul 2008 00:36:47 +0200
Subject: [Linux-uvc-devel] Support for QuickCam for Notebook Deluxe ?
In-Reply-To: <291451.92183.qm@web43137.mail.sp1.yahoo.com>
References: <291451.92183.qm@web43137.mail.sp1.yahoo.com>
Message-ID: <200807050036.48038.laurent.pinchart@skynet.be>

Hi Muriel,

On Friday 04 July 2008, Muriel Vander Donckt wrote:
> Hi,
>   I installed the uvc driver on top of my fedora 9 just in case to see
> if it would support my webcam, but indeed, it is not in the list of
> supported devices and does not work.
> My webcam is a
>  046d:08d8 Logitech, Inc. QuickCam for Notebook Deluxe
> (as seen from lsusb)
>
> Kernel : 2.6.25.9-76.fc9.i686
> uvc revision : 223
>
> /var/log/messages :
> usb 2-1: New USB device found, idVendor=046d, idProduct=08d8
> usb 2-1: New USB device strings: Mfr=0, Product=0, SerialNumber=0
>
> I would be quite happy to help test if you have a driver version for
> this webcam.

If the camera is not detected by the uvcvideo driver at all, chances are it is 
not UVC compatible. Just to be sure, please check 
http://linux-uvc.berlios.de/faq/ to see if your webcam has a chance of being 
supported by the uvcvideo driver.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Jul  5 00:41:36 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 5 Jul 2008 00:41:36 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <87prpuoy73.fsf@nokile.rath.org>
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<200807040239.30076.laurent.pinchart@skynet.be>
	<87prpuoy73.fsf@nokile.rath.org>
Message-ID: <200807050041.36987.laurent.pinchart@skynet.be>

Hi Nikolaus,

On Friday 04 July 2008, Nikolaus Rath wrote:
> Laurent Pinchart <laurent.pinchart at skynet.be> writes:
> > Hi Nikolaus,
> >
> > On Thursday 03 July 2008, Nikolaus Rath wrote:
> >> Hello,
> >>
> >> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
> >> the webcam using e.g. mplayer, everything works fine (example
> >> screenshot:
> >> http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png ).
> >>
> >> However, if I try to access the webcam using ekiga (www.ekiga.org),
> >> the video is garbled. It is only green and has horizontal lines all
> >> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
> >>
> >> I suppose this is more likely to be an ekiga bug, but since I'm not
> >> entirely sure, I wanted to ask here as well. Has anyone else
> >> encountered this problem, maybe with a different application? Or is
> >> there something I could do with the driver to avoid the problem?
> >
> > I'd vote for an Ekiga bug, but I never rule out the possibility of driver
> > bugs either :-)
>
> I just tried to access the webcam with luvcview:
>
> nokile:~/projekte/s3fs$ luvcview
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal
>
> nokile:~/projekte/s3fs$ luvcview -f yuv
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
>  Clean Up done Quit
>
>
> The second call works. Could that be the reason for my problems? And
> is it the fault of the driver or the cam itself that it doesn't
> generate jpg?

The camera itself doesn't support MJPEG. That's not really an issue, as Ekiga 
is supposed to support YUV.

As your camera works with luvcview, I don't think the driver (or the camera) 
can be blamed here. It looks like Ekiga doesn't transcode from YUV to RGB.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Jul  5 00:46:08 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 5 Jul 2008 00:46:08 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <510304.29424.qm@web53206.mail.re2.yahoo.com>
References: <510304.29424.qm@web53206.mail.re2.yahoo.com>
Message-ID: <200807050046.08496.laurent.pinchart@skynet.be>

Hi,

On Friday 04 July 2008, Emanoil Kotsev wrote:
> Hello as I stated I have experience with 1 SPC620 and one SPC1000 webcams.
> The 620 does support only YUV the 1000 supports MJPEG additionally.
>
> Skype test works fine with both of them. luvcview is defaulted to use
> MJPEG, so you have to run it with -f YUV to get the job done.
>
> I was not able to get any other app working with either SPC620/1000 webcam.
> I tried mplayer. vlc and xawtv. I read there is a patch for this issue for
> mplayer (because this is my favourite), but didn't test it.

The latest mplayer version should include the patch, but you might have to 
check it out from their SVN repository. I don't know if they released an 
official version with the patch included.

> So may be it's not only the format (i.e. YUV) but also another issue how
> device and data is handled by the app itself.

To work the UVC webcams, application have to support V4L2 and at least one of 
the formats supported by the camera (YUV and/or MJPEG). Some application 
still support V4L1 only (vlc felt in that category last time I checked) or 
have bugs in their V4L2 implementation (xawtv and mplayer, before the patch 
got included).

> I hope this info was some kind helpful to you.
>
> I also want to ask you to help me with the issues I stated in my other mail
> if possible

I can't really help there as I don't use Skype, sorry.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Jul  5 11:00:03 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 5 Jul 2008 11:00:03 +0200
Subject: [Linux-uvc-devel] SOLVED: upside-down image from SONIX laptop
	embedded webcam
In-Reply-To: <879e1f2b0807010040j217e655an8a3fcb44cab616ef@mail.gmail.com>
References: <879e1f2b0806171214u4b553bf8t6771a356536936ca@mail.gmail.com>
	<879e1f2b0806300846n64ac077ev5ffbd260e282b63d@mail.gmail.com>
	<879e1f2b0807010040j217e655an8a3fcb44cab616ef@mail.gmail.com>
Message-ID: <200807051100.03556.laurent.pinchart@skynet.be>

Hi Marco,

On Tuesday 01 July 2008, Marco Argiolas wrote:
> Hi Laurent,
> just one question:
> I didn't understand why it is not possible to add my patch to the driver.
> You said because it's a userspace job...
> yes I know...but I also know there are also other driver that do this kind
> of job!!

Those drivers are not 'legal'. Linus made it clear that image processing 
belongs to userspace. This includes transcoding (MJPEG decompression for 
instance) and software rotation/mirroring.

If the hardware supports image rotation/mirroring, the driver should of course 
expose that functionality to userspace.

As the UVC driver already includes a memcpy operation in the URB completion 
handler, we could argue that rotating the image there using a reversed memcpy 
would not introduce any overhead. This might not be true, as the resulting 
code will have to take the pixel size into account, which will probably make 
the reversed memcpy less efficient.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sat Jul  5 11:09:27 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 5 Jul 2008 11:09:27 +0200
Subject: [Linux-uvc-devel] SOLVED: upside-down image from SONIX laptop
	embedded webcam
In-Reply-To: <879e1f2b0807010316x6621cf4dy1168a6602962df34@mail.gmail.com>
References: <879e1f2b0806171214u4b553bf8t6771a356536936ca@mail.gmail.com>
	<879e1f2b0807010040j217e655an8a3fcb44cab616ef@mail.gmail.com>
	<879e1f2b0807010316x6621cf4dy1168a6602962df34@mail.gmail.com>
Message-ID: <200807051109.27196.laurent.pinchart@skynet.be>

Hi Marco,

On Tuesday 01 July 2008, Marco Argiolas wrote:
> Other two questions:
> my patches just works with YUYV format and Memory Mapped streaming method.
> I'd like to make them more flexible!!
> 1) Are the following all the supported image formats? (I took them from
> videodev2.h)
>
> /*      Pixel format         FOURCC                        depth
> Description  */
> #define V4L2_PIX_FMT_RGB332
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB332>
> v4l2_fourcc('R','G','B','1') /*  8  RGB-3-3-2     */
> #define V4L2_PIX_FMT_RGB444
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB444>
> v4l2_fourcc('R','4','4','4') /* 16  xxxxrrrr ggggbbbb */
> #define V4L2_PIX_FMT_RGB555
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB555>
> v4l2_fourcc('R','G','B','O') /* 16  RGB-5-5-5     */
> #define V4L2_PIX_FMT_RGB565
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB565>
> v4l2_fourcc('R','G','B','P') /* 16  RGB-5-6-5     */
> #define V4L2_PIX_FMT_RGB555X
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB555X>
> v4l2_fourcc('R','G','B','Q') /* 16  RGB-5-5-5 BE  */
> #define V4L2_PIX_FMT_RGB565X
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB565X>
> v4l2_fourcc('R','G','B','R') /* 16  RGB-5-6-5 BE  */
> #define V4L2_PIX_FMT_BGR24
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-BGR24>
> v4l2_fourcc('B','G','R','3') /* 24  BGR-8-8-8     */
> #define V4L2_PIX_FMT_RGB24
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB24>
> v4l2_fourcc('R','G','B','3') /* 24  RGB-8-8-8     */
> #define V4L2_PIX_FMT_BGR32
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-BGR32>
> v4l2_fourcc('B','G','R','4') /* 32  BGR-8-8-8-8   */
> #define V4L2_PIX_FMT_RGB32
> <http://v4l2spec.bytesex.org/spec/r2492.htm#V4L2-PIX-FMT-RGB32>
> v4l2_fourcc('R','G','B','4') /* 32  RGB-8-8-8-8   */
> #define V4L2_PIX_FMT_GREY <http://v4l2spec.bytesex.org/spec/r4185.htm>
>    v4l2_fourcc('G','R','E','Y') /*  8  Greyscale     */
> #define V4L2_PIX_FMT_Y16 <http://v4l2spec.bytesex.org/spec/r4246.htm>
>    v4l2_fourcc('Y','1','6',' ') /* 16  Greyscale     */
> #define V4L2_PIX_FMT_PAL8
> <http://v4l2spec.bytesex.org/spec/x2428.htm#V4L2-PIX-FMT-PAL8>
> v4l2_fourcc('P','A','L','8') /*  8  8-bit palette */
> #define V4L2_PIX_FMT_YVU410
> <http://v4l2spec.bytesex.org/spec/r5016.htm#V4L2-PIX-FMT-YVU410>
> v4l2_fourcc('Y','V','U','9') /*  9  YVU 4:1:0     */
> #define V4L2_PIX_FMT_YVU420
> <http://v4l2spec.bytesex.org/spec/r4850.htm#V4L2-PIX-FMT-YVU420>
> v4l2_fourcc('Y','V','1','2') /* 12  YVU 4:2:0     */
> #define V4L2_PIX_FMT_YUYV <http://v4l2spec.bytesex.org/spec/r4339.htm>
>    v4l2_fourcc('Y','U','Y','V') /* 16  YUV 4:2:2     */
> #define V4L2_PIX_FMT_UYVY <http://v4l2spec.bytesex.org/spec/r4484.htm>
>    v4l2_fourcc('U','Y','V','Y') /* 16  YUV 4:2:2     */
> #define V4L2_PIX_FMT_YUV422P
> <http://v4l2spec.bytesex.org/spec/r5154.htm>
> v4l2_fourcc('4','2','2','P') /* 16  YVU422 planar */
> #define V4L2_PIX_FMT_YUV411P
> <http://v4l2spec.bytesex.org/spec/r5319.htm>
> v4l2_fourcc('4','1','1','P') /* 16  YVU411 planar */
> #define V4L2_PIX_FMT_Y41P <http://v4l2spec.bytesex.org/spec/r4629.htm>
>    v4l2_fourcc('Y','4','1','P') /* 12  YUV 4:1:1     */
> #define V4L2_PIX_FMT_YUV444
> <http://v4l2spec.bytesex.org/spec/r3896.htm#V4L2-PIX-FMT-YUV444>
> v4l2_fourcc('Y','4','4','4') /* 16  xxxxyyyy uuuuvvvv */
> #define V4L2_PIX_FMT_YUV555
> <http://v4l2spec.bytesex.org/spec/r3896.htm#V4L2-PIX-FMT-YUV555>
> v4l2_fourcc('Y','U','V','O') /* 16  YUV-5-5-5     */
> #define V4L2_PIX_FMT_YUV565
> <http://v4l2spec.bytesex.org/spec/r3896.htm#V4L2-PIX-FMT-YUV565>
> v4l2_fourcc('Y','U','V','P') /* 16  YUV-5-6-5     */
> #define V4L2_PIX_FMT_YUV32
> <http://v4l2spec.bytesex.org/spec/r3896.htm#V4L2-PIX-FMT-YUV32>
> v4l2_fourcc('Y','U','V','4') /* 32  YUV-8-8-8-8   */
>
> /* two planes -- one Y, one Cr + Cb interleaved  */
> #define V4L2_PIX_FMT_NV12
> <http://v4l2spec.bytesex.org/spec/r5470.htm#V4L2-PIX-FMT-NV12>
> v4l2_fourcc('N','V','1','2') /* 12  Y/CbCr 4:2:0  */
> #define V4L2_PIX_FMT_NV21
> <http://v4l2spec.bytesex.org/spec/r5470.htm#V4L2-PIX-FMT-NV21>
> v4l2_fourcc('N','V','2','1') /* 12  Y/CrCb 4:2:0  */
>
> /*  The following formats are not defined in the V4L2 specification */
> #define V4L2_PIX_FMT_YUV410
> <http://v4l2spec.bytesex.org/spec/r5016.htm#V4L2-PIX-FMT-YUV410>
> v4l2_fourcc('Y','U','V','9') /*  9  YUV 4:1:0     */
> #define V4L2_PIX_FMT_YUV420
> <http://v4l2spec.bytesex.org/spec/r4850.htm#V4L2-PIX-FMT-YUV420>
> v4l2_fourcc('Y','U','1','2') /* 12  YUV 4:2:0     */
> #define V4L2_PIX_FMT_YYUV
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-YYUV>
> v4l2_fourcc('Y','Y','U','V') /* 16  YUV 4:2:2     */
> #define V4L2_PIX_FMT_HI240
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-HI240>
> v4l2_fourcc('H','I','2','4') /*  8  8-bit color   */
> #define V4L2_PIX_FMT_HM12
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-HM12>
> v4l2_fourcc('H','M','1','2') /*  8  YUV 4:2:0 16x16 macroblocks */
>
> /* see http://www.siliconimaging.com/RGB%20Bayer.htm */
> #define V4L2_PIX_FMT_SBGGR8
> <http://v4l2spec.bytesex.org/spec/r3735.htm>
> v4l2_fourcc('B','A','8','1') /*  8  BGBG.. GRGR.. */
> #define V4L2_PIX_FMT_SBGGR16
> <http://v4l2spec.bytesex.org/spec/r3796.htm>
> v4l2_fourcc('B','Y','R','2') /* 16  BGBG.. GRGR.. */
>
> /* compressed formats */
> #define V4L2_PIX_FMT_MJPEG
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-MJPEG>
> v4l2_fourcc('M','J','P','G') /* Motion-JPEG   */
> #define V4L2_PIX_FMT_JPEG
> <http://v4l2spec.bytesex.org/spec/x5634.htm#V4L2-PIX-FMT-JPEG>
> v4l2_fourcc('J','P','E','G') /* JFIF JPEG     */
> #define V4L2_PIX_FMT_DV
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-DV>
> v4l2_fourcc('d','v','s','d') /* 1394          */
> #define V4L2_PIX_FMT_MPEG
> <http://v4l2spec.bytesex.org/spec/x5634.htm#V4L2-PIX-FMT-MPEG>
> v4l2_fourcc('M','P','E','G') /* MPEG-1/2/4    */
>
> /*  Vendor-specific formats   */
> #define V4L2_PIX_FMT_WNVA
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-WNVA>
> v4l2_fourcc('W','N','V','A') /* Winnov hw compress */
> #define V4L2_PIX_FMT_SN9C10X
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-SN9C10X>
> v4l2_fourcc('S','9','1','0') /* SN9C10x compression */
> #define V4L2_PIX_FMT_PWC1
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-PWC1>
> v4l2_fourcc('P','W','C','1') /* pwc older webcam */
> #define V4L2_PIX_FMT_PWC2
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-PWC2>
> v4l2_fourcc('P','W','C','2') /* pwc newer webcam */
> #define V4L2_PIX_FMT_ET61X251
> <http://v4l2spec.bytesex.org/spec/x5665.htm#V4L2-PIX-FMT-ET61X251>
> v4l2_fourcc('E','6','2','5') /* ET61X251 compression */

Driver can define new formats but are encouraged to submit them for inclusion 
in videodev2.h.

The uvcvideo driver currently supports the following formats:

YUV 4:2:2 (YUYV)	V4L2_PIX_FMT_YUYV
YUV 4:2:0 (NV12)	V4L2_PIX_FMT_NV12
MJPEG			V4L2_PIX_FMT_MJPEG
YVU 4:2:0 (YV12)	V4L2_PIX_FMT_YVU420
YUV 4:2:0 (I420)	V4L2_PIX_FMT_YUV420
YUV 4:2:2 (UYVY)	V4L2_PIX_FMT_UYVY
Greyscale		V4L2_PIX_FMT_GREY
RGB Bayer		V4L2_PIX_FMT_SBGGR8

> 2) If I'd like to make a patch for the User Pointer streaming method, which
> is the function that does the same of "
>
> uvc_video_decode_data
>
> ()" in "uvc_video.c"?

The uvcvideo driver doesn't support the User Pointer streaming method yet. I'm 
not sure if any driver currently supports that streaming method.

> ps.
> what do you think about this kind of patch? do you think these adds are
> only a loss of time?

I think this should be implemented in userspace. The libv4l/libv4l2 projects 
are good candidates for this kind of functionality.

Best regards,

Laurent Pinchart


From deloptes at yahoo.com  Sat Jul  5 12:10:25 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Sat, 5 Jul 2008 03:10:25 -0700 (PDT)
Subject: [Linux-uvc-devel] Philips SPC620NC,
	Video garbled and Question uvc Philps SPC620NC nvidia, ati and Skype
In-Reply-To: <200807050046.08496.laurent.pinchart@skynet.be>
Message-ID: <796895.52740.qm@web53201.mail.re2.yahoo.com>

Hi, thanks for answering.

I don't have time for compiling mplayer now, and I don't really need it because all I want is to speak over Skype with my family and my friends and this is working for me. 

--- On Sat, 7/5/08, Laurent Pinchart <laurent.pinchart at skynet.be> wrote:

> From: Laurent Pinchart <laurent.pinchart at skynet.be>
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
> To: linux-uvc-devel at lists.berlios.de, deloptes at yahoo.com
> Date: Saturday, July 5, 2008, 12:46 AM
> Hi,
> 
> On Friday 04 July 2008, Emanoil Kotsev wrote:
> > Hello as I stated I have experience with 1 SPC620 and
> one SPC1000 webcams.
> > The 620 does support only YUV the 1000 supports MJPEG
> additionally.
> >
> > Skype test works fine with both of them. luvcview is
> defaulted to use
> > MJPEG, so you have to run it with -f YUV to get the
> job done.
> >
> > I was not able to get any other app working with
> either SPC620/1000 webcam.
> > I tried mplayer. vlc and xawtv. I read there is a
> patch for this issue for
> > mplayer (because this is my favourite), but didn't
> test it.
> 
> The latest mplayer version should include the patch, but
> you might have to 
> check it out from their SVN repository. I don't know if
> they released an 
> official version with the patch included.

I know this but no time to do it

> 
> > So may be it's not only the format (i.e. YUV) but
> also another issue how
> > device and data is handled by the app itself.
> 
> To work the UVC webcams, application have to support V4L2
> and at least one of 
> the formats supported by the camera (YUV and/or MJPEG).
> Some application 
> still support V4L1 only (vlc felt in that category last
> time I checked) or 
> have bugs in their V4L2 implementation (xawtv and mplayer,
> before the patch 
> got included).
> 

I know this but I don't have a real problem with the webcam or Skype

> I can't really help there as I don't use Skype,
> sorry.
> 

Could somebody have a look at my mail to the list with the Title [Question uvc Philps SPC620NC nvidia,ati and Skype] that I posted on 7/3/2008

I really would appreciate your help.

thanks


      


From Nikolaus at rath.org  Fri Jul  4 21:00:21 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Fri, 04 Jul 2008 21:00:21 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
References: <mailman.121.1215165747.18760.linux-uvc-devel@lists.berlios.de>
	<510304.29424.qm@web53206.mail.re2.yahoo.com>
Message-ID: <87wsk1o4oq.fsf@nokile.rath.org>

Emanoil Kotsev <deloptes at yahoo.com> writes:
> Hello as I stated I have experience with 1 SPC620 and one SPC1000
> webcams. The 620 does support only YUV the 1000 supports MJPEG
> additionally.
>
> Skype test works fine with both of them. luvcview is defaulted to
> use MJPEG, so you have to run it with -f YUV to get the job done.
>
> I was not able to get any other app working with either SPC620/1000
> webcam. I tried mplayer. vlc and xawtv. I read there is a patch for
> this issue for mplayer (because this is my favourite), but didn't
> test it.

The following works here for a SPC620 (ID 0471:0333):

mplayer tv:// -tv fps=30


What does it say for you?


   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From Nikolaus at rath.org  Fri Jul  4 20:49:34 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Fri, 04 Jul 2008 20:49:34 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<1513AC435D7E4CE7811DA6D0DD077D3C@core2>
	<87hcb6ovzi.fsf@nokile.rath.org>
	<200807041221.44300.jaime.perea@gmail.com>
Message-ID: <87zloxo56p.fsf@nokile.rath.org>

Jaime Perea <jaime.perea at gmail.com> writes:
>> You are definitely on the right track. As I wrote in my other mail,
>> luvcview can access the cam with -f yuv but not with -f jpg. Ekiga is
>> not linked against SDL. It also has no configuration option to switch
>> between jpg and yuv.  Is there anything I can do to make the driver
>> produce jpg output?
>
> I've got an integrated camera that works only in yuv mode and it
> works with ekiga. In my case ldd tells that ekiga is linked against
> libSDL-1.2.so.0 ... apart from about other 100 libraries :-)

Actually mine is linked against it as well... I forgot to take the
case-sensitivity of grep into account...

I have asked about this on the ekiga list as well, maybe ekiga is
simply not recognizing the yuv as yuv in my case.


Best,

   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From Nikolaus at rath.org  Fri Jul  4 21:01:35 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Fri, 04 Jul 2008 21:01:35 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<B6C20E7305314B91A34A807CF87E2E51@core2>
	<871w2aqdsq.fsf@nokile.rath.org>
	<1513AC435D7E4CE7811DA6D0DD077D3C@core2>
	<87hcb6ovzi.fsf@nokile.rath.org>
	<EE871E5A9B8E41CF82CC957FC707A618@core2>
Message-ID: <87tzf5o4mo.fsf@nokile.rath.org>

These are the stream formats:

[0] nokile:~/projekte/s3fs$ luvcview -L
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
/dev/video0 does not support read i/o
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
	Time interval between frame: 1/30, 1/25, 1/20, 1/15, 1/10, 2/15, 1/5, 
{ discrete: width = 320, height = 240 }
	Time interval between frame: 1/60, 1/50, 1/30, 1/25, 1/20, 1/15, 1/10, 2/15, 1/5, 

        
"Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
> That's for Laurent to answer but I'm afraid that if the camera is not
> exporting those type of stream formats it isn't possible. There is entire
> debate in wheter a driver should do transcoding or not in kernel space.
>
> Could you send us from the luvcview the list of stream formats your camera
> supports ?
> luvcview -L 
> i think (I don't have the software in front of me) just take the option that
> says it only reports the video formats and quits.
>
> Adrian
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
> Sent: Friday, July 04, 2008 12:11 PM
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>
> Hey,
>
> You are definitely on the right track. As I wrote in my other mail,
> luvcview can access the cam with -f yuv but not with -f jpg. Ekiga is
> not linked against SDL. It also has no configuration option to switch
> between jpg and yuv.  Is there anything I can do to make the driver
> produce jpg output?
>
> Best,
> Nikolaus
>
>
> "Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
>> Hello,
>> I don't have ekiga right here but I am pretty sure the greenish
>> image with some wite lines or spots is a YUV (or black lines or
>> spots) is an YUV format encoded video blitted in a RGB surface. Look
>> if ekiga is linked against SDL - I think that would be a good start.
>> I didn't used ekiga till now but I am somehow working with video
>> capture application developpement. Also look at si command line
>> arguments and see if it says something about the video part. Many of
>> the recent years USB cameras do not stream RGB (just YUV and Ixx)
>> formats. For checking for SDL linked to ekiga do an ldd ekiga and
>> check in the list.
>>
>> I might also be on the wrong path - however the greenish image is very
>> typical for YUV-RGB blitting.
>>
>> Adrian
>>
>>
>>
>>
>> -----Original Message-----
>> From: linux-uvc-devel-bounces at lists.berlios.de
>> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus
> Rath
>> Sent: Friday, July 04, 2008 11:01 AM
>> To: linux-uvc-devel at lists.berlios.de
>> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>>
>> "Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
>>>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>>>> the webcam using e.g. mplayer, everything works fine (example
>>>> screenshot:
>> http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>>>> ).
>>>>
>>>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>>>> the video is garbled. It is only green and has horizontal lines all
>>>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>>>
>>>> I suppose this is more likely to be an ekiga bug, but since I'm not
>>>> entirely sure, I wanted to ask here as well. Has anyone else
>>>> encountered this problem, maybe with a different application? Or is
>>>> there something I could do with the driver to avoid the problem?
>>>
>>> Isn't that due to the fact that you are looking at an YUV video flow
>>> and ekiga thinks is something else? It seems to me that this is the
>>> problem. A copy into a surface with a different video encoding.
>>
>> I don't know... how do I find out if my webcam sends a YUV flow? And
>> how do I determine the format that ekiga uses?
>>
>> Thanks for your help,
>>
>>    -Nikolaus
>>
>> -- 
>>  >It is not worth an intelligent man's time to be in the majority.
>>   By definition, there are already enough people to do that.<
>>                                                          -J.H. Hardy
>>
>>   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
>>
>> _______________________________________________
>> Linux-uvc-devel mailing list
>> Linux-uvc-devel at lists.berlios.de
>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
>    -Nikolaus
>
> -- 
>  >It is not worth an intelligent man's time to be in the majority.
>   By definition, there are already enough people to do that.<
>                                                          -J.H. Hardy
>
>   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From Nikolaus at rath.org  Fri Jul  4 21:04:34 2008
From: Nikolaus at rath.org (Nikolaus Rath)
Date: Fri, 04 Jul 2008 21:04:34 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
References: <mailman.121.1215165747.18760.linux-uvc-devel@lists.berlios.de>
	<510304.29424.qm@web53206.mail.re2.yahoo.com>
Message-ID: <87r6a9o4hp.fsf@nokile.rath.org>

Emanoil Kotsev <deloptes at yahoo.com> writes:
> I also want to ask you to help me with the issues I stated in my
> other mail if possible

I'm afraid I don't use Skype:

http://www.blackhat.com/presentations/bh-europe-06/bh-eu-06-biondi/bh-eu-06-biondi-up.pdf

So I don't really know how to help you...


Best,

   -Nikolaus

-- 
 ?It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.?
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C



From suse at kabelfunk.de  Sat Jul  5 16:03:28 2008
From: suse at kabelfunk.de (Dominik)
Date: Sat, 05 Jul 2008 16:03:28 +0200
Subject: [Linux-uvc-devel] Labtec Webcam 2200
Message-ID: <486F7F30.80504@kabelfunk.de>

I've got a webcam "Labtec Webcam 2200" with USB ID 093a:2626, but it
doesn't work.
According to http://linux-uvc.berlios.de/faq/  it won't be supported in
near future.

But if it is useful for somebody, here is the output of 
lsusb -v -d 093a:2626
-----------
Bus 003 Device 002: ID 093a:2626 Pixart Imaging, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0         8
  idVendor           0x093a Pixart Imaging, Inc.
  idProduct          0x2626
  bcdDevice            1.00
  iManufacturer           0
  iProduct                0
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          697
    bNumInterfaces          3
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              100mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       1
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       2
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       3
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       4
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       5
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0280  1x 640 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       6
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0300  1x 768 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       7
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0380  1x 896 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       8
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x03ff  1x 1023 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      1 Control Device
      bInterfaceProtocol      0
      iInterface              0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdADC               1.00
        wTotalLength           39
        bInCollection           1
        baInterfaceNr( 0)       2
      AudioControl Interface Descriptor:
        bLength                12
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Microphone
        bAssocTerminal          0
        bNrChannels             1
        wChannelConfig     0x0000
        iChannelNames           0
        iTerminal               0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      6 (FEATURE_UNIT)
        bUnitID                 2
        bSourceID               1
        bControlSize            2
        bmaControls( 0)      0x03
        bmaControls( 0)      0x00
          Mute
          Volume
        iFeature                0
      AudioControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               2
        iTerminal               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x89  EP 9 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               1
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x00
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        48000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x89  EP 9 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0060  1x 96 bytes
        bInterval               1
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x00
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x89  EP 9 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               1
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x00
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        2
      bAlternateSetting       4
      bNumEndpoints           1
      bInterfaceClass         1 Audio
      bInterfaceSubClass      2 Streaming
      bInterfaceProtocol      0
      iInterface              0
      AudioStreaming Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x89  EP 9 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0020  1x 32 bytes
        bInterval               1
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x00
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Status:     0x0000
  (Bus Powered)



From deloptes at yahoo.com  Sun Jul  6 02:28:35 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Sat, 5 Jul 2008 17:28:35 -0700 (PDT)
Subject: [Linux-uvc-devel] Philips SPC620NC,
	Video garbled and Question uvc Philps SPC620NC nvidia, ati and Skype
In-Reply-To: <mailman.6046.1215267016.5435.linux-uvc-devel@lists.berlios.de>
Message-ID: <790038.68250.qm@web53210.mail.re2.yahoo.com>


> Message: 1
> Date: Sat, 5 Jul 2008 03:10:25 -0700 (PDT)
> From: Emanoil Kotsev <deloptes at yahoo.com>
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC,	Video
> garbled and
> 	Question uvc Philps SPC620NC nvidia, ati and Skype
> To: linux-uvc-devel at lists.berlios.de
> Message-ID:
> <796895.52740.qm at web53201.mail.re2.yahoo.com>
> Content-Type: text/plain; charset=us-ascii
> 
> Hi, thanks for answering.
> 
> I don't have time for compiling mplayer now, and I
> don't really need it because all I want is to speak
> over Skype with my family and my friends and this is
> working for me. 
> mplayer tv:// -tv fps=30

This works fo the SPC1000 webcam - thanks, but I think I've also updated to the new mplayer, or underlaying library.

> http://www.blackhat.com/presentations/bh-europe-06/bh-eu-06-biondi/bh-eu-06-biondi-up.pdf

This was excelent article, kind of mad and confused but really good. Unfortunately I am not that paranoid and most of all I need a solution to help my friends use this app as they want to.

Anyway, I think Skype shows that comercials companies are always one head ahead and we can not do anything for now. I hope it could change in future, but really doubt it, because if you have the money you have the power.

So is there an alternative - no, and not using skype is also not an alternative, because how could I speak to my parents and friends and relatives?

Anyway, I want to thank you, Nikolaus, for your support and may be there is someone else on the list who has simlar configurations and can help.

Once again two persons have nvidia and ati cards with proprietary drivers and skype is not working with the webcam, so I would like to ask you if you are using such kind of hard/software to share some experience with me

thank yuou in advance

regards



      


From evildoenertier at arcor.de  Sun Jul  6 13:30:25 2008
From: evildoenertier at arcor.de (Evildoenertier)
Date: Sun, 06 Jul 2008 13:30:25 +0200
Subject: [Linux-uvc-devel] Medion akoya mini Netbook, integrated Webcam
Message-ID: <1215343825.10165.1.camel@lars-laptop>

?I am using Ubuntu 8.04 i386.

My lsusb -v output:

Bus 005 Device 006: ID 5986:0141 Bison 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x5986 Bison
  idProduct          0x0141 
  bcdDevice            3.04
  iManufacturer           0 
  iProduct                1 
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          411
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               1 
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              1 
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           85
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                18
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  3
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               6
        iTerminal               0 
      VideoControl Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      4 (SELECTOR_UNIT)
        bUnitID                 4
        bNrInPins               1
        baSource( 0)            1
        iSelector               0 
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 5
        bSourceID               4
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000043f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Power Line Frequency
        iProcessing             0 
        bmVideoStandards     0x1b
          None
          NTSC - 525/60
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                27
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 6
        guidExtensionCode         {564c97a7-7ea7-904b-8cbf-1c71ec303000}
        bNumControl            16
        bNrPins                 1
        baSourceID( 0)          5
        bControlSize            2
        bmControls( 0)       0xff
        bmControls( 1)       0xff
        iExtension              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              15
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            14
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                        1
        wTotalLength                      231
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       3
        bStillCaptureMethod                 0
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    27
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        1
        bNumFrameDescriptors                5
        guidFormat
{59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                 18432000
        dwMaxBitRate                 18432000
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                  4608000
        dwMaxBitRate                  4608000
        dwMaxVideoFrameBufferSize      153600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                  1152000
        dwMaxBitRate                  1152000
        dwMaxVideoFrameBufferSize       38400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                  6082560
        dwMaxBitRate                  6082560
        dwMaxVideoFrameBufferSize      202752
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                  1520640
        dwMaxBitRate                  1520640
        dwMaxVideoFrameBufferSize       50688
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       2
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       3
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1



lars at lars-laptop:~$ luvcview
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
Unable to set format: 22.
 Init v4L2 failed !! exit fatal 


Can somebody please help me and all other akoya mini users to solve this
problem



From evildoenertier at arcor.de  Sun Jul  6 16:38:16 2008
From: evildoenertier at arcor.de (Evildoenertier)
Date: Sun, 06 Jul 2008 16:38:16 +0200
Subject: [Linux-uvc-devel] [Fwd: Re:  Medion akoya mini Netbook,
	integrated	Webcam]
Message-ID: <1215355096.6547.2.camel@lars-laptop>


-------------- next part --------------
An embedded message was scrubbed...
From: Evildoenertier <evildoenertier at arcor.de>
Subject: Re: [Linux-uvc-devel] Medion akoya mini Netbook, integrated Webcam
Date: Sun, 06 Jul 2008 14:33:31 +0200
Size: 16942
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080706/6cf9f4e3/attachment.mht>

From philipp at kolmann.at  Sun Jul  6 17:49:39 2008
From: philipp at kolmann.at (Philipp Kolmann)
Date: Sun, 06 Jul 2008 17:49:39 +0200
Subject: [Linux-uvc-devel] FYI: UVC in 2.6.26
Message-ID: <4870E993.8020504@kolmann.at>

Hi,

just saw that the UVC driver was added to 2.6.26-rc9:

http://lwn.net/Articles/288824/

Congrats to Laurent and thank you very much for your effort.

Philipp



From bob.l.lewis at gmail.com  Sun Jul  6 17:56:58 2008
From: bob.l.lewis at gmail.com (Robert Lewis)
Date: Sun, 6 Jul 2008 08:56:58 -0700
Subject: [Linux-uvc-devel] FYI: UVC in 2.6.26
In-Reply-To: <4870E993.8020504@kolmann.at>
References: <4870E993.8020504@kolmann.at>
Message-ID: <86d2b63e0807060856s9f4bbe1p6367e4e0958e3c3f@mail.gmail.com>

On Sun, Jul 6, 2008 at 8:49 AM, Philipp Kolmann <philipp at kolmann.at> wrote:
> Hi,
>
> just saw that the UVC driver was added to 2.6.26-rc9:
>
> http://lwn.net/Articles/288824/
>
> Congrats to Laurent and thank you very much for your effort.
>
> Philipp
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
I'lls second that.  What a lot of hard and good work has been done
and appreciated by a lot of people..

Bob


From fragabr at gmail.com  Sun Jul  6 17:55:44 2008
From: fragabr at gmail.com (=?ISO-8859-1?Q?D=E2niel?= Fraga)
Date: Sun, 6 Jul 2008 12:55:44 -0300
Subject: [Linux-uvc-devel] FYI: UVC in 2.6.26
References: <4870E993.8020504@kolmann.at>
Message-ID: <0h67k5-mu3.ln1@tux.abusar.org.br>

On Sun, 06 Jul 2008 17:49:39 +0200
Philipp Kolmann <philipp at kolmann.at> wrote:

> Hi,
> 
> just saw that the UVC driver was added to 2.6.26-rc9:
> 
> http://lwn.net/Articles/288824/
> 
> Congrats to Laurent and thank you very much for your effort.

	Great! Thanks to Laurent!

	And Thanks to Linus too, for accepting before 2.6.26 final
release (I thought it would got merge just on 2.6.27).

	This is great news for everybody! :D


-- 
Linux 2.6.25: Funky Weasel is Jiggy wit it
http://u-br.net




From s0238762 at sms.ed.ac.uk  Sun Jul  6 19:48:40 2008
From: s0238762 at sms.ed.ac.uk (Ioannis Nousias)
Date: Sun, 06 Jul 2008 18:48:40 +0100
Subject: [Linux-uvc-devel] FYI: UVC in 2.6.26
In-Reply-To: <4870E993.8020504@kolmann.at>
References: <4870E993.8020504@kolmann.at>
Message-ID: <48710578.4000702@sms.ed.ac.uk>

Philipp Kolmann wrote:
> Hi,
>
> just saw that the UVC driver was added to 2.6.26-rc9:
>
> http://lwn.net/Articles/288824/
>
> Congrats to Laurent and thank you very much for your effort.
>
> Philipp
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailm
>   


let me be another one to congratulate Laurent and everyone else involved 
for achieving this important milestone, of entering the mainline kernel.

Ioannis


-- 
The University of Edinburgh is a charitable body, registered in
Scotland, with registration number SC005336.



From marconico at tiscali.it  Sun Jul  6 20:38:21 2008
From: marconico at tiscali.it (erwin)
Date: Sun, 06 Jul 2008 20:38:21 +0200
Subject: [Linux-uvc-devel] USB2.0 UVC PC Camera
Message-ID: <1215369455.6334.6.camel@erwin-laptop>

Hi, i have an notebook ASUS F9SG with on board cam as per subject. I
have the problem that programs like skype ekiga amsn etc.. switch it on
but can't get image or they say "no web cam detected. the model is D-MAX
(stk-2135) i'm running ubuntu 7.10 

erwin at erwin-laptop:~$ lsusb
Bus 004 Device 001: ID 0000:0000  
Bus 002 Device 001: ID 0000:0000  
Bus 005 Device 002: ID 046d:c016 Logitech, Inc. M-UV69a Optical Wheel
Mouse
Bus 005 Device 001: ID 0000:0000  
Bus 007 Device 002: ID 0b05:1712 ASUSTek Computer, Inc. 
Bus 007 Device 001: ID 0000:0000  
Bus 006 Device 002: ID 08ff:1600 AuthenTec, Inc. 
Bus 006 Device 001: ID 0000:0000  
Bus 003 Device 007: ID 0bda:0116 Realtek Semiconductor Corp. 
Bus 003 Device 004: ID 174f:8a31  
Bus 003 Device 003: ID 152d:2339  
Bus 003 Device 001: ID 0000:0000  
Bus 001 Device 001: ID 0000:0000  
erwin at erwin-laptop:~$ 


erwin at erwin-laptop:~$ lspci
00:00.0 Host bridge: Intel Corporation Mobile PM965/GM965/GL960 Memory
Controller Hub (rev 03)
00:01.0 PCI bridge: Intel Corporation Mobile PM965/GM965/GL960 PCI
Express Root Port (rev 03)
00:1a.0 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
Contoller #4 (rev 03)
00:1a.1 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
Controller #5 (rev 03)
00:1a.7 USB Controller: Intel Corporation 82801H (ICH8 Family) USB2 EHCI
Controller #2 (rev 03)
00:1b.0 Audio device: Intel Corporation 82801H (ICH8 Family) HD Audio
Controller (rev 03)
00:1c.0 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express
Port 1 (rev 03)
00:1c.1 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express
Port 2 (rev 03)
00:1c.2 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express
Port 3 (rev 03)
00:1d.0 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
Controller #1 (rev 03)
00:1d.1 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
Controller #2 (rev 03)
00:1d.2 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
Controller #3 (rev 03)
00:1d.7 USB Controller: Intel Corporation 82801H (ICH8 Family) USB2 EHCI
Controller #1 (rev 03)
00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev f3)
00:1f.0 ISA bridge: Intel Corporation 82801HEM (ICH8M) LPC Interface
Controller (rev 03)
00:1f.1 IDE interface: Intel Corporation 82801HBM/HEM (ICH8M/ICH8M-E)
IDE Controller (rev 03)
00:1f.2 SATA controller: Intel Corporation 82801HBM/HEM (ICH8M/ICH8M-E)
SATA AHCI Controller (rev 03)
01:00.0 VGA compatible controller: nVidia Corporation Unknown device
042e (rev a1)
02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd.
RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 01)
05:00.0 Network controller: Intel Corporation PRO/Wireless 4965 AG or
AGN Network Connection (rev 61)
erwin at erwin-laptop:~$ 

I really hope you'll find soon a solution for this issue.

Thanks in advance.

erwin




From arjos85 at gmail.com  Sun Jul  6 23:06:47 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Sun, 6 Jul 2008 23:06:47 +0200
Subject: [Linux-uvc-devel] USB2.0 UVC PC Camera
In-Reply-To: <1215369455.6334.6.camel@erwin-laptop>
References: <1215369455.6334.6.camel@erwin-laptop>
Message-ID: <879e1f2b0807061406r67fb3938k250bc72fa3ca8e88@mail.gmail.com>

Well, first of all you have to be sure your webcam is UVC compliant.
Try to execute this command:
sudo lsusb -d 174f:8a31 -v | grep "14 Video"

If your webcam is UVC compliant then you should get something like this:
      bFunctionClass         14 Video
      bInterfaceClass        14 Video
      bInterfaceClass        14 Video
      bInterfaceClass        14 Video

If your is a UVC-webcam, then maybe uvcvideo module is not loaded!
lsmod | grep uvcvideo

If it is not loaded:
sudo modprobe uvcvideo

If it is loaded, just verify if there is the corrispond node for your
webcam:
ls -l /dev/video*

Now you can be sure your webcam is recognised!!
Just for another test, install
luvcview<http://packages.ubuntu.com/hardy/x11/luvcview>and then run:
luvcview -L

If everything seems to be good, maybe it is a problem of software
configuration:
skype: from properties you have just to enable webcam capturing and select
the webcam source (e.g. /dev/video0);
ekiga: from Preference, select Device->Video Devices and set:
-  Video Plugin = V4L2
-  Format = PAL europe
-  Channel = 0
amsn: from Prefernce select "Others" tab and then "Audio & Video Settings"
and follow the guide!!

Good luck!!! ;)

Marco Argiolas

2008/7/6 erwin <marconico at tiscali.it>:

> Hi, i have an notebook ASUS F9SG with on board cam as per subject. I
> have the problem that programs like skype ekiga amsn etc.. switch it on
> but can't get image or they say "no web cam detected. the model is D-MAX
> (stk-2135) i'm running ubuntu 7.10
>
> erwin at erwin-laptop:~$ lsusb
> Bus 004 Device 001: ID 0000:0000
> Bus 002 Device 001: ID 0000:0000
> Bus 005 Device 002: ID 046d:c016 Logitech, Inc. M-UV69a Optical Wheel
> Mouse
> Bus 005 Device 001: ID 0000:0000
> Bus 007 Device 002: ID 0b05:1712 ASUSTek Computer, Inc.
> Bus 007 Device 001: ID 0000:0000
> Bus 006 Device 002: ID 08ff:1600 AuthenTec, Inc.
> Bus 006 Device 001: ID 0000:0000
> Bus 003 Device 007: ID 0bda:0116 Realtek Semiconductor Corp.
> Bus 003 Device 004: ID 174f:8a31
> Bus 003 Device 003: ID 152d:2339
> Bus 003 Device 001: ID 0000:0000
> Bus 001 Device 001: ID 0000:0000
> erwin at erwin-laptop:~$
>
>
> erwin at erwin-laptop:~$ lspci
> 00:00.0 Host bridge: Intel Corporation Mobile PM965/GM965/GL960 Memory
> Controller Hub (rev 03)
> 00:01.0 PCI bridge: Intel Corporation Mobile PM965/GM965/GL960 PCI
> Express Root Port (rev 03)
> 00:1a.0 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
> Contoller #4 (rev 03)
> 00:1a.1 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
> Controller #5 (rev 03)
> 00:1a.7 USB Controller: Intel Corporation 82801H (ICH8 Family) USB2 EHCI
> Controller #2 (rev 03)
> 00:1b.0 Audio device: Intel Corporation 82801H (ICH8 Family) HD Audio
> Controller (rev 03)
> 00:1c.0 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express
> Port 1 (rev 03)
> 00:1c.1 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express
> Port 2 (rev 03)
> 00:1c.2 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express
> Port 3 (rev 03)
> 00:1d.0 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
> Controller #1 (rev 03)
> 00:1d.1 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
> Controller #2 (rev 03)
> 00:1d.2 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI
> Controller #3 (rev 03)
> 00:1d.7 USB Controller: Intel Corporation 82801H (ICH8 Family) USB2 EHCI
> Controller #1 (rev 03)
> 00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev f3)
> 00:1f.0 ISA bridge: Intel Corporation 82801HEM (ICH8M) LPC Interface
> Controller (rev 03)
> 00:1f.1 IDE interface: Intel Corporation 82801HBM/HEM (ICH8M/ICH8M-E)
> IDE Controller (rev 03)
> 00:1f.2 SATA controller: Intel Corporation 82801HBM/HEM (ICH8M/ICH8M-E)
> SATA AHCI Controller (rev 03)
> 01:00.0 VGA compatible controller: nVidia Corporation Unknown device
> 042e (rev a1)
> 02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd.
> RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 01)
> 05:00.0 Network controller: Intel Corporation PRO/Wireless 4965 AG or
> AGN Network Connection (rev 61)
> erwin at erwin-laptop:~$
>
> I really hope you'll find soon a solution for this issue.
>
> Thanks in advance.
>
> erwin
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>



-- 
Marco Argiolas
marco.argiolas at studenti.polito.it
arjos85 at gmail.com
skype: arjos85
msn: sarace2003 at libero.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080706/3e31e983/attachment.html>

From arjos85 at gmail.com  Mon Jul  7 08:59:42 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Mon, 7 Jul 2008 08:59:42 +0200
Subject: [Linux-uvc-devel] USB2.0 UVC PC Camera
In-Reply-To: <1215408676.8679.3.camel@erwin-laptop>
References: <1215369455.6334.6.camel@erwin-laptop>
	<879e1f2b0807061406r67fb3938k250bc72fa3ca8e88@mail.gmail.com>
	<1215408676.8679.3.camel@erwin-laptop>
Message-ID: <879e1f2b0807062359u1d920495we23940a52082aa7d@mail.gmail.com>

Hi Marco, thank you very much for your response, i did what you suggest
me and this is what i have:
erwin at erwin-laptop:~$ sudo lsusb -d 174f:8a31 -v | grep "14 Video"
[sudo] password for erwin:
      bFunctionClass         14 Video
     bInterfaceClass        14 Video
     bInterfaceClass        14 Video
     bInterfaceClass        14 Video
     bInterfaceClass        14 Video
     bInterfaceClass        14 Video
     bInterfaceClass        14 Video
erwin at erwin-laptop:~$ lsmod | grep uvcvideo
uvcvideo               48644  0
compat_ioctl32          2304  1 uvcvideo
videodev               29312  1 uvcvideo
v4l1_compat            15364  2 uvcvideo,videodev
v4l2_common            18432  2 uvcvideo,videodev
usbcore               138632  8
uvcvideo,usbhid,hci_usb,usb_storage,libusual,uhci_hcd,ehci_hcd
erwin at erwin-laptop:~$ luvcview -L
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
/dev/video0 does not support read i/o
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
       Time interval between frame: 1/20,
{ discrete: width = 160, height = 120 }
       Time interval between frame: 1/24,
{ discrete: width = 176, height = 144 }
       Time interval between frame: 1/24,
{ discrete: width = 320, height = 240 }
       Time interval between frame: 1/24,
{ discrete: width = 352, height = 288 }
       Time interval between frame: 1/24,
{ discrete: width = 800, height = 600 }
       Time interval between frame: 1/7,
{ discrete: width = 1024, height = 768 }
       Time interval between frame: 1/7,
{ discrete: width = 1280, height = 800 }
       Time interval between frame: 1/7,
{ discrete: width = 1280, height = 960 }
       Time interval between frame: 1/7,
{ discrete: width = 1280, height = 1024 }
       Time interval between frame: 1/7,
erwin at erwin-laptop:~$
 Actually i still have blank screen on Skype nekiga & amsn. Any
suggestions? Thanks again Marco.

On Sun, 2008-07-06 at 23:06 +0200, Marco Argiolas wrote:
> Well, first of all you have to be sure your webcam is UVC compliant.
> Try to execute this command:
> sudo lsusb -d 174f:8a31 -v | grep "14 Video"
>
> If your webcam is UVC compliant then you should get something like
> this:
>       bFunctionClass         14 Video
>       bInterfaceClass        14 Video
>       bInterfaceClass        14 Video
>       bInterfaceClass        14 Video
>
> If your is a UVC-webcam, then maybe uvcvideo module is not loaded!
> lsmod | grep uvcvideo
>
> If it is not loaded:
> sudo modprobe uvcvideo
>
> If it is loaded, just verify if there is the corrispond node for your
> webcam:
> ls -l /dev/video*
>
> Now you can be sure your webcam is recognised!!
> Just for another test, install luvcview and then run:
> luvcview -L
>
> If everything seems to be good, maybe it is a problem of software
> configuration:
> skype: from properties you have just to enable webcam capturing and
> select the webcam source (e.g. /dev/video0);
> ekiga: from Preference, select Device->Video Devices and set:
> -  Video Plugin = V4L2
> -  Format = PAL europe
> -  Channel = 0
>
> amsn: from Prefernce select "Others" tab and then "Audio & Video
> Settings" and follow the guide!!
>
> Good luck!!! ;)
>
> Marco Argiolas
>
> 2008/7/6 erwin <marconico at tiscali.it>:
>         Hi, i have an notebook ASUS F9SG with on board cam as per
>         subject. I
>         have the problem that programs like skype ekiga amsn etc..
>         switch it on
>         but can't get image or they say "no web cam detected. the
>         model is D-MAX
>         (stk-2135) i'm running ubuntu 7.10
>
>         erwin at erwin-laptop:~$ lsusb
>         Bus 004 Device 001: ID 0000:0000
>         Bus 002 Device 001: ID 0000:0000
>         Bus 005 Device 002: ID 046d:c016 Logitech, Inc. M-UV69a
>         Optical Wheel
>         Mouse
>         Bus 005 Device 001: ID 0000:0000
>         Bus 007 Device 002: ID 0b05:1712 ASUSTek Computer, Inc.
>         Bus 007 Device 001: ID 0000:0000
>         Bus 006 Device 002: ID 08ff:1600 AuthenTec, Inc.
>         Bus 006 Device 001: ID 0000:0000
>         Bus 003 Device 007: ID 0bda:0116 Realtek Semiconductor Corp.
>         Bus 003 Device 004: ID 174f:8a31
>         Bus 003 Device 003: ID 152d:2339
>         Bus 003 Device 001: ID 0000:0000
>         Bus 001 Device 001: ID 0000:0000
>         erwin at erwin-laptop:~$
>
>
>         erwin at erwin-laptop:~$ lspci
>         00:00.0 Host bridge: Intel Corporation Mobile
>         PM965/GM965/GL960 Memory
>         Controller Hub (rev 03)
>         00:01.0 PCI bridge: Intel Corporation Mobile PM965/GM965/GL960
>         PCI
>         Express Root Port (rev 03)
>         00:1a.0 USB Controller: Intel Corporation 82801H (ICH8 Family)
>         USB UHCI
>         Contoller #4 (rev 03)
>         00:1a.1 USB Controller: Intel Corporation 82801H (ICH8 Family)
>         USB UHCI
>         Controller #5 (rev 03)
>         00:1a.7 USB Controller: Intel Corporation 82801H (ICH8 Family)
>         USB2 EHCI
>         Controller #2 (rev 03)
>         00:1b.0 Audio device: Intel Corporation 82801H (ICH8 Family)
>         HD Audio
>         Controller (rev 03)
>         00:1c.0 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI
>         Express
>         Port 1 (rev 03)
>         00:1c.1 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI
>         Express
>         Port 2 (rev 03)
>         00:1c.2 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI
>         Express
>         Port 3 (rev 03)
>         00:1d.0 USB Controller: Intel Corporation 82801H (ICH8 Family)
>         USB UHCI
>         Controller #1 (rev 03)
>         00:1d.1 USB Controller: Intel Corporation 82801H (ICH8 Family)
>         USB UHCI
>         Controller #2 (rev 03)
>         00:1d.2 USB Controller: Intel Corporation 82801H (ICH8 Family)
>         USB UHCI
>         Controller #3 (rev 03)
>         00:1d.7 USB Controller: Intel Corporation 82801H (ICH8 Family)
>         USB2 EHCI
>         Controller #1 (rev 03)
>         00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge
>         (rev f3)
>         00:1f.0 ISA bridge: Intel Corporation 82801HEM (ICH8M) LPC
>         Interface
>         Controller (rev 03)
>         00:1f.1 IDE interface: Intel Corporation 82801HBM/HEM
>         (ICH8M/ICH8M-E)
>         IDE Controller (rev 03)
>         00:1f.2 SATA controller: Intel Corporation 82801HBM/HEM
>         (ICH8M/ICH8M-E)
>         SATA AHCI Controller (rev 03)
>         01:00.0 VGA compatible controller: nVidia Corporation Unknown
>         device
>         042e (rev a1)
>         02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd.
>         RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 01)
>         05:00.0 Network controller: Intel Corporation PRO/Wireless
>         4965 AG or
>         AGN Network Connection (rev 61)
>         erwin at erwin-laptop:~$
>
>         I really hope you'll find soon a solution for this issue.
>
>         Thanks in advance.
>
>         erwin
>
>
>         _______________________________________________
>         Linux-uvc-devel mailing list
>         Linux-uvc-devel at lists.berlios.de
>         https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080707/c1169152/attachment.html>

From arjos85 at gmail.com  Mon Jul  7 09:01:08 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Mon, 7 Jul 2008 09:01:08 +0200
Subject: [Linux-uvc-devel] USB2.0 UVC PC Camera
In-Reply-To: <879e1f2b0807062320v376c67b4ie23d4d7c7bb9a79@mail.gmail.com>
References: <1215369455.6334.6.camel@erwin-laptop>
	<879e1f2b0807061406r67fb3938k250bc72fa3ca8e88@mail.gmail.com>
	<1215408676.8679.3.camel@erwin-laptop>
	<879e1f2b0807062320v376c67b4ie23d4d7c7bb9a79@mail.gmail.com>
Message-ID: <879e1f2b0807070001x691a4f98h6b5de6e6b6dfe3a9@mail.gmail.com>

Well it sounds very strange....
Have you already tried the following command?
luvcview -f yuv
It should show you the video streaming from your webcam!!

2008/7/7 erwin <marconico at tiscali.it>:

Hi Marco, thank you very much for your response, i did what you suggest
> me and this is what i have:
> erwin at erwin-laptop:~$ sudo lsusb -d 174f:8a31 -v | grep "14 Video"
> [sudo] password for erwin:
>       bFunctionClass         14 Video
>      bInterfaceClass        14 Video
>      bInterfaceClass        14 Video
>      bInterfaceClass        14 Video
>      bInterfaceClass        14 Video
>      bInterfaceClass        14 Video
>      bInterfaceClass        14 Video
> erwin at erwin-laptop:~$ lsmod | grep uvcvideo
> uvcvideo               48644  0
> compat_ioctl32          2304  1 uvcvideo
> videodev               29312  1 uvcvideo
> v4l1_compat            15364  2 uvcvideo,videodev
> v4l2_common            18432  2 uvcvideo,videodev
> usbcore               138632  8
> uvcvideo,usbhid,hci_usb,usb_storage,libusual,uhci_hcd,ehci_hcd
> erwin at erwin-laptop:~$ luvcview -L
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> /dev/video0 does not support read i/o
> { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
> { discrete: width = 640, height = 480 }
>        Time interval between frame: 1/20,
> { discrete: width = 160, height = 120 }
>        Time interval between frame: 1/24,
> { discrete: width = 176, height = 144 }
>        Time interval between frame: 1/24,
> { discrete: width = 320, height = 240 }
>        Time interval between frame: 1/24,
> { discrete: width = 352, height = 288 }
>        Time interval between frame: 1/24,
> { discrete: width = 800, height = 600 }
>        Time interval between frame: 1/7,
> { discrete: width = 1024, height = 768 }
>        Time interval between frame: 1/7,
> { discrete: width = 1280, height = 800 }
>        Time interval between frame: 1/7,
> { discrete: width = 1280, height = 960 }
>        Time interval between frame: 1/7,
> { discrete: width = 1280, height = 1024 }
>        Time interval between frame: 1/7,
> erwin at erwin-laptop:~$
>  Actually i still have blank screen on Skype nekiga & amsn. Any
> suggestions? Thanks again Marco.
>
> On Sun, 2008-07-06 at 23:06 +0200, Marco Argiolas wrote:
> > Well, first of all you have to be sure your webcam is UVC compliant.
> > Try to execute this command:
> > sudo lsusb -d 174f:8a31 -v | grep "14 Video"
> >
> > If your webcam is UVC compliant then you should get something like
> > this:
> >       bFunctionClass         14 Video
> >       bInterfaceClass        14 Video
> >       bInterfaceClass        14 Video
> >       bInterfaceClass        14 Video
> >
> > If your is a UVC-webcam, then maybe uvcvideo module is not loaded!
> > lsmod | grep uvcvideo
> >
> > If it is not loaded:
> > sudo modprobe uvcvideo
> >
> > If it is loaded, just verify if there is the corrispond node for your
> > webcam:
> > ls -l /dev/video*
> >
> > Now you can be sure your webcam is recognised!!
> > Just for another test, install luvcview and then run:
> > luvcview -L
> >
> > If everything seems to be good, maybe it is a problem of software
> > configuration:
> > skype: from properties you have just to enable webcam capturing and
> > select the webcam source (e.g. /dev/video0);
> > ekiga: from Preference, select Device->Video Devices and set:
> > -  Video Plugin = V4L2
> > -  Format = PAL europe
> > -  Channel = 0
> >
> > amsn: from Prefernce select "Others" tab and then "Audio & Video
> > Settings" and follow the guide!!
> >
> > Good luck!!! ;)
> >
> > Marco Argiolas
> >
> > 2008/7/6 erwin <marconico at tiscali.it>:
> >         Hi, i have an notebook ASUS F9SG with on board cam as per
> >         subject. I
> >         have the problem that programs like skype ekiga amsn etc..
> >         switch it on
> >         but can't get image or they say "no web cam detected. the
> >         model is D-MAX
> >         (stk-2135) i'm running ubuntu 7.10
> >
> >         erwin at erwin-laptop:~$ lsusb
> >         Bus 004 Device 001: ID 0000:0000
> >         Bus 002 Device 001: ID 0000:0000
> >         Bus 005 Device 002: ID 046d:c016 Logitech, Inc. M-UV69a
> >         Optical Wheel
> >         Mouse
> >         Bus 005 Device 001: ID 0000:0000
> >         Bus 007 Device 002: ID 0b05:1712 ASUSTek Computer, Inc.
> >         Bus 007 Device 001: ID 0000:0000
> >         Bus 006 Device 002: ID 08ff:1600 AuthenTec, Inc.
> >         Bus 006 Device 001: ID 0000:0000
> >         Bus 003 Device 007: ID 0bda:0116 Realtek Semiconductor Corp.
> >         Bus 003 Device 004: ID 174f:8a31
> >         Bus 003 Device 003: ID 152d:2339
> >         Bus 003 Device 001: ID 0000:0000
> >         Bus 001 Device 001: ID 0000:0000
> >         erwin at erwin-laptop:~$
> >
> >
> >         erwin at erwin-laptop:~$ lspci
> >         00:00.0 Host bridge: Intel Corporation Mobile
> >         PM965/GM965/GL960 Memory
> >         Controller Hub (rev 03)
> >         00:01.0 PCI bridge: Intel Corporation Mobile PM965/GM965/GL960
> >         PCI
> >         Express Root Port (rev 03)
> >         00:1a.0 USB Controller: Intel Corporation 82801H (ICH8 Family)
> >         USB UHCI
> >         Contoller #4 (rev 03)
> >         00:1a.1 USB Controller: Intel Corporation 82801H (ICH8 Family)
> >         USB UHCI
> >         Controller #5 (rev 03)
> >         00:1a.7 USB Controller: Intel Corporation 82801H (ICH8 Family)
> >         USB2 EHCI
> >         Controller #2 (rev 03)
> >         00:1b.0 Audio device: Intel Corporation 82801H (ICH8 Family)
> >         HD Audio
> >         Controller (rev 03)
> >         00:1c.0 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI
> >         Express
> >         Port 1 (rev 03)
> >         00:1c.1 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI
> >         Express
> >         Port 2 (rev 03)
> >         00:1c.2 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI
> >         Express
> >         Port 3 (rev 03)
> >         00:1d.0 USB Controller: Intel Corporation 82801H (ICH8 Family)
> >         USB UHCI
> >         Controller #1 (rev 03)
> >         00:1d.1 USB Controller: Intel Corporation 82801H (ICH8 Family)
> >         USB UHCI
> >         Controller #2 (rev 03)
> >         00:1d.2 USB Controller: Intel Corporation 82801H (ICH8 Family)
> >         USB UHCI
> >         Controller #3 (rev 03)
> >         00:1d.7 USB Controller: Intel Corporation 82801H (ICH8 Family)
> >         USB2 EHCI
> >         Controller #1 (rev 03)
> >         00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge
> >         (rev f3)
> >         00:1f.0 ISA bridge: Intel Corporation 82801HEM (ICH8M) LPC
> >         Interface
> >         Controller (rev 03)
> >         00:1f.1 IDE interface: Intel Corporation 82801HBM/HEM
> >         (ICH8M/ICH8M-E)
> >         IDE Controller (rev 03)
> >         00:1f.2 SATA controller: Intel Corporation 82801HBM/HEM
> >         (ICH8M/ICH8M-E)
> >         SATA AHCI Controller (rev 03)
> >         01:00.0 VGA compatible controller: nVidia Corporation Unknown
> >         device
> >         042e (rev a1)
> >         02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd.
> >         RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 01)
> >         05:00.0 Network controller: Intel Corporation PRO/Wireless
> >         4965 AG or
> >         AGN Network Connection (rev 61)
> >         erwin at erwin-laptop:~$
> >
> >         I really hope you'll find soon a solution for this issue.
> >
> >         Thanks in advance.
> >
> >         erwin
> >
> >
> >         _______________________________________________
> >         Linux-uvc-devel mailing list
> >         Linux-uvc-devel at lists.berlios.de
> >         https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080707/422214c7/attachment.html>

From asergiu at yahoo.co.uk  Mon Jul  7 09:38:28 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Mon, 7 Jul 2008 10:38:28 +0300
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <87zloxo56p.fsf@nokile.rath.org>
References: <87bq1fqpnf.fsf@nokile.rath.org><1513AC435D7E4CE7811DA6D0DD077D3C@core2><87hcb6ovzi.fsf@nokile.rath.org><200807041221.44300.jaime.perea@gmail.com>
	<87zloxo56p.fsf@nokile.rath.org>
Message-ID: <51DF00F29EBC4386BC010522D83A62D6@core2>

OK the question about SDL was just because the greenish image is a typical
case of blitting YUV into RGB surfaces which are used by SDL. 
Now if the camera works with other software - it might be that ekiga doesn't
manage to get a proper format for what is implementing in its display
module. Have you asked people at ekiga how the video display is done ?

Anyway if the camera works with other softwares it is pretty obvious that
the problem lies in ekiga.

Adrian

-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
Sent: Friday, July 04, 2008 9:50 PM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled

Jaime Perea <jaime.perea at gmail.com> writes:
>> You are definitely on the right track. As I wrote in my other mail,
>> luvcview can access the cam with -f yuv but not with -f jpg. Ekiga is
>> not linked against SDL. It also has no configuration option to switch
>> between jpg and yuv.  Is there anything I can do to make the driver
>> produce jpg output?
>
> I've got an integrated camera that works only in yuv mode and it
> works with ekiga. In my case ldd tells that ekiga is linked against
> libSDL-1.2.so.0 ... apart from about other 100 libraries :-)

Actually mine is linked against it as well... I forgot to take the
case-sensitivity of grep into account...

I have asked about this on the ekiga list as well, maybe ekiga is
simply not recognizing the yuv as yuv in my case.


Best,

   -Nikolaus

-- 
 >It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.<
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From asergiu at yahoo.co.uk  Mon Jul  7 09:42:29 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Mon, 7 Jul 2008 10:42:29 +0300
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <878wwhpk3k.fsf@nokile.rath.org>
References: <87bq1fqpnf.fsf@nokile.rath.org><200807040239.30076.laurent.pinchart@skynet.be><87prpuoy73.fsf@nokile.rath.org><511992EDF3EB4B9B91F58B5DEF3EEFC4@core2><6A85DB3BF0AE499194B83A84BE5E6EC7@core2>
	<878wwhpk3k.fsf@nokile.rath.org>
Message-ID: <E101C988C8FC4364BD7BCE8E7B12E502@core2>

My timing issues are problems linked with a sets of cameras that refuse to
work with linux even though they are UVC. They some timing issues at the USB
level which introduces a lot of time-outs when comunnicating with the
kernel. Some of them have been adressed by the new 2.6.25 trough -rc6 but
unfortunately not all of them.

I don't thing you have them as in my case you see in the logs messages like
"error -zz unable to get value XX for control (YY)"
 or lsusb -v just freezes sometimes - some other times not.

Adrian

-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
Sent: Friday, July 04, 2008 9:42 PM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled

Well, I wish I knew :-). Can you elaborate on this timing problems
you're facing? Maybe I can check whether the symptoms are the same
here.

Best,
-Nikolaus

"Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
> Ahh didn't see the 2nd running is working. Might this be a timing issue
like
> for my cameras !?!?!?
>
> Adrian
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Adrian
Sergiu
> DARABANT
> Sent: Friday, July 04, 2008 12:18 PM
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>
> Hi Nikoalus
> Try again to list the formats exported by the camera with luvcview.
> There is a command line option for that - and send us the result.
>
> Adrian
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus
Rath
> Sent: Friday, July 04, 2008 11:23 AM
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>
> Laurent Pinchart <laurent.pinchart at skynet.be> writes:
>> Hi Nikolaus,
>>
>> On Thursday 03 July 2008, Nikolaus Rath wrote:
>>> Hello,
>>>
>>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>>> the webcam using e.g. mplayer, everything works fine (example
>>> screenshot:
> http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>>> ).
>>>
>>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>>> the video is garbled. It is only green and has horizontal lines all
>>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>>
>>> I suppose this is more likely to be an ekiga bug, but since I'm not
>>> entirely sure, I wanted to ask here as well. Has anyone else
>>> encountered this problem, maybe with a different application? Or is
>>> there something I could do with the driver to avoid the problem?
>>
>> I'd vote for an Ekiga bug, but I never rule out the possibility of driver
> bugs 
>> either :-)
>
> I just tried to access the webcam with luvcview:
>
> nokile:~/projekte/s3fs$ luvcview 
> luvcview version 0.2.1 
> Video driver: x11
> A window manager is available
> video /dev/video0 
> Unable to set format: 22.
>  Init v4L2 failed !! exit fatal 
>
> nokile:~/projekte/s3fs$ luvcview -f yuv
> luvcview version 0.2.1 
> Video driver: x11
> A window manager is available
> video /dev/video0 
>  Clean Up done Quit 
>
>
> The second call works. Could that be the reason for my problems? And
> is it the fault of the driver or the cam itself that it doesn't
> generate jpg?
>
>
> Best,
>
>    -Nikolaus
>
> -- 
>  >It is not worth an intelligent man's time to be in the majority.
>   By definition, there are already enough people to do that.<
>                                                          -J.H. Hardy
>
>   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


   -Nikolaus

-- 
 >It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.<
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From asergiu at yahoo.co.uk  Mon Jul  7 09:46:15 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Mon, 7 Jul 2008 10:46:15 +0300
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <87tzf5o4mo.fsf@nokile.rath.org>
References: <87bq1fqpnf.fsf@nokile.rath.org><B6C20E7305314B91A34A807CF87E2E51@core2><871w2aqdsq.fsf@nokile.rath.org><1513AC435D7E4CE7811DA6D0DD077D3C@core2><87hcb6ovzi.fsf@nokile.rath.org><EE871E5A9B8E41CF82CC957FC707A618@core2>
	<87tzf5o4mo.fsf@nokile.rath.org>
Message-ID: <FA8C56F9B12E4C25B49EBA3CCBBAB447@core2>

It seems that your camera only exports YUV and the problem with ekiga
should, I think be linked to this fact.
Is anyone using successfully ekiga with a camera that only supports "video
accelerated" formats (YUV, I4210, YUYV, etc) ?


Adrian Sergiu DARABANT


-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus Rath
Sent: Friday, July 04, 2008 10:02 PM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled

These are the stream formats:

[0] nokile:~/projekte/s3fs$ luvcview -L
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
/dev/video0 does not support read i/o
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
	Time interval between frame: 1/30, 1/25, 1/20, 1/15, 1/10, 2/15,
1/5, 
{ discrete: width = 320, height = 240 }
	Time interval between frame: 1/60, 1/50, 1/30, 1/25, 1/20, 1/15,
1/10, 2/15, 1/5, 

        
"Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
> That's for Laurent to answer but I'm afraid that if the camera is not
> exporting those type of stream formats it isn't possible. There is entire
> debate in wheter a driver should do transcoding or not in kernel space.
>
> Could you send us from the luvcview the list of stream formats your camera
> supports ?
> luvcview -L 
> i think (I don't have the software in front of me) just take the option
that
> says it only reports the video formats and quits.
>
> Adrian
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus
Rath
> Sent: Friday, July 04, 2008 12:11 PM
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>
> Hey,
>
> You are definitely on the right track. As I wrote in my other mail,
> luvcview can access the cam with -f yuv but not with -f jpg. Ekiga is
> not linked against SDL. It also has no configuration option to switch
> between jpg and yuv.  Is there anything I can do to make the driver
> produce jpg output?
>
> Best,
> Nikolaus
>
>
> "Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
>> Hello,
>> I don't have ekiga right here but I am pretty sure the greenish
>> image with some wite lines or spots is a YUV (or black lines or
>> spots) is an YUV format encoded video blitted in a RGB surface. Look
>> if ekiga is linked against SDL - I think that would be a good start.
>> I didn't used ekiga till now but I am somehow working with video
>> capture application developpement. Also look at si command line
>> arguments and see if it says something about the video part. Many of
>> the recent years USB cameras do not stream RGB (just YUV and Ixx)
>> formats. For checking for SDL linked to ekiga do an ldd ekiga and
>> check in the list.
>>
>> I might also be on the wrong path - however the greenish image is very
>> typical for YUV-RGB blitting.
>>
>> Adrian
>>
>>
>>
>>
>> -----Original Message-----
>> From: linux-uvc-devel-bounces at lists.berlios.de
>> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus
> Rath
>> Sent: Friday, July 04, 2008 11:01 AM
>> To: linux-uvc-devel at lists.berlios.de
>> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>>
>> "Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
>>>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
>>>> the webcam using e.g. mplayer, everything works fine (example
>>>> screenshot:
>> http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
>>>> ).
>>>>
>>>> However, if I try to access the webcam using ekiga (www.ekiga.org),
>>>> the video is garbled. It is only green and has horizontal lines all
>>>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
>>>>
>>>> I suppose this is more likely to be an ekiga bug, but since I'm not
>>>> entirely sure, I wanted to ask here as well. Has anyone else
>>>> encountered this problem, maybe with a different application? Or is
>>>> there something I could do with the driver to avoid the problem?
>>>
>>> Isn't that due to the fact that you are looking at an YUV video flow
>>> and ekiga thinks is something else? It seems to me that this is the
>>> problem. A copy into a surface with a different video encoding.
>>
>> I don't know... how do I find out if my webcam sends a YUV flow? And
>> how do I determine the format that ekiga uses?
>>
>> Thanks for your help,
>>
>>    -Nikolaus
>>
>> -- 
>>  >It is not worth an intelligent man's time to be in the majority.
>>   By definition, there are already enough people to do that.<
>>                                                          -J.H. Hardy
>>
>>   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
>>
>> _______________________________________________
>> Linux-uvc-devel mailing list
>> Linux-uvc-devel at lists.berlios.de
>> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
>    -Nikolaus
>
> -- 
>  >It is not worth an intelligent man's time to be in the majority.
>   By definition, there are already enough people to do that.<
>                                                          -J.H. Hardy
>
>   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


   -Nikolaus

-- 
 >It is not worth an intelligent man's time to be in the majority.
  By definition, there are already enough people to do that.<
                                                         -J.H. Hardy

  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C

_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From arjos85 at gmail.com  Mon Jul  7 10:14:33 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Mon, 7 Jul 2008 10:14:33 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC, Video garbled
In-Reply-To: <FA8C56F9B12E4C25B49EBA3CCBBAB447@core2>
References: <87bq1fqpnf.fsf@nokile.rath.org>
	<B6C20E7305314B91A34A807CF87E2E51@core2>
	<871w2aqdsq.fsf@nokile.rath.org>
	<1513AC435D7E4CE7811DA6D0DD077D3C@core2>
	<87hcb6ovzi.fsf@nokile.rath.org>
	<EE871E5A9B8E41CF82CC957FC707A618@core2>
	<87tzf5o4mo.fsf@nokile.rath.org>
	<FA8C56F9B12E4C25B49EBA3CCBBAB447@core2>
Message-ID: <879e1f2b0807070114o344f3dffh954ffdf0305c2f84@mail.gmail.com>

Yes..I use ekiga and it works perfecly.
My webcam is a Sonix Technology Co., Ltd. (174f:5a35)!!
Luvcview tell me that my webcam just support YUV format...

$ luvcview -L
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
/dev/video0 does not support read i/o
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30, 1/20, 1/15, 1/10, 1/5, 1/1,
[..]

However I configured ekiga in this way:
Video Plugin: V4L2
Format: PAL (Europe)
Channel : 0

I hope this will be usefull!!

Regards,
Marco Argiolas

2008/7/7 Adrian Sergiu DARABANT <asergiu at yahoo.co.uk>:

> It seems that your camera only exports YUV and the problem with ekiga
> should, I think be linked to this fact.
> Is anyone using successfully ekiga with a camera that only supports "video
> accelerated" formats (YUV, I4210, YUYV, etc) ?
>
>
> Adrian Sergiu DARABANT
>
>
> -----Original Message-----
> From: linux-uvc-devel-bounces at lists.berlios.de
> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus
> Rath
> Sent: Friday, July 04, 2008 10:02 PM
> To: linux-uvc-devel at lists.berlios.de
> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
>
> These are the stream formats:
>
> [0] nokile:~/projekte/s3fs$ luvcview -L
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> /dev/video0 does not support read i/o
> { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
> { discrete: width = 640, height = 480 }
>        Time interval between frame: 1/30, 1/25, 1/20, 1/15, 1/10, 2/15,
> 1/5,
> { discrete: width = 320, height = 240 }
>        Time interval between frame: 1/60, 1/50, 1/30, 1/25, 1/20, 1/15,
> 1/10, 2/15, 1/5,
>
>
> "Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
> > That's for Laurent to answer but I'm afraid that if the camera is not
> > exporting those type of stream formats it isn't possible. There is entire
> > debate in wheter a driver should do transcoding or not in kernel space.
> >
> > Could you send us from the luvcview the list of stream formats your
> camera
> > supports ?
> > luvcview -L
> > i think (I don't have the software in front of me) just take the option
> that
> > says it only reports the video formats and quits.
> >
> > Adrian
> >
> > -----Original Message-----
> > From: linux-uvc-devel-bounces at lists.berlios.de
> > [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus
> Rath
> > Sent: Friday, July 04, 2008 12:11 PM
> > To: linux-uvc-devel at lists.berlios.de
> > Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
> >
> > Hey,
> >
> > You are definitely on the right track. As I wrote in my other mail,
> > luvcview can access the cam with -f yuv but not with -f jpg. Ekiga is
> > not linked against SDL. It also has no configuration option to switch
> > between jpg and yuv.  Is there anything I can do to make the driver
> > produce jpg output?
> >
> > Best,
> > Nikolaus
> >
> >
> > "Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
> >> Hello,
> >> I don't have ekiga right here but I am pretty sure the greenish
> >> image with some wite lines or spots is a YUV (or black lines or
> >> spots) is an YUV format encoded video blitted in a RGB surface. Look
> >> if ekiga is linked against SDL - I think that would be a good start.
> >> I didn't used ekiga till now but I am somehow working with video
> >> capture application developpement. Also look at si command line
> >> arguments and see if it says something about the video part. Many of
> >> the recent years USB cameras do not stream RGB (just YUV and Ixx)
> >> formats. For checking for SDL linked to ekiga do an ldd ekiga and
> >> check in the list.
> >>
> >> I might also be on the wrong path - however the greenish image is very
> >> typical for YUV-RGB blitting.
> >>
> >> Adrian
> >>
> >>
> >>
> >>
> >> -----Original Message-----
> >> From: linux-uvc-devel-bounces at lists.berlios.de
> >> [mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Nikolaus
> > Rath
> >> Sent: Friday, July 04, 2008 11:01 AM
> >> To: linux-uvc-devel at lists.berlios.de
> >> Subject: Re: [Linux-uvc-devel] Philips SPC620NC, Video garbled
> >>
> >> "Adrian Sergiu DARABANT" <asergiu at yahoo.co.uk> writes:
> >>>> I am using a Philips SPC620NC webcam with the v4l2 driver. If a access
> >>>> the webcam using e.g. mplayer, everything works fine (example
> >>>> screenshot:
> >> http://launchpadlibrarian.net/15698358/Screenshot-MPlayer-1.png
> >>>> ).
> >>>>
> >>>> However, if I try to access the webcam using ekiga (www.ekiga.org),
> >>>> the video is garbled. It is only green and has horizontal lines all
> >>>> over it: http://launchpadlibrarian.net/15698333/Screenshot-Ekiga.png
> >>>>
> >>>> I suppose this is more likely to be an ekiga bug, but since I'm not
> >>>> entirely sure, I wanted to ask here as well. Has anyone else
> >>>> encountered this problem, maybe with a different application? Or is
> >>>> there something I could do with the driver to avoid the problem?
> >>>
> >>> Isn't that due to the fact that you are looking at an YUV video flow
> >>> and ekiga thinks is something else? It seems to me that this is the
> >>> problem. A copy into a surface with a different video encoding.
> >>
> >> I don't know... how do I find out if my webcam sends a YUV flow? And
> >> how do I determine the format that ekiga uses?
> >>
> >> Thanks for your help,
> >>
> >>    -Nikolaus
> >>
> >> --
> >>  >It is not worth an intelligent man's time to be in the majority.
> >>   By definition, there are already enough people to do that.<
> >>                                                          -J.H. Hardy
> >>
> >>   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
> >>
> >> _______________________________________________
> >> Linux-uvc-devel mailing list
> >> Linux-uvc-devel at lists.berlios.de
> >> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> >
> >
> >    -Nikolaus
> >
> > --
> >  >It is not worth an intelligent man's time to be in the majority.
> >   By definition, there are already enough people to do that.<
> >                                                          -J.H. Hardy
> >
> >   PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
> >
> > _______________________________________________
> > Linux-uvc-devel mailing list
> > Linux-uvc-devel at lists.berlios.de
> > https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
>   -Nikolaus
>
> --
>  >It is not worth an intelligent man's time to be in the majority.
>  By definition, there are already enough people to do that.<
>                                                         -J.H. Hardy
>
>  PGP fingerprint: 5B93 61F8 4EA2 E279 ABF6  02CF A9AD B7F8 AE4E 425C
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080707/ddd36a4e/attachment.html>

From alex at seewald.at  Mon Jul  7 12:00:38 2008
From: alex at seewald.at (Dr. Alexander K. Seewald)
Date: Mon, 7 Jul 2008 12:00:38 +0200
Subject: [Linux-uvc-devel]  Re: FYI: UVC in 2.6.26
Message-ID: <20080707100038.GA27889@sdg.at>

Let me also - a bit late - add my congratulations to the others.
Contratulations, Laurent, for such a good job.

Hopefully this will make things for higher levels of
functionality (e.g. software autofocus ;-) a bit easier. 
'll check this out in the next few weeks.

All the best,
  Alex
-- 
Dr. Alexander K. Seewald

Seewald Solutions
www.seewald.at
Tel. +43(664)1106886
Fax. +43(1)2533033/2764


From bnc at astronomicalresearchaustralia.org  Mon Jul  7 13:26:42 2008
From: bnc at astronomicalresearchaustralia.org (Brian)
Date: Mon, 07 Jul 2008 21:26:42 +1000
Subject: [Linux-uvc-devel] USB2.0 UVC PC Camera
In-Reply-To: <879e1f2b0807070001x691a4f98h6b5de6e6b6dfe3a9@mail.gmail.com>
References: <1215369455.6334.6.camel@erwin-laptop>	<879e1f2b0807061406r67fb3938k250bc72fa3ca8e88@mail.gmail.com>	<1215408676.8679.3.camel@erwin-laptop>	<879e1f2b0807062320v376c67b4ie23d4d7c7bb9a79@mail.gmail.com>
	<879e1f2b0807070001x691a4f98h6b5de6e6b6dfe3a9@mail.gmail.com>
Message-ID: <4871FD72.2050409@astronomicalresearchaustralia.org>

Erwin,
a while back on this list I tried to use kopete and got a black screen.
It turned out that kopete had to be patched to get the video.
See below.

In addition EKIGA requires the pwlib v4l2 plugin to find the camera.
On my Suse system it is called pwlib-plugins-v4l2.
Note luvcview works without the above plugin.

Just tried ekiga 2.0.9 and 2.0.12 both work fine.
When I changed from 2.0.9 to 2.0.12  I had to reinstall gconf2
All of the above is on 2.6.22.17-0.1-default.

Laurent mentioned that mplayer should work, I can get it to run but I 
cannot find the command that points it at the /dev/video0

YMMV

Brian

"
My patch to add support for uvc in Kopete SVN is ready. You can download it
at:
<http://www.alexandredenis.net/software/kopete-uvc/kopete-uvc-patch-20060111.tgz>
There is a README enclosed with instructions.

This patch fixes the following:
   -- improves YUYV decoding (colors corrected)
   -- adds MJPEG support (decoder from luvcview)
   -- fixes image size detection
   -- fixes V4L version detection (if V4L2 support is detected from the 
device,
don't try V4L1!)

What is not implemented yet:
   -- most controls (brightness/contrast/saturation) are not implemented 
for
V4L2 in Kopete at all.

Please report how it works. If it is ok, I will submit it for inclusion in
Kopete SVN.
"


Marco Argiolas wrote:
> Well it sounds very strange....
> Have you already tried the following command?
> luvcview -f yuv
> It should show you the video streaming from your webcam!!
> 
> 2008/7/7 erwin <marconico at tiscali.it>:
> 
> Hi Marco, thank you very much for your response, i did what you suggest
>> me and this is what i have:
>> erwin at erwin-laptop:~$ sudo lsusb -d 174f:8a31 -v | grep "14 Video"
>> [sudo] password for erwin:
>>       bFunctionClass         14 Video
>>      bInterfaceClass        14 Video
>>      bInterfaceClass        14 Video
>>      bInterfaceClass        14 Video
>>      bInterfaceClass        14 Video
>>      bInterfaceClass        14 Video
>>      bInterfaceClass        14 Video
>> erwin at erwin-laptop:~$ lsmod | grep uvcvideo
>> uvcvideo               48644  0
>> compat_ioctl32          2304  1 uvcvideo
>> videodev               29312  1 uvcvideo
>> v4l1_compat            15364  2 uvcvideo,videodev
>> v4l2_common            18432  2 uvcvideo,videodev
>> usbcore               138632  8
>> uvcvideo,usbhid,hci_usb,usb_storage,libusual,uhci_hcd,ehci_hcd
>> erwin at erwin-laptop:~$ luvcview -L
>> luvcview version 0.2.1
>> Video driver: x11
>> A window manager is available
>> video /dev/video0
>> /dev/video0 does not support read i/o
>> { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
>> { discrete: width = 640, height = 480 }
>>        Time interval between frame: 1/20,
>> { discrete: width = 160, height = 120 }
>>        Time interval between frame: 1/24,
>> { discrete: width = 176, height = 144 }
>>        Time interval between frame: 1/24,
>> { discrete: width = 320, height = 240 }
>>        Time interval between frame: 1/24,
>> { discrete: width = 352, height = 288 }
>>        Time interval between frame: 1/24,
>> { discrete: width = 800, height = 600 }
>>        Time interval between frame: 1/7,
>> { discrete: width = 1024, height = 768 }
>>        Time interval between frame: 1/7,
>> { discrete: width = 1280, height = 800 }
>>        Time interval between frame: 1/7,
>> { discrete: width = 1280, height = 960 }
>>        Time interval between frame: 1/7,
>> { discrete: width = 1280, height = 1024 }
>>        Time interval between frame: 1/7,
>> erwin at erwin-laptop:~$
>>  Actually i still have blank screen on Skype nekiga & amsn. Any
>> suggestions? Thanks again Marco.
>>
>> On Sun, 2008-07-06 at 23:06 +0200, Marco Argiolas wrote:
>>> Well, first of all you have to be sure your webcam is UVC compliant.
>>> Try to execute this command:
>>> sudo lsusb -d 174f:8a31 -v | grep "14 Video"
>>>
>>> If your webcam is UVC compliant then you should get something like
>>> this:
>>>       bFunctionClass         14 Video
>>>       bInterfaceClass        14 Video
>>>       bInterfaceClass        14 Video
>>>       bInterfaceClass        14 Video
>>>
>>> If your is a UVC-webcam, then maybe uvcvideo module is not loaded!
>>> lsmod | grep uvcvideo
>>>
>>> If it is not loaded:
>>> sudo modprobe uvcvideo
>>>
>>> If it is loaded, just verify if there is the corrispond node for your
>>> webcam:
>>> ls -l /dev/video*
>>>
>>> Now you can be sure your webcam is recognised!!
>>> Just for another test, install luvcview and then run:
>>> luvcview -L
>>>
>>> If everything seems to be good, maybe it is a problem of software
>>> configuration:
>>> skype: from properties you have just to enable webcam capturing and
>>> select the webcam source (e.g. /dev/video0);
>>> ekiga: from Preference, select Device->Video Devices and set:
>>> -  Video Plugin = V4L2
>>> -  Format = PAL europe
>>> -  Channel = 0
>>>
>>> amsn: from Prefernce select "Others" tab and then "Audio & Video
>>> Settings" and follow the guide!!
>>>
>>> Good luck!!! ;)
>>>
>>> Marco Argiolas
>>>
>>> 2008/7/6 erwin <marconico at tiscali.it>:
>>>         Hi, i have an notebook ASUS F9SG with on board cam as per
>>>         subject. I
>>>         have the problem that programs like skype ekiga amsn etc..
>>>         switch it on
>>>         but can't get image or they say "no web cam detected. the
>>>         model is D-MAX
>>>         (stk-2135) i'm running ubuntu 7.10
>>>
>>>         erwin at erwin-laptop:~$ lsusb
>>>         Bus 004 Device 001: ID 0000:0000
>>>         Bus 002 Device 001: ID 0000:0000
>>>         Bus 005 Device 002: ID 046d:c016 Logitech, Inc. M-UV69a
>>>         Optical Wheel
>>>         Mouse
>>>         Bus 005 Device 001: ID 0000:0000
>>>         Bus 007 Device 002: ID 0b05:1712 ASUSTek Computer, Inc.
>>>         Bus 007 Device 001: ID 0000:0000
>>>         Bus 006 Device 002: ID 08ff:1600 AuthenTec, Inc.
>>>         Bus 006 Device 001: ID 0000:0000
>>>         Bus 003 Device 007: ID 0bda:0116 Realtek Semiconductor Corp.
>>>         Bus 003 Device 004: ID 174f:8a31
>>>         Bus 003 Device 003: ID 152d:2339
>>>         Bus 003 Device 001: ID 0000:0000
>>>         Bus 001 Device 001: ID 0000:0000
>>>         erwin at erwin-laptop:~$
>>>
>>>
>>>         erwin at erwin-laptop:~$ lspci
>>>         00:00.0 Host bridge: Intel Corporation Mobile
>>>         PM965/GM965/GL960 Memory
>>>         Controller Hub (rev 03)
>>>         00:01.0 PCI bridge: Intel Corporation Mobile PM965/GM965/GL960
>>>         PCI
>>>         Express Root Port (rev 03)
>>>         00:1a.0 USB Controller: Intel Corporation 82801H (ICH8 Family)
>>>         USB UHCI
>>>         Contoller #4 (rev 03)
>>>         00:1a.1 USB Controller: Intel Corporation 82801H (ICH8 Family)
>>>         USB UHCI
>>>         Controller #5 (rev 03)
>>>         00:1a.7 USB Controller: Intel Corporation 82801H (ICH8 Family)
>>>         USB2 EHCI
>>>         Controller #2 (rev 03)
>>>         00:1b.0 Audio device: Intel Corporation 82801H (ICH8 Family)
>>>         HD Audio
>>>         Controller (rev 03)
>>>         00:1c.0 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI
>>>         Express
>>>         Port 1 (rev 03)
>>>         00:1c.1 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI
>>>         Express
>>>         Port 2 (rev 03)
>>>         00:1c.2 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI
>>>         Express
>>>         Port 3 (rev 03)
>>>         00:1d.0 USB Controller: Intel Corporation 82801H (ICH8 Family)
>>>         USB UHCI
>>>         Controller #1 (rev 03)
>>>         00:1d.1 USB Controller: Intel Corporation 82801H (ICH8 Family)
>>>         USB UHCI
>>>         Controller #2 (rev 03)
>>>         00:1d.2 USB Controller: Intel Corporation 82801H (ICH8 Family)
>>>         USB UHCI
>>>         Controller #3 (rev 03)
>>>         00:1d.7 USB Controller: Intel Corporation 82801H (ICH8 Family)
>>>         USB2 EHCI
>>>         Controller #1 (rev 03)
>>>         00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge
>>>         (rev f3)
>>>         00:1f.0 ISA bridge: Intel Corporation 82801HEM (ICH8M) LPC
>>>         Interface
>>>         Controller (rev 03)
>>>         00:1f.1 IDE interface: Intel Corporation 82801HBM/HEM
>>>         (ICH8M/ICH8M-E)
>>>         IDE Controller (rev 03)
>>>         00:1f.2 SATA controller: Intel Corporation 82801HBM/HEM
>>>         (ICH8M/ICH8M-E)
>>>         SATA AHCI Controller (rev 03)
>>>         01:00.0 VGA compatible controller: nVidia Corporation Unknown
>>>         device
>>>         042e (rev a1)
>>>         02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd.
>>>         RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 01)
>>>         05:00.0 Network controller: Intel Corporation PRO/Wireless
>>>         4965 AG or
>>>         AGN Network Connection (rev 61)
>>>         erwin at erwin-laptop:~$
>>>
>>>         I really hope you'll find soon a solution for this issue.
>>>
>>>         Thanks in advance.
>>>
>>>         erwin
>>>
>>>
>>>         _______________________________________________
>>>         Linux-uvc-devel mailing list
>>>         Linux-uvc-devel at lists.berlios.de
>>>         https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> 
> 
> ------------------------------------------------------------------------
> 
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel


From volker at thalreit.de  Mon Jul  7 15:47:29 2008
From: volker at thalreit.de (Volker Jahns)
Date: Mon, 07 Jul 2008 15:47:29 +0200
Subject: [Linux-uvc-devel] Logitech QuickCam Pro 9000 will not work	on
 ubuntu 7.10 when using skype or camorama
In-Reply-To: <47D66CC5.9050202@thalreit.de>
References: <47D42527.8050503@thalreit.de>
	<47D56192.8080306@fngi.net>	<20080310165554.GA28524@fluff.lan>
	<20080310193114.GA3398@vilya> <47D66CC5.9050202@thalreit.de>
Message-ID: <48721E71.2050103@thalreit.de>

Volker Jahns schrieb:
> Richard Atterer wrote:
>> On Mon, Mar 10, 2008 at 05:55:54PM +0100, Richard Atterer wrote:
>>> On Mon, Mar 10, 2008 at 11:28:02AM -0500, Tom Poe wrote:
>>>> Last time I checked, we're still waiting for this model to be 
>>>> supported.
>>> Nope, my QuickCam Pro 9000 works fine for video with Skype - or did 
>>> sometime before Christmas, I haven't checked lately.
>>
>> OK, I've rechecked and it still works. I'm using Debian "testing", 
>> but with a vanilla 2.6.24 kernel built from kernel.org sources, and 
>> with uvcvideo from SVN; both SVN revisions 173 and the latest 193 work.
>>
>> At least, I get a good picture when I press the "Test" button in 
>> Skype's preferences window. I haven't really been able to perform a 
>> video call with Skype so far, as it requires that the video chip 
>> supports two Xv overlays. 
>
> Yes, in skype "test mode" the video runs superfine ( beta version 2.0, 
> skype production release can't do video at all). The video becomes 
> garbled when skype is _used_ ( i.e. if a party is called or being 
> called).
>
> We'll check on the bandwidth issue what Philipp stated.
>
Finally we tracked down the garbled skype video with a Logitech Quickcam 
Pro 9000 to a hardware problem

The system on which garbled video occurs is a standard HP Desktop PC with
CPU0: AMD Athlon(tm) 64 Processor 3200+ stepping 00
512 MByte RAM

The camera is always recognized well on the USB bus, as lsusb shows.
-- 
Bus 006 Device 002: ID 046d:0990 Logitech, Inc.
-- 

The video is garbled _only_ if the camera is connected to the builtin 
USB controller with an ATI chipset. Using an extra USB PCI plugincard 
with an known to be good NEC chipset video is fine in skype.
-- 
00:13.2 USB Controller: ATI Technologies Inc IXP SB400 USB2 Host Controller
02:01.2 USB Controller: NEC Corporation USB 2.0 (rev 04)
-- 

At this point, we do recommend not to use USB hardware with ATI chipsets 
in conjunction with skype video.

-- 
Volker Jahns, volker at thalreit.de



From arjos85 at gmail.com  Mon Jul  7 18:38:55 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Mon, 7 Jul 2008 18:38:55 +0200
Subject: [Linux-uvc-devel] USB2.0 UVC PC Camera
In-Reply-To: <1215446260.10155.4.camel@erwin-laptop>
References: <1215369455.6334.6.camel@erwin-laptop>
	<879e1f2b0807061406r67fb3938k250bc72fa3ca8e88@mail.gmail.com>
	<1215408676.8679.3.camel@erwin-laptop>
	<879e1f2b0807062320v376c67b4ie23d4d7c7bb9a79@mail.gmail.com>
	<1215446260.10155.4.camel@erwin-laptop>
Message-ID: <879e1f2b0807070938w6e94d183jeabac602afd09c32@mail.gmail.com>

Well I really don't know,
I think only Laurent (and those who know what "format 5" is) could help you.

You should download the sources of luvcview and try to understand what
happens.
Unluckly now I have no time for this.

ps.
please pay attenction in sending email also to UVC mailing list  ;)

2008/7/7 erwin <marconico at tiscali.it>:

> Ok i tried the command luvcview -f yuv and finally i had an image but
> only a snapshot not a streaming and after 3 times a tried it happened
> this:
> erwin at erwin-laptop:~$ luvcview -f yuv
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 5.
>  Init v4L2 failed !! exit fatal
>
> what do you think about?
>
> On Mon, 2008-07-07 at 08:20 +0200, Marco Argiolas wrote:
> > luvcview -f yuv
>
>


-- 
Marco Argiolas
marco.argiolas at studenti.polito.it
arjos85 at gmail.com
skype: arjos85
msn: sarace2003 at libero.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080707/52b59b6a/attachment.html>

From arjos85 at gmail.com  Mon Jul  7 20:03:58 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Mon, 7 Jul 2008 20:03:58 +0200
Subject: [Linux-uvc-devel] USB2.0 UVC PC Camera
In-Reply-To: <879e1f2b0807070938w6e94d183jeabac602afd09c32@mail.gmail.com>
References: <1215369455.6334.6.camel@erwin-laptop>
	<879e1f2b0807061406r67fb3938k250bc72fa3ca8e88@mail.gmail.com>
	<1215408676.8679.3.camel@erwin-laptop>
	<879e1f2b0807062320v376c67b4ie23d4d7c7bb9a79@mail.gmail.com>
	<1215446260.10155.4.camel@erwin-laptop>
	<879e1f2b0807070938w6e94d183jeabac602afd09c32@mail.gmail.com>
Message-ID: <879e1f2b0807071103i4aef9acbu85dbd70cdfb7cc5f@mail.gmail.com>

Ok, I was wrong:

2008/7/7 Marco Argiolas <arjos85 at gmail.com>:

> Well I really don't know,
> I think only Laurent (and those who know what "format 5" is) could help
> you.
>

The program was unable to set format V4L2_BUF_TYPE_VIDEO_CAPTURE, the number
5 was the error stored in "errno"! errno=5 corrisponds to EIO that is an
error in I/O..and I think it is not a good news!! :(

However this is the code where the error should happen:

    /* set format in */
    memset(&vd->fmt, 0, sizeof(struct v4l2_format));
    vd->fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
    vd->fmt.fmt.pix.width = vd->width;
    vd->fmt.fmt.pix.height = vd->height;
    vd->fmt.fmt.pix.pixelformat = vd->formatIn;
    vd->fmt.fmt.pix.field = V4L2_FIELD_ANY;
    ret = ioctl(vd->fd, VIDIOC_S_FMT, &vd->fmt);
    if (ret < 0) {
        printf("Unable to set format: %d.\n", errno);
        goto fatal;
    }

At this point the only suggestion I can give you is to try the following
command with all the resolutions supported with your webcam (you can get a
list with "luvcview -L"):
luvcview -f yuv -s WIDTHxHEIGHT

Your webcam should support the followings:
width = 640, height = 480
width = 160, height = 120
width = 176, height = 144
width = 320, height = 240
width = 352, height = 288
width = 800, height = 600
width = 1024, height = 768
width = 1280, height = 800
width = 1280, height = 960
*width = 1280, height = 1024

Good luck!!!

Marco Argiolas


*

> You should download the sources of luvcview and try to understand what
> happens.
> Unluckly now I have no time for this.
>
> ps.
> please pay attenction in sending email also to UVC mailing list  ;)
>
> 2008/7/7 erwin <marconico at tiscali.it>:
>
>> Ok i tried the command luvcview -f yuv and finally i had an image but
>>
>> only a snapshot not a streaming and after 3 times a tried it happened
>> this:
>> erwin at erwin-laptop:~$ luvcview -f yuv
>> luvcview version 0.2.1
>> Video driver: x11
>> A window manager is available
>> video /dev/video0
>> Unable to set format: 5.
>>  Init v4L2 failed !! exit fatal
>>
>> what do you think about?
>>
>> On Mon, 2008-07-07 at 08:20 +0200, Marco Argiolas wrote:
>> > luvcview -f yuv
>>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080707/eba8813d/attachment.html>

From arjos85 at gmail.com  Mon Jul  7 21:23:36 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Mon, 7 Jul 2008 21:23:36 +0200
Subject: [Linux-uvc-devel] USB2.0 UVC PC Camera
In-Reply-To: <1215454640.6889.2.camel@erwin-laptop>
References: <1215369455.6334.6.camel@erwin-laptop>
	<879e1f2b0807061406r67fb3938k250bc72fa3ca8e88@mail.gmail.com>
	<1215408676.8679.3.camel@erwin-laptop>
	<879e1f2b0807062320v376c67b4ie23d4d7c7bb9a79@mail.gmail.com>
	<1215446260.10155.4.camel@erwin-laptop>
	<879e1f2b0807070938w6e94d183jeabac602afd09c32@mail.gmail.com>
	<879e1f2b0807071103i4aef9acbu85dbd70cdfb7cc5f@mail.gmail.com>
	<1215454640.6889.2.camel@erwin-laptop>
Message-ID: <879e1f2b0807071223k3a990f9cg20d0aefca71d42fb@mail.gmail.com>

The right command is in the following form:
luvcview -f yuv -s 640x480

Change 640 (WIDTH) and 480 (HEIGHT) with all the resolutions supported by
your webcam.
If you have some doubt, just have a look to the man:
man luvcview

Regards,
Marco Argiolas

2008/7/7 erwin <marconico at tiscali.it>:

> Ok Marco this is what i got: i really don't know what to do.
> erwin at erwin-laptop:~$ luvcview -L
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> /dev/video0 does not support read i/o
> { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
> { discrete: width = 640, height = 480 }
>        Time interval between frame: 1/20,
> { discrete: width = 160, height = 120 }
>        Time interval between frame: 1/24,
> { discrete: width = 176, height = 144 }
>        Time interval between frame: 1/24,
> { discrete: width = 320, height = 240 }
>        Time interval between frame: 1/24,
> { discrete: width = 352, height = 288 }
>        Time interval between frame: 1/24,
> { discrete: width = 800, height = 600 }
>        Time interval between frame: 1/7,
> { discrete: width = 1024, height = 768 }
>        Time interval between frame: 1/7,
> { discrete: width = 1280, height = 800 }
>        Time interval between frame: 1/7,
> { discrete: width = 1280, height = 960 }
>        Time interval between frame: 1/7,
> { discrete: width = 1280, height = 1024 }
>        Time interval between frame: 1/7,
> erwin at erwin-laptop:~$
>
> erwin at erwin-laptop:~$  luvcview -f yuv -s width = 640, height = 480
> luvcview version 0.2.1
> Error in size use -s widthxheight
> erwin at erwin-laptop:~$ luvcview -f yuv -s width = 160, height = 120
> luvcview version 0.2.1
> Error in size use -s widthxheight
> erwin at erwin-laptop:~$  luvcview -f yuv -s width = 176, height = 144
> luvcview version 0.2.1
> Error in size use -s widthxheight
> erwin at erwin-laptop:~$  luvcview -f yuv -s width = 320, height = 240
> luvcview version 0.2.1
> Error in size use -s widthxheight
> erwin at erwin-laptop:~$  luvcview -f yuv -s width = 352, height = 288
> luvcview version 0.2.1
> Error in size use -s widthxheight
> erwin at erwin-laptop:~$ luvcview -f yuv -s width = 800, height = 600
> luvcview version 0.2.1
> Error in size use -s widthxheight
> erwin at erwin-laptop:~$  luvcview -f yuv -s width = 1024, height = 768
> luvcview version 0.2.1
> Error in size use -s widthxheight
> erwin at erwin-laptop:~$  luvcview -f yuv -s width = 1280, height = 800
> luvcview version 0.2.1
> Error in size use -s widthxheight
> erwin at erwin-laptop:~$  luvcview -f yuv -s
> luvcview version 0.2.1
> No parameter specified with -s, aborting.
> erwin at erwin-laptop:~$  luvcview -f yuv -s width = 1280, height = 960
> luvcview version 0.2.1
> Error in size use -s widthxheight
> erwin at erwin-laptop:~$  luvcview -f yuv -s width = 1280, height = 1024
> luvcview version 0.2.1
> Error in size use -s widthxheight
>
>
>
>
> On Mon, 2008-07-07 at 20:03 +0200, Marco Argiolas wrote:
> > Ok, I was wrong:
> >
> > 2008/7/7 Marco Argiolas <arjos85 at gmail.com>:
> >         Well I really don't know,
> >         I think only Laurent (and those who know what "format 5" is)
> >         could help you.
> >
> > The program was unable to set format V4L2_BUF_TYPE_VIDEO_CAPTURE, the
> > number 5 was the error stored in "errno"! errno=5 corrisponds to EIO
> > that is an error in I/O..and I think it is not a good news!! :(
> >
> > However this is the code where the error should happen:
> >
> >     /* set format in */
> >     memset(&vd->fmt, 0, sizeof(struct v4l2_format));
> >     vd->fmt.type = V4L2_BUF_TYPE_VIDEO_CAPTURE;
> >     vd->fmt.fmt.pix.width = vd->width;
> >     vd->fmt.fmt.pix.height = vd->height;
> >     vd->fmt.fmt.pix.pixelformat = vd->formatIn;
> >     vd->fmt.fmt.pix.field = V4L2_FIELD_ANY;
> >     ret = ioctl(vd->fd, VIDIOC_S_FMT, &vd->fmt);
> >     if (ret < 0) {
> >         printf("Unable to set format: %d.\n", errno);
> >         goto fatal;
> >     }
> >
> > At this point the only suggestion I can give you is to try the
> > following command with all the resolutions supported with your webcam
> > (you can get a list with "luvcview -L"):
> > luvcview -f yuv -s WIDTHxHEIGHT
> >
> > Your webcam should support the followings:
> > width = 640, height = 480
> > width = 160, height = 120
> > width = 176, height = 144
> > width = 320, height = 240
> > width = 352, height = 288
> > width = 800, height = 600
> > width = 1024, height = 768
> > width = 1280, height = 800
> > width = 1280, height = 960
> > width = 1280, height = 1024
> >
> > Good luck!!!
> >
> > Marco Argiolas
> >
> >
> >
> >         You should download the sources of luvcview and try to
> >         understand what happens.
> >         Unluckly now I have no time for this.
> >
> >         ps.
> >         please pay attenction in sending email also to UVC mailing
> >         list  ;)
> >
> >         2008/7/7 erwin <marconico at tiscali.it>:
> >
> >                 Ok i tried the command luvcview -f yuv and finally i
> >                 had an image but
> >
> >
> >                 only a snapshot not a streaming and after 3 times a
> >                 tried it happened
> >                 this:
> >                 erwin at erwin-laptop:~$ luvcview -f yuv
> >                 luvcview version 0.2.1
> >                 Video driver: x11
> >                 A window manager is available
> >                 video /dev/video0
> >
> >                 Unable to set format: 5.
> >                  Init v4L2 failed !! exit fatal
> >
> >                 what do you think about?
> >
> >                 On Mon, 2008-07-07 at 08:20 +0200, Marco Argiolas
> >                 wrote:
> >                 > luvcview -f yuv
>
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080707/6e35ae2c/attachment.html>

From laurent.pinchart at skynet.be  Tue Jul  8 01:43:13 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 8 Jul 2008 01:43:13 +0200
Subject: [Linux-uvc-devel] Medion akoya mini Netbook, integrated Webcam
In-Reply-To: <1215347609.6547.0.camel@lars-laptop>
References: <1215343825.10165.1.camel@lars-laptop>
	<879e1f2b0807060505v3f9b903fr42ed01bc1efdbed@mail.gmail.com>
	<1215347609.6547.0.camel@lars-laptop>
Message-ID: <200807080143.13477.laurent.pinchart@skynet.be>

Hi,

On Sunday 06 July 2008, Evildoenertier wrote:
> lars at lars-laptop:~$ luvcview -f yuv
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 5.
>  Init v4L2 failed !! exit fatal

Please try again with the latest SVN revision.

Best regards,

Laurent Pinchart


From marconico at tiscali.it  Tue Jul  8 07:51:10 2008
From: marconico at tiscali.it (erwin)
Date: Tue, 08 Jul 2008 07:51:10 +0200
Subject: [Linux-uvc-devel] asus f9sg webcam
Message-ID: <1215496270.6957.5.camel@erwin-laptop>

Ok folks these are all the things i tried:
rwin at erwin-laptop:~$ sudo lsusb -d 174f:8a31 -v | grep "14 Video"
[sudo] password for erwin:
      bFunctionClass         14 Video
      bInterfaceClass        14 Video
      bInterfaceClass        14 Video
      bInterfaceClass        14 Video
      bInterfaceClass        14 Video
      bInterfaceClass        14 Video
      bInterfaceClass        14 Video
erwin at erwin-laptop:~$ lsmod | grep uvcvideo
uvcvideo               48644  0 
compat_ioctl32          2304  1 uvcvideo
videodev               29312  1 uvcvideo
v4l1_compat            15364  2 uvcvideo,videodev
v4l2_common            18432  2 uvcvideo,videodev
usbcore               138632  8
uvcvideo,usbhid,hci_usb,usb_storage,libusual,uhci_hcd,ehci_hcd
erwin at erwin-laptop:~$ luvcview -L
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
/dev/video0 does not support read i/o
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/20, 
{ discrete: width = 160, height = 120 }
        Time interval between frame: 1/24, 
{ discrete: width = 176, height = 144 }
        Time interval between frame: 1/24, 
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/24, 
{ discrete: width = 352, height = 288 }
        Time interval between frame: 1/24, 
{ discrete: width = 800, height = 600 }
        Time interval between frame: 1/7, 
{ discrete: width = 1024, height = 768 }
        Time interval between frame: 1/7, 
{ discrete: width = 1280, height = 800 }
        Time interval between frame: 1/7, 
{ discrete: width = 1280, height = 960 }
        Time interval between frame: 1/7, 
{ discrete: width = 1280, height = 1024 }
        Time interval between frame: 1/7, 

then i tried 
luvcview -f yuv -s 640x480blank
luvcview -f yuv -s 160x120
luvcview -f yuv -s 176x144blank
luvcview -f yuv -s 320x240no
luvcview -f yuv -s 352x288error 5
luvcview -f yuv -s 800x600too big
luvcview -f yuv -s 1024x768too big
luvcview -f yuv -s 1280x800too big
luvcview -f yuv -s 1280x960too big
luvcview -f yuv -s 1280x1024too big
but i had only snapshot or green screen, but no streaming.

finally i ttried this:
mplayer tv:// -tv
driver=v4l2:device=/dev/video0:outfmt=yuy2:width=160:height=120 -vo x11
MPlayer 2:1.0~rc1-0ubuntu13.2+medibuntu1 (C) 2000-2006 MPlayer Team
CPU: Intel(R) Core(TM)2 Duo CPU     T8300  @ 2.40GHz (Family: 6, Model:
23, Stepping: 6)
CPUflags:  MMX: 1 MMX2: 1 3DNow: 0 3DNow2: 0 SSE: 1 SSE2: 1
Compiled with runtime CPU detection.
Creating config file: /home/erwin/.mplayer/config
Can't open joystick device /dev/input/js0: No such file or directory
Can't init input joystick
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote
control.

Playing tv://.
TV file format detected.
Selected driver: v4l2
 name: Video 4 Linux 2 input
 author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
 comment: first try, more to come ;-)
v4l2: ioctl get standard failed: Invalid argument
Selected device: USB2.0 UVC PC Camera
 Capabilites:  video capture  streaming
 supported norms:
 inputs: 0 = Camera 1;
 Current input: 0
 Current format: YUYV
v4l2: ioctl set format failed: Input/output error
v4l2: ioctl enum norm failed: Invalid argument
Error: Cannot set norm!
Selected input hasn't got a tuner!
v4l2: ioctl set mute failed: Invalid argument
FPS not specified in the header or invalid, use the -fps option.
No stream found.

v4l2: ioctl set mute failed: Invalid argument
v4l2: 0 frames successfully processed, 0 frames dropped.

Exiting... (End of file)
erwin at erwin-laptop:~$ mplayer tv:// -tv
driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480 -vo x11
MPlayer 2:1.0~rc1-0ubuntu13.2+medibuntu1 (C) 2000-2006 MPlayer Team
CPU: Intel(R) Core(TM)2 Duo CPU     T8300  @ 2.40GHz (Family: 6, Model:
23, Stepping: 6)
CPUflags:  MMX: 1 MMX2: 1 3DNow: 0 3DNow2: 0 SSE: 1 SSE2: 1
Compiled with runtime CPU detection.
Can't open joystick device /dev/input/js0: No such file or directory
Can't init input joystick
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote
control.

Playing tv://.
TV file format detected.
Selected driver: v4l2
 name: Video 4 Linux 2 input
 author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
 comment: first try, more to come ;-)
v4l2: ioctl get standard failed: Invalid argument
Selected device: USB2.0 UVC PC Camera
 Capabilites:  video capture  streaming
 supported norms:
 inputs: 0 = Camera 1;
 Current input: 0
 Current format: YUYV
v4l2: ioctl set format failed: Input/output error
v4l2: ioctl set mute failed: Invalid argument
v4l2: 0 frames successfully processed, 0 frames dropped.


MPlayer interrupted by signal 11 in module: demux_open
- MPlayer crashed by bad usage of CPU/FPU/RAM.
  Recompile MPlayer with --enable-debug and make a 'gdb' backtrace and
  disassembly. Details in
DOCS/HTML/en/bugreports_what.html#bugreports_crash.
- MPlayer crashed. This shouldn't happen.
  It can be a bug in the MPlayer code _or_ in your drivers _or_ in your
  gcc version. If you think it's MPlayer's fault, please read
  DOCS/HTML/en/bugreports.html and follow the instructions there. We
can't and
  won't help unless you provide this information when reporting a
possible bug.
erwin at erwin-laptop:~$ mplayer tv:// -tv
driver=v4l2:device=/dev/video0:outfmt=yuy2:width=176:height=144 -vo x11
MPlayer 2:1.0~rc1-0ubuntu13.2+medibuntu1 (C) 2000-2006 MPlayer Team
CPU: Intel(R) Core(TM)2 Duo CPU     T8300  @ 2.40GHz (Family: 6, Model:
23, Stepping: 6)
CPUflags:  MMX: 1 MMX2: 1 3DNow: 0 3DNow2: 0 SSE: 1 SSE2: 1
Compiled with runtime CPU detection.
Can't open joystick device /dev/input/js0: No such file or directory
Can't init input joystick
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote
control.

Playing tv://.
TV file format detected.
Selected driver: v4l2
 name: Video 4 Linux 2 input
 author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
 comment: first try, more to come ;-)
v4l2: ioctl get standard failed: Invalid argument
Selected device: USB2.0 UVC PC Camera
 Capabilites:  video capture  streaming
 supported norms:
 inputs: 0 = Camera 1;
 Current input: 0
 Current format: YUYV
v4l2: ioctl set format failed: Input/output error
v4l2: ioctl set mute failed: Invalid argument
v4l2: 0 frames successfully processed, 0 frames dropped.


MPlayer interrupted by signal 11 in module: demux_open
- MPlayer crashed by bad usage of CPU/FPU/RAM.
  Recompile MPlayer with --enable-debug and make a 'gdb' backtrace and
  disassembly. Details in
DOCS/HTML/en/bugreports_what.html#bugreports_crash.
- MPlayer crashed. This shouldn't happen.
  It can be a bug in the MPlayer code _or_ in your drivers _or_ in your
  gcc version. If you think it's MPlayer's fault, please read
  DOCS/HTML/en/bugreports.html and follow the instructions there. We
can't and
  won't help unless you provide this information when reporting a
possible bug.
erwin at erwin-laptop:~$ 

Any suggestions???




From mhilzinger at linuxnewmedia.de  Tue Jul  8 18:06:08 2008
From: mhilzinger at linuxnewmedia.de (Marcel Hilzinger)
Date: Tue, 8 Jul 2008 18:06:08 +0200
Subject: [Linux-uvc-devel] Medion akoya mini
Message-ID: <20080708160609.608503030109@mail.linux-new-media.de>

Hi,
I'm new on the list, so I cannot reply on the existing thread sorry,

The svn version recognizes the webcam, so the uvcvideo module is loaded 
automatically, if I enable the webcam with the Fn-Hotkey.

Nevertheless the error message remains the same:

marcel at medion-akoya:~$ luvcview -f yuv
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 5.
 Init v4L2 failed !! exit fatal

-- 
Mit freundlichen Gr??en,
Marcel Hilzinger 

Linux New Media AG, Putzbrunner Str. 71, 81739 M?nchen, Germany
Tel: +49 89 99 34 110, Fax: +49 89 99 34 1199
mhilzinger at linuxnewmedia.de - http://www.linuxnewmedia.de
----------------------------------------------------------
Linux New Media, the Pulse of Open Source: Lawrence, KS - M?laga
Manchester - M?nchen - S?o Paulo - Timisoara - Warszawa
----------------------------------------------------------
Sitz der Gesellschaft: Putzbrunner Str. 71, 81739 M?nchen
Amtsgericht M?nchen: HRB 129161
Vorstand: Rosemarie Schuster, Hermann Plank
Aufsichtsratsvorsitzender: Rudolf Strobl


From mhilzinger at linuxnewmedia.de  Tue Jul  8 18:25:00 2008
From: mhilzinger at linuxnewmedia.de (Marcel Hilzinger)
Date: Tue, 8 Jul 2008 18:25:00 +0200
Subject: [Linux-uvc-devel] Medion akoya mini
In-Reply-To: <20080708160609.608503030109@mail.linux-new-media.de>
References: <20080708160609.608503030109@mail.linux-new-media.de>
Message-ID: <20080708162522.EC7FA30300FB@mail.linux-new-media.de>

Am Dienstag, 8. Juli 2008 18:06:08 schrieb Marcel Hilzinger:
> Hi,
> I'm new on the list, so I cannot reply on the existing thread sorry,
>
> The svn version recognizes the webcam, so the uvcvideo module is loaded
> automatically, if I enable the webcam with the Fn-Hotkey.
>
> Nevertheless the error message remains the same:

I forgot to poste the last lines from the strace-output:

[...]
write(1, "Video driver: x11\n", 18Video driver: x11
)     = 18
write(1, "A window manager is available\n", 30A window manager is available
) = 30
write(1, "video /dev/video0 \n", 19video /dev/video0
)    = 19
open("/dev/video0", O_RDWR)             = 5
ioctl(5, VIDIOC_QUERYCAP or VT_OPENQRY, 0x8091d98) = 0
ioctl(5, VIDIOC_S_FMT or VT_RELDISP, 0x8091e00) = -1 EIO (Input/output error)
write(1, "Unable to set format: 5.\n", 25Unable to set format: 5.
) = 25
write(1, " Init v4L2 failed !! exit fatal "..., 33 Init v4L2 failed !! exit 
fatal
) = 33
close(5)                                = 0
exit_group(1)                           = ?
Process 5836 detached


Feel free to contact me for further output/tests...


-- 
Mit freundlichen Gr??en,
Marcel Hilzinger 

Linux New Media AG, Putzbrunner Str. 71, 81739 M?nchen, Germany
Tel: +49 89 99 34 110, Fax: +49 89 99 34 1199
mhilzinger at linuxnewmedia.de - http://www.linuxnewmedia.de
----------------------------------------------------------
Linux New Media, the Pulse of Open Source: Lawrence, KS - M?laga
Manchester - M?nchen - S?o Paulo - Timisoara - Warszawa
----------------------------------------------------------
Sitz der Gesellschaft: Putzbrunner Str. 71, 81739 M?nchen
Amtsgericht M?nchen: HRB 129161
Vorstand: Rosemarie Schuster, Hermann Plank
Aufsichtsratsvorsitzender: Rudolf Strobl


From marconico at tiscali.it  Tue Jul  8 18:38:14 2008
From: marconico at tiscali.it (erwin)
Date: Tue, 08 Jul 2008 18:38:14 +0200
Subject: [Linux-uvc-devel] webcam on Asus F9SG
Message-ID: <1215535094.6577.8.camel@erwin-laptop>

Hi all, i've downloaded as suggested,
"svn://svn.berlios.de/linux-uvc/linux-uvc/trunk" hoping that would solve
my problem but nothing happened. My web cam still blank but switched on.




From arjos85 at gmail.com  Tue Jul  8 18:53:35 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Tue, 8 Jul 2008 18:53:35 +0200
Subject: [Linux-uvc-devel] webcam on Asus F9SG
In-Reply-To: <1215535094.6577.8.camel@erwin-laptop>
References: <1215535094.6577.8.camel@erwin-laptop>
Message-ID: <879e1f2b0807080953p4d90e6balc163f6769b1a8112@mail.gmail.com>

Have you already tried the following command?
mplayer tv:// -tv
driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=20 -vo
x11 -v -v -v

2008/7/8 erwin <marconico at tiscali.it>:

> Hi all, i've downloaded as suggested,
> "svn://svn.berlios.de/linux-uvc/linux-uvc/trunk" hoping that would solve
> my problem but nothing happened. My web cam still blank but switched on.
>
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>



-- 
Marco Argiolas
marco.argiolas at studenti.polito.it
arjos85 at gmail.com
skype: arjos85
msn: sarace2003 at libero.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080708/ccb5a03b/attachment.html>

From arjos85 at gmail.com  Tue Jul  8 18:54:14 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Tue, 8 Jul 2008 18:54:14 +0200
Subject: [Linux-uvc-devel] Medion akoya mini
In-Reply-To: <20080708162522.EC7FA30300FB@mail.linux-new-media.de>
References: <20080708160609.608503030109@mail.linux-new-media.de>
	<20080708162522.EC7FA30300FB@mail.linux-new-media.de>
Message-ID: <879e1f2b0807080954t28a5c9e6qda0b0e6432806645@mail.gmail.com>

Have you already tried the following command?
mplayer tv:// -tv
driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=20 -vo
x11 -v -v -v

2008/7/8 Marcel Hilzinger <mhilzinger at linuxnewmedia.de>:

> Am Dienstag, 8. Juli 2008 18:06:08 schrieb Marcel Hilzinger:
> > Hi,
> > I'm new on the list, so I cannot reply on the existing thread sorry,
> >
> > The svn version recognizes the webcam, so the uvcvideo module is loaded
> > automatically, if I enable the webcam with the Fn-Hotkey.
> >
> > Nevertheless the error message remains the same:
>
> I forgot to poste the last lines from the strace-output:
>
> [...]
> write(1, "Video driver: x11\n", 18Video driver: x11
> )     = 18
> write(1, "A window manager is available\n", 30A window manager is available
> ) = 30
> write(1, "video /dev/video0 \n", 19video /dev/video0
> )    = 19
> open("/dev/video0", O_RDWR)             = 5
> ioctl(5, VIDIOC_QUERYCAP or VT_OPENQRY, 0x8091d98) = 0
> ioctl(5, VIDIOC_S_FMT or VT_RELDISP, 0x8091e00) = -1 EIO (Input/output
> error)
> write(1, "Unable to set format: 5.\n", 25Unable to set format: 5.
> ) = 25
> write(1, " Init v4L2 failed !! exit fatal "..., 33 Init v4L2 failed !! exit
> fatal
> ) = 33
> close(5)                                = 0
> exit_group(1)                           = ?
> Process 5836 detached
>
>
> Feel free to contact me for further output/tests...
>
>
> --
> Mit freundlichen Gr??en,
> Marcel Hilzinger
>
> Linux New Media AG, Putzbrunner Str. 71, 81739 M?nchen, Germany
> Tel: +49 89 99 34 110, Fax: +49 89 99 34 1199
> mhilzinger at linuxnewmedia.de - http://www.linuxnewmedia.de
> ----------------------------------------------------------
> Linux New Media, the Pulse of Open Source: Lawrence, KS - M?laga
> Manchester - M?nchen - S?o Paulo - Timisoara - Warszawa
> ----------------------------------------------------------
> Sitz der Gesellschaft: Putzbrunner Str. 71, 81739 M?nchen
> Amtsgericht M?nchen: HRB 129161
> Vorstand: Rosemarie Schuster, Hermann Plank
> Aufsichtsratsvorsitzender: Rudolf Strobl
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>



-- 
Marco Argiolas
marco.argiolas at studenti.polito.it
arjos85 at gmail.com
skype: arjos85
msn: sarace2003 at libero.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080708/a650e960/attachment.html>

From marconico at tiscali.it  Tue Jul  8 19:22:00 2008
From: marconico at tiscali.it (erwin)
Date: Tue, 08 Jul 2008 19:22:00 +0200
Subject: [Linux-uvc-devel] asus f9sg webcam
In-Reply-To: <200807081854.50782.jaime@iaa.es>
References: <1215496270.6957.5.camel@erwin-laptop>
	<200807081834.09549.jaime@iaa.es>
	<1215535419.6577.12.camel@erwin-laptop>
	<200807081854.50782.jaime@iaa.es>
Message-ID: <1215537720.6577.18.camel@erwin-laptop>

this is the result of dmesg command
[   21.127963] ACPI: PCI Interrupt Link [LNKG] (IRQs 3 4 5 6 *7 10 12)
[   21.128090] ACPI: PCI Interrupt Link [LNKH] (IRQs 3 *4 5 6 7 10 12)
[   21.128186] Linux Plug and Play Support v0.97 (c) Adam Belay
[   21.128194] pnp: PnP ACPI init
[   21.128199] ACPI: bus type pnp registered
[   21.130158] pnp: PnP ACPI: found 14 devices
[   21.130159] ACPI: ACPI bus type pnp unregistered
[   21.130162] PnPBIOS: Disabled by ACPI PNP
[   21.130195] PCI: Using ACPI for IRQ routing
[   21.130197] PCI: If a device doesn't work, try "pci=routeirq".  If it
helps, post a report
[   21.141277] NET: Registered protocol family 8
[   21.141278] NET: Registered protocol family 20
[   21.141316] pnp: 00:01: iomem range 0xfed14000-0xfed19fff has been
reserved
[   21.141322] pnp: 00:08: iomem range 0xfed1c000-0xfed1ffff has been
reserved
[   21.141324] pnp: 00:08: iomem range 0xfed20000-0xfed3ffff has been
reserved
[   21.141326] pnp: 00:08: iomem range 0xfed45000-0xfed89fff has been
reserved
[   21.141328] pnp: 00:08: iomem range 0xffb00000-0xffbfffff could not
be reserved
[   21.141331] pnp: 00:0a: ioport range 0x250-0x253 has been reserved
[   21.141333] pnp: 00:0a: ioport range 0x256-0x25f has been reserved
[   21.141335] pnp: 00:0a: iomem range 0xfec00000-0xfec00fff has been
reserved
[   21.141338] pnp: 00:0a: iomem range 0xfee00000-0xfee00fff could not
be reserved
[   21.141342] pnp: 00:0c: iomem range 0xc0000000-0xcfffffff has been
reserved
[   21.141345] pnp: 00:0d: iomem range 0x0-0x9ffff could not be reserved
[   21.141347] pnp: 00:0d: iomem range 0xc0000-0xcffff could not be
reserved
[   21.141349] pnp: 00:0d: iomem range 0xe0000-0xfffff could not be
reserved
[   21.141351] pnp: 00:0d: iomem range 0x100000-0x7fffffff could not be
reserved
[   21.141516] Time: tsc clocksource has been installed.
[   21.141521] Switched to high resolution mode on CPU 0
[   21.141586] Switched to high resolution mode on CPU 1
[   21.171509] PCI: Bridge: 0000:00:01.0
[   21.171511]   IO window: a000-afff
[   21.171513]   MEM window: f8000000-fe0fffff
[   21.171516]   PREFETCH window: d5f00000-f5efffff
[   21.171518] PCI: Bridge: 0000:00:1c.0
[   21.171520]   IO window: b000-bfff
[   21.171524]   MEM window: fe100000-fe1fffff
[   21.171527]   PREFETCH window: disabled.
[   21.171531] PCI: Bridge: 0000:00:1c.1
[   21.171533]   IO window: c000-cfff
[   21.171537]   MEM window: fe200000-fe9fffff
[   21.171540]   PREFETCH window: f5f00000-f7efffff
[   21.171543] PCI: Bridge: 0000:00:1c.2
[   21.171544]   IO window: disabled.
[   21.171548]   MEM window: fea00000-feafffff
[   21.171551]   PREFETCH window: disabled.
[   21.171555] PCI: Bridge: 0000:00:1e.0
[   21.171556]   IO window: disabled.
[   21.171559]   MEM window: disabled.
[   21.171562]   PREFETCH window: disabled.
[   21.171574] ACPI: PCI Interrupt 0000:00:01.0[A] -> GSI 16 (level,
low) -> IRQ 16
[   21.171578] PCI: Setting latency timer of device 0000:00:01.0 to 64
[   21.171592] ACPI: PCI Interrupt 0000:00:1c.0[A] -> GSI 16 (level,
low) -> IRQ 16
[   21.171596] PCI: Setting latency timer of device 0000:00:1c.0 to 64
[   21.171611] ACPI: PCI Interrupt 0000:00:1c.1[B] -> GSI 17 (level,
low) -> IRQ 17
[   21.171615] PCI: Setting latency timer of device 0000:00:1c.1 to 64
[   21.171630] ACPI: PCI Interrupt 0000:00:1c.2[C] -> GSI 18 (level,
low) -> IRQ 18
[   21.171634] PCI: Setting latency timer of device 0000:00:1c.2 to 64
[   21.171643] PCI: Setting latency timer of device 0000:00:1e.0 to 64
[   21.171650] NET: Registered protocol family 2
[   21.221356] IP route cache hash table entries: 32768 (order: 5,
131072 bytes)
[   21.221397] TCP established hash table entries: 131072 (order: 8,
1572864 bytes)
[   21.221893] TCP bind hash table entries: 65536 (order: 7, 524288
bytes)
[   21.222065] TCP: Hash tables configured (established 131072 bind
65536)
[   21.222066] TCP reno registered
[   21.237388] checking if image is initramfs... it is
[   21.696230] Freeing initrd memory: 7058k freed
[   21.696326] Simple Boot Flag at 0x52 set to 0x1
[   21.696661] audit: initializing netlink socket (disabled)
[   21.696671] audit(1215539561.212:1): initialized
[   21.696734] highmem bounce pool size: 64 pages
[   21.697957] VFS: Disk quotas dquot_6.5.1
[   21.697987] Dquot-cache hash table entries: 1024 (order 0, 4096
bytes)
[   21.698048] io scheduler noop registered
[   21.698049] io scheduler anticipatory registered
[   21.698050] io scheduler deadline registered
[   21.698059] io scheduler cfq registered (default)
[   21.863422] Boot video device is 0000:01:00.0
[   21.863477] PCI: Setting latency timer of device 0000:00:01.0 to 64
[   21.863506] assign_interrupt_mode Found MSI capability
[   21.863508] Allocate Port Service[0000:00:01.0:pcie00]
[   21.863528] Allocate Port Service[0000:00:01.0:pcie02]
[   21.863582] PCI: Setting latency timer of device 0000:00:1c.0 to 64
[   21.863619] assign_interrupt_mode Found MSI capability
[   21.863621] Allocate Port Service[0000:00:1c.0:pcie00]
[   21.863639] Allocate Port Service[0000:00:1c.0:pcie02]
[   21.863702] PCI: Setting latency timer of device 0000:00:1c.1 to 64
[   21.863739] assign_interrupt_mode Found MSI capability
[   21.863741] Allocate Port Service[0000:00:1c.1:pcie00]
[   21.863759] Allocate Port Service[0000:00:1c.1:pcie02]
[   21.863824] PCI: Setting latency timer of device 0000:00:1c.2 to 64
[   21.863861] assign_interrupt_mode Found MSI capability
[   21.863863] Allocate Port Service[0000:00:1c.2:pcie00]
[   21.863882] Allocate Port Service[0000:00:1c.2:pcie02]
[   21.863984] isapnp: Scanning for PnP cards...
[   22.391715] isapnp: No Plug & Play device found
[   22.405248] Real Time Clock Driver v1.12ac
[   22.405396] hpet_resources: 0xfed00000 is busy
[   22.405435] Serial: 8250/16550 driver $Revision: 1.90 $ 4 ports, IRQ
sharing enabled
[   22.406195] RAMDISK driver initialized: 16 RAM disks of 65536K size
1024 blocksize
[   22.406284] input: Macintosh mouse button emulation
as /class/input/input0
[   22.406340] PNP: PS/2 Controller [PNP0303:PS2K,PNP0f03:PS2M] at
0x60,0x64 irq 1,12
[   22.409135] i8042.c: Detected active multiplexing controller, rev
1.1.
[   22.410491] serio: i8042 KBD port at 0x60,0x64 irq 1
[   22.410494] serio: i8042 AUX0 port at 0x60,0x64 irq 12
[   22.410495] serio: i8042 AUX1 port at 0x60,0x64 irq 12
[   22.410497] serio: i8042 AUX2 port at 0x60,0x64 irq 12
[   22.410498] serio: i8042 AUX3 port at 0x60,0x64 irq 12
[   22.410572] mice: PS/2 mouse device common for all mice
[   22.410650] EISA: Probing bus 0 at eisa.0
[   22.410676] EISA: Detected 0 cards.
[   22.410733] TCP cubic registered
[   22.410743] NET: Registered protocol family 1
[   22.410757] Using IPI No-Shortcut mode
[   22.410870]   Magic number: 0:748:895
[   22.410896]   hash matches device ptyy5
[   22.411096] Freeing unused kernel memory: 364k freed
[   22.497908] input: AT Translated Set 2 keyboard
as /class/input/input1
[   23.550584] AppArmor: AppArmor initialized<5>audit(1215539562.712:2):
type=1505 info="AppArmor initialized" pid=1247
[   23.558525] fuse init (API version 7.8)
[   23.565268] Failure registering capabilities with primary security
module.
[   23.599157] ACPI Warning (tbutils-0217): Incorrect checksum in table
[ATKG] -  C5, should be 59 [20070126]
[   23.599162] ACPI: SSDT 7FFC96D0, 02C8 (r1  PmRef  Cpu0Ist     3000
INTL 20051117)
[   23.599362] ACPI: SSDT 7FFC9A30, 0712 (r1  PmRef  Cpu0Cst     3001
INTL 20051117)
[   23.600125] Monitor-Mwait will be used to enter C-1 state
[   23.600127] Monitor-Mwait will be used to enter C-2 state
[   23.600130] ACPI: CPU0 (power states: C1[C1] C2[C2])
[   23.600133] ACPI: Processor [P001] (supports 8 throttling states)
[   23.600293] ACPI: SSDT 7FFC9600, 00C8 (r1  PmRef  Cpu1Ist     3000
INTL 20051117)
[   23.600478] ACPI: SSDT 7FFC99A0, 0085 (r1  PmRef  Cpu1Cst     3000
INTL 20051117)
[   23.601276] ACPI: CPU1 (power states: C1[C1] C2[C2])
[   23.601280] ACPI: Processor [P002] (supports 8 throttling states)
[   23.603113] ACPI: Thermal Zone [THRM] (59 C)
[    3.180000] Marking TSC unstable due to: possible TSC halt in C2.
[    3.184000] Time: hpet clocksource has been installed.
[    3.468000] usbcore: registered new interface driver usbfs
[    3.468000] usbcore: registered new interface driver hub
[    3.468000] usbcore: registered new device driver usb
[    3.468000] USB Universal Host Controller Interface driver v3.0
[    3.468000] ACPI: PCI Interrupt 0000:00:1a.0[A] -> GSI 16 (level,
low) -> IRQ 16
[    3.468000] PCI: Setting latency timer of device 0000:00:1a.0 to 64
[    3.468000] uhci_hcd 0000:00:1a.0: UHCI Host Controller
[    3.468000] uhci_hcd 0000:00:1a.0: new USB bus registered, assigned
bus number 1
[    3.468000] uhci_hcd 0000:00:1a.0: irq 16, io base 0x0000e080
[    3.468000] usb usb1: configuration #1 chosen from 1 choice
[    3.468000] hub 1-0:1.0: USB hub found
[    3.468000] hub 1-0:1.0: 2 ports detected
[    3.524000] SCSI subsystem initialized
[    3.524000] libata version 2.21 loaded.
[    3.572000] ACPI: PCI Interrupt 0000:00:1a.1[B] -> GSI 21 (level,
low) -> IRQ 19
[    3.572000] PCI: Setting latency timer of device 0000:00:1a.1 to 64
[    3.572000] uhci_hcd 0000:00:1a.1: UHCI Host Controller
[    3.572000] uhci_hcd 0000:00:1a.1: new USB bus registered, assigned
bus number 2
[    3.572000] uhci_hcd 0000:00:1a.1: irq 19, io base 0x0000e000
[    3.572000] usb usb2: configuration #1 chosen from 1 choice
[    3.572000] hub 2-0:1.0: USB hub found
[    3.572000] hub 2-0:1.0: 2 ports detected
[    3.676000] ACPI: PCI Interrupt 0000:00:1d.0[A] -> GSI 23 (level,
low) -> IRQ 20
[    3.676000] PCI: Setting latency timer of device 0000:00:1d.0 to 64
[    3.676000] uhci_hcd 0000:00:1d.0: UHCI Host Controller
[    3.676000] uhci_hcd 0000:00:1d.0: new USB bus registered, assigned
bus number 3
[    3.676000] uhci_hcd 0000:00:1d.0: irq 20, io base 0x0000dc00
[    3.676000] usb usb3: configuration #1 chosen from 1 choice
[    3.676000] hub 3-0:1.0: USB hub found
[    3.676000] hub 3-0:1.0: 2 ports detected
[    3.780000] ACPI: PCI Interrupt 0000:00:1d.1[B] -> GSI 19 (level,
low) -> IRQ 21
[    3.780000] PCI: Setting latency timer of device 0000:00:1d.1 to 64
[    3.780000] uhci_hcd 0000:00:1d.1: UHCI Host Controller
[    3.780000] uhci_hcd 0000:00:1d.1: new USB bus registered, assigned
bus number 4
[    3.780000] uhci_hcd 0000:00:1d.1: irq 21, io base 0x0000d880
[    3.780000] usb usb4: configuration #1 chosen from 1 choice
[    3.780000] hub 4-0:1.0: USB hub found
[    3.780000] hub 4-0:1.0: 2 ports detected
[    3.884000] ACPI: PCI Interrupt 0000:00:1d.2[C] -> GSI 18 (level,
low) -> IRQ 18
[    3.884000] PCI: Setting latency timer of device 0000:00:1d.2 to 64
[    3.884000] uhci_hcd 0000:00:1d.2: UHCI Host Controller
[    3.884000] uhci_hcd 0000:00:1d.2: new USB bus registered, assigned
bus number 5
[    3.884000] uhci_hcd 0000:00:1d.2: irq 18, io base 0x0000d800
[    3.884000] usb usb5: configuration #1 chosen from 1 choice
[    3.884000] hub 5-0:1.0: USB hub found
[    3.884000] hub 5-0:1.0: 2 ports detected
[    3.988000] ACPI: PCI Interrupt 0000:00:1a.7[C] -> GSI 18 (level,
low) -> IRQ 18
[    3.988000] PCI: Setting latency timer of device 0000:00:1a.7 to 64
[    3.988000] ehci_hcd 0000:00:1a.7: EHCI Host Controller
[    3.988000] ehci_hcd 0000:00:1a.7: new USB bus registered, assigned
bus number 6
[    3.988000] ehci_hcd 0000:00:1a.7: debug port 1
[    3.988000] PCI: cache line size of 32 is not supported by device
0000:00:1a.7
[    3.988000] ehci_hcd 0000:00:1a.7: irq 18, io mem 0xfebff400
[    4.000000] Clocksource tsc unstable (delta = -179561013 ns)
[    4.020000] usb 3-1: new low speed USB device using uhci_hcd and
address 2
[    4.020000] ehci_hcd 0000:00:1a.7: USB 2.0 started, EHCI 1.00, driver
10 Dec 2004
[    4.020000] usb usb6: configuration #1 chosen from 1 choice
[    4.020000] hub 6-0:1.0: USB hub found
[    4.020000] hub 6-0:1.0: 4 ports detected
[    4.124000] ACPI: PCI Interrupt 0000:00:1d.7[A] -> GSI 23 (level,
low) -> IRQ 20
[    4.124000] PCI: Setting latency timer of device 0000:00:1d.7 to 64
[    4.124000] ehci_hcd 0000:00:1d.7: EHCI Host Controller
[    4.124000] ehci_hcd 0000:00:1d.7: new USB bus registered, assigned
bus number 7
[    4.124000] ehci_hcd 0000:00:1d.7: debug port 1
[    4.124000] PCI: cache line size of 32 is not supported by device
0000:00:1d.7
[    4.124000] ehci_hcd 0000:00:1d.7: irq 20, io mem 0xfebff000
[    4.136000] ehci_hcd 0000:00:1d.7: USB 2.0 started, EHCI 1.00, driver
10 Dec 2004
[    4.136000] usb usb7: configuration #1 chosen from 1 choice
[    4.136000] hub 7-0:1.0: USB hub found
[    4.136000] hub 7-0:1.0: 6 ports detected
[    4.240000] r8169 Gigabit Ethernet driver 2.2LK loaded
[    4.240000] ACPI: PCI Interrupt 0000:02:00.0[A] -> GSI 16 (level,
low) -> IRQ 16
[    4.240000] PCI: Setting latency timer of device 0000:02:00.0 to 64
[    4.240000] eth0: RTL8168b/8111b at 0xf887e000, 00:1f:c6:52:52:d3,
XID 38000000 IRQ 16
[    4.240000] ata_piix 0000:00:1f.1: version 2.11
[    4.240000] ACPI: PCI Interrupt 0000:00:1f.1[A] -> GSI 18 (level,
low) -> IRQ 18
[    4.240000] PCI: Setting latency timer of device 0000:00:1f.1 to 64
[    4.240000] scsi0 : ata_piix
[    4.240000] scsi1 : ata_piix
[    4.240000] ata1: PATA max UDMA/100 cmd 0x000101f0 ctl 0x000103f6
bmdma 0x0001ffa0 irq 14
[    4.240000] ata2: PATA max UDMA/100 cmd 0x00010170 ctl 0x00010376
bmdma 0x0001ffa8 irq 15
[    4.544000] usb 3-1: device not accepting address 2, error -71
[    4.560000] ata1.00: ATAPI: MATSHITADVD-RAM UJ-860S, 1.00, max
UDMA/33
[    4.736000] ata1.00: configured for UDMA/33
[    4.736000] ata2: port disabled. ignoring.
[    4.736000] scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-860S
1.00 PQ: 0 ANSI: 5
[    4.736000] ahci 0000:00:1f.2: version 2.2
[    4.736000] ACPI: PCI Interrupt 0000:00:1f.2[B] -> GSI 20 (level,
low) -> IRQ 22
[    5.740000] ahci 0000:00:1f.2: AHCI 0001.0100 32 slots 3 ports 3 Gbps
0x7 impl SATA mode
[    5.740000] ahci 0000:00:1f.2: flags: 64bit ncq pm led clo pio slum
part 
[    5.740000] PCI: Setting latency timer of device 0000:00:1f.2 to 64
[    5.740000] scsi2 : ahci
[    5.740000] scsi3 : ahci
[    5.740000] scsi4 : ahci
[    5.740000] ata3: SATA max UDMA/133 cmd 0xf889c900 ctl 0x00000000
bmdma 0x00000000 irq 22
[    5.740000] ata4: SATA max UDMA/133 cmd 0xf889c980 ctl 0x00000000
bmdma 0x00000000 irq 22
[    5.740000] ata5: SATA max UDMA/133 cmd 0xf889ca00 ctl 0x00000000
bmdma 0x00000000 irq 22
[    5.756000] usb 7-2: new high speed USB device using ehci_hcd and
address 3
[    5.888000] usb 7-2: configuration #1 chosen from 1 choice
[    6.128000] usb 7-3: new high speed USB device using ehci_hcd and
address 4
[    6.224000] ata3: SATA link up 1.5 Gbps (SStatus 113 SControl 300)
[    6.224000] ata3.00: ATA-8: ST9250827AS, 3.AAA, max UDMA/133
[    6.224000] ata3.00: 488397168 sectors, multi 16: LBA48 NCQ (depth
31/32)
[    6.224000] ata3.00: configured for UDMA/133
[    6.536000] ata4: SATA link down (SStatus 0 SControl 300)
[    6.712000] usb 7-3: configuration #1 chosen from 1 choice
[    6.848000] ata5: SATA link down (SStatus 0 SControl 300)
[    6.848000] scsi 2:0:0:0: Direct-Access     ATA      ST9250827AS
3.AA PQ: 0 ANSI: 5
[    6.860000] sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw
xa/form2 cdda tray
[    6.860000] Uniform CD-ROM driver Revision: 3.20
[    6.860000] sr 0:0:0:0: Attached scsi CD-ROM sr0
[    6.860000] sd 2:0:0:0: [sda] 488397168 512-byte hardware sectors
(250059 MB)
[    6.860000] sd 2:0:0:0: [sda] Write Protect is off
[    6.860000] sd 2:0:0:0: [sda] Mode Sense: 00 3a 00 00
[    6.860000] sd 2:0:0:0: [sda] Write cache: enabled, read cache:
enabled, doesn't support DPO or FUA
[    6.860000] sd 2:0:0:0: [sda] 488397168 512-byte hardware sectors
(250059 MB)
[    6.860000] sd 2:0:0:0: [sda] Write Protect is off
[    6.860000] sd 2:0:0:0: [sda] Mode Sense: 00 3a 00 00
[    6.860000] sd 2:0:0:0: [sda] Write cache: enabled, read cache:
enabled, doesn't support DPO or FUA
[    6.860000]  sda:<5>sr 0:0:0:0: Attached scsi generic sg0 type 5
[    6.860000] sd 2:0:0:0: Attached scsi generic sg1 type 0
[    6.900000]  sda1 sda2 < sda5 sda6 >
[    6.928000] sd 2:0:0:0: [sda] Attached SCSI disk
[    7.292000] Attempting manual resume
[    7.292000] swsusp: Resume From Partition 8:5
[    7.292000] PM: Checking swsusp image.
[    7.296000] PM: Resume from disk failed.
[    7.324000] kjournald starting.  Commit interval 5 seconds
[    7.324000] EXT3-fs: mounted filesystem with ordered data mode.
[    7.440000] usb 7-6: new high speed USB device using ehci_hcd and
address 7
[    7.588000] usb 7-6: configuration #1 chosen from 1 choice
[    7.588000] usbcore: registered new interface driver libusual
[    7.832000] usb 3-1: new low speed USB device using uhci_hcd and
address 4
[    8.004000] usb 3-1: configuration #1 chosen from 1 choice
[    8.220000] Uniform Multi-Platform E-IDE driver Revision: 7.00alpha2
[    8.220000] ide: Assuming 33MHz system bus speed for PIO modes;
override with idebus=xx
[    8.248000] usb 4-2: new full speed USB device using uhci_hcd and
address 2
[    8.296000] Initializing USB Mass Storage driver...
[    8.416000] usb 4-2: configuration #1 chosen from 1 choice
[    8.660000] usb 5-1: new full speed USB device using uhci_hcd and
address 2
[    8.904000] usb 5-1: configuration #1 chosen from 1 choice
[    8.908000] scsi5 : SCSI emulation for USB Mass Storage devices
[    8.908000] usb-storage: device found at 3
[    8.908000] usb-storage: waiting for device to settle before scanning
[    8.908000] scsi6 : SCSI emulation for USB Mass Storage devices
[    8.908000] usb-storage: device found at 7
[    8.908000] usb-storage: waiting for device to settle before scanning
[    8.908000] usbcore: registered new interface driver usb-storage
[    8.908000] USB Mass Storage support registered.
[   13.908000] usb-storage: device scan complete
[   13.908000] usb-storage: device scan complete
[   13.908000] scsi 5:0:0:0: Direct-Access     TOSHIBA  MK2035GSS
PQ: 0 ANSI: 2 CCS
[   13.912000] scsi 6:0:0:0: Direct-Access     Generic- xD/SDMMC/MS/Pro
1.00 PQ: 0 ANSI: 0 CCS
[   13.912000] sd 6:0:0:0: [sdb] Attached SCSI removable disk
[   13.912000] sd 6:0:0:0: Attached scsi generic sg2 type 0
[   13.912000] sd 5:0:0:0: [sdc] 390721968 512-byte hardware sectors
(200050 MB)
[   13.916000] sd 5:0:0:0: [sdc] Write Protect is off
[   13.916000] sd 5:0:0:0: [sdc] Mode Sense: 00 38 00 00
[   13.916000] sd 5:0:0:0: [sdc] Assuming drive cache: write through
[   13.916000] sd 5:0:0:0: [sdc] 390721968 512-byte hardware sectors
(200050 MB)
[   13.916000] sd 5:0:0:0: [sdc] Write Protect is off
[   13.916000] sd 5:0:0:0: [sdc] Mode Sense: 00 38 00 00
[   13.916000] sd 5:0:0:0: [sdc] Assuming drive cache: write through
[   13.916000]  sdc: sdc1
[   13.944000] sd 5:0:0:0: [sdc] Attached SCSI disk
[   13.944000] sd 5:0:0:0: Attached scsi generic sg3 type 0
[   15.048000] ip_tables: (C) 2000-2006 Netfilter Core Team
[   15.116000] Netfilter messages via NETLINK v0.30.
[   15.120000] nf_conntrack version 0.5.0 (8192 buckets, 65536 max)
[   16.068000] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
[   16.252000] Linux agpgart interface v0.102 (c) Dave Jones
[   16.268000] shpchp: Standard Hot Plug PCI Controller Driver version:
0.4
[   16.372000] tpm_inf_pnp 00:0b: Found TPM with ID IFX0102
[   16.372000] tpm_inf_pnp 00:0b: TPM found: config base 0x254, data
base 0x4700, chip version 0x000b, vendor id 0x15d1 (Infineon), product
id 0x000b (SLB 9635 TT 1.2)
[   16.444000] input: PC Speaker as /class/input/input2
[   16.612000] Bluetooth: Core ver 2.11
[   16.612000] NET: Registered protocol family 31
[   16.612000] Bluetooth: HCI device and connection manager initialized
[   16.612000] Bluetooth: HCI socket layer initialized
[   16.628000] iwl4965: Intel(R) Wireless WiFi Link 4965AGN driver for
Linux, 1.1.0
[   16.628000] iwl4965: Copyright(c) 2003-2007 Intel Corporation
[   16.628000] ACPI: PCI Interrupt 0000:05:00.0[A] -> GSI 18 (level,
low) -> IRQ 18
[   16.628000] PCI: Setting latency timer of device 0000:05:00.0 to 64
[   16.628000] iwl4965: Detected Intel Wireless WiFi Link 4965AGN
[   16.756000] nvidia: module license 'NVIDIA' taints kernel.
[   17.132000] ACPI: PCI Interrupt 0000:01:00.0[A] -> GSI 16 (level,
low) -> IRQ 16
[   17.132000] PCI: Setting latency timer of device 0000:01:00.0 to 64
[   17.132000] NVRM: loading NVIDIA UNIX x86 Kernel Module  100.14.19
Wed Sep 12 14:12:24 PDT 2007
[   17.140000] iwl4965: Tunable channels: 13 802.11bg, 19 802.11a
channels
[   17.144000] wmaster0: Selected rate control algorithm 'iwl-4965-rs'
[   17.168000] Bluetooth: HCI USB driver ver 2.9
[   17.180000] usbcore: registered new interface driver hci_usb
[   17.200000] Linux video capture interface: v2.00
[   17.224000] usbcore: registered new interface driver hiddev
[   17.232000] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
(174f:8a31)
[   17.232000] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
-32 (exp. 26).
[   17.240000] input: Logitech Optical USB Mouse as /class/input/input3
[   17.240000] input: USB HID v1.10 Mouse [Logitech Optical USB Mouse]
on usb-0000:00:1d.0-1
[   17.240000] usbcore: registered new interface driver usbhid
[
17.240000] /build/buildd/linux-source-2.6.22-2.6.22/drivers/hid/usbhid/hid-core.c: v2.6:USB HID core driver
[   17.372000] ACPI: PCI Interrupt 0000:00:1b.0[A] -> GSI 22 (level,
low) -> IRQ 23
[   17.372000] PCI: Setting latency timer of device 0000:00:1b.0 to 64
[   17.648000] Synaptics Touchpad, model: 1, fw: 6.2, id: 0x1a0b1, caps:
0xa04711/0x200000
[   17.684000] input: SynPS/2 Synaptics TouchPad as /class/input/input4
[   18.044000] usbcore: registered new interface driver uvcvideo
[   18.044000] USB Video Class driver (v0.1.0)
[   18.200000] lp: driver loaded but no devices found
[   18.236000] Adding 2103480k swap on /dev/sda5.  Priority:-1 extents:1
across:2103480k
[   18.708000] EXT3 FS on sda6, internal journal
[   19.968000] input: Power Button (FF) as /class/input/input5
[   19.968000] ACPI: Power Button (FF) [PWRF]
[   19.992000] input: Sleep Button (CM) as /class/input/input6
[   19.992000] ACPI: Sleep Button (CM) [SLPB]
[   19.992000] input: Lid Switch as /class/input/input7
[   19.992000] ACPI: Lid Switch [LID]
[   20.040000] No dock devices found.
[   20.096000] ACPI: AC Adapter [AC0] (on-line)
[   20.120000] ACPI: Battery Slot [BAT0] (battery present)
[   20.136000] ACPI: Video Device [VGA] (multi-head: yes  rom: no  post:
no)
[   20.152000] Asus Laptop ACPI Extras version 0.30
[   20.152000]   BSTS called, 0xfe3f returned
[   20.152000]   unsupported model F9SG, trying default values
[   20.152000]   send /proc/acpi/dsdt to the developers
[   21.296000] Failure registering capabilities with primary security
module.
[   21.496000] ppdev: user-space parallel port driver
[   21.544000] r8169: eth0: link down
[   21.808000] audit(1215532382.597:3):  type=1503
operation="inode_permission" requested_mask="a" denied_mask="a"
name="/dev/tty" pid=5500 profile="/usr/sbin/cupsd"
[   21.840000] apm: BIOS not found.
[   22.136000] Bluetooth: L2CAP ver 2.8
[   22.136000] Bluetooth: L2CAP socket layer initialized
[   22.228000] Bluetooth: RFCOMM socket layer initialized
[   22.228000] Bluetooth: RFCOMM TTY layer initialized
[   22.228000] Bluetooth: RFCOMM ver 1.8
[   59.680000] NET: Registered protocol family 17
[   61.976000] wlan0: Initial auth_alg=0
[   61.976000] wlan0: authenticate with AP 00:1b:2f:aa:6a:98
[   61.976000] wlan0: RX authentication from 00:1b:2f:aa:6a:98 (alg=0
transaction=2 status=0)
[   61.976000] wlan0: authenticated
[   61.976000] wlan0: associate with AP 00:1b:2f:aa:6a:98
[   61.980000] wlan0: authentication frame received from
00:1b:2f:aa:6a:98, but not in authenticate state - ignored
[   61.988000] wlan0: RX AssocResp from 00:1b:2f:aa:6a:98 (capab=0x411
status=0 aid=1)
[   61.988000] wlan0: associated
[   61.988000] wlan0: WMM queue=2 aci=0 acm=0 aifs=3 cWmin=15 cWmax=1023
burst=0
[   61.992000] wlan0: WMM queue=3 aci=1 acm=0 aifs=7 cWmin=15 cWmax=1023
burst=0
[   61.992000] wlan0: WMM queue=1 aci=2 acm=0 aifs=2 cWmin=7 cWmax=15
burst=30
[   61.996000] wlan0: WMM queue=0 aci=3 acm=0 aifs=2 cWmin=3 cWmax=7
burst=15
[   70.168000] NET: Registered protocol family 10
[   70.168000] lo: Disabled Privacy Extensions
[   70.168000] ADDRCONF(NETDEV_UP): eth0: link is not ready
[   80.212000] wlan0: no IPv6 routers present
[   88.348000] usb 7-2: USB disconnect, address 3
[  107.972000] process `skype' is using obsolete setsockopt SO_BSDCOMPAT
[  147.112000] Inbound IN=wlan0 OUT=
MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=87.0.178.238
DST=192.168.0.7 LEN=47 TOS=0x00 PREC=0x00 TTL=117 ID=53536 PROTO=UDP
SPT=58887 DPT=44929 LEN=27 
[  147.116000] Inbound IN=wlan0 OUT=
MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=87.0.178.238
DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=117 ID=53538 DF PROTO=TCP
SPT=4748 DPT=44929 WINDOW=16384 RES=0x00 SYN URGP=0 
[  150.060000] Inbound IN=wlan0 OUT=
MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=87.0.178.238
DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=117 ID=53539 DF PROTO=TCP
SPT=4748 DPT=44929 WINDOW=16384 RES=0x00 SYN URGP=0 
[  156.000000] Inbound IN=wlan0 OUT=
MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=87.0.178.238
DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=117 ID=53541 DF PROTO=TCP
SPT=4748 DPT=44929 WINDOW=16384 RES=0x00 SYN URGP=0 
[  219.668000] Inbound IN=wlan0 OUT=
MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=62.101.126.216
DST=192.168.0.7 LEN=46 TOS=0x00 PREC=0x00 TTL=105 ID=64756 PROTO=UDP
SPT=49314 DPT=44929 LEN=26 
[  278.700000] uvcvideo: Failed to query (1) UVC control 1 (unit 0) :
-110 (exp. 26).
[ 1044.276000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
-110 (exp. 26).
[ 1046.184000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
-110 (exp. 26).
[ 1474.320000] Inbound IN=wlan0 OUT=
MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=151.65.211.185
DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=119 ID=1735 DF PROTO=TCP
SPT=1117 DPT=29263 WINDOW=65535 RES=0x00 SYN URGP=0 
[ 1474.320000] Inbound IN=wlan0 OUT=
MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=151.65.211.185
DST=192.168.0.7 LEN=47 TOS=0x00 PREC=0x00 TTL=119 ID=1736 PROTO=UDP
SPT=26170 DPT=29263 LEN=27 
[ 1477.296000] Inbound IN=wlan0 OUT=
MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=151.65.211.185
DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=119 ID=1758 DF PROTO=TCP
SPT=1117 DPT=29263 WINDOW=65535 RES=0x00 SYN URGP=0 
[ 1483.312000] Inbound IN=wlan0 OUT=
MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=151.65.211.185
DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=119 ID=1779 DF PROTO=TCP
SPT=1117 DPT=29263 WINDOW=65535 RES=0x00 SYN URGP=0 
[ 1650.416000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
-110 (exp. 26).
[ 1895.776000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
-110 (exp. 26).
[ 1897.924000] uvcvideo: Failed to query (135) UVC control 6 (unit 3) :
-110 (exp. 2).
[ 2029.104000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
-110 (exp. 26).
[ 2788.080000] usbcore: deregistering interface driver uvcvideo
[ 2799.320000] uvcvideo: Unknown parameter `quirks'
erwin at erwin-laptop:~$ 


On Tue, 2008-07-08 at 18:54 +0200, Jaime Perea wrote:
> El Martes, 8 de Julio de 2008, escribi?:
> > i also tried this:
> > erwin at erwin-laptop:~$ luvcview -f yuv
> > luvcview version 0.2.1
> > Video driver: x11
> > A window manager is available
> > video /dev/video0
> > ERROR opening V4L interface
> >i
> > : No such file or directory
> >
> Ciao
> 
> Since the module was not loaded no /dev/video
> was created. You will have to try the long way
> Please check the output of the command
> 
> sudo dmesg
> 
> I'm not expert at all on this issues, but at the end
> there can be some information. For me the solution
> was to install the new modules.
> 
> All the best
> 
> --
> Jaime Perea
> 
> 
> 
> 



From arjos85 at gmail.com  Tue Jul  8 19:25:18 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Tue, 8 Jul 2008 19:25:18 +0200
Subject: [Linux-uvc-devel] webcam on Asus F9SG
In-Reply-To: <1215537385.6577.14.camel@erwin-laptop>
References: <1215535094.6577.8.camel@erwin-laptop>
	<879e1f2b0807080953p4d90e6balc163f6769b1a8112@mail.gmail.com>
	<1215537385.6577.14.camel@erwin-laptop>
Message-ID: <879e1f2b0807081025q710e58cdk1e784181ef87a5f1@mail.gmail.com>

But there is something wrong...

2008/7/8 erwin <marconico at tiscali.it>:

> yes here it is:
> erwin at erwin-laptop:~$ mplayer tv:// -tv
> driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=20
> -vo x11 -v -v -v
> MPlayer 2:1.0~rc1-0ubuntu13.2+medibuntu1 (C) 2000-2006 MPlayer Team
> CPU: Intel(R) Core(TM)2 Duo CPU     T8300  @ 2.40GHz (Family: 6, Model:
> 23, Stepping: 6)
>
[..]

> v4l2: unable to open '/dev/video0': No such file or directory
> v4l2: ioctl set mute failed: Bad file descriptor


It says that /dev/video0 does not exist!!
Just check it whit these 2 commands:
lsmod | grep uvcvideo
ls -l /dev/video*

Regards,
Marco Argiolas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080708/b03e81f0/attachment.html>

From marconico at tiscali.it  Tue Jul  8 20:05:41 2008
From: marconico at tiscali.it (erwin)
Date: Tue, 08 Jul 2008 20:05:41 +0200
Subject: [Linux-uvc-devel] uvcvideo
Message-ID: <1215540341.6577.21.camel@erwin-laptop>

where and how can i get the last version?




From laurent.pinchart at skynet.be  Tue Jul  8 23:35:02 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 8 Jul 2008 23:35:02 +0200
Subject: [Linux-uvc-devel] uvcvideo
In-Reply-To: <1215540341.6577.21.camel@erwin-laptop>
References: <1215540341.6577.21.camel@erwin-laptop>
Message-ID: <200807082335.02629.laurent.pinchart@skynet.be>

On Tuesday 08 July 2008, erwin wrote:
> where and how can i get the last version?

As explained on http://linux-uvc.berlios.de/#download, the Linux UVC driver 
source code can be found in the Linux UVC Subversion repository on the 
BerliOS project page.

You can checkout the latest version with 

svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Jul  8 23:38:41 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 8 Jul 2008 23:38:41 +0200
Subject: [Linux-uvc-devel] asus f9sg webcam
In-Reply-To: <1215496270.6957.5.camel@erwin-laptop>
References: <1215496270.6957.5.camel@erwin-laptop>
Message-ID: <200807082338.41730.laurent.pinchart@skynet.be>

Hi Erwin,

On Tuesday 08 July 2008, erwin wrote:
> Ok folks these are all the things i tried:
> rwin at erwin-laptop:~$ sudo lsusb -d 174f:8a31 -v | grep "14 Video"
> [sudo] password for erwin:
>       bFunctionClass         14 Video
>       bInterfaceClass        14 Video
>       bInterfaceClass        14 Video
>       bInterfaceClass        14 Video
>       bInterfaceClass        14 Video
>       bInterfaceClass        14 Video
>       bInterfaceClass        14 Video
> erwin at erwin-laptop:~$ lsmod | grep uvcvideo
> uvcvideo               48644  0
> compat_ioctl32          2304  1 uvcvideo
> videodev               29312  1 uvcvideo
> v4l1_compat            15364  2 uvcvideo,videodev
> v4l2_common            18432  2 uvcvideo,videodev
> usbcore               138632  8
> uvcvideo,usbhid,hci_usb,usb_storage,libusual,uhci_hcd,ehci_hcd
> erwin at erwin-laptop:~$ luvcview -L
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> /dev/video0 does not support read i/o
> { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
> { discrete: width = 640, height = 480 }
>         Time interval between frame: 1/20,
> { discrete: width = 160, height = 120 }
>         Time interval between frame: 1/24,
> { discrete: width = 176, height = 144 }
>         Time interval between frame: 1/24,
> { discrete: width = 320, height = 240 }
>         Time interval between frame: 1/24,
> { discrete: width = 352, height = 288 }
>         Time interval between frame: 1/24,
> { discrete: width = 800, height = 600 }
>         Time interval between frame: 1/7,
> { discrete: width = 1024, height = 768 }
>         Time interval between frame: 1/7,
> { discrete: width = 1280, height = 800 }
>         Time interval between frame: 1/7,
> { discrete: width = 1280, height = 960 }
>         Time interval between frame: 1/7,
> { discrete: width = 1280, height = 1024 }
>         Time interval between frame: 1/7,
>
> then i tried
> luvcview -f yuv -s 640x480blank
> luvcview -f yuv -s 160x120
> luvcview -f yuv -s 176x144blank
> luvcview -f yuv -s 320x240no
> luvcview -f yuv -s 352x288error 5
> luvcview -f yuv -s 800x600too big
> luvcview -f yuv -s 1024x768too big
> luvcview -f yuv -s 1280x800too big
> luvcview -f yuv -s 1280x960too big
> luvcview -f yuv -s 1280x1024too big
> but i had only snapshot or green screen, but no streaming.

Could you please try to set the quirks parameter to 16 when loading the 
driver ? 'modprobe uvcvideo quirks=16' or 'insmod uvcvideo.ko quirks=16' 
should do the job.

If this works better I'll fix the driver to support your camera out of the 
box.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Jul  8 23:54:57 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 8 Jul 2008 23:54:57 +0200
Subject: [Linux-uvc-devel] Medion akoya mini
In-Reply-To: <20080708160609.608503030109@mail.linux-new-media.de>
References: <20080708160609.608503030109@mail.linux-new-media.de>
Message-ID: <200807082354.57434.laurent.pinchart@skynet.be>

Hi Marcel,

On Tuesday 08 July 2008, Marcel Hilzinger wrote:
> Hi,
> I'm new on the list, so I cannot reply on the existing thread sorry,
>
> The svn version recognizes the webcam, so the uvcvideo module is loaded
> automatically, if I enable the webcam with the Fn-Hotkey.
>
> Nevertheless the error message remains the same:
>
> marcel at medion-akoya:~$ luvcview -f yuv
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 5.
>  Init v4L2 failed !! exit fatal

This situation should be fixed in the latest SVN revision.

Best regards,

Laurent Pinchart


From arjos85 at gmail.com  Tue Jul  8 19:44:51 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Tue, 8 Jul 2008 19:44:51 +0200
Subject: [Linux-uvc-devel] asus f9sg webcam
In-Reply-To: <1215537720.6577.18.camel@erwin-laptop>
References: <1215496270.6957.5.camel@erwin-laptop>
	<200807081834.09549.jaime@iaa.es>
	<1215535419.6577.12.camel@erwin-laptop>
	<200807081854.50782.jaime@iaa.es>
	<1215537720.6577.18.camel@erwin-laptop>
Message-ID: <879e1f2b0807081044m50e8a147p8913de04c7604ae2@mail.gmail.com>

It sounds very strange...
have you installed the new version of uvcvideo?

Because in the previous emails almost the /dev/video0 was created
correctly!!
If you can, just try the previous UVCvideo version.

Ciao
Marco Argiolas

2008/7/8 erwin <marconico at tiscali.it>:

> this is the result of dmesg command
> [   21.127963] ACPI: PCI Interrupt Link [LNKG] (IRQs 3 4 5 6 *7 10 12)
> [   21.128090] ACPI: PCI Interrupt Link [LNKH] (IRQs 3 *4 5 6 7 10 12)
> [   21.128186] Linux Plug and Play Support v0.97 (c) Adam Belay
> [   21.128194] pnp: PnP ACPI init
> [   21.128199] ACPI: bus type pnp registered
> [   21.130158] pnp: PnP ACPI: found 14 devices
> [   21.130159] ACPI: ACPI bus type pnp unregistered
> [   21.130162] PnPBIOS: Disabled by ACPI PNP
> [   21.130195] PCI: Using ACPI for IRQ routing
> [   21.130197] PCI: If a device doesn't work, try "pci=routeirq".  If it
> helps, post a report
> [   21.141277] NET: Registered protocol family 8
> [   21.141278] NET: Registered protocol family 20
> [   21.141316] pnp: 00:01: iomem range 0xfed14000-0xfed19fff has been
> reserved
> [   21.141322] pnp: 00:08: iomem range 0xfed1c000-0xfed1ffff has been
> reserved
> [   21.141324] pnp: 00:08: iomem range 0xfed20000-0xfed3ffff has been
> reserved
> [   21.141326] pnp: 00:08: iomem range 0xfed45000-0xfed89fff has been
> reserved
> [   21.141328] pnp: 00:08: iomem range 0xffb00000-0xffbfffff could not
> be reserved
> [   21.141331] pnp: 00:0a: ioport range 0x250-0x253 has been reserved
> [   21.141333] pnp: 00:0a: ioport range 0x256-0x25f has been reserved
> [   21.141335] pnp: 00:0a: iomem range 0xfec00000-0xfec00fff has been
> reserved
> [   21.141338] pnp: 00:0a: iomem range 0xfee00000-0xfee00fff could not
> be reserved
> [   21.141342] pnp: 00:0c: iomem range 0xc0000000-0xcfffffff has been
> reserved
> [   21.141345] pnp: 00:0d: iomem range 0x0-0x9ffff could not be reserved
> [   21.141347] pnp: 00:0d: iomem range 0xc0000-0xcffff could not be
> reserved
> [   21.141349] pnp: 00:0d: iomem range 0xe0000-0xfffff could not be
> reserved
> [   21.141351] pnp: 00:0d: iomem range 0x100000-0x7fffffff could not be
> reserved
> [   21.141516] Time: tsc clocksource has been installed.
> [   21.141521] Switched to high resolution mode on CPU 0
> [   21.141586] Switched to high resolution mode on CPU 1
> [   21.171509] PCI: Bridge: 0000:00:01.0
> [   21.171511]   IO window: a000-afff
> [   21.171513]   MEM window: f8000000-fe0fffff
> [   21.171516]   PREFETCH window: d5f00000-f5efffff
> [   21.171518] PCI: Bridge: 0000:00:1c.0
> [   21.171520]   IO window: b000-bfff
> [   21.171524]   MEM window: fe100000-fe1fffff
> [   21.171527]   PREFETCH window: disabled.
> [   21.171531] PCI: Bridge: 0000:00:1c.1
> [   21.171533]   IO window: c000-cfff
> [   21.171537]   MEM window: fe200000-fe9fffff
> [   21.171540]   PREFETCH window: f5f00000-f7efffff
> [   21.171543] PCI: Bridge: 0000:00:1c.2
> [   21.171544]   IO window: disabled.
> [   21.171548]   MEM window: fea00000-feafffff
> [   21.171551]   PREFETCH window: disabled.
> [   21.171555] PCI: Bridge: 0000:00:1e.0
> [   21.171556]   IO window: disabled.
> [   21.171559]   MEM window: disabled.
> [   21.171562]   PREFETCH window: disabled.
> [   21.171574] ACPI: PCI Interrupt 0000:00:01.0[A] -> GSI 16 (level,
> low) -> IRQ 16
> [   21.171578] PCI: Setting latency timer of device 0000:00:01.0 to 64
> [   21.171592] ACPI: PCI Interrupt 0000:00:1c.0[A] -> GSI 16 (level,
> low) -> IRQ 16
> [   21.171596] PCI: Setting latency timer of device 0000:00:1c.0 to 64
> [   21.171611] ACPI: PCI Interrupt 0000:00:1c.1[B] -> GSI 17 (level,
> low) -> IRQ 17
> [   21.171615] PCI: Setting latency timer of device 0000:00:1c.1 to 64
> [   21.171630] ACPI: PCI Interrupt 0000:00:1c.2[C] -> GSI 18 (level,
> low) -> IRQ 18
> [   21.171634] PCI: Setting latency timer of device 0000:00:1c.2 to 64
> [   21.171643] PCI: Setting latency timer of device 0000:00:1e.0 to 64
> [   21.171650] NET: Registered protocol family 2
> [   21.221356] IP route cache hash table entries: 32768 (order: 5,
> 131072 bytes)
> [   21.221397] TCP established hash table entries: 131072 (order: 8,
> 1572864 bytes)
> [   21.221893] TCP bind hash table entries: 65536 (order: 7, 524288
> bytes)
> [   21.222065] TCP: Hash tables configured (established 131072 bind
> 65536)
> [   21.222066] TCP reno registered
> [   21.237388] checking if image is initramfs... it is
> [   21.696230] Freeing initrd memory: 7058k freed
> [   21.696326] Simple Boot Flag at 0x52 set to 0x1
> [   21.696661] audit: initializing netlink socket (disabled)
> [   21.696671] audit(1215539561.212:1): initialized
> [   21.696734] highmem bounce pool size: 64 pages
> [   21.697957] VFS: Disk quotas dquot_6.5.1
> [   21.697987] Dquot-cache hash table entries: 1024 (order 0, 4096
> bytes)
> [   21.698048] io scheduler noop registered
> [   21.698049] io scheduler anticipatory registered
> [   21.698050] io scheduler deadline registered
> [   21.698059] io scheduler cfq registered (default)
> [   21.863422] Boot video device is 0000:01:00.0
> [   21.863477] PCI: Setting latency timer of device 0000:00:01.0 to 64
> [   21.863506] assign_interrupt_mode Found MSI capability
> [   21.863508] Allocate Port Service[0000:00:01.0:pcie00]
> [   21.863528] Allocate Port Service[0000:00:01.0:pcie02]
> [   21.863582] PCI: Setting latency timer of device 0000:00:1c.0 to 64
> [   21.863619] assign_interrupt_mode Found MSI capability
> [   21.863621] Allocate Port Service[0000:00:1c.0:pcie00]
> [   21.863639] Allocate Port Service[0000:00:1c.0:pcie02]
> [   21.863702] PCI: Setting latency timer of device 0000:00:1c.1 to 64
> [   21.863739] assign_interrupt_mode Found MSI capability
> [   21.863741] Allocate Port Service[0000:00:1c.1:pcie00]
> [   21.863759] Allocate Port Service[0000:00:1c.1:pcie02]
> [   21.863824] PCI: Setting latency timer of device 0000:00:1c.2 to 64
> [   21.863861] assign_interrupt_mode Found MSI capability
> [   21.863863] Allocate Port Service[0000:00:1c.2:pcie00]
> [   21.863882] Allocate Port Service[0000:00:1c.2:pcie02]
> [   21.863984] isapnp: Scanning for PnP cards...
> [   22.391715] isapnp: No Plug & Play device found
> [   22.405248] Real Time Clock Driver v1.12ac
> [   22.405396] hpet_resources: 0xfed00000 is busy
> [   22.405435] Serial: 8250/16550 driver $Revision: 1.90 $ 4 ports, IRQ
> sharing enabled
> [   22.406195] RAMDISK driver initialized: 16 RAM disks of 65536K size
> 1024 blocksize
> [   22.406284] input: Macintosh mouse button emulation
> as /class/input/input0
> [   22.406340] PNP: PS/2 Controller [PNP0303:PS2K,PNP0f03:PS2M] at
> 0x60,0x64 irq 1,12
> [   22.409135] i8042.c: Detected active multiplexing controller, rev
> 1.1.
> [   22.410491] serio: i8042 KBD port at 0x60,0x64 irq 1
> [   22.410494] serio: i8042 AUX0 port at 0x60,0x64 irq 12
> [   22.410495] serio: i8042 AUX1 port at 0x60,0x64 irq 12
> [   22.410497] serio: i8042 AUX2 port at 0x60,0x64 irq 12
> [   22.410498] serio: i8042 AUX3 port at 0x60,0x64 irq 12
> [   22.410572] mice: PS/2 mouse device common for all mice
> [   22.410650] EISA: Probing bus 0 at eisa.0
> [   22.410676] EISA: Detected 0 cards.
> [   22.410733] TCP cubic registered
> [   22.410743] NET: Registered protocol family 1
> [   22.410757] Using IPI No-Shortcut mode
> [   22.410870]   Magic number: 0:748:895
> [   22.410896]   hash matches device ptyy5
> [   22.411096] Freeing unused kernel memory: 364k freed
> [   22.497908] input: AT Translated Set 2 keyboard
> as /class/input/input1
> [   23.550584] AppArmor: AppArmor initialized<5>audit(1215539562.712:2):
> type=1505 info="AppArmor initialized" pid=1247
> [   23.558525] fuse init (API version 7.8)
> [   23.565268] Failure registering capabilities with primary security
> module.
> [   23.599157] ACPI Warning (tbutils-0217): Incorrect checksum in table
> [ATKG] -  C5, should be 59 [20070126]
> [   23.599162] ACPI: SSDT 7FFC96D0, 02C8 (r1  PmRef  Cpu0Ist     3000
> INTL 20051117)
> [   23.599362] ACPI: SSDT 7FFC9A30, 0712 (r1  PmRef  Cpu0Cst     3001
> INTL 20051117)
> [   23.600125] Monitor-Mwait will be used to enter C-1 state
> [   23.600127] Monitor-Mwait will be used to enter C-2 state
> [   23.600130] ACPI: CPU0 (power states: C1[C1] C2[C2])
> [   23.600133] ACPI: Processor [P001] (supports 8 throttling states)
> [   23.600293] ACPI: SSDT 7FFC9600, 00C8 (r1  PmRef  Cpu1Ist     3000
> INTL 20051117)
> [   23.600478] ACPI: SSDT 7FFC99A0, 0085 (r1  PmRef  Cpu1Cst     3000
> INTL 20051117)
> [   23.601276] ACPI: CPU1 (power states: C1[C1] C2[C2])
> [   23.601280] ACPI: Processor [P002] (supports 8 throttling states)
> [   23.603113] ACPI: Thermal Zone [THRM] (59 C)
> [    3.180000] Marking TSC unstable due to: possible TSC halt in C2.
> [    3.184000] Time: hpet clocksource has been installed.
> [    3.468000] usbcore: registered new interface driver usbfs
> [    3.468000] usbcore: registered new interface driver hub
> [    3.468000] usbcore: registered new device driver usb
> [    3.468000] USB Universal Host Controller Interface driver v3.0
> [    3.468000] ACPI: PCI Interrupt 0000:00:1a.0[A] -> GSI 16 (level,
> low) -> IRQ 16
> [    3.468000] PCI: Setting latency timer of device 0000:00:1a.0 to 64
> [    3.468000] uhci_hcd 0000:00:1a.0: UHCI Host Controller
> [    3.468000] uhci_hcd 0000:00:1a.0: new USB bus registered, assigned
> bus number 1
> [    3.468000] uhci_hcd 0000:00:1a.0: irq 16, io base 0x0000e080
> [    3.468000] usb usb1: configuration #1 chosen from 1 choice
> [    3.468000] hub 1-0:1.0: USB hub found
> [    3.468000] hub 1-0:1.0: 2 ports detected
> [    3.524000] SCSI subsystem initialized
> [    3.524000] libata version 2.21 loaded.
> [    3.572000] ACPI: PCI Interrupt 0000:00:1a.1[B] -> GSI 21 (level,
> low) -> IRQ 19
> [    3.572000] PCI: Setting latency timer of device 0000:00:1a.1 to 64
> [    3.572000] uhci_hcd 0000:00:1a.1: UHCI Host Controller
> [    3.572000] uhci_hcd 0000:00:1a.1: new USB bus registered, assigned
> bus number 2
> [    3.572000] uhci_hcd 0000:00:1a.1: irq 19, io base 0x0000e000
> [    3.572000] usb usb2: configuration #1 chosen from 1 choice
> [    3.572000] hub 2-0:1.0: USB hub found
> [    3.572000] hub 2-0:1.0: 2 ports detected
> [    3.676000] ACPI: PCI Interrupt 0000:00:1d.0[A] -> GSI 23 (level,
> low) -> IRQ 20
> [    3.676000] PCI: Setting latency timer of device 0000:00:1d.0 to 64
> [    3.676000] uhci_hcd 0000:00:1d.0: UHCI Host Controller
> [    3.676000] uhci_hcd 0000:00:1d.0: new USB bus registered, assigned
> bus number 3
> [    3.676000] uhci_hcd 0000:00:1d.0: irq 20, io base 0x0000dc00
> [    3.676000] usb usb3: configuration #1 chosen from 1 choice
> [    3.676000] hub 3-0:1.0: USB hub found
> [    3.676000] hub 3-0:1.0: 2 ports detected
> [    3.780000] ACPI: PCI Interrupt 0000:00:1d.1[B] -> GSI 19 (level,
> low) -> IRQ 21
> [    3.780000] PCI: Setting latency timer of device 0000:00:1d.1 to 64
> [    3.780000] uhci_hcd 0000:00:1d.1: UHCI Host Controller
> [    3.780000] uhci_hcd 0000:00:1d.1: new USB bus registered, assigned
> bus number 4
> [    3.780000] uhci_hcd 0000:00:1d.1: irq 21, io base 0x0000d880
> [    3.780000] usb usb4: configuration #1 chosen from 1 choice
> [    3.780000] hub 4-0:1.0: USB hub found
> [    3.780000] hub 4-0:1.0: 2 ports detected
> [    3.884000] ACPI: PCI Interrupt 0000:00:1d.2[C] -> GSI 18 (level,
> low) -> IRQ 18
> [    3.884000] PCI: Setting latency timer of device 0000:00:1d.2 to 64
> [    3.884000] uhci_hcd 0000:00:1d.2: UHCI Host Controller
> [    3.884000] uhci_hcd 0000:00:1d.2: new USB bus registered, assigned
> bus number 5
> [    3.884000] uhci_hcd 0000:00:1d.2: irq 18, io base 0x0000d800
> [    3.884000] usb usb5: configuration #1 chosen from 1 choice
> [    3.884000] hub 5-0:1.0: USB hub found
> [    3.884000] hub 5-0:1.0: 2 ports detected
> [    3.988000] ACPI: PCI Interrupt 0000:00:1a.7[C] -> GSI 18 (level,
> low) -> IRQ 18
> [    3.988000] PCI: Setting latency timer of device 0000:00:1a.7 to 64
> [    3.988000] ehci_hcd 0000:00:1a.7: EHCI Host Controller
> [    3.988000] ehci_hcd 0000:00:1a.7: new USB bus registered, assigned
> bus number 6
> [    3.988000] ehci_hcd 0000:00:1a.7: debug port 1
> [    3.988000] PCI: cache line size of 32 is not supported by device
> 0000:00:1a.7
> [    3.988000] ehci_hcd 0000:00:1a.7: irq 18, io mem 0xfebff400
> [    4.000000] Clocksource tsc unstable (delta = -179561013 ns)
> [    4.020000] usb 3-1: new low speed USB device using uhci_hcd and
> address 2
> [    4.020000] ehci_hcd 0000:00:1a.7: USB 2.0 started, EHCI 1.00, driver
> 10 Dec 2004
> [    4.020000] usb usb6: configuration #1 chosen from 1 choice
> [    4.020000] hub 6-0:1.0: USB hub found
> [    4.020000] hub 6-0:1.0: 4 ports detected
> [    4.124000] ACPI: PCI Interrupt 0000:00:1d.7[A] -> GSI 23 (level,
> low) -> IRQ 20
> [    4.124000] PCI: Setting latency timer of device 0000:00:1d.7 to 64
> [    4.124000] ehci_hcd 0000:00:1d.7: EHCI Host Controller
> [    4.124000] ehci_hcd 0000:00:1d.7: new USB bus registered, assigned
> bus number 7
> [    4.124000] ehci_hcd 0000:00:1d.7: debug port 1
> [    4.124000] PCI: cache line size of 32 is not supported by device
> 0000:00:1d.7
> [    4.124000] ehci_hcd 0000:00:1d.7: irq 20, io mem 0xfebff000
> [    4.136000] ehci_hcd 0000:00:1d.7: USB 2.0 started, EHCI 1.00, driver
> 10 Dec 2004
> [    4.136000] usb usb7: configuration #1 chosen from 1 choice
> [    4.136000] hub 7-0:1.0: USB hub found
> [    4.136000] hub 7-0:1.0: 6 ports detected
> [    4.240000] r8169 Gigabit Ethernet driver 2.2LK loaded
> [    4.240000] ACPI: PCI Interrupt 0000:02:00.0[A] -> GSI 16 (level,
> low) -> IRQ 16
> [    4.240000] PCI: Setting latency timer of device 0000:02:00.0 to 64
> [    4.240000] eth0: RTL8168b/8111b at 0xf887e000, 00:1f:c6:52:52:d3,
> XID 38000000 IRQ 16
> [    4.240000] ata_piix 0000:00:1f.1: version 2.11
> [    4.240000] ACPI: PCI Interrupt 0000:00:1f.1[A] -> GSI 18 (level,
> low) -> IRQ 18
> [    4.240000] PCI: Setting latency timer of device 0000:00:1f.1 to 64
> [    4.240000] scsi0 : ata_piix
> [    4.240000] scsi1 : ata_piix
> [    4.240000] ata1: PATA max UDMA/100 cmd 0x000101f0 ctl 0x000103f6
> bmdma 0x0001ffa0 irq 14
> [    4.240000] ata2: PATA max UDMA/100 cmd 0x00010170 ctl 0x00010376
> bmdma 0x0001ffa8 irq 15
> [    4.544000] usb 3-1: device not accepting address 2, error -71
> [    4.560000] ata1.00: ATAPI: MATSHITADVD-RAM UJ-860S, 1.00, max
> UDMA/33
> [    4.736000] ata1.00: configured for UDMA/33
> [    4.736000] ata2: port disabled. ignoring.
> [    4.736000] scsi 0:0:0:0: CD-ROM            MATSHITA DVD-RAM UJ-860S
> 1.00 PQ: 0 ANSI: 5
> [    4.736000] ahci 0000:00:1f.2: version 2.2
> [    4.736000] ACPI: PCI Interrupt 0000:00:1f.2[B] -> GSI 20 (level,
> low) -> IRQ 22
> [    5.740000] ahci 0000:00:1f.2: AHCI 0001.0100 32 slots 3 ports 3 Gbps
> 0x7 impl SATA mode
> [    5.740000] ahci 0000:00:1f.2: flags: 64bit ncq pm led clo pio slum
> part
> [    5.740000] PCI: Setting latency timer of device 0000:00:1f.2 to 64
> [    5.740000] scsi2 : ahci
> [    5.740000] scsi3 : ahci
> [    5.740000] scsi4 : ahci
> [    5.740000] ata3: SATA max UDMA/133 cmd 0xf889c900 ctl 0x00000000
> bmdma 0x00000000 irq 22
> [    5.740000] ata4: SATA max UDMA/133 cmd 0xf889c980 ctl 0x00000000
> bmdma 0x00000000 irq 22
> [    5.740000] ata5: SATA max UDMA/133 cmd 0xf889ca00 ctl 0x00000000
> bmdma 0x00000000 irq 22
> [    5.756000] usb 7-2: new high speed USB device using ehci_hcd and
> address 3
> [    5.888000] usb 7-2: configuration #1 chosen from 1 choice
> [    6.128000] usb 7-3: new high speed USB device using ehci_hcd and
> address 4
> [    6.224000] ata3: SATA link up 1.5 Gbps (SStatus 113 SControl 300)
> [    6.224000] ata3.00: ATA-8: ST9250827AS, 3.AAA, max UDMA/133
> [    6.224000] ata3.00: 488397168 sectors, multi 16: LBA48 NCQ (depth
> 31/32)
> [    6.224000] ata3.00: configured for UDMA/133
> [    6.536000] ata4: SATA link down (SStatus 0 SControl 300)
> [    6.712000] usb 7-3: configuration #1 chosen from 1 choice
> [    6.848000] ata5: SATA link down (SStatus 0 SControl 300)
> [    6.848000] scsi 2:0:0:0: Direct-Access     ATA      ST9250827AS
> 3.AA PQ: 0 ANSI: 5
> [    6.860000] sr0: scsi3-mmc drive: 24x/24x writer dvd-ram cd/rw
> xa/form2 cdda tray
> [    6.860000] Uniform CD-ROM driver Revision: 3.20
> [    6.860000] sr 0:0:0:0: Attached scsi CD-ROM sr0
> [    6.860000] sd 2:0:0:0: [sda] 488397168 512-byte hardware sectors
> (250059 MB)
> [    6.860000] sd 2:0:0:0: [sda] Write Protect is off
> [    6.860000] sd 2:0:0:0: [sda] Mode Sense: 00 3a 00 00
> [    6.860000] sd 2:0:0:0: [sda] Write cache: enabled, read cache:
> enabled, doesn't support DPO or FUA
> [    6.860000] sd 2:0:0:0: [sda] 488397168 512-byte hardware sectors
> (250059 MB)
> [    6.860000] sd 2:0:0:0: [sda] Write Protect is off
> [    6.860000] sd 2:0:0:0: [sda] Mode Sense: 00 3a 00 00
> [    6.860000] sd 2:0:0:0: [sda] Write cache: enabled, read cache:
> enabled, doesn't support DPO or FUA
> [    6.860000]  sda:<5>sr 0:0:0:0: Attached scsi generic sg0 type 5
> [    6.860000] sd 2:0:0:0: Attached scsi generic sg1 type 0
> [    6.900000]  sda1 sda2 < sda5 sda6 >
> [    6.928000] sd 2:0:0:0: [sda] Attached SCSI disk
> [    7.292000] Attempting manual resume
> [    7.292000] swsusp: Resume From Partition 8:5
> [    7.292000] PM: Checking swsusp image.
> [    7.296000] PM: Resume from disk failed.
> [    7.324000] kjournald starting.  Commit interval 5 seconds
> [    7.324000] EXT3-fs: mounted filesystem with ordered data mode.
> [    7.440000] usb 7-6: new high speed USB device using ehci_hcd and
> address 7
> [    7.588000] usb 7-6: configuration #1 chosen from 1 choice
> [    7.588000] usbcore: registered new interface driver libusual
> [    7.832000] usb 3-1: new low speed USB device using uhci_hcd and
> address 4
> [    8.004000] usb 3-1: configuration #1 chosen from 1 choice
> [    8.220000] Uniform Multi-Platform E-IDE driver Revision: 7.00alpha2
> [    8.220000] ide: Assuming 33MHz system bus speed for PIO modes;
> override with idebus=xx
> [    8.248000] usb 4-2: new full speed USB device using uhci_hcd and
> address 2
> [    8.296000] Initializing USB Mass Storage driver...
> [    8.416000] usb 4-2: configuration #1 chosen from 1 choice
> [    8.660000] usb 5-1: new full speed USB device using uhci_hcd and
> address 2
> [    8.904000] usb 5-1: configuration #1 chosen from 1 choice
> [    8.908000] scsi5 : SCSI emulation for USB Mass Storage devices
> [    8.908000] usb-storage: device found at 3
> [    8.908000] usb-storage: waiting for device to settle before scanning
> [    8.908000] scsi6 : SCSI emulation for USB Mass Storage devices
> [    8.908000] usb-storage: device found at 7
> [    8.908000] usb-storage: waiting for device to settle before scanning
> [    8.908000] usbcore: registered new interface driver usb-storage
> [    8.908000] USB Mass Storage support registered.
> [   13.908000] usb-storage: device scan complete
> [   13.908000] usb-storage: device scan complete
> [   13.908000] scsi 5:0:0:0: Direct-Access     TOSHIBA  MK2035GSS
> PQ: 0 ANSI: 2 CCS
> [   13.912000] scsi 6:0:0:0: Direct-Access     Generic- xD/SDMMC/MS/Pro
> 1.00 PQ: 0 ANSI: 0 CCS
> [   13.912000] sd 6:0:0:0: [sdb] Attached SCSI removable disk
> [   13.912000] sd 6:0:0:0: Attached scsi generic sg2 type 0
> [   13.912000] sd 5:0:0:0: [sdc] 390721968 512-byte hardware sectors
> (200050 MB)
> [   13.916000] sd 5:0:0:0: [sdc] Write Protect is off
> [   13.916000] sd 5:0:0:0: [sdc] Mode Sense: 00 38 00 00
> [   13.916000] sd 5:0:0:0: [sdc] Assuming drive cache: write through
> [   13.916000] sd 5:0:0:0: [sdc] 390721968 512-byte hardware sectors
> (200050 MB)
> [   13.916000] sd 5:0:0:0: [sdc] Write Protect is off
> [   13.916000] sd 5:0:0:0: [sdc] Mode Sense: 00 38 00 00
> [   13.916000] sd 5:0:0:0: [sdc] Assuming drive cache: write through
> [   13.916000]  sdc: sdc1
> [   13.944000] sd 5:0:0:0: [sdc] Attached SCSI disk
> [   13.944000] sd 5:0:0:0: Attached scsi generic sg3 type 0
> [   15.048000] ip_tables: (C) 2000-2006 Netfilter Core Team
> [   15.116000] Netfilter messages via NETLINK v0.30.
> [   15.120000] nf_conntrack version 0.5.0 (8192 buckets, 65536 max)
> [   16.068000] pci_hotplug: PCI Hot Plug PCI Core version: 0.5
> [   16.252000] Linux agpgart interface v0.102 (c) Dave Jones
> [   16.268000] shpchp: Standard Hot Plug PCI Controller Driver version:
> 0.4
> [   16.372000] tpm_inf_pnp 00:0b: Found TPM with ID IFX0102
> [   16.372000] tpm_inf_pnp 00:0b: TPM found: config base 0x254, data
> base 0x4700, chip version 0x000b, vendor id 0x15d1 (Infineon), product
> id 0x000b (SLB 9635 TT 1.2)
> [   16.444000] input: PC Speaker as /class/input/input2
> [   16.612000] Bluetooth: Core ver 2.11
> [   16.612000] NET: Registered protocol family 31
> [   16.612000] Bluetooth: HCI device and connection manager initialized
> [   16.612000] Bluetooth: HCI socket layer initialized
> [   16.628000] iwl4965: Intel(R) Wireless WiFi Link 4965AGN driver for
> Linux, 1.1.0
> [   16.628000] iwl4965: Copyright(c) 2003-2007 Intel Corporation
> [   16.628000] ACPI: PCI Interrupt 0000:05:00.0[A] -> GSI 18 (level,
> low) -> IRQ 18
> [   16.628000] PCI: Setting latency timer of device 0000:05:00.0 to 64
> [   16.628000] iwl4965: Detected Intel Wireless WiFi Link 4965AGN
> [   16.756000] nvidia: module license 'NVIDIA' taints kernel.
> [   17.132000] ACPI: PCI Interrupt 0000:01:00.0[A] -> GSI 16 (level,
> low) -> IRQ 16
> [   17.132000] PCI: Setting latency timer of device 0000:01:00.0 to 64
> [   17.132000] NVRM: loading NVIDIA UNIX x86 Kernel Module  100.14.19
> Wed Sep 12 14:12:24 PDT 2007
> [   17.140000] iwl4965: Tunable channels: 13 802.11bg, 19 802.11a
> channels
> [   17.144000] wmaster0: Selected rate control algorithm 'iwl-4965-rs'
> [   17.168000] Bluetooth: HCI USB driver ver 2.9
> [   17.180000] usbcore: registered new interface driver hci_usb
> [   17.200000] Linux video capture interface: v2.00
> [   17.224000] usbcore: registered new interface driver hiddev
> [   17.232000] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
> (174f:8a31)
> [   17.232000] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
> -32 (exp. 26).
> [   17.240000] input: Logitech Optical USB Mouse as /class/input/input3
> [   17.240000] input: USB HID v1.10 Mouse [Logitech Optical USB Mouse]
> on usb-0000:00:1d.0-1
> [   17.240000] usbcore: registered new interface driver usbhid
> [
> 17.240000]
> /build/buildd/linux-source-2.6.22-2.6.22/drivers/hid/usbhid/hid-core.c:
> v2.6:USB HID core driver
> [   17.372000] ACPI: PCI Interrupt 0000:00:1b.0[A] -> GSI 22 (level,
> low) -> IRQ 23
> [   17.372000] PCI: Setting latency timer of device 0000:00:1b.0 to 64
> [   17.648000] Synaptics Touchpad, model: 1, fw: 6.2, id: 0x1a0b1, caps:
> 0xa04711/0x200000
> [   17.684000] input: SynPS/2 Synaptics TouchPad as /class/input/input4
> [   18.044000] usbcore: registered new interface driver uvcvideo
> [   18.044000] USB Video Class driver (v0.1.0)
> [   18.200000] lp: driver loaded but no devices found
> [   18.236000] Adding 2103480k swap on /dev/sda5.  Priority:-1 extents:1
> across:2103480k
> [   18.708000] EXT3 FS on sda6, internal journal
> [   19.968000] input: Power Button (FF) as /class/input/input5
> [   19.968000] ACPI: Power Button (FF) [PWRF]
> [   19.992000] input: Sleep Button (CM) as /class/input/input6
> [   19.992000] ACPI: Sleep Button (CM) [SLPB]
> [   19.992000] input: Lid Switch as /class/input/input7
> [   19.992000] ACPI: Lid Switch [LID]
> [   20.040000] No dock devices found.
> [   20.096000] ACPI: AC Adapter [AC0] (on-line)
> [   20.120000] ACPI: Battery Slot [BAT0] (battery present)
> [   20.136000] ACPI: Video Device [VGA] (multi-head: yes  rom: no  post:
> no)
> [   20.152000] Asus Laptop ACPI Extras version 0.30
> [   20.152000]   BSTS called, 0xfe3f returned
> [   20.152000]   unsupported model F9SG, trying default values
> [   20.152000]   send /proc/acpi/dsdt to the developers
> [   21.296000] Failure registering capabilities with primary security
> module.
> [   21.496000] ppdev: user-space parallel port driver
> [   21.544000] r8169: eth0: link down
> [   21.808000] audit(1215532382.597:3):  type=1503
> operation="inode_permission" requested_mask="a" denied_mask="a"
> name="/dev/tty" pid=5500 profile="/usr/sbin/cupsd"
> [   21.840000] apm: BIOS not found.
> [   22.136000] Bluetooth: L2CAP ver 2.8
> [   22.136000] Bluetooth: L2CAP socket layer initialized
> [   22.228000] Bluetooth: RFCOMM socket layer initialized
> [   22.228000] Bluetooth: RFCOMM TTY layer initialized
> [   22.228000] Bluetooth: RFCOMM ver 1.8
> [   59.680000] NET: Registered protocol family 17
> [   61.976000] wlan0: Initial auth_alg=0
> [   61.976000] wlan0: authenticate with AP 00:1b:2f:aa:6a:98
> [   61.976000] wlan0: RX authentication from 00:1b:2f:aa:6a:98 (alg=0
> transaction=2 status=0)
> [   61.976000] wlan0: authenticated
> [   61.976000] wlan0: associate with AP 00:1b:2f:aa:6a:98
> [   61.980000] wlan0: authentication frame received from
> 00:1b:2f:aa:6a:98, but not in authenticate state - ignored
> [   61.988000] wlan0: RX AssocResp from 00:1b:2f:aa:6a:98 (capab=0x411
> status=0 aid=1)
> [   61.988000] wlan0: associated
> [   61.988000] wlan0: WMM queue=2 aci=0 acm=0 aifs=3 cWmin=15 cWmax=1023
> burst=0
> [   61.992000] wlan0: WMM queue=3 aci=1 acm=0 aifs=7 cWmin=15 cWmax=1023
> burst=0
> [   61.992000] wlan0: WMM queue=1 aci=2 acm=0 aifs=2 cWmin=7 cWmax=15
> burst=30
> [   61.996000] wlan0: WMM queue=0 aci=3 acm=0 aifs=2 cWmin=3 cWmax=7
> burst=15
> [   70.168000] NET: Registered protocol family 10
> [   70.168000] lo: Disabled Privacy Extensions
> [   70.168000] ADDRCONF(NETDEV_UP): eth0: link is not ready
> [   80.212000] wlan0: no IPv6 routers present
> [   88.348000] usb 7-2: USB disconnect, address 3
> [  107.972000] process `skype' is using obsolete setsockopt SO_BSDCOMPAT
> [  147.112000] Inbound IN=wlan0 OUT=
> MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=87.0.178.238
> DST=192.168.0.7 LEN=47 TOS=0x00 PREC=0x00 TTL=117 ID=53536 PROTO=UDP
> SPT=58887 DPT=44929 LEN=27
> [  147.116000] Inbound IN=wlan0 OUT=
> MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=87.0.178.238
> DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=117 ID=53538 DF PROTO=TCP
> SPT=4748 DPT=44929 WINDOW=16384 RES=0x00 SYN URGP=0
> [  150.060000] Inbound IN=wlan0 OUT=
> MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=87.0.178.238
> DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=117 ID=53539 DF PROTO=TCP
> SPT=4748 DPT=44929 WINDOW=16384 RES=0x00 SYN URGP=0
> [  156.000000] Inbound IN=wlan0 OUT=
> MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=87.0.178.238
> DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=117 ID=53541 DF PROTO=TCP
> SPT=4748 DPT=44929 WINDOW=16384 RES=0x00 SYN URGP=0
> [  219.668000] Inbound IN=wlan0 OUT=
> MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=62.101.126.216
> DST=192.168.0.7 LEN=46 TOS=0x00 PREC=0x00 TTL=105 ID=64756 PROTO=UDP
> SPT=49314 DPT=44929 LEN=26
> [  278.700000] uvcvideo: Failed to query (1) UVC control 1 (unit 0) :
> -110 (exp. 26).
> [ 1044.276000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
> -110 (exp. 26).
> [ 1046.184000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
> -110 (exp. 26).
> [ 1474.320000] Inbound IN=wlan0 OUT=
> MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=151.65.211.185
> DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=119 ID=1735 DF PROTO=TCP
> SPT=1117 DPT=29263 WINDOW=65535 RES=0x00 SYN URGP=0
> [ 1474.320000] Inbound IN=wlan0 OUT=
> MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=151.65.211.185
> DST=192.168.0.7 LEN=47 TOS=0x00 PREC=0x00 TTL=119 ID=1736 PROTO=UDP
> SPT=26170 DPT=29263 LEN=27
> [ 1477.296000] Inbound IN=wlan0 OUT=
> MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=151.65.211.185
> DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=119 ID=1758 DF PROTO=TCP
> SPT=1117 DPT=29263 WINDOW=65535 RES=0x00 SYN URGP=0
> [ 1483.312000] Inbound IN=wlan0 OUT=
> MAC=00:1f:3b:1a:05:47:00:1b:2f:aa:6a:98:08:00 SRC=151.65.211.185
> DST=192.168.0.7 LEN=48 TOS=0x00 PREC=0x00 TTL=119 ID=1779 DF PROTO=TCP
> SPT=1117 DPT=29263 WINDOW=65535 RES=0x00 SYN URGP=0
> [ 1650.416000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
> -110 (exp. 26).
> [ 1895.776000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
> -110 (exp. 26).
> [ 1897.924000] uvcvideo: Failed to query (135) UVC control 6 (unit 3) :
> -110 (exp. 2).
> [ 2029.104000] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
> -110 (exp. 26).
> [ 2788.080000] usbcore: deregistering interface driver uvcvideo
> [ 2799.320000] uvcvideo: Unknown parameter `quirks'
> erwin at erwin-laptop:~$
>
>
> On Tue, 2008-07-08 at 18:54 +0200, Jaime Perea wrote:
> > El Martes, 8 de Julio de 2008, escribi?:
> > > i also tried this:
> > > erwin at erwin-laptop:~$ luvcview -f yuv
> > > luvcview version 0.2.1
> > > Video driver: x11
> > > A window manager is available
> > > video /dev/video0
> > > ERROR opening V4L interface
> > >i
> > > : No such file or directory
> > >
> > Ciao
> >
> > Since the module was not loaded no /dev/video
> > was created. You will have to try the long way
> > Please check the output of the command
> >
> > sudo dmesg
> >
> > I'm not expert at all on this issues, but at the end
> > there can be some information. For me the solution
> > was to install the new modules.
> >
> > All the best
> >
> > --
> > Jaime Perea
> >
> >
> >
> >
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>



-- 
Marco Argiolas
marco.argiolas at studenti.polito.it
arjos85 at gmail.com
skype: arjos85
msn: sarace2003 at libero.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080708/8b3dce11/attachment.html>

From marconico at tiscali.it  Wed Jul  9 00:00:29 2008
From: marconico at tiscali.it (erwin)
Date: Wed, 09 Jul 2008 00:00:29 +0200
Subject: [Linux-uvc-devel] asus f9sg webcam
In-Reply-To: <200807082338.41730.laurent.pinchart@skynet.be>
References: <1215496270.6957.5.camel@erwin-laptop>
	<200807082338.41730.laurent.pinchart@skynet.be>
Message-ID: <1215554429.6383.0.camel@erwin-laptop>

i did it now i got this
erwin at erwin-laptop:~$ mplayer tv:// -tv
driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=50
-vo x11 -v -v -v 
MPlayer 2:1.0~rc1-0ubuntu13.2+medibuntu1 (C) 2000-2006 MPlayer Team
CPU: Intel(R) Core(TM)2 Duo CPU     T8300  @ 2.40GHz (Family: 6, Model:
23, Stepping: 6)
CPUflags:  MMX: 1 MMX2: 1 3DNow: 0 3DNow2: 0 SSE: 1 SSE2: 1
Compiled with runtime CPU detection.
this_opt = option: v
Setting v=(null)
Config pushed level is now 2
Config pushed level is now 3
Setting
tv=driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=50
Setting vo=x11
get_path('codecs.conf') -> '/home/erwin/.mplayer/codecs.conf'
Reading /home/erwin/.mplayer/codecs.conf: Can't open
'/home/erwin/.mplayer/codecs.conf': No such file or directory
Reading /etc/mplayer/codecs.conf: Can't open '/etc/mplayer/codecs.conf':
No such file or directory
Using built-in default codecs.conf.
CommandLine: 'tv://' '-tv'
'driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=50'
'-vo' 'x11' '-v' '-v' '-v'
init_freetype
get_path('font/font.desc') -> '/home/erwin/.mplayer/font/font.desc'
font: can't open file: /home/erwin/.mplayer/font/font.desc
font: can't open file: /usr/share/mplayer/font/font.desc
Using MMX (with tiny bit MMX2) Optimized OnScreenDisplay
Using nanosleep() timing
get_path('input.conf') -> '/home/erwin/.mplayer/input.conf'
Can't open input config file /home/erwin/.mplayer/input.conf: No such
file or directory
Parsing input config file /etc/mplayer/input.conf
Input config file /etc/mplayer/input.conf parsed: 67 binds
Opening joystick device /dev/input/js0
Can't open joystick device /dev/input/js0: No such file or directory
Can't init input joystick
Setting up LIRC support...
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote
control.
get_path('.conf') -> '/home/erwin/.mplayer/.conf'

[[[init getch2]]]

Playing tv://.
get_path('sub/') -> '/home/erwin/.mplayer/sub/'
STREAM: [tv] tv://
STREAM: Description: TV Input
STREAM: Author: Benjamin Zores, Albeu
STREAM: Comment: 
s->pos=0  newpos=0  new_bufpos=0  buflen=0  
TV file format detected.
Selected driver: v4l2
 name: Video 4 Linux 2 input
 author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
 comment: first try, more to come ;-)
v4l2: video fd: /dev/video0: 3
v4l2: ioctl get standard failed: Invalid argument
Selected device: USB2.0 UVC PC Camera
 Capabilites:  video capture  streaming
 supported norms:
 inputs: 0 = Camera 1;
 Current input: 0
 Format YUYV   (16 bits, YUV 4:2:2 (YUYV)): Packed YUY2
 Current format: YUYV
v4l2: set format: YUYV
v4l2: ioctl set format failed: Input/output error
v4l2: set input: 0
Selected norm: pal
v4l2: ioctl enum norm failed: Invalid argument
Error: Cannot set norm!
v4l2: set width: 640
v4l2: ioctl set width failed: Input/output error
v4l2: set height: 480
Selected input hasn't got a tuner!
==> Found video stream: 0
v4l2: get format: YUYV
v4l2: get fps: nan
v4l2: get width: 640
v4l2: get height: 480
Using a ring buffer for maximum 2 frames, 1 MB total size.
v4l2: ioctl set mute failed: Invalid argument
v4l2: set Brightness: 25 [0, 128]
v4l2: set Hue: 0 [0, 5]
v4l2: set Saturation: 7 [0, 9]
v4l2: set Contrast: 10 [0, 10]
[V] filefmt:9  fourcc:0x32595559  size:640x480  fps:50.00  ftime:=0.0200
get_path('sub/') -> '/home/erwin/.mplayer/sub/'
X11 opening display: :0.0
vo: X11 color mask:  FFFFFF  (R:FF0000 G:FF00 B:FF)
vo: X11 running at 1280x800 with depth 24 and 32 bpp (":0.0" => local
display)
[x11] Detected wm supports NetWM.
[x11] Detected wm supports FULLSCREEN state.
[x11] Detected wm supports ABOVE state.
[x11] Detected wm supports BELOW state.
[x11] Current fstype setting honours FULLSCREEN ABOVE BELOW X atoms
Disabling DPMS
DPMSDisable stat: 1
xscreensaver_disable()
xscreensaver_disable: Could not find XScreenSaver window.
GNOME screensaver disabled
==========================================================================
Opening video decoder: [raw] RAW Uncompressed Video
VDec: vo config request - 640 x 480 (preferred colorspace: Packed YUY2)
Trying filter chain: vo
vo_x11: query_format was called: 32595559 (Packed YUY2)
vo_debug: query(Packed YUY2) returned 0x0 (i=0) 
Could not find matching colorspace - retrying with -vf scale...
Opening video filter: [scale]
SwScale params: -1 x -1 (-1=no scaling)
Trying filter chain: scale vo
vo_x11: query_format was called: 50343434 (Planar 444P)
scale: query(Planar 444P) -> 0
vo_x11: query_format was called: 50323234 (Planar 422P)
scale: query(Planar 422P) -> 0
vo_x11: query_format was called: 32315659 (Planar YV12)
scale: query(Planar YV12) -> 1
vo_x11: query_format was called: 30323449 (Planar I420)
scale: query(Planar I420) -> 1
vo_x11: query_format was called: 56555949 (Planar IYUV)
scale: query(Planar IYUV) -> 1
vo_x11: query_format was called: 39555659 (Planar YVU9)
scale: query(Planar YVU9) -> 0
vo_x11: query_format was called: 39304649 (Planar IF09)
scale: query(Planar IF09) -> 0
vo_x11: query_format was called: 50313134 (Planar 411P)
scale: query(Planar 411P) -> 0
vo_x11: query_format was called: 3231564e (Planar NV12)
scale: query(Planar NV12) -> 0
vo_x11: query_format was called: 3132564e (Planar NV21)
scale: query(Planar NV21) -> 0
vo_x11: query_format was called: 32595559 (Packed YUY2)
scale: query(Packed YUY2) -> 0
vo_x11: query_format was called: 59565955 (Packed UYVY)
scale: query(Packed UYVY) -> 0
vo_x11: query_format was called: 42475220 (BGRA)
scale: query(BGRA) -> 3
vo_x11: query_format was called: 42475220 (BGRA)
vo_debug: query(Packed YUY2) returned 0x4C5 (i=0) 
VDec: using Packed YUY2 as output csp (no 0)
Movie-Aspect is undefined - no prescaling applied.
VO Config (640x480->640x480,flags=0,'MPlayer',0x32595559)
scale: query(Planar 444P) -> 0
scale: query(Planar 422P) -> 0
scale: query(Planar YV12) -> 1
scale: query(Planar I420) -> 1
scale: query(Planar IYUV) -> 1
scale: query(Planar YVU9) -> 0
scale: query(Planar IF09) -> 0
scale: query(Planar 411P) -> 0
scale: query(Planar NV12) -> 0
scale: query(Planar NV21) -> 0
scale: query(Packed YUY2) -> 0
scale: query(Packed UYVY) -> 0
scale: query(BGRA) -> 3
vo_x11: query_format was called: 42475220 (BGRA)
SwScale: scaling 640x480 Packed YUY2 to 640x480 BGRA  
SwScaler: reducing / aligning filtersize 1 -> 4
SwScaler: reducing / aligning filtersize 1 -> 4
SwScaler: reducing / aligning filtersize 1 -> 1
SwScaler: reducing / aligning filtersize 1 -> 1

SwScaler: BICUBIC scaler, from yuyv422 to rgb32 using MMX2
SwScaler: using 4-tap MMX scaler for horizontal luminance scaling
SwScaler: using 4-tap MMX scaler for horizontal chrominance scaling
SwScaler: using n-tap MMX scaler for vertical scaling (BGR)
SwScaler: using MMX YV12->BGR32 Converter
SwScaler: 640x480 -> 640x480
vo_x11: query_format was called: 42475220 (BGRA)
REQ: flags=0x4C7  req=0x0  
VO: [x11] 640x480 => 640x480 BGRA 
VO: Description: X11 ( XImage/Shm )
VO: Author: Aaron Holtzman <aholtzma at ess.engr.uvic.ca>
vo_x11: query_format was called: 42475220 (BGRA)
Sharing memory.
SwScaler: using unscaled rgb32 -> rgb32 special converter
Selected video codec: [rawyuy2] vfm: raw (RAW YUY2)
==========================================================================
Audio: no sound
Freeing 0 unused audio chunks.
Starting playback...
v4l2: going to capture
v4l2: select timeout
*** [scale] Exporting mp_image_t, 640x480x16bpp YUV packed, 614400 bytes
(imgfmt: 32595559, planes: (nil),(nil),(nil) strides: 0,0,0, chroma:
0x0, shift: h:0,v:0)
*** [vo] Allocating mp_image_t, 640x480x32bpp BGR packed, 1228800 bytes
(imgfmt: 42475220, planes: 0xb4eb8040,(nil),(nil) strides: 2560,0,0,
chroma: 0x0, shift: h:0,v:0)
get_path('subfont.ttf') -> '/home/erwin/.mplayer/subfont.ttf'
Unicode font: 255 glyphs.
OSD chg: 3  V: no  pb:-1  
OSD chg: 2  V: no  pb:-1  
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
No bind found for key 'MOUSE_BTN0'.                         
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
v4l2: select timeout ??% ??,?% 0 0 
V:   0.0  39/ 39 ??% ??% ??,?% 0 0 
*** uninit(0xAC9)
Uninit video: raw
DEMUXER: freeing demuxer at 0x8a46a08
v4l2: select timeout


MPlayer interrupted by signal 8 in module: free_demuxer
- MPlayer crashed by bad usage of CPU/FPU/RAM.
  Recompile MPlayer with --enable-debug and make a 'gdb' backtrace and
  disassembly. Details in
DOCS/HTML/en/bugreports_what.html#bugreports_crash.
- MPlayer crashed. This shouldn't happen.
  It can be a bug in the MPlayer code _or_ in your drivers _or_ in your
  gcc version. If you think it's MPlayer's fault, please read
  DOCS/HTML/en/bugreports.html and follow the instructions there. We
can't and
  won't help unless you provide this information when reporting a
possible bug.

*** uninit(0xC9)
Successfully enabled DPMS
gnome_screensaver_control()
[[[uninit getch2]]]
vo: uninit ...
max framesize was 614400 bytes
erwin at erwin-laptop:~$ 



On Tue, 2008-07-08 at 23:38 +0200, Laurent Pinchart wrote:
> Hi Erwin,
> 
> On Tuesday 08 July 2008, erwin wrote:
> > Ok folks these are all the things i tried:
> > rwin at erwin-laptop:~$ sudo lsusb -d 174f:8a31 -v | grep "14 Video"
> > [sudo] password for erwin:
> >       bFunctionClass         14 Video
> >       bInterfaceClass        14 Video
> >       bInterfaceClass        14 Video
> >       bInterfaceClass        14 Video
> >       bInterfaceClass        14 Video
> >       bInterfaceClass        14 Video
> >       bInterfaceClass        14 Video
> > erwin at erwin-laptop:~$ lsmod | grep uvcvideo
> > uvcvideo               48644  0
> > compat_ioctl32          2304  1 uvcvideo
> > videodev               29312  1 uvcvideo
> > v4l1_compat            15364  2 uvcvideo,videodev
> > v4l2_common            18432  2 uvcvideo,videodev
> > usbcore               138632  8
> > uvcvideo,usbhid,hci_usb,usb_storage,libusual,uhci_hcd,ehci_hcd
> > erwin at erwin-laptop:~$ luvcview -L
> > luvcview version 0.2.1
> > Video driver: x11
> > A window manager is available
> > video /dev/video0
> > /dev/video0 does not support read i/o
> > { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
> > { discrete: width = 640, height = 480 }
> >         Time interval between frame: 1/20,
> > { discrete: width = 160, height = 120 }
> >         Time interval between frame: 1/24,
> > { discrete: width = 176, height = 144 }
> >         Time interval between frame: 1/24,
> > { discrete: width = 320, height = 240 }
> >         Time interval between frame: 1/24,
> > { discrete: width = 352, height = 288 }
> >         Time interval between frame: 1/24,
> > { discrete: width = 800, height = 600 }
> >         Time interval between frame: 1/7,
> > { discrete: width = 1024, height = 768 }
> >         Time interval between frame: 1/7,
> > { discrete: width = 1280, height = 800 }
> >         Time interval between frame: 1/7,
> > { discrete: width = 1280, height = 960 }
> >         Time interval between frame: 1/7,
> > { discrete: width = 1280, height = 1024 }
> >         Time interval between frame: 1/7,
> >
> > then i tried
> > luvcview -f yuv -s 640x480blank
> > luvcview -f yuv -s 160x120
> > luvcview -f yuv -s 176x144blank
> > luvcview -f yuv -s 320x240no
> > luvcview -f yuv -s 352x288error 5
> > luvcview -f yuv -s 800x600too big
> > luvcview -f yuv -s 1024x768too big
> > luvcview -f yuv -s 1280x800too big
> > luvcview -f yuv -s 1280x960too big
> > luvcview -f yuv -s 1280x1024too big
> > but i had only snapshot or green screen, but no streaming.
> 
> Could you please try to set the quirks parameter to 16 when loading the 
> driver ? 'modprobe uvcvideo quirks=16' or 'insmod uvcvideo.ko quirks=16' 
> should do the job.
> 
> If this works better I'll fix the driver to support your camera out of the 
> box.
> 
> Best regards,
> 
> Laurent Pinchart



From laurent.pinchart at skynet.be  Wed Jul  9 00:03:40 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 9 Jul 2008 00:03:40 +0200
Subject: [Linux-uvc-devel] asus f9sg webcam
In-Reply-To: <1215554429.6383.0.camel@erwin-laptop>
References: <1215496270.6957.5.camel@erwin-laptop>
	<200807082338.41730.laurent.pinchart@skynet.be>
	<1215554429.6383.0.camel@erwin-laptop>
Message-ID: <200807090003.40194.laurent.pinchart@skynet.be>

On Wednesday 09 July 2008, erwin wrote:
> i did it now i got this
[snip]

Please try luvcview -f yuv

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Jul  9 00:07:33 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 9 Jul 2008 00:07:33 +0200
Subject: [Linux-uvc-devel] Philips SPC620NC,
	Video garbled and Question uvc Philps SPC620NC nvidia, ati and Skype
In-Reply-To: <790038.68250.qm@web53210.mail.re2.yahoo.com>
References: <790038.68250.qm@web53210.mail.re2.yahoo.com>
Message-ID: <200807090007.33245.laurent.pinchart@skynet.be>

On Sunday 06 July 2008, Emanoil Kotsev wrote:
> > Message: 1
> > Date: Sat, 5 Jul 2008 03:10:25 -0700 (PDT)
> > From: Emanoil Kotsev <deloptes at yahoo.com>
> > Subject: Re: [Linux-uvc-devel] Philips SPC620NC,	Video
> > garbled and
> > 	Question uvc Philps SPC620NC nvidia, ati and Skype
> > To: linux-uvc-devel at lists.berlios.de
> > Message-ID:
> > <796895.52740.qm at web53201.mail.re2.yahoo.com>
> > Content-Type: text/plain; charset=us-ascii
> >
> > Hi, thanks for answering.
> >
> > I don't have time for compiling mplayer now, and I
> > don't really need it because all I want is to speak
> > over Skype with my family and my friends and this is
> > working for me.
> > mplayer tv:// -tv fps=30
>
> This works fo the SPC1000 webcam - thanks, but I think I've also updated to
> the new mplayer, or underlaying library.
>
> > http://www.blackhat.com/presentations/bh-europe-06/bh-eu-06-biondi/bh-eu-
> >06-biondi-up.pdf
>
> This was excelent article, kind of mad and confused but really good.
> Unfortunately I am not that paranoid and most of all I need a solution to
> help my friends use this app as they want to.
>
> Anyway, I think Skype shows that comercials companies are always one head
> ahead and we can not do anything for now. I hope it could change in future,
> but really doubt it, because if you have the money you have the power.
>
> So is there an alternative - no, and not using skype is also not an
> alternative, because how could I speak to my parents and friends and
> relatives?

There's a Google Summer of Code project to add voice and video chat support 
for Jabber in Kopete. In a few months that might become an alternative :-)

> Anyway, I want to thank you, Nikolaus, for your support and may be there is
> someone else on the list who has simlar configurations and can help.
>
> Once again two persons have nvidia and ati cards with proprietary drivers
> and skype is not working with the webcam, so I would like to ask you if you
> are using such kind of hard/software to share some experience with me

Best regards,

Laurent Pinchart


From deloptes at yahoo.com  Wed Jul  9 00:29:21 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Tue, 8 Jul 2008 15:29:21 -0700 (PDT)
Subject: [Linux-uvc-devel] Philips SPC620NC,
	Video garbled and Question uvc Philps SPC620NC nvidia, ati and Skype
In-Reply-To: <200807090007.33245.laurent.pinchart@skynet.be>
Message-ID: <500435.3351.qm@web53203.mail.re2.yahoo.com>




> 
> There's a Google Summer of Code project to add voice
> and video chat support 
> for Jabber in Kopete. In a few months that might become an
> alternative :-)

It sounds good and reasonable the question is how we can convince users (and mere windows users) to use Jabber or equivalent on Windows instead Skype. I know many of them pay to use the SIP function. Until everything is setup we can wait for another  few years, so I would really like to know if somebody is using following combination of software/hardware.

1) ATI/NVidia + proprietary driver
2) 3D
3) Skype
4) UVC webcam

More precisely
ATI Mobility Radeon X600
NVidia GeForce4 460
Philips SPC1000 
Philips SPC620/NC
OS: Debian or SuSE

I'm really in a big trouble as it is kind of compromising and disappointing in the same time.
They do what I tell them so I tell them 3D is good and they see it and like it.
I tell them you could use webcam buy SPC1000 or SPC620 they buy and it is not working. I tell them you have to give up 3D and they get turn the smily upside down like this :-(
We leave the political discussion aside how bad proprietary dangerous is, and I have only something that is not working and should work. 

I'm trying to get this confirmed to file a bug somewhere and hope to get it solved. Think it's known problem for ATI but may be tehre is somewhere around a working xorg.conf

Any way thanks and regards




      


From arjos85 at gmail.com  Wed Jul  9 00:34:57 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Wed, 9 Jul 2008 00:34:57 +0200
Subject: [Linux-uvc-devel] asus f9sg webcam
In-Reply-To: <1215554429.6383.0.camel@erwin-laptop>
References: <1215496270.6957.5.camel@erwin-laptop>
	<200807082338.41730.laurent.pinchart@skynet.be>
	<1215554429.6383.0.camel@erwin-laptop>
Message-ID: <879e1f2b0807081534g4598b261xfc9dd0116ad59c55@mail.gmail.com>

Hey erwin,
please don't use the old uvcvideo driver I gave you.
1) Donwload again the last version:

svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk

2) Change the Makefile as I suggested you (only for Ubuntu distros):
change this line
INSTALL_MOD_DIR := usb/media
with

INSTALL_MOD_DIR := ubuntu/media/usbvideo

3) Unload uvcvdieo and reload it with quirks parameter
sudo modprobe -r uvcvideo
sudo modprobe -v uvcvideo quirks=16


4) Then try again both:
luvcview -f yuv
mplayer tv:// -tv
driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=50 -vo
x11 -v -v -v

2008/7/9 erwin <marconico at tiscali.it>:

> i did it now i got this
> erwin at erwin-laptop:~$ mplayer tv:// -tv
> driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=50
> -vo x11 -v -v -v
> MPlayer 2:1.0~rc1-0ubuntu13.2+medibuntu1 (C) 2000-2006 MPlayer Team
> CPU: Intel(R) Core(TM)2 Duo CPU     T8300  @ 2.40GHz (Family: 6, Model:
> 23, Stepping: 6)
> CPUflags:  MMX: 1 MMX2: 1 3DNow: 0 3DNow2: 0 SSE: 1 SSE2: 1
> Compiled with runtime CPU detection.
> this_opt = option: v
> Setting v=(null)
> Config pushed level is now 2
> Config pushed level is now 3
> Setting
> tv=driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=50
> Setting vo=x11
> get_path('codecs.conf') -> '/home/erwin/.mplayer/codecs.conf'
> Reading /home/erwin/.mplayer/codecs.conf: Can't open
> '/home/erwin/.mplayer/codecs.conf': No such file or directory
> Reading /etc/mplayer/codecs.conf: Can't open '/etc/mplayer/codecs.conf':
> No such file or directory
> Using built-in default codecs.conf.
> CommandLine: 'tv://' '-tv'
> 'driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=50'
> '-vo' 'x11' '-v' '-v' '-v'
> init_freetype
> get_path('font/font.desc') -> '/home/erwin/.mplayer/font/font.desc'
> font: can't open file: /home/erwin/.mplayer/font/font.desc
> font: can't open file: /usr/share/mplayer/font/font.desc
> Using MMX (with tiny bit MMX2) Optimized OnScreenDisplay
> Using nanosleep() timing
> get_path('input.conf') -> '/home/erwin/.mplayer/input.conf'
> Can't open input config file /home/erwin/.mplayer/input.conf: No such
> file or directory
> Parsing input config file /etc/mplayer/input.conf
> Input config file /etc/mplayer/input.conf parsed: 67 binds
> Opening joystick device /dev/input/js0
> Can't open joystick device /dev/input/js0: No such file or directory
> Can't init input joystick
> Setting up LIRC support...
> mplayer: could not connect to socket
> mplayer: No such file or directory
> Failed to open LIRC support. You will not be able to use your remote
> control.
> get_path('.conf') -> '/home/erwin/.mplayer/.conf'
>
> [[[init getch2]]]
>
> Playing tv://.
> get_path('sub/') -> '/home/erwin/.mplayer/sub/'
> STREAM: [tv] tv://
> STREAM: Description: TV Input
> STREAM: Author: Benjamin Zores, Albeu
> STREAM: Comment:
> s->pos=0  newpos=0  new_bufpos=0  buflen=0
> TV file format detected.
> Selected driver: v4l2
>  name: Video 4 Linux 2 input
>  author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
>  comment: first try, more to come ;-)
> v4l2: video fd: /dev/video0: 3
> v4l2: ioctl get standard failed: Invalid argument
> Selected device: USB2.0 UVC PC Camera
>  Capabilites:  video capture  streaming
>  supported norms:
>  inputs: 0 = Camera 1;
>  Current input: 0
>  Format YUYV   (16 bits, YUV 4:2:2 (YUYV)): Packed YUY2
>  Current format: YUYV
> v4l2: set format: YUYV
> v4l2: ioctl set format failed: Input/output error
> v4l2: set input: 0
> Selected norm: pal
> v4l2: ioctl enum norm failed: Invalid argument
> Error: Cannot set norm!
> v4l2: set width: 640
> v4l2: ioctl set width failed: Input/output error
> v4l2: set height: 480
> Selected input hasn't got a tuner!
> ==> Found video stream: 0
> v4l2: get format: YUYV
> v4l2: get fps: nan
> v4l2: get width: 640
> v4l2: get height: 480
> Using a ring buffer for maximum 2 frames, 1 MB total size.
> v4l2: ioctl set mute failed: Invalid argument
> v4l2: set Brightness: 25 [0, 128]
> v4l2: set Hue: 0 [0, 5]
> v4l2: set Saturation: 7 [0, 9]
> v4l2: set Contrast: 10 [0, 10]
> [V] filefmt:9  fourcc:0x32595559  size:640x480  fps:50.00  ftime:=0.0200
> get_path('sub/') -> '/home/erwin/.mplayer/sub/'
> X11 opening display: :0.0
> vo: X11 color mask:  FFFFFF  (R:FF0000 G:FF00 B:FF)
> vo: X11 running at 1280x800 with depth 24 and 32 bpp (":0.0" => local
> display)
> [x11] Detected wm supports NetWM.
> [x11] Detected wm supports FULLSCREEN state.
> [x11] Detected wm supports ABOVE state.
> [x11] Detected wm supports BELOW state.
> [x11] Current fstype setting honours FULLSCREEN ABOVE BELOW X atoms
> Disabling DPMS
> DPMSDisable stat: 1
> xscreensaver_disable()
> xscreensaver_disable: Could not find XScreenSaver window.
> GNOME screensaver disabled
> ==========================================================================
> Opening video decoder: [raw] RAW Uncompressed Video
> VDec: vo config request - 640 x 480 (preferred colorspace: Packed YUY2)
> Trying filter chain: vo
> vo_x11: query_format was called: 32595559 (Packed YUY2)
> vo_debug: query(Packed YUY2) returned 0x0 (i=0)
> Could not find matching colorspace - retrying with -vf scale...
> Opening video filter: [scale]
> SwScale params: -1 x -1 (-1=no scaling)
> Trying filter chain: scale vo
> vo_x11: query_format was called: 50343434 (Planar 444P)
> scale: query(Planar 444P) -> 0
> vo_x11: query_format was called: 50323234 (Planar 422P)
> scale: query(Planar 422P) -> 0
> vo_x11: query_format was called: 32315659 (Planar YV12)
> scale: query(Planar YV12) -> 1
> vo_x11: query_format was called: 30323449 (Planar I420)
> scale: query(Planar I420) -> 1
> vo_x11: query_format was called: 56555949 (Planar IYUV)
> scale: query(Planar IYUV) -> 1
> vo_x11: query_format was called: 39555659 (Planar YVU9)
> scale: query(Planar YVU9) -> 0
> vo_x11: query_format was called: 39304649 (Planar IF09)
> scale: query(Planar IF09) -> 0
> vo_x11: query_format was called: 50313134 (Planar 411P)
> scale: query(Planar 411P) -> 0
> vo_x11: query_format was called: 3231564e (Planar NV12)
> scale: query(Planar NV12) -> 0
> vo_x11: query_format was called: 3132564e (Planar NV21)
> scale: query(Planar NV21) -> 0
> vo_x11: query_format was called: 32595559 (Packed YUY2)
> scale: query(Packed YUY2) -> 0
> vo_x11: query_format was called: 59565955 (Packed UYVY)
> scale: query(Packed UYVY) -> 0
> vo_x11: query_format was called: 42475220 (BGRA)
> scale: query(BGRA) -> 3
> vo_x11: query_format was called: 42475220 (BGRA)
> vo_debug: query(Packed YUY2) returned 0x4C5 (i=0)
> VDec: using Packed YUY2 as output csp (no 0)
> Movie-Aspect is undefined - no prescaling applied.
> VO Config (640x480->640x480,flags=0,'MPlayer',0x32595559)
> scale: query(Planar 444P) -> 0
> scale: query(Planar 422P) -> 0
> scale: query(Planar YV12) -> 1
> scale: query(Planar I420) -> 1
> scale: query(Planar IYUV) -> 1
> scale: query(Planar YVU9) -> 0
> scale: query(Planar IF09) -> 0
> scale: query(Planar 411P) -> 0
> scale: query(Planar NV12) -> 0
> scale: query(Planar NV21) -> 0
> scale: query(Packed YUY2) -> 0
> scale: query(Packed UYVY) -> 0
> scale: query(BGRA) -> 3
> vo_x11: query_format was called: 42475220 (BGRA)
> SwScale: scaling 640x480 Packed YUY2 to 640x480 BGRA
> SwScaler: reducing / aligning filtersize 1 -> 4
> SwScaler: reducing / aligning filtersize 1 -> 4
> SwScaler: reducing / aligning filtersize 1 -> 1
> SwScaler: reducing / aligning filtersize 1 -> 1
>
> SwScaler: BICUBIC scaler, from yuyv422 to rgb32 using MMX2
> SwScaler: using 4-tap MMX scaler for horizontal luminance scaling
> SwScaler: using 4-tap MMX scaler for horizontal chrominance scaling
> SwScaler: using n-tap MMX scaler for vertical scaling (BGR)
> SwScaler: using MMX YV12->BGR32 Converter
> SwScaler: 640x480 -> 640x480
> vo_x11: query_format was called: 42475220 (BGRA)
> REQ: flags=0x4C7  req=0x0
> VO: [x11] 640x480 => 640x480 BGRA
> VO: Description: X11 ( XImage/Shm )
> VO: Author: Aaron Holtzman <aholtzma at ess.engr.uvic.ca>
> vo_x11: query_format was called: 42475220 (BGRA)
> Sharing memory.
> SwScaler: using unscaled rgb32 -> rgb32 special converter
> Selected video codec: [rawyuy2] vfm: raw (RAW YUY2)
> ==========================================================================
> Audio: no sound
> Freeing 0 unused audio chunks.
> Starting playback...
> v4l2: going to capture
> v4l2: select timeout
> *** [scale] Exporting mp_image_t, 640x480x16bpp YUV packed, 614400 bytes
> (imgfmt: 32595559, planes: (nil),(nil),(nil) strides: 0,0,0, chroma:
> 0x0, shift: h:0,v:0)
> *** [vo] Allocating mp_image_t, 640x480x32bpp BGR packed, 1228800 bytes
> (imgfmt: 42475220, planes: 0xb4eb8040,(nil),(nil) strides: 2560,0,0,
> chroma: 0x0, shift: h:0,v:0)
> get_path('subfont.ttf') -> '/home/erwin/.mplayer/subfont.ttf'
> Unicode font: 255 glyphs.
> OSD chg: 3  V: no  pb:-1
> OSD chg: 2  V: no  pb:-1
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> No bind found for key 'MOUSE_BTN0'.
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> v4l2: select timeout ??% ??,?% 0 0
> V:   0.0  39/ 39 ??% ??% ??,?% 0 0
> *** uninit(0xAC9)
> Uninit video: raw
> DEMUXER: freeing demuxer at 0x8a46a08
> v4l2: select timeout
>
>
> MPlayer interrupted by signal 8 in module: free_demuxer
> - MPlayer crashed by bad usage of CPU/FPU/RAM.
>  Recompile MPlayer with --enable-debug and make a 'gdb' backtrace and
>  disassembly. Details in
> DOCS/HTML/en/bugreports_what.html#bugreports_crash.
> - MPlayer crashed. This shouldn't happen.
>  It can be a bug in the MPlayer code _or_ in your drivers _or_ in your
>  gcc version. If you think it's MPlayer's fault, please read
>  DOCS/HTML/en/bugreports.html and follow the instructions there. We
> can't and
>  won't help unless you provide this information when reporting a
> possible bug.
>
> *** uninit(0xC9)
> Successfully enabled DPMS
> gnome_screensaver_control()
> [[[uninit getch2]]]
> vo: uninit ...
> max framesize was 614400 bytes
> erwin at erwin-laptop:~$
>
>
>
> On Tue, 2008-07-08 at 23:38 +0200, Laurent Pinchart wrote:
> > Hi Erwin,
> >
> > On Tuesday 08 July 2008, erwin wrote:
> > > Ok folks these are all the things i tried:
> > > rwin at erwin-laptop:~$ sudo lsusb -d 174f:8a31 -v | grep "14 Video"
> > > [sudo] password for erwin:
> > >       bFunctionClass         14 Video
> > >       bInterfaceClass        14 Video
> > >       bInterfaceClass        14 Video
> > >       bInterfaceClass        14 Video
> > >       bInterfaceClass        14 Video
> > >       bInterfaceClass        14 Video
> > >       bInterfaceClass        14 Video
> > > erwin at erwin-laptop:~$ lsmod | grep uvcvideo
> > > uvcvideo               48644  0
> > > compat_ioctl32          2304  1 uvcvideo
> > > videodev               29312  1 uvcvideo
> > > v4l1_compat            15364  2 uvcvideo,videodev
> > > v4l2_common            18432  2 uvcvideo,videodev
> > > usbcore               138632  8
> > > uvcvideo,usbhid,hci_usb,usb_storage,libusual,uhci_hcd,ehci_hcd
> > > erwin at erwin-laptop:~$ luvcview -L
> > > luvcview version 0.2.1
> > > Video driver: x11
> > > A window manager is available
> > > video /dev/video0
> > > /dev/video0 does not support read i/o
> > > { pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
> > > { discrete: width = 640, height = 480 }
> > >         Time interval between frame: 1/20,
> > > { discrete: width = 160, height = 120 }
> > >         Time interval between frame: 1/24,
> > > { discrete: width = 176, height = 144 }
> > >         Time interval between frame: 1/24,
> > > { discrete: width = 320, height = 240 }
> > >         Time interval between frame: 1/24,
> > > { discrete: width = 352, height = 288 }
> > >         Time interval between frame: 1/24,
> > > { discrete: width = 800, height = 600 }
> > >         Time interval between frame: 1/7,
> > > { discrete: width = 1024, height = 768 }
> > >         Time interval between frame: 1/7,
> > > { discrete: width = 1280, height = 800 }
> > >         Time interval between frame: 1/7,
> > > { discrete: width = 1280, height = 960 }
> > >         Time interval between frame: 1/7,
> > > { discrete: width = 1280, height = 1024 }
> > >         Time interval between frame: 1/7,
> > >
> > > then i tried
> > > luvcview -f yuv -s 640x480blank
> > > luvcview -f yuv -s 160x120
> > > luvcview -f yuv -s 176x144blank
> > > luvcview -f yuv -s 320x240no
> > > luvcview -f yuv -s 352x288error 5
> > > luvcview -f yuv -s 800x600too big
> > > luvcview -f yuv -s 1024x768too big
> > > luvcview -f yuv -s 1280x800too big
> > > luvcview -f yuv -s 1280x960too big
> > > luvcview -f yuv -s 1280x1024too big
> > > but i had only snapshot or green screen, but no streaming.
> >
> > Could you please try to set the quirks parameter to 16 when loading the
> > driver ? 'modprobe uvcvideo quirks=16' or 'insmod uvcvideo.ko quirks=16'
> > should do the job.
> >
> > If this works better I'll fix the driver to support your camera out of
> the
> > box.
> >
> > Best regards,
> >
> > Laurent Pinchart
>
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>



-- 
Marco Argiolas
marco.argiolas at studenti.polito.it
arjos85 at gmail.com
skype: arjos85
msn: sarace2003 at libero.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080709/88a4e768/attachment.html>

From marconico at tiscali.it  Wed Jul  9 07:33:36 2008
From: marconico at tiscali.it (erwin)
Date: Wed, 09 Jul 2008 07:33:36 +0200
Subject: [Linux-uvc-devel] asus f9sg webcam
In-Reply-To: <200807090053.30028.laurent.pinchart@skynet.be>
References: <1215496270.6957.5.camel@erwin-laptop>
	<200807090011.50139.laurent.pinchart@skynet.be>
	<1215555867.6383.6.camel@erwin-laptop>
	<200807090053.30028.laurent.pinchart@skynet.be>
Message-ID: <1215581616.6413.2.camel@erwin-laptop>

GREAT!!!!! it works thank you so much to you all for your help.
the file to be modified on ubuntu is /etc/modprobe.d/options
On Wed, 2008-07-09 at 00:53 +0200, Laurent Pinchart wrote:
> luvcview -f yuv



From mhilzinger at linuxnewmedia.de  Wed Jul  9 09:58:32 2008
From: mhilzinger at linuxnewmedia.de (Marcel Hilzinger)
Date: Wed, 9 Jul 2008 09:58:32 +0200
Subject: [Linux-uvc-devel] Medion akoya mini
In-Reply-To: <879e1f2b0807080954t28a5c9e6qda0b0e6432806645@mail.gmail.com>
References: <20080708160609.608503030109@mail.linux-new-media.de>
	<20080708162522.EC7FA30300FB@mail.linux-new-media.de>
	<879e1f2b0807080954t28a5c9e6qda0b0e6432806645@mail.gmail.com>
Message-ID: <20080709075835.101E030300F3@mail.linux-new-media.de>

Am Dienstag, 8. Juli 2008 18:54:14 schrieb Marco Argiolas:
> Have you already tried the following command?
> mplayer tv:// -tv
> driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=20 -vo
> x11 -v -v -v

Yes, i did. Without success:

CommandLine: 'tv://' '-tv' 'driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=20' '-vo' 'x11' '-v' '-v' '-v'
init_freetype
get_path('font/font.desc') -> '/home/marcel/.mplayer/font/font.desc'
font: can't open file: /home/marcel/.mplayer/font/font.desc
font: can't open file: /usr/share/mplayer/font/font.desc
Using MMX (with tiny bit MMX2) Optimized OnScreenDisplay
get_path('fonts') -> '/home/marcel/.mplayer/fonts'
Using nanosleep() timing
get_path('input.conf') -> '/home/marcel/.mplayer/input.conf'
Can't open input config file /home/marcel/.mplayer/input.conf: No such file or 
directory
Parsing input config file /etc/mplayer/input.conf
Input config file /etc/mplayer/input.conf parsed: 81 binds
Setting up LIRC support...
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote control.
get_path('.conf') -> '/home/marcel/.mplayer/.conf'

[[[init getch2]]]

Playing tv://.
get_path('sub/') -> '/home/marcel/.mplayer/sub/'
STREAM: [tv] tv://
STREAM: Description: TV Input
STREAM: Author: Benjamin Zores, Albeu
STREAM: Comment:
s->pos=0  newpos=0  new_bufpos=0  buflen=0
TV file format detected.
Selected driver: v4l2
 name: Video 4 Linux 2 input
 author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
 comment: first try, more to come ;-)
v4l2: video fd: /dev/video0: 3
v4l2: ioctl get standard failed: Invalid argument
Selected device: BisonCam, NB Pro
 Capabilites:  video capture  streaming
supported norms:
 inputs: 0 = Camera 1;
 Current input: 0
 Format YUYV   (16 bits, YUV 4:2:2 (YUYV)): Packed YUY2
 Current format: YUYV
v4l2: ioctl set format failed: Input/output error
v4l2: ioctl set mute failed: Invalid argument
v4l2: 0 frames successfully processed, 0 frames dropped.
v4l2: up to 0 video frames buffered.
DEMUXER: freeing demuxer at 0x8afc4d0


*** uninit(0x48)

[[[uninit getch2]]]
Config poped level=2
Config poped level=1

*** uninit(0x80)



-- 
Mit freundlichen Gr??en,
Marcel Hilzinger 

Linux New Media AG, Putzbrunner Str. 71, 81739 M?nchen, Germany
Tel: +49 89 99 34 110, Fax: +49 89 99 34 1199
mhilzinger at linuxnewmedia.de - http://www.linuxnewmedia.de
----------------------------------------------------------
Linux New Media, the Pulse of Open Source: Lawrence, KS - M?laga
Manchester - M?nchen - S?o Paulo - Timisoara - Warszawa
----------------------------------------------------------
Sitz der Gesellschaft: Putzbrunner Str. 71, 81739 M?nchen
Amtsgericht M?nchen: HRB 129161
Vorstand: Rosemarie Schuster, Hermann Plank
Aufsichtsratsvorsitzender: Rudolf Strobl


From mhilzinger at linuxnewmedia.de  Wed Jul  9 09:59:41 2008
From: mhilzinger at linuxnewmedia.de (Marcel Hilzinger)
Date: Wed, 9 Jul 2008 09:59:41 +0200
Subject: [Linux-uvc-devel] Medion akoya mini
In-Reply-To: <200807082354.57434.laurent.pinchart@skynet.be>
References: <20080708160609.608503030109@mail.linux-new-media.de>
	<200807082354.57434.laurent.pinchart@skynet.be>
Message-ID: <20080709075942.7031D30300F1@mail.linux-new-media.de>

Am Dienstag, 8. Juli 2008 23:54:57 schrieb Laurent Pinchart:
> Hi Marcel,
[...]
> >
> > Nevertheless the error message remains the same:
> >
> > marcel at medion-akoya:~$ luvcview -f yuv
> > luvcview version 0.2.1
> > Video driver: x11
> > A window manager is available
> > video /dev/video0
> > Unable to set format: 5.
> >  Init v4L2 failed !! exit fatal
>
> This situation should be fixed in the latest SVN revision.

I tried revision 225. Is there a newer one?




-- 
Mit freundlichen Gr??en,
Marcel Hilzinger 

Linux New Media AG, Putzbrunner Str. 71, 81739 M?nchen, Germany
Tel: +49 89 99 34 110, Fax: +49 89 99 34 1199
mhilzinger at linuxnewmedia.de - http://www.linuxnewmedia.de
----------------------------------------------------------
Linux New Media, the Pulse of Open Source: Lawrence, KS - M?laga
Manchester - M?nchen - S?o Paulo - Timisoara - Warszawa
----------------------------------------------------------
Sitz der Gesellschaft: Putzbrunner Str. 71, 81739 M?nchen
Amtsgericht M?nchen: HRB 129161
Vorstand: Rosemarie Schuster, Hermann Plank
Aufsichtsratsvorsitzender: Rudolf Strobl


From mhilzinger at linuxnewmedia.de  Wed Jul  9 10:39:55 2008
From: mhilzinger at linuxnewmedia.de (Marcel Hilzinger)
Date: Wed, 9 Jul 2008 10:39:55 +0200
Subject: [Linux-uvc-devel] Medion akoya mini -- It works!
In-Reply-To: <20080709075835.101E030300F3@mail.linux-new-media.de>
References: <20080708160609.608503030109@mail.linux-new-media.de>
	<879e1f2b0807080954t28a5c9e6qda0b0e6432806645@mail.gmail.com>
	<20080709075835.101E030300F3@mail.linux-new-media.de>
Message-ID: <20080709083956.9E2B23030104@mail.linux-new-media.de>

Am Mittwoch, 9. Juli 2008 09:58:32 schrieb Marcel Hilzinger:
> Am Dienstag, 8. Juli 2008 18:54:14 schrieb Marco Argiolas:
> > Have you already tried the following command?
> > mplayer tv:// -tv
> > driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=20
> > -vo x11 -v -v -v
>
> Yes, i did. Without success:

I read the other threads as well, and this was the needed hint:
-----------------------------------------------------------------------------------------------------------
2) Change the Makefile as I suggested you (only for Ubuntu distros):
change this line
INSTALL_MOD_DIR := usb/media
with

INSTALL_MOD_DIR := ubuntu/media/usbvideo
------------------------------------------------------------------------------------------------------------

I'll try on opensuse 11.0 as well and report. 

Thanks a lot!


-- 
Mit freundlichen Gr??en,
Marcel Hilzinger 

Linux New Media AG, Putzbrunner Str. 71, 81739 M?nchen, Germany
Tel: +49 89 99 34 110, Fax: +49 89 99 34 1199
mhilzinger at linuxnewmedia.de - http://www.linuxnewmedia.de
----------------------------------------------------------
Linux New Media, the Pulse of Open Source: Lawrence, KS - M?laga
Manchester - M?nchen - S?o Paulo - Timisoara - Warszawa
----------------------------------------------------------
Sitz der Gesellschaft: Putzbrunner Str. 71, 81739 M?nchen
Amtsgericht M?nchen: HRB 129161
Vorstand: Rosemarie Schuster, Hermann Plank
Aufsichtsratsvorsitzender: Rudolf Strobl


From arjos85 at gmail.com  Wed Jul  9 10:59:15 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Wed, 9 Jul 2008 10:59:15 +0200
Subject: [Linux-uvc-devel] Medion akoya mini -- It works!
In-Reply-To: <20080709083956.9E2B23030104@mail.linux-new-media.de>
References: <20080708160609.608503030109@mail.linux-new-media.de>
	<879e1f2b0807080954t28a5c9e6qda0b0e6432806645@mail.gmail.com>
	<20080709075835.101E030300F3@mail.linux-new-media.de>
	<20080709083956.9E2B23030104@mail.linux-new-media.de>
Message-ID: <879e1f2b0807090159g6cc2b1adp86e441eaf8a8e828@mail.gmail.com>

Wow...very happy it works also for you!!
But thanks mainly should go to Laurent...for his new UVCVIDEO version!!
Apropos, one question for Laurent, how have you fixed this problem?

Regards,

Marco Argiolas

2008/7/9 Marcel Hilzinger <mhilzinger at linuxnewmedia.de>:

> Am Mittwoch, 9. Juli 2008 09:58:32 schrieb Marcel Hilzinger:
> > Am Dienstag, 8. Juli 2008 18:54:14 schrieb Marco Argiolas:
> > > Have you already tried the following command?
> > > mplayer tv:// -tv
> > > driver=v4l2:device=/dev/video0:outfmt=yuy2:width=640:height=480:fps=20
> > > -vo x11 -v -v -v
> >
> > Yes, i did. Without success:
>
> I read the other threads as well, and this was the needed hint:
>
> -----------------------------------------------------------------------------------------------------------
> 2) Change the Makefile as I suggested you (only for Ubuntu distros):
> change this line
> INSTALL_MOD_DIR := usb/media
> with
>
> INSTALL_MOD_DIR := ubuntu/media/usbvideo
>
> ------------------------------------------------------------------------------------------------------------
>
> I'll try on opensuse 11.0 as well and report.
>
> Thanks a lot!
>
>
> --
> Mit freundlichen Gr??en,
> Marcel Hilzinger
>
> Linux New Media AG, Putzbrunner Str. 71, 81739 M?nchen, Germany
> Tel: +49 89 99 34 110, Fax: +49 89 99 34 1199
> mhilzinger at linuxnewmedia.de - http://www.linuxnewmedia.de
> ----------------------------------------------------------
> Linux New Media, the Pulse of Open Source: Lawrence, KS - M?laga
> Manchester - M?nchen - S?o Paulo - Timisoara - Warszawa
> ----------------------------------------------------------
> Sitz der Gesellschaft: Putzbrunner Str. 71, 81739 M?nchen
> Amtsgericht M?nchen: HRB 129161
> Vorstand: Rosemarie Schuster, Hermann Plank
> Aufsichtsratsvorsitzender: Rudolf Strobl
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080709/71add1dc/attachment.html>

From mhilzinger at linuxnewmedia.de  Wed Jul  9 14:21:59 2008
From: mhilzinger at linuxnewmedia.de (Marcel Hilzinger)
Date: Wed, 9 Jul 2008 14:21:59 +0200
Subject: [Linux-uvc-devel] Medion akoya mini -- It works!
In-Reply-To: <20080709083956.9E2B23030104@mail.linux-new-media.de>
References: <20080708160609.608503030109@mail.linux-new-media.de>
	<20080709075835.101E030300F3@mail.linux-new-media.de>
	<20080709083956.9E2B23030104@mail.linux-new-media.de>
Message-ID: <20080709122202.9645230300E9@mail.linux-new-media.de>

Am Mittwoch, 9. Juli 2008 10:39:55 schrieb Marcel Hilzinger:
[...]
> > Yes, i did. Without success:
>
> I read the other threads as well, and this was the needed hint:
> ---------------------------------------------------------------------------
>-------------------------------- 2) Change the Makefile as I suggested you
> (only for Ubuntu distros): change this line
> INSTALL_MOD_DIR := usb/media
> with
>
> INSTALL_MOD_DIR := ubuntu/media/usbvideo
> ---------------------------------------------------------------------------
>---------------------------------
>
> I'll try on opensuse 11.0 as well and report.

For the archive:

Works with opensuse 11.0 as well. No need to modify the Makefile. If you have 
installed an older version of uvcvideo be sure to delete the kernel module 
under

/lib/modules/`uname -r`/updates

Then install uvcvideo again or call depmod -a

If you get an error message under KDE 4, you probably have activated the 
KDE-4-Desktop-Effects. Then call luvcview with the option -w. But for Skype 
or Kopete you have to disable the desktop effects.



-- 
Mit freundlichen Gr??en,
Marcel Hilzinger 

Linux New Media AG, Putzbrunner Str. 71, 81739 M?nchen, Germany
Tel: +49 89 99 34 110, Fax: +49 89 99 34 1199
mhilzinger at linuxnewmedia.de - http://www.linuxnewmedia.de
----------------------------------------------------------
Linux New Media, the Pulse of Open Source: Lawrence, KS - M?laga
Manchester - M?nchen - S?o Paulo - Timisoara - Warszawa
----------------------------------------------------------
Sitz der Gesellschaft: Putzbrunner Str. 71, 81739 M?nchen
Amtsgericht M?nchen: HRB 129161
Vorstand: Rosemarie Schuster, Hermann Plank
Aufsichtsratsvorsitzender: Rudolf Strobl


From hickscorp at gmail.com  Wed Jul  9 16:10:07 2008
From: hickscorp at gmail.com (MARTIN Pierre)
Date: Wed, 9 Jul 2008 16:10:07 +0200
Subject: [Linux-uvc-devel] Concurent accesses to multiple devices.
Message-ID: <79A7992D-F363-4261-90E6-3F5EB463C93F@gmail.com>

Hello list people :)

i have been posting about some issues i had a couple of monthes ago.
The company i'm working for was in the need of a system with 5  
webcams, able to shoot simultaneously "objects" from 5 different POVs.  
The generated pictures are then used for 3D modeling.

Big problem, the "object" is a horse, so the total time of shooting  
has to be around 10 seconds, not more, because holding a horse still  
for more than 10 seconds require super powers, which we don't have (Or  
are too expensive, i dont know) :)

So we bought 5 quickcam 9000 pro, since the required resolution to  
have a find 3D mesh is 1600x1200.

Actually, all the webcams are wired to a single USB hub, and a little  
application i have coded handles a very simple queue when the user  
presses the "shoot" button.
The application simply calls the uvccapture command, waits for it to  
finish, stores the result, and starts uvccapture on the next camera (/ 
dev/video0 / 1 / 2 / 3 / 4) and so on.

The task takes around 18 seconds it's a bit too much.

So i was wondering... Why not to use two USB hubs to wire the cameras,  
3 cameras on the first hub, two on the second, so the application will  
be able to shoot two cams at the same time, then again, then the one  
remaining?

So today i coded this workflow on my application, /dev/video0 to /dev/ 
video2 on the first hub, /dev/video3 and /dev/video4 on the other.
The goal was to shoot video0 / video 3 at the same time, then video1 /  
video4 at the same time, then /dev/video3.
And i was very surprised to see that the system doesn't allows me  
simultaneous requests to the driver.

Is there any solution to that?

Thanks for your time!
Pierre.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: MARTIN Pierre.vcf
Type: text/directory
Size: 3116 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080709/4c1a90b9/attachment.bin>
-------------- next part --------------



From laurent.pinchart at skynet.be  Wed Jul  9 18:00:57 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 9 Jul 2008 18:00:57 +0200
Subject: [Linux-uvc-devel] asus f9sg webcam
In-Reply-To: <1215581616.6413.2.camel@erwin-laptop>
References: <1215496270.6957.5.camel@erwin-laptop>
	<200807090053.30028.laurent.pinchart@skynet.be>
	<1215581616.6413.2.camel@erwin-laptop>
Message-ID: <200807091800.58060.laurent.pinchart@skynet.be>

Hi Erwin,

On Wednesday 09 July 2008, erwin wrote:
> GREAT!!!!! it works thank you so much to you all for your help.
> the file to be modified on ubuntu is /etc/modprobe.d/options

I'll fix the driver to support your camera out of the box without setting the 
quirks option.

Could you please send me the output of

lsusb -v -d 174f:8a31

using usbutils 0.72 or newer (0.73+ preferred) ?

Thanks.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Jul  9 18:42:35 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 9 Jul 2008 18:42:35 +0200
Subject: [Linux-uvc-devel] Medion akoya mini -- It works!
In-Reply-To: <879e1f2b0807090159g6cc2b1adp86e441eaf8a8e828@mail.gmail.com>
References: <20080708160609.608503030109@mail.linux-new-media.de>
	<20080709083956.9E2B23030104@mail.linux-new-media.de>
	<879e1f2b0807090159g6cc2b1adp86e441eaf8a8e828@mail.gmail.com>
Message-ID: <200807091842.35496.laurent.pinchart@skynet.be>

On Wednesday 09 July 2008, Marco Argiolas wrote:
> Wow...very happy it works also for you!!
> But thanks mainly should go to Laurent...for his new UVCVIDEO version!!

You're welcome :-)

> Apropos, one question for Laurent, how have you fixed this problem?

The camera doesn't support the GET_MIN and GET_MAX request on the video probe 
and commit controls. This can be worked around by setting the 
UVC_QUIRK_PROBE_MINMAX quirk. I've added this in r225.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Jul  9 18:48:01 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 9 Jul 2008 18:48:01 +0200
Subject: [Linux-uvc-devel] Concurent accesses to multiple devices.
In-Reply-To: <79A7992D-F363-4261-90E6-3F5EB463C93F@gmail.com>
References: <79A7992D-F363-4261-90E6-3F5EB463C93F@gmail.com>
Message-ID: <200807091848.02046.laurent.pinchart@skynet.be>

Hi Pierre,

On Wednesday 09 July 2008, MARTIN Pierre wrote:
> Hello list people :)
>
> i have been posting about some issues i had a couple of monthes ago.
> The company i'm working for was in the need of a system with 5
> webcams, able to shoot simultaneously "objects" from 5 different POVs.
> The generated pictures are then used for 3D modeling.
>
> Big problem, the "object" is a horse, so the total time of shooting
> has to be around 10 seconds, not more, because holding a horse still
> for more than 10 seconds require super powers, which we don't have (Or
> are too expensive, i dont know) :)
>
> So we bought 5 quickcam 9000 pro, since the required resolution to
> have a find 3D mesh is 1600x1200.
>
> Actually, all the webcams are wired to a single USB hub, and a little
> application i have coded handles a very simple queue when the user
> presses the "shoot" button.
> The application simply calls the uvccapture command, waits for it to
> finish, stores the result, and starts uvccapture on the next camera (/
> dev/video0 / 1 / 2 / 3 / 4) and so on.
>
> The task takes around 18 seconds it's a bit too much.
>
> So i was wondering... Why not to use two USB hubs to wire the cameras,
> 3 cameras on the first hub, two on the second, so the application will
> be able to shoot two cams at the same time, then again, then the one
> remaining?
>
> So today i coded this workflow on my application, /dev/video0 to /dev/
> video2 on the first hub, /dev/video3 and /dev/video4 on the other.
> The goal was to shoot video0 / video 3 at the same time, then video1 /
> video4 at the same time, then /dev/video3.
> And i was very surprised to see that the system doesn't allows me
> simultaneous requests to the driver.
>
> Is there any solution to that?

Logitech cameras don't support MJPEG compression for 1600x1200. Streaming such 
a high resolution in YUV requires a high bandwidth, and USB 2.0 doesn't 
provide enough bandwidth to stream from two 1600x1200 cameras at the same 
time.

Logitech webcams are quite slow to initialise the first time you use them, but 
might be faster the second time your run your application if you don't 
disconnect the cameras. Could you please try that and let me know if it 
helps ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Jul  9 21:29:03 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 9 Jul 2008 21:29:03 +0200
Subject: [Linux-uvc-devel] Linux 2.6.26-rc9 circular lock with uvcvideo
	on resume from hibernation
In-Reply-To: <878wwdbnjn.fsf@shaolin.home.digitalvampire.org>
References: <1215426867.5113.8.camel@pern>
	<878wwdbnjn.fsf@shaolin.home.digitalvampire.org>
Message-ID: <200807092129.03679.laurent.pinchart@skynet.be>

Hi Romano and Roland,

On Monday 07 July 2008, Roland Dreier wrote:
>  > [ 1132.942569] khubd/2264 is trying to acquire lock:
>  > [ 1132.942614]  (videodev_lock){--..}, at: [<f89e4595>]
>  > video_unregister_device+0x15/0x60 [videodev] [ 1132.942810]
>  > [ 1132.942811] but task is already holding lock:
>  > [ 1132.942890]  (&uvc_driver.open_mutex){--..}, at: [<f8a35c09>]
>  > uvc_disconnect+0x29/0x50 [uvcvideo]
>
> Thanks very much for the report (and for testing development kernels
> with lockdep enabled!).

I second this. Thanks a lot.

> I think the patch below should fix this.
>
> Laurent -- if this patch looks good to you, please forward on for
> merging.
>
> Thanks,
>   Roland
>
> ---
>
> [PATCH] uvc: Fix possible AB-BA deadlock with videodev_lock and open_mutex
>
> The uvcvideo driver's uvc_v4l2_open() method is called from videodev's
> video_open() function, which means it is called with the videodev_lock
> mutex held.  uvc_v4l2_open() then takes uvc_driver.open_mutex to check
> dev->state and avoid racing against a device disconnect, which means
> that open_mutex must nest inside videodev_lock.

The open_mutex lock's main purpose is to prevent uvc_delete() being called 
from kref_put() while an open operation is in progress. Protected dev->state 
is a side effect which might not be required.

> However uvc_disconnect() takes the open_mutex around setting
> dev->state and also around putting its device reference.  However, if
> uvc_disconnect() ends up dropping the last reference, it will call
> uvc_delete(), which calls into the videodev code to unregister its
> device, and this will end up taking videodev_lock.  This opens a
> (unlikely in practice) window for an AB-BA deadlock and also causes a
> lockdep warning because of the lock misordering.

I agree with this analysis.

> Fortunately there is no apparent reason to hold open_mutex when doing
> kref_put() in uvc_disconnect(): if uvc_v4l2_open() runs before the
> state is set to UVC_DEV_DISCONNECTED, then it will take another
> reference to the device and kref_put() won't call uvc_delete; if
> uvc_v4l2_open() runs after the state is set, it will run before
> uvc_delete(), see the state, and return immediately -- uvc_delete()
> does uvc_unregister_video() (and hence video_unregister_device(),
> which is synchronized with videodev_lock) as its first thing, so there
> is no risk of use-after-free in uvc_v4l2_open().

This introduces a race condition, see below.

> Bug diagnosed based on a lockdep warning reported by Romano Giannetti
> <romano at dea.icai.upcomillas.es>.
>
> Signed-off-by: Roland Dreier <roland at digitalvampire.org>
> ---
>  drivers/media/video/uvc/uvc_driver.c |    5 ++---
>  1 files changed, 2 insertions(+), 3 deletions(-)
>
> diff --git a/drivers/media/video/uvc/uvc_driver.c
> b/drivers/media/video/uvc/uvc_driver.c index 60ced58..5d60cb3 100644
> --- a/drivers/media/video/uvc/uvc_driver.c
> +++ b/drivers/media/video/uvc/uvc_driver.c
> @@ -1634,11 +1634,10 @@ static void uvc_disconnect(struct usb_interface
> *intf) * chance to increase the reference count (kref_get).
>  	 */
>  	mutex_lock(&uvc_driver.open_mutex);
> -
>  	dev->state |= UVC_DEV_DISCONNECTED;
> -	kref_put(&dev->kref, uvc_delete);
> -
>  	mutex_unlock(&uvc_driver.open_mutex);
> +
> +	kref_put(&dev->kref, uvc_delete);
>  }
>
>  static int uvc_suspend(struct usb_interface *intf, pm_message_t message)

uvc_disconnect()                      | uvc_v4l2_open()
...                                   |
mutex_lock(&uvc_driver.open_mutex);   |
dev->state |= UVC_DEV_DISCONNECTED;   |
mutex_unlock(&uvc_driver.open_mutex); |
                                      |
                                      | mutex_lock(&uvc_driver.open_mutex);
                                      | vdev = video_devdata(file);
                                      | video = video_get_drvdata(vdev);
                                      |
kref_put(&dev->kref, uvc_delete);     |
                                      |
                                      | if (video->dev->state...) 

kref_put() in uvc_disconnect() will call uvc_delete(), which will in turn free 
the video structure. uvc_v4l2_open() will then dereference freed memory when 
testing the device state.

I proper fix will involve videodev modifications. Fortunately, David 
Ellingsworth posted a videodev patch to address the same kind of issue a few 
days ago. Search the video4linux mailing list for a thread called "[PATCH] 
videodev: fix sysfs kobj ref count". I'm currently reviewing his patch. As 
soon as a proper fix is applied to videodev I will probably drop the 
open_mutex lock acquisition in uvc_disconnect().

In the meantime, and for kernel versions that don't include the videodev 
patch, I don't know what to choose between a race condition that can lead to 
freed memory dereference, and a AB-BA deadlock. Any opinion on that ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Jul  9 22:10:56 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 9 Jul 2008 22:10:56 +0200
Subject: [Linux-uvc-devel] Linux 2.6.26-rc9 circular lock with uvcvideo
	on resume from hibernation
In-Reply-To: <87mykq96mh.fsf@shaolin.home.digitalvampire.org>
References: <1215426867.5113.8.camel@pern>
	<200807092129.03679.laurent.pinchart@skynet.be>
	<87mykq96mh.fsf@shaolin.home.digitalvampire.org>
Message-ID: <200807092210.56678.laurent.pinchart@skynet.be>

On Wednesday 09 July 2008, Roland Dreier wrote:
>  > uvc_disconnect()                      | uvc_v4l2_open()
>  > ...                                   |
>  > mutex_lock(&uvc_driver.open_mutex);   |
>  > dev->state |= UVC_DEV_DISCONNECTED;   |
>  > mutex_unlock(&uvc_driver.open_mutex); |
>  >
>  >                                       | mutex_lock(&uvc_driver.open_mute
>  >                                       |x); vdev = video_devdata(file);
>  >                                       | video = video_get_drvdata(vdev);
>  >
>  > kref_put(&dev->kref, uvc_delete);     |
>  >
>  >                                       | if (video->dev->state...)
>  >
>  > kref_put() in uvc_disconnect() will call uvc_delete(), which will in
>  > turn free the video structure. uvc_v4l2_open() will then dereference
>  > freed memory when testing the device state.
>
> I don't believe this is correct.  I tried to explain it in my
> changelog by saying "uvc_delete() does uvc_unregister_video() (and
> hence video_unregister_device(), which is synchronized with
> videodev_lock) as its first thing, so there is no risk of
> use-after-free in uvc_v4l2_open()."
>
> In other words, the first thing uvc_delete() does is call
> uvc_unregister_video(), which will video_unregister_device().  Since
> this needs to take videodev_lock, it will wait until uvc_v4l2_open()
> returns (which it will do, since state is now UVC_DEV_DISCONNECTED).
> So the video struct will not be freed until after uvc_v4l2_open()
> returns.
>
> As far as I can see there is no use-after-free.

My bad, you seem to be right. I'll apply your patch.

Have you checked David's videodev patch ? Any opinion ?

Best regards,

Laurent Pinchart


From hickscorp at gmail.com  Thu Jul 10 09:32:03 2008
From: hickscorp at gmail.com (MARTIN Pierre)
Date: Thu, 10 Jul 2008 09:32:03 +0200
Subject: [Linux-uvc-devel] Concurent accesses to multiple devices.
In-Reply-To: <200807091848.02046.laurent.pinchart@skynet.be>
References: <79A7992D-F363-4261-90E6-3F5EB463C93F@gmail.com>
	<200807091848.02046.laurent.pinchart@skynet.be>
Message-ID: <84CCD769-518B-4EE5-997C-12D8E78FC002@gmail.com>

Hello Laurent, and thank you very much for taking time for our issue.

We already noticed this issue: at first the total time of the shooting  
is around 40 seconds. Then, it is 18 seconds :)
The problem is, that for the 3D modeling, we really need the best  
resolution available for the webcam...

Any other idea (Another cam with high res, hardware tweaking, or such  
thing...)?

Thanks!
Pierre.

On 9 juil. 08, at 18:48, Laurent Pinchart wrote:

> Hi Pierre,
>
> On Wednesday 09 July 2008, MARTIN Pierre wrote:
>> Hello list people :)
>>
>> i have been posting about some issues i had a couple of monthes ago.
>> The company i'm working for was in the need of a system with 5
>> webcams, able to shoot simultaneously "objects" from 5 different  
>> POVs.
>> The generated pictures are then used for 3D modeling.
>>
>> Big problem, the "object" is a horse, so the total time of shooting
>> has to be around 10 seconds, not more, because holding a horse still
>> for more than 10 seconds require super powers, which we don't have  
>> (Or
>> are too expensive, i dont know) :)
>>
>> So we bought 5 quickcam 9000 pro, since the required resolution to
>> have a find 3D mesh is 1600x1200.
>>
>> Actually, all the webcams are wired to a single USB hub, and a little
>> application i have coded handles a very simple queue when the user
>> presses the "shoot" button.
>> The application simply calls the uvccapture command, waits for it to
>> finish, stores the result, and starts uvccapture on the next camera  
>> (/
>> dev/video0 / 1 / 2 / 3 / 4) and so on.
>>
>> The task takes around 18 seconds it's a bit too much.
>>
>> So i was wondering... Why not to use two USB hubs to wire the  
>> cameras,
>> 3 cameras on the first hub, two on the second, so the application  
>> will
>> be able to shoot two cams at the same time, then again, then the one
>> remaining?
>>
>> So today i coded this workflow on my application, /dev/video0 to / 
>> dev/
>> video2 on the first hub, /dev/video3 and /dev/video4 on the other.
>> The goal was to shoot video0 / video 3 at the same time, then  
>> video1 /
>> video4 at the same time, then /dev/video3.
>> And i was very surprised to see that the system doesn't allows me
>> simultaneous requests to the driver.
>>
>> Is there any solution to that?
>
> Logitech cameras don't support MJPEG compression for 1600x1200.  
> Streaming such
> a high resolution in YUV requires a high bandwidth, and USB 2.0  
> doesn't
> provide enough bandwidth to stream from two 1600x1200 cameras at the  
> same
> time.
>
> Logitech webcams are quite slow to initialise the first time you use  
> them, but
> might be faster the second time your run your application if you don't
> disconnect the cameras. Could you please try that and let me know if  
> it
> helps ?
>
> Best regards,
>
> Laurent Pinchart

-------------- next part --------------
A non-text attachment was scrubbed...
Name: MARTIN Pierre.vcf
Type: text/directory
Size: 3116 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080710/4e986c2f/attachment.bin>
-------------- next part --------------



From robin.hartley at xtra.co.nz  Thu Jul 10 11:08:01 2008
From: robin.hartley at xtra.co.nz (robin.hartley)
Date: Thu, 10 Jul 2008 21:08:01 +1200
Subject: [Linux-uvc-devel] Concurent accesses to multiple devices.
In-Reply-To: <79A7992D-F363-4261-90E6-3F5EB463C93F@gmail.com>
References: <79A7992D-F363-4261-90E6-3F5EB463C93F@gmail.com>
Message-ID: <9ujb749oeemulk48uoo7ho8d6r7ggeal47@4ax.com>

Hello Pierre,
I have been chasing a similar issue with running multiple cameras &
USB bandwidth limits.

One option I have concidered, but not tried, is to use multiple USB
"root hubs", that is with the actual bus controller not the ones you
plug in the PC USB port.

There are PCI cards which have USB controllers/root hubs so by
installing a number of these you should be able to run all the cameras
at once.

Of cause it's likely you will run into PCI bus  issues once you get 5
interfaces running.

There could also be problems with the USB drivers not handling
multiple root hubs.

The other thing to consider is firewire. Very popular with the video
people although I've not used it myself.

Hope these suggestions are of some use.

Regards,
Robin




On Wed, 9 Jul 2008 16:10:07 +0200, you wrote:

>Hello list people :)
>
>i have been posting about some issues i had a couple of monthes ago.
>The company i'm working for was in the need of a system with 5  
>webcams, able to shoot simultaneously "objects" from 5 different POVs.  
>The generated pictures are then used for 3D modeling.
>
>Big problem, the "object" is a horse, so the total time of shooting  
>has to be around 10 seconds, not more, because holding a horse still  
>for more than 10 seconds require super powers, which we don't have (Or  
>are too expensive, i dont know) :)
>
>So we bought 5 quickcam 9000 pro, since the required resolution to  
>have a find 3D mesh is 1600x1200.
>
>Actually, all the webcams are wired to a single USB hub, and a little  
>application i have coded handles a very simple queue when the user  
>presses the "shoot" button.
>The application simply calls the uvccapture command, waits for it to  
>finish, stores the result, and starts uvccapture on the next camera (/ 
>dev/video0 / 1 / 2 / 3 / 4) and so on.
>
>The task takes around 18 seconds it's a bit too much.
>
>So i was wondering... Why not to use two USB hubs to wire the cameras,  
>3 cameras on the first hub, two on the second, so the application will  
>be able to shoot two cams at the same time, then again, then the one  
>remaining?
>
>So today i coded this workflow on my application, /dev/video0 to /dev/ 
>video2 on the first hub, /dev/video3 and /dev/video4 on the other.
>The goal was to shoot video0 / video 3 at the same time, then video1 /  
>video4 at the same time, then /dev/video3.
>And i was very surprised to see that the system doesn't allows me  
>simultaneous requests to the driver.
>
>Is there any solution to that?
>
>Thanks for your time!
>Pierre.


From hickscorp at gmail.com  Thu Jul 10 11:14:10 2008
From: hickscorp at gmail.com (MARTIN Pierre)
Date: Thu, 10 Jul 2008 11:14:10 +0200
Subject: [Linux-uvc-devel] Concurent accesses to multiple devices.
In-Reply-To: <9ujb749oeemulk48uoo7ho8d6r7ggeal47@4ax.com>
References: <79A7992D-F363-4261-90E6-3F5EB463C93F@gmail.com>
	<9ujb749oeemulk48uoo7ho8d6r7ggeal47@4ax.com>
Message-ID: <84576B98-3923-4050-AA3D-2EC33FD177DF@gmail.com>

Hello Robin,

Unfortunately, we need to use laptop computers for the task... The one  
in production now is an EeePC, so adding such additional hardware is  
not actualy an option for us...

Any other idea?
Thanks :)

On 10 juil. 08, at 11:08, robin.hartley wrote:

> Hello Pierre,
> I have been chasing a similar issue with running multiple cameras &
> USB bandwidth limits.
>
> One option I have concidered, but not tried, is to use multiple USB
> "root hubs", that is with the actual bus controller not the ones you
> plug in the PC USB port.
>
> There are PCI cards which have USB controllers/root hubs so by
> installing a number of these you should be able to run all the cameras
> at once.
>
> Of cause it's likely you will run into PCI bus  issues once you get 5
> interfaces running.
>
> There could also be problems with the USB drivers not handling
> multiple root hubs.
>
> The other thing to consider is firewire. Very popular with the video
> people although I've not used it myself.
>
> Hope these suggestions are of some use.
>
> Regards,
> Robin
>
>
>
>
> On Wed, 9 Jul 2008 16:10:07 +0200, you wrote:
>
>> Hello list people :)
>>
>> i have been posting about some issues i had a couple of monthes ago.
>> The company i'm working for was in the need of a system with 5
>> webcams, able to shoot simultaneously "objects" from 5 different  
>> POVs.
>> The generated pictures are then used for 3D modeling.
>>
>> Big problem, the "object" is a horse, so the total time of shooting
>> has to be around 10 seconds, not more, because holding a horse still
>> for more than 10 seconds require super powers, which we don't have  
>> (Or
>> are too expensive, i dont know) :)
>>
>> So we bought 5 quickcam 9000 pro, since the required resolution to
>> have a find 3D mesh is 1600x1200.
>>
>> Actually, all the webcams are wired to a single USB hub, and a little
>> application i have coded handles a very simple queue when the user
>> presses the "shoot" button.
>> The application simply calls the uvccapture command, waits for it to
>> finish, stores the result, and starts uvccapture on the next camera  
>> (/
>> dev/video0 / 1 / 2 / 3 / 4) and so on.
>>
>> The task takes around 18 seconds it's a bit too much.
>>
>> So i was wondering... Why not to use two USB hubs to wire the  
>> cameras,
>> 3 cameras on the first hub, two on the second, so the application  
>> will
>> be able to shoot two cams at the same time, then again, then the one
>> remaining?
>>
>> So today i coded this workflow on my application, /dev/video0 to / 
>> dev/
>> video2 on the first hub, /dev/video3 and /dev/video4 on the other.
>> The goal was to shoot video0 / video 3 at the same time, then  
>> video1 /
>> video4 at the same time, then /dev/video3.
>> And i was very surprised to see that the system doesn't allows me
>> simultaneous requests to the driver.
>>
>> Is there any solution to that?
>>
>> Thanks for your time!
>> Pierre.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: MARTIN Pierre.vcf
Type: text/directory
Size: 3116 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080710/7ea3c585/attachment.bin>
-------------- next part --------------



From jackfritt at boh.de  Thu Jul 10 15:59:12 2008
From: jackfritt at boh.de (=?ISO-8859-1?Q?J=F6rg_Esser?=)
Date: Thu, 10 Jul 2008 15:59:12 +0200
Subject: [Linux-uvc-devel] Is this a UVC device and can it be supported ?
Message-ID: <487615B0.2080604@boh.de>

modprobe uvcvideo
from todays svn showed in the log:
Jul 10 16:54:15 debian-test kernel: Linux video capture interface: v2.00
Jul 10 16:54:15 debian-test kernel: usbcore: registered new interface
driver uvcvideo
Jul 10 16:54:15 debian-test kernel: USB Video Class driver (SVN r226)

and nothing more.


A Sticker on the camera says Model AVC02EUK
www.targus.com
It has a button and a blue shining LED when
connected.


http://www.targus.com/de/product_details.asp?sku=AVC02EU
Windows driver and specification

Thx,

J?rg Esser


lsusb -vvv -d  093a:2600

Bus 001 Device 003: ID 093a:2600 Pixart Imaging, Inc.
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               1.10
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0         8
  idVendor           0x093a Pixart Imaging, Inc.
  idProduct          0x2600
  bcdDevice            1.00
  iManufacturer           1 Pixart Imaging Inc.
  iProduct                2 VGA Single Chip
  iSerial                 0
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          468
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              100mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       1
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0080  1x 128 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       2
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0100  1x 256 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       3
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0180  1x 384 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       4
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0200  1x 512 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       5
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0280  1x 640 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       6
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0300  1x 768 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       7
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0380  1x 896 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       8
      bNumEndpoints           6
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0002  1x 2 bytes
        bInterval              50
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x85  EP 5 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x03ff  1x 1023 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x06  EP 6 OUT
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0000  1x 0 bytes
        bInterval               1
Device Status:     0x0000
  (Bus Powered)



From sjensen at versanet.de  Thu Jul 10 16:08:43 2008
From: sjensen at versanet.de (Stefan Jensen)
Date: Thu, 10 Jul 2008 16:08:43 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
Message-ID: <487617EB.1000607@lounge-warrior.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi,

is any of the motion/tracking features of the "Logitech Quickcam
Sphere AF" supported by uvcvideo? Is there any way to control the
internal motors of this cam from linux?

best regards

Stefan Jensen
- --
GPG/PGP Key ID: 0x6096EFC5
Fingerprint: DF2F 1DB1 7993 966E 96D3 45BE 4851 108F 6096 EFC5
http://pgpkeys.pca.dfn.de/pks/lookup?search=0x6096EFC5
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (GNU/Linux)

iD8DBQFIdhfhSFEQj2CW78URAuAaAJwI5R1OcPQ2bdiCmGzzIlNeAXGolgCgvFK2
+w2inv2jhMEzBx2+4sNhpLM=
=bTaN
-----END PGP SIGNATURE-----


From laurent.pinchart at skynet.be  Thu Jul 10 18:32:38 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 10 Jul 2008 18:32:38 +0200
Subject: [Linux-uvc-devel] Is this a UVC device and can it be supported ?
In-Reply-To: <487615B0.2080604@boh.de>
References: <487615B0.2080604@boh.de>
Message-ID: <200807101832.38975.laurent.pinchart@skynet.be>

Hi J?rg,

On Thursday 10 July 2008, J?rg Esser wrote:
> modprobe uvcvideo
> from todays svn showed in the log:
> Jul 10 16:54:15 debian-test kernel: Linux video capture interface: v2.00
> Jul 10 16:54:15 debian-test kernel: usbcore: registered new interface
> driver uvcvideo
> Jul 10 16:54:15 debian-test kernel: USB Video Class driver (SVN r226)
>
> and nothing more.
>
>
> A Sticker on the camera says Model AVC02EUK
> www.targus.com
> It has a button and a blue shining LED when
> connected.
>
>
> http://www.targus.com/de/product_details.asp?sku=AVC02EU
> Windows driver and specification

I'm afraid your camera is not UVC compatible.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Jul 10 19:03:51 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 10 Jul 2008 19:03:51 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <487617EB.1000607@lounge-warrior.org>
References: <487617EB.1000607@lounge-warrior.org>
Message-ID: <200807101903.52045.laurent.pinchart@skynet.be>

Hi Stefan,

On Thursday 10 July 2008, Stefan Jensen wrote:
> Hi,
>
> is any of the motion/tracking features of the "Logitech Quickcam
> Sphere AF" supported by uvcvideo? Is there any way to control the
> internal motors of this cam from linux?

Face tracking is implemented in Windows as a software-only module. There is 
currently no similar Linux software that I know of.

Pan/tilt is supported by the Linux driver. As motion control is implemented as 
a vendor extension in Logitech webcams, the uvcvideo driver needs to be 
configured to handle those extensions. You will need the uvcdynctrl software, 
part of the libwebcam package available on 
http://www.quickcamteam.net/software/libwebcam/. Please checkout the latest 
version from SVN, the 0.1.1 package is already outdated.

A README is provided in the uvcdynctrl sources and explains how to use 
uvcdynctrl with udev.

Once the uvcvideo driver is configured, new V4L2 controls will be available to 
control pan and tilt.

Best regards,

Laurent Pinchart


From sjensen at versanet.de  Fri Jul 11 10:33:36 2008
From: sjensen at versanet.de (Stefan Jensen)
Date: Fri, 11 Jul 2008 10:33:36 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <200807101903.52045.laurent.pinchart@skynet.be>
References: <487617EB.1000607@lounge-warrior.org>
	<200807101903.52045.laurent.pinchart@skynet.be>
Message-ID: <48771AE0.1080104@lounge-warrior.org>

> Face tracking is implemented in Windows as a software-only module. There is 
> currently no similar Linux software that I know of.

Ok, i don't really expected this. ;-) I just need to have a scriptable pan/tilt
function for a basic webcam.

> Pan/tilt is supported by the Linux driver. As motion control is implemented as 
> a vendor extension in Logitech webcams, the uvcvideo driver needs to be 

This is more than i expected, really nice. So, i just ordered my cam.

Thanks for help

Stefan
--


From mauricio.foliveira at gmail.com  Fri Jul 11 20:41:53 2008
From: mauricio.foliveira at gmail.com (Mauricio Faria de Oliveira)
Date: Fri, 11 Jul 2008 15:41:53 -0300
Subject: [Linux-uvc-devel] New UVC Compliant WebCam
In-Reply-To: <mailman.7098.1215799916.5435.linux-uvc-devel@lists.berlios.de>
References: <mailman.7098.1215799916.5435.linux-uvc-devel@lists.berlios.de>
Message-ID: <ec9c0a370807111141m584c7e18pdc91d5f1af6617fa@mail.gmail.com>

Hi, all. (=

The gspca driver didn't work out for my webcam.
Then I tried linux-uvc and everything is running fine.

As my webcam model was not listed in the Supported Devices page, here it goes:
ID 0ac8:332d Z-Star Microelectronics Corp.
It is also identified (see lsusb.txt) as Vega 2.0 USB Camera, the
device is manufactured by AOC [ www.aoc.com ].

The output of lsusb for the device is attached [ lsusb.txt ].

Regards,
Mauricio, Brazil


From laurent.pinchart at skynet.be  Fri Jul 11 21:32:49 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 11 Jul 2008 21:32:49 +0200
Subject: [Linux-uvc-devel] New UVC Compliant WebCam
In-Reply-To: <ec9c0a370807111141m584c7e18pdc91d5f1af6617fa@mail.gmail.com>
References: <mailman.7098.1215799916.5435.linux-uvc-devel@lists.berlios.de>
	<ec9c0a370807111141m584c7e18pdc91d5f1af6617fa@mail.gmail.com>
Message-ID: <200807112132.49857.laurent.pinchart@skynet.be>

On Friday 11 July 2008, Mauricio Faria de Oliveira wrote:
> Hi, all. (=
>
> The gspca driver didn't work out for my webcam.
> Then I tried linux-uvc and everything is running fine.
>
> As my webcam model was not listed in the Supported Devices page, here it
> goes: ID 0ac8:332d Z-Star Microelectronics Corp.
> It is also identified (see lsusb.txt) as Vega 2.0 USB Camera, the
> device is manufactured by AOC [ www.aoc.com ].
>
> The output of lsusb for the device is attached [ lsusb.txt ].

Are you sure about that ? :-)

Best regards,

Laurent Pinchart


From arjos85 at gmail.com  Sat Jul 12 10:31:54 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Sat, 12 Jul 2008 10:31:54 +0200
Subject: [Linux-uvc-devel] How can I change sensor-chip register value to
	flip the image?
Message-ID: <879e1f2b0807120131o554a613cye2fa6510a30ff80f@mail.gmail.com>

Hi all,
just few weeks ago I made a patch for the uvcvideo driver in order to flip
webcam images.
I thought it wasn't possible to ask the webcam to flip the image by itself!!

But now, surfing on internet I found this:
http://serialize.blogspot.com/2008/02/asus-g1s-a1-13m-pixel-webcam-adventure.html

I have the same webcam described in that post:
174f:5a35 , Sonix Technology Co., Ltd. , USB 2.0 Camera

So now I know my webcam can flip the image just changing one bit in a
register:
1E MVFP 00 RW  Mirror / Vertical Flip Enable
               Bit[7:6] Reserved
               Bit[5] Mirror
                 0: Normal Image
                 1: Mirror Image
               Bit[4] Vertical Flip
                 0: Vertical Flip Disable
                 1: Vertical Flip Enable
               Bit[3:0] Reserved

You can download
here<http://rapidshare.com/files/94672360/OV9655-datasheet.pdf.html>the
datasheet of my webcam chip:
http://rapidshare.com/files/94672360/OV9655-datasheet.pdf.html

Do someone have any ideas on how to change the 4th bit of the register at
the address 1E?
In the datasheet there is also written that: "The device slave addresses are
60 for write and 61 for read."

Any suggestion will be surely useful!!!
Thank you very much!!

Marco Argiolas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080712/002a127c/attachment.html>

From arjos85 at gmail.com  Sat Jul 12 11:29:50 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Sat, 12 Jul 2008 11:29:50 +0200
Subject: [Linux-uvc-devel] How can I change sensor-chip register value
	to flip the image?
In-Reply-To: <879e1f2b0807120131o554a613cye2fa6510a30ff80f@mail.gmail.com>
References: <879e1f2b0807120131o554a613cye2fa6510a30ff80f@mail.gmail.com>
Message-ID: <879e1f2b0807120229m15f75293t7a9141f25158c65e@mail.gmail.com>

The big problem is that the datasheet is just about the sensor-chip.
This chip is embedded in a D-Max board!!
But D-Max doesn't gives information aobut the firmware or how to configure
the webcam chip:
http://www.d-max.com.tw/VGA_UVC%201.html

So..I thinik my purpose is quite impossible!!

Any suggestion?

2008/7/12 Marco Argiolas <arjos85 at gmail.com>:

> Hi all,
> just few weeks ago I made a patch for the uvcvideo driver in order to flip
> webcam images.
> I thought it wasn't possible to ask the webcam to flip the image by
> itself!!
>
> But now, surfing on internet I found this:
>
> http://serialize.blogspot.com/2008/02/asus-g1s-a1-13m-pixel-webcam-adventure.html
>
> I have the same webcam described in that post:
> 174f:5a35 , Sonix Technology Co., Ltd. , USB 2.0 Camera
>
> So now I know my webcam can flip the image just changing one bit in a
> register:
> 1E MVFP 00 RW  Mirror / Vertical Flip Enable
>                Bit[7:6] Reserved
>                Bit[5] Mirror
>                  0: Normal Image
>                  1: Mirror Image
>                Bit[4] Vertical Flip
>                  0: Vertical Flip Disable
>                  1: Vertical Flip Enable
>                Bit[3:0] Reserved
>
> You can download here<http://rapidshare.com/files/94672360/OV9655-datasheet.pdf.html>the datasheet of my webcam chip:
> http://rapidshare.com/files/94672360/OV9655-datasheet.pdf.html
>
> Do someone have any ideas on how to change the 4th bit of the register at
> the address 1E?
> In the datasheet there is also written that: "The device slave addresses
> are 60 for write and 61 for read."
>
> Any suggestion will be surely useful!!!
> Thank you very much!!
>
> Marco Argiolas
>



-- 
Marco Argiolas
marco.argiolas at studenti.polito.it
arjos85 at gmail.com
skype: arjos85
msn: sarace2003 at libero.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080712/665eb996/attachment.html>

From laurent.pinchart at skynet.be  Sat Jul 12 12:53:48 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sat, 12 Jul 2008 12:53:48 +0200
Subject: [Linux-uvc-devel] How can I change sensor-chip register value
	to flip the image?
In-Reply-To: <879e1f2b0807120131o554a613cye2fa6510a30ff80f@mail.gmail.com>
References: <879e1f2b0807120131o554a613cye2fa6510a30ff80f@mail.gmail.com>
Message-ID: <200807121253.49863.laurent.pinchart@skynet.be>

Hi Marco,

On Saturday 12 July 2008, Marco Argiolas wrote:
> Hi all,
> just few weeks ago I made a patch for the uvcvideo driver in order to flip
> webcam images.
> I thought it wasn't possible to ask the webcam to flip the image by
> itself!!
>
> But now, surfing on internet I found this:
> http://serialize.blogspot.com/2008/02/asus-g1s-a1-13m-pixel-webcam-adventur
>e.html
>
> I have the same webcam described in that post:
> 174f:5a35 , Sonix Technology Co., Ltd. , USB 2.0 Camera
>
> So now I know my webcam can flip the image just changing one bit in a
> register:
> 1E MVFP 00 RW  Mirror / Vertical Flip Enable
>                Bit[7:6] Reserved
>                Bit[5] Mirror
>                  0: Normal Image
>                  1: Mirror Image
>                Bit[4] Vertical Flip
>                  0: Vertical Flip Disable
>                  1: Vertical Flip Enable
>                Bit[3:0] Reserved
>
> You can download
> here<http://rapidshare.com/files/94672360/OV9655-datasheet.pdf.html>the
> datasheet of my webcam chip:
> http://rapidshare.com/files/94672360/OV9655-datasheet.pdf.html
>
> Do someone have any ideas on how to change the 4th bit of the register at
> the address 1E?
> In the datasheet there is also written that: "The device slave addresses
> are 60 for write and 61 for read."

Your webcam module is made of two chipsets, a CMOS sensor and a USB bridge. 
The sensor, an OV9655, is controlled by the USB bridge firmware through its 
I2C interface.

With pre-UVC bridges, I2C registers were configured by the driver on the host. 
Flipping the image, if supported by the sensor, was quite easy provided you 
have the bridge and sensor documentation.

UVC brought a new standardised interface on the USB side, and the sensor is 
now configured by the firmware running on the bridge. There is no standard 
way to access the I2C bus from the host. To make specific sensor features 
configurable by the driver, the firmware has to implement an extension unit 
with proprietary controls and map those controls to I2C register operations. 
For instance, a firmware could implement a vertical flip and an horizontal 
flip control, and write the appropriate values to the sensor's I2C registers. 
Even though this model seems more complex, it makes sense to abstracts the 
sensor behind an extension unit so that only the firmware has to care about 
sensor-specific information. The host driver sees functions, the firmware 
translate between those functions and the low-level, vendor-specific 
commands.

Sonix predefined two extension units in their firmware SDK called XU1 and XU2. 
Their GUID are

{0x28f03370, 0x6311, 0x4a2e, {0xba, 0x2c, 0x68, 0x90, 0xeb, 0x33, 0x40, 0x16}}
{0x2812ae3f, 0xbcd7, 0x4e11, {0xa3, 0x57, 0x6f, 0x1e, 0xde, 0xf7, 0xd6, 0x1d}}

XU1 implements 5 controls to read and write from ASIC registers, I2C 
registers, serial flash and runtime variables, and to read from the internal 
ROM.

XU2 implements up to 8 controls that can be used by module vendors through 
custom firmware modifications.

Sonix ships a default firmware that doesn't support XU2. Many webcam modules 
vendors don't bother adding extra functions and ship their device with that 
default firmware. If you look at the lsusb -v output for your camera you will 
notice that only XU1 is implemented, so the vendor didn't explicitly provide 
a way to access the vertical and horizontal flip functions.

Even though XU1 can be used to read and write I2C registers, that control is 
often not implemented, or at least not exposed, by the firmware. The 
bmControls field in the extension unit is a bitmask that list the supported 
controls. The individual bits, from left to right, are

7-5	Reserved
4	Runtime variables read/write
3	Internal ROM read
2	Serial flash read/write
1	I2C read/write
0	ASIC registers read/write

Your camera has bmControls set to 0x01, which means the I2C read/write control 
is marked as supported. However, it might still be supported in the firmware 
but marked as unsupported so that applications will not try to access it.

Even if the I2C read/write control is not available, it might still be 
possible to access the I2C bus through the ASIC registers. Unfortunately, the 
I2C-related ASIC registers are not documented, but it might be possible to 
reverse-engineer the binary-only firmware to gather information about those 
registers. Another option, of course, would be to ask Sonix for more 
information.

I would personally try the I2C read/write control first, even if the camera 
claims not to implement it.

To read an I2C register, you will first have to issue a SET_CUR query followed 
by a GET_CUR query.

The I2C read/write control is 8 bytes long. Here is how Sonix documents it.

SET_CUR

   Index Field Name  Description
   0x00  SlaveID     I2C slave ID
   0x01  Length      Number of bytes to read/write to the I2C slave
   0x02  Data0       I2C data field 0 (I2C slave sub-address)
   0x03  Data1       I2C data field 1
   0x04  Data2       I2C data field 2
   0x05  Data3       I2C data field 3
   0x06  Data4       I2C data field 4
   0x07  Dummy       0x00: write
                     0xff: read

GET_CUR

   Index Field Name  Description
   0x00  SlaveID     I2C slave ID
   0x01  Length      Number of bytes issued by SET_CUR
   0x02  Data0       Data 0 issued by SET_CUR
   0x03  Data1       Retrieved I2C data field 0
   0x04  Data2       Retrieved I2C data field 1
   0x05  Data3       Retrieved I2C data field 2
   0x06  Data4       Retrieved I2C data field 3
   0x07  Fixed       0x00

I have no other information so you will probably have to experiment a bit. For 
instance I don't know if the I2C slave ID is the 8-bit device address (60 for 
write, 61 for read - or is it 0x60 and 0x61 ?) or the 7-bit device address 
(30 or 0x30). I'm also not sure what the length field should be set to in the 
SET_CUR command. For a 8-bit register read I would guess it should be set to 
1.

Could you try to tweak the driver to read the PID and VER OV9655 registers and 
see how the camera behaves ?

Best regards,

Laurent Pinchart


From deloptes at yahoo.com  Sat Jul 12 15:22:23 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Sat, 12 Jul 2008 06:22:23 -0700 (PDT)
Subject: [Linux-uvc-devel] Concurent accesses to multiple devices.
In-Reply-To: <mailman.111.1215684126.29355.linux-uvc-devel@lists.berlios.de>
Message-ID: <588184.81629.qm@web53211.mail.re2.yahoo.com>


> 
> Unfortunately, we need to use laptop computers for the
> task... The one  
> in production now is an EeePC, so adding such additional

sounds like VW beatle and you are trying to make a ferrari out of it...

Why not try a normal dual core notebook and report the results here again?

Also please consider using a USB - PCMCIA for few of the cams this could give you additional root hub device.

It's just an idea of what I would try?

regars



      


From arjos85 at gmail.com  Sat Jul 12 20:03:21 2008
From: arjos85 at gmail.com (Marco Argiolas)
Date: Sat, 12 Jul 2008 20:03:21 +0200
Subject: [Linux-uvc-devel] How can I change sensor-chip register value
	to flip the image?
In-Reply-To: <200807121253.49863.laurent.pinchart@skynet.be>
References: <879e1f2b0807120131o554a613cye2fa6510a30ff80f@mail.gmail.com>
	<200807121253.49863.laurent.pinchart@skynet.be>
Message-ID: <879e1f2b0807121103l1712843fj7c1354c1ce785fb@mail.gmail.com>

Hi Laurent,
thank you very much for all these information.

Since it's the first time I heard about I2C, now I need to study how I2C
works and how I can exploit it.

I will let you know every single step I will do!!

Regards,

Marco Argiolas

2008/7/12 Laurent Pinchart <laurent.pinchart at skynet.be>:

> Hi Marco,
>
> On Saturday 12 July 2008, Marco Argiolas wrote:
> > Hi all,
> > just few weeks ago I made a patch for the uvcvideo driver in order to
> flip
> > webcam images.
> > I thought it wasn't possible to ask the webcam to flip the image by
> > itself!!
> >
> > But now, surfing on internet I found this:
> >
> http://serialize.blogspot.com/2008/02/asus-g1s-a1-13m-pixel-webcam-adventur
> >e.html
> >
> > I have the same webcam described in that post:
> > 174f:5a35 , Sonix Technology Co., Ltd. , USB 2.0 Camera
> >
> > So now I know my webcam can flip the image just changing one bit in a
> > register:
> > 1E MVFP 00 RW  Mirror / Vertical Flip Enable
> >                Bit[7:6] Reserved
> >                Bit[5] Mirror
> >                  0: Normal Image
> >                  1: Mirror Image
> >                Bit[4] Vertical Flip
> >                  0: Vertical Flip Disable
> >                  1: Vertical Flip Enable
> >                Bit[3:0] Reserved
> >
> > You can download
> > here<http://rapidshare.com/files/94672360/OV9655-datasheet.pdf.html>the
> > datasheet of my webcam chip:
> > http://rapidshare.com/files/94672360/OV9655-datasheet.pdf.html
> >
> > Do someone have any ideas on how to change the 4th bit of the register at
> > the address 1E?
> > In the datasheet there is also written that: "The device slave addresses
> > are 60 for write and 61 for read."
>
> Your webcam module is made of two chipsets, a CMOS sensor and a USB bridge.
> The sensor, an OV9655, is controlled by the USB bridge firmware through its
> I2C interface.
>
> With pre-UVC bridges, I2C registers were configured by the driver on the
> host.
> Flipping the image, if supported by the sensor, was quite easy provided you
> have the bridge and sensor documentation.
>
> UVC brought a new standardised interface on the USB side, and the sensor is
> now configured by the firmware running on the bridge. There is no standard
> way to access the I2C bus from the host. To make specific sensor features
> configurable by the driver, the firmware has to implement an extension unit
> with proprietary controls and map those controls to I2C register
> operations.
> For instance, a firmware could implement a vertical flip and an horizontal
> flip control, and write the appropriate values to the sensor's I2C
> registers.
> Even though this model seems more complex, it makes sense to abstracts the
> sensor behind an extension unit so that only the firmware has to care about
> sensor-specific information. The host driver sees functions, the firmware
> translate between those functions and the low-level, vendor-specific
> commands.
>
> Sonix predefined two extension units in their firmware SDK called XU1 and
> XU2.
> Their GUID are
>
> {0x28f03370, 0x6311, 0x4a2e, {0xba, 0x2c, 0x68, 0x90, 0xeb, 0x33, 0x40,
> 0x16}}
> {0x2812ae3f, 0xbcd7, 0x4e11, {0xa3, 0x57, 0x6f, 0x1e, 0xde, 0xf7, 0xd6,
> 0x1d}}
>
> XU1 implements 5 controls to read and write from ASIC registers, I2C
> registers, serial flash and runtime variables, and to read from the
> internal
> ROM.
>
> XU2 implements up to 8 controls that can be used by module vendors through
> custom firmware modifications.
>
> Sonix ships a default firmware that doesn't support XU2. Many webcam
> modules
> vendors don't bother adding extra functions and ship their device with that
> default firmware. If you look at the lsusb -v output for your camera you
> will
> notice that only XU1 is implemented, so the vendor didn't explicitly
> provide
> a way to access the vertical and horizontal flip functions.
>
> Even though XU1 can be used to read and write I2C registers, that control
> is
> often not implemented, or at least not exposed, by the firmware. The
> bmControls field in the extension unit is a bitmask that list the supported
> controls. The individual bits, from left to right, are
>
> 7-5     Reserved
> 4       Runtime variables read/write
> 3       Internal ROM read
> 2       Serial flash read/write
> 1       I2C read/write
> 0       ASIC registers read/write
>
> Your camera has bmControls set to 0x01, which means the I2C read/write
> control
> is marked as supported. However, it might still be supported in the
> firmware
> but marked as unsupported so that applications will not try to access it.
>
> Even if the I2C read/write control is not available, it might still be
> possible to access the I2C bus through the ASIC registers. Unfortunately,
> the
> I2C-related ASIC registers are not documented, but it might be possible to
> reverse-engineer the binary-only firmware to gather information about those
> registers. Another option, of course, would be to ask Sonix for more
> information.
>
> I would personally try the I2C read/write control first, even if the camera
> claims not to implement it.
>
> To read an I2C register, you will first have to issue a SET_CUR query
> followed
> by a GET_CUR query.
>
> The I2C read/write control is 8 bytes long. Here is how Sonix documents it.
>
> SET_CUR
>
>   Index Field Name  Description
>   0x00  SlaveID     I2C slave ID
>   0x01  Length      Number of bytes to read/write to the I2C slave
>   0x02  Data0       I2C data field 0 (I2C slave sub-address)
>   0x03  Data1       I2C data field 1
>   0x04  Data2       I2C data field 2
>   0x05  Data3       I2C data field 3
>   0x06  Data4       I2C data field 4
>   0x07  Dummy       0x00: write
>                     0xff: read
>
> GET_CUR
>
>   Index Field Name  Description
>   0x00  SlaveID     I2C slave ID
>   0x01  Length      Number of bytes issued by SET_CUR
>   0x02  Data0       Data 0 issued by SET_CUR
>   0x03  Data1       Retrieved I2C data field 0
>   0x04  Data2       Retrieved I2C data field 1
>   0x05  Data3       Retrieved I2C data field 2
>   0x06  Data4       Retrieved I2C data field 3
>   0x07  Fixed       0x00
>
> I have no other information so you will probably have to experiment a bit.
> For
> instance I don't know if the I2C slave ID is the 8-bit device address (60
> for
> write, 61 for read - or is it 0x60 and 0x61 ?) or the 7-bit device address
> (30 or 0x30). I'm also not sure what the length field should be set to in
> the
> SET_CUR command. For a 8-bit register read I would guess it should be set
> to
> 1.
>
> Could you try to tweak the driver to read the PID and VER OV9655 registers
> and
> see how the camera behaves ?
>
> Best regards,
>
> Laurent Pinchart
>



-- 
Marco Argiolas
marco.argiolas at studenti.polito.it
arjos85 at gmail.com
skype: arjos85
msn: sarace2003 at libero.it
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080712/ec652c37/attachment.html>

From lists at brachttal.net  Sun Jul 13 00:36:47 2008
From: lists at brachttal.net (Andreas Volz)
Date: Sun, 13 Jul 2008 00:36:47 +0200
Subject: [Linux-uvc-devel] Skype not working
Message-ID: <20080713003647.3f64ecd7@frodo.mittelerde>

Hello,

my video camera (Panasonic NV-GS37) works well with USB and uvcvideo
driver. I could see the video in ekiga. But if I try to use it in skype
I get this:

Skype V4L2: Could not find a suitable capture format
Skype V4L2: Could not find a suitable capture format
Starting the process...
Skype Xv: Xv ports available: 64
Skype XShm: XShm support enabled
Skype Xv: Using Xv port 325
Skype Xv: No suitable overlay format found

Here is the output of v4l-info:

http://pastebin.com/m9a620eb

Any ideas why it doesn't work? And any ideas why there're so much
errors in the v4l-info output? Is the uvcvideo driver not providing all
capabilities?

regards
Andreas


From moreno.marzolla at pd.infn.it  Sun Jul 13 11:54:18 2008
From: moreno.marzolla at pd.infn.it (Moreno Marzolla)
Date: Sun, 13 Jul 2008 11:54:18 +0200
Subject: [Linux-uvc-devel] Problems setting manual exposure on Creative
	Live! Cam Optia
Message-ID: <4879D0CA.6070101@pd.infn.it>

Hi all,

I'm trying to play around with the manual exposure settings of my 
Creative Live! Cam Optia (the non-AF version), in order to address the 
everexposure issues I described in another post 
(https://lists.berlios.de/pipermail/linux-uvc-devel/2008-June/003658.html).
Unfortunately, there seems to be problems with manual exposure on this 
camera: I am experiencing the exact same problem described here: 
http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg02799.html, 
that is, manual exposure can be set, but every value results in an 
overexposed image no matter what value I use (lower ones or higher ones 
do not matter).

I'm working on a debian 4.0 machine (debian kernel 2.6.18-6-686) with 
the latest (as far as I know) version of the uvcvideo module:

moreno at colossus:~$ /sbin/modinfo uvcvideo
filename:       /lib/modules/2.6.18-6-686/usb/media/uvcvideo.ko
version:        SVN r228

I'm also using the latest svn version of uvcdynctrl

moreno at colossus:~$ uvcdynctrl --version
uvcdynctrl 0.2

This is the output of uvcdynctrl -c -v:

----------

Listing available controls for device video0:
   Exposure, Auto Priority
     ID      : 0x00000010,
     Type    : Boolean,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : [ 20 .. 5000, step size: 1 ],
     Default : 79
   Exposure (Absolute)
     ID      : 0x00000011,
     Type    : Dword,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : [ 20 .. 5000, step size: 1 ],
     Default : 79
   Exposure, Auto
     ID      : 0x0000000f,
     Type    : Choice,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : { 'Manual Mode'[0], 'Auto Mode'[1], 'Shutter Priority 
Mode'[2], 'Aperture Priority Mode'[3] },
     Default : 1
   Sharpness
     ID      : 0x00000007,
     Type    : Dword,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : [ 0 .. 96, step size: 1 ],
     Default : 40
   Power Line Frequency
     ID      : 0x0000000d,
     Type    : Choice,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : { 'Disabled'[0], '50 Hz'[1], '60 Hz'[2] },
     Default : 0
   Gamma
     ID      : 0x00000006,
     Type    : Dword,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : [ 0 .. 7, step size: 1 ],
     Default : 3
   Hue
     ID      : 0x00000005,
     Type    : Dword,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : [ -4 .. 4, step size: 1 ],
     Default : 0
   Saturation
     ID      : 0x00000004,
     Type    : Dword,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : [ 0 .. 8, step size: 1 ],
     Default : 3
   Contrast
     ID      : 0x00000002,
     Type    : Dword,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : [ 0 .. 6, step size: 1 ],
     Default : 2
   Brightness
     ID      : 0x00000001,
     Type    : Dword,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : [ 0 .. 100, step size: 1 ],
     Default : 30

----------

There is something I don't understand: the Exposure (Auto Priority) control:

   Exposure, Auto Priority
     ID      : 0x00000010,
     Type    : Boolean,
     Flags   : { CAN_READ, CAN_WRITE },
     Values  : [ 20 .. 5000, step size: 1 ],
     Default : 79

is reported of being of type Boolean, but the allowable values are 
described as integers; nevertheless, I'm unable to change its value in 
any way, and also getting its current value returns an error:

moreno at colossus:~$ uvcdynctrl -g "Exposure, Auto Priority"
ERROR: Unable to retrieve control value: A Video4Linux2 API call 
returned an unexpected error 5. (Code: 12)

dmesg says:

uvcvideo: Failed to query (129) UVC control 3 (unit 1) : -32 (exp. 1).

However, this is likely a problem with uvcdynctrl rather than with the 
uvcvideo module.

Now, as far as manual exposure is concerned, I'm doing this:

moreno at colossus:~$ uvcdynctrl -s "Exposure, Auto" 0
moreno at colossus:~$ uvcdynctrl -g "Exposure, Auto"
0
moreno at colossus:~$ uvcdynctrl -s "Exposure (Absolute)" 20
moreno at colossus:~$ uvcdynctrl -g "Exposure (Absolute)"
20

After that, the image shown by luvcview is completely overexposed; the 
same happens if I set the Exposure (Absolute) control with a high value:

moreno at colossus:~$ uvcdynctrl -s "Exposure (Absolute)" 4000
moreno at colossus:~$ uvcdynctrl -g "Exposure (Absolute)"
4000

I also tried to play around with the "Shutter Priority" and "Aperture 
Priority" values for the "Exposure, Auto" control, but without any 
apparent effect.

If I set "Exposure, Auto" to 1 (Auto mode) and run luvcview, I can see 
that setting any value to the "Exposure (Absolute)" control results in 
the image becoming immediately overexposed, and then quickly coming back 
to normal as the camera automatically adjusts the exposure.

Has any body been able to manually set the exposure on the Creative 
Live! Cam Optia (non-AF)?

Thanks in advance,

Moreno.

-- 
Moreno Marzolla
EMail: moreno.marzolla at pd.infn.it
WWW  : http://www.dsi.unive.it/~marzolla



From lists at brachttal.net  Sun Jul 13 12:57:11 2008
From: lists at brachttal.net (Andreas Volz)
Date: Sun, 13 Jul 2008 12:57:11 +0200
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <20080713003647.3f64ecd7@frodo.mittelerde>
References: <20080713003647.3f64ecd7@frodo.mittelerde>
Message-ID: <20080713125711.13925b72@frodo.mittelerde>

Am Sun, 13 Jul 2008 00:36:47 +0200 schrieb Andreas Volz:

> Hello,
> 
> my video camera (Panasonic NV-GS37) works well with USB and uvcvideo
> driver. I could see the video in ekiga. But if I try to use it in
> skype I get this:
> 
> Skype V4L2: Could not find a suitable capture format
> Skype V4L2: Could not find a suitable capture format
> Starting the process...
> Skype Xv: Xv ports available: 64
> Skype XShm: XShm support enabled
> Skype Xv: Using Xv port 325
> Skype Xv: No suitable overlay format found
> 
> Here is the output of v4l-info:
> 
> http://pastebin.com/m9a620eb
> 
> Any ideas why it doesn't work? And any ideas why there're so much
> errors in the v4l-info output? Is the uvcvideo driver not providing
> all capabilities?

I tried gstreamer-properties to find the camera, but had no luck:

gstreamer-properties-Message: Error running pipeline 'Video for Linux (v4l)': Could not get/set settings from/on resource. [v4l_calls.c(409): gst_v4l_set_chan_norm (): /pipeline0/v4lsrc3:
Error setting the channel/norm settings: Invalid argument]
gstreamer-properties-Message: Error running pipeline 'Video for Linux 2 (v4l2)': Could not negotiate format [gstbasesrc.c(2359): gst_base_src_start (): /pipeline1/v4l2src2:
Check your filtered caps, if any]

Any ideas why gstreamer doesn't work with uvcvideo? Maybe I should fix that problem
first. Any hints would be helpful. Is there anything left to implement in uvcvideo
to get it working? Or is it a wrong configuration issue? Could I provide you
with more information?

regards
Andreas


From asergiu at yahoo.co.uk  Mon Jul 14 08:32:54 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Mon, 14 Jul 2008 09:32:54 +0300
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <20080713125711.13925b72@frodo.mittelerde>
References: <20080713003647.3f64ecd7@frodo.mittelerde>
	<20080713125711.13925b72@frodo.mittelerde>
Message-ID: <208087710282493288633B672E8B4868@core2>


Hi,
Try 
xvinfo
on your command line under X and then
v4linfo on /dev/video0

Check if you can find a match on the formats (YUV, MJPEG, RGB etc) exposed
by the camera and the overlays exposed by your graphic card. Normally when
using XV your card exposes a few overlay formats (don't bother about their
sizes) and your camera should match one of those.

Try to force skype to use something else than Xv for video display. (maybe
by launching it with some command line arguments).

Adrian


-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Andreas Volz
Sent: Sunday, July 13, 2008 1:57 PM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Skype not working

Am Sun, 13 Jul 2008 00:36:47 +0200 schrieb Andreas Volz:

> Hello,
> 
> my video camera (Panasonic NV-GS37) works well with USB and uvcvideo
> driver. I could see the video in ekiga. But if I try to use it in
> skype I get this:
> 
> Skype V4L2: Could not find a suitable capture format
> Skype V4L2: Could not find a suitable capture format
> Starting the process...
> Skype Xv: Xv ports available: 64
> Skype XShm: XShm support enabled
> Skype Xv: Using Xv port 325
> Skype Xv: No suitable overlay format found
> 
> Here is the output of v4l-info:
> 
> http://pastebin.com/m9a620eb
> 
> Any ideas why it doesn't work? And any ideas why there're so much
> errors in the v4l-info output? Is the uvcvideo driver not providing
> all capabilities?

I tried gstreamer-properties to find the camera, but had no luck:

gstreamer-properties-Message: Error running pipeline 'Video for Linux
(v4l)': Could not get/set settings from/on resource. [v4l_calls.c(409):
gst_v4l_set_chan_norm (): /pipeline0/v4lsrc3:
Error setting the channel/norm settings: Invalid argument]
gstreamer-properties-Message: Error running pipeline 'Video for Linux 2
(v4l2)': Could not negotiate format [gstbasesrc.c(2359): gst_base_src_start
(): /pipeline1/v4l2src2:
Check your filtered caps, if any]

Any ideas why gstreamer doesn't work with uvcvideo? Maybe I should fix that
problem
first. Any hints would be helpful. Is there anything left to implement in
uvcvideo
to get it working? Or is it a wrong configuration issue? Could I provide you
with more information?

regards
Andreas
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From asergiu at yahoo.co.uk  Mon Jul 14 08:35:06 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Mon, 14 Jul 2008 09:35:06 +0300
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <20080713125711.13925b72@frodo.mittelerde>
References: <20080713003647.3f64ecd7@frodo.mittelerde>
	<20080713125711.13925b72@frodo.mittelerde>
Message-ID: <67B23D97C4574E4CBA15FBC56D6E8290@core2>


Anyway looking at your v4linfo output looks you have a problem with the
camera or it doesn't quite work properly with the driver.

Adrian


-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Andreas Volz
Sent: Sunday, July 13, 2008 1:57 PM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Skype not working

Am Sun, 13 Jul 2008 00:36:47 +0200 schrieb Andreas Volz:

> Hello,
> 
> my video camera (Panasonic NV-GS37) works well with USB and uvcvideo
> driver. I could see the video in ekiga. But if I try to use it in
> skype I get this:
> 
> Skype V4L2: Could not find a suitable capture format
> Skype V4L2: Could not find a suitable capture format
> Starting the process...
> Skype Xv: Xv ports available: 64
> Skype XShm: XShm support enabled
> Skype Xv: Using Xv port 325
> Skype Xv: No suitable overlay format found
> 
> Here is the output of v4l-info:
> 
> http://pastebin.com/m9a620eb
> 
> Any ideas why it doesn't work? And any ideas why there're so much
> errors in the v4l-info output? Is the uvcvideo driver not providing
> all capabilities?

I tried gstreamer-properties to find the camera, but had no luck:

gstreamer-properties-Message: Error running pipeline 'Video for Linux
(v4l)': Could not get/set settings from/on resource. [v4l_calls.c(409):
gst_v4l_set_chan_norm (): /pipeline0/v4lsrc3:
Error setting the channel/norm settings: Invalid argument]
gstreamer-properties-Message: Error running pipeline 'Video for Linux 2
(v4l2)': Could not negotiate format [gstbasesrc.c(2359): gst_base_src_start
(): /pipeline1/v4l2src2:
Check your filtered caps, if any]

Any ideas why gstreamer doesn't work with uvcvideo? Maybe I should fix that
problem
first. Any hints would be helpful. Is there anything left to implement in
uvcvideo
to get it working? Or is it a wrong configuration issue? Could I provide you
with more information?

regards
Andreas
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From lists at brachttal.net  Mon Jul 14 11:28:38 2008
From: lists at brachttal.net (Andreas Volz)
Date: Mon, 14 Jul 2008 11:28:38 +0200
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <208087710282493288633B672E8B4868@core2>
References: <20080713003647.3f64ecd7@frodo.mittelerde>
	<20080713125711.13925b72@frodo.mittelerde>
	<208087710282493288633B672E8B4868@core2>
Message-ID: <20080714112838.2dd94f0c@frodo.mittelerde>

Am Mon, 14 Jul 2008 09:32:54 +0300 schrieb Adrian Sergiu DARABANT:

> 
> Hi,
> Try 
> xvinfo

http://pastebin.com/m1ea701c1

> on your command line under X and then
> v4linfo on /dev/video0

I added a link in my original email to that output.

> Check if you can find a match on the formats (YUV, MJPEG, RGB etc)
> exposed by the camera and the overlays exposed by your graphic card.
> Normally when using XV your card exposes a few overlay formats (don't
> bother about their sizes) and your camera should match one of those.
> 
> Try to force skype to use something else than Xv for video display.
> (maybe by launching it with some command line arguments).

I don't think that this is possible. At least I didn't find an option
for it.

regards
Andreas


From asergiu at yahoo.co.uk  Mon Jul 14 12:26:20 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Mon, 14 Jul 2008 13:26:20 +0300
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <20080714112838.2dd94f0c@frodo.mittelerde>
References: <20080713003647.3f64ecd7@frodo.mittelerde><20080713125711.13925b72@frodo.mittelerde><208087710282493288633B672E8B4868@core2>
	<20080714112838.2dd94f0c@frodo.mittelerde>
Message-ID: <89FFD90FEC694613ABC67D847D030762@core2>

Anyway I would look first to the v4linfo as those unknown formats there
don't look ok.

Adrian

-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Andreas Volz
Sent: Monday, July 14, 2008 12:29 PM
To: linux-uvc-devel at lists.berlios.de
Subject: Re: [Linux-uvc-devel] Skype not working

Am Mon, 14 Jul 2008 09:32:54 +0300 schrieb Adrian Sergiu DARABANT:

> 
> Hi,
> Try 
> xvinfo

http://pastebin.com/m1ea701c1

> on your command line under X and then
> v4linfo on /dev/video0

I added a link in my original email to that output.

> Check if you can find a match on the formats (YUV, MJPEG, RGB etc)
> exposed by the camera and the overlays exposed by your graphic card.
> Normally when using XV your card exposes a few overlay formats (don't
> bother about their sizes) and your camera should match one of those.
> 
> Try to force skype to use something else than Xv for video display.
> (maybe by launching it with some command line arguments).

I don't think that this is possible. At least I didn't find an option
for it.

regards
Andreas
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From lists at brachttal.net  Mon Jul 14 12:25:15 2008
From: lists at brachttal.net (Andreas Volz)
Date: Mon, 14 Jul 2008 12:25:15 +0200
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <879e1f2b0807140133n21661430s89084ffd00ef76ea@mail.gmail.com>
References: <20080713003647.3f64ecd7@frodo.mittelerde>
	<879e1f2b0807140133n21661430s89084ffd00ef76ea@mail.gmail.com>
Message-ID: <20080714122515.45ea3e17@frodo.mittelerde>

Am Mon, 14 Jul 2008 10:33:30 +0200 schrieb Marco Argiolas:

> Hi Andreas,

Hello Marco,

> Wow...the output of v4l-info is really a big mess!!
>
> It seems your camera has up to 64 input, but only the first is fully
> recognised.
> However you said ekiga works fine.. mhhh

It works fine in webcam mode only. There're two USB modes for the
camera. I repeated all tests below in both modes. Look here for a
v4l-info output of DV mode:

http://tux-style.de/tmp/uvcvideo/dv_mode/v4l-info_dv_mode.txt

Looks also like a mess. And don't miss the segfault at the end!

> Really strange...normally ekiga gives a lot of problems...and skype
> works really good!!
> 
> and if I'm not wrong, skype ask for a YUV image format!!
> It could be the reason why your webcam doesn't work with Skype.

Is this a show stopper, even if the camera is working fully? Do you
think it may be possible to recode the format on the fly?

> Just for a check, try the following steps and report the outputs:
> 0) first of all install the last svn of uvcvideo:
> $ svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk

Done.

> 1) unplug your camera
> $ ls -lr /dev/* > ~/ls1.txt

http://tux-style.de/tmp/uvcvideo/webcam_mode/ls1.txt

> 2) plug your camera, in order to be sure after having plugged the
> camera wait for some seconds:
> $ ls -lr /dev/* > ~/ls2.txt

Webcam mode: http://tux-style.de/tmp/uvcvideo/webcam_mode/ls2.txt
DV mode: http://tux-style.de/tmp/uvcvideo/dv_mode/ls2.txt

> 3) lets see what are the differences, what devices have been loaded
> $ diff -u ~/ls1.txt ~/ls2.txt

Webcam mode: http://tux-style.de/tmp/uvcvideo/webcam_mode/ls_diff.txt
DV mode: http://tux-style.de/tmp/uvcvideo/dv_mode/ls_diff.txt

> 4) lets see what messages/errors we got after plugging the camera
> $ dmesg | tail

Webcam mode: http://tux-style.de/tmp/uvcvideo/webcam_mode/dmesg_tail.txt
DV mode: http://tux-style.de/tmp/uvcvideo/dv_mode/dmesg_tail.txt

> 5) try to verify which video format your camera support
> $ luvcview -L

Webcam mode: http://tux-style.de/tmp/uvcvideo/webcam_mode/lucview_L.txt
DV mode: http://tux-style.de/tmp/uvcvideo/dv_mode/luvcview_L.txt

> 6) try to get a streaming video from your camera
> luvcview
> or
> luvcview -f yuv

Webcam: http://tux-style.de/tmp/uvcvideo/webcam_mode/luvcview_start.txt
DV mode: http://tux-style.de/tmp/uvcvideo/dv_mode/luvcview_dv.txt

> 
> I hope all these steps could be useful for you.

Sure. I hope your answer could be useful for me. :-)

BTW: It seems audio is working with skype. So at least the audio support
on the camera works in webcam mode.

regards
Andreas


From sjensen at versanet.de  Tue Jul 15 12:25:54 2008
From: sjensen at versanet.de (Stefan Jensen)
Date: Tue, 15 Jul 2008 12:25:54 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <200807101903.52045.laurent.pinchart@skynet.be>
References: <487617EB.1000607@lounge-warrior.org>
	<200807101903.52045.laurent.pinchart@skynet.be>
Message-ID: <487C7B32.8@lounge-warrior.org>

Hi,...

Laurent Pinchart schrieb:

> Once the uvcvideo driver is configured, new V4L2 controls will be available to 
> control pan and tilt.

Ok, today i got my brand new "Logitech Quickcam Sphere AF". I compiled and
installed latest "uvcvideo" kernel modul and "libwebcam" and now i'm stuck with
some errors:

When starting ekiga or any other prog. to make a basic test, i got:

kernel: uvcvideo: Failed to query (135) UVC control 2 (unit 2) : -110 (exp. 2).
kernel: uvcvideo: Failed to query (130) UVC control 7 (unit 2) : -32 (exp. 2).

on every command with uvcdynctrl i get always this error:

[libwebcam] Unknown custom V4L2 control ID encountered: 134217728

btw: The "Pan/tilt Reset" command does only do a pan reset?

Here are some info about my system:

$ modinfo uvcvideo
filename: 
/lib/modules/2.6.25.9-40.fc8/kernel/drivers/media/video/uvcvideo/uvcvideo.ko
version:        SVN r228

$ lsusb
Bus 002 Device 002: ID 046d:0994 Logitech, Inc.

$ uvcdynctrl -l
[libwebcam] Unknown custom V4L2 control ID encountered: 134217728 
(V4L2_CID_PRIVATE_BASE + 0)
Listing available devices:
   video1   Hauppauge WinTV-HVR1110 DVB-T/H
   video0   UVC Camera (046d:0994)

$ uvcdynctrl -c
[libwebcam] Unknown custom V4L2 control ID encountered: 134217728 
(V4L2_CID_PRIVATE_BASE + 0)
Listing available controls for device video0:
   Raw bits per pixel
   Disable video processing
   LED1 Frequency
   LED1 Mode
   Focus
   Pan/tilt Reset
   Tilt Reset
   Pan Reset
   Tilt (relative)
   Pan (relative)
   Exposure, Auto Priority
   Exposure (Absolute)
   Exposure, Auto
   Backlight Compensation
   Sharpness
   White Balance Temperature
   Power Line Frequency
   Gain
   White Balance Temperature, Auto
   Saturation
   Contrast
   Brightness

Any hints for me? Thx

best regards

Stefan
--



From hadezen at gmail.com  Tue Jul 15 12:56:08 2008
From: hadezen at gmail.com (Halil Demirezen)
Date: Tue, 15 Jul 2008 13:56:08 +0300
Subject: [Linux-uvc-devel] Slow rate at nite?
Message-ID: <da8023da0807150356l132010fcu687a11293ffc9daf@mail.gmail.com>

Hello,

I am using Logitech Quickcam pro for Notebooks as input device for my
mastership thesis  with the topict "constructing an autonomous tracker
of a certain shape". For example red  circle on white A4 paper.

Anyway, I could manage to set AUTO_EXPOSURE mode to OFF by
calling like

control.id = V4L2_CID_EXPOSURE_AUTO;
control.value = 1;   // value 8 sets the auto exposure

ioctl(vd->fd, VIDIOC_S_CTRL, &control);


and setting a certain exposure value by

control.id = V4L2_CID_EXPOSURE_ABSOLUTE
control.value = 350;

ioctl(vd->fd, VIDIOC_S_CTRL, &control);


Under dark light conditions the camera display is so dark that I
make an  extra call to ioctl to set V4L2_CID_BRIGHTNESS to a
certain value such as

control.id = V4L2_CID_BRIGHTNESS
control.value = 90;

ioctl(vd->fd, VIDIOC_S_CTRL, &control);


These are the only ioctl manipulations done on camera, however, even though
I set the exposure to absolute which in the past auto exposure caused delays
in the display, and set the brightness to support bright display under short
exposure
time,  i am still getting delayed stream display sometimes. I could not get
the logic
behind when it will stream slow or normal. Is there any control which may
lead to
slow streaming that i should set?

Sincerely.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080715/8f41a3f0/attachment.html>

From darren.longhorn at redembedded.com  Tue Jul 15 15:53:57 2008
From: darren.longhorn at redembedded.com (Darren Longhorn)
Date: Tue, 15 Jul 2008 14:53:57 +0100
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
Message-ID: <487CABF5.70708@redembedded.com>

Firstly, I realise that kernels as old as 2.6.10 are not supported! So 
I don't expect anyone is much interested in these issues, but I wanted 
to document it somewhere and this list seemed to be the appropriate place.

The main issue I have found are the use of linux/videodev2.h in place 
of linux/videodev.h This causes various compilation errors. Including 
lack of definitions from linux/mm.h which videodev2.h does not 
provide. I belive this may be related to the non-availability of 
media/v4l2-common.h so I have reverted back to including 
linux/videodev.h on kernels < 2.6.15

The other issue is the use of gfp_t, which I have fixed by adding a 
definition to uvc_compat.h fro kernels < 2.6.14.

Cheers

Darren




From fragabr at gmail.com  Tue Jul 15 22:40:01 2008
From: fragabr at gmail.com (=?ISO-8859-1?Q?D=E2niel?= Fraga)
Date: Tue, 15 Jul 2008 17:40:01 -0300
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
References: <487CABF5.70708@redembedded.com>
Message-ID: <1ievk5-ch9.ln1@tux.abusar.org.br>

On Tue, 15 Jul 2008 14:53:57 +0100
Darren Longhorn <darren.longhorn at redembedded.com> wrote:

> Firstly, I realise that kernels as old as 2.6.10 are not supported! So 
> I don't expect anyone is much interested in these issues, but I wanted 
> to document it somewhere and this list seemed to be the appropriate place.

	Why someone would use such an old kernel? Wouldn't it be much
easier to just use the last 2.6.26 with all the benefits it gives?

-- 
Linux 2.6.26: Rotary Wombat
http://u-br.net




From darren.longhorn at redembedded.com  Wed Jul 16 01:24:07 2008
From: darren.longhorn at redembedded.com (Darren Longhorn)
Date: Wed, 16 Jul 2008 00:24:07 +0100
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <1ievk5-ch9.ln1@tux.abusar.org.br>
References: <487CABF5.70708@redembedded.com> <1ievk5-ch9.ln1@tux.abusar.org.br>
Message-ID: <487D3197.2090607@redembedded.com>

D?niel Fraga wrote:
> On Tue, 15 Jul 2008 14:53:57 +0100
> Darren Longhorn <darren.longhorn at redembedded.com> wrote:
>
>   
>> Firstly, I realise that kernels as old as 2.6.10 are not supported! So 
>> I don't expect anyone is much interested in these issues, but I wanted 
>> to document it somewhere and this list seemed to be the appropriate place.
>>     
>
> 	Why someone would use such an old kernel? Wouldn't it be much
> easier to just use the last 2.6.26 with all the benefits it gives?
>
>   
Because it is the newest kernel supported by the vendor of their 
development platform.




From gerakilmurray at gmail.com  Wed Jul 16 01:27:14 2008
From: gerakilmurray at gmail.com (Gera)
Date: Tue, 15 Jul 2008 23:27:14 +0000
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <487D3197.2090607@redembedded.com>
References: <487CABF5.70708@redembedded.com> <1ievk5-ch9.ln1@tux.abusar.org.br>
	<487D3197.2090607@redembedded.com>
Message-ID: <d5fba4320807151627q5aabe6ddj3fec0cce047a6a12@mail.gmail.com>

I has kernel 2.6.24-19-generic.

You say wath install the kernel 2.6.26 solve my problem?

Sorry by my ugly english.

-- 
/-/-/-/-/-/  ;-) gErArDo KiLmUrRaY ;-) \-\-\-\-\-\


From fragabr at gmail.com  Wed Jul 16 03:56:25 2008
From: fragabr at gmail.com (=?ISO-8859-1?Q?D=E2niel?= Fraga)
Date: Tue, 15 Jul 2008 22:56:25 -0300
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
References: <487CABF5.70708@redembedded.com> <1ievk5-ch9.ln1@tux.abusar.org.br>
	<487D3197.2090607@redembedded.com>
Message-ID: <9310l5-fln.ln1@tux.abusar.org.br>

On Wed, 16 Jul 2008 00:24:07 +0100
Darren Longhorn <darren.longhorn at redembedded.com> wrote:

> Because it is the newest kernel supported by the vendor of their 
> development platform.

	What? 2.6.10? So I think the vendor needs to update that :D.

	2.6.10 is damn old.

-- 
Linux 2.6.26: Rotary Wombat
http://u-br.net
Death - "See Through Dreams" (Human - 1991)




From fragabr at gmail.com  Wed Jul 16 03:58:18 2008
From: fragabr at gmail.com (=?ISO-8859-1?Q?D=E2niel?= Fraga)
Date: Tue, 15 Jul 2008 22:58:18 -0300
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
References: <487CABF5.70708@redembedded.com> <1ievk5-ch9.ln1@tux.abusar.org.br>
	<487D3197.2090607@redembedded.com>
	<d5fba4320807151627q5aabe6ddj3fec0cce047a6a12@mail.gmail.com>
Message-ID: <q610l5-fln.ln1@tux.abusar.org.br>

On Tue, 15 Jul 2008 23:27:14 +0000
Gera <gerakilmurray at gmail.com> wrote:

> I has kernel 2.6.24-19-generic.
> 
> You say wath install the kernel 2.6.26 solve my problem?
> 
> Sorry by my ugly english.

	Well, kernel 2.6.26 brings uvcvideo built-in without the hassle
of building separately.

	But if you don't have experience with kernels or customizing
things, do not touch it ;) Just ask your vendor for support.


-- 
Linux 2.6.26: Rotary Wombat
http://u-br.net
Death - "See Through Dreams" (Human - 1991)




From lists at brachttal.net  Wed Jul 16 10:13:03 2008
From: lists at brachttal.net (Andreas Volz)
Date: Wed, 16 Jul 2008 10:13:03 +0200
Subject: [Linux-uvc-devel] Video grabber?
Message-ID: <20080716101303.42817db4@frodo.mittelerde>

Hello,

which tool should I use to grab a video from my camera in USB mode? I
tried dvgrab, but that doesn't work:

andreas at frodo:~> dvgrab -V -input /dev/video0 
Warning: Cannot set RR-scheduler
Warning: Cannot disable swapping
""     0.00 MB 0 frames
Capture Stopped
Killed

andreas at frodo:~> sudo sux
[sudo] password for andreas: 
root at frodo:andreas> cd
root at frodo:~> dvgrab -V -input /dev/video0
""     0.00 MB 0 frames
Capture Stopped
Killed

First problem is the RR-scheduler warning. I "solved" that by becoming
root. Then nothing happens and if I abort it with Ctrl-C it displays "0
MB frames". Then I've to kill -9 dvgrab.

Interesting is if I strace this then it breaks at start time. See here
the output:

http://pastebin.com/m2ac759a7

Device is the same as in my mail three days ago.

Do you see the problem? Or is there a better application for getting
data from my camera?

Some month ago someone on that list helped me to modify an example
application to fetch video from my camera, but this application doesn't
work anymore. Maybe I should more in-deep explain that way?

regards
Andreas


From bnc at astronomicalresearchaustralia.org  Wed Jul 16 10:56:13 2008
From: bnc at astronomicalresearchaustralia.org (Brian)
Date: Wed, 16 Jul 2008 18:56:13 +1000
Subject: [Linux-uvc-devel] Video grabber?
In-Reply-To: <20080716101303.42817db4@frodo.mittelerde>
References: <20080716101303.42817db4@frodo.mittelerde>
Message-ID: <487DB7AD.2090401@astronomicalresearchaustralia.org>

Andreas,
try
http://developer.berlios.de/project/showfiles.php?group_id=8179&release_id=14882
Brian

Andreas Volz wrote:
> Hello,
> 
> which tool should I use to grab a video from my camera in USB mode? I
> tried dvgrab, but that doesn't work:
> 
> andreas at frodo:~> dvgrab -V -input /dev/video0 
> Warning: Cannot set RR-scheduler
> Warning: Cannot disable swapping
> ""     0.00 MB 0 frames
> Capture Stopped
> Killed
> 
> andreas at frodo:~> sudo sux
> [sudo] password for andreas: 
> root at frodo:andreas> cd
> root at frodo:~> dvgrab -V -input /dev/video0
> ""     0.00 MB 0 frames
> Capture Stopped
> Killed
> 
> First problem is the RR-scheduler warning. I "solved" that by becoming
> root. Then nothing happens and if I abort it with Ctrl-C it displays "0
> MB frames". Then I've to kill -9 dvgrab.
> 
> Interesting is if I strace this then it breaks at start time. See here
> the output:
> 
> http://pastebin.com/m2ac759a7
> 
> Device is the same as in my mail three days ago.
> 
> Do you see the problem? Or is there a better application for getting
> data from my camera?
> 
> Some month ago someone on that list helped me to modify an example
> application to fetch video from my camera, but this application doesn't
> work anymore. Maybe I should more in-deep explain that way?
> 
> regards
> Andreas
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> 


From darren.longhorn at redembedded.com  Wed Jul 16 11:19:04 2008
From: darren.longhorn at redembedded.com (Darren Longhorn)
Date: Wed, 16 Jul 2008 10:19:04 +0100
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <9310l5-fln.ln1@tux.abusar.org.br>
References: <487CABF5.70708@redembedded.com>
	<1ievk5-ch9.ln1@tux.abusar.org.br>	<487D3197.2090607@redembedded.com>
	<9310l5-fln.ln1@tux.abusar.org.br>
Message-ID: <487DBD08.40309@redembedded.com>

D?niel Fraga wrote:
> On Wed, 16 Jul 2008 00:24:07 +0100
> Darren Longhorn <darren.longhorn at redembedded.com> wrote:
> 
>> Because it is the newest kernel supported by the vendor of their 
>> development platform.
> 
> 	What? 2.6.10? So I think the vendor needs to update that :D.

... and so do I, but as yet they have not. Life is imperfect, and we 
must deal with it.

> 	2.6.10 is damn old.

I _know_.



From lists at brachttal.net  Wed Jul 16 12:37:21 2008
From: lists at brachttal.net (Andreas Volz)
Date: Wed, 16 Jul 2008 12:37:21 +0200
Subject: [Linux-uvc-devel] Video grabber?
In-Reply-To: <487DB7AD.2090401@astronomicalresearchaustralia.org>
References: <20080716101303.42817db4@frodo.mittelerde>
	<487DB7AD.2090401@astronomicalresearchaustralia.org>
Message-ID: <20080716123721.2eef60b7@frodo.mittelerde>

Am Wed, 16 Jul 2008 18:56:13 +1000 schrieb Brian:

> Andreas,
> try
> http://developer.berlios.de/project/showfiles.php?group_id=8179&release_id=14882
> Brian

Hello Brian,

Thanks that works nice. I could record a video. It's also possible to
record three different video formats:

andreas at frodo:guvcview> tcprobe -i capture.avi 
[tcprobe] RIFF data, AVI video
[avilib] V: 12.428 fps, codec=MJPG, frames=52, width=320, height=240
[avilib] A: 44100 Hz, format=0x01, bits=16, channels=2, bitrate=1411 kbps,
[avilib]    5 chunks, 771572 bytes, CBR
[tcprobe] summary for capture.avi, (*) = not default, 0 = not detected
import frame size: -g 320x240 [720x576] (*)
       frame rate: -f 12.428 [25.000] frc=0 (*)
      audio track: -a 0 [0] -e 44100,16,2 [48000,16,2] -n 0x1 [0x2000] (*)
                   bitrate=1411 kbps
           length: 52 frames, frame_time=80 msec, duration=0:00:04.184


andreas at frodo:guvcview> tcprobe -i capture.avi 
[tcprobe] RIFF data, AVI video
[avilib] V: 12.465 fps, codec=YUY2, frames=36, width=320, height=240
[avilib] A: 44100 Hz, format=0x01, bits=16, channels=2, bitrate=1411 kbps,
[avilib]    4 chunks, 598524 bytes, CBR
[tcprobe] summary for capture.avi, (*) = not default, 0 = not detected
import frame size: -g 320x240 [720x576] (*)
       frame rate: -f 12.465 [25.000] frc=0 (*)
      audio track: -a 0 [0] -e 44100,16,2 [48000,16,2] -n 0x1 [0x2000] (*)
                   bitrate=1411 kbps
           length: 36 frames, frame_time=80 msec, duration=0:00:02.887


andreas at frodo:guvcview> tcprobe -i capture.avi 
[tcprobe] RIFF data, AVI video
[avilib] V: 12.267 fps, codec=RGB, frames=50, width=320, height=240
[avilib] A: 44100 Hz, format=0x01, bits=16, channels=2, bitrate=1411 kbps,
[avilib]    5 chunks, 779156 bytes, CBR
[tcprobe] summary for capture.avi, (*) = not default, 0 = not detected
import frame size: -g 320x240 [720x576] (*)
       frame rate: -f 12.267 [25.000] frc=0 (*)
      audio track: -a 0 [0] -e 44100,16,2 [48000,16,2] -n 0x1 [0x2000] (*)
                   bitrate=1411 kbps
           length: 50 frames, frame_time=81 msec, duration=0:00:04.076


It's really interesting that YUY2 (YUV) is supported. Isn't that the video format skype 
likes to have in my previous post. So why it isn't working for skype? Maybe someone 
could take a second look into my log files from that other post.

BTW:
The german translation of guvcview is a little "raw". Is there a german translator?

regards and thanks

	Andreas


From deloptes at yahoo.com  Wed Jul 16 13:13:29 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Wed, 16 Jul 2008 04:13:29 -0700 (PDT)
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <mailman.84.1216116144.31492.linux-uvc-devel@lists.berlios.de>
Message-ID: <492558.30569.qm@web53203.mail.re2.yahoo.com>

What kind of video card and video driver are you using. May be it's related to my similar problem using ATI or NVidia proprietary drivers.

regards 


      


From lists at brachttal.net  Wed Jul 16 13:53:31 2008
From: lists at brachttal.net (Andreas Volz)
Date: Wed, 16 Jul 2008 13:53:31 +0200
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <492558.30569.qm@web53203.mail.re2.yahoo.com>
References: <mailman.84.1216116144.31492.linux-uvc-devel@lists.berlios.de>
	<492558.30569.qm@web53203.mail.re2.yahoo.com>
Message-ID: <20080716135331.5fcc7ea6@frodo.mittelerde>

Am Wed, 16 Jul 2008 04:13:29 -0700 (PDT) schrieb Emanoil Kotsev:

> What kind of video card and video driver are you using. May be it's
> related to my similar problem using ATI or NVidia proprietary drivers.

An Nvidia Gforce2 on one system and a ATI card on the other system.
Both with commercial OpenGL enabled drivers.

Do you really think this may be a problem? What kind of problem did you
have and how did you solve them? 

Video playback works well in both systems. And I could receive the
video from the remote skype.

regards
Andreas


From gerakilmurray at gmail.com  Tue Jul 15 20:09:01 2008
From: gerakilmurray at gmail.com (Gera)
Date: Tue, 15 Jul 2008 15:09:01 -0300
Subject: [Linux-uvc-devel] HP Pavilion DV6871US
In-Reply-To: <mailman.7646.1216099103.5435.linux-uvc-devel@lists.berlios.de>
References: <mailman.7646.1216099103.5435.linux-uvc-devel@lists.berlios.de>
Message-ID: <d5fba4320807151109h59debc05vbcb4ffe7128d96ba@mail.gmail.com>

Hello, I'm Gerardo from Argentina.
I have an HP Pavilion dv6871us notebook.
Let me know how you did your webcam function and if the same model as mine.

The lsusb throws me this:

gera at hpMurray:~$ lsusb
Bus 007 Device 002: ID 064e:a110 Suyin Corp.  <---- This is
Bus 007 Device 001: ID 0000:0000
Bus 006 Device 001: ID 0000:0000
Bus 005 Device 001: ID 0000:0000
Bus 004 Device 001: ID 0000:0000

Bus 003 Device 001: ID 0000:0000
Bus 002 Device 002: ID 0458:003a KYE Systems Corp. (Mouse Systems)
Bus 002 Device 001: ID 0000:0000
Bus 001 Device 001: ID 0000:0000

Try the uvcvideo driver rev228 but no walks.


Well thank you very much.
This message was translated with Google. We apologize because they do
not write well in English.

--
/-/-/-/-/-/ ;-) gErArDo KiLmUrRaY ;-) \-\-\-\-\-\
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: dataDV6871us.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080715/546525b0/attachment.txt>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: allHardawareInfo.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080715/546525b0/attachment-0001.txt>

From laurent.pinchart at skynet.be  Wed Jul 16 16:25:10 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 16 Jul 2008 16:25:10 +0200
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <487CABF5.70708@redembedded.com>
References: <487CABF5.70708@redembedded.com>
Message-ID: <200807161625.12340.laurent.pinchart@skynet.be>

Hi Darren,

On Tuesday 15 July 2008, Darren Longhorn wrote:
> Firstly, I realise that kernels as old as 2.6.10 are not supported! So
> I don't expect anyone is much interested in these issues, but I wanted
> to document it somewhere and this list seemed to be the appropriate place.
>
> The main issue I have found are the use of linux/videodev2.h in place
> of linux/videodev.h This causes various compilation errors. Including
> lack of definitions from linux/mm.h which videodev2.h does not
> provide. I belive this may be related to the non-availability of
> media/v4l2-common.h so I have reverted back to including
> linux/videodev.h on kernels < 2.6.15

I've included linux/videodev.h in uvc_compat.h for kernels older than 2.6.18. 
This should fix your compilation issues.

> The other issue is the use of gfp_t, which I have fixed by adding a
> definition to uvc_compat.h fro kernels < 2.6.14.

There was a typo in uvc_compat.h. Fixed in SVN, thanks. 

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Jul 16 16:47:25 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 16 Jul 2008 16:47:25 +0200
Subject: [Linux-uvc-devel] HP Pavilion DV6871US
In-Reply-To: <d5fba4320807151109h59debc05vbcb4ffe7128d96ba@mail.gmail.com>
References: <mailman.7646.1216099103.5435.linux-uvc-devel@lists.berlios.de>
	<d5fba4320807151109h59debc05vbcb4ffe7128d96ba@mail.gmail.com>
Message-ID: <200807161647.26016.laurent.pinchart@skynet.be>

Hi Geraldo,

On Tuesday 15 July 2008, Gera wrote:
> Hello, I'm Gerardo from Argentina.
> I have an HP Pavilion dv6871us notebook.
> Let me know how you did your webcam function and if the same model as mine.
>
> The lsusb throws me this:
>
> gera at hpMurray:~$ lsusb
> Bus 007 Device 002: ID 064e:a110 Suyin Corp.  <---- This is
> Bus 007 Device 001: ID 0000:0000
> Bus 006 Device 001: ID 0000:0000
> Bus 005 Device 001: ID 0000:0000
> Bus 004 Device 001: ID 0000:0000
>
> Bus 003 Device 001: ID 0000:0000
> Bus 002 Device 002: ID 0458:003a KYE Systems Corp. (Mouse Systems)
> Bus 002 Device 001: ID 0000:0000
> Bus 001 Device 001: ID 0000:0000
>
> Try the uvcvideo driver rev228 but no walks.
>
>
> Well thank you very much.
> This message was translated with Google. We apologize because they do
> not write well in English.

Your camera is supposed to be supported. Please describe your problem with 
precision. Be sure to include application error messages and kernel log 
messages in your report.

Best regards,

Laurent Pinchart


From lists at brachttal.net  Wed Jul 16 16:57:56 2008
From: lists at brachttal.net (Andreas Volz)
Date: Wed, 16 Jul 2008 16:57:56 +0200
Subject: [Linux-uvc-devel] Video grabber?
In-Reply-To: <da8023da0807160616g1f51f549me20fe8a276a89fc6@mail.gmail.com>
References: <20080716101303.42817db4@frodo.mittelerde>
	<487DB7AD.2090401@astronomicalresearchaustralia.org>
	<20080716123721.2eef60b7@frodo.mittelerde>
	<da8023da0807160616g1f51f549me20fe8a276a89fc6@mail.gmail.com>
Message-ID: <20080716165756.55ed08ff@frodo.mittelerde>

Am Wed, 16 Jul 2008 16:16:46 +0300 schrieb Halil Demirezen:

I don't understand in which way this answer is related to my question?
For sure I tried luvcview in the past and it works well.

> try luvcview which is a good one.
> 
> 2008/7/16, Andreas Volz <lists at brachttal.net>:
> >
> > Am Wed, 16 Jul 2008 18:56:13 +1000 schrieb Brian:
> >
> > > Andreas,
> > > try
> > >
> > http://developer.berlios.de/project/showfiles.php?group_id=8179&release_id=14882
> > > Brian
> >
> > Hello Brian,
> >
> > Thanks that works nice. I could record a video. It's also possible
> > to record three different video formats:
> >
> > andreas at frodo:guvcview> tcprobe -i capture.avi
> > [tcprobe] RIFF data, AVI video
> > [avilib] V: 12.428 fps, codec=MJPG, frames=52, width=320, height=240
> > [avilib] A: 44100 Hz, format=0x01, bits=16, channels=2,
> > bitrate=1411 kbps, [avilib]    5 chunks, 771572 bytes, CBR
> > [tcprobe] summary for capture.avi, (*) = not default, 0 = not
> > detected import frame size: -g 320x240 [720x576] (*)
> >       frame rate: -f 12.428 [25.000] frc=0 (*)
> >      audio track: -a 0 [0] -e 44100,16,2 [48000,16,2] -n 0x1
> > [0x2000] (*) bitrate=1411 kbps
> >           length: 52 frames, frame_time=80 msec,
> > duration=0:00:04.184
> >
> >
> > andreas at frodo:guvcview> tcprobe -i capture.avi
> > [tcprobe] RIFF data, AVI video
> > [avilib] V: 12.465 fps, codec=YUY2, frames=36, width=320, height=240
> > [avilib] A: 44100 Hz, format=0x01, bits=16, channels=2,
> > bitrate=1411 kbps, [avilib]    4 chunks, 598524 bytes, CBR
> > [tcprobe] summary for capture.avi, (*) = not default, 0 = not
> > detected import frame size: -g 320x240 [720x576] (*)
> >       frame rate: -f 12.465 [25.000] frc=0 (*)
> >      audio track: -a 0 [0] -e 44100,16,2 [48000,16,2] -n 0x1
> > [0x2000] (*) bitrate=1411 kbps
> >           length: 36 frames, frame_time=80 msec,
> > duration=0:00:02.887
> >
> >
> > andreas at frodo:guvcview> tcprobe -i capture.avi
> > [tcprobe] RIFF data, AVI video
> > [avilib] V: 12.267 fps, codec=RGB, frames=50, width=320, height=240
> > [avilib] A: 44100 Hz, format=0x01, bits=16, channels=2,
> > bitrate=1411 kbps, [avilib]    5 chunks, 779156 bytes, CBR
> > [tcprobe] summary for capture.avi, (*) = not default, 0 = not
> > detected import frame size: -g 320x240 [720x576] (*)
> >       frame rate: -f 12.267 [25.000] frc=0 (*)
> >      audio track: -a 0 [0] -e 44100,16,2 [48000,16,2] -n 0x1
> > [0x2000] (*) bitrate=1411 kbps
> >           length: 50 frames, frame_time=81 msec,
> > duration=0:00:04.076
> >
> >
> > It's really interesting that YUY2 (YUV) is supported. Isn't that
> > the video format skype
> > likes to have in my previous post. So why it isn't working for
> > skype? Maybe someone
> > could take a second look into my log files from that other post.
> >
> > BTW:
> > The german translation of guvcview is a little "raw". Is there a
> > german translator?
> >
> > regards and thanks
> >
> >        Andreas
> > _______________________________________________
> > Linux-uvc-devel mailing list
> > Linux-uvc-devel at lists.berlios.de
> > https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
> >


From lists at brachttal.net  Wed Jul 16 18:26:41 2008
From: lists at brachttal.net (Andreas Volz)
Date: Wed, 16 Jul 2008 18:26:41 +0200
Subject: [Linux-uvc-devel] Video grabber?
In-Reply-To: <487E1547.9080405@astronomicalresearchaustralia.org>
References: <20080716101303.42817db4@frodo.mittelerde>
	<487DB7AD.2090401@astronomicalresearchaustralia.org>
	<20080716123721.2eef60b7@frodo.mittelerde>
	<da8023da0807160616g1f51f549me20fe8a276a89fc6@mail.gmail.com>
	<20080716165756.55ed08ff@frodo.mittelerde>
	<487E1547.9080405@astronomicalresearchaustralia.org>
Message-ID: <20080716182641.4b90a5bc@frodo.mittelerde>

Am Thu, 17 Jul 2008 01:35:35 +1000 schrieb Brian:

> 
> 
> Andreas,
> >>> Thanks that works nice. I could record a video. It's also possible
> >>> to record three different video formats:
> >>>
> No problem, I was happy when I found it too:)
> 
> Note I am not sure what version you got, but 9.0 was a lot more
> stable than 9.1 for me.

I got 0.9.1. Looks stable so far. But for some strange reason the
uvcvideo modules "crashed" after using guvcvideo. Not sure if this is
direct related.

And the save images function doesn't work. The result looks much like a
JPEG, but no application likes to open it. Strange is that 'file' tells
me that it's a JPEG. I didn't investigate that problem until now.

And the video is in an extra window. I would more like it in a embedded
frame. For some reason it's not possible to enlarge the window. Maybe
that's a graphic driver issue.

> Also only one of the formats is compressed.
> I have this 'feeling' that the file size that gets created is pretty 
> big. Although I have nothing to compare it with?

Sure the resulting videos are really big. You should convert them with
transcode into something smaller (e,g, MPEG4, DIVX,...). I would really
like guvcvideo could do this direct.

regards
Andreas


From fragabr at gmail.com  Wed Jul 16 20:23:13 2008
From: fragabr at gmail.com (=?ISO-8859-1?Q?D=E2niel?= Fraga)
Date: Wed, 16 Jul 2008 15:23:13 -0300
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
References: <487CABF5.70708@redembedded.com> <1ievk5-ch9.ln1@tux.abusar.org.br>
	<487D3197.2090607@redembedded.com>
	<9310l5-fln.ln1@tux.abusar.org.br> <487DBD08.40309@redembedded.com>
Message-ID: <htq1l5-2c7.ln1@tux.abusar.org.br>

On Wed, 16 Jul 2008 10:19:04 +0100
Darren Longhorn <darren.longhorn at redembedded.com> wrote:

> ... and so do I, but as yet they have not. Life is imperfect, and we 
> must deal with it.
	
	What about changing your distribution? I personally do not like
distributions because of that: if someone decides that the kernel will
be stuck on 2.6.10, users can do nothing...

	Or you could be radical and try to compile a kernel yourself,
but I can not give any warrant that you'll succeed. You should really
know what you're doing.

	So, good luck.

-- 
Linux 2.6.26: Rotary Wombat
http://u-br.net
Kiko Loureiro - "Anast?cia" (Universo Inverso - 2006)




From laurent.pinchart at skynet.be  Wed Jul 16 22:53:10 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 16 Jul 2008 22:53:10 +0200
Subject: [Linux-uvc-devel] Video grabber?
In-Reply-To: <20080716182641.4b90a5bc@frodo.mittelerde>
References: <20080716101303.42817db4@frodo.mittelerde>
	<487E1547.9080405@astronomicalresearchaustralia.org>
	<20080716182641.4b90a5bc@frodo.mittelerde>
Message-ID: <200807162253.10402.laurent.pinchart@skynet.be>

On Wednesday 16 July 2008, Andreas Volz wrote:
> Am Thu, 17 Jul 2008 01:35:35 +1000 schrieb Brian:
> > Andreas,
> >
> > >>> Thanks that works nice. I could record a video. It's also possible
> > >>> to record three different video formats:
> >
> > No problem, I was happy when I found it too:)
> >
> > Note I am not sure what version you got, but 9.0 was a lot more
> > stable than 9.1 for me.
>
> I got 0.9.1. Looks stable so far. But for some strange reason the
> uvcvideo modules "crashed" after using guvcvideo. Not sure if this is
> direct related.
>
> And the save images function doesn't work. The result looks much like a
> JPEG, but no application likes to open it. Strange is that 'file' tells
> me that it's a JPEG. I didn't investigate that problem until now.

That's probably because the JPEG file doesn't include Huffman tables. MJPEG 
defines its set of Huffman tables and strips them from the data stream to 
save bandwidth, but standard JPEG viewers can't open images with no Huffman 
tables.

You can find a simple python script to convert 'MJPEG images' into JPEG images 
at

svn://svn.berlios.de/linux-uvc/uvc-utils/trunk

> And the video is in an extra window. I would more like it in a embedded
> frame. For some reason it's not possible to enlarge the window. Maybe
> that's a graphic driver issue.
>
> > Also only one of the formats is compressed.
> > I have this 'feeling' that the file size that gets created is pretty
> > big. Although I have nothing to compare it with?
>
> Sure the resulting videos are really big. You should convert them with
> transcode into something smaller (e,g, MPEG4, DIVX,...). I would really
> like guvcvideo could do this direct.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Jul 16 23:11:11 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 16 Jul 2008 23:11:11 +0200
Subject: [Linux-uvc-devel] Video grabber?
In-Reply-To: <20080716101303.42817db4@frodo.mittelerde>
References: <20080716101303.42817db4@frodo.mittelerde>
Message-ID: <200807162311.11462.laurent.pinchart@skynet.be>

Hi Andreas,

On Wednesday 16 July 2008, Andreas Volz wrote:
> Hello,
>
> which tool should I use to grab a video from my camera in USB mode?

Your camera has a DV mode and a Webcam mode. Which of them do you mean ? 
dvgrab will probably only work in DV mode, while most V4L2-aware software 
will be usable in Webcam mode provided they support MJPEG.

> I 
> tried dvgrab, but that doesn't work:
>
> andreas at frodo:~> dvgrab -V -input /dev/video0
> Warning: Cannot set RR-scheduler
> Warning: Cannot disable swapping
> ""     0.00 MB 0 frames
> Capture Stopped
> Killed
>
> andreas at frodo:~> sudo sux
> [sudo] password for andreas:
> root at frodo:andreas> cd
> root at frodo:~> dvgrab -V -input /dev/video0
> ""     0.00 MB 0 frames
> Capture Stopped
> Killed
>
> First problem is the RR-scheduler warning. I "solved" that by becoming
> root. Then nothing happens and if I abort it with Ctrl-C it displays "0
> MB frames". Then I've to kill -9 dvgrab.
>
> Interesting is if I strace this then it breaks at start time. See here
> the output:
>
> http://pastebin.com/m2ac759a7
>
> Device is the same as in my mail three days ago.
>
> Do you see the problem? Or is there a better application for getting
> data from my camera?
>
> Some month ago someone on that list helped me to modify an example
> application to fetch video from my camera, but this application doesn't
> work anymore. Maybe I should more in-deep explain that way?

Best regards,

Laurent Pinchart


From darren.longhorn at redembedded.com  Wed Jul 16 23:16:16 2008
From: darren.longhorn at redembedded.com (Darren Longhorn)
Date: Wed, 16 Jul 2008 22:16:16 +0100
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <200807161625.12340.laurent.pinchart@skynet.be>
References: <487CABF5.70708@redembedded.com>
	<200807161625.12340.laurent.pinchart@skynet.be>
Message-ID: <487E6520.2060108@redembedded.com>

Laurent Pinchart wrote:
> Hi Darren,
>
> On Tuesday 15 July 2008, Darren Longhorn wrote:
>   
>> Firstly, I realise that kernels as old as 2.6.10 are not supported! So
>> I don't expect anyone is much interested in these issues, but I wanted
>> to document it somewhere and this list seemed to be the appropriate place.
>>
>> The main issue I have found are the use of linux/videodev2.h in place
>> of linux/videodev.h This causes various compilation errors. Including
>> lack of definitions from linux/mm.h which videodev2.h does not
>> provide. I belive this may be related to the non-availability of
>> media/v4l2-common.h so I have reverted back to including
>> linux/videodev.h on kernels < 2.6.15
>>     
>
> I've included linux/videodev.h in uvc_compat.h for kernels older than 2.6.18. 
> This should fix your compilation issues.
>
>   
>> The other issue is the use of gfp_t, which I have fixed by adding a
>> definition to uvc_compat.h fro kernels < 2.6.14.
>>     
>
> There was a typo in uvc_compat.h. Fixed in SVN, thanks. 
>
>   
That's great Laurent, thanks! I fixed it locally, but I much prefer to 
keep my local changes to a minimum, so I'll back those out and merge 
again with the head of SVN..

Cheers

Darren




From pj.assis at gmail.com  Thu Jul 17 10:41:23 2008
From: pj.assis at gmail.com (Paulo Assis)
Date: Thu, 17 Jul 2008 09:41:23 +0100
Subject: [Linux-uvc-devel] [Fwd:  Video grabber?]
Message-ID: <487F05B3.50606@gmail.com>

Hi Andreas,

In regards to guvcview still image capture, when in MJPG mode, the 
standard Huffman tables are added to the captured frame and in YUV mode 
a built-in jpg compressor is used. I had no problems with this so far 
(tested in Ubuntu, Debian and OpenSuse ), but if you could post me your 
jpg file maybe I can understand what's wrong, also have you tested with 
the other formats available (png, bmp) are these also giving you trouble ?

There are also several compression formats for avi capture, being that 
the highest compression is achieved with MJPG, I intend to support MPG 
in the future but for now I'm more concerned with stability and 
translations, for these I need people to test the software and post back 
any bugs, errors or comments that could help improve guvcview.

Best regards,
Paulo






From deloptes at yahoo.com  Thu Jul 17 12:45:53 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Thu, 17 Jul 2008 03:45:53 -0700 (PDT)
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <mailman.7881.1216215889.5435.linux-uvc-devel@lists.berlios.de>
Message-ID: <178777.53180.qm@web53211.mail.re2.yahoo.com>


> 
> Am Wed, 16 Jul 2008 04:13:29 -0700 (PDT) schrieb Emanoil
> Kotsev:
> 
> > What kind of video card and video driver are you
> using. May be it's
> > related to my similar problem using ATI or NVidia
> proprietary drivers.
> 
> An Nvidia Gforce2 on one system and a ATI card on the other
> system.
> Both with commercial OpenGL enabled drivers.

Yes, I have exactly the same experience with skype with both ATI and NVidia cards and the commercial drivers.
Basically what happens is that after starting a video conference it slows down and hangs after a while, forcing me to kill and restart skype.
I read that there is a known problem with ATI (a memory leak but don't remember if it was a Skype problem or ATI) also no idea when it will be fixed and at which side.
I don't have access on daily basis to the PC with the ATI card, but I have replaced the Nvidia proprietary driver with the free NV one and skype is working fine.
Unfortunately this is at the cost of the nice 3D GL support (googleearth and other apps are not working), so I am really thinking of buying an Apple PC and solving all of the issues :-( dam it I need few things to work and. As this is not the only thing that's bugging me in linux I'm getting more disappointed, though I really love it.
I've been using it since 1998 and I think it was more simple and more stable at what it claimed to can do.

If someone has a solution and a proof for the oposite please you're welcome. we can move this discussion also to another place as I don't think this is the proper place for it.

> 
> Do you really think this may be a problem? What kind of
> problem did you
> have and how did you solve them? 

Just change the line in the xorg.conf file

Driver "nvidia" to
Driver "nv"

It might be also necessary to change few other things but for me changing this line worked, so now video skyping is fine ;-)

> 
> Video playback works well in both systems. And I could
> receive the
> video from the remote skype.
> 

Yes it is the same behaviour as I had. If I send skype video  it works and If I receive it works too, but as soon as  both parts send skype video it breaks - SH...T! 

Hope this helps but I'm getting a little bit angry 


regards


      


From laurent.pinchart at skynet.be  Thu Jul 17 13:17:58 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 17 Jul 2008 13:17:58 +0200
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <178777.53180.qm@web53211.mail.re2.yahoo.com>
References: <178777.53180.qm@web53211.mail.re2.yahoo.com>
Message-ID: <200807171317.59085.laurent.pinchart@skynet.be>

On Thursday 17 July 2008, Emanoil Kotsev wrote:
> > Am Wed, 16 Jul 2008 04:13:29 -0700 (PDT) schrieb Emanoil
> >
> > Kotsev:
> > > What kind of video card and video driver are you
> >
> > using. May be it's
> >
> > > related to my similar problem using ATI or NVidia
> >
> > proprietary drivers.
> >
> > An Nvidia Gforce2 on one system and a ATI card on the other
> > system.
> > Both with commercial OpenGL enabled drivers.
>
> Yes, I have exactly the same experience with skype with both ATI and NVidia
> cards and the commercial drivers. Basically what happens is that after
> starting a video conference it slows down and hangs after a while, forcing
> me to kill and restart skype. I read that there is a known problem with ATI
> (a memory leak but don't remember if it was a Skype problem or ATI) also no
> idea when it will be fixed and at which side. I don't have access on daily
> basis to the PC with the ATI card, but I have replaced the Nvidia
> proprietary driver with the free NV one and skype is working fine.
> Unfortunately this is at the cost of the nice 3D GL support (googleearth
> and other apps are not working), so I am really thinking of buying an Apple
> PC and solving all of the issues :-( dam it I need few things to work and.
> As this is not the only thing that's bugging me in linux I'm getting more
> disappointed, though I really love it. I've been using it since 1998 and I
> think it was more simple and more stable at what it claimed to can do.

In 1998 you obviously didn't have Skype issues, as there was no Skype at all. 
Just uninstall Skype and you'll get back to your 1998 stability :-)

> If someone has a solution and a proof for the oposite please you're
> welcome. we can move this discussion also to another place as I don't think
> this is the proper place for it.
>
> > Do you really think this may be a problem? What kind of
> > problem did you
> > have and how did you solve them?
>
> Just change the line in the xorg.conf file
>
> Driver "nvidia" to
> Driver "nv"
>
> It might be also necessary to change few other things but for me changing
> this line worked, so now video skyping is fine ;-)
>
> > Video playback works well in both systems. And I could
> > receive the
> > video from the remote skype.
>
> Yes it is the same behaviour as I had. If I send skype video  it works and
> If I receive it works too, but as soon as  both parts send skype video it
> breaks - SH...T!
>
> Hope this helps but I'm getting a little bit angry

You can't blame Linux as a whole because proprietary software vendors ship 
broken products. That's just not fair.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Jul 17 13:39:51 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 17 Jul 2008 13:39:51 +0200
Subject: [Linux-uvc-devel] Problems setting manual exposure on Creative
	Live! Cam Optia
In-Reply-To: <4879D0CA.6070101@pd.infn.it>
References: <4879D0CA.6070101@pd.infn.it>
Message-ID: <200807171339.51589.laurent.pinchart@skynet.be>

Hi Moreno,

On Sunday 13 July 2008, Moreno Marzolla wrote:
> Hi all,
>
> I'm trying to play around with the manual exposure settings of my
> Creative Live! Cam Optia (the non-AF version), in order to address the
> everexposure issues I described in another post
> (https://lists.berlios.de/pipermail/linux-uvc-devel/2008-June/003658.html).
> Unfortunately, there seems to be problems with manual exposure on this
> camera: I am experiencing the exact same problem described here:
> http://www.mail-archive.com/linux-uvc-devel at lists.berlios.de/msg02799.html,
> that is, manual exposure can be set, but every value results in an
> overexposed image no matter what value I use (lower ones or higher ones
> do not matter).
>
> I'm working on a debian 4.0 machine (debian kernel 2.6.18-6-686) with
> the latest (as far as I know) version of the uvcvideo module:
>
> moreno at colossus:~$ /sbin/modinfo uvcvideo
> filename:       /lib/modules/2.6.18-6-686/usb/media/uvcvideo.ko
> version:        SVN r228
>
> I'm also using the latest svn version of uvcdynctrl
>
> moreno at colossus:~$ uvcdynctrl --version
> uvcdynctrl 0.2
>
> This is the output of uvcdynctrl -c -v:
>
> ----------
>
> Listing available controls for device video0:
>    Exposure, Auto Priority
>      ID      : 0x00000010,
>      Type    : Boolean,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : [ 20 .. 5000, step size: 1 ],
>      Default : 79
>    Exposure (Absolute)
>      ID      : 0x00000011,
>      Type    : Dword,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : [ 20 .. 5000, step size: 1 ],
>      Default : 79
>    Exposure, Auto
>      ID      : 0x0000000f,
>      Type    : Choice,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : { 'Manual Mode'[0], 'Auto Mode'[1], 'Shutter Priority
> Mode'[2], 'Aperture Priority Mode'[3] },
>      Default : 1
>    Sharpness
>      ID      : 0x00000007,
>      Type    : Dword,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : [ 0 .. 96, step size: 1 ],
>      Default : 40
>    Power Line Frequency
>      ID      : 0x0000000d,
>      Type    : Choice,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : { 'Disabled'[0], '50 Hz'[1], '60 Hz'[2] },
>      Default : 0
>    Gamma
>      ID      : 0x00000006,
>      Type    : Dword,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : [ 0 .. 7, step size: 1 ],
>      Default : 3
>    Hue
>      ID      : 0x00000005,
>      Type    : Dword,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : [ -4 .. 4, step size: 1 ],
>      Default : 0
>    Saturation
>      ID      : 0x00000004,
>      Type    : Dword,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : [ 0 .. 8, step size: 1 ],
>      Default : 3
>    Contrast
>      ID      : 0x00000002,
>      Type    : Dword,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : [ 0 .. 6, step size: 1 ],
>      Default : 2
>    Brightness
>      ID      : 0x00000001,
>      Type    : Dword,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : [ 0 .. 100, step size: 1 ],
>      Default : 30
>
> ----------
>
> There is something I don't understand: the Exposure (Auto Priority)
> control:
>
>    Exposure, Auto Priority
>      ID      : 0x00000010,
>      Type    : Boolean,
>      Flags   : { CAN_READ, CAN_WRITE },
>      Values  : [ 20 .. 5000, step size: 1 ],
>      Default : 79
>
> is reported of being of type Boolean, but the allowable values are
> described as integers;

The V4L2 spec states, about the minimum and maximum values,

"This ?eld gives a lower (upper) bound for V4L2_CTRL_TYPE_INTEGER controls.
It may not be valid for any other type of control [...]."

The driver didn't clear unused fields in the v4l2_queryctrl structure, so 
boolean controls would report lower and upper bounds from the previously 
queried control.

Although not exactly required by the spec, I've fixed the driver in SVN to 
return 0 and 1 as the lower and upper bounds for boolean controls.

> nevertheless, I'm unable to change its value in 
> any way, and also getting its current value returns an error:
>
> moreno at colossus:~$ uvcdynctrl -g "Exposure, Auto Priority"
> ERROR: Unable to retrieve control value: A Video4Linux2 API call
> returned an unexpected error 5. (Code: 12)
>
> dmesg says:
>
> uvcvideo: Failed to query (129) UVC control 3 (unit 1) : -32 (exp. 1).
>
> However, this is likely a problem with uvcdynctrl rather than with the
> uvcvideo module.

This seems to be a webcam problem. The camera claims to support the "Exposure, 
Auto Priority" control but any attempt to get or set the control value 
returns an error. You can probably ignore that control.

> Now, as far as manual exposure is concerned, I'm doing this:
>
> moreno at colossus:~$ uvcdynctrl -s "Exposure, Auto" 0
> moreno at colossus:~$ uvcdynctrl -g "Exposure, Auto"
> 0
> moreno at colossus:~$ uvcdynctrl -s "Exposure (Absolute)" 20
> moreno at colossus:~$ uvcdynctrl -g "Exposure (Absolute)"
> 20
>
> After that, the image shown by luvcview is completely overexposed; the
> same happens if I set the Exposure (Absolute) control with a high value:
>
> moreno at colossus:~$ uvcdynctrl -s "Exposure (Absolute)" 4000
> moreno at colossus:~$ uvcdynctrl -g "Exposure (Absolute)"
> 4000
>
> I also tried to play around with the "Shutter Priority" and "Aperture
> Priority" values for the "Exposure, Auto" control, but without any
> apparent effect.
>
> If I set "Exposure, Auto" to 1 (Auto mode) and run luvcview, I can see
> that setting any value to the "Exposure (Absolute)" control results in
> the image becoming immediately overexposed, and then quickly coming back
> to normal as the camera automatically adjusts the exposure.
>
> Has any body been able to manually set the exposure on the Creative
> Live! Cam Optia (non-AF)?

My Live! Cam Optia suffers from the same problem. My guess would be a hardware 
issue. I don't think there's much I can do :-/ You could try to contact 
Creative Labs, they might have more information. I don't know if Windows 
supports manual exposure, but if you have access to a Windows box it might be 
interesting to see if it works there.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Jul 17 13:46:52 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 17 Jul 2008 13:46:52 +0200
Subject: [Linux-uvc-devel] Slow rate at nite?
In-Reply-To: <da8023da0807150356l132010fcu687a11293ffc9daf@mail.gmail.com>
References: <da8023da0807150356l132010fcu687a11293ffc9daf@mail.gmail.com>
Message-ID: <200807171346.52986.laurent.pinchart@skynet.be>

Hi Halil,

On Tuesday 15 July 2008, Halil Demirezen wrote:
> Hello,
>
> I am using Logitech Quickcam pro for Notebooks as input device for my
> mastership thesis  with the topict "constructing an autonomous tracker
> of a certain shape". For example red  circle on white A4 paper.
>
> Anyway, I could manage to set AUTO_EXPOSURE mode to OFF by
> calling like
>
> control.id = V4L2_CID_EXPOSURE_AUTO;
> control.value = 1;   // value 8 sets the auto exposure
>
> ioctl(vd->fd, VIDIOC_S_CTRL, &control);

The auto-exposure control supports the following values:

  0: Manual Mode
  1: Auto Mode
  2: Shutter Priority Mode
  3: Aperture Priority Mode

Instead of hard-coding the value, use the v4l2_exposure_auto_type enum defined 
in linux/videodev2.h (Linux 2.6.26 or newer).

enum  v4l2_exposure_auto_type {
        V4L2_EXPOSURE_AUTO = 0,
        V4L2_EXPOSURE_MANUAL = 1,
        V4L2_EXPOSURE_SHUTTER_PRIORITY = 2,
        V4L2_EXPOSURE_APERTURE_PRIORITY = 3
};

> and setting a certain exposure value by
>
> control.id = V4L2_CID_EXPOSURE_ABSOLUTE
> control.value = 350;
>
> ioctl(vd->fd, VIDIOC_S_CTRL, &control);
>
>
> Under dark light conditions the camera display is so dark that I
> make an  extra call to ioctl to set V4L2_CID_BRIGHTNESS to a
> certain value such as
>
> control.id = V4L2_CID_BRIGHTNESS
> control.value = 90;
>
> ioctl(vd->fd, VIDIOC_S_CTRL, &control);
>
>
> These are the only ioctl manipulations done on camera, however, even though
> I set the exposure to absolute which in the past auto exposure caused
> delays in the display, and set the brightness to support bright display
> under short exposure time, i am still getting delayed stream display
> sometimes. I could not get the logic behind when it will stream slow or
> normal. Is there any control which may lead to slow streaming that i should
> set?

Best regards,

Laurent Pinchart


From sjensen at versanet.de  Thu Jul 17 15:18:57 2008
From: sjensen at versanet.de (Stefan Jensen)
Date: Thu, 17 Jul 2008 15:18:57 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <487C7B32.8@lounge-warrior.org>
References: <487617EB.1000607@lounge-warrior.org>	<200807101903.52045.laurent.pinchart@skynet.be>
	<487C7B32.8@lounge-warrior.org>
Message-ID: <487F46C1.1070504@lounge-warrior.org>

Hi,...

>> Once the uvcvideo driver is configured, new V4L2 controls will be available to 
>> control pan and tilt.
> 
> Ok, today i got my brand new "Logitech Quickcam Sphere AF". I compiled and
> installed latest "uvcvideo" kernel modul and "libwebcam" and now i'm stuck with
> some errors:

I have resolved my errors and my cam is now running fine. How can i manage 
"motion" to work with this tracking feature? The current version seems can't 
talk to the driver? For a basic understanding, can this managed in
"logitech.xml" or have i to patch "motion" with the correct cmd set?

best regards

Stefan
--


From jice at free.fr  Thu Jul 17 00:58:34 2008
From: jice at free.fr (Jean-Christophe Jice Cardot)
Date: Wed, 16 Jul 2008 19:58:34 -0300
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <20080716135331.5fcc7ea6@frodo.mittelerde>
References: <mailman.84.1216116144.31492.linux-uvc-devel@lists.berlios.de>
	<492558.30569.qm@web53203.mail.re2.yahoo.com>
	<20080716135331.5fcc7ea6@frodo.mittelerde>
Message-ID: <200807161958.41472.jice@free.fr>

Le mercredi 16 juillet 2008, Andreas Volz a ?crit :
> Am Wed, 16 Jul 2008 04:13:29 -0700 (PDT) schrieb Emanoil Kotsev:
> > What kind of video card and video driver are you using. May be it's
> > related to my similar problem using ATI or NVidia proprietary drivers.
>
> An Nvidia Gforce2 on one system and a ATI card on the other system.
> Both with commercial OpenGL enabled drivers.
>
> Do you really think this may be a problem? What kind of problem did you
> have and how did you solve them?

I have the same problem here with a Philips SPC1000NC, which can output only 
mjpeg. Skype does not support mjpeg :-(

> Video playback works well in both systems. And I could receive the
> video from the remote skype.
>
> regards
> Andreas
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel



-- 
Jean-Christophe "Jic?" Cardot - cofondateur de http://lea-linux.org
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: This is a digitally signed message part.
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080716/e20de76f/attachment.pgp>

From laurent.pinchart at skynet.be  Thu Jul 17 16:34:06 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 17 Jul 2008 16:34:06 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <487F46C1.1070504@lounge-warrior.org>
References: <487617EB.1000607@lounge-warrior.org>
	<487C7B32.8@lounge-warrior.org>
	<487F46C1.1070504@lounge-warrior.org>
Message-ID: <200807171634.06795.laurent.pinchart@skynet.be>

Hi Stefan,

On Thursday 17 July 2008, Stefan Jensen wrote:
> Hi,...
>
> >> Once the uvcvideo driver is configured, new V4L2 controls will be
> >> available to control pan and tilt.
> >
> > Ok, today i got my brand new "Logitech Quickcam Sphere AF". I compiled
> > and installed latest "uvcvideo" kernel modul and "libwebcam" and now i'm
> > stuck with some errors:
>
> I have resolved my errors and my cam is now running fine.

I was about to check if I could reproduce your problem. Could you elaborate on 
how you resolved it so that other users can benefit from your experience ?

> How can i manage "motion" to work with this tracking feature? The current
> version seems can't talk to the driver? For a basic understanding, can this
> managed in "logitech.xml" or have i to patch "motion" with the correct cmd
> set? 

Pan/tilt support for UVC cameras is outdated in motion. The driver has been 
modified some time ago (I'd say between 6 months and a year) and now has a 
new interface to control pan/tilt.

Check the motion UVC pan/tilt patch page 
(http://www.lavrsen.dk/twiki/bin/view/Motion/LinuxUvcTrackingPatch). Your 
best bet would probably be to contact the author and/or maintainer to see if 
they can update the patch.

Best regards,

Laurent Pinchart


From deloptes at yahoo.com  Thu Jul 17 16:44:02 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Thu, 17 Jul 2008 07:44:02 -0700 (PDT)
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <200807171317.59085.laurent.pinchart@skynet.be>
Message-ID: <507370.30477.qm@web53208.mail.re2.yahoo.com>

Dear Laurent,

I appreciate your opinion and you are right in what you say. I am also aware of the problems with proprietary software and I don't blame anybody.

I'm also very thankful to you and people like who make things work under linux. I have helped and still help a lot to improve (debug, develop) software working under linux but it is obvious that a lot of stuff still is not working

It just sucks that I can not do few simple things and that makes me angry.

I was very optimistic then back in 1998 about linux but it all turns to be more or less a OS for servers and home experiments, because compared to cemercial OS like the stupid MS and OS X I'm spending more time in such community forums as doing things with my pc - I mean I'm more buzy with debugging than using the OS...

Sorry if you or someone else feel insulted by what I said, but also you can not deny the fact that it is not working as it should be, because I have evidence that it is not working...

As I decided not to use MS years ago I am considering buying Apple next year.

I think this is the best solution for me because recently I'm pretty buzzy with my job and familly and I don't have that much time to debug linux.

I would recommend using linux in home or small buziness office solutions as a server but it's still far from stability as a workstation.
Some hope brings an experiment like EEEC but the future will show if this is a winner.

I appreciate your opinion and the work all of the free software community do - it is very important.

I'm really sorry speaking so negatively about linux in general.

kind regards

--- On Thu, 7/17/08, Laurent Pinchart <laurent.pinchart at skynet.be> wrote:

> From: Laurent Pinchart <laurent.pinchart at skynet.be>
> Subject: Re: [Linux-uvc-devel] Skype not working
> To: linux-uvc-devel at lists.berlios.de, deloptes at yahoo.com
> Date: Thursday, July 17, 2008, 1:17 PM
> On Thursday 17 July 2008, Emanoil Kotsev wrote:
> > > Am Wed, 16 Jul 2008 04:13:29 -0700 (PDT) schrieb
> Emanoil
> > >
> > > Kotsev:
> > > > What kind of video card and video driver are
> you
> > >
> > > using. May be it's
> > >
> > > > related to my similar problem using ATI or
> NVidia
> > >
> > > proprietary drivers.
> > >
> > > An Nvidia Gforce2 on one system and a ATI card on
> the other
> > > system.
> > > Both with commercial OpenGL enabled drivers.
> >
> > Yes, I have exactly the same experience with skype
> with both ATI and NVidia
> > cards and the commercial drivers. Basically what
> happens is that after
> > starting a video conference it slows down and hangs
> after a while, forcing
> > me to kill and restart skype. I read that there is a
> known problem with ATI
> > (a memory leak but don't remember if it was a
> Skype problem or ATI) also no
> > idea when it will be fixed and at which side. I
> don't have access on daily
> > basis to the PC with the ATI card, but I have replaced
> the Nvidia
> > proprietary driver with the free NV one and skype is
> working fine.
> > Unfortunately this is at the cost of the nice 3D GL
> support (googleearth
> > and other apps are not working), so I am really
> thinking of buying an Apple
> > PC and solving all of the issues :-( dam it I need few
> things to work and.
> > As this is not the only thing that's bugging me in
> linux I'm getting more
> > disappointed, though I really love it. I've been
> using it since 1998 and I
> > think it was more simple and more stable at what it
> claimed to can do.
> 
> In 1998 you obviously didn't have Skype issues, as
> there was no Skype at all. 
> Just uninstall Skype and you'll get back to your 1998
> stability :-)
> 
> > If someone has a solution and a proof for the oposite
> please you're
> > welcome. we can move this discussion also to another
> place as I don't think
> > this is the proper place for it.
> >
> > > Do you really think this may be a problem? What
> kind of
> > > problem did you
> > > have and how did you solve them?
> >
> > Just change the line in the xorg.conf file
> >
> > Driver "nvidia" to
> > Driver "nv"
> >
> > It might be also necessary to change few other things
> but for me changing
> > this line worked, so now video skyping is fine ;-)
> >
> > > Video playback works well in both systems. And I
> could
> > > receive the
> > > video from the remote skype.
> >
> > Yes it is the same behaviour as I had. If I send skype
> video  it works and
> > If I receive it works too, but as soon as  both parts
> send skype video it
> > breaks - SH...T!
> >
> > Hope this helps but I'm getting a little bit angry
> 
> You can't blame Linux as a whole because proprietary
> software vendors ship 
> broken products. That's just not fair.
> 
> Best regards,
> 
> Laurent Pinchart


      


From vindex+lists-linux-uvc-devel at apartia.org  Thu Jul 17 18:15:02 2008
From: vindex+lists-linux-uvc-devel at apartia.org (Louis-David Mitterrand)
Date: Thu, 17 Jul 2008 18:15:02 +0200
Subject: [Linux-uvc-devel] two UVC simultaneous devices impossible ?
Message-ID: <20080717161502.GA23706@apartia.fr>

Hi,

Using kernel 2.6.26 on a debian/unstable box I find it impossible to
start motion with two UVC cameras:

	Jul 17 18:11:00 sylla kernel: uvcvideo: Failed to submit URB 0 (-28).
	Jul 17 18:11:00 sylla motion: [1] Error starting stream.
	Jul 17 18:11:00 sylla motion: [1] VIDIOC_STREAMON: No space left on device
	Jul 17 18:11:00 sylla motion: [1] ioctl(VIDIOCGMBUF) - Error device does not support memory map

When using one UVC camera + one PWC camera with the same configuration
it works fine.

Is there a limitation in the UVC driver regarding simultaneous camera
use?

Thanks,


From sjensen at versanet.de  Thu Jul 17 18:26:03 2008
From: sjensen at versanet.de (Stefan Jensen)
Date: Thu, 17 Jul 2008 18:26:03 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <200807171634.06795.laurent.pinchart@skynet.be>
References: <487617EB.1000607@lounge-warrior.org>
	<487C7B32.8@lounge-warrior.org>
	<487F46C1.1070504@lounge-warrior.org>
	<200807171634.06795.laurent.pinchart@skynet.be>
Message-ID: <487F729B.4080000@lounge-warrior.org>

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Hi Laurent,...

Laurent Pinchart schrieb:

| I was about to check if I could reproduce your problem. Could you elaborate on
| how you resolved it so that other users can benefit from your experience ?

I simply moved back to the kernel delivered module. (by overwriting the compiled
module, but leave the rest untouched.) Seems to work so far.

filename:/lib/modules/2.6.25.10-47.fc8/kernel/drivers/media/video/uvcvideo/uvcvideo.ko
version: SVN r200

only this error is still on both versions: (which is another workspace , i'll guess)

[libwebcam] Unknown custom V4L2 control ID encountered: 134217728
(V4L2_CID_PRIVATE_BASE + 0)

| (http://www.lavrsen.dk/twiki/bin/view/Motion/LinuxUvcTrackingPatch). Your
| best bet would probably be to contact the author and/or maintainer to see if
| they can update the patch.

Thanks, i'll do so. Currently i managed get it to work with a modified
logitech.xml:

<constant type="integer">
~  <id>V4L2_CID_PAN_RELATIVE</id>
~  <value>0x08000007</value>
</constant>
<constant type="integer">
~  <id>V4L2_CID_TILT_RELATIVE</id>
~ <value>0x08000008</value>
</constant>
<constant type="integer">
~  <id>V4L2_CID_PANTILT_RESET</id>
~  <value>0x08000009</value>
</constant>

This is not a real solution, of course. But for my first steps the cam is
basically working and i can get more in touch with the hole concept.

If you want me to do some testing on the actual svn driver, feel free to
instruct me. :-)

best regards

Stefan
- --
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.7 (GNU/Linux)

iD8DBQFIf3KbSFEQj2CW78URAgWMAKCU5V9pIW6bK/PSYjrV+3ev2kNy/gCbBI/y
NIV/RBAwuga+q4ekIlznFV8=
=5tTM
-----END PGP SIGNATURE-----


From HicksCorp at GMail.com  Thu Jul 17 18:34:06 2008
From: HicksCorp at GMail.com (MARTIN Pierre)
Date: Thu, 17 Jul 2008 18:34:06 +0200
Subject: [Linux-uvc-devel] unsuscribe
Message-ID: <636C8E7B-A5DF-4220-A39E-A8D7EF6C592D@GMail.com>


-------------- next part --------------
A non-text attachment was scrubbed...
Name: MARTIN Pierre.vcf
Type: text/directory
Size: 3116 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080717/fc3b41d4/attachment.bin>
-------------- next part --------------


-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 1742 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080717/fc3b41d4/attachment-0001.bin>

From nixpanic at users.sourceforge.net  Thu Jul 17 20:03:40 2008
From: nixpanic at users.sourceforge.net (Niels de Vos)
Date: Thu, 17 Jul 2008 20:03:40 +0200
Subject: [Linux-uvc-devel] [PATCH] fix compiling on CentOS-5.2 kernel 2.6.18
Message-ID: <1b51b6f80807171103h2efa05afxe186fd2d668158b9@mail.gmail.com>

Hello,

the attached patch fixes compile issues on kernel 2.6.18 (Red Hat
Enterprise, CentOS).

Thanks,
Niels
-------------- next part --------------
A non-text attachment was scrubbed...
Name: linux-uvc_fix-compat-2.6.18.patch
Type: text/x-patch
Size: 526 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080717/25f82a3e/attachment.bin>

From tempo at martufone.info  Thu Jul 17 22:25:24 2008
From: tempo at martufone.info (martuf1)
Date: Thu, 17 Jul 2008 22:25:24 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
Message-ID: <487FAAB4.4060903@martufone.info>

Hi,
my notebook has a Syntek camera (174f:8a12),
lsusb says it's an UVC Camera
   iProduct                3 USB2.0 UVC PC Camera
(please see attached file for the complete output of the command)

It doesn't work; dmesg says:

[ 8524.914397] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera 
(174f:8a12)
[ 8524.936046] uvcvideo: Failed to query (135) UVC control 1 (unit 0) : 
-32 (exp. 26).
[ 8525.170271] usbcore: registered new interface driver uvcvideo
[ 8525.170278] USB Video Class driver (SVN r231)
[ 8525.696738] uvcvideo: Failed to query (129) UVC control 1 (unit 0) : 
-110 (exp. 26).

Any idea, help, etc is welcome
thanks
  martuf1

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: 174f:8a12.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080717/4398e4f3/attachment.txt>

From lists at brachttal.net  Thu Jul 17 22:25:54 2008
From: lists at brachttal.net (Andreas Volz)
Date: Thu, 17 Jul 2008 22:25:54 +0200
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <492558.30569.qm@web53203.mail.re2.yahoo.com>
References: <mailman.84.1216116144.31492.linux-uvc-devel@lists.berlios.de>
	<492558.30569.qm@web53203.mail.re2.yahoo.com>
Message-ID: <20080717222554.58b16985@frodo.mittelerde>

Am Wed, 16 Jul 2008 04:13:29 -0700 (PDT) schrieb Emanoil Kotsev:

> What kind of video card and video driver are you using. May be it's
> related to my similar problem using ATI or NVidia proprietary drivers.

I tried "nv" driver and the result was the same. :-(

regards
Andreas


From laurent.pinchart at skynet.be  Thu Jul 17 23:01:07 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 17 Jul 2008 23:01:07 +0200
Subject: [Linux-uvc-devel] two UVC simultaneous devices impossible ?
In-Reply-To: <20080717161502.GA23706@apartia.fr>
References: <20080717161502.GA23706@apartia.fr>
Message-ID: <200807172301.07204.laurent.pinchart@skynet.be>

Hi Louis,

On Thursday 17 July 2008, Louis-David Mitterrand wrote:
> Hi,
>
> Using kernel 2.6.26 on a debian/unstable box I find it impossible to
> start motion with two UVC cameras:
>
> 	Jul 17 18:11:00 sylla kernel: uvcvideo: Failed to submit URB 0 (-28).
> 	Jul 17 18:11:00 sylla motion: [1] Error starting stream.
> 	Jul 17 18:11:00 sylla motion: [1] VIDIOC_STREAMON: No space left on device
> 	Jul 17 18:11:00 sylla motion: [1] ioctl(VIDIOCGMBUF) - Error device does
> not support memory map
>
> When using one UVC camera + one PWC camera with the same configuration
> it works fine.
>
> Is there a limitation in the UVC driver regarding simultaneous camera
> use?

No, but there's a USB bandwidth limit. You're probably trying to stream using 
a high resolution uncompressed format. Try to switch to MJPEG if possible 
(your camera obviously needs to support MJPEG), lower the resolution or use 
separate USB controllers.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Thu Jul 17 23:04:38 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 17 Jul 2008 23:04:38 +0200
Subject: [Linux-uvc-devel] [PATCH] fix compiling on CentOS-5.2 kernel
	2.6.18
In-Reply-To: <1b51b6f80807171103h2efa05afxe186fd2d668158b9@mail.gmail.com>
References: <1b51b6f80807171103h2efa05afxe186fd2d668158b9@mail.gmail.com>
Message-ID: <200807172304.38742.laurent.pinchart@skynet.be>

On Thursday 17 July 2008, Niels de Vos wrote:
> Hello,
>
> the attached patch fixes compile issues on kernel 2.6.18 (Red Hat
> Enterprise, CentOS).

But it breaks compilation on non-Red Hat 2.6.18 kernels. Red Hat ships lots of 
backported patches with its kernels. In this case the fault is on Red Hat's 
side.

Best regards,

Laurent Pinchart


From asergiu at yahoo.co.uk  Fri Jul 18 00:27:18 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Fri, 18 Jul 2008 01:27:18 +0300
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <487FAAB4.4060903@martufone.info>
References: <487FAAB4.4060903@martufone.info>
Message-ID: <93E52AB2C06048E884EABBB00711185F@core2>

I have a similar Syntek camera 174F:8a51 that blocks on Failed to query some
controls.Maybe in your case you'll have better luck. Mine is a 2M camera
that works on windows but fails desperately on Linux. I did not manage yet
to get a solution (it might be either the camera or the usb modules in
Linux).

With 2.6.25 kernels it behaves a little bit better but still not working.

Adrian

-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of martuf1
Sent: Thursday, July 17, 2008 11:25 PM
To: linux-uvc-devel at lists.berlios.de
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?

Hi,
my notebook has a Syntek camera (174f:8a12),
lsusb says it's an UVC Camera
   iProduct                3 USB2.0 UVC PC Camera
(please see attached file for the complete output of the command)

It doesn't work; dmesg says:

[ 8524.914397] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera 
(174f:8a12)
[ 8524.936046] uvcvideo: Failed to query (135) UVC control 1 (unit 0) : 
-32 (exp. 26).
[ 8525.170271] usbcore: registered new interface driver uvcvideo
[ 8525.170278] USB Video Class driver (SVN r231)
[ 8525.696738] uvcvideo: Failed to query (129) UVC control 1 (unit 0) : 
-110 (exp. 26).

Any idea, help, etc is welcome
thanks
  martuf1





From vindex+lists-linux-uvc-devel at apartia.org  Fri Jul 18 09:37:04 2008
From: vindex+lists-linux-uvc-devel at apartia.org (Louis-David Mitterrand)
Date: Fri, 18 Jul 2008 09:37:04 +0200
Subject: [Linux-uvc-devel] two UVC simultaneous devices impossible ?
In-Reply-To: <200807172301.07204.laurent.pinchart@skynet.be>
References: <20080717161502.GA23706@apartia.fr>
	<200807172301.07204.laurent.pinchart@skynet.be>
Message-ID: <20080718073704.GA24269@apartia.fr>

On Thu, Jul 17, 2008 at 11:01:07PM +0200, Laurent Pinchart wrote:
> Hi Louis,
> 
> On Thursday 17 July 2008, Louis-David Mitterrand wrote:
> > Hi,
> >
> > Using kernel 2.6.26 on a debian/unstable box I find it impossible to
> > start motion with two UVC cameras:
> >
> > 	Jul 17 18:11:00 sylla kernel: uvcvideo: Failed to submit URB 0 (-28).
> > 	Jul 17 18:11:00 sylla motion: [1] Error starting stream.
> > 	Jul 17 18:11:00 sylla motion: [1] VIDIOC_STREAMON: No space left on device
> > 	Jul 17 18:11:00 sylla motion: [1] ioctl(VIDIOCGMBUF) - Error device does
> > not support memory map
> >
> > When using one UVC camera + one PWC camera with the same configuration
> > it works fine.
> >
> > Is there a limitation in the UVC driver regarding simultaneous camera
> > use?
> 
> No, but there's a USB bandwidth limit. You're probably trying to stream using 
> a high resolution uncompressed format. Try to switch to MJPEG if possible 
> (your camera obviously needs to support MJPEG), lower the resolution or use 
> separate USB controllers.

Lowering the resolution on both cameras to the minimum (640x480) doesn't
help. However with a PWC camera at 640x480 and a UVC one at 960x720 it
works fine. And in both cases (UVC + UVC and UVC + PWC) only YUYV is
used, not MJPEG.

So it doesn't seem to be a USB bandwidth problem...

Thanks,


From j.lammerts at chello.nl  Fri Jul 18 10:15:22 2008
From: j.lammerts at chello.nl (Hans Lammerts)
Date: Fri, 18 Jul 2008 10:15:22 +0200
Subject: [Linux-uvc-devel] Error using Logitech Orbit camera
Message-ID: <20080718101522.yirk9ns2okk0gc8k@hanslammerts.mine.nu>

Hi,

Although I have read al lot of posts regarding problems with my  
Logitech Orbit cam when using uvcvideo, I still can't pinpoint my  
exact problem.
I downloaded the latest SVN, compiled it and loaded the module with  
tracing set to 0xffff.
(BTW, trying this on an Kubuntu 8.04 machine).
When using the zmu command from Zoneminder (trying to access the  
camera which has been discovered on /dev/video0), an error is returned  
from zmu, and the debug info in dmesg looks like this (starting at  
modprobe'ing the module, followed by the zmu command) :

[173818.963187] usbcore: deregistering interface driver uvcvideo
[173833.966421] uvcvideo: Adding mapping Brightness to control  
00000000-0000-0000-0000-000000000101/2.
[173833.967129] uvcvideo: Adding mapping Contrast to control  
00000000-0000-0000-0000-000000000101/3.
[173833.967616] uvcvideo: Adding mapping Hue to control  
00000000-0000-0000-0000-000000000101/6.
[173833.968012] uvcvideo: Adding mapping Saturation to control  
00000000-0000-0000-0000-000000000101/7.
[173833.968443] uvcvideo: Adding mapping Sharpness to control  
00000000-0000-0000-0000-000000000101/8.
[173833.968849] uvcvideo: Adding mapping Gamma to control  
00000000-0000-0000-0000-000000000101/9.
[173833.969245] uvcvideo: Adding mapping Backlight Compensation to  
control 00000000-0000-0000-0000-000000000101/1.
[173833.969781] uvcvideo: Adding mapping Gain to control  
00000000-0000-0000-0000-000000000101/4.
[173833.970174] uvcvideo: Adding mapping Power Line Frequency to  
control 00000000-0000-0000-0000-000000000101/5.
[173833.970611] uvcvideo: Adding mapping Hue, Auto to control  
00000000-0000-0000-0000-000000000101/16.
[173833.971012] uvcvideo: Adding mapping Exposure, Auto to control  
00000000-0000-0000-0000-000000000001/2.
[173833.971450] uvcvideo: Adding mapping Exposure, Auto Priority to  
control 00000000-0000-0000-0000-000000000001/3.
[173833.971974] uvcvideo: Adding mapping Exposure (Absolute) to  
control 00000000-0000-0000-0000-000000000001/4.
[173833.972401] uvcvideo: Adding mapping White Balance Temperature,  
Auto to control 00000000-0000-0000-0000-000000000101/11.
[173833.972859] uvcvideo: Adding mapping White Balance Temperature to  
control 00000000-0000-0000-0000-000000000101/10.
[173833.973320] uvcvideo: Adding mapping White Balance Component, Auto  
to control 00000000-0000-0000-0000-000000000101/13.
[173833.973916] uvcvideo: Adding mapping White Balance Blue Component  
to control 00000000-0000-0000-0000-000000000101/12.
[173833.973930] uvcvideo: Adding mapping White Balance Red Component  
to control 00000000-0000-0000-0000-000000000101/12.
[173833.973940] uvcvideo: Adding mapping Focus (absolute) to control  
00000000-0000-0000-0000-000000000001/6.
[173833.973950] uvcvideo: Adding mapping Focus, Auto to control  
00000000-0000-0000-0000-000000000001/8.
[173833.974050] uvcvideo: Probing generic UVC device 1
[173833.974084] uvcvideo: Found format MJPEG.
[173833.974091] uvcvideo: - 160x120 (30.0 fps)
[173833.974095] uvcvideo: - 176x144 (30.0 fps)
[173833.974099] uvcvideo: - 320x240 (15.0 fps)
[173833.974102] uvcvideo: - 352x288 (15.0 fps)
[173833.974106] uvcvideo: - 640x480 (15.0 fps)
[173833.974113] uvcvideo: Found format YUV 4:2:2 (YUYV).
[173833.974117] uvcvideo: - 160x120 (15.0 fps)
[173833.974121] uvcvideo: - 176x144 (15.0 fps)
[173833.974148] uvcvideo: Found a Status endpoint (addr 87).
[173833.974154] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08cc)
[173833.974176] uvcvideo: Added control  
00000000-0000-0000-0000-000000000101/2 to device 1 entity 2
[173833.974185] uvcvideo: Added control  
00000000-0000-0000-0000-000000000101/3 to device 1 entity 2
[173833.974193] uvcvideo: Added control  
00000000-0000-0000-0000-000000000101/7 to device 1 entity 2
[173833.974202] uvcvideo: Added control  
00000000-0000-0000-0000-000000000101/8 to device 1 entity 2
[173833.974210] uvcvideo: Added control  
00000000-0000-0000-0000-000000000101/1 to device 1 entity 2
[173833.974218] uvcvideo: Added control  
00000000-0000-0000-0000-000000000101/4 to device 1 entity 2
[173833.974226] uvcvideo: Added control  
00000000-0000-0000-0000-000000000101/5 to device 1 entity 2
[173833.974234] uvcvideo: Added control  
00000000-0000-0000-0000-000000000001/2 to device 1 entity 1
[173833.974242] uvcvideo: Added control  
00000000-0000-0000-0000-000000000001/3 to device 1 entity 1
[173833.974250] uvcvideo: Added control  
00000000-0000-0000-0000-000000000001/4 to device 1 entity 1
[173833.974259] uvcvideo: Added control  
00000000-0000-0000-0000-000000000101/11 to device 1 entity 2
[173833.974267] uvcvideo: Added control  
00000000-0000-0000-0000-000000000101/10 to device 1 entity 2
[173833.974276] uvcvideo: Scanning UVC chain: OT 5 <- XU 4 (-> XU 12 8  
10 11 9) <- XU 3 (-> XU 13) <- PU 2 <- IT 1
[173833.974294] uvcvideo: Found a valid video chain (1 -> 5).
[173833.999844] input: UVC Camera (046d:08cc) as  
/devices/pci0000:00/0000:00:07.3/usb2/2-1/2-1:1.0/input/input11
[173834.018986] uvcvideo: uvc_v4l2_open
[173834.019025] uvcvideo: uvc_v4l2_ioctl
[173834.019035] v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
[173834.021566] uvcvideo: uvc_v4l2_ioctl
[173834.021590] v4l1 ioctl VIDIOCGCAP, dir=r- (0x803c7601)
[173834.021601] v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
[173834.021610] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
[173834.021615] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
[173834.021620] v4l2 ioctl VIDIOC_ENUM_FMT, dir=rw (0xc0405602)
[173834.021627] v4l2 ioctl VIDIOC_TRY_FMT, dir=rw (0xc0cc5640)
[173834.021634] uvcvideo: Trying format 0x47504a4d (MJPG): 10000x10000.
[173834.021641] uvcvideo: Using default frame interval 66666.6 us (15.0 fps).
[173834.024389] uvcvideo: UVC device initialized.
[173834.024444] usbcore: registered new interface driver uvcvideo
[173834.024453] USB Video Class driver (SVN r231)
[173834.059086] uvcvideo: uvc_v4l2_release
[173839.040639] uvcvideo: uvc_v4l2_open
[173839.041580] uvcvideo: uvc_v4l2_ioctl
[173839.041596] v4l1 ioctl VIDIOCGCAP, dir=r- (0x803c7601)
[173839.041608] v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
[173839.041616] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
[173839.041622] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
[173839.041627] v4l2 ioctl VIDIOC_ENUM_FMT, dir=rw (0xc0405602)
[173839.041634] v4l2 ioctl VIDIOC_TRY_FMT, dir=rw (0xc0cc5640)
[173839.044058] uvcvideo: Trying format 0x47504a4d (MJPG): 10000x10000.
[173839.044069] uvcvideo: Using default frame interval 66666.6 us (15.0 fps).
[173839.080447] uvcvideo: uvc_v4l2_ioctl
[173839.080472] v4l1 ioctl VIDIOCGWIN, dir=r- (0x80207609)
[173839.080481] v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0cc5604)
[173839.080488] v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0cc5604)
[173839.080501] uvcvideo: uvc_v4l2_ioctl
[173839.080505] v4l1 ioctl VIDIOCGPICT, dir=r- (0x800e7606)
[173839.080511] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
[173839.094318] v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
[173839.097323] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
[173839.097336] uvcvideo: Control 0x00980903 not found.
[173839.097341] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
[173839.116303] v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
[173839.120396] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
[173839.133307] v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
[173839.137300] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
[173839.137313] uvcvideo: Control 0x00980910 not found.
[173839.137320] v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0cc5604)
[173839.137381] uvcvideo: uvc_v4l2_ioctl
[173839.137388] v4l1 ioctl VIDIOCGCHAN, dir=rw (0xc0307602)
[173839.137395] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
[173839.137401] v4l2 ioctl VIDIOC_G_STD, dir=r- (0x80085617)
[173839.137405] uvcvideo: Unsupported ioctl 0x80085617
[173839.138738] uvcvideo: uvc_v4l2_release

Questions:

1) Is zmu causing this error ?
2) Is there another tool/utility that I can use to access this cam, if  
zmu is  causing this behaviour ?
3) Is the line before last the actual cause of the problem ?

If anyone would be so kind to point me in any direction at all  
(preferably one that leads to a solution of some sort), it would be  
greatly appreciated.

Hans

----------------------------------------------------------------
This message was sent using IMP, the Internet Messaging Program.



From alex at alexpounds.com  Fri Jul 18 11:54:52 2008
From: alex at alexpounds.com (Alex Pounds)
Date: Fri, 18 Jul 2008 10:54:52 +0100
Subject: [Linux-uvc-devel] Slow rate at nite?
In-Reply-To: <200807171346.52986.laurent.pinchart@skynet.be>
References: <da8023da0807150356l132010fcu687a11293ffc9daf@mail.gmail.com>
	<200807171346.52986.laurent.pinchart@skynet.be>
Message-ID: <20080718095452.GA13416@aquila>

On Thu, Jul 17, 2008 at 01:46:52PM +0200, Laurent Pinchart wrote:
> The auto-exposure control supports the following values:
> 
>   0: Manual Mode
>   1: Auto Mode
>   2: Shutter Priority Mode
>   3: Aperture Priority Mode
> 
> Instead of hard-coding the value, use the v4l2_exposure_auto_type enum defined 
> in linux/videodev2.h (Linux 2.6.26 or newer).
> 
> enum  v4l2_exposure_auto_type {
>         V4L2_EXPOSURE_AUTO = 0,
>         V4L2_EXPOSURE_MANUAL = 1,
>         V4L2_EXPOSURE_SHUTTER_PRIORITY = 2,
>         V4L2_EXPOSURE_APERTURE_PRIORITY = 3
> };

The constants and your description seem to have 0 and 1 transposed. Which
is correct? 


Best wishes, 

-- 
Alex Pounds (Creature)                  .~.     http://www.alexpounds.com/
                                        /V\    http://www.ethicsgirls.com/
                                       // \\
"Variables won't; Constants aren't"   /(   )\
                                       ^`~'^


From darren.longhorn at redembedded.com  Fri Jul 18 13:26:35 2008
From: darren.longhorn at redembedded.com (Darren Longhorn)
Date: Fri, 18 Jul 2008 12:26:35 +0100
Subject: [Linux-uvc-devel] Kinstone C18  is uvc compatible
Message-ID: <48807DEB.4070501@redembedded.com>

Works OK with svn 228

guest at UbuntuBuildVM:~$ lsusb -v
Bus 002 Device 018: ID 1cac:b288 Device Descriptor: bLength 
      18
   bDescriptorType         1
   bcdUSB               2.00
   bDeviceClass          239 Miscellaneous Device
   bDeviceSubClass         2 ?
   bDeviceProtocol         1 Interface Association
   bMaxPacketSize0        64
   idVendor           0x1cac
   idProduct          0xb288
   bcdDevice            1.00
   iManufacturer           2
   iProduct                1
   iSerial                 0
   bNumConfigurations      1
   Configuration Descriptor: bLength                 9
     bDescriptorType         2
     wTotalLength          569
     bNumInterfaces          2
     bConfigurationValue     1
     iConfiguration          0
     bmAttributes         0x80 (Bus Powered) MaxPower               98mA
     Interface Association: bLength                 8
       bDescriptorType        11
       bFirstInterface         0
       bInterfaceCount         2
       bFunctionClass         14 Video
       bFunctionSubClass       3 Video Interface Collection 
bFunctionProtocol       0
       iFunction               1 Interface Descriptor: bLength 
          9
       bDescriptorType         4
       bInterfaceNumber        0
       bAlternateSetting       0
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      1 Video Control
       bInterfaceProtocol      0
       iInterface              1
       VideoControl Interface Descriptor: bLength                13
         bDescriptorType        36
         bDescriptorSubtype      1 (HEADER)
         bcdUVC               1.00
         wTotalLength          103
         dwClockFrequency       15.000000MHz
         bInCollection           1
         baInterfaceNr( 0)       1 VideoControl Interface Descriptor: 
bLength                 9
         bDescriptorType        36
         bDescriptorSubtype      3 (OUTPUT_TERMINAL)
         bTerminalID             2
         wTerminalType      0x0101 USB Streaming
         bAssocTerminal          0
         bSourceID               5
         iTerminal               0 VideoControl Interface Descriptor: 
bLength                26
         bDescriptorType        36
         bDescriptorSubtype      6 (EXTENSION_UNIT)
         bUnitID                 4
         guidExtensionCode 
{7033f028-1163-2e4a-ba2c-6890eb334016} bNumControl             8
         bNrPins                 1
         baSourceID( 0)          3
         bControlSize            1
         bmControls( 0)       0x0f
         iExtension              0 VideoControl Interface Descriptor: 
bLength                26
         bDescriptorType        36
         bDescriptorSubtype      6 (EXTENSION_UNIT)
         bUnitID                 5
         guidExtensionCode 
{3fae1228-d7bc-114e-a357-6f1edef7d61d} bNumControl             8
         bNrPins                 1
         baSourceID( 0)          4
         bControlSize            1
         bmControls( 0)       0x00
         iExtension              0 VideoControl Interface Descriptor: 
bLength                18
         bDescriptorType        36
         bDescriptorSubtype      2 (INPUT_TERMINAL)
         bTerminalID             1
         wTerminalType      0x0201 Camera Sensor
         bAssocTerminal          0
         iTerminal               0
         wObjectiveFocalLengthMin      0
         wObjectiveFocalLengthMax      0
         wOcularFocalLength            0
         bControlSize                  3
         bmControls           0x00000000 VideoControl Interface 
Descriptor: bLength                11
         bDescriptorType        36
         bDescriptorSubtype      5 (PROCESSING_UNIT) Warning: 
Descriptor too short bUnitID                 3
         bSourceID               1
         wMaxMultiplier          0
         bControlSize            2
         bmControls     0x0000053f Brightness
           Contrast
           Hue
           Saturation
           Sharpness
           Gamma
           Backlight Compensation
           Power Line Frequency iProcessing             0
         bmVideoStandards     0x 0 Endpoint Descriptor: bLength 
           7
         bDescriptorType         5
         bEndpointAddress     0x83  EP 3 IN
         bmAttributes            3 Transfer Type            Interrupt
           Synch Type               None
           Usage Type               Data wMaxPacketSize     0x0010  1x 
16 bytes
         bInterval               6 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       0
       bNumEndpoints           0
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       VideoStreaming Interface Descriptor: bLength 
          14
         bDescriptorType                    36
         bDescriptorSubtype                  1 (INPUT_HEADER)
         bNumFormats                        1
         wTotalLength                      323
         bEndPointAddress                  129
         bmInfo                              0
         bTerminalLink                       2
         bStillCaptureMethod                 2
         bTriggerSupport                     1
         bTriggerUsage                       0
         bControlSize                        1
         bmaControls( 0)                    27 VideoStreaming 
Interface Descriptor: bLength                            27
         bDescriptorType                    36
         bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED) 
bFormatIndex                        1
         bNumFrameDescriptors                5
         guidFormat {59555932-0000-1000-8000-00aa00389b71} 
bBitsPerPixel                      16
         bDefaultFrameIndex                  1
         bAspectRatioX                       0
         bAspectRatioY                       0
         bmInterlaceFlags                 0x00 Interlaced stream or 
variable: No
           Fields per frame: 1 fields
           Field 1 first: No
           Field pattern: Field 1 only
           bCopyProtect                      0 VideoStreaming 
Interface Descriptor: bLength                            50
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         1
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            640
         wHeight                           480
         dwMinBitRate                   614400
         dwMaxBitRate                 18432000
         dwMaxVideoFrameBufferSize      614400
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  6
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
         dwFrameInterval( 5)          10000000 VideoStreaming 
Interface Descriptor: bLength                            50
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         2
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            352
         wHeight                           288
         dwMinBitRate                   202752
         dwMaxBitRate                  6082560
         dwMaxVideoFrameBufferSize      202752
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  6
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
         dwFrameInterval( 5)          10000000 VideoStreaming 
Interface Descriptor: bLength                            50
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         3
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            320
         wHeight                           240
         dwMinBitRate                   153600
         dwMaxBitRate                  4608000
         dwMaxVideoFrameBufferSize      153600
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  6
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
         dwFrameInterval( 5)          10000000 VideoStreaming 
Interface Descriptor: bLength                            50
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         4
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            176
         wHeight                           144
         dwMinBitRate                    50688
         dwMaxBitRate                  1520640
         dwMaxVideoFrameBufferSize       50688
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  6
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
         dwFrameInterval( 5)          10000000 VideoStreaming 
Interface Descriptor: bLength                            50
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         5
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            160
         wHeight                           120
         dwMinBitRate                    38400
         dwMaxBitRate                  1152000
         dwMaxVideoFrameBufferSize       38400
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  6
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            500000
         dwFrameInterval( 2)            666666
         dwFrameInterval( 3)           1000000
         dwFrameInterval( 4)           2000000
         dwFrameInterval( 5)          10000000 VideoStreaming 
Interface Descriptor: bLength                            26
         bDescriptorType                    36
         bDescriptorSubtype                  3 (STILL_IMAGE_FRAME) 
bEndpointAddress                    0
         bNumImageSizePatterns               5
         wWidth( 0)                        640
         wHeight( 0)                       480
         wWidth( 1)                        352
         wHeight( 1)                       288
         wWidth( 2)                        320
         wHeight( 2)                       240
         wWidth( 3)                        176
         wHeight( 3)                       144
         wWidth( 4)                        160
         wHeight( 4)                       120
         bNumCompressionPatterns             5 VideoStreaming 
Interface Descriptor: bLength                             6
         bDescriptorType                    36
         bDescriptorSubtype                 13 (COLORFORMAT) 
bColorPrimaries                     1 (BT.709,sRGB) 
bTransferCharacteristics            1 (BT.709)
         bMatrixCoefficients                 4 (SMPTE 170M (BT.601)) 
Interface Descriptor: bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       1
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x0080  1x 
128 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       2
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x0100  1x 
256 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       3
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x0320  1x 
800 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       4
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x0b20  2x 
800 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       5
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x1320  3x 
800 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       6
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x1400  3x 
1024 bytes
         bInterval               1 can't get device qualifier: 
Operation not permitted can't get debug descriptor: Operation not 
permitted cannot read device status, Operation not permitted (1)


From darren.longhorn at redembedded.com  Fri Jul 18 13:43:06 2008
From: darren.longhorn at redembedded.com (Darren Longhorn)
Date: Fri, 18 Jul 2008 12:43:06 +0100
Subject: [Linux-uvc-devel] Kinstone KS-C8 is uvc compatible
Message-ID: <488081CA.3020903@redembedded.com>

Works OK with svn 228

guest at UbuntuBuildVM:~$ lsusb -v
Bus 002 Device 019: ID 1cac:a332 Device Descriptor: bLength 
      18
   bDescriptorType         1
   bcdUSB               2.00
   bDeviceClass          239 Miscellaneous Device
   bDeviceSubClass         2 ?
   bDeviceProtocol         1 Interface Association
   bMaxPacketSize0        64
   idVendor           0x1cac
   idProduct          0xa332
   bcdDevice            1.00
   iManufacturer           1
   iProduct                2
   iSerial                 0
   bNumConfigurations      1
   Configuration Descriptor: bLength                 9
     bDescriptorType         2
     wTotalLength          713
     bNumInterfaces          4
     bConfigurationValue     1
     iConfiguration          0
     bmAttributes         0x80 (Bus Powered) MaxPower              500mA
     Interface Association: bLength                 8
       bDescriptorType        11
       bFirstInterface         0
       bInterfaceCount         2
       bFunctionClass         14 Video
       bFunctionSubClass       3 Video Interface Collection 
bFunctionProtocol       0
       iFunction               2 Interface Descriptor: bLength 
          9
       bDescriptorType         4
       bInterfaceNumber        0
       bAlternateSetting       0
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      1 Video Control
       bInterfaceProtocol      0
       iInterface              2
       VideoControl Interface Descriptor: bLength                13
         bDescriptorType        36
         bDescriptorSubtype      1 (HEADER)
         bcdUVC               1.00
         wTotalLength           79
         dwClockFrequency       24.000000MHz
         bInCollection           1
         baInterfaceNr( 0)       1 VideoControl Interface Descriptor: 
bLength                18
         bDescriptorType        36
         bDescriptorSubtype      2 (INPUT_TERMINAL)
         bTerminalID             1
         wTerminalType      0x0201 Camera Sensor
         bAssocTerminal          0
         iTerminal               0
         wObjectiveFocalLengthMin      0
         wObjectiveFocalLengthMax      0
         wOcularFocalLength            0
         bControlSize                  3
         bmControls           0x0004000a Auto-Exposure Mode
           Exposure Time (Absolute)
           Privacy VideoControl Interface Descriptor: bLength 
        11
         bDescriptorType        36
         bDescriptorSubtype      5 (PROCESSING_UNIT) Warning: 
Descriptor too short bUnitID                 2
         bSourceID               1
         wMaxMultiplier          0
         bControlSize            2
         bmControls     0x0000177f Brightness
           Contrast
           Hue
           Saturation
           Sharpness
           Gamma
           White Balance Temperature
           Backlight Compensation
           Gain
           Power Line Frequency
           White Balance Temperature, Auto iProcessing             0
         bmVideoStandards     0x 9 None
           SECAM - 625/50 VideoControl Interface Descriptor: bLength 
                9
         bDescriptorType        36
         bDescriptorSubtype      3 (OUTPUT_TERMINAL)
         bTerminalID             3
         wTerminalType      0x0101 USB Streaming
         bAssocTerminal          0
         bSourceID               2
         iTerminal               0 VideoControl Interface Descriptor: 
bLength                28
         bDescriptorType        36
         bDescriptorSubtype      6 (EXTENSION_UNIT)
         bUnitID                 4
         guidExtensionCode 
{5dc717a9-1941-da11-ae0e-000d56ac7b4c} bNumControl            13
         bNrPins                 1
         baSourceID( 0)          1
         bControlSize            3
         bmControls( 0)       0xf9
         bmControls( 1)       0x1f
         bmControls( 2)       0x18
         iExtension              0 Endpoint Descriptor: bLength 
           7
         bDescriptorType         5
         bEndpointAddress     0x81  EP 1 IN
         bmAttributes            3 Transfer Type            Interrupt
           Synch Type               None
           Usage Type               Data wMaxPacketSize     0x000a  1x 
10 bytes
         bInterval               5 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       0
       bNumEndpoints           0
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       VideoStreaming Interface Descriptor: bLength 
          14
         bDescriptorType                    36
         bDescriptorSubtype                  1 (INPUT_HEADER)
         bNumFormats                        1
         wTotalLength                      343
         bEndPointAddress                  130
         bmInfo                              0
         bTerminalLink                       3
         bStillCaptureMethod                 2
         bTriggerSupport                     1
         bTriggerUsage                       1
         bControlSize                        1
         bmaControls( 0)                    27 VideoStreaming 
Interface Descriptor: bLength                            27
         bDescriptorType                    36
         bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED) 
bFormatIndex                        1
         bNumFrameDescriptors                5
         guidFormat {59555932-0000-1000-8000-00aa00389b71} 
bBitsPerPixel                      16
         bDefaultFrameIndex                  1
         bAspectRatioX                       0
         bAspectRatioY                       0
         bmInterlaceFlags                 0x00 Interlaced stream or 
variable: No
           Fields per frame: 1 fields
           Field 1 first: No
           Field pattern: Field 1 only
           bCopyProtect                      0 VideoStreaming 
Interface Descriptor: bLength                            54
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         1
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            640
         wHeight                           480
         dwMinBitRate                 24576000
         dwMaxBitRate                147456000
         dwMaxVideoFrameBufferSize      614400
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  7
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            400000
         dwFrameInterval( 2)            500000
         dwFrameInterval( 3)            666667
         dwFrameInterval( 4)           1000000
         dwFrameInterval( 5)           1333333
         dwFrameInterval( 6)           2000000 VideoStreaming 
Interface Descriptor: bLength                            54
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         2
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            352
         wHeight                           288
         dwMinBitRate                 24576000
         dwMaxBitRate                147456000
         dwMaxVideoFrameBufferSize      202752
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  7
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            400000
         dwFrameInterval( 2)            500000
         dwFrameInterval( 3)            666667
         dwFrameInterval( 4)           1000000
         dwFrameInterval( 5)           1333333
         dwFrameInterval( 6)           2000000 VideoStreaming 
Interface Descriptor: bLength                            54
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         3
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            320
         wHeight                           240
         dwMinBitRate                 24576000
         dwMaxBitRate                147456000
         dwMaxVideoFrameBufferSize      153600
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  7
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            400000
         dwFrameInterval( 2)            500000
         dwFrameInterval( 3)            666667
         dwFrameInterval( 4)           1000000
         dwFrameInterval( 5)           1333333
         dwFrameInterval( 6)           2000000 VideoStreaming 
Interface Descriptor: bLength                            54
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         4
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            176
         wHeight                           144
         dwMinBitRate                 24576000
         dwMaxBitRate                147456000
         dwMaxVideoFrameBufferSize       50688
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  7
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            400000
         dwFrameInterval( 2)            500000
         dwFrameInterval( 3)            666667
         dwFrameInterval( 4)           1000000
         dwFrameInterval( 5)           1333333
         dwFrameInterval( 6)           2000000 VideoStreaming 
Interface Descriptor: bLength                            54
         bDescriptorType                    36
         bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED) 
bFrameIndex                         5
         bmCapabilities                   0x00 Still image unsupported 
wWidth                            160
         wHeight                           120
         dwMinBitRate                 24576000
         dwMaxBitRate                147456000
         dwMaxVideoFrameBufferSize       38400
         dwDefaultFrameInterval         333333
         bFrameIntervalType                  7
         dwFrameInterval( 0)            333333
         dwFrameInterval( 1)            400000
         dwFrameInterval( 2)            500000
         dwFrameInterval( 3)            666667
         dwFrameInterval( 4)           1000000
         dwFrameInterval( 5)           1333333
         dwFrameInterval( 6)           2000000 VideoStreaming 
Interface Descriptor: bLength                            26
         bDescriptorType                    36
         bDescriptorSubtype                  3 (STILL_IMAGE_FRAME) 
bEndpointAddress                    0
         bNumImageSizePatterns               5
         wWidth( 0)                        640
         wHeight( 0)                       480
         wWidth( 1)                        352
         wHeight( 1)                       288
         wWidth( 2)                        320
         wHeight( 2)                       240
         wWidth( 3)                        176
         wHeight( 3)                       144
         wWidth( 4)                        160
         wHeight( 4)                       120
         bNumCompressionPatterns             5 VideoStreaming 
Interface Descriptor: bLength                             6
         bDescriptorType                    36
         bDescriptorSubtype                 13 (COLORFORMAT) 
bColorPrimaries                     0 (Unspecified) 
bTransferCharacteristics            0 (Unspecified)
         bMatrixCoefficients                 0 (Unspecified) Interface 
Descriptor: bLength                 9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       1
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x82  EP 2 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x0080  1x 
128 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       2
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x82  EP 2 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x0200  1x 
512 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       3
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x82  EP 2 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x0400  1x 
1024 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       4
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x82  EP 2 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x0b00  2x 
768 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       5
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x82  EP 2 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x0c00  2x 
1024 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       6
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x82  EP 2 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x1380  3x 
896 bytes
         bInterval               1 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        1
       bAlternateSetting       7
       bNumEndpoints           1
       bInterfaceClass        14 Video
       bInterfaceSubClass      2 Video Streaming
       bInterfaceProtocol      0
       iInterface              0
       Endpoint Descriptor: bLength                 7
         bDescriptorType         5
         bEndpointAddress     0x82  EP 2 IN
         bmAttributes            5 Transfer Type            Isochronous
           Synch Type               Asynchronous
           Usage Type               Data wMaxPacketSize     0x1400  3x 
1024 bytes
         bInterval               1 Interface Association: bLength 
             8
       bDescriptorType        11
       bFirstInterface         2
       bInterfaceCount         2
       bFunctionClass          1 Audio
       bFunctionSubClass       2 Streaming
       bFunctionProtocol       0
       iFunction               2 Interface Descriptor: bLength 
          9
       bDescriptorType         4
       bInterfaceNumber        2
       bAlternateSetting       0
       bNumEndpoints           0
       bInterfaceClass         1 Audio
       bInterfaceSubClass      1 Control Device
       bInterfaceProtocol      0
       iInterface              2
       AudioControl Interface Descriptor: bLength                 9
         bDescriptorType        36
         bDescriptorSubtype      1 (HEADER)
         bcdADC               1.00
         wTotalLength           39
         bInCollection           1
         baInterfaceNr( 0)       3 AudioControl Interface Descriptor: 
bLength                12
         bDescriptorType        36
         bDescriptorSubtype      2 (INPUT_TERMINAL)
         bTerminalID             1
         wTerminalType      0x0602 Digital Audio Interface
         bAssocTerminal          0
         bNrChannels             1
         wChannelConfig     0x0000
         iChannelNames           0
         iTerminal               0 AudioControl Interface Descriptor: 
bLength                 9
         bDescriptorType        36
         bDescriptorSubtype      6 (FEATURE_UNIT)
         bUnitID                 2
         bSourceID               1
         bControlSize            1
         bmaControls( 0)      0x00
         bmaControls( 1)      0x03 Mute
           Volume iFeature                0 AudioControl Interface 
Descriptor: bLength                 9
         bDescriptorType        36
         bDescriptorSubtype      3 (OUTPUT_TERMINAL)
         bTerminalID             3
         wTerminalType      0x0101 USB Streaming
         bAssocTerminal          0
         bSourceID               2
         iTerminal               0 Interface Descriptor: bLength 
            9
       bDescriptorType         4
       bInterfaceNumber        3
       bAlternateSetting       0
       bNumEndpoints           0
       bInterfaceClass         1 Audio
       bInterfaceSubClass      2 Streaming
       bInterfaceProtocol      0
       iInterface              0 Interface Descriptor: bLength 
          9
       bDescriptorType         4
       bInterfaceNumber        3
       bAlternateSetting       1
       bNumEndpoints           1
       bInterfaceClass         1 Audio
       bInterfaceSubClass      2 Streaming
       bInterfaceProtocol      0
       iInterface              0
       AudioStreaming Interface Descriptor: bLength                 7
         bDescriptorType        36
         bDescriptorSubtype      1 (AS_GENERAL)
         bTerminalLink           3
         bDelay                  1 frames
         wFormatTag              1 PCM AudioStreaming Interface 
Descriptor: bLength                35
         bDescriptorType        36
         bDescriptorSubtype      2 (FORMAT_TYPE)
         bFormatType             1 (FORMAT_TYPE_I)
         bNrChannels             1
         bSubframeSize           2
         bBitResolution         16
         bSamFreqType            9 Discrete
         tSamFreq[ 0]         8000
         tSamFreq[ 1]        11025
         tSamFreq[ 2]        12000
         tSamFreq[ 3]        16000
         tSamFreq[ 4]        22050
         tSamFreq[ 5]        24000
         tSamFreq[ 6]        32000
         tSamFreq[ 7]        44100
         tSamFreq[ 8]        48000 Endpoint Descriptor: bLength 
           9
         bDescriptorType         5
         bEndpointAddress     0x83  EP 3 IN
         bmAttributes            1 Transfer Type            Isochronous
           Synch Type               None
           Usage Type               Data wMaxPacketSize     0x0062  1x 
98 bytes
         bInterval               4
         bRefresh                0
         bSynchAddress           0
         AudioControl Endpoint Descriptor: bLength                 7
           bDescriptorType        37
           bDescriptorSubtype      1 (EP_GENERAL)
           bmAttributes         0x01 Sampling Frequency 
bLockDelayUnits         0 Undefined
           wLockDelay              0 Undefined can't get device 
qualifier: Operation not permitted can't get debug descriptor: 
Operation not permitted cannot read device status, Operation not 
permitted (1)


From laurent.pinchart at skynet.be  Fri Jul 18 21:22:03 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 18 Jul 2008 21:22:03 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <487FAAB4.4060903@martufone.info>
References: <487FAAB4.4060903@martufone.info>
Message-ID: <200807182122.03846.laurent.pinchart@skynet.be>

Hi,

On Thursday 17 July 2008, martuf1 wrote:
> Hi,
> my notebook has a Syntek camera (174f:8a12),
> lsusb says it's an UVC Camera
>    iProduct                3 USB2.0 UVC PC Camera
> (please see attached file for the complete output of the command)
>
> It doesn't work; dmesg says:
>
> [ 8524.914397] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
> (174f:8a12)
> [ 8524.936046] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
> -32 (exp. 26).
> [ 8525.170271] usbcore: registered new interface driver uvcvideo
> [ 8525.170278] USB Video Class driver (SVN r231)
> [ 8525.696738] uvcvideo: Failed to query (129) UVC control 1 (unit 0) :
> -110 (exp. 26).
>
> Any idea, help, etc is welcome

Could you please apply the following patch and try again ? Make sure you 
report all kernel log messages printed by the uvcvideo driver.

-----------------------------------------------------------------------------
Index: uvc_video.c
===================================================================
--- uvc_video.c	(revision 230)
+++ uvc_video.c	(working copy)
@@ -899,8 +899,7 @@
 	/* Some webcams don't suport GET_DEF request on the probe control. We
 	 * fall back to GET_CUR if GET_DEF fails.
 	 */
-	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_DEF)) < 0 &&
-	    (ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)) < 0)
+	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)))
 		return ret;
 
 	/* Check if the default format descriptor exists. Use the first
-----------------------------------------------------------------------------

Best regards,

Laurent Pinchart



From laurent.pinchart at skynet.be  Fri Jul 18 21:31:07 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 18 Jul 2008 21:31:07 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <93E52AB2C06048E884EABBB00711185F@core2>
References: <487FAAB4.4060903@martufone.info>
	<93E52AB2C06048E884EABBB00711185F@core2>
Message-ID: <200807182131.07678.laurent.pinchart@skynet.be>

Hi Adrian,

On Friday 18 July 2008, Adrian Sergiu DARABANT wrote:
> I have a similar Syntek camera 174F:8a51 that blocks on Failed to query
> some controls.Maybe in your case you'll have better luck. Mine is a 2M
> camera that works on windows but fails desperately on Linux. I did not
> manage yet to get a solution (it might be either the camera or the usb
> modules in Linux).
>
> With 2.6.25 kernels it behaves a little bit better but still not working.

Could you please try the following patch and report results here (including 
all messages printed by the uvcvideo driver to the kernel log) ?

-----------------------------------------------------------------------------
Index: uvc_video.c
===================================================================
--- uvc_video.c	(revision 230)
+++ uvc_video.c	(working copy)
@@ -899,8 +899,7 @@
 	/* Some webcams don't suport GET_DEF request on the probe control. We
 	 * fall back to GET_CUR if GET_DEF fails.
 	 */
-	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_DEF)) < 0 &&
-	    (ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)) < 0)
+	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)))
 		return ret;
 
 	/* Check if the default format descriptor exists. Use the first
-----------------------------------------------------------------------------

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Jul 18 21:34:06 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 18 Jul 2008 21:34:06 +0200
Subject: [Linux-uvc-devel] two UVC simultaneous devices impossible ?
In-Reply-To: <20080718073704.GA24269@apartia.fr>
References: <20080717161502.GA23706@apartia.fr>
	<200807172301.07204.laurent.pinchart@skynet.be>
	<20080718073704.GA24269@apartia.fr>
Message-ID: <200807182134.07064.laurent.pinchart@skynet.be>

Hi Louis-David,

On Friday 18 July 2008, Louis-David Mitterrand wrote:
> On Thu, Jul 17, 2008 at 11:01:07PM +0200, Laurent Pinchart wrote:
> > Hi Louis,
> >
> > On Thursday 17 July 2008, Louis-David Mitterrand wrote:
> > > Hi,
> > >
> > > Using kernel 2.6.26 on a debian/unstable box I find it impossible to
> > > start motion with two UVC cameras:
> > >
> > > 	Jul 17 18:11:00 sylla kernel: uvcvideo: Failed to submit URB 0 (-28).
> > > 	Jul 17 18:11:00 sylla motion: [1] Error starting stream.
> > > 	Jul 17 18:11:00 sylla motion: [1] VIDIOC_STREAMON: No space left on
> > > device Jul 17 18:11:00 sylla motion: [1] ioctl(VIDIOCGMBUF) - Error
> > > device does not support memory map
> > >
> > > When using one UVC camera + one PWC camera with the same configuration
> > > it works fine.
> > >
> > > Is there a limitation in the UVC driver regarding simultaneous camera
> > > use?
> >
> > No, but there's a USB bandwidth limit. You're probably trying to stream
> > using a high resolution uncompressed format. Try to switch to MJPEG if
> > possible (your camera obviously needs to support MJPEG), lower the
> > resolution or use separate USB controllers.
>
> Lowering the resolution on both cameras to the minimum (640x480) doesn't
> help. However with a PWC camera at 640x480 and a UVC one at 960x720 it
> works fine. And in both cases (UVC + UVC and UVC + PWC) only YUYV is
> used, not MJPEG.
>
> So it doesn't seem to be a USB bandwidth problem...

-28 definitely indicates a bandwidth issue. What UVC cameras are you using ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Jul 18 21:53:45 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 18 Jul 2008 21:53:45 +0200
Subject: [Linux-uvc-devel] Slow rate at nite?
In-Reply-To: <20080718095452.GA13416@aquila>
References: <da8023da0807150356l132010fcu687a11293ffc9daf@mail.gmail.com>
	<200807171346.52986.laurent.pinchart@skynet.be>
	<20080718095452.GA13416@aquila>
Message-ID: <200807182153.45677.laurent.pinchart@skynet.be>

On Friday 18 July 2008, Alex Pounds wrote:
> On Thu, Jul 17, 2008 at 01:46:52PM +0200, Laurent Pinchart wrote:
> > The auto-exposure control supports the following values:
> >
> >   0: Manual Mode
> >   1: Auto Mode
> >   2: Shutter Priority Mode
> >   3: Aperture Priority Mode
> >
> > Instead of hard-coding the value, use the v4l2_exposure_auto_type enum
> > defined in linux/videodev2.h (Linux 2.6.26 or newer).
> >
> > enum  v4l2_exposure_auto_type {
> >         V4L2_EXPOSURE_AUTO = 0,
> >         V4L2_EXPOSURE_MANUAL = 1,
> >         V4L2_EXPOSURE_SHUTTER_PRIORITY = 2,
> >         V4L2_EXPOSURE_APERTURE_PRIORITY = 3
> > };
>
> The constants and your description seem to have 0 and 1 transposed. Which
> is correct?

The second is correct, but the uvcvideo driver currently implements the first. 
I've fixed this in SVN. Thanks for reporting the issue.

Best regards,

Laurent Pinchart


From tempo at martufone.info  Fri Jul 18 21:50:10 2008
From: tempo at martufone.info (martuf1)
Date: Fri, 18 Jul 2008 21:50:10 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <200807182122.03846.laurent.pinchart@skynet.be>
References: <487FAAB4.4060903@martufone.info>
	<200807182122.03846.laurent.pinchart@skynet.be>
Message-ID: <4880F3F2.70300@martufone.info>


Laurent Pinchart wrote:
> Hi,
>
> On Thursday 17 July 2008, martuf1 wrote:
>   
>> Hi,
>> my notebook has a Syntek camera (174f:8a12),
>> lsusb says it's an UVC Camera
>>    iProduct                3 USB2.0 UVC PC Camera
>> (please see attached file for the complete output of the command)
>>
>> It doesn't work; dmesg says:
>>
>> [ 8524.914397] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
>> (174f:8a12)
>> [ 8524.936046] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
>> -32 (exp. 26).
>> [ 8525.170271] usbcore: registered new interface driver uvcvideo
>> [ 8525.170278] USB Video Class driver (SVN r231)
>> [ 8525.696738] uvcvideo: Failed to query (129) UVC control 1 (unit 0) :
>> -110 (exp. 26).
>>
>> Any idea, help, etc is welcome
>>     
>
> Could you please apply the following patch and try again ? Make sure you 
> report all kernel log messages printed by the uvcvideo driver.
>
> -----------------------------------------------------------------------------
> Index: uvc_video.c
> ===================================================================
> --- uvc_video.c	(revision 230)
> +++ uvc_video.c	(working copy)
> @@ -899,8 +899,7 @@
>  	/* Some webcams don't suport GET_DEF request on the probe control. We
>  	 * fall back to GET_CUR if GET_DEF fails.
>  	 */
> -	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_DEF)) < 0 &&
> -	    (ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)) < 0)
> +	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)))
>  		return ret;
>  
>  	/* Check if the default format descriptor exists. Use the first
> -----------------------------------------------------------------------------
>
> Best regards,
>
> Laurent Pinchart
>
>
>   
Hi Laurent,
here is the output of the patched driver:

$>  dmesg
[ 7264.493153] Linux video capture interface: v2.00
[ 7264.498565] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera 
(174f:8a12)
[ 7264.750891] usbcore: registered new interface driver uvcvideo
[ 7264.750901] USB Video Class driver (SVN r231)
[ 7265.281478] uvcvideo: Failed to query (129) UVC control 1 (unit 0) : 
-110 (exp. 26).
$> ls /dev/video0
/dev/video0

After removing the module and modprobing again the output is:
$> dmesg
[ 7519.034499] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera 
(174f:8a12)
[ 7519.289704] usbcore: registered new interface driver uvcvideo
[ 7519.289712] USB Video Class driver (SVN r231)
$> ls /dev/video0
/dev/video0

But in both cases, with skype and amsn the cam isn't working
(should I use other program to test it?)

Thank you, cheers



From laurent.pinchart at skynet.be  Fri Jul 18 22:07:32 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 18 Jul 2008 22:07:32 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <4880F3F2.70300@martufone.info>
References: <487FAAB4.4060903@martufone.info>
	<200807182122.03846.laurent.pinchart@skynet.be>
	<4880F3F2.70300@martufone.info>
Message-ID: <200807182207.32920.laurent.pinchart@skynet.be>

Hi,

On Friday 18 July 2008, martuf1 wrote:
> Laurent Pinchart wrote:
> > On Thursday 17 July 2008, martuf1 wrote:
> >> Hi,
> >> my notebook has a Syntek camera (174f:8a12),
> >> lsusb says it's an UVC Camera
> >>    iProduct                3 USB2.0 UVC PC Camera
> >> (please see attached file for the complete output of the command)
> >>
> >> It doesn't work; dmesg says:
> >>
> >> [ 8524.914397] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
> >> (174f:8a12)
> >> [ 8524.936046] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
> >> -32 (exp. 26).
> >> [ 8525.170271] usbcore: registered new interface driver uvcvideo
> >> [ 8525.170278] USB Video Class driver (SVN r231)
> >> [ 8525.696738] uvcvideo: Failed to query (129) UVC control 1 (unit 0) :
> >> -110 (exp. 26).
> >>
> >> Any idea, help, etc is welcome
> >
> > Could you please apply the following patch and try again ? Make sure you
> > report all kernel log messages printed by the uvcvideo driver.
> >
> > -------------------------------------------------------------------------
> >---- Index: uvc_video.c
> > ===================================================================
> > --- uvc_video.c	(revision 230)
> > +++ uvc_video.c	(working copy)
> > @@ -899,8 +899,7 @@
> >  	/* Some webcams don't suport GET_DEF request on the probe control. We
> >  	 * fall back to GET_CUR if GET_DEF fails.
> >  	 */
> > -	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_DEF)) < 0 &&
> > -	    (ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)) < 0)
> > +	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)))
> >  		return ret;
> >
> >  	/* Check if the default format descriptor exists. Use the first
> > -------------------------------------------------------------------------
> >----
> >
> > Best regards,
> >
> > Laurent Pinchart
>
> Hi Laurent,
> here is the output of the patched driver:
>
> $>  dmesg
> [ 7264.493153] Linux video capture interface: v2.00
> [ 7264.498565] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
> (174f:8a12)
> [ 7264.750891] usbcore: registered new interface driver uvcvideo
> [ 7264.750901] USB Video Class driver (SVN r231)
> [ 7265.281478] uvcvideo: Failed to query (129) UVC control 1 (unit 0) :
> -110 (exp. 26).
> $> ls /dev/video0
> /dev/video0
>
> After removing the module and modprobing again the output is:
> $> dmesg
> [ 7519.034499] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
> (174f:8a12)
> [ 7519.289704] usbcore: registered new interface driver uvcvideo
> [ 7519.289712] USB Video Class driver (SVN r231)
> $> ls /dev/video0
> /dev/video0
>
> But in both cases, with skype and amsn the cam isn't working
> (should I use other program to test it?)

Yes, please use luvcview and run it with

luvcview -f yuv

Don't forget to report luvcview error messages as well as driver messages 
printed to the kernel log.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Jul 18 22:10:55 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 18 Jul 2008 22:10:55 +0200
Subject: [Linux-uvc-devel] Error using Logitech Orbit camera
In-Reply-To: <20080718101522.yirk9ns2okk0gc8k@hanslammerts.mine.nu>
References: <20080718101522.yirk9ns2okk0gc8k@hanslammerts.mine.nu>
Message-ID: <200807182210.55521.laurent.pinchart@skynet.be>

Hi Hans,

On Friday 18 July 2008, Hans Lammerts wrote:
> Hi,
>
> Although I have read al lot of posts regarding problems with my
> Logitech Orbit cam when using uvcvideo, I still can't pinpoint my
> exact problem.
> I downloaded the latest SVN, compiled it and loaded the module with
> tracing set to 0xffff.
> (BTW, trying this on an Kubuntu 8.04 machine).
> When using the zmu command from Zoneminder (trying to access the
> camera which has been discovered on /dev/video0), an error is returned
> from zmu, and the debug info in dmesg looks like this (starting at
> modprobe'ing the module, followed by the zmu command) :
>
> [173818.963187] usbcore: deregistering interface driver uvcvideo
> [173833.966421] uvcvideo: Adding mapping Brightness to control
> 00000000-0000-0000-0000-000000000101/2.
> [173833.967129] uvcvideo: Adding mapping Contrast to control
> 00000000-0000-0000-0000-000000000101/3.
> [173833.967616] uvcvideo: Adding mapping Hue to control
> 00000000-0000-0000-0000-000000000101/6.
> [173833.968012] uvcvideo: Adding mapping Saturation to control
> 00000000-0000-0000-0000-000000000101/7.
> [173833.968443] uvcvideo: Adding mapping Sharpness to control
> 00000000-0000-0000-0000-000000000101/8.
> [173833.968849] uvcvideo: Adding mapping Gamma to control
> 00000000-0000-0000-0000-000000000101/9.
> [173833.969245] uvcvideo: Adding mapping Backlight Compensation to
> control 00000000-0000-0000-0000-000000000101/1.
> [173833.969781] uvcvideo: Adding mapping Gain to control
> 00000000-0000-0000-0000-000000000101/4.
> [173833.970174] uvcvideo: Adding mapping Power Line Frequency to
> control 00000000-0000-0000-0000-000000000101/5.
> [173833.970611] uvcvideo: Adding mapping Hue, Auto to control
> 00000000-0000-0000-0000-000000000101/16.
> [173833.971012] uvcvideo: Adding mapping Exposure, Auto to control
> 00000000-0000-0000-0000-000000000001/2.
> [173833.971450] uvcvideo: Adding mapping Exposure, Auto Priority to
> control 00000000-0000-0000-0000-000000000001/3.
> [173833.971974] uvcvideo: Adding mapping Exposure (Absolute) to
> control 00000000-0000-0000-0000-000000000001/4.
> [173833.972401] uvcvideo: Adding mapping White Balance Temperature,
> Auto to control 00000000-0000-0000-0000-000000000101/11.
> [173833.972859] uvcvideo: Adding mapping White Balance Temperature to
> control 00000000-0000-0000-0000-000000000101/10.
> [173833.973320] uvcvideo: Adding mapping White Balance Component, Auto
> to control 00000000-0000-0000-0000-000000000101/13.
> [173833.973916] uvcvideo: Adding mapping White Balance Blue Component
> to control 00000000-0000-0000-0000-000000000101/12.
> [173833.973930] uvcvideo: Adding mapping White Balance Red Component
> to control 00000000-0000-0000-0000-000000000101/12.
> [173833.973940] uvcvideo: Adding mapping Focus (absolute) to control
> 00000000-0000-0000-0000-000000000001/6.
> [173833.973950] uvcvideo: Adding mapping Focus, Auto to control
> 00000000-0000-0000-0000-000000000001/8.
> [173833.974050] uvcvideo: Probing generic UVC device 1
> [173833.974084] uvcvideo: Found format MJPEG.
> [173833.974091] uvcvideo: - 160x120 (30.0 fps)
> [173833.974095] uvcvideo: - 176x144 (30.0 fps)
> [173833.974099] uvcvideo: - 320x240 (15.0 fps)
> [173833.974102] uvcvideo: - 352x288 (15.0 fps)
> [173833.974106] uvcvideo: - 640x480 (15.0 fps)
> [173833.974113] uvcvideo: Found format YUV 4:2:2 (YUYV).
> [173833.974117] uvcvideo: - 160x120 (15.0 fps)
> [173833.974121] uvcvideo: - 176x144 (15.0 fps)
> [173833.974148] uvcvideo: Found a Status endpoint (addr 87).
> [173833.974154] uvcvideo: Found UVC 1.00 device <unnamed> (046d:08cc)
> [173833.974176] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/2 to device 1 entity 2
> [173833.974185] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/3 to device 1 entity 2
> [173833.974193] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/7 to device 1 entity 2
> [173833.974202] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/8 to device 1 entity 2
> [173833.974210] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/1 to device 1 entity 2
> [173833.974218] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/4 to device 1 entity 2
> [173833.974226] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/5 to device 1 entity 2
> [173833.974234] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000001/2 to device 1 entity 1
> [173833.974242] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000001/3 to device 1 entity 1
> [173833.974250] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000001/4 to device 1 entity 1
> [173833.974259] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/11 to device 1 entity 2
> [173833.974267] uvcvideo: Added control
> 00000000-0000-0000-0000-000000000101/10 to device 1 entity 2
> [173833.974276] uvcvideo: Scanning UVC chain: OT 5 <- XU 4 (-> XU 12 8
> 10 11 9) <- XU 3 (-> XU 13) <- PU 2 <- IT 1
> [173833.974294] uvcvideo: Found a valid video chain (1 -> 5).
> [173833.999844] input: UVC Camera (046d:08cc) as
> /devices/pci0000:00/0000:00:07.3/usb2/2-1/2-1:1.0/input/input11
> [173834.018986] uvcvideo: uvc_v4l2_open
> [173834.019025] uvcvideo: uvc_v4l2_ioctl
> [173834.019035] v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
> [173834.021566] uvcvideo: uvc_v4l2_ioctl
> [173834.021590] v4l1 ioctl VIDIOCGCAP, dir=r- (0x803c7601)
> [173834.021601] v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
> [173834.021610] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
> [173834.021615] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
> [173834.021620] v4l2 ioctl VIDIOC_ENUM_FMT, dir=rw (0xc0405602)
> [173834.021627] v4l2 ioctl VIDIOC_TRY_FMT, dir=rw (0xc0cc5640)
> [173834.021634] uvcvideo: Trying format 0x47504a4d (MJPG): 10000x10000.
> [173834.021641] uvcvideo: Using default frame interval 66666.6 us (15.0
> fps). [173834.024389] uvcvideo: UVC device initialized.
> [173834.024444] usbcore: registered new interface driver uvcvideo
> [173834.024453] USB Video Class driver (SVN r231)
> [173834.059086] uvcvideo: uvc_v4l2_release
> [173839.040639] uvcvideo: uvc_v4l2_open
> [173839.041580] uvcvideo: uvc_v4l2_ioctl
> [173839.041596] v4l1 ioctl VIDIOCGCAP, dir=r- (0x803c7601)
> [173839.041608] v4l2 ioctl VIDIOC_QUERYCAP, dir=r- (0x80685600)
> [173839.041616] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
> [173839.041622] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
> [173839.041627] v4l2 ioctl VIDIOC_ENUM_FMT, dir=rw (0xc0405602)
> [173839.041634] v4l2 ioctl VIDIOC_TRY_FMT, dir=rw (0xc0cc5640)
> [173839.044058] uvcvideo: Trying format 0x47504a4d (MJPG): 10000x10000.
> [173839.044069] uvcvideo: Using default frame interval 66666.6 us (15.0
> fps). [173839.080447] uvcvideo: uvc_v4l2_ioctl
> [173839.080472] v4l1 ioctl VIDIOCGWIN, dir=r- (0x80207609)
> [173839.080481] v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0cc5604)
> [173839.080488] v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0cc5604)
> [173839.080501] uvcvideo: uvc_v4l2_ioctl
> [173839.080505] v4l1 ioctl VIDIOCGPICT, dir=r- (0x800e7606)
> [173839.080511] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
> [173839.094318] v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
> [173839.097323] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
> [173839.097336] uvcvideo: Control 0x00980903 not found.
> [173839.097341] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
> [173839.116303] v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
> [173839.120396] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
> [173839.133307] v4l2 ioctl VIDIOC_G_CTRL, dir=rw (0xc008561b)
> [173839.137300] v4l2 ioctl VIDIOC_QUERYCTRL, dir=rw (0xc0445624)
> [173839.137313] uvcvideo: Control 0x00980910 not found.
> [173839.137320] v4l2 ioctl VIDIOC_G_FMT, dir=rw (0xc0cc5604)
> [173839.137381] uvcvideo: uvc_v4l2_ioctl
> [173839.137388] v4l1 ioctl VIDIOCGCHAN, dir=rw (0xc0307602)
> [173839.137395] v4l2 ioctl VIDIOC_ENUMINPUT, dir=rw (0xc04c561a)
> [173839.137401] v4l2 ioctl VIDIOC_G_STD, dir=r- (0x80085617)
> [173839.137405] uvcvideo: Unsupported ioctl 0x80085617
> [173839.138738] uvcvideo: uvc_v4l2_release
>
> Questions:
>
> 1) Is zmu causing this error ?

I'd say yes. The uvcvideo driver doesn't implement the optional VIDIOC_G_STD 
ioctl, as video standards don't make sense for a webcam. zmu probably chokes 
on this instead of recovering gracefully.

> 2) Is there another tool/utility that I can use to access this cam, if
> zmu is  causing this behaviour ?

I depends what you want to do. I personally use luvcview for testing purpose. 
ucview has been reported to work great as well.

> 3) Is the line before last the actual cause of the problem ?

I can't be sure, but as I answered to your first question, I think it is.

> If anyone would be so kind to point me in any direction at all
> (preferably one that leads to a solution of some sort), it would be
> greatly appreciated.

Best regards,

Laurent Pinchart


From asergiu at yahoo.co.uk  Fri Jul 18 22:40:16 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Fri, 18 Jul 2008 23:40:16 +0300
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <200807182131.07678.laurent.pinchart@skynet.be>
References: <487FAAB4.4060903@martufone.info>
	<93E52AB2C06048E884EABBB00711185F@core2>
	<200807182131.07678.laurent.pinchart@skynet.be>
Message-ID: <69D68589A44440C79B381429CA8E1C47@core2>

It might be this
I will try this weekend - as I am on the road now - and keep you posted.
Thx Laurent.

-----Original Message-----
From: Laurent Pinchart [mailto:laurent.pinchart at skynet.be] 
Sent: Friday, July 18, 2008 10:31 PM
To: linux-uvc-devel at lists.berlios.de
Cc: Adrian Sergiu DARABANT; 'martuf1'
Subject: Re: [Linux-uvc-devel] syntek 174f:8a12 unsupported?

Hi Adrian,

On Friday 18 July 2008, Adrian Sergiu DARABANT wrote:
> I have a similar Syntek camera 174F:8a51 that blocks on Failed to query
> some controls.Maybe in your case you'll have better luck. Mine is a 2M
> camera that works on windows but fails desperately on Linux. I did not
> manage yet to get a solution (it might be either the camera or the usb
> modules in Linux).
>
> With 2.6.25 kernels it behaves a little bit better but still not working.

Could you please try the following patch and report results here (including 
all messages printed by the uvcvideo driver to the kernel log) ?

----------------------------------------------------------------------------
-
Index: uvc_video.c
===================================================================
--- uvc_video.c	(revision 230)
+++ uvc_video.c	(working copy)
@@ -899,8 +899,7 @@
 	/* Some webcams don't suport GET_DEF request on the probe control.
We
 	 * fall back to GET_CUR if GET_DEF fails.
 	 */
-	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_DEF)) < 0 &&
-	    (ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)) < 0)
+	if ((ret = uvc_get_video_ctrl(video, probe, 1, GET_CUR)))
 		return ret;
 
 	/* Check if the default format descriptor exists. Use the first
----------------------------------------------------------------------------
-

Best regards,

Laurent Pinchart




From laurent.pinchart at skynet.be  Fri Jul 18 22:43:44 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 18 Jul 2008 22:43:44 +0200
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <507370.30477.qm@web53208.mail.re2.yahoo.com>
References: <507370.30477.qm@web53208.mail.re2.yahoo.com>
Message-ID: <200807182243.44276.laurent.pinchart@skynet.be>

Hi Emanoil,

On Thursday 17 July 2008, Emanoil Kotsev wrote:
> Dear Laurent,
>
> I appreciate your opinion and you are right in what you say. I am also
> aware of the problems with proprietary software and I don't blame anybody.
>
> I'm also very thankful to you and people like who make things work under
> linux. I have helped and still help a lot to improve (debug, develop)
> software working under linux but it is obvious that a lot of stuff still is
> not working
>
> It just sucks that I can not do few simple things and that makes me angry.
>
> I was very optimistic then back in 1998 about linux but it all turns to be
> more or less a OS for servers and home experiments, because compared to
> cemercial OS like the stupid MS and OS X I'm spending more time in such
> community forums as doing things with my pc - I mean I'm more buzy with
> debugging than using the OS...

It always depends on what you try to achieve. For any given OS you will be 
able to find a task that would be much easier to perform under another 
operating system.

> Sorry if you or someone else feel insulted by what I said, but also you can
> not deny the fact that it is not working as it should be, because I have
> evidence that it is not working...

Given the amount of e-mails exchanged on this list, I won't deny that Skype 
has issues under Linux. However, blaming Linux for Skype issues would be like 
blaming MS when Firefox crashes.

> As I decided not to use MS years ago I am considering buying Apple next
> year.
>
> I think this is the best solution for me because recently I'm pretty buzzy
> with my job and familly and I don't have that much time to debug linux.
>
> I would recommend using linux in home or small buziness office solutions as
> a server but it's still far from stability as a workstation. Some hope
> brings an experiment like EEEC but the future will show if this is a
> winner.

That's your opinion, based on your personal background and experience. There 
is no definitive answer regarding how a given operating system fits in a 
given context. There are plenty of people who will find Linux much harder to 
use as a desktop operating system, and there are also plenty of people who 
will find Linux much easier.

Your opinion and point of view is certainly valid, but is also biased, much 
like all of the other computer users' opinions.

> I appreciate your opinion and the work all of the free software community
> do - it is very important.
>
> I'm really sorry speaking so negatively about linux in general.

No worries. Just try not to react on the spot when yet another small annoyance 
adds to the pile and makes your brain explode. A good night's sleep often 
helps not to start flame wars.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Fri Jul 18 22:49:18 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Fri, 18 Jul 2008 22:49:18 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <487F729B.4080000@lounge-warrior.org>
References: <487617EB.1000607@lounge-warrior.org>
	<200807171634.06795.laurent.pinchart@skynet.be>
	<487F729B.4080000@lounge-warrior.org>
Message-ID: <200807182249.18523.laurent.pinchart@skynet.be>

On Thursday 17 July 2008, Stefan Jensen wrote:
> Hi Laurent,...
>
> Laurent Pinchart schrieb:
> | I was about to check if I could reproduce your problem. Could you
> | elaborate on how you resolved it so that other users can benefit from
> | your experience ?
>
> I simply moved back to the kernel delivered module. (by overwriting the
> compiled module, but leave the rest untouched.) Seems to work so far.
>
> filename:/lib/modules/2.6.25.10-47.fc8/kernel/drivers/media/video/uvcvideo/
>uvcvideo.ko version: SVN r200
>
> only this error is still on both versions: (which is another workspace ,
> i'll guess)
>
> [libwebcam] Unknown custom V4L2 control ID encountered: 134217728
> (V4L2_CID_PRIVATE_BASE + 0)
>
> | (http://www.lavrsen.dk/twiki/bin/view/Motion/LinuxUvcTrackingPatch). Your
> | best bet would probably be to contact the author and/or maintainer to see
> | if they can update the patch.
>
> Thanks, i'll do so. Currently i managed get it to work with a modified
> logitech.xml:
>
> <constant type="integer">
> ~  <id>V4L2_CID_PAN_RELATIVE</id>
> ~  <value>0x08000007</value>
> </constant>
> <constant type="integer">
> ~  <id>V4L2_CID_TILT_RELATIVE</id>
> ~ <value>0x08000008</value>
> </constant>
> <constant type="integer">
> ~  <id>V4L2_CID_PANTILT_RESET</id>
> ~  <value>0x08000009</value>
> </constant>
>
> This is not a real solution, of course. But for my first steps the cam is
> basically working and i can get more in touch with the hole concept.
>
> If you want me to do some testing on the actual svn driver, feel free to
> instruct me. :-)

Could you please describe the problems you experience with the latest SVN 
version in details ? I'm interested in a detailed description of the steps 
you perform, including application error messages and driver messages printed 
to the kernel log for each step.

Best regards,

Laurent Pinchart


From nixpanic at users.sourceforge.net  Sat Jul 19 12:14:47 2008
From: nixpanic at users.sourceforge.net (Niels de Vos)
Date: Sat, 19 Jul 2008 12:14:47 +0200
Subject: [Linux-uvc-devel] [PATCH] fix compiling on CentOS-5.2 kernel
	2.6.18
In-Reply-To: <200807172304.38742.laurent.pinchart@skynet.be>
References: <1b51b6f80807171103h2efa05afxe186fd2d668158b9@mail.gmail.com>
	<200807172304.38742.laurent.pinchart@skynet.be>
Message-ID: <1b51b6f80807190314k48d5e05ck4e184b57a3c06e41@mail.gmail.com>

(resend, now with linux-uvc-devel...)

Okay, my mistake. Please review the attached patch.

Thanks,
Niels


On Thu, Jul 17, 2008 at 11:04 PM, Laurent Pinchart
<laurent.pinchart at skynet.be> wrote:
> On Thursday 17 July 2008, Niels de Vos wrote:
>> Hello,
>>
>> the attached patch fixes compile issues on kernel 2.6.18 (Red Hat
>> Enterprise, CentOS).
>
> But it breaks compilation on non-Red Hat 2.6.18 kernels. Red Hat ships lots of
> backported patches with its kernels. In this case the fault is on Red Hat's
> side.
>
> Best regards,
>
> Laurent Pinchart
>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rhel-5.2.patch
Type: text/x-patch
Size: 684 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080719/01ce7ee7/attachment.bin>

From tempo at martufone.info  Sat Jul 19 17:46:42 2008
From: tempo at martufone.info (martuf1)
Date: Sat, 19 Jul 2008 17:46:42 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <200807182207.32920.laurent.pinchart@skynet.be>
References: <487FAAB4.4060903@martufone.info>
	<200807182122.03846.laurent.pinchart@skynet.be>
	<4880F3F2.70300@martufone.info>
	<200807182207.32920.laurent.pinchart@skynet.be>
Message-ID: <48820C62.6030900@martufone.info>


>
> Yes, please use luvcview and run it with
>
> luvcview -f yuv
>
> Don't forget to report luvcview error messages as well as driver messages 
> printed to the kernel log.
>
> Best regards,
>
> Laurent Pinchart
>
>   
Hi Laurent,
I will write what I did:

$> svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk
$> cd trunk
$> patch -p0 < a.diff    (your patch)
$> make
$> sudo make install
$> sudo depmod -a
$> sudo modprobe uvcvideo
$> dmesg
[  680.144146] Linux video capture interface: v2.00
[  680.150335] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera 
(174f:8a12)
[  680.685512] uvcvideo: Failed to query (1) UVC control 2 (unit 0) : 
-110 (exp. 26).
[  680.685521] uvcvideo: Failed to initialize the device (-5).
[  680.686972] usbcore: registered new interface driver uvcvideo
[  680.687252] USB Video Class driver (SVN r232)

nb: no /dev/video0 device created

$> sudo rmmod uvcvideo
$> sudo modprobe uvcvideo
$> dmesg
[  694.869837] usbcore: deregistering interface driver uvcvideo
[  697.376885] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera 
(174f:8a12)
[  697.637572] usbcore: registered new interface driver uvcvideo
[  697.637581] USB Video Class driver (SVN r232)

nb: ok /dev/video0 device created

$> luvcview -f yuv
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
^C
Stop asked
^Z
[1]+  Stopped                 luvcview -f yuv

$> kill -9 %1
$> dmesg
[  717.306510] uvcvideo: Failed to query (130) UVC control 1 (unit 0) : 
-110 (exp. 26).

nb: Appear a black windows and as you can see I had to kill-9 the process
to exit.


$> sudo luvcview -f yuv
luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 5.
 Init v4L2 failed !! exit fatal

$> dmesg
[  726.914113] uvcvideo: Failed to query (129) UVC control 1 (unit 0) : 
-110 (exp. 26).


What can I use to sniff usb traffic in windows vista?... There the cam 
is working...
May that help you?

Thank you, regards
  martuf1



ps: I forget to report a piece of information:

$> lsb_release -a
No LSB modules are available.
Distributor ID:    Ubuntu
Description:    Ubuntu 8.04.1
Release:    8.04
Codename:    hardy

$> uname -a
Linux martuf1-laptop 2.6.24-19-generic #1 SMP Fri Jul 11 23:41:49 UTC 
2008 i686 GNU/Linux

$> cat /proc/cpuinfo
processor    : 0
vendor_id    : AuthenticAMD
cpu family    : 15
model        : 72
model name    : AMD Turion(tm) 64 X2 Mobile Technology TL-52
stepping    : 2
cpu MHz        : 800.000
[...]

The laptop is a:  Packard Bell MX52-B-057





From sjensen at versanet.de  Sun Jul 20 00:28:35 2008
From: sjensen at versanet.de (Stefan Jensen)
Date: Sun, 20 Jul 2008 00:28:35 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <200807182249.18523.laurent.pinchart@skynet.be>
References: <487617EB.1000607@lounge-warrior.org>
	<200807171634.06795.laurent.pinchart@skynet.be>
	<487F729B.4080000@lounge-warrior.org>
	<200807182249.18523.laurent.pinchart@skynet.be>
Message-ID: <48826A93.2010605@lounge-warrior.org>

Hi,...

Laurent Pinchart schrieb:

> Could you please describe the problems you experience with the latest SVN 
> version in details ? I'm interested in a detailed description of the steps 
> you perform, including application error messages and driver messages printed 
> to the kernel log for each step.

I have attached a log of my experience with the driver and some applications
i tried.

best regards

Stefan
--
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: uvcvideo.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080720/2a3dae9e/attachment.txt>

From lists at brachttal.net  Sun Jul 20 11:08:06 2008
From: lists at brachttal.net (Andreas Volz)
Date: Sun, 20 Jul 2008 11:08:06 +0200
Subject: [Linux-uvc-devel] [Fwd:  Video grabber?]
In-Reply-To: <487F05B3.50606@gmail.com>
References: <487F05B3.50606@gmail.com>
Message-ID: <20080720110806.5b1e00c8@frodo.mittelerde>

Am Thu, 17 Jul 2008 09:41:23 +0100 schrieb Paulo Assis:

> Hi Andreas,
> 
> In regards to guvcview still image capture, when in MJPG mode, the 
> standard Huffman tables are added to the captured frame and in YUV
> mode a built-in jpg compressor is used. I had no problems with this
> so far (tested in Ubuntu, Debian and OpenSuse ), but if you could
> post me your jpg file maybe I can understand what's wrong, also have
> you tested with the other formats available (png, bmp) are these also
> giving you trouble ?

The bmp and png files work without problems. But I've problems with the raw
and jpg files. See here what files tell me about them:

Image.jpg:                   JPEG image data, JFIF standard 1.02, thumbnail 2x3
Image.raw:                   JPEG image data

I put the files here:

http://tux-style.de/tmp/uvcvideo/images/

The mjpeg2jpeg.py script from Laurent worked only with the raw file. The other one 
still doesn't work.

regards
Andreas


From lists at brachttal.net  Sun Jul 20 11:17:45 2008
From: lists at brachttal.net (Andreas Volz)
Date: Sun, 20 Jul 2008 11:17:45 +0200
Subject: [Linux-uvc-devel] Video grabber?
In-Reply-To: <200807162311.11462.laurent.pinchart@skynet.be>
References: <20080716101303.42817db4@frodo.mittelerde>
	<200807162311.11462.laurent.pinchart@skynet.be>
Message-ID: <20080720111745.0223148f@frodo.mittelerde>

Am Wed, 16 Jul 2008 23:11:11 +0200 schrieb Laurent Pinchart:

> Hi Andreas,
> 
> On Wednesday 16 July 2008, Andreas Volz wrote:
> > Hello,
> >
> > which tool should I use to grab a video from my camera in USB mode?
> 
> Your camera has a DV mode and a Webcam mode. Which of them do you
> mean ? dvgrab will probably only work in DV mode, while most
> V4L2-aware software will be usable in Webcam mode provided they
> support MJPEG.

I use dvgrab in DV mode. But it doesn't work with dvgrab.

But I found a source file in my source folder that helps me with
recording from USB in DV mode. Not sure who gave it to me:

http://tux-style.de/tmp/uvcvideo/uvc-capture/

Is this tool available somewhere? If it helps other people than maybe
we should put it into the uvcvideo SVN. Or do you think dvgrab has a
problem and needs to be fixed?

regards
Andreas


From nixpanic at users.sourceforge.net  Sun Jul 20 17:42:48 2008
From: nixpanic at users.sourceforge.net (Niels de Vos)
Date: Sun, 20 Jul 2008 17:42:48 +0200
Subject: [Linux-uvc-devel] [PATCH] fix compiling on CentOS-5.2 kernel
 2.6.18
In-Reply-To: <1b51b6f80807190314k48d5e05ck4e184b57a3c06e41@mail.gmail.com>
References: <1b51b6f80807171103h2efa05afxe186fd2d668158b9@mail.gmail.com>	
	<200807172304.38742.laurent.pinchart@skynet.be>
	<1b51b6f80807190314k48d5e05ck4e184b57a3c06e41@mail.gmail.com>
Message-ID: <48835CF8.1090400@users.sourceforge.net>

Hello Laurent,

> On Thu, Jul 17, 2008 at 11:04 PM, Laurent Pinchart
> <laurent.pinchart at skynet.be> wrote:
>> On Thursday 17 July 2008, Niels de Vos wrote:
>>> Hello,
>>>
>>> the attached patch fixes compile issues on kernel 2.6.18 (Red Hat
>>> Enterprise, CentOS).
>> But it breaks compilation on non-Red Hat 2.6.18 kernels. Red Hat ships lots of
>> backported patches with its kernels. In this case the fault is on Red Hat's
>> side.

The attached patch should fix it. It makes the check in two stages,
circumventing the use of an undefined macro-function. Tested on several
CentOS releases, including the old 5.0 without RHEL_*-macros.

Thanks again,
Niels
-------------- next part --------------
A non-text attachment was scrubbed...
Name: compat_rhel52.patch
Type: text/x-patch
Size: 841 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080720/d67be035/attachment.bin>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 251 bytes
Desc: OpenPGP digital signature
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080720/d67be035/attachment.pgp>

From laurent.pinchart at skynet.be  Sun Jul 20 23:43:37 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 20 Jul 2008 23:43:37 +0200
Subject: [Linux-uvc-devel] [PATCH] fix compiling on CentOS-5.2 kernel
	2.6.18
In-Reply-To: <1b51b6f80807190314k48d5e05ck4e184b57a3c06e41@mail.gmail.com>
References: <1b51b6f80807171103h2efa05afxe186fd2d668158b9@mail.gmail.com>
	<200807172304.38742.laurent.pinchart@skynet.be>
	<1b51b6f80807190314k48d5e05ck4e184b57a3c06e41@mail.gmail.com>
Message-ID: <200807202343.37972.laurent.pinchart@skynet.be>

Hi Niels,

On Saturday 19 July 2008, Niels de Vos wrote:
> (resend, now with linux-uvc-devel...)
>
> Okay, my mistake. Please review the attached patch.

Committed, thanks.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Jul 21 00:04:42 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 21 Jul 2008 00:04:42 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <48820C62.6030900@martufone.info>
References: <487FAAB4.4060903@martufone.info>
	<200807182207.32920.laurent.pinchart@skynet.be>
	<48820C62.6030900@martufone.info>
Message-ID: <200807210004.42291.laurent.pinchart@skynet.be>

Hi,

On Saturday 19 July 2008, martuf1 wrote:
> > Yes, please use luvcview and run it with
> >
> > luvcview -f yuv
> >
> > Don't forget to report luvcview error messages as well as driver messages
> > printed to the kernel log.
> >
> > Best regards,
> >
> > Laurent Pinchart
>
> Hi Laurent,
> I will write what I did:
>
> $> svn checkout svn://svn.berlios.de/linux-uvc/linux-uvc/trunk
> $> cd trunk
> $> patch -p0 < a.diff    (your patch)
> $> make
> $> sudo make install
> $> sudo depmod -a
> $> sudo modprobe uvcvideo
> $> dmesg
> [  680.144146] Linux video capture interface: v2.00
> [  680.150335] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
> (174f:8a12)
> [  680.685512] uvcvideo: Failed to query (1) UVC control 2 (unit 0) :
> -110 (exp. 26).
> [  680.685521] uvcvideo: Failed to initialize the device (-5).
> [  680.686972] usbcore: registered new interface driver uvcvideo
> [  680.687252] USB Video Class driver (SVN r232)
>
> nb: no /dev/video0 device created
>
> $> sudo rmmod uvcvideo
> $> sudo modprobe uvcvideo
> $> dmesg
> [  694.869837] usbcore: deregistering interface driver uvcvideo
> [  697.376885] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera
> (174f:8a12)
> [  697.637572] usbcore: registered new interface driver uvcvideo
> [  697.637581] USB Video Class driver (SVN r232)
>
> nb: ok /dev/video0 device created
>
> $> luvcview -f yuv
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> ^C
> Stop asked
> ^Z
> [1]+  Stopped                 luvcview -f yuv
>
> $> kill -9 %1
> $> dmesg
> [  717.306510] uvcvideo: Failed to query (130) UVC control 1 (unit 0) :
> -110 (exp. 26).
>
> nb: Appear a black windows and as you can see I had to kill-9 the process
> to exit.
>
>
> $> sudo luvcview -f yuv
> luvcview version 0.2.1
> Video driver: x11
> A window manager is available
> video /dev/video0
> Unable to set format: 5.
>  Init v4L2 failed !! exit fatal
>
> $> dmesg
> [  726.914113] uvcvideo: Failed to query (129) UVC control 1 (unit 0) :
> -110 (exp. 26).
>
>
> What can I use to sniff usb traffic in windows vista?... There the cam
> is working...
> May that help you?

From your report I would guess your problems are caused by timing issues. 
Could you try to repeat the same operations with kernel 2.6.26 ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Jul 21 00:11:39 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 21 Jul 2008 00:11:39 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <48826A93.2010605@lounge-warrior.org>
References: <487617EB.1000607@lounge-warrior.org>
	<200807182249.18523.laurent.pinchart@skynet.be>
	<48826A93.2010605@lounge-warrior.org>
Message-ID: <200807210011.40065.laurent.pinchart@skynet.be>

Hi Stefan,

On Sunday 20 July 2008, Stefan Jensen wrote:
> Hi,...
>
> Laurent Pinchart schrieb:
> > Could you please describe the problems you experience with the latest SVN
> > version in details ? I'm interested in a detailed description of the
> > steps you perform, including application error messages and driver
> > messages printed to the kernel log for each step.
>
> I have attached a log of my experience with the driver and some
> applications i tried.

Camstream is not supposed to work as it doesn't support V4L2 devices. I've 
never tried Cheese, but I know Ekiga should work properly.

From your report it seems your problems are caused by a hardware/firmware 
issue. The Logitech Quickcam Sphere AF isn't known to exhibit these issues, 
but I wouldn't be surprised if it turned out to be buggy as many other 
Logitech webcams.

I'm afraid there's not much I can do at this point. Only Logitech could help 
tracing and fixing the issue.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Jul 21 00:13:24 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 21 Jul 2008 00:13:24 +0200
Subject: [Linux-uvc-devel] Video grabber?
In-Reply-To: <20080720111745.0223148f@frodo.mittelerde>
References: <20080716101303.42817db4@frodo.mittelerde>
	<200807162311.11462.laurent.pinchart@skynet.be>
	<20080720111745.0223148f@frodo.mittelerde>
Message-ID: <200807210013.24269.laurent.pinchart@skynet.be>

On Sunday 20 July 2008, Andreas Volz wrote:
> Am Wed, 16 Jul 2008 23:11:11 +0200 schrieb Laurent Pinchart:
> > Hi Andreas,
> >
> > On Wednesday 16 July 2008, Andreas Volz wrote:
> > > Hello,
> > >
> > > which tool should I use to grab a video from my camera in USB mode?
> >
> > Your camera has a DV mode and a Webcam mode. Which of them do you
> > mean ? dvgrab will probably only work in DV mode, while most
> > V4L2-aware software will be usable in Webcam mode provided they
> > support MJPEG.
>
> I use dvgrab in DV mode. But it doesn't work with dvgrab.
>
> But I found a source file in my source folder that helps me with
> recording from USB in DV mode. Not sure who gave it to me:
>
> http://tux-style.de/tmp/uvcvideo/uvc-capture/
>
> Is this tool available somewhere? If it helps other people than maybe
> we should put it into the uvcvideo SVN. Or do you think dvgrab has a
> problem and needs to be fixed?

dvgrab explicitely supports UVC cameras. The problem needs to be addressed and 
a fix needs to be found, either in the driver or in dvgrab. I can't work on 
it myself though, as I don't own any DV UVC hardware.

Best regards,

Laurent Pinchart


From ralph at mueller-welt.net  Mon Jul 21 02:37:45 2008
From: ralph at mueller-welt.net (Ralph =?iso-8859-1?q?M=FCller-Welt?=)
Date: Mon, 21 Jul 2008 02:37:45 +0200
Subject: [Linux-uvc-devel] Problems with 046d:08c2
Message-ID: <200807210237.46006.ralph@mueller-welt.net>

Hi List,

as i dont use my Logitech Quickcam Orbit/Sphere MP regularily, i dont know 
since when ive got the cam not working.
I plug the device in but no /dev/videoX is created.
So i got the Sources and tried with this.

Kubuntu 8.0.4.1
$ uname -a
Linux A8V 2.6.24-19-generic #1 SMP Fri Jul 11 21:01:46 UTC 2008 x86_64 
GNU/Linux

$ modinfo uvcvideo
filename:       /lib/modules/2.6.24-19-generic/ubuntu/media/usbvideo/uvcvideo.ko
version:        SVN r233
license:        GPL
description:    USB Video Class driver
author:         Laurent Pinchart <laurent.pinchart at skynet.be>
srcversion:     5FE247AD7B1AE79DCD23CC1
...
alias:          usb:v046Dp08C2d*dc*dsc*dp*icFFisc01ip00*
...
depends:        usbcore,videodev,v4l2-common,v4l1-compat,compat_ioctl32
vermagic:       2.6.24-19-generic SMP mod_unload
parm:           quirks:Forced device quirks (uint)
parm:           trace:Trace level bitmask (uint)

$ modprobe uvcvideo
/var/log/messages
usbcore: registered new interface driver uvcvideo
USB Video Class driver (SVN r233)

Plugging in the device
/var/log/messages
usb 5-4: new high speed USB device using ehci_hcd and address 6
usb 5-4: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c2)

Same result with or without udev-rule
KERNEL=="video?", SUBSYSTEMS=="video4linux", ATTR{name}=="UVC Camera*", 
SYMLINK+="video-cam"

I know it did work somewhen :-)
So why not anymore?

Any help welcome,
Ralph.
PS: Theres another v4l card installed using saa7134(_alsa) modules and 
creating devices with a similar udev-rule.
00:0d.0 Multimedia controller: Philips Semiconductors SAA7134/SAA7135HL Video 
Broadcast Decoder (rev 01)

crw-rw----+ 1 root video 81, 0 2008-07-21 01:08 /dev/video0
lrwxrwxrwx  1 root root      6 2008-07-20 23:03 /dev/video-pctv -> video0

EOM

$ sudo lsusb -vd 046d:08c2                                                                                                                       
Bus 005 Device 006: ID 046d:08c2 Logitech, Inc. 
Device Descriptor:                              
  bLength                18                     
  bDescriptorType         1                     
  bcdUSB               2.00                     
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0                             
  bDeviceProtocol         1                             
  bMaxPacketSize0        64                             
  idVendor           0x046d Logitech, Inc.              
  idProduct          0x08c2                             
  bcdDevice            0.05                             
  iManufacturer           0                             
  iProduct                0                             
  iSerial                 2 FCE88390                    
  bNumConfigurations      1                             
  Configuration Descriptor:                             
    bLength                 9                           
    bDescriptorType         2                           
    wTotalLength         1393                           
    bNumInterfaces          4                           
    bConfigurationValue     1                           
    iConfiguration          0                           
    bmAttributes         0x80                           
      (Bus Powered)                                     
    MaxPower              500mA                         
    Interface Association:                              
      bLength                 8                         
      bDescriptorType        11                         
      bFirstInterface         0                         
      bInterfaceCount         2                         
      bFunctionClass        255 Vendor Specific Class   
      bFunctionSubClass       3                         
      bFunctionProtocol       0                         
      iFunction               0                         
    Interface Descriptor:                               
      bLength                 9                         
      bDescriptorType         4                         
      bInterfaceNumber        0                         
      bAlternateSetting       0                         
      bNumEndpoints           1                         
      bInterfaceClass       255 Vendor Specific Class   
      bInterfaceSubClass      1                         
      bInterfaceProtocol      0                         
      iInterface              0                         
      ** UNRECOGNIZED:  0d 24 01 00 01 6a 00 00 6c dc 02 01 01
      ** UNRECOGNIZED:  12 24 02 01 01 02 00 00 00 00 00 00 00 00 03 0e 00 00
      ** UNRECOGNIZED:  0b 24 05 02 01 00 40 02 7b 17 00                     
      ** UNRECOGNIZED:  1c 24 06 03 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 
22 1d 00 01 02 03 ff ff 1f 00
      ** UNRECOGNIZED:  1b 24 06 04 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 
22 1e 00 01 03 02 7f 01 00   
      ** UNRECOGNIZED:  09 24 03 05 01 01 00 04 00                                                         
      ** UNRECOGNIZED:  20 41 01 08 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 
22 51 03 01 04 03 19 00 00 00 00 00 00 00
      ** UNRECOGNIZED:  20 41 01 0a 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 
22 52 01 01 04 03 00 40 00 00 00 00 00 00
      ** UNRECOGNIZED:  20 41 01 09 82 06 61 63 70 50 ab 49 b8 cc b3 85 5e 8d 
22 56 02 01 04 03 03 00 00 00 00 00 00 00
      Endpoint Descriptor:                                                                                             
        bLength                 7                                                                                      
        bDescriptorType         5                                                                                      
        bEndpointAddress     0x87  EP 7 IN                                                                             
        bmAttributes            3                                                                                      
          Transfer Type            Interrupt                                                                           
          Synch Type               None                                                                                
          Usage Type               Data                                                                                
        wMaxPacketSize     0x0010  1x 16 bytes                                                                         
        bInterval               8                                                                                      
    Interface Descriptor:                                                                                              
      bLength                 9                                                                                        
      bDescriptorType         4                                                                                        
      bInterfaceNumber        1                                                                                        
      bAlternateSetting       0                                                                                        
      bNumEndpoints           0                                                                                        
      bInterfaceClass       255 Vendor Specific Class                                                                  
      bInterfaceSubClass      2                                                                                        
      bInterfaceProtocol      0                                                                                        
      iInterface              0                                                                                        
      ** UNRECOGNIZED:  10 24 01 03 07 03 81 00 05 02 01 00 01 04 00 04                                                
      ** UNRECOGNIZED:  0b 24 06 01 0c 01 03 00 00 00 00                                                               
      ** UNRECOGNIZED:  32 24 07 01 00 a0 00 78 00 00 70 17 00 00 a0 8c 00 00 
96 00 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 00 40 42 
0f 00 80 84 1e 00                                                                                                                                           
      ** UNRECOGNIZED:  32 24 07 02 00 b0 00 90 00 00 f0 1e 00 00 a0 b9 00 00 
c6 00 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 00 40 42 
0f 00 80 84 1e 00                                                                                                                                           
      ** UNRECOGNIZED:  32 24 07 03 00 40 01 f0 00 00 c0 5d 00 00 80 32 02 00 
58 02 00 2a 2c 0a 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 00 40 42 
0f 00 80 84 1e 00                                                                                                                                           
      ** UNRECOGNIZED:  32 24 07 04 00 60 01 20 01 00 c0 7b 00 00 80 e6 02 00 
18 03 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 00 40 42 
0f 00 80 84 1e 00                                                                                                                                           
      ** UNRECOGNIZED:  32 24 07 05 00 b0 01 f0 00 00 90 7e 00 00 60 f7 02 00 
2a 03 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 00 40 42 
0f 00 80 84 1e 00                                                                                                                                           
      ** UNRECOGNIZED:  32 24 07 06 00 e0 01 68 01 00 f0 d2 00 00 a0 f1 04 00 
46 05 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 00 40 42 
0f 00 80 84 1e 00                                                                                                                                           
      ** UNRECOGNIZED:  32 24 07 07 00 00 02 20 01 00 00 b4 00 00 00 38 04 00 
80 04 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 00 40 42 
0f 00 80 84 1e 00                                                                                                                                           
      ** UNRECOGNIZED:  32 24 07 08 00 80 02 68 01 00 40 19 01 00 80 97 06 00 
08 07 00 15 16 05 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 00 40 42 
0f 00 80 84 1e 00                                                                                                                                           
      ** UNRECOGNIZED:  32 24 07 09 00 80 02 e0 01 00 00 77 01 00 00 ca 08 00 
60 09 00 2a 2c 0a 00 06 15 16 05 00 80 1a 06 00 20 a1 07 00 2a 2c 0a 00 40 42 
0f 00 80 84 1e 00                                                                                                                                           
      ** UNRECOGNIZED:  26 24 07 0a 00 c0 02 40 02 00 00 ef 01 00 00 cd 05 00 
60 0c 00 2a 2c 0a 00 03 2a 2c 0a 00 40 42 0f 00 80 84 1e 00                   
      ** UNRECOGNIZED:  26 24 07 0b 00 60 03 e0 01 00 40 fa 01 00 c0 ee 05 00 
a8 0c 00 2a 2c 0a 00 03 2a 2c 0a 00 40 42 0f 00 80 84 1e 00                   
      ** UNRECOGNIZED:  26 24 07 0c 00 c0 03 d0 02 00 c0 4b 03 00 40 e3 09 00 
18 15 00 2a 2c 0a 00 03 2a 2c 0a 00 40 42 0f 00 80 84 1e 00                   
      ** UNRECOGNIZED:  3e 24 03 00 0c a0 00 78 00 b0 00 90 00 40 01 f0 00 60 
01 20 01 b0 01 f0 00 e0 01 68 01 00 02 20 01 80 02 68 01 80 02 e0 01 c0 02 40 
02 60 03 e0 01 c0 03 d0 02 08 04 08 0c 10 14 18 1c 1f                                                                                                       
      ** UNRECOGNIZED:  06 24 0d 01 01 04                                                                                                                   
      ** UNRECOGNIZED:  1b 24 04 02 02 59 55 59 32 00 00 10 00 80 00 00 aa 00 
38 9b 71 10 01 00 00 00 00                                                    
      ** UNRECOGNIZED:  22 24 05 01 00 00 04 40 02 00 00 d0 02 00 00 a0 05 00 
00 12 00 40 42 0f 00 02 40 42 0f 00 80 84 1e 00                               
      ** UNRECOGNIZED:  22 24 05 02 00 00 05 c0 03 00 00 dc 05 00 00 b8 0b 00 
80 25 00 55 58 14 00 02 55 58 14 00 80 84 1e 00                               
      ** UNRECOGNIZED:  0f 24 03 00 02 00 04 40 02 00 05 c0 03 01 04                                                                                        
      ** UNRECOGNIZED:  06 24 0d 01 01 04                                                                                                                   
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting       1                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x00c0  1x 192 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting       2                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x0180  1x 384 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting       3                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x0200  1x 512 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting       4                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x0280  1x 640 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting       5                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x0320  1x 800 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting       6                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x03b0  1x 944 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting       7                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x0a80  2x 640 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting       8                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x0b20  2x 800 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting       9                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x0be0  2x 992 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting      10                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x1380  3x 896 bytes                                                                                                             
        bInterval               1                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        1                                                                                                                             
      bAlternateSetting      11                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass       255 Vendor Specific Class                                                                                                       
      bInterfaceSubClass      2                                                                                                                             
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      Endpoint Descriptor:                                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x81  EP 1 IN                                                                                                                  
        bmAttributes            1                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               None                                                                                                                     
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x13fc  3x 1020 bytes                                                                                                            
        bInterval               1                                                                                                                           
    Interface Association:                                                                                                                                  
      bLength                 8                                                                                                                             
      bDescriptorType        11                                                                                                                             
      bFirstInterface         2                                                                                                                             
      bInterfaceCount         2                                                                                                                             
      bFunctionClass          1 Audio                                                                                                                       
      bFunctionSubClass       2 Streaming                                                                                                                   
      bFunctionProtocol       0                                                                                                                             
      iFunction               0                                                                                                                             
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        2                                                                                                                             
      bAlternateSetting       0                                                                                                                             
      bNumEndpoints           0                                                                                                                             
      bInterfaceClass         1 Audio                                                                                                                       
      bInterfaceSubClass      1 Control Device                                                                                                              
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      AudioControl Interface Descriptor:                                                                                                                    
        bLength                 9                                                                                                                           
        bDescriptorType        36                                                                                                                           
        bDescriptorSubtype      1 (HEADER)                                                                                                                  
        bcdADC               1.00                                                                                                                           
        wTotalLength           38                                                                                                                           
        bInCollection           1                                                                                                                           
        baInterfaceNr( 0)       3                                                                                                                           
      AudioControl Interface Descriptor:                                                                                                                    
        bLength                12                                                                                                                           
        bDescriptorType        36                                                                                                                           
        bDescriptorSubtype      2 (INPUT_TERMINAL)                                                                                                          
        bTerminalID             1                                                                                                                           
        wTerminalType      0x0201 Microphone                                                                                                                
        bAssocTerminal          0                                                                                                                           
        bNrChannels             1                                                                                                                           
        wChannelConfig     0x0000                                                                                                                           
        iChannelNames           0                                                                                                                           
        iTerminal               0                                                                                                                           
      AudioControl Interface Descriptor:                                                                                                                    
        bLength                 9                                                                                                                           
        bDescriptorType        36                                                                                                                           
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)                                                                                                         
        bTerminalID             3                                                                                                                           
        wTerminalType      0x0101 USB Streaming                                                                                                             
        bAssocTerminal          0                                                                                                                           
        bSourceID               5                                                                                                                           
        iTerminal               0                                                                                                                           
      AudioControl Interface Descriptor:                                                                                                                    
        bLength                 8                                                                                                                           
        bDescriptorType        36                                                                                                                           
        bDescriptorSubtype      6 (FEATURE_UNIT)                                                                                                            
        bUnitID                 5                                                                                                                           
        bSourceID               1                                                                                                                           
        bControlSize            1                                                                                                                           
        bmaControls( 0)      0x03                                                                                                                           
          Mute                                                                                                                                              
          Volume                                                                                                                                            
        iFeature                0                                                                                                                           
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        3                                                                                                                             
      bAlternateSetting       0                                                                                                                             
      bNumEndpoints           0                                                                                                                             
      bInterfaceClass         1 Audio                                                                                                                       
      bInterfaceSubClass      2 Streaming                                                                                                                   
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        3                                                                                                                             
      bAlternateSetting       1                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass         1 Audio                                                                                                                       
      bInterfaceSubClass      2 Streaming                                                                                                                   
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      AudioStreaming Interface Descriptor:                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType        36                                                                                                                           
        bDescriptorSubtype      1 (AS_GENERAL)                                                                                                              
        bTerminalLink           3                                                                                                                           
        bDelay                  1 frames                                                                                                                    
        wFormatTag              1 PCM                                                                                                                       
      AudioStreaming Interface Descriptor:                                                                                                                  
        bLength                11                                                                                                                           
        bDescriptorType        36                                                                                                                           
        bDescriptorSubtype      2 (FORMAT_TYPE)                                                                                                             
        bFormatType             1 (FORMAT_TYPE_I)                                                                                                           
        bNrChannels             1                                                                                                                           
        bSubframeSize           2                                                                                                                           
        bBitResolution         16                                                                                                                           
        bSamFreqType            1 Discrete                                                                                                                  
        tSamFreq[ 0]            0                                                                                                                           
      Endpoint Descriptor:                                                                                                                                  
        bLength                 9                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x86  EP 6 IN                                                                                                                  
        bmAttributes            5                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               Asynchronous                                                                                                             
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x0010  1x 16 bytes                                                                                                              
        bInterval               4                                                                                                                           
        bRefresh                0                                                                                                                           
        bSynchAddress           0                                                                                                                           
        AudioControl Endpoint Descriptor:                                                                                                                   
          bLength                 7                                                                                                                         
          bDescriptorType        37                                                                                                                         
          bDescriptorSubtype      1 (EP_GENERAL)                                                                                                            
          bmAttributes         0x01                                                                                                                         
            Sampling Frequency                                                                                                                              
          bLockDelayUnits         0 Undefined                                                                                                               
          wLockDelay              0 Undefined                                                                                                               
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        3                                                                                                                             
      bAlternateSetting       2                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass         1 Audio                                                                                                                       
      bInterfaceSubClass      2 Streaming                                                                                                                   
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      AudioStreaming Interface Descriptor:                                                                                                                  
        bLength                 7                                                                                                                           
        bDescriptorType        36                                                                                                                           
        bDescriptorSubtype      1 (AS_GENERAL)                                                                                                              
        bTerminalLink           3                                                                                                                           
        bDelay                  1 frames                                                                                                                    
        wFormatTag              1 PCM                                                                                                                       
      AudioStreaming Interface Descriptor:                                                                                                                  
        bLength                11                                                                                                                           
        bDescriptorType        36                                                                                                                           
        bDescriptorSubtype      2 (FORMAT_TYPE)                                                                                                             
        bFormatType             1 (FORMAT_TYPE_I)                                                                                                           
        bNrChannels             1                                                                                                                           
        bSubframeSize           2                                                                                                                           
        bBitResolution         16                                                                                                                           
        bSamFreqType            1 Discrete                                                                                                                  
        tSamFreq[ 0]            0                                                                                                                           
      Endpoint Descriptor:                                                                                                                                  
        bLength                 9                                                                                                                           
        bDescriptorType         5                                                                                                                           
        bEndpointAddress     0x86  EP 6 IN                                                                                                                  
        bmAttributes            5                                                                                                                           
          Transfer Type            Isochronous                                                                                                              
          Synch Type               Asynchronous                                                                                                             
          Usage Type               Data                                                                                                                     
        wMaxPacketSize     0x0020  1x 32 bytes                                                                                                              
        bInterval               4                                                                                                                           
        bRefresh                0                                                                                                                           
        bSynchAddress           0                                                                                                                           
        AudioControl Endpoint Descriptor:                                                                                                                   
          bLength                 7                                                                                                                         
          bDescriptorType        37                                                                                                                         
          bDescriptorSubtype      1 (EP_GENERAL)                                                                                                            
          bmAttributes         0x01                                                                                                                         
            Sampling Frequency                                                                                                                              
          bLockDelayUnits         0 Undefined                                                                                                               
          wLockDelay              0 Undefined                                                                                                               
    Interface Descriptor:                                                                                                                                   
      bLength                 9                                                                                                                             
      bDescriptorType         4                                                                                                                             
      bInterfaceNumber        3                                                                                                                             
      bAlternateSetting       3                                                                                                                             
      bNumEndpoints           1                                                                                                                             
      bInterfaceClass         1 Audio                                                                                                                       
      bInterfaceSubClass      2 Streaming                                                                                                                   
      bInterfaceProtocol      0                                                                                                                             
      iInterface              0                                                                                                                             
      AudioStreaming Interface Descriptor:                                                                                                                  
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      1 (AS_GENERAL)
        bTerminalLink           3
        bDelay                  1 frames
        wFormatTag              1 PCM
      AudioStreaming Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      2 (FORMAT_TYPE)
        bFormatType             1 (FORMAT_TYPE_I)
        bNrChannels             1
        bSubframeSize           2
        bBitResolution         16
        bSamFreqType            1 Discrete
        tSamFreq[ 0]        16000
      Endpoint Descriptor:
        bLength                 9
        bDescriptorType         5
        bEndpointAddress     0x86  EP 6 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x0030  1x 48 bytes
        bInterval               4
        bRefresh                0
        bSynchAddress           0
        AudioControl Endpoint Descriptor:
          bLength                 7
          bDescriptorType        37
          bDescriptorSubtype      1 (EP_GENERAL)
          bmAttributes         0x01
            Sampling Frequency
          bLockDelayUnits         0 Undefined
          wLockDelay              0 Undefined
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         1
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)


From nixpanic at users.sourceforge.net  Mon Jul 21 11:54:48 2008
From: nixpanic at users.sourceforge.net (Niels de Vos)
Date: Mon, 21 Jul 2008 11:54:48 +0200
Subject: [Linux-uvc-devel] [PATCH] fix compiling on CentOS-5.2 kernel
	2.6.18
In-Reply-To: <200807202343.37972.laurent.pinchart@skynet.be>
References: <1b51b6f80807171103h2efa05afxe186fd2d668158b9@mail.gmail.com>
	<200807172304.38742.laurent.pinchart@skynet.be>
	<1b51b6f80807190314k48d5e05ck4e184b57a3c06e41@mail.gmail.com>
	<200807202343.37972.laurent.pinchart@skynet.be>
Message-ID: <1b51b6f80807210254l85059a3n5ca1121ba3f14a98@mail.gmail.com>

On Sun, Jul 20, 2008 at 11:43 PM, Laurent Pinchart
<laurent.pinchart at skynet.be> wrote:
> Hi Niels,
>
> On Saturday 19 July 2008, Niels de Vos wrote:
>> (resend, now with linux-uvc-devel...)
>>
>> Okay, my mistake. Please review the attached patch.
>
> Committed, thanks.

Great, thank you for the great driver!

Looking for ordering a Fuji FinePix S5500 as it should be supported :)

Cheers, Niels


From pj.assis at gmail.com  Mon Jul 21 12:05:28 2008
From: pj.assis at gmail.com (Paulo Assis)
Date: Mon, 21 Jul 2008 11:05:28 +0100
Subject: [Linux-uvc-devel] [Fwd:  Video grabber?]
In-Reply-To: <20080720110806.5b1e00c8@frodo.mittelerde>
References: <487F05B3.50606@gmail.com>
	<20080720110806.5b1e00c8@frodo.mittelerde>
Message-ID: <48845F68.1040803@gmail.com>

Andreas,
I had a look into the raw MJPG file and it has a different header from 
what guvcview was expecting, I've commit a change to svn that should fix 
the problem.
I've test it on your raw file and it worked, but it would be nice if you 
could run some tests yourself:
svn checkout http://svn.berlios.de/svnroot/repos/guvcview/trunk

Best regards,
Paulo


Andreas Volz escreveu:
> Am Thu, 17 Jul 2008 09:41:23 +0100 schrieb Paulo Assis:
>
>   
>> Hi Andreas,
>>
>> In regards to guvcview still image capture, when in MJPG mode, the 
>> standard Huffman tables are added to the captured frame and in YUV
>> mode a built-in jpg compressor is used. I had no problems with this
>> so far (tested in Ubuntu, Debian and OpenSuse ), but if you could
>> post me your jpg file maybe I can understand what's wrong, also have
>> you tested with the other formats available (png, bmp) are these also
>> giving you trouble ?
>>     
>
> The bmp and png files work without problems. But I've problems with the raw
> and jpg files. See here what files tell me about them:
>
> Image.jpg:                   JPEG image data, JFIF standard 1.02, thumbnail 2x3
> Image.raw:                   JPEG image data
>
> I put the files here:
>
> http://tux-style.de/tmp/uvcvideo/images/
>
> The mjpeg2jpeg.py script from Laurent worked only with the raw file. The other one 
> still doesn't work.
>
> regards
> Andreas
> _______________________________________________
> Linux-uvc-devel mailing list
> Linux-uvc-devel at lists.berlios.de
> https://lists.berlios.de/mailman/listinfo/linux-uvc-devel
>
>   



From deloptes at yahoo.com  Mon Jul 21 14:35:55 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Mon, 21 Jul 2008 05:35:55 -0700 (PDT)
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <200807182243.44276.laurent.pinchart@skynet.be>
Message-ID: <321917.55406.qm@web53208.mail.re2.yahoo.com>

Hi. Laurent and thank you for being kind.

I have different issues that are bugging me. Skype and Webcam is just the smallest one
> It always depends on what you try to achieve. For any given
> OS you will be 
> able to find a task that would be much easier to perform
> under another 
> operating system.

It seems to be the right answer. But if there has been  something working with my older linux distro and a similar thing is not working on the new one :-(.

My biggest issue is syncing my new mobile phones. As they are buziness phones, provided by the companies I work for I can not influence the model or the producer, so now I'm stuck in a mess of contacts that are different on each phone.

> 
> > Sorry if you or someone else feel insulted by what I
> said, but also you can
> > not deny the fact that it is not working as it should
> be, because I have
> > evidence that it is not working...
> 
> Given the amount of e-mails exchanged on this list, I
> won't deny that Skype 
> has issues under Linux. However, blaming Linux for Skype
> issues would be like 
> blaming MS when Firefox crashes.

Well, in general you are right, but the linux people should be able to do something also about comercial software running on linux itself.
I think what linux laks is a kind of standardized verification routine.
The fact that everybody can change everything is making things differ in minor kernel or compiler versions.

> 
> > As I decided not to use MS years ago I am considering
> buying Apple next
> > year.
> >
> > I think this is the best solution for me because
> recently I'm pretty buzzy
> > with my job and familly and I don't have that much
> time to debug linux.
> >
> > I would recommend using linux in home or small
> buziness office solutions as
> > a server but it's still far from stability as a
> workstation. Some hope
> > brings an experiment like EEEC but the future will
> show if this is a
> > winner.
> 
> That's your opinion, based on your personal background
> and experience. There 
> is no definitive answer regarding how a given operating
> system fits in a 
> given context. There are plenty of people who will find
> Linux much harder to 
> use as a desktop operating system, and there are also
> plenty of people who 
> will find Linux much easier.

Again, you are may be right, but I've been trying to populate linux under my family and friends and what I do now is trying to find a solution for this stupid issue with Skype video and keep 3D working.
So based on experience, compared to Mac or Windows OS graphicala linux is 
far from being stable and user friendly.

Now this is something else about the gnu community and their compilers. I've got a toy with geode cpu inside and I can not boot a linux kernel. the people from AMD point me to the link where it says kernel 2.6.11 or 2.4.24 with patches from AMD. Now surprise surprise you can compile them only with 2.95 gcc and you don't find this compiler either in SuSE (10.2) which should be kind of stable, nor in recent debian ... and you are preaching ...

and indeed I have a sarge (stable) on one server with gcc-2.95 and the kernel compiles there ... and I tought things should be backwards compatible ... so no way that I completely agree with you, sorry.

Another stupid example:
My father has I Nikon 2100 camera (which appears to be USB1.1) after pluging in the uvcvideo driver and attaching the webcam he can not access the camera. The only solution I found is to make a button on his Desktop which triggers rmmod on uvcvideo and ehci_hcd and kills skype - only to let hinm copy  his images from the camera ... and this is definitely a linux issue.

> 
> Your opinion and point of view is certainly valid, but is
> also biased, much 
> like all of the other computer users' opinions.

I agree and I want to have a simple stable system. The only thing I can consider as stable is the stable debian, but it comes on cost of a lot of useful software that is not considered stable - thus I say it's good for a server and not for a simple user desktop.

> 
> > I appreciate your opinion and the work all of the free
> software community
> > do - it is very important.
> >
> > I'm really sorry speaking so negatively about
> linux in general.
> 
> No worries. Just try not to react on the spot when yet
> another small annoyance 
> adds to the pile and makes your brain explode. A good
> night's sleep often 
> helps not to start flame wars.
> 
> Best regards,
> 

Thanks, I agree, reaction was a bit too emotional, but what you and other folks do are trying to convince me that something is good whe nI say that it is not. So why just not accept the fact that it's a bunch of useful crap, that sometime works and sometime not.
Besides all the issues I have are on kernel level or basic libraries. (except skype of course :-) )1

In few months I hope I'll have more time and I'm considering starting a project that will get a bundle of really working applications and may be get a livecd done.
I think the problem is due to a rapid development with the 2.6 kernel series, so a lot of things can not catch up ... but as you say this is my opinion and I'm tired of filing bugs here and there and spending time on debugging.

In fact and this may be of interest to all of you I have been following a conservative philosophy before (some kind of mixture between debian and gentoo). I took debian stable and compiled and installed every app that I needed. I think I had less troubles then.
Unfortunately the number of nice apps increeses and I'm trying now testing (apt-get install and debug) but as you see I complain more :-)


regards


      


From deloptes at yahoo.com  Mon Jul 21 14:40:06 2008
From: deloptes at yahoo.com (Emanoil Kotsev)
Date: Mon, 21 Jul 2008 05:40:06 -0700 (PDT)
Subject: [Linux-uvc-devel] Skype not working
In-Reply-To: <mailman.109.1216375367.24127.linux-uvc-devel@lists.berlios.de>
Message-ID: <13939.23196.qm@web53211.mail.re2.yahoo.com>



> From: Andreas Volz <lists at brachttal.net>
> Subject: Re: [Linux-uvc-devel] Skype not working

> > What kind of video card and video driver are you
> using. May be it's
> > related to my similar problem using ATI or NVidia
> proprietary drivers.
> 
> I tried "nv" driver and the result was the same.
> :-(

May be we should compare the xorg.conf's. I assume you've restarted the x server after changing the line.
Which distro and version are you using (don't remember if you've mentioned)

I'm pretty sure that this solved the issue for me and many others.

and this is definitely a Skype issue, which they don't plan to fix soon :-(

regards


      


From sjensen at versanet.de  Mon Jul 21 16:31:05 2008
From: sjensen at versanet.de (Stefan Jensen)
Date: Mon, 21 Jul 2008 16:31:05 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <200807210011.40065.laurent.pinchart@skynet.be>
References: <487617EB.1000607@lounge-warrior.org>
	<200807182249.18523.laurent.pinchart@skynet.be>
	<48826A93.2010605@lounge-warrior.org>
	<200807210011.40065.laurent.pinchart@skynet.be>
Message-ID: <48849DA9.4060703@lounge-warrior.org>

Hello Laurent,

Laurent Pinchart schrieb:

> Camstream is not supposed to work as it doesn't support V4L2 devices. I've 
> never tried Cheese, but I know Ekiga should work properly.

I don't want to use as that much apps for this cam of course. I would be
happy if "motion" is fully working with this auto tracking thing and at least
ekiga. (which does after rmmod/insmod)

kernel: uvcvideo: Failed to query (135) UVC control 2 (unit 2) : -110 (exp. 2)
kernel: uvcvideo: Failed to query (130) UVC control 7 (unit 2) : -32 (exp. 2)

What does this message exactly means?

> I'm afraid there's not much I can do at this point. Only Logitech could help 
> tracing and fixing the issue.

Mmh, ok. Thanks. I maybe give it a try to contact Logitech. I don't expect much.

Is there a way to trigger the udev rule on startup? (Cam is always connected)

Currently the rule is only triggered when rmmod/insmod the module. I have a ugly
workaround in my init script for "motion" removing and inserting the module,
that make the pan/tilt controls available.

And can one point me to some infos of what has changed in the controls? I want
to patch motion to support the new controls. Thanks!

best regards

Stefan
--


From darren.longhorn at redembedded.com  Mon Jul 21 18:47:03 2008
From: darren.longhorn at redembedded.com (Darren Longhorn)
Date: Mon, 21 Jul 2008 17:47:03 +0100
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <487E6520.2060108@redembedded.com>
References: <487CABF5.70708@redembedded.com>	<200807161625.12340.laurent.pinchart@skynet.be>
	<487E6520.2060108@redembedded.com>
Message-ID: <4884BD87.1040106@redembedded.com>

Darren Longhorn wrote:
> Laurent Pinchart wrote:
>> Hi Darren,
>>
>> On Tuesday 15 July 2008, Darren Longhorn wrote:
>>   
>>> Firstly, I realise that kernels as old as 2.6.10 are not supported! So
>>> I don't expect anyone is much interested in these issues, but I wanted
>>> to document it somewhere and this list seemed to be the appropriate place.
>>>
>>> The main issue I have found are the use of linux/videodev2.h in place
>>> of linux/videodev.h This causes various compilation errors. Including
>>> lack of definitions from linux/mm.h which videodev2.h does not
>>> provide. I belive this may be related to the non-availability of
>>> media/v4l2-common.h so I have reverted back to including
>>> linux/videodev.h on kernels < 2.6.15
>>>     
>> I've included linux/videodev.h in uvc_compat.h for kernels older than 2.6.18. 
>> This should fix your compilation issues.
>>

Hi Laurent,

I just got around to merging with svn 233. I think that the 
conditional inclusion of linux/videodev.h needs to be earlier in the 
file, in order to provide a definition of VM_RESERVED for 
vm_insert_page().

While I actually have kzalloc implemented in my kernel, I don't have 
__nocast for gfp_t, so I added:
#if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,12)
#define __nocast
#endif

Also the arm_v5t_le- toolchain generates the error 'missing binary 
operator before token "("' for the following line:
#if !defined(RHEL_RELEASE_CODE) || RHEL_RELEASE_CODE < 
RHEL_RELEASE_VERSION(5,2)

Cheers

Darren




From laurent.pinchart at skynet.be  Mon Jul 21 21:22:46 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 21 Jul 2008 21:22:46 +0200
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <4884BD87.1040106@redembedded.com>
References: <487CABF5.70708@redembedded.com> <487E6520.2060108@redembedded.com>
	<4884BD87.1040106@redembedded.com>
Message-ID: <200807212122.46824.laurent.pinchart@skynet.be>

Hi Darren,

On Monday 21 July 2008, Darren Longhorn wrote:
>
> I just got around to merging with svn 233. I think that the
> conditional inclusion of linux/videodev.h needs to be earlier in the
> file, in order to provide a definition of VM_RESERVED for
> vm_insert_page().

I've included linux/mm.h instead for kernels older than 2.6.15.

> While I actually have kzalloc implemented in my kernel, I don't have
> __nocast for gfp_t, so I added:
> #if LINUX_VERSION_CODE < KERNEL_VERSION(2,6,12)
> #define __nocast
> #endif

Thanks. That's committed as well.

> Also the arm_v5t_le- toolchain generates the error 'missing binary
> operator before token "("' for the following line:
> #if !defined(RHEL_RELEASE_CODE) || RHEL_RELEASE_CODE <
> RHEL_RELEASE_VERSION(5,2)

Which version of gcc are you using ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Jul 21 21:43:30 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 21 Jul 2008 21:43:30 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam Sphere AF Support
In-Reply-To: <48849DA9.4060703@lounge-warrior.org>
References: <487617EB.1000607@lounge-warrior.org>
	<200807210011.40065.laurent.pinchart@skynet.be>
	<48849DA9.4060703@lounge-warrior.org>
Message-ID: <200807212143.30589.laurent.pinchart@skynet.be>

Hi Stefan,

On Monday 21 July 2008, Stefan Jensen wrote:
> Hello Laurent,
>
> Laurent Pinchart schrieb:
> > Camstream is not supposed to work as it doesn't support V4L2 devices.
> > I've never tried Cheese, but I know Ekiga should work properly.
>
> I don't want to use as that much apps for this cam of course. I would be
> happy if "motion" is fully working with this auto tracking thing and at
> least ekiga. (which does after rmmod/insmod)
>
> kernel: uvcvideo: Failed to query (135) UVC control 2 (unit 2) : -110 (exp.
> 2)
> kernel: uvcvideo: Failed to query (130) UVC control 7 (unit 2) : -32 
> (exp. 2)
>
> What does this message exactly means?

It means the camera failed to answer a GET_DEF(135) and GET_MIN(130) query on 
the brightness (2, unit 2) and saturation (7, unit 2) controls with a timeout 
(-110) and an explicit USB error (-32). Why the camera failed to answer the 
requests is not clear, but this should not happen. As the driver sends valid 
requests I would guess the camera has a firmware bug, probably 
timing-related.

> > I'm afraid there's not much I can do at this point. Only Logitech could
> > help tracing and fixing the issue.
>
> Mmh, ok. Thanks. I maybe give it a try to contact Logitech. I don't expect
> much.

Try to contact them through the www.quickcamteam.net forums.

> Is there a way to trigger the udev rule on startup? (Cam is always
> connected)
>
> Currently the rule is only triggered when rmmod/insmod the module. I have a
> ugly workaround in my init script for "motion" removing and inserting the
> module, that make the pan/tilt controls available.

I'm no udev expert so I can't help you on this one. If nobody can help you 
here you could try your luck on the www.quickcamteam.net forums.

> And can one point me to some infos of what has changed in the controls? I
> want to patch motion to support the new controls. Thanks!

Before the "dynamic controls" were introduced in the driver, uvcvideo exported 
a single control to control pan and tilt. The 16 MSB stored the pan value and 
the 16 LSB stored the tilt value (it could be the opposite). With the 
introduction of dynamic controls, the uvcdynctrl configures the driver at 
runtime with vendor-specific controls. Pan and tilt are now handled as two 
separate controls, V4L2_CID_PAN_RELATIVE and V4L2_CID_TILT_RELATIVE. Their 
values have been added to linux/videodev2.h in 2.6.26.

Best regards,

Laurent Pinchart


From darren.longhorn at redembedded.com  Tue Jul 22 10:28:34 2008
From: darren.longhorn at redembedded.com (Darren Longhorn)
Date: Tue, 22 Jul 2008 09:28:34 +0100
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <200807212122.46824.laurent.pinchart@skynet.be>
References: <487CABF5.70708@redembedded.com> <487E6520.2060108@redembedded.com>
	<4884BD87.1040106@redembedded.com>
	<200807212122.46824.laurent.pinchart@skynet.be>
Message-ID: <48859A32.6090906@redembedded.com>

Laurent Pinchart wrote:
> Hi Darren,
> 
> On Monday 21 July 2008, Darren Longhorn wrote:

>> Also the arm_v5t_le- toolchain generates the error 'missing binary
>> operator before token "("' for the following line:
>> #if !defined(RHEL_RELEASE_CODE) || RHEL_RELEASE_CODE <
>> RHEL_RELEASE_VERSION(5,2)
> 
> Which version of gcc are you using ?

I am using: arm_v5t_le-gcc (GCC) 3.4.3 (MontaVista 
3.4.3-25.0.30.0501131 2005-07-23)



From laurent.pinchart at skynet.be  Tue Jul 22 23:08:09 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 22 Jul 2008 23:08:09 +0200
Subject: [Linux-uvc-devel] Problems with 046d:08c2
In-Reply-To: <200807210237.46006.ralph@mueller-welt.net>
References: <200807210237.46006.ralph@mueller-welt.net>
Message-ID: <200807222308.10018.laurent.pinchart@skynet.be>

Hi Ralph,

On Monday 21 July 2008, Ralph M?ller-Welt wrote:
> Hi List,
>
> as i dont use my Logitech Quickcam Orbit/Sphere MP regularily, i dont know
> since when ive got the cam not working.
> I plug the device in but no /dev/videoX is created.
> So i got the Sources and tried with this.
>
> Kubuntu 8.0.4.1
> $ uname -a
> Linux A8V 2.6.24-19-generic #1 SMP Fri Jul 11 21:01:46 UTC 2008 x86_64
> GNU/Linux
>
> $ modinfo uvcvideo
> filename:      
> /lib/modules/2.6.24-19-generic/ubuntu/media/usbvideo/uvcvideo.ko version:  
>      SVN r233
> license:        GPL
> description:    USB Video Class driver
> author:         Laurent Pinchart <laurent.pinchart at skynet.be>
> srcversion:     5FE247AD7B1AE79DCD23CC1
> ...
> alias:          usb:v046Dp08C2d*dc*dsc*dp*icFFisc01ip00*
> ...
> depends:        usbcore,videodev,v4l2-common,v4l1-compat,compat_ioctl32
> vermagic:       2.6.24-19-generic SMP mod_unload
> parm:           quirks:Forced device quirks (uint)
> parm:           trace:Trace level bitmask (uint)
>
> $ modprobe uvcvideo
> /var/log/messages
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (SVN r233)
>
> Plugging in the device
> /var/log/messages
> usb 5-4: new high speed USB device using ehci_hcd and address 6
> usb 5-4: configuration #1 chosen from 1 choice
> uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c2)

Seems pretty normal until then.

> Same result with or without udev-rule
> KERNEL=="video?", SUBSYSTEMS=="video4linux", ATTR{name}=="UVC Camera*",
> SYMLINK+="video-cam"
>
> I know it did work somewhen :-)
> So why not anymore?

Check /sys/class/video4linux and see if the kernel created a device for your 
webcam. If it did you probably have a udev issue, if it didn't then there's a 
driver-side problem.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Tue Jul 22 23:11:58 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Tue, 22 Jul 2008 23:11:58 +0200
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <48859A32.6090906@redembedded.com>
References: <487CABF5.70708@redembedded.com>
	<200807212122.46824.laurent.pinchart@skynet.be>
	<48859A32.6090906@redembedded.com>
Message-ID: <200807222311.58936.laurent.pinchart@skynet.be>

Hi Darren,

On Tuesday 22 July 2008, Darren Longhorn wrote:
> Laurent Pinchart wrote:
> > Hi Darren,
> >
> > On Monday 21 July 2008, Darren Longhorn wrote:
> >> Also the arm_v5t_le- toolchain generates the error 'missing binary
> >> operator before token "("' for the following line:
> >> #if !defined(RHEL_RELEASE_CODE) || RHEL_RELEASE_CODE <
> >> RHEL_RELEASE_VERSION(5,2)
> >
> > Which version of gcc are you using ?
>
> I am using: arm_v5t_le-gcc (GCC) 3.4.3 (MontaVista
> 3.4.3-25.0.30.0501131 2005-07-23)

I'm not sure what goes wrong there. I tried gcc 3.4.6 and it didn't generate 
any error. I suppose you're not using a RHEL kernel, so you can safely remove 
the test.

Best regards,

Laurent Pinchart


From ralph at mueller-welt.net  Wed Jul 23 00:45:11 2008
From: ralph at mueller-welt.net (Ralph =?iso-8859-1?q?M=FCller-Welt?=)
Date: Wed, 23 Jul 2008 00:45:11 +0200
Subject: [Linux-uvc-devel] Problems with 046d:08c2
In-Reply-To: <200807222308.10018.laurent.pinchart@skynet.be>
References: <200807210237.46006.ralph@mueller-welt.net>
	<200807222308.10018.laurent.pinchart@skynet.be>
Message-ID: <200807230045.11407.ralph@mueller-welt.net>

Hi Laurent, Hi List,

Am Dienstag, 22. Juli 2008 23:08:09 schrieb Laurent Pinchart:
...
> > as i dont use my Logitech Quickcam Orbit/Sphere MP regularily, i dont
> > know since when ive got the cam not working.
> > I plug the device in but no /dev/videoX is created.
> > So i got the Sources and tried with this.

> > Plugging in the device
> > /var/log/messages
> > usb 5-4: new high speed USB device using ehci_hcd and address 6
> > usb 5-4: configuration #1 chosen from 1 choice
> > uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c2)
>
> Seems pretty normal until then.
>
> > Same result with or without udev-rule
> > KERNEL=="video?", SUBSYSTEMS=="video4linux", ATTR{name}=="UVC Camera*",
> > SYMLINK+="video-cam"
> >
> > I know it did work somewhen :-)
> > So why not anymore?
>
> Check /sys/class/video4linux and see if the kernel created a device for
> your webcam. If it did you probably have a udev issue, if it didn't then
> there's a driver-side problem.
Checking ls /sys/class/video4linux just gives me the video0 from my TVcard,
no additional video devices there.

To get more info i loaded module with
$ sudo modprobe uvcvideo trace=255

/var/log/messages
Jul 23 00:27:17 A8V kernel: [56071.854891] uvcvideo: Found UVC 1.00 device 
<unnamed> (046d:08c2)
Jul 23 00:27:17 A8V kernel: [56071.856518] uvcvideo: Found a valid video chain 
(1 -> 5).
Jul 23 00:27:17 A8V kernel: [56071.858833] usbcore: registered new interface 
driver uvcvideo
Jul 23 00:27:17 A8V kernel: [56071.858955] USB Video Class driver (SVN r233)

[Plugging in]

Jul 23 00:27:26 A8V kernel: [56075.677206] usb 5-4: USB disconnect, address 3
Jul 23 00:27:26 A8V kernel: [56075.781011] usb 5-4: new high speed USB device 
using ehci_hcd and address 4
Jul 23 00:27:27 A8V kernel: [56075.915727] usb 5-4: configuration #1 chosen 
from 1 choice
Jul 23 00:27:27 A8V kernel: [56075.916252] uvcvideo: Found UVC 1.00 device 
<unnamed> (046d:08c2)
Jul 23 00:27:27 A8V kernel: [56075.916301] uvcvideo: Found a valid video chain 
(1 -> 5).

hm, i hoped it spit out more info...
Anything i can do?

Yours,
Ralph.


From laurent.pinchart at skynet.be  Wed Jul 23 00:51:11 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 23 Jul 2008 00:51:11 +0200
Subject: [Linux-uvc-devel] Problems with 046d:08c2
In-Reply-To: <200807230045.11407.ralph@mueller-welt.net>
References: <200807210237.46006.ralph@mueller-welt.net>
	<200807222308.10018.laurent.pinchart@skynet.be>
	<200807230045.11407.ralph@mueller-welt.net>
Message-ID: <200807230051.12093.laurent.pinchart@skynet.be>

Hi Ralph,

On Wednesday 23 July 2008, Ralph M?ller-Welt wrote:
> Hi Laurent, Hi List,
>
> Am Dienstag, 22. Juli 2008 23:08:09 schrieb Laurent Pinchart:
> ...
>
> > > as i dont use my Logitech Quickcam Orbit/Sphere MP regularily, i dont
> > > know since when ive got the cam not working.
> > > I plug the device in but no /dev/videoX is created.
> > > So i got the Sources and tried with this.
> > >
> > > Plugging in the device
> > > /var/log/messages
> > > usb 5-4: new high speed USB device using ehci_hcd and address 6
> > > usb 5-4: configuration #1 chosen from 1 choice
> > > uvcvideo: Found UVC 1.00 device <unnamed> (046d:08c2)
> >
> > Seems pretty normal until then.
> >
> > > Same result with or without udev-rule
> > > KERNEL=="video?", SUBSYSTEMS=="video4linux", ATTR{name}=="UVC Camera*",
> > > SYMLINK+="video-cam"
> > >
> > > I know it did work somewhen :-)
> > > So why not anymore?
> >
> > Check /sys/class/video4linux and see if the kernel created a device for
> > your webcam. If it did you probably have a udev issue, if it didn't then
> > there's a driver-side problem.
>
> Checking ls /sys/class/video4linux just gives me the video0 from my TVcard,
> no additional video devices there.
>
> To get more info i loaded module with
> $ sudo modprobe uvcvideo trace=255
>
> /var/log/messages
> Jul 23 00:27:17 A8V kernel: [56071.854891] uvcvideo: Found UVC 1.00 device
> <unnamed> (046d:08c2)
> Jul 23 00:27:17 A8V kernel: [56071.856518] uvcvideo: Found a valid video
> chain (1 -> 5).
> Jul 23 00:27:17 A8V kernel: [56071.858833] usbcore: registered new
> interface driver uvcvideo
> Jul 23 00:27:17 A8V kernel: [56071.858955] USB Video Class driver (SVN
> r233)
>
> [Plugging in]
>
> Jul 23 00:27:26 A8V kernel: [56075.677206] usb 5-4: USB disconnect, address
> 3 Jul 23 00:27:26 A8V kernel: [56075.781011] usb 5-4: new high speed USB
> device using ehci_hcd and address 4
> Jul 23 00:27:27 A8V kernel: [56075.915727] usb 5-4: configuration #1 chosen
> from 1 choice
> Jul 23 00:27:27 A8V kernel: [56075.916252] uvcvideo: Found UVC 1.00 device
> <unnamed> (046d:08c2)
> Jul 23 00:27:27 A8V kernel: [56075.916301] uvcvideo: Found a valid video
> chain (1 -> 5).
>
> hm, i hoped it spit out more info...
> Anything i can do?

Apply the attached patch and try again. The driver will spit more information.

Best regards,

Laurent Pinchart
-------------- next part --------------
A non-text attachment was scrubbed...
Name: register.diff
Type: text/x-diff
Size: 813 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080723/61cabcd5/attachment.diff>

From blackyzero at yahoo.com  Wed Jul 23 07:24:25 2008
From: blackyzero at yahoo.com (blacky zero)
Date: Tue, 22 Jul 2008 22:24:25 -0700 (PDT)
Subject: [Linux-uvc-devel] Webcam (1871:0603) not works on Ubuntu 7.1,
	but some can works with same ID
Message-ID: <826450.76633.qm@web32605.mail.mud.yahoo.com>

Hi,

I can't get most of webcams colorvis with ID 1871:0603 working. But, 
there are several webcams with the same ID can work normally . I don't

know why  there is different because  all of them have same ID:
root at ubuntu:~$ lsusb
Bus 007 Device 001: ID 0000:0000 
Bus 001 Device 009: ID 1871:0603 
Bus 001 Device 001: ID 0000:0000 
Bus 003 Device 001: ID 0000:0000
Bus 006 Device 001: ID 0000:0000 
Bus 005 Device 001: ID 0000:0000 
Bus 004 Device 001: ID 0000:0000 
Bus 002 Device 002: ID 0483:2016 SGS Thomson Microelectronics Fingerprint Reader
Bus 002 Device 001: ID 0000:0000
root at ubuntu:~$

There are 3 case of my webcams with ID 1871:060, please check 3 attachments of entire "dmesg" messages in this email.
First
case, the system detect webcam and it works properly with wxCam (good
image and video), trimed from atachment "dmesg_detect_and_work.txt":
[?? 19.432000] uvcvideo: Found UVC 1.00 device DEF-300 Camera (1871:0603)
[?? 19.432000] input: DEF-300 Camera as /class/input/input3
[?? 19.432000] usbcore: registered new interface driver uvcvideo
[?? 19.432000] USB Video Class driver (SVN r228)

Second case, the system detect webcam, but it does not work with wxCam, trimed from "dmesg-can_detect_but_not_work.txt":
[? 137.556000] uvcvideo: Found UVC 1.00 device DEF-299A Camera (1871:0603)
[? 138.560000] uvcvideo: Failed to query (1)
 UVC control 2 (unit 0) : -110 (exp. 26).
[? 138.560000] uvcvideo: Failed to initialize the device (-5).
[? 138.560000] usbcore: registered new interface driver uvcvideo
[? 138.560000] USB Video Class driver (SVN r228)

Third case, the system can't detect webcam, but after logged in and check with "lsusb" command, it also shows right webcam ID:
user at ubuntu:~$ lsusb
Bus 006 Device 003: ID 1871:0603? 
Bus 006 Device 001: ID 0000:0000? 
Bus 007 Device 001: ID 0000:0000? 
Bus 003 Device 001: ID 0000:0000? 
Bus 004 Device 001: ID 0000:0000? 
Bus 002 Device 001: ID 0000:0000? 
Bus 005 Device 001: ID 0000:0000? 
Bus 001 Device 003: ID 0483:2016 SGS Thomson Microelectronics Fingerprint Reader
Bus 001 Device 001: ID 0000:0000? 
user at ubuntu:~$

I am using Ubuntu 7.1

Please help me to get it works. I have many webcams with same kind :(
Thank you very much.


      __________________________________________________________________
Yahoo! Canada Toolbar: Search from anywhere on the web, and bookmark your favourite sites. Download it now at
http://ca.toolbar.yahoo.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080722/07a2c97b/attachment.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: dmesg_detect_and_work.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080722/07a2c97b/attachment.txt>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: dmesg-can_detect_but_not_work.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080722/07a2c97b/attachment-0001.txt>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: dmesg-cannot detect_and_not_work.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080722/07a2c97b/attachment-0002.txt>

From darren.longhorn at redembedded.com  Wed Jul 23 14:59:48 2008
From: darren.longhorn at redembedded.com (Darren Longhorn)
Date: Wed, 23 Jul 2008 13:59:48 +0100
Subject: [Linux-uvc-devel] Building on 2.6.10 kernels with svn 226
In-Reply-To: <200807222311.58936.laurent.pinchart@skynet.be>
References: <487CABF5.70708@redembedded.com>
	<200807212122.46824.laurent.pinchart@skynet.be>
	<48859A32.6090906@redembedded.com>
	<200807222311.58936.laurent.pinchart@skynet.be>
Message-ID: <48872B44.5040305@redembedded.com>

Laurent Pinchart wrote:
> Hi Darren,
> 
> On Tuesday 22 July 2008, Darren Longhorn wrote:
>> Laurent Pinchart wrote:
>>> Hi Darren,
>>>
>>> On Monday 21 July 2008, Darren Longhorn wrote:
>>>> Also the arm_v5t_le- toolchain generates the error 'missing binary
>>>> operator before token "("' for the following line:
>>>> #if !defined(RHEL_RELEASE_CODE) || RHEL_RELEASE_CODE <
>>>> RHEL_RELEASE_VERSION(5,2)
>>> Which version of gcc are you using ?
>> I am using: arm_v5t_le-gcc (GCC) 3.4.3 (MontaVista
>> 3.4.3-25.0.30.0501131 2005-07-23)
> 
> I'm not sure what goes wrong there. I tried gcc 3.4.6 and it didn't generate 
> any error. I suppose you're not using a RHEL kernel, so you can safely remove 
> the test.

Hi Laurent,

Strange! As you say, I can easily work around this.

Cheers

Darren


From frank.versteurs at gmail.com  Wed Jul 23 21:19:53 2008
From: frank.versteurs at gmail.com (Frank Versteurs)
Date: Wed, 23 Jul 2008 21:19:53 +0200
Subject: [Linux-uvc-devel] Cisco VT Camera II (Logitech) on Ubuntu
Message-ID: <2a54c78a0807231219n641fa1e2rf8e487ece6dfd52e@mail.gmail.com>

Hello !

Would really love to get my Cisco VT Camera II (SPCA525 asic) by Logitech
working on ubuntu. I used the latest repository - R238 and also tried to
apply various patches I found around. But besides detecting the webcam, I
can't display it in Ekiga, Camorama nor in Skype. I'm hoping somebody has
had the same issue and has been able to resolve this?

Attached you can find the "lsusb" and "modprobe" verbose output. And I'm
using 2.6.24-19-generic #1 SMP Fri Jul 11 23:41:49 UTC 2008 i686 GNU/Linux

Thanks in advance for your help!

Franky
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080723/1d895d5e/attachment.html>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: trace15.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080723/1d895d5e/attachment.txt>
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: lsusb_verbose.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080723/1d895d5e/attachment-0001.txt>

From tempo at martufone.info  Wed Jul 23 21:41:52 2008
From: tempo at martufone.info (martuf1)
Date: Wed, 23 Jul 2008 21:41:52 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <200807210004.42291.laurent.pinchart@skynet.be>
References: <487FAAB4.4060903@martufone.info>
	<200807182207.32920.laurent.pinchart@skynet.be>
	<48820C62.6030900@martufone.info>
	<200807210004.42291.laurent.pinchart@skynet.be>
Message-ID: <48878980.2030700@martufone.info>


>
> From your report I would guess your problems are caused by timing issues. 
> Could you try to repeat the same operations with kernel 2.6.26 ?
>
> Best regards,
>
> Laurent Pinchart
>
>   

Hi Laurent,
I made some testing with 2.6.26 and 2.6.24 (with patches version of uvcvideo
you gave me).
Results are similar: luvcview and guvcview can display the
first image taken from the device but then they don't go "live".
But that's not systematic. Some times just black windows.
Sometimes not even can open the /dev/video0 (removing and
then inserting the module again helps).

Here are some logs:

$> dmesg
[ 2374.696425] uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera 
(174f:8a12)
[ 2375.243519] usbcore: registered new interface driver uvcvideo
[ 2375.243532] USB Video Class driver (SVN r232)
[ 2383.878721] uvcvideo: Failed to query (129) UVC control 1 (unit 0) : 
-110 (exp. 26).
[ 2423.586103] uvcvideo: Failed to query (129) UVC control 1 (unit 0) : 
-110 (exp. 26).
[ 2485.388358] uvcvideo: Failed to query (129) UVC control 1 (unit 0) : 
-110 (exp. 26).


$> ./guvcview -f yuv
guvcview version 0.9.2
video /dev/video0
{ pixelformat = 'YUYV', description = 'YUV 4:2:2 (YUYV)' }
{ discrete: width = 640, height = 480 }
        Time interval between frame: 1/30,
{ discrete: width = 160, height = 120 }
        Time interval between frame: 1/30,
{ discrete: width = 176, height = 144 }
        Time interval between frame: 1/30,
{ discrete: width = 320, height = 240 }
        Time interval between frame: 1/30,
{ discrete: width = 352, height = 288 }
        Time interval between frame: 1/30,
Adding control for 0
uvcioc ctrl add error: errno=1 (retval=-1)
Adding control for 1
uvcioc ctrl add error: errno=1 (retval=-1)
Adding control for 2
uvcioc ctrl add error: errno=1 (retval=-1)
Adding control for 3
uvcioc ctrl add error: errno=1 (retval=-1)
Adding control for 4
uvcioc ctrl add error: errno=1 (retval=-1)
Adding control for 5
uvcioc ctrl add error: errno=1 (retval=-1)
mapping controls for Pan (relative)
uvcioc ctrl map error: errno=1 (retval=-1)
mapping controls for Tilt (relative)
uvcioc ctrl map error: errno=1 (retval=-1)
mapping controls for Pan (reset)
uvcioc ctrl map error: errno=1 (retval=-1)
mapping controls for Tilt (reset)
uvcioc ctrl map error: errno=1 (retval=-1)
mapping controls for Pan/Tilt (reset)
uvcioc ctrl map error: errno=1 (retval=-1)
mapping controls for Focus (absolute)
uvcioc ctrl map error: errno=1 (retval=-1)
mapping controls for LED1 Mode
uvcioc ctrl map error: errno=1 (retval=-1)
mapping controls for LED1 Frequency
uvcioc ctrl map error: errno=1 (retval=-1)
mapping controls for Disable video processing
uvcioc ctrl map error: errno=1 (retval=-1)
mapping controls for Raw bits per pixel
uvcioc ctrl map error: errno=1 (retval=-1)
Unable to set timeperframe: 5.
Killed

$> luvcview -f yuv -s 640x480   (then touching sliders of the gui)
luvcview version 0.2.1
 size width: 640 height: 480
Video driver: x11
A window manager is available
video /dev/video0
ioctl querycontrol error 22
Set Brightness up error
ioctl querycontrol error 22
Set Brightness up error
ioctl querycontrol error 22
Set Contrast down error
ioctl querycontrol error 22
Set Saturation up error
ioctl querycontrol error 22
Set Gain down error
ioctl querycontrol error 22
Set Gain down error
ioctl querycontrol error 22
Set Sharpness up error
ioctl querycontrol error 22
Set Sharpness up error
ioctl querycontrol error 22
reset pantilt error
ioctl querycontrol error 22
reset pantilt error
ioctl querycontrol error 22
Set Tilt down error
ioctl querycontrol error 22
Set Pan down error
ioctl querycontrol error 22
Set Pan down error
ioctl querycontrol error 22
Set Absolute Exposure down error
ioctl querycontrol error 22
Set Absolute Exposure down error
Set Auto Exposure off error
ioctl querycontrol error 22
Set Balance Temperature down error
ioctl querycontrol error 22
Set Balance Temperature down error
Set Auto Balance off error

Stop asked
^Z
[1]+  Stopped                 luvcview -f yuv -s 640x480
$> kill -9 %1

[1]+  Stopped                 luvcview -f yuv -s 640x480
$>
[1]+  Killed                  luvcview -f yuv -s 640x480
$>


Thank you, bye
  martuf1



From else at jidlodomu.cz  Wed Jul 23 22:46:57 2008
From: else at jidlodomu.cz (=?ISO-8859-2?Q?Ond=F8ej_=A9ib=F8ina?=)
Date: Wed, 23 Jul 2008 22:46:57 +0200
Subject: [Linux-uvc-devel] Skype problem
Message-ID: <488798C1.7030407@jidlodomu.cz>

Hi,
   I have bought MSI Starcam II Clip. Camera have same product id like 
MSI Racer. It is working with

# luvcview -f jpg

but with

# luvcview -f yuv

doesn't with error:

luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
Init v4L2 failed !! exit fatal

I think this problem reflect problem in Skype. If i test camera in skype 
options i will error:

Skype V4L2: Could not find a suitable capture format
Skype V4L2: Could not find a suitable capture format
Starting the process...
Skype Xv: Xv ports available: 17
Skype XShm: XShm support enabled
Skype Xv: Using Xv port 73
Skype Xv: No suitable overlay format found

I need this camera for skype. Could you help me?

Thanks for help
Ondra Sibrina

Sorry for English.


From ralph at mueller-welt.net  Wed Jul 23 22:50:16 2008
From: ralph at mueller-welt.net (Ralph =?utf-8?q?M=C3=BCller-Welt?=)
Date: Wed, 23 Jul 2008 22:50:16 +0200
Subject: [Linux-uvc-devel] Problems with 046d:08c2
In-Reply-To: <200807230051.12093.laurent.pinchart@skynet.be>
References: <200807210237.46006.ralph@mueller-welt.net>
	<200807230045.11407.ralph@mueller-welt.net>
	<200807230051.12093.laurent.pinchart@skynet.be>
Message-ID: <200807232250.16752.ralph@mueller-welt.net>

Hi Laurent, Hi List,

> Apply the attached patch and try again. The driver will spit more
> information.
While applying the patch and playing around with a patched and unpatched 
driver i realised, that everything works and it looks like i only needed to 
do a $ sudo depmod -a.

So i now run unpatched USB Video Class driver (SVN r238).

Do u still need/want patched output?

Sorry for disturbing you with such a silly prob.
And thank u for your patience and help.

Yours,
Ralph.

My Fix:
make
make install
cp 
uvcvideo.ko /lib/modules/2.6.24-19-generic/ubuntu/media/usbvideo/uvcvideo.ko
depmod -a


From asergiu at yahoo.co.uk  Thu Jul 24 17:55:11 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu DARABANT)
Date: Thu, 24 Jul 2008 18:55:11 +0300
Subject: [Linux-uvc-devel] Skype problem
In-Reply-To: <488798C1.7030407@jidlodomu.cz>
References: <488798C1.7030407@jidlodomu.cz>
Message-ID: <7DF6FE7BADBA4497B78228BE40427F4E@core2>


Hello,
   For you skype problem is more likely that skype doesn't know how to
handle mjpg.
   It only looks for accelerated video display using YUV formats. There are
others that exhibit the same behavior. In order to solve that I heard there
is a software ( I think a kernel module) that creates for a video device (ex
/dev/video0) another one (ex: /dev/video1) on which the format is translated
as instructed by you in its arguments (when loaded).

So a mjpg -> YUV should solve the skype problem (then of course the video
device in skype is /dev/video1).

Adrian


-----Original Message-----
From: linux-uvc-devel-bounces at lists.berlios.de
[mailto:linux-uvc-devel-bounces at lists.berlios.de] On Behalf Of Ond?ej
?ib?ina
Sent: Wednesday, July 23, 2008 11:47 PM
To: linux-uvc-devel at lists.berlios.de
Subject: [Linux-uvc-devel] Skype problem

Hi,
   I have bought MSI Starcam II Clip. Camera have same product id like 
MSI Racer. It is working with

# luvcview -f jpg

but with

# luvcview -f yuv

doesn't with error:

luvcview version 0.2.1
Video driver: x11
A window manager is available
video /dev/video0
Unable to set format: 22.
Init v4L2 failed !! exit fatal

I think this problem reflect problem in Skype. If i test camera in skype 
options i will error:

Skype V4L2: Could not find a suitable capture format
Skype V4L2: Could not find a suitable capture format
Starting the process...
Skype Xv: Xv ports available: 17
Skype XShm: XShm support enabled
Skype Xv: Using Xv port 73
Skype Xv: No suitable overlay format found

I need this camera for skype. Could you help me?

Thanks for help
Ondra Sibrina

Sorry for English.
_______________________________________________
Linux-uvc-devel mailing list
Linux-uvc-devel at lists.berlios.de
https://lists.berlios.de/mailman/listinfo/linux-uvc-devel




From gunne at ggsdata.se  Thu Jul 24 22:04:15 2008
From: gunne at ggsdata.se (Gunne Steen)
Date: Thu, 24 Jul 2008 22:04:15 +0200
Subject: [Linux-uvc-devel] Camera in Clevo M570TU notebook
Message-ID: <1216929855.17463.19.camel@gunne-desktop>

Hi Linux UVC developers,

Index: uvc_driver.c
===================================================================
--- uvc_driver.c	(revision 238)
+++ uvc_driver.c	(arbetskopia)
@@ -1929,6 +1929,15 @@
 	  .bInterfaceSubClass	= 1,
 	  .bInterfaceProtocol	= 0,
 	  .driver_info		= UVC_QUIRK_PROBE_MINMAX },
+	/* Bison - Unknown vendor */
+	{ .match_flags		= USB_DEVICE_ID_MATCH_DEVICE
+				| USB_DEVICE_ID_MATCH_INT_INFO,
+	  .idVendor		= 0x5986,
+	  .idProduct		= 0x0303,
+	  .bInterfaceClass	= USB_CLASS_VIDEO,
+	  .bInterfaceSubClass	= 1,
+	  .bInterfaceProtocol	= 0,
+	  .driver_info		= UVC_QUIRK_PROBE_MINMAX },
 	/* Generic USB Video Class */
 	{ USB_INTERFACE_INFO(USB_CLASS_VIDEO, 1, 0) },
 	{}




Med v?nlig h?lsning, Best regards
-- 
 GGS-Data
 Box 8014 402 77 G?teborg
 Korsklevegatan 30 418 72 G?teborg
 Sverige,  Sweden
 
www.ggsdata.se

Tel/phone; 031-644350  ;...+46-31-644350
Fax;       070-3857724 ;...+46-70-3857724
Mobile;    070-3104761 ;...+46-70-3104761
-------------- next part --------------
A non-text attachment was scrubbed...
Name: patch
Type: text/x-patch
Size: 674 bytes
Desc: not available
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080724/4d4e0c07/attachment.bin>

From wolfgang at rosenauer.org  Fri Jul 25 14:30:23 2008
From: wolfgang at rosenauer.org (Wolfgang Rosenauer)
Date: Fri, 25 Jul 2008 14:30:23 +0200
Subject: [Linux-uvc-devel] Quickcam pro 9000 doesn't work
Message-ID: <4889C75F.5050106@rosenauer.org>

Hi,

it seems that issues with that webcam are widespread but still I lost 
overview completely by searching for solutions so I'm having to ask here.

I'm using openSUSE 10.3 x86_64 with kernel 2.6.22.18 and latest uvcvideo 
module r238 (tried older ones before but still the same issue).

I get the following when connecting the device:
usb 4-2.1.4: new high speed USB device using ehci_hcd and address 13
usb 4-2.1.4: new device found, idVendor=046d, idProduct=0990
usb 4-2.1.4: new device strings: Mfr=0, Product=0, SerialNumber=2
usb 4-2.1.4: SerialNumber: 5F8F2EE5
usb 4-2.1.4: configuration #1 chosen from 1 choice
Linux video capture interface: v2.00
uvcvideo: Found UVC 1.00 device <unnamed> (046d:0990)
input: UVC Camera (046d:0990) as /class/input/input8
usbcore: registered new interface driver uvcvideo
USB Video Class driver (SVN r238)

Looks good IMHO, but then my problems start:
Using Ekiga sometimes works and sometimes not but even when it seems to 
work I get the following messages:
uvcvideo: Failed to query (135) UVC control 2 (unit 2) : -110 (exp. 2).
uvcvideo: Failed to query (135) UVC control 7 (unit 2) : -110 (exp. 2).
uvcvideo: Failed to query (135) UVC control 3 (unit 2) : -110 (exp. 2).

But even worse is Skype's behaviour (2.0.0.72):
configuring the device and clicking "Test" crashes Skype immediately and 
I get the following:
dmesg:
compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
ioctl32(skype:2236): Unknown cmd fd(18) cmd(c0cc5616){t:'V';sz:204} 
arg(f6145e30) on /dev/video0

Skype:
Skype V4L2: Failed to change capture framerate (15)
Skype V4L2: Failed to mmap camera buffers
Abgebrochen

Trying Ekiga afterwards freezes Ekiga completely but no kernel messages 
and the cam indicates that it is recording but ekiga is just hanging 
with no picture.


Any hints on my issues?


Thanks,
  Wolfgang


From volker.jaenisch at inqbus.de  Sat Jul 26 22:50:32 2008
From: volker.jaenisch at inqbus.de (Dr. Volker Jaenisch)
Date: Sat, 26 Jul 2008 22:50:32 +0200
Subject: [Linux-uvc-devel] Logitech QuickCam Pro for Notebooks 046d:0991 not
	working
Message-ID: <488B8E18.6040407@inqbus.de>

Hi UVC People!

I try to run a new

Logitech QuickCam Pro for Notebooks 046d:0991

on my debian etch using a vanilla kernel 2.6.26.

The device is found by UVC but refuses to work (ekiga, mplayer, xawtv).

dmesg :

Linux video capture interface: v2.00
ACPI: Power Button (CM) [PWRB]
uvcvideo: Found UVC 1.00 device <unnamed> (046d:0991)
input: UVC Camera (046d:0991) as /class/input/input6
usbcore: registered new interface driver uvcvideo
USB Video Class driver (v0.1.0)

I am irritated a bit by the "<unnamed>". Since lsusb says:

# lsusb
Bus 001 Device 002: ID 15ca:00c3 Textech International Ltd. Mini Optical
Mouse
Bus 001 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 002 Device 003: ID 04b8:011b Seiko Epson Corp. Perfection 2400 Photo
Bus 002 Device 002: ID 046d:0991 Logitech, Inc. QuickCam Pro for Notebooks
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub

May be I did a stupid beginners error. Any help welcome.

Volker Jaenisch

Attached:
* mplayer log
* v4l-info
* v4lctl

mplayer:
 mplayer  -tv mjpeg:driver=v4l2:width=640:height=480:outfmt=i420  -vo xv
tv://
MPlayer 1.0rc1-4.1.2-DFSG-free (C) 2000-2006 MPlayer Team
CPU: Dual-Core AMD Opteron(tm) Processor 2212 (Family: 15, Model: 65,
Stepping: 2)
CPUflags:  MMX: 1 MMX2: 1 3DNow: 1 3DNow2: 1 SSE: 1 SSE2: 1
Compiled with runtime CPU detection.
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote
control.

Playing tv://.
TV file format detected.
Selected driver: v4l2
 name: Video 4 Linux 2 input
 author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
 comment: first try, more to come ;-)
v4l2: ioctl get standard failed: Invalid argument
Selected device: UVC Camera (046d:0991)
 Capabilites:  video capture  streaming
 supported norms:
 inputs: 0 = Camera 1;
 Current input: 0
 Current format: unknown (0x47504a4d)
v4l2: ioctl set format failed: Invalid argument
v4l2: ioctl enum norm failed: Invalid argument
Error: Cannot set norm!
  MJP: width 640 height 480
Selected input hasn't got a tuner!
v4l2: ioctl set mute failed: Invalid argument
v4l2: ioctl query control failed: Invalid argument
FPS not specified in the header or invalid, use the -fps option.
No stream found.

===============================================================

or with -fps 30:
..
v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0

===============================================================



V4l-info:

### v4l2 device info [/dev/video0] ###
general info
    VIDIOC_QUERYCAP
        driver                  : "uvcvideo"
        card                    : "UVC Camera (046d:0991)"
        bus_info                : "0000:00:02.1"
        version                 : 0.1.0
        capabilities            : 0x4000001 [VIDEO_CAPTURE,STREAMING]

standards

inputs
    VIDIOC_ENUMINPUT(0)
        index                   : 0
        name                    : "Camera 1"
        type                    : CAMERA
        audioset                : 0
        tuner                   : 0
        std                     : 0x0 []
        status                  : 0x0 []

video capture
    VIDIOC_ENUM_FMT(0,VIDEO_CAPTURE)
        index                   : 0
        type                    : VIDEO_CAPTURE
        flags                   : 1
        description             : "MJPEG"
        pixelformat             : 0x47504a4d [MJPG]
    VIDIOC_ENUM_FMT(1,VIDEO_CAPTURE)
        index                   : 1
        type                    : VIDEO_CAPTURE
        flags                   : 0
        description             : "YUV 4:2:2 (YUYV)"
        pixelformat             : 0x56595559 [YUYV]
    VIDIOC_G_FMT(VIDEO_CAPTURE)
        type                    : VIDEO_CAPTURE
        fmt.pix.width           : 640
        fmt.pix.height          : 480
        fmt.pix.pixelformat     : 0x47504a4d [MJPG]
        fmt.pix.field           : NONE
        fmt.pix.bytesperline    : 0
        fmt.pix.sizeimage       : 204800
        fmt.pix.colorspace      : SRGB
        fmt.pix.priv            : 0

controls
    VIDIOC_QUERYCTRL(BASE+0)
        id                      : 9963776
        type                    : INTEGER
        name                    : "Brightness"
        minimum                 : 0
        maximum                 : 255
        step                    : 1
        default_value           : 128
        flags                   : 0
    VIDIOC_QUERYCTRL(BASE+1)
        id                      : 9963777
        type                    : INTEGER
        name                    : "Contrast"
        minimum                 : 0
        maximum                 : 255
        step                    : 1
        default_value           : 32
        flags                   : 0
    VIDIOC_QUERYCTRL(BASE+2)
        id                      : 9963778
        type                    : INTEGER
        name                    : "Saturation"
        minimum                 : 0
        maximum                 : 255
        step                    : 1
        default_value           : 32
        flags                   : 0

### video4linux device info [/dev/video0] ###
general info
    VIDIOCGCAP
        name                    : "UVC Camera (046d:0991)"
        type                    : 0x1 [CAPTURE]
        channels                : 1
        audios                  : 0
        maxwidth                : 960
        maxheight               : 720
        minwidth                : 48
        minheight               : 32

channels
ioctl VIDIOCGCHAN: Invalid argument

tuner
ioctl VIDIOCGTUNER: Invalid argument

audio
ioctl VIDIOCGAUDIO: Invalid argument

picture
    VIDIOCGPICT
        brightness              : 32896
        hue                     : 0
        colour                  : 8224
        contrast                : 8224
        whiteness               : 0
        depth                   : 0
        palette                 : unknown

buffer
ioctl VIDIOCGFBUF: Invalid argument

window
    VIDIOCGWIN
        x                       : 0
        y                       : 0
        width                   : 640
        height                  : 480
        chromakey               : 0
        flags                   : 0

===============================================================

v2lctl:
v4lctl -v2 -c /dev/video0 test
Xlib: connection to ":0.0" refused by server
Xlib: No protocol specified

vid-open: trying: v4l2-old...
vid-open: failed: v4l2-old
vid-open: trying: v4l2...
ioctl: VIDIOC_QUERYCAP(driver="uvcvideo";card="UVC Camera
(046d:0991)";bus_info="0000:00:02.1";version=0.1.0;capabilities=0x4000001
[VIDEO_CAPTURE,STREAMING]): ok
v4l2: open
v4l2: device info:
  uvcvideo 0.1.0 / UVC Camera (046d:0991) @ 0000:00:02.1
ioctl: VIDIOC_ENUMINPUT(index=0;name="Camera
1";type=CAMERA;audioset=0;tuner=0;std=0x0 [];status=0x0 []): ok
ioctl:
VIDIOC_ENUMINPUT(index=1;name="";type=unknown;audioset=0;tuner=0;std=0x0
[];status=0x0 []): Invalid argument
ioctl: VIDIOC_ENUMSTD(index=0;id=0x0
[];name="";frameperiod.numerator=0;frameperiod.denominator=0;framelines=0):
Invalid argument
ioctl:
VIDIOC_ENUM_FMT(index=0;type=VIDEO_CAPTURE;flags=1;description="MJPEG";pixelformat=0x47504a4d
[MJPG]): ok
ioctl:
VIDIOC_ENUM_FMT(index=1;type=VIDEO_CAPTURE;flags=0;description="YUV
4:2:2 (YUYV)";pixelformat=0x56595559 [YUYV]): ok
ioctl:
VIDIOC_ENUM_FMT(index=2;type=VIDEO_CAPTURE;flags=0;description="";pixelformat=0x00000000
[....]): Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963776;type=INTEGER;name="Brightness";minimum=0;maximum=255;step=1;default_value=128;flags=0):
ok
ioctl:
VIDIOC_QUERYCTRL(id=9963777;type=INTEGER;name="Contrast";minimum=0;maximum=255;step=1;default_value=32;flags=0):
ok
ioctl:
VIDIOC_QUERYCTRL(id=9963778;type=INTEGER;name="Saturation";minimum=0;maximum=255;step=1;default_value=32;flags=0):
ok
ioctl:
VIDIOC_QUERYCTRL(id=9963779;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963780;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963781;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963782;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963783;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963784;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963785;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963786;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963787;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl: VIDIOC_QUERYCTRL(id=9963788;type=BOOLEAN;name="White Balance
Temperature, Auto";minimum=0;maximum=0;step=0;default_value=1;flags=0): ok
ioctl:
VIDIOC_QUERYCTRL(id=9963789;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963790;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963791;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963792;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963793;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963794;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963795;type=INTEGER;name="Gain";minimum=0;maximum=255;step=1;default_value=0;flags=0):
ok
ioctl:
VIDIOC_QUERYCTRL(id=9963796;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963797;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963798;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963799;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl: VIDIOC_QUERYCTRL(id=9963800;type=MENU;name="Power Line
Frequency";minimum=0;maximum=2;step=1;default_value=2;flags=0): ok
ioctl:
VIDIOC_QUERYCTRL(id=9963801;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl: VIDIOC_QUERYCTRL(id=9963802;type=INTEGER;name="White Balance
Temperature";minimum=0;maximum=10000;step=10;default_value=4000;flags=0): ok
ioctl:
VIDIOC_QUERYCTRL(id=9963803;type=INTEGER;name="Sharpness";minimum=0;maximum=255;step=1;default_value=224;flags=0):
ok
ioctl: VIDIOC_QUERYCTRL(id=9963804;type=INTEGER;name="Backlight
Compensation";minimum=0;maximum=2;step=1;default_value=1;flags=0): ok
ioctl:
VIDIOC_QUERYCTRL(id=9963805;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963806;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=9963807;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217728;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217729;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217730;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217731;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217732;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217733;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217734;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217735;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217736;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217737;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217738;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217739;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217740;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217741;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217742;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217743;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217744;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217745;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217746;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217747;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217748;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217749;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217750;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217751;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217752;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217753;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217754;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217755;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217756;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217757;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217758;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl:
VIDIOC_QUERYCTRL(id=134217759;type=unknown;name="";minimum=0;maximum=0;step=0;default_value=0;flags=0):
Invalid argument
ioctl: VIDIOC_QUERYMENU(id=9963800;index=0;name="Disabled";reserved=0): ok
ioctl: VIDIOC_QUERYMENU(id=9963800;index=1;name="50 Hz";reserved=0): ok
ioctl: VIDIOC_QUERYMENU(id=9963800;index=2;name="60 Hz";reserved=0): ok
vid-open: ok: v4l2
freq: reading /usr/share/xawtv/Index.map
ioctl: VIDIOC_G_STD(std=0x5295d0
[PAL_I,PAL_D1,PAL_K,PAL_M,PAL_Nc,NTSC_M,?,SECAM_D,SECAM_K,SECAM_L]):
Invalid argument
ioctl: VIDIOC_G_INPUT(int=0): ok
ioctl: VIDIOC_G_CTRL(id=9963776;value=128): ok
ioctl: VIDIOC_G_CTRL(id=9963777;value=32): ok
ioctl: VIDIOC_G_CTRL(id=9963778;value=32): ok
ioctl: VIDIOC_G_CTRL(id=9963788;value=1): ok
ioctl: VIDIOC_G_CTRL(id=9963795;value=0): ok
ioctl: VIDIOC_G_CTRL(id=9963800;value=2): ok
ioctl: VIDIOC_G_CTRL(id=9963802;value=0): ok
ioctl: VIDIOC_G_CTRL(id=9963803;value=224): ok
ioctl: VIDIOC_G_CTRL(id=9963804;value=1): ok
cmd: "test"
no handler for test
v4l2: close



-- 
====================================================
   inqbus it-consulting      +49 ( 341 )  5643800
   Dr.  Volker Jaenisch      http://www.inqbus.de
   Herlo?sohnstr.    12      0 4 1 5 5    Leipzig
   N  O  T -  F ? L L E      +49 ( 170 )  3113748
====================================================



From asergiu at yahoo.co.uk  Sun Jul 27 13:03:26 2008
From: asergiu at yahoo.co.uk (Adrian Sergiu Darabant)
Date: Sun, 27 Jul 2008 11:03:26 +0000 (GMT)
Subject: [Linux-uvc-devel] Fw:  syntek 174f:8a12 unsupported?
Message-ID: <92382.32420.qm@web27701.mail.ukl.yahoo.com>





----- Forwarded Message ----
From: Adrian Sergiu Darabant <asergiu at yahoo.co.uk>
To: Laurent Pinchart <laurent.pinchart at skynet.be>
Cc: llinux-uvc-devel at lists.berlios.de
Sent: Sunday, 27 July, 2008 1:05:12 PM
Subject: Re: [Linux-uvc-devel] syntek 174f:8a12 unsupported?


Hi Laurent
    I tried the patch but I don't get a /dev/video device created. I don't know why (I don't think is the patch as some previous releases around 200 and something) did created the device from time to time. Here is the module loaded with the trace 15.

Adrian


Jul 27 12:47:20 os11 kernel: usb 1-4: new high speed USB device using ehci_hcd and address 9
Jul 27 12:47:21 os11 kernel: usb 1-4: configuration #1 chosen from 1 choice
Jul 27 12:47:21 os11 kernel: uvcvideo: Probing generic UVC device 4
Jul 27 12:47:21 os11 kernel: uvcvideo: Found format YUV 4:2:2 (YUYV).
Jul 27 12:47:21 os11 kernel: uvcvideo: - 640x480 (30.0 fps)
Jul 27 12:47:21 os11 kernel: uvcvideo: - 160x120 (30.0 fps)
Jul 27 12:47:21 os11 kernel: uvcvideo: - 176x144 (30.0 fps)
Jul 27 12:47:21 os11 kernel: uvcvideo: - 320x240 (30.0 fps)
Jul 27 12:47:21 os11 kernel: uvcvideo: - 352x288 (30.0 fps)
Jul 27 12:47:21 os11 kernel: uvcvideo: - 800x600 (15.0 fps)
Jul 27 12:47:21 os11 kernel: uvcvideo: - 1024x768 (15.0 fps)
Jul 27 12:47:21 os11 kernel: uvcvideo: - 1280x1024 (15.0 fps)
Jul 27 12:47:21 os11 kernel: uvcvideo: - 1600x1200 (10.0 fps)
Jul 27 12:47:21 os11 kernel: uvcvideo: Found UVC 1.00 device USB2.0 UVC PC Camera (174f:8a51)
Jul 27 12:47:21 os11 kernel: uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to device 4 entity 3
Jul 27 12:47:21 os11 kernel: uvcvideo: Added control 00000000-0000-0000-0000-000000000101/3 to device 4 entity 3
Jul 27 12:47:21 os11 kernel: uvcvideo: Added control 00000000-0000-0000-0000-000000000101/7 to device 4 entity 3
Jul 27 12:47:21 os11 kernel: uvcvideo: Added control 00000000-0000-0000-0000-000000000101/8 to device 4 entity 3
Jul 27 12:47:21 os11 kernel: uvcvideo: Scanning UVC chain: OT 4 <- PU 3 <- IT 1
Jul 27 12:47:21 os11 kernel: uvcvideo: Found a valid video chain (1 -> 4).
Jul 27 12:47:22 os11 kernel: uvcvideo: Failed to query (1) UVC control 2 (unit 0) : -110 (exp. 26).
Jul 27 12:47:22 os11 kernel: uvcvideo: Failed to initialize the device (-5).
Jul 27 12:47:22 os11 kernel: usb 1-4: New USB device found, idVendor=174f, idProduct=8a51
Jul 27 12:47:22 os11 kernel: usb 1-4: New USB device strings: Mfr=2, Product=3, SerialNumber=4
Jul 27 12:47:22 os11 kernel: usb 1-4: Product: USB2.0 UVC PC Camera
Jul 27 12:47:22 os11 kernel: usb 1-4: Manufacturer: Syntek
Jul 27 12:47:22 os11 kernel: usb 1-4: SerialNumber: 0001


Adrian

________________________________
 Not happy with your email address? 
Get the one you  really want - millions of new email addresses available now at Yahoo!


      __________________________________________________________
Not happy with your email address?.
Get the one you really want - millions of new email addresses available now at Yahoo! http://uk.docs.yahoo.com/ymail/new.html
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080727/555309a3/attachment.html>

From laurent.pinchart at skynet.be  Sun Jul 27 23:52:14 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 27 Jul 2008 23:52:14 +0200
Subject: [Linux-uvc-devel] Webcam (1871:0603) not works on Ubuntu 7.1,
	but some can works with same ID
In-Reply-To: <826450.76633.qm@web32605.mail.mud.yahoo.com>
References: <826450.76633.qm@web32605.mail.mud.yahoo.com>
Message-ID: <200807272352.14412.laurent.pinchart@skynet.be>

Hi,

On Wednesday 23 July 2008, blacky zero wrote:
> Hi,
>
> I can't get most of webcams colorvis with ID 1871:0603 working. But,
> there are several webcams with the same ID can work normally . I don't
>
> know why  there is different because  all of them have same ID:
> root at ubuntu:~$ lsusb
> Bus 007 Device 001: ID 0000:0000
> Bus 001 Device 009: ID 1871:0603
> Bus 001 Device 001: ID 0000:0000
> Bus 003 Device 001: ID 0000:0000
> Bus 006 Device 001: ID 0000:0000
> Bus 005 Device 001: ID 0000:0000
> Bus 004 Device 001: ID 0000:0000
> Bus 002 Device 002: ID 0483:2016 SGS Thomson Microelectronics Fingerprint
> Reader Bus 002 Device 001: ID 0000:0000
> root at ubuntu:~$
>
> There are 3 case of my webcams with ID 1871:060, please check 3 attachments
> of entire "dmesg" messages in this email. First
> case, the system detect webcam and it works properly with wxCam (good
> image and video), trimed from atachment "dmesg_detect_and_work.txt":
> [?? 19.432000] uvcvideo: Found UVC 1.00 device DEF-300 Camera (1871:0603)
> [?? 19.432000] input: DEF-300 Camera as /class/input/input3
> [?? 19.432000] usbcore: registered new interface driver uvcvideo
> [?? 19.432000] USB Video Class driver (SVN r228)
>
> Second case, the system detect webcam, but it does not work with wxCam,
> trimed from "dmesg-can_detect_but_not_work.txt": [? 137.556000] uvcvideo:
> Found UVC 1.00 device DEF-299A Camera (1871:0603) [? 138.560000] uvcvideo:
> Failed to query (1)
>  UVC control 2 (unit 0) : -110 (exp. 26).
> [? 138.560000] uvcvideo: Failed to initialize the device (-5).
> [? 138.560000] usbcore: registered new interface driver uvcvideo
> [? 138.560000] USB Video Class driver (SVN r228)
>
> Third case, the system can't detect webcam, but after logged in and check
> with "lsusb" command, it also shows right webcam ID: user at ubuntu:~$ lsusb
> Bus 006 Device 003: ID 1871:0603?
> Bus 006 Device 001: ID 0000:0000?
> Bus 007 Device 001: ID 0000:0000?
> Bus 003 Device 001: ID 0000:0000?
> Bus 004 Device 001: ID 0000:0000?
> Bus 002 Device 001: ID 0000:0000?
> Bus 005 Device 001: ID 0000:0000?
> Bus 001 Device 003: ID 0483:2016 SGS Thomson Microelectronics Fingerprint
> Reader Bus 001 Device 001: ID 0000:0000
> user at ubuntu:~$
>
> I am using Ubuntu 7.1
>
> Please help me to get it works. I have many webcams with same kind :(

The kernel logs you attached to your e-mail clearly show that something is 
going wrong with your camera even before the UVC driver kicks in. For 
instance, the third log file shows

[    6.976000] usb 6-3: new high speed USB device using ehci_hcd and address 3
[    7.128000] usb 6-3: config 0 has too many interfaces: 97, using maximum
                        allowed: 32
[    7.128000] usb 6-3: config 0 has an invalid descriptor of length 0,
                        skipping remainder of the config
[    7.128000] usb 6-3: config 0 has 0 interfaces, different from the
                        descriptor's value: 97
[    7.140000] usb 6-3: configuration #0 chosen from 1 choice
[    7.140000] usb 6-3: config 0 descriptor??

The kernel can't even read the USB descriptors.

There are several possible causes for those kind of issues. The camera can 
completely buggy (even if it seems to work under Windows), the EHCI 
controller isn't playing nicely with the camera, or you got bad 
cables/electrical noise issues.

Could you try with kernel 2.6.26 ? There have been quite a few EHCI driver 
improvements compared to 2.6.22. If it still doesn't work, you should report 
the issue to the linux-usb mailing list.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Sun Jul 27 23:58:21 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Sun, 27 Jul 2008 23:58:21 +0200
Subject: [Linux-uvc-devel] Cisco VT Camera II (Logitech) on Ubuntu
In-Reply-To: <2a54c78a0807231219n641fa1e2rf8e487ece6dfd52e@mail.gmail.com>
References: <2a54c78a0807231219n641fa1e2rf8e487ece6dfd52e@mail.gmail.com>
Message-ID: <200807272358.21263.laurent.pinchart@skynet.be>

Hi Frank,

On Wednesday 23 July 2008, Frank Versteurs wrote:
> Hello !
>
> Would really love to get my Cisco VT Camera II (SPCA525 asic) by Logitech
> working on ubuntu. I used the latest repository - R238 and also tried to
> apply various patches I found around. But besides detecting the webcam, I
> can't display it in Ekiga, Camorama nor in Skype. I'm hoping somebody has
> had the same issue and has been able to resolve this?
>
> Attached you can find the "lsusb" and "modprobe" verbose output. And I'm
> using 2.6.24-19-generic #1 SMP Fri Jul 11 23:41:49 UTC 2008 i686 GNU/Linux

Camorama supports V4L1 only so it won't work with the UVC driver. Skype is 
known to be problematic, and Ekiga should work (make sure you use a recent 
version).

Could you please post Ekiga error messages, as well as the content of the 
kernel log after running Ekiga, and a detailed description of the issue ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Jul 28 00:01:09 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 28 Jul 2008 00:01:09 +0200
Subject: [Linux-uvc-devel] Problems with 046d:08c2
In-Reply-To: <200807232250.16752.ralph@mueller-welt.net>
References: <200807210237.46006.ralph@mueller-welt.net>
	<200807230051.12093.laurent.pinchart@skynet.be>
	<200807232250.16752.ralph@mueller-welt.net>
Message-ID: <200807280001.09146.laurent.pinchart@skynet.be>

Hi Ralph,

On Wednesday 23 July 2008, Ralph M?ller-Welt wrote:
> Hi Laurent, Hi List,
>
> > Apply the attached patch and try again. The driver will spit more
> > information.
>
> While applying the patch and playing around with a patched and unpatched
> driver i realised, that everything works and it looks like i only needed to
> do a $ sudo depmod -a.
>
> So i now run unpatched USB Video Class driver (SVN r238).
>
> Do u still need/want patched output?

If everything works without the patch, no.

> Sorry for disturbing you with such a silly prob.
> And thank u for your patience and help.

No worries. I sometimes bother people with silly problems as well :-)

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Jul 28 00:11:52 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 28 Jul 2008 00:11:52 +0200
Subject: [Linux-uvc-devel] Camera in Clevo M570TU notebook
In-Reply-To: <1216929855.17463.19.camel@gunne-desktop>
References: <1216929855.17463.19.camel@gunne-desktop>
Message-ID: <200807280011.52385.laurent.pinchart@skynet.be>

Hi Gunne,

On Thursday 24 July 2008, Gunne Steen wrote:
> Hi Linux UVC developers,
>
> Index: uvc_driver.c
> ===================================================================
> --- uvc_driver.c	(revision 238)
> +++ uvc_driver.c	(arbetskopia)
> @@ -1929,6 +1929,15 @@
>  	  .bInterfaceSubClass	= 1,
>  	  .bInterfaceProtocol	= 0,
>  	  .driver_info		= UVC_QUIRK_PROBE_MINMAX },
> +	/* Bison - Unknown vendor */
> +	{ .match_flags		= USB_DEVICE_ID_MATCH_DEVICE
> +				| USB_DEVICE_ID_MATCH_INT_INFO,
> +	  .idVendor		= 0x5986,
> +	  .idProduct		= 0x0303,
> +	  .bInterfaceClass	= USB_CLASS_VIDEO,
> +	  .bInterfaceSubClass	= 1,
> +	  .bInterfaceProtocol	= 0,
> +	  .driver_info		= UVC_QUIRK_PROBE_MINMAX },
>  	/* Generic USB Video Class */
>  	{ USB_INTERFACE_INFO(USB_CLASS_VIDEO, 1, 0) },
>  	{}

Thanks. I've applied your patch. Could you please post the output of

lsusb -v -d 5986:0303

with usbutils 0.72 or newer (0.73+ preferred) ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Jul 28 00:50:49 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 28 Jul 2008 00:50:49 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <48878980.2030700@martufone.info>
References: <487FAAB4.4060903@martufone.info>
	<200807210004.42291.laurent.pinchart@skynet.be>
	<48878980.2030700@martufone.info>
Message-ID: <200807280050.49986.laurent.pinchart@skynet.be>

Hi,

On Wednesday 23 July 2008, martuf1 wrote:
> > From your report I would guess your problems are caused by timing issues.
> > Could you try to repeat the same operations with kernel 2.6.26 ?
> >
> > Best regards,
> >
> > Laurent Pinchart
>
> Hi Laurent,
> I made some testing with 2.6.26 and 2.6.24 (with patches version of
> uvcvideo you gave me).
> Results are similar: luvcview and guvcview can display the
> first image taken from the device but then they don't go "live".
> But that's not systematic. Some times just black windows.
> Sometimes not even can open the /dev/video0 (removing and
> then inserting the module again helps).

I'm afraid there's not much I can do. The camera refuses to answer perfectly 
valid requests and I got no idea why.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Jul 28 00:57:51 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 28 Jul 2008 00:57:51 +0200
Subject: [Linux-uvc-devel] syntek 174f:8a12 unsupported?
In-Reply-To: <92382.32420.qm@web27701.mail.ukl.yahoo.com>
References: <92382.32420.qm@web27701.mail.ukl.yahoo.com>
Message-ID: <200807280057.51314.laurent.pinchart@skynet.be>

Hi Adrian,

On Sunday 27 July 2008, Adrian Sergiu Darabant wrote:
>     I tried the patch but I don't get a /dev/video device created. I don't
> know why (I don't think is the patch as some previous releases around 200
> and something) did created the device from time to time. Here is the module
> loaded with the trace 15.

I'm afraid there's not much I can do. The camera refuses to answer perfectly 
valid requests and I got no idea why.

I've added the camera to the devices list on the uvcvideo website and flagged 
it as unsupported.

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Mon Jul 28 01:00:00 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 28 Jul 2008 01:00:00 +0200
Subject: [Linux-uvc-devel] Quickcam pro 9000 doesn't work
In-Reply-To: <4889C75F.5050106@rosenauer.org>
References: <4889C75F.5050106@rosenauer.org>
Message-ID: <200807280100.00329.laurent.pinchart@skynet.be>

Hi Wolfgang,

On Friday 25 July 2008, Wolfgang Rosenauer wrote:
> Hi,
>
> it seems that issues with that webcam are widespread but still I lost
> overview completely by searching for solutions so I'm having to ask here.
>
> I'm using openSUSE 10.3 x86_64 with kernel 2.6.22.18 and latest uvcvideo
> module r238 (tried older ones before but still the same issue).
>
> I get the following when connecting the device:
> usb 4-2.1.4: new high speed USB device using ehci_hcd and address 13
> usb 4-2.1.4: new device found, idVendor=046d, idProduct=0990
> usb 4-2.1.4: new device strings: Mfr=0, Product=0, SerialNumber=2
> usb 4-2.1.4: SerialNumber: 5F8F2EE5
> usb 4-2.1.4: configuration #1 chosen from 1 choice
> Linux video capture interface: v2.00
> uvcvideo: Found UVC 1.00 device <unnamed> (046d:0990)
> input: UVC Camera (046d:0990) as /class/input/input8
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (SVN r238)
>
> Looks good IMHO, but then my problems start:
> Using Ekiga sometimes works and sometimes not but even when it seems to
> work I get the following messages:
> uvcvideo: Failed to query (135) UVC control 2 (unit 2) : -110 (exp. 2).
> uvcvideo: Failed to query (135) UVC control 7 (unit 2) : -110 (exp. 2).
> uvcvideo: Failed to query (135) UVC control 3 (unit 2) : -110 (exp. 2).
>
> But even worse is Skype's behaviour (2.0.0.72):
> configuring the device and clicking "Test" crashes Skype immediately and
> I get the following:
> dmesg:
> compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
> ioctl32(skype:2236): Unknown cmd fd(18) cmd(c0cc5616){t:'V';sz:204}
> arg(f6145e30) on /dev/video0
>
> Skype:
> Skype V4L2: Failed to change capture framerate (15)
> Skype V4L2: Failed to mmap camera buffers
> Abgebrochen
>
> Trying Ekiga afterwards freezes Ekiga completely but no kernel messages
> and the cam indicates that it is recording but ekiga is just hanging
> with no picture.
>
> Any hints on my issues?

Please check the Logitech UVC devices list on 
http://www.quickcamteam.net/hcl/linux/logitech-webcams to identify your QC 
Pro 9000 revision. The July 2008 revision has known hardware issues.

Best regards,

Laurent Pinchart


From gunne at ggsdata.se  Mon Jul 28 01:07:00 2008
From: gunne at ggsdata.se (Gunne Steen)
Date: Mon, 28 Jul 2008 01:07:00 +0200
Subject: [Linux-uvc-devel] Camera in Clevo M570TU notebook
In-Reply-To: <200807280011.52385.laurent.pinchart@skynet.be>
References: <1216929855.17463.19.camel@gunne-desktop>
	<200807280011.52385.laurent.pinchart@skynet.be>
Message-ID: <1217200020.19835.112.camel@gunne-desktop>

Hi Laurent,

m?n 2008-07-28 klockan 00:11 +0200 skrev Laurent Pinchart:

[snip]

> Thanks. I've applied your patch. Could you please post the output of
> 
> lsusb -v -d 5986:0303
> 
> with usbutils 0.72 or newer (0.73+ preferred) ?

Here it comes, attached.

Btw, I noticed a small problem also.

After Cheese have been used, it is needed to reload uvcvideo by modprobe
for having luvcview to work correctly (else luvcview will crash with no
output). If it is a problem with the driver or with any of the
applications I dont know. Believe You might know ? :-)


Med v?nlig h?lsning, Best regards
-- 
 GGS-Data
 Box 8014 402 77 G?teborg
 Korsklevegatan 30 418 72 G?teborg
 Sverige,  Sweden
 
 www.ggsdata.se

Tel/phone; 031-644350  ;...+46-31-644350
Fax;       070-3857724 ;...+46-70-3857724
Mobile;    070-3104761 ;...+46-70-3104761
-------------- next part --------------
gunne at ubuntu:~$ dpkg -l usbutils
Desired=Unknown/Install/Remove/Purge/Hold
| Status=Not/Installed/Config-f/Unpacked/Failed-cfg/Half-inst/t-aWait/T-pend
|/ Err?=(none)/Hold/Reinst-required/X=both-problems (Status,Err: uppercase=bad)
||/ Namn                                                  Version                                               Beskrivning
+++-=====================================================-=====================================================-==========================================================================================================================
ii  usbutils                                              0.73-5ubuntu2                                         Linux USB utilities
gunne at ubuntu:~$ sudo lsusb -v -d 5986:0303

Bus 007 Device 002: ID 5986:0303 Bison 
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x5986 Bison
  idProduct          0x0303 
  bcdDevice            0.03
  iManufacturer           0 
  iProduct                1 BisonCam, NB Pro
  iSerial                 0 
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          704
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              500mA
    Interface Association:
      bLength                 8
      bDescriptorType        11
      bFirstInterface         0
      bInterfaceCount         2
      bFunctionClass         14 Video
      bFunctionSubClass       3 Video Interface Collection
      bFunctionProtocol       0 
      iFunction               1 BisonCam, NB Pro
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0 
      iInterface              1 BisonCam, NB Pro
      VideoControl Interface Descriptor:
        bLength                13
        bDescriptorType        36
        bDescriptorSubtype      1 (HEADER)
        bcdUVC               1.00
        wTotalLength           84
        dwClockFrequency       30.000000MHz
        bInCollection           1
        baInterfaceNr( 0)       1
      VideoControl Interface Descriptor:
        bLength                17
        bDescriptorType        36
        bDescriptorSubtype      2 (INPUT_TERMINAL)
        bTerminalID             1
        wTerminalType      0x0201 Camera Sensor
        bAssocTerminal          0
        iTerminal               0 
        wObjectiveFocalLengthMin      0
        wObjectiveFocalLengthMax      0
        wOcularFocalLength            0
        bControlSize                  2
        bmControls           0x00000000
      VideoControl Interface Descriptor:
        bLength                 9
        bDescriptorType        36
        bDescriptorSubtype      3 (OUTPUT_TERMINAL)
        bTerminalID             3
        wTerminalType      0x0101 USB Streaming
        bAssocTerminal          0
        bSourceID               6
        iTerminal               0 
      VideoControl Interface Descriptor:
        bLength                 7
        bDescriptorType        36
        bDescriptorSubtype      4 (SELECTOR_UNIT)
        bUnitID                 4
        bNrInPins               1
        baSource( 0)            1
        iSelector               0 
      VideoControl Interface Descriptor:
        bLength                11
        bDescriptorType        36
        bDescriptorSubtype      5 (PROCESSING_UNIT)
      Warning: Descriptor too short
        bUnitID                 5
        bSourceID               4
        wMaxMultiplier          0
        bControlSize            2
        bmControls     0x0000053f
          Brightness
          Contrast
          Hue
          Saturation
          Sharpness
          Gamma
          Backlight Compensation
          Power Line Frequency
        iProcessing             0 
        bmVideoStandards     0x1b
          None
          NTSC - 525/60
          SECAM - 625/50
          NTSC - 625/50
      VideoControl Interface Descriptor:
        bLength                27
        bDescriptorType        36
        bDescriptorSubtype      6 (EXTENSION_UNIT)
        bUnitID                 6
        guidExtensionCode         {564c97a7-7ea7-904b-8cbf-1c71ec303000}
        bNumControl            16
        bNrPins                 1
        baSourceID( 0)          5
        bControlSize            2
        bmControls( 0)       0xff
        bmControls( 1)       0xff
        iExtension              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            3
          Transfer Type            Interrupt
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0008  1x 8 bytes
        bInterval              15
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      VideoStreaming Interface Descriptor:
        bLength                            15
        bDescriptorType                    36
        bDescriptorSubtype                  1 (INPUT_HEADER)
        bNumFormats                        2
        wTotalLength                      557
        bEndPointAddress                  129
        bmInfo                              0
        bTerminalLink                       3
        bStillCaptureMethod                 2
        bTriggerSupport                     1
        bTriggerUsage                       1
        bControlSize                        1
        bmaControls( 0)                    11
        bmaControls( 1)                    11
      VideoStreaming Interface Descriptor:
        bLength                            11
        bDescriptorType                    36
        bDescriptorSubtype                  6 (FORMAT_MJPEG)
        bFormatIndex                        1
        bNumFrameDescriptors                6
        bFlags                              1
          Fixed-size samples: Yes
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      921600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      230400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       57600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      304128
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       76032
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            34
        bDescriptorType                    36
        bDescriptorSubtype                  7 (FRAME_MJPEG)
        bFrameIndex                         6
        bmCapabilities                   0x01
          Still image supported
        wWidth                           1280
        wHeight                          1024
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize     3932160
        dwDefaultFrameInterval         666666
        bFrameIntervalType                  2
        dwFrameInterval( 0)            666666
        dwFrameInterval( 1)           1428571
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               6
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        320
        wHeight( 1)                       240
        wWidth( 2)                        160
        wHeight( 2)                       120
        wWidth( 3)                        352
        wHeight( 3)                       288
        wWidth( 4)                        176
        wHeight( 4)                       144
        wWidth( 5)                       1280
        wHeight( 5)                      1024
        bNumCompressionPatterns             6
      VideoStreaming Interface Descriptor:
        bLength                            27
        bDescriptorType                    36
        bDescriptorSubtype                  4 (FORMAT_UNCOMPRESSED)
        bFormatIndex                        2
        bNumFrameDescriptors                6
        guidFormat                            {59555932-0000-1000-8000-00aa00389b71}
        bBitsPerPixel                      16
        bDefaultFrameIndex                  1
        bAspectRatioX                       0
        bAspectRatioY                       0
        bmInterlaceFlags                 0x00
          Interlaced stream or variable: No
          Fields per frame: 1 fields
          Field 1 first: No
          Field pattern: Field 1 only
          bCopyProtect                      0
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         1
        bmCapabilities                   0x01
          Still image supported
        wWidth                            640
        wHeight                           480
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      614400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         2
        bmCapabilities                   0x01
          Still image supported
        wWidth                            320
        wHeight                           240
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      230400
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         3
        bmCapabilities                   0x01
          Still image supported
        wWidth                            160
        wHeight                           120
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       57600
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         4
        bmCapabilities                   0x01
          Still image supported
        wWidth                            352
        wHeight                           288
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize      304128
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            38
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         5
        bmCapabilities                   0x01
          Still image supported
        wWidth                            176
        wHeight                           144
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize       76032
        dwDefaultFrameInterval         333333
        bFrameIntervalType                  3
        dwFrameInterval( 0)            333333
        dwFrameInterval( 1)            666666
        dwFrameInterval( 2)           1000000
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  5 (FRAME_UNCOMPRESSED)
        bFrameIndex                         6
        bmCapabilities                   0x01
          Still image supported
        wWidth                           1280
        wHeight                          1024
        dwMinBitRate                   912384
        dwMaxBitRate                   912384
        dwMaxVideoFrameBufferSize     3932160
        dwDefaultFrameInterval        1428571
        bFrameIntervalType                  1
        dwFrameInterval( 0)           1428571
      VideoStreaming Interface Descriptor:
        bLength                            30
        bDescriptorType                    36
        bDescriptorSubtype                  3 (STILL_IMAGE_FRAME)
        bEndpointAddress                    0
        bNumImageSizePatterns               6
        wWidth( 0)                        640
        wHeight( 0)                       480
        wWidth( 1)                        320
        wHeight( 1)                       240
        wWidth( 2)                        160
        wHeight( 2)                       120
        wWidth( 3)                        352
        wHeight( 3)                       288
        wWidth( 4)                        176
        wHeight( 4)                       144
        wWidth( 5)                       1280
        wHeight( 5)                      1024
        bNumCompressionPatterns             6
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       1
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            5
          Transfer Type            Isochronous
          Synch Type               Asynchronous
          Usage Type               Data
        wMaxPacketSize     0x1400  3x 1024 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0 
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0000
  (Bus Powered)
gunne at ubuntu:~$ 



From laurent.pinchart at skynet.be  Mon Jul 28 01:12:08 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 28 Jul 2008 01:12:08 +0200
Subject: [Linux-uvc-devel] Logitech QuickCam Pro for Notebooks 046d:0991
	not working
In-Reply-To: <488B8E18.6040407@inqbus.de>
References: <488B8E18.6040407@inqbus.de>
Message-ID: <200807280112.08179.laurent.pinchart@skynet.be>

Hi Volker,

On Saturday 26 July 2008, Dr. Volker Jaenisch wrote:
> Hi UVC People!
>
> I try to run a new
>
> Logitech QuickCam Pro for Notebooks 046d:0991
>
> on my debian etch using a vanilla kernel 2.6.26.
>
> The device is found by UVC but refuses to work (ekiga, mplayer, xawtv).
>
> dmesg :
>
> Linux video capture interface: v2.00
> ACPI: Power Button (CM) [PWRB]
> uvcvideo: Found UVC 1.00 device <unnamed> (046d:0991)
> input: UVC Camera (046d:0991) as /class/input/input6
> usbcore: registered new interface driver uvcvideo
> USB Video Class driver (v0.1.0)

You should probably upgrade to a newer driver.

> I am irritated a bit by the "<unnamed>". Since lsusb says:
>
> # lsusb
> Bus 001 Device 002: ID 15ca:00c3 Textech International Ltd. Mini Optical
> Mouse
> Bus 001 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
> Bus 002 Device 003: ID 04b8:011b Seiko Epson Corp. Perfection 2400 Photo
> Bus 002 Device 002: ID 046d:0991 Logitech, Inc. QuickCam Pro for Notebooks
> Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub

The driver relies on the name provided by the camera. The QC Pro for Notebooks 
doesn't provide a device name in the USB descriptoes. lsusb queries a 
userspace database (/usr/share/misc/usb.ids in Gentoo) that is not accessible 
from the driver.

> May be I did a stupid beginners error. Any help welcome.
>
> Volker Jaenisch
>
> Attached:
> * mplayer log
> * v4l-info
> * v4lctl
>
> mplayer:
>  mplayer  -tv mjpeg:driver=v4l2:width=640:height=480:outfmt=i420  -vo xv
> tv://
> MPlayer 1.0rc1-4.1.2-DFSG-free (C) 2000-2006 MPlayer Team
> CPU: Dual-Core AMD Opteron(tm) Processor 2212 (Family: 15, Model: 65,
> Stepping: 2)
> CPUflags:  MMX: 1 MMX2: 1 3DNow: 1 3DNow2: 1 SSE: 1 SSE2: 1
> Compiled with runtime CPU detection.
> mplayer: could not connect to socket
> mplayer: No such file or directory
> Failed to open LIRC support. You will not be able to use your remote
> control.
>
> Playing tv://.
> TV file format detected.
> Selected driver: v4l2
>  name: Video 4 Linux 2 input
>  author: Martin Olschewski <olschewski at zpr.uni-koeln.de>
>  comment: first try, more to come ;-)
> v4l2: ioctl get standard failed: Invalid argument
> Selected device: UVC Camera (046d:0991)
>  Capabilites:  video capture  streaming
>  supported norms:
>  inputs: 0 = Camera 1;
>  Current input: 0
>  Current format: unknown (0x47504a4d)
> v4l2: ioctl set format failed: Invalid argument
> v4l2: ioctl enum norm failed: Invalid argument
> Error: Cannot set norm!
>   MJP: width 640 height 480
> Selected input hasn't got a tuner!
> v4l2: ioctl set mute failed: Invalid argument
> v4l2: ioctl query control failed: Invalid argument
> FPS not specified in the header or invalid, use the -fps option.
> No stream found.
>
> ===============================================================
>
> or with -fps 30:
> ..
> v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
> v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
> v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
> v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
> v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
> v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
> v4l2: ioctl dequeue buffer failed: Invalid argument, idx = 0
>
> ===============================================================

mplayer has a known bug, fixed in its SVN repository. Please try with a recent 
mplayer snapshot.

xawtv 3.95 has a known bug as well which will be fixed in the xawtv 4 release. 
Ekiga should work though. Does it report any error ? Does the driver print 
any message in the kernel log when you run Ekiga ?

Best regards,

Laurent Pinchart


From david at abbottdavid.com  Mon Jul 28 03:55:53 2008
From: david at abbottdavid.com (David)
Date: Sun, 27 Jul 2008 21:55:53 -0400
Subject: [Linux-uvc-devel] This one works 0ac8:3343 Z-Star Microelectronics
	Corp
Message-ID: <488D2729.50102@abbottdavid.com>

Another Sirius USB2.0 Camera working good. This is from a Fujitsu A 6110.
thanks,
-david

-- 
powered by Gentoo/GNU Linux
http://linuxcrazy.com

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: lsusb.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080727/d00ee619/attachment.txt>

From wolfgang at rosenauer.org  Mon Jul 28 08:54:16 2008
From: wolfgang at rosenauer.org (Wolfgang Rosenauer)
Date: Mon, 28 Jul 2008 08:54:16 +0200
Subject: [Linux-uvc-devel] Quickcam pro 9000 doesn't work
In-Reply-To: <200807280100.00329.laurent.pinchart@skynet.be>
References: <4889C75F.5050106@rosenauer.org>
	<200807280100.00329.laurent.pinchart@skynet.be>
Message-ID: <488D6D18.7080300@rosenauer.org>

Hi,

Laurent Pinchart schrieb:

>> Looks good IMHO, but then my problems start:
>> Using Ekiga sometimes works and sometimes not but even when it seems to
>> work I get the following messages:
>> uvcvideo: Failed to query (135) UVC control 2 (unit 2) : -110 (exp. 2).
>> uvcvideo: Failed to query (135) UVC control 7 (unit 2) : -110 (exp. 2).
>> uvcvideo: Failed to query (135) UVC control 3 (unit 2) : -110 (exp. 2).
>>
>> But even worse is Skype's behaviour (2.0.0.72):
>> configuring the device and clicking "Test" crashes Skype immediately and
>> I get the following:
>> dmesg:
>> compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
>> ioctl32(skype:2236): Unknown cmd fd(18) cmd(c0cc5616){t:'V';sz:204}
>> arg(f6145e30) on /dev/video0
>>
>> Skype:
>> Skype V4L2: Failed to change capture framerate (15)
>> Skype V4L2: Failed to mmap camera buffers
>> Abgebrochen
>>
>> Trying Ekiga afterwards freezes Ekiga completely but no kernel messages
>> and the cam indicates that it is recording but ekiga is just hanging
>> with no picture.
>>
>> Any hints on my issues?
> 
> Please check the Logitech UVC devices list on 
> http://www.quickcamteam.net/hcl/linux/logitech-webcams to identify your QC 
> Pro 9000 revision. The July 2008 revision has known hardware issues.


Looks like my device is the 2007 one with P/N 861464.
Meanwhile I tested it on a new openSUSE 11.0 system which has a newer 
kernel and Skype worked their w/o error messages.
Ekiga still prints out the failed messages above but also worked as far 
as I can see.
And also tried a 32bit system where everything seems to work so my guess 
is that there is either something missing or broken in openSUSE's 10.3 
64bit kernel to run Skype with this cam.
Thanks and I'll upgrade to the newer distribution version soon.

Wolfgang


From volker.jaenisch at inqbus.de  Mon Jul 28 10:18:08 2008
From: volker.jaenisch at inqbus.de (Dr. Volker Jaenisch)
Date: Mon, 28 Jul 2008 10:18:08 +0200
Subject: [Linux-uvc-devel] Logitech QuickCam Pro for Notebooks 046d:0991
 not working
In-Reply-To: <200807280112.08179.laurent.pinchart@skynet.be>
References: <488B8E18.6040407@inqbus.de>
	<200807280112.08179.laurent.pinchart@skynet.be>
Message-ID: <488D80C0.6040908@inqbus.de>

Thanks Laurent!

Laurent Pinchart wrote:
>> Linux video capture interface: v2.00
>> ACPI: Power Button (CM) [PWRB]
>> uvcvideo: Found UVC 1.00 device <unnamed> (046d:0991)
>> input: UVC Camera (046d:0991) as /class/input/input6
>> usbcore: registered new interface driver uvcvideo
>> USB Video Class driver (v0.1.0)
>>     
>
> You should probably upgrade to a newer driver.
>   
The driver works. Michael Spiceland reading this list gave me the hint
to try it with guvcview.

The problem was that ekiga, mplayer, and xawtv all have bug, as I
learned from your mail.
Ekiga has no Bug but It needs a special plugin for the V4L2 architecture.

Everything runs fine now.

Many thanks for the fast responses
Beste regards,
Volker


-- 
====================================================
   inqbus it-consulting      +49 ( 341 )  5643800
   Dr.  Volker Jaenisch      http://www.inqbus.de
   Herlo?sohnstr.    12      0 4 1 5 5    Leipzig
   N  O  T -  F ? L L E      +49 ( 170 )  3113748
====================================================



From laurent.pinchart at skynet.be  Mon Jul 28 11:14:45 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Mon, 28 Jul 2008 11:14:45 +0200
Subject: [Linux-uvc-devel] This one works 0ac8:3343 Z-Star
	Microelectronics Corp
In-Reply-To: <488D2729.50102@abbottdavid.com>
References: <488D2729.50102@abbottdavid.com>
Message-ID: <200807281114.45491.laurent.pinchart@skynet.be>

Hi David,

On Monday 28 July 2008, David wrote:
> Another Sirius USB2.0 Camera working good. This is from a Fujitsu A 6110.

Thanks for the report. I've updated the supported devices list.

Best regards,

Laurent Pinchart


From sboyce at blueyonder.co.uk  Mon Jul 28 12:16:26 2008
From: sboyce at blueyonder.co.uk (Sid Boyce)
Date: Mon, 28 Jul 2008 11:16:26 +0100
Subject: [Linux-uvc-devel] Quickcam pro 9000 doesn't work
In-Reply-To: <mailman.9664.1217236487.5435.linux-uvc-devel@lists.berlios.de>
References: <mailman.9664.1217236487.5435.linux-uvc-devel@lists.berlios.de>
Message-ID: <488D9C7A.2060907@blueyonder.co.uk>

 >> >> Looks good IMHO, but then my problems start:
 >> >> Using Ekiga sometimes works and sometimes not but even when it 
seems to
 >> >> work I get the following messages:
 >> >> uvcvideo: Failed to query (135) UVC control 2 (unit 2) : -110 
(exp. 2).
 >> >> uvcvideo: Failed to query (135) UVC control 7 (unit 2) : -110 
(exp. 2).
 >> >> uvcvideo: Failed to query (135) UVC control 3 (unit 2) : -110 
(exp. 2).
 >> >>
 >> >> But even worse is Skype's behaviour (2.0.0.72):
 >> >> configuring the device and clicking "Test" crashes Skype 
immediately and
 >> >> I get the following:
 >> >> dmesg:
 >> >> compat_ioctl32: v4l2 ioctl VIDIOC_S_PARM, dir=rw (0xc0cc5616)
 >> >> ioctl32(skype:2236): Unknown cmd fd(18) cmd(c0cc5616){t:'V';sz:204}
 >> >> arg(f6145e30) on /dev/video0
 >> >>
 >> >> Skype:
 >> >> Skype V4L2: Failed to change capture framerate (15)
 >> >> Skype V4L2: Failed to mmap camera buffers
 >> >> Abgebrochen
 >> >>
 >> >> Trying Ekiga afterwards freezes Ekiga completely but no kernel 
messages
 >> >> and the cam indicates that it is recording but ekiga is just hanging
 >> >> with no picture.
 >> >>
 >> >> Any hints on my issues?
 > >
 > > Please check the Logitech UVC devices list on
 > > http://www.quickcamteam.net/hcl/linux/logitech-webcams to identify 
your QC
 > > Pro 9000 revision. The July 2008 revision has known hardware issues.


 > Looks like my device is the 2007 one with P/N 861464.
 > Meanwhile I tested it on a new openSUSE 11.0 system which has a newer
 > kernel and Skype worked their w/o error messages.
 > Ekiga still prints out the failed messages above but also worked as far
 > as I can see.
 > And also tried a 32bit system where everything seems to work so my guess
 > is that there is either something missing or broken in openSUSE's 10.3
 > 64bit kernel to run Skype with this cam.
 > Thanks and I'll upgrade to the newer distribution version soon.

 > Wolfgang

I have been running skype using the Pro 9000 since they supported video 
on Linux. Skype versions have changed in that time which may account for 
the 10.3 problem. I am now running openSUSE 11.1 Alpha1 with vanilla 
kernel 2.6.26 and skype-2.0.0.72 on x86_64.
Regards
Sid.
-- 
Sid Boyce ... Hamradio License G3VBV, Licensed Private Pilot
Emeritus IBM/Amdahl Mainframes and Sun/Fujitsu Servers Tech Support 
Specialist, Cricket Coach
Microsoft Windows Free Zone - Linux used for all Computing Tasks



From marcel at datkan.net  Tue Jul 29 23:19:56 2008
From: marcel at datkan.net (Marcel van Beurden)
Date: Tue, 29 Jul 2008 23:19:56 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam S5500 problems
Message-ID: <488F897C.5030305@datkan.net>

Hi,

After lots of problems with my Quickcam Fusion, I decided to dump it (gave 
it away to someone with Windows actually) and buy a new one: the Quickcam 
S5500.

The good news is, all the USB-timing problems seem to be gone and the UVC 
driver (SVN r239) does not report any problems. Also, no more application 
crashes. The bad news is that it does act a bit weird: sometimes the cam 
gives a all black or all gray image. Changing brightness or contrast does 
not solve it. When I a gray image, it will stay gray, whatever I try. When 
I have a black image and put the brightness at 100%, aim the cam at a 
light, I can see the light, but like through welding glasses...

I tried it with aMSN and luvcview. With luvcview (0.2.1) the image will be 
black and the controls are not visible, but I can change them (no effect). 
Als luvcview will not close until I unplug the cam.

The problem does not happen always (let's say 50% of the cases) and I did 
not find a good way to reproduce or solve it. I have no idea whether this 
is a firmware problem (again) or a problem with the driver.

Anything I can do to debug this problem?

I attached the usual info.

Regards,
Marcel

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: lsusb.txt
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080729/37cea83e/attachment.txt>

From paul at christianpatriot.us  Wed Jul 30 15:12:55 2008
From: paul at christianpatriot.us (Paul Hickey)
Date: Wed, 30 Jul 2008 09:12:55 -0400
Subject: [Linux-uvc-devel] Fuji FInepix F700
Message-ID: <1217423575.3222.30.camel@panda1.christianpatriot.us>

HI,
Is there any chance the drivers for the Fuji FinePix F700 will be
included soon? I see you included support for the Fujifilm FinePix E550
and I tried that hoping........

I tried many different ways in the hopes that Ekiga using V4L2 would
recognize the camera, but no joy. Neither
uvc-kmdl-2.6.25.11-97.fc9-svn_r228-3.fc9.i686.rpm  from
http://atrpms.net/dist/f9/uvc/ nor the src  did the trick.

When the program (Ekiga) was Gnomemeeting, it recognized the camera no
problem. 

The camera is recognized as a mass storage device no problem, 

GThumb Image Viewer and others use the storage capability, but the
web-cam eludes me.

Thanks
Paul Hickey
Christian Patriot
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20080730/17b71f5b/attachment.html>

From lists at brachttal.net  Wed Jul 30 20:42:11 2008
From: lists at brachttal.net (Andreas Volz)
Date: Wed, 30 Jul 2008 20:42:11 +0200
Subject: [Linux-uvc-devel] Philips SPC 710NC
Message-ID: <20080730204211.400ead0d@frodo.mittelerde>

Hello,

because my DV video camera didn't work with skype and nobody could help
me I bought a new webcam (Philips SPC 710NC).

I know it's not on the compatibility list, but a similar Philips camera
was and so I was brave.

Switching it to a recent Ubuntu laptop "worked" in Skype out of the
box. But the quality was really bad and other tools like luvcview or
guvcview doesn't work with the camera.

Ekiga worked with the camera and the I think the quality was much better 
as in Skype. Not sure why.

Please try to help me. If it's not possible to get it working in good 
quality I'll simply return it to my dealer.

dmesg:

Jul 30 20:33:39 optolix kernel: [14821.712275] usb 2-2: new full speed USB device using uhci_hcd and address 9
Jul 30 20:33:39 optolix kernel: [14821.757576] usb 2-2: configuration #1 chosen from 1 choice
Jul 30 20:33:39 optolix kernel: [14821.767530] /build/buildd/linux-ubuntu-modules-2.6.24-2.6.24/debian/build/build-generic/media/gspcav1/gspca_core.c: USB GSPCA camera found. SONIX JPEG (sn9c1xx) 
Jul 30 20:33:40 optolix pulseaudio[6285]: alsa-util.c: Device hw:1 doesn't support 44100 Hz, changed to 16000 Hz.
Jul 30 20:33:40 optolix pulseaudio[6285]: alsa-util.c: Device hw:1 doesn't support 2 channels, changed to 1.
Jul 30 20:22:31 optolix kernel: [ 5816.676221] /build/buildd/linux-ubuntu-modules-2.6.24-2.6.24/debian/build/build-generic/media/gspcav1/gspca_core.c: USB GSPCA camera found. SONIX JPEG (sn9c1xx)

v4l-info:

### video4linux device info [/dev/video0] ###
general info
    VIDIOCGCAP
	name                    : "Philips SPC 710NC"
	type                    : 0x1 [CAPTURE]
	channels                : 1
	audios                  : 0
	maxwidth                : 640
	maxheight               : 480
	minwidth                : 160
	minheight               : 120

channels
    VIDIOCGCHAN(0)
	channel                 : 0
	name                    : "SN9CXXX"
	tuners                  : 0
	flags                   : 0x0 []
	type                    : CAMERA
	norm                    : 0

tuner
ioctl VIDIOCGTUNER: Invalid argument

audio
ioctl VIDIOCGAUDIO: Invalid argument

picture
    VIDIOCGPICT
	brightness              : 9040
	hue                     : 0
	colour                  : 32768
	contrast                : 16128
	whiteness               : 0
	depth                   : 24
	palette                 : RGB24

buffer
    VIDIOCGFBUF
	base                    : (nil)
	height                  : 0
	width                   : 0
	depth                   : 0
	bytesperline            : 0

window
    VIDIOCGWIN
	x                       : 0
	y                       : 0
	width                   : 640
	height                  : 480
	chromakey               : 0
	flags                   : 0


> luvcview 
luvcview version 0.2.1 
Video driver: x11
A window manager is available
video /dev/video0 
Error opening device /dev/video0: unable to query device.
 Init v4L2 failed !! exit fatal 

regards
Andreas


From lists at brachttal.net  Wed Jul 30 21:10:50 2008
From: lists at brachttal.net (Andreas Volz)
Date: Wed, 30 Jul 2008 21:10:50 +0200
Subject: [Linux-uvc-devel] Philips SPC 710NC
In-Reply-To: <20080730204211.400ead0d@frodo.mittelerde>
References: <20080730204211.400ead0d@frodo.mittelerde>
Message-ID: <20080730211050.72d04dc8@frodo.mittelerde>

Am Wed, 30 Jul 2008 20:42:11 +0200 schrieb Andreas Volz:

> Hello,
> 
> because my DV video camera didn't work with skype and nobody could
> help me I bought a new webcam (Philips SPC 710NC).
> 
> I know it's not on the compatibility list, but a similar Philips
> camera was and so I was brave.
> 
> Switching it to a recent Ubuntu laptop "worked" in Skype out of the
> box. But the quality was really bad and other tools like luvcview or
> guvcview doesn't work with the camera.
> 
> Ekiga worked with the camera and the I think the quality was much
> better as in Skype. Not sure why.
> 
> Please try to help me. If it's not possible to get it working in good 
> quality I'll simply return it to my dealer.
> 
> dmesg:
> 
> Jul 30 20:33:39 optolix kernel: [14821.712275] usb 2-2: new full
> speed USB device using uhci_hcd and address 9 Jul 30 20:33:39 optolix
> kernel: [14821.757576] usb 2-2: configuration #1 chosen from 1 choice
> Jul 30 20:33:39 optolix kernel:
> [14821.767530] /build/buildd/linux-ubuntu-modules-2.6.24-2.6.24/debian/build/build-generic/media/gspcav1/gspca_core.c:
> USB GSPCA camera found. SONIX JPEG (sn9c1xx) Jul 30 20:33:40 optolix
> pulseaudio[6285]: alsa-util.c: Device hw:1 doesn't support 44100 Hz,
> changed to 16000 Hz. Jul 30 20:33:40 optolix pulseaudio[6285]:
> alsa-util.c: Device hw:1 doesn't support 2 channels, changed to 1.
> Jul 30 20:22:31 optolix kernel:
> [ 5816.676221] /build/buildd/linux-ubuntu-modules-2.6.24-2.6.24/debian/build/build-generic/media/gspcav1/gspca_core.c:
> USB GSPCA camera found. SONIX JPEG (sn9c1xx)
> 
> v4l-info:
> 
> ### video4linux device info [/dev/video0] ###
> general info
>     VIDIOCGCAP
> 	name                    : "Philips SPC 710NC"
> 	type                    : 0x1 [CAPTURE]
> 	channels                : 1
> 	audios                  : 0
> 	maxwidth                : 640
> 	maxheight               : 480
> 	minwidth                : 160
> 	minheight               : 120
> 
> channels
>     VIDIOCGCHAN(0)
> 	channel                 : 0
> 	name                    : "SN9CXXX"
> 	tuners                  : 0
> 	flags                   : 0x0 []
> 	type                    : CAMERA
> 	norm                    : 0
> 
> tuner
> ioctl VIDIOCGTUNER: Invalid argument
> 
> audio
> ioctl VIDIOCGAUDIO: Invalid argument
> 
> picture
>     VIDIOCGPICT
> 	brightness              : 9040
> 	hue                     : 0
> 	colour                  : 32768
> 	contrast                : 16128
> 	whiteness               : 0
> 	depth                   : 24
> 	palette                 : RGB24
> 
> buffer
>     VIDIOCGFBUF
> 	base                    : (nil)
> 	height                  : 0
> 	width                   : 0
> 	depth                   : 0
> 	bytesperline            : 0
> 
> window
>     VIDIOCGWIN
> 	x                       : 0
> 	y                       : 0
> 	width                   : 640
> 	height                  : 480
> 	chromakey               : 0
> 	flags                   : 0
> 
> 
> > luvcview 
> luvcview version 0.2.1 
> Video driver: x11
> A window manager is available
> video /dev/video0 
> Error opening device /dev/video0: unable to query device.
>  Init v4L2 failed !! exit fatal 

I missed the lsusb line:

Bus 002 Device 013: ID 0471:0330 Philips 

regards
Andreas


From laurent.pinchart at skynet.be  Wed Jul 30 22:26:34 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 30 Jul 2008 22:26:34 +0200
Subject: [Linux-uvc-devel] Fuji FInepix F700
In-Reply-To: <1217423575.3222.30.camel@panda1.christianpatriot.us>
References: <1217423575.3222.30.camel@panda1.christianpatriot.us>
Message-ID: <200807302226.34443.laurent.pinchart@skynet.be>

Hi Paul,

On Wednesday 30 July 2008, Paul Hickey wrote:
> HI,
> Is there any chance the drivers for the Fuji FinePix F700 will be
> included soon? I see you included support for the Fujifilm FinePix E550
> and I tried that hoping........
>
> I tried many different ways in the hopes that Ekiga using V4L2 would
> recognize the camera, but no joy. Neither
> uvc-kmdl-2.6.25.11-97.fc9-svn_r228-3.fc9.i686.rpm  from
> http://atrpms.net/dist/f9/uvc/ nor the src  did the trick.
>
> When the program (Ekiga) was Gnomemeeting, it recognized the camera no
> problem.
>
> The camera is recognized as a mass storage device no problem,
>
> GThumb Image Viewer and others use the storage capability, but the
> web-cam eludes me.

From what I've been able to find out about the F700 on Google, the camera 
should have two USB modes, probably selectable when you connect the camera to 
the computer. Make sure you select the webcam mode and not the disk mode.

Then, if it still doesn't work, please send me a copy of the webcam USB 
descriptors. You can retrieve them using the lsusb command (don't forget to 
add the -v option).

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Jul 30 22:29:36 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 30 Jul 2008 22:29:36 +0200
Subject: [Linux-uvc-devel] Philips SPC 710NC
In-Reply-To: <20080730211050.72d04dc8@frodo.mittelerde>
References: <20080730204211.400ead0d@frodo.mittelerde>
	<20080730211050.72d04dc8@frodo.mittelerde>
Message-ID: <200807302229.36962.laurent.pinchart@skynet.be>

Hi Andreas,

On Wednesday 30 July 2008, Andreas Volz wrote:
> Am Wed, 30 Jul 2008 20:42:11 +0200 schrieb Andreas Volz:
> > Hello,
> >
> > because my DV video camera didn't work with skype and nobody could
> > help me I bought a new webcam (Philips SPC 710NC).
> >
> > I know it's not on the compatibility list, but a similar Philips
> > camera was and so I was brave.
> >
> > Switching it to a recent Ubuntu laptop "worked" in Skype out of the
> > box. But the quality was really bad and other tools like luvcview or
> > guvcview doesn't work with the camera.
> >
> > Ekiga worked with the camera and the I think the quality was much
> > better as in Skype. Not sure why.
> >
> > Please try to help me. If it's not possible to get it working in good
> > quality I'll simply return it to my dealer.
> >
> > dmesg:
> >
> > Jul 30 20:33:39 optolix kernel: [14821.712275] usb 2-2: new full
> > speed USB device using uhci_hcd and address 9 Jul 30 20:33:39 optolix
> > kernel: [14821.757576] usb 2-2: configuration #1 chosen from 1 choice
> > Jul 30 20:33:39 optolix kernel:
> > [14821.767530]
> > /build/buildd/linux-ubuntu-modules-2.6.24-2.6.24/debian/build/build-gener
> >ic/media/gspcav1/gspca_core.c: USB GSPCA camera found. SONIX JPEG
> > (sn9c1xx) Jul 30 20:33:40 optolix pulseaudio[6285]: alsa-util.c: Device
> > hw:1 doesn't support 44100 Hz, changed to 16000 Hz. Jul 30 20:33:40
> > optolix pulseaudio[6285]:
> > alsa-util.c: Device hw:1 doesn't support 2 channels, changed to 1.
> > Jul 30 20:22:31 optolix kernel:
> > [ 5816.676221]
> > /build/buildd/linux-ubuntu-modules-2.6.24-2.6.24/debian/build/build-gener
> >ic/media/gspcav1/gspca_core.c: USB GSPCA camera found. SONIX JPEG
> > (sn9c1xx)
> >
> > v4l-info:
> >
> > ### video4linux device info [/dev/video0] ###
> > general info
> >     VIDIOCGCAP
> > 	name                    : "Philips SPC 710NC"
> > 	type                    : 0x1 [CAPTURE]
> > 	channels                : 1
> > 	audios                  : 0
> > 	maxwidth                : 640
> > 	maxheight               : 480
> > 	minwidth                : 160
> > 	minheight               : 120
> >
> > channels
> >     VIDIOCGCHAN(0)
> > 	channel                 : 0
> > 	name                    : "SN9CXXX"
> > 	tuners                  : 0
> > 	flags                   : 0x0 []
> > 	type                    : CAMERA
> > 	norm                    : 0
> >
> > tuner
> > ioctl VIDIOCGTUNER: Invalid argument
> >
> > audio
> > ioctl VIDIOCGAUDIO: Invalid argument
> >
> > picture
> >     VIDIOCGPICT
> > 	brightness              : 9040
> > 	hue                     : 0
> > 	colour                  : 32768
> > 	contrast                : 16128
> > 	whiteness               : 0
> > 	depth                   : 24
> > 	palette                 : RGB24
> >
> > buffer
> >     VIDIOCGFBUF
> > 	base                    : (nil)
> > 	height                  : 0
> > 	width                   : 0
> > 	depth                   : 0
> > 	bytesperline            : 0
> >
> > window
> >     VIDIOCGWIN
> > 	x                       : 0
> > 	y                       : 0
> > 	width                   : 640
> > 	height                  : 480
> > 	chromakey               : 0
> > 	flags                   : 0
> >
> > > luvcview
> >
> > luvcview version 0.2.1
> > Video driver: x11
> > A window manager is available
> > video /dev/video0
> > Error opening device /dev/video0: unable to query device.
> >  Init v4L2 failed !! exit fatal
>
> I missed the lsusb line:
>
> Bus 002 Device 013: ID 0471:0330 Philips

Can you please post the output of

lsusb -v -d 0471:0330

using usbutils 0.72 or newer (0.73+ preferred) ?

Best regards,

Laurent Pinchart


From laurent.pinchart at skynet.be  Wed Jul 30 22:35:26 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Wed, 30 Jul 2008 22:35:26 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam S5500 problems
In-Reply-To: <488F897C.5030305@datkan.net>
References: <488F897C.5030305@datkan.net>
Message-ID: <200807302235.26875.laurent.pinchart@skynet.be>

Hi Marcel,

first of all, as stated on the quickcamteam.net website, please don't use 
their contact e-mail address for support questions. If you want to post a 
support request, use their forum.

On Tuesday 29 July 2008, Marcel van Beurden wrote:
> Hi,
>
> After lots of problems with my Quickcam Fusion, I decided to dump it (gave
> it away to someone with Windows actually) and buy a new one: the Quickcam
> S5500.
>
> The good news is, all the USB-timing problems seem to be gone and the UVC
> driver (SVN r239) does not report any problems. Also, no more application
> crashes. The bad news is that it does act a bit weird: sometimes the cam
> gives a all black or all gray image. Changing brightness or contrast does
> not solve it. When I a gray image, it will stay gray, whatever I try. When
> I have a black image and put the brightness at 100%, aim the cam at a
> light, I can see the light, but like through welding glasses...
>
> I tried it with aMSN and luvcview. With luvcview (0.2.1) the image will be
> black and the controls are not visible, but I can change them (no effect).
> Als luvcview will not close until I unplug the cam.
>
> The problem does not happen always (let's say 50% of the cases) and I did
> not find a good way to reproduce or solve it. I have no idea whether this
> is a firmware problem (again) or a problem with the driver.
>
> Anything I can do to debug this problem?

Some applications paint the video display window to black before starting 
video streaming, so a black window could mean that no image is received by 
the application. This isn't the case here as aiming the camera at light shows 
motion.

I've never encountered a similar issue with Logitech webcams and I can't 
really think of anything on the driver's side that could cause such problems. 
The driver would at least spit an error message to the kernel log if it can't 
read or write a control.

You should post a message to the quickcamteam.net forums. They should have 
more information about Logitech webcam issues than I got.

Best regards,

Laurent Pinchart


From lists at brachttal.net  Wed Jul 30 23:26:58 2008
From: lists at brachttal.net (Andreas Volz)
Date: Wed, 30 Jul 2008 23:26:58 +0200
Subject: [Linux-uvc-devel] Philips SPC 710NC
In-Reply-To: <200807302229.36962.laurent.pinchart@skynet.be>
References: <20080730204211.400ead0d@frodo.mittelerde>
	<20080730211050.72d04dc8@frodo.mittelerde>
	<200807302229.36962.laurent.pinchart@skynet.be>
Message-ID: <20080730232658.3cbf051a@frodo.mittelerde>

Am Wed, 30 Jul 2008 22:29:36 +0200 schrieb Laurent Pinchart:

> > I missed the lsusb line:
> >
> > Bus 002 Device 013: ID 0471:0330 Philips
> 
> Can you please post the output of
> 
> lsusb -v -d 0471:0330

http://pastebin.com/m1e546cea
 
> using usbutils 0.72 or newer (0.73+ preferred) ?

Package: usbutils
Version: 0.73-5ubuntu2

regards
Andreas


From laurent.pinchart at skynet.be  Thu Jul 31 00:07:32 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 31 Jul 2008 00:07:32 +0200
Subject: [Linux-uvc-devel] Philips SPC 710NC
In-Reply-To: <20080730232658.3cbf051a@frodo.mittelerde>
References: <20080730204211.400ead0d@frodo.mittelerde>
	<200807302229.36962.laurent.pinchart@skynet.be>
	<20080730232658.3cbf051a@frodo.mittelerde>
Message-ID: <200807310007.32997.laurent.pinchart@skynet.be>

Hi Andreas,

On Wednesday 30 July 2008, Andreas Volz wrote:
> Am Wed, 30 Jul 2008 22:29:36 +0200 schrieb Laurent Pinchart:
> > > I missed the lsusb line:
> > >
> > > Bus 002 Device 013: ID 0471:0330 Philips
> >
> > Can you please post the output of
> >
> > lsusb -v -d 0471:0330
>
> http://pastebin.com/m1e546cea

Your camera is not UVC compatible (I should have seen that in your last mail, 
sorry). It seems to be supported by the gspca driver. You should contact its 
author.

Best regards,

Laurent Pinchart


From lists at brachttal.net  Thu Jul 31 00:30:42 2008
From: lists at brachttal.net (Andreas Volz)
Date: Thu, 31 Jul 2008 00:30:42 +0200
Subject: [Linux-uvc-devel] Philips SPC 710NC
In-Reply-To: <200807310007.32997.laurent.pinchart@skynet.be>
References: <20080730204211.400ead0d@frodo.mittelerde>
	<200807302229.36962.laurent.pinchart@skynet.be>
	<20080730232658.3cbf051a@frodo.mittelerde>
	<200807310007.32997.laurent.pinchart@skynet.be>
Message-ID: <20080731003042.023e143e@frodo.mittelerde>

Am Thu, 31 Jul 2008 00:07:32 +0200 schrieb Laurent Pinchart:

> Hi Andreas,
> 
> On Wednesday 30 July 2008, Andreas Volz wrote:
> > Am Wed, 30 Jul 2008 22:29:36 +0200 schrieb Laurent Pinchart:
> > > > I missed the lsusb line:
> > > >
> > > > Bus 002 Device 013: ID 0471:0330 Philips
> > >
> > > Can you please post the output of
> > >
> > > lsusb -v -d 0471:0330
> >
> > http://pastebin.com/m1e546cea
> 
> Your camera is not UVC compatible (I should have seen that in your
> last mail, sorry). It seems to be supported by the gspca driver. You
> should contact its author.

Thanks. Maybe you could add the camera in your list as not supported
and maybe a hint to gspca. I didn't know about it before.

regards
Andreas


From nixpanic at users.sourceforge.net  Thu Jul 31 23:22:40 2008
From: nixpanic at users.sourceforge.net (Niels de Vos)
Date: Thu, 31 Jul 2008 23:22:40 +0200
Subject: [Linux-uvc-devel] Fujifilm FinePix S5500 supported
Message-ID: <1b51b6f80807311422n13f40f5dh9275104ff5d2e785@mail.gmail.com>

Hello UVC-People ;)

just a short report to tell you that the Fujifilm FinePix S5500 works
out-of-the-box with r235 (only version tested).

Thanks for all your work,
Niels


PS: Here is the output of lsusb (running CentOS-5, no newer version of
lsusb available):

# lsusb --version
lsusb (usbutils) 0.71
# lsusb -v -d 04cb:016f

Bus 004 Device 003: ID 04cb:016f Fuji Photo Film Co., Ltd FinePix
S5500 Zoom (UVC)
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass          239 Miscellaneous Device
  bDeviceSubClass         2 ?
  bDeviceProtocol         1 Interface Association
  bMaxPacketSize0        64
  idVendor           0x04cb Fuji Photo Film Co., Ltd
  idProduct          0x016f FinePix S5500 Zoom (UVC)
  bcdDevice            1.00
  iManufacturer           0
  iProduct                2 USB Web Camera
  iSerial                 3 Y-752^^^^^080605CfPX0000000080
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength          156
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0xc0
      Self Powered
    MaxPower               50mA
    UNRECOGNIZED:  08 0b 00 02 0e 03 00 00
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           0
      bInterfaceClass        14 Video
      bInterfaceSubClass      1 Video Control
      bInterfaceProtocol      0
      iInterface              0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           1
      bInterfaceClass        14 Video
      bInterfaceSubClass      2 Video Streaming
      bInterfaceProtocol      0
      iInterface              0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0


From marcel at datkan.net  Thu Jul 31 23:44:34 2008
From: marcel at datkan.net (Marcel van Beurden)
Date: Thu, 31 Jul 2008 23:44:34 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam S5500 problems
In-Reply-To: <200807302235.26875.laurent.pinchart@skynet.be>
References: <488F897C.5030305@datkan.net>
	<200807302235.26875.laurent.pinchart@skynet.be>
Message-ID: <48923242.1090200@datkan.net>

Hi Laurent,

Laurent Pinchart wrote:
>> I tried it with aMSN and luvcview. With luvcview (0.2.1) the image will be
>> black and the controls are not visible, but I can change them (no effect).
>> Als luvcview will not close until I unplug the cam.
> 
> Some applications paint the video display window to black before starting 
> video streaming, so a black window could mean that no image is received by 
> the application. This isn't the case here as aiming the camera at light shows 
> motion.
> 
> I've never encountered a similar issue with Logitech webcams and I can't 
> really think of anything on the driver's side that could cause such problems. 
> The driver would at least spit an error message to the kernel log if it can't 
> read or write a control.

Since you also wrote luvcview, do you know what is going on there? When I 
start it I gert a black screen, and I see no controls, but I can use them. 
When I close luvcview, the console shows "Stop asked". Then it hangs. 
Ctrl-C does not work. Only killing the process or unlugging the cam works. 
When I unplug it, it says:

Unable to dequeue buffer (5).
Error grabbing
  Clean Up done Quit

Does that give any hits?

> You should post a message to the quickcamteam.net forums. They should have 
> more information about Logitech webcam issues than I got.

I did now and I'm awaiting any answers.

Regards,
Marcel


From laurent.pinchart at skynet.be  Thu Jul 31 23:52:40 2008
From: laurent.pinchart at skynet.be (Laurent Pinchart)
Date: Thu, 31 Jul 2008 23:52:40 +0200
Subject: [Linux-uvc-devel] Logitech Quickcam S5500 problems
In-Reply-To: <48923242.1090200@datkan.net>
References: <488F897C.5030305@datkan.net>
	<200807302235.26875.laurent.pinchart@skynet.be>
	<48923242.1090200@datkan.net>
Message-ID: <200807312352.40185.laurent.pinchart@skynet.be>

Hi Marcel,

On Thursday 31 July 2008, Marcel van Beurden wrote:
> Laurent Pinchart wrote:
> >> I tried it with aMSN and luvcview. With luvcview (0.2.1) the image will
> >> be black and the controls are not visible, but I can change them (no
> >> effect). Als luvcview will not close until I unplug the cam.
> >
> > Some applications paint the video display window to black before starting
> > video streaming, so a black window could mean that no image is received
> > by the application. This isn't the case here as aiming the camera at
> > light shows motion.
> >
> > I've never encountered a similar issue with Logitech webcams and I can't
> > really think of anything on the driver's side that could cause such
> > problems. The driver would at least spit an error message to the kernel
> > log if it can't read or write a control.
>
> Since you also wrote luvcview,

Nooooooooo :-) I haven't written a single line of luvcview's code (at least 
that I'm aware of). I don't know why Michel Xhaard added my name to the 
copyright statement.

> do you know what is going on there? When I 
> start it I gert a black screen, and I see no controls, but I can use them.
> When I close luvcview, the console shows "Stop asked". Then it hangs.
> Ctrl-C does not work. Only killing the process or unlugging the cam works.
> When I unplug it, it says:
>
> Unable to dequeue buffer (5).
> Error grabbing
>   Clean Up done Quit
>
> Does that give any hits?

I have no knowledge of luvcview's code, sorry.

> > You should post a message to the quickcamteam.net forums. They should
> > have more information about Logitech webcam issues than I got.
>
> I did now and I'm awaiting any answers.

Best regards,

Laurent Pinchart


