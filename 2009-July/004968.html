<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Fwd: MediaTek MT6227 on Philips 9 at 9U is now	working with uvc
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Fwd%3A%20MediaTek%20MT6227%20on%20Philips%209%409U%20is%20now%0A%09working%20with%20uvc&In-Reply-To=%3C114d3bca0907130602x59a6b69fo2ec70165b6fbf661%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004972.html">
   <LINK REL="Next"  HREF="004971.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Fwd: MediaTek MT6227 on Philips 9 at 9U is now	working with uvc</H1>
    <B>Felix Sulima</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Fwd%3A%20MediaTek%20MT6227%20on%20Philips%209%409U%20is%20now%0A%09working%20with%20uvc&In-Reply-To=%3C114d3bca0907130602x59a6b69fo2ec70165b6fbf661%40mail.gmail.com%3E"
       TITLE="[Linux-uvc-devel] Fwd: MediaTek MT6227 on Philips 9 at 9U is now	working with uvc">fsulima at gmail.com
       </A><BR>
    <I>Mon Jul 13 15:02:15 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004972.html">[Linux-uvc-devel] Camera Selection\Settings Options
</A></li>
        <LI>Next message: <A HREF="004971.html">[Linux-uvc-devel] creative webcam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4968">[ date ]</a>
              <a href="thread.html#4968">[ thread ]</a>
              <a href="subject.html#4968">[ subject ]</a>
              <a href="author.html#4968">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>---------- Forwarded message ----------
From: Felix Sulima &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">fsulima at gmail.com</A>&gt;
Date: 2009/7/13
Subject: Re: [Linux-uvc-devel] MediaTek MT6227 on Philips <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">9 at 9U</A> is now
working with uvc
To: Laurent Pinchart &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">laurent.pinchart at skynet.be</A>&gt;


Hi, Laurent.

This is to inform you that your patch is working.
Thank you very much!

Some more details just in case they may be important.
I'm using Jaunty with ppa kernel built on 10-Jun-2009:
<A HREF="http://kernel.ubuntu.com/~kernel-ppa/mainline/v2.6.30/&lt;http://kernel.ubuntu.com/%7Ekernel-ppa/mainline/v2.6.30/">http://kernel.ubuntu.com/~kernel-ppa/mainline/v2.6.30/&lt;http://kernel.ubuntu.com/%7Ekernel-ppa/mainline/v2.6.30/</A>&gt;
$ uname -a
Linux eel 2.6.30-020630-generic #020630 SMP Wed Jun 10 09:04:38 UTC 2009
x86_64 GNU/Linux

Here is the id of sources I used:
<A HREF="http://linuxtv.org/hg/~pinchartl/uvcvideo/&lt;http://linuxtv.org/hg/%7Epinchartl/uvcvideo/">http://linuxtv.org/hg/~pinchartl/uvcvideo/&lt;http://linuxtv.org/hg/%7Epinchartl/uvcvideo/</A>&gt;
$ hg identify
1af5233017e6 tip

dmesg shows on unpatched build:
[19849.225014] usb 7-2: new full speed USB device using uhci_hcd and address
4
[19849.688583] usb 7-2: configuration #1 chosen from 7 choices
[19849.701499] uvcvideo: Found UVC 1.00 device <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">9 at 9U</A>    (0e8d:0004)
[19850.702430] uvcvideo: UVC non compliance - GET_DEF(PROBE) not supported.
Enabling workaround.
[19850.704435] uvcvideo: Failed to query (129) UVC probe control : -71 (exp.
26).
[19850.704440] uvcvideo: Failed to initialize the device (-5).

and here is dmesg output on patched build:
[20621.336014] usb 7-2: new full speed USB device using uhci_hcd and address
5
[20621.802072] usb 7-2: configuration #1 chosen from 7 choices
[20621.813997] uvcvideo: Found UVC 1.00 device <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">9 at 9U</A>    (0e8d:0004)
[20621.816089] input: <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">9 at 9U</A>    as
/devices/pci0000:00/0000:00:1d.1/usb7/7-2/7-2:1.0/input/input7

Please let me know if there is anything I can help with.

Best regards,
Felix.

2009/7/11 Laurent Pinchart &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">laurent.pinchart at skynet.be</A>&gt;

Hi,
&gt;<i>
</I>&gt;<i> On Tuesday 07 July 2009 15:24:19 fsulima wrote:
</I>&gt;<i> &gt; Hi all.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; MediaTek MT6227 on Philips <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">9 at 9U</A> do not work. It looks like this:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; $ dmesg | tail
</I>&gt;<i> &gt; [94425.741948] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
</I>&gt;<i> &gt; -110 (exp. 26).
</I>&gt;<i> &gt; [94425.743941] uvcvideo: Failed to query (129) UVC control 1 (unit 0) :
</I>&gt;<i> &gt; -71 (exp. 26).
</I>&gt;<i> &gt; [94425.743946] uvcvideo: Failed to initialize the device (-5).
</I>&gt;<i> &gt; [94429.128037] usb 7-2: USB disconnect, address 8
</I>&gt;<i> &gt; [94436.384010] usb 7-2: new full speed USB device using uhci_hcd and
</I>&gt;<i> &gt; address 9
</I>&gt;<i> &gt; [94436.849070] usb 7-2: configuration #1 chosen from 7 choices
</I>&gt;<i> &gt; [94436.859998] uvcvideo: Found UVC 1.00 device <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">9 at 9U</A>    (0e8d:0004)
</I>&gt;<i> &gt; [94437.861939] uvcvideo: Failed to query (135) UVC control 1 (unit 0) :
</I>&gt;<i> &gt; -110 (exp. 26).
</I>&gt;<i> &gt; [94437.863947] uvcvideo: Failed to query (129) UVC control 1 (unit 0) :
</I>&gt;<i> &gt; -71 (exp. 26).
</I>&gt;<i> &gt; [94437.863952] uvcvideo: Failed to initialize the device (-5).
</I>&gt;<i>
</I>&gt;<i> That's weird. The camera seem to crash when queried with GET_DEF. Could you
</I>&gt;<i> please try the attached patch ? It might require some tweaking if you don't
</I>&gt;<i> apply it on top of the latest driver version.
</I>&gt;<i>
</I>&gt;<i> &gt; $ lsusb -d 0e8d:0004 -v
</I>&gt;<i>
</I>&gt;<i> [snip]
</I>&gt;<i>
</I>&gt;<i> The device descriptors look *really* weird. The device exposes 7
</I>&gt;<i> configurations, and the only difference between them is the power
</I>&gt;<i> consumption.
</I>&gt;<i> Are you sure you haven't received a development prototype ? :-)
</I>&gt;<i>
</I>&gt;<i> &gt; It looks I'm not the only one having this problem:
</I>&gt;<i> &gt; <A HREF="http://ubuntuforums.org/showthread.php?t=1164520">http://ubuntuforums.org/showthread.php?t=1164520</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is there any remedy for this?
</I>&gt;<i>
</I>&gt;<i> Try the attached patch and let me know if it helps.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>
</I>&gt;<i> Laurent Pinchart
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090713/283c080b/attachment.html">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20090713/283c080b/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004972.html">[Linux-uvc-devel] Camera Selection\Settings Options
</A></li>
	<LI>Next message: <A HREF="004971.html">[Linux-uvc-devel] creative webcam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4968">[ date ]</a>
              <a href="thread.html#4968">[ thread ]</a>
              <a href="subject.html#4968">[ subject ]</a>
              <a href="author.html#4968">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
