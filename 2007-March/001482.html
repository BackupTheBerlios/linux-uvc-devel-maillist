<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] The source clock
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2007-March/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20The%20source%20clock&In-Reply-To=%3C200703071540.58357.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001475.html">
   <LINK REL="Next"  HREF="001477.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] The source clock</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20The%20source%20clock&In-Reply-To=%3C200703071540.58357.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] The source clock">laurent.pinchart at skynet.be
       </A><BR>
    <I>Wed Mar  7 15:40:58 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001475.html">[Linux-uvc-devel] The source clock
</A></li>
        <LI>Next message: <A HREF="001477.html">[Linux-uvc-devel] UVC Non-module patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1482">[ date ]</a>
              <a href="thread.html#1482">[ thread ]</a>
              <a href="subject.html#1482">[ subject ]</a>
              <a href="author.html#1482">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Paul,

&gt;<i>   This is a great news - it means that stereo system should be easy to do.
</I>&gt;<i> Most likely cause for synchronized (I assume you mean the same values)
</I>&gt;<i> device SOF counters in two Logitech cameras is them being synchronized with
</I>&gt;<i> host SOF counter.
</I>
That's what I assumed, yes. I doubt the devices add an offset to the host SOF 
counter.

&gt;<i> Can you compare values in device SOF counter with host SOF counter?
</I>
I'll try that.

&gt;<i> Could provide experimental version of the driver placing SRC into timestamp
</I>&gt;<i> structure, so I can read it? I can buy another Logitech camera and do some
</I>&gt;<i> testing on two of them with controlled light source to find out if there is
</I>&gt;<i> any &quot;cheating&quot; about synchronized exposure.
</I>
The SCR value increases with each incoming isochronous packet, so it's not 
constant across a video frame.

&gt;<i>   I'm going to order V-Gear TalkCam MX6 and let you know about USB
</I>&gt;<i> descriptors.
</I>&gt;<i>
</I>&gt;<i>   If StartOfFrame interrupt event can't be used, what about reading
</I>&gt;<i> HcFmNumber register repeatedly, storing system time of several hundred
</I>&gt;<i> value change events and doing some statistical processing on that data to
</I>&gt;<i> find out offset between USB frame counter and system time. Again, this is
</I>&gt;<i> relevant only if device and host SOF counters are using the same values.
</I>
The falls out of the scope of the Linux UVC driver, as it involves 
modifications in the Linux USB stack. Could you read the USB 2.0 
specification, section 5.12, and tell me if you can think of a way to handle 
PTS jitter/drift (for non-synchronised webcams) and/or to synchronise PTS to 
the host clock (for synchronised webcams) ?

Thanks.

Cheers,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001475.html">[Linux-uvc-devel] The source clock
</A></li>
	<LI>Next message: <A HREF="001477.html">[Linux-uvc-devel] UVC Non-module patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1482">[ date ]</a>
              <a href="thread.html#1482">[ thread ]</a>
              <a href="subject.html#1482">[ subject ]</a>
              <a href="author.html#1482">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
