<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Some success with a Fujifilm FinePix A330
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2007-May/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Some%20success%20with%20a%20Fujifilm%20FinePix%20A330&In-Reply-To=%3C1178575123.16552.16.camel%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001737.html">
   <LINK REL="Next"  HREF="001725.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Some success with a Fujifilm FinePix A330</H1>
    <B>Viktor</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Some%20success%20with%20a%20Fujifilm%20FinePix%20A330&In-Reply-To=%3C1178575123.16552.16.camel%40localhost.localdomain%3E"
       TITLE="[Linux-uvc-devel] Some success with a Fujifilm FinePix A330">Cato_Minor at arcor.de
       </A><BR>
    <I>Mon May  7 23:58:43 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001737.html">[Linux-uvc-devel] soft lockup
</A></li>
        <LI>Next message: <A HREF="001725.html">[Linux-uvc-devel] Some success with a Fujifilm FinePix A330
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1708">[ date ]</a>
              <a href="thread.html#1708">[ thread ]</a>
              <a href="subject.html#1708">[ subject ]</a>
              <a href="author.html#1708">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello everyone,

I never thought that one day I would be able to use the webcam part of
this digital camera, thanks a lot for your efforts!

I can report semi-success: using the uvcvideo driver (svn revision 101,
self-compiled kernel 2.6.18.6 on Debian unstable), I get an image stream
with luvcview (2007-01-07). But neither VLC nor mplayer are able to show
or stream the video. I guess that this device is extremely simple,
providing only 352x288, 10fps, with no other controls, and that VLC or
mplayer are trying to access additional controls. In particular, both
are trying to do something with the audio, although in both cases I'm
specifying that no audio should be used.

Below are four outputs. If I should supply some other information,
please tell me. Or, of course, it might be that only VLC and mplayer
have to be improved :-)

Have a nice day,
Viktor.



kernel:
&lt;---
usb 1-2: new full speed USB device using uhci_hcd and address 10
usb 1-2: configuration #1 chosen from 1 choice
uvcvideo: Found UVC 1.00 device USB Web Camera (04cb:0149)
---&gt;

luvcview:
&lt;---
$ ../luvcview-20070107/luvcview -d /dev/video1 -L
luvcview version 0.2.0 
Video driver: x11
A window manager is available
video /dev/video1 
/dev/video1 does not support read i/o
{ pixelformat = 'MJPG', description = 'MJPEG' }
{ discrete: width = 352, height = 288 }
        Time interval between frame: {min { 1/10 } .. max { 1/10 } /
stepsize { 1/10000000 } }, 
---&gt;

vlc 0.8.6.a.debian-6:
&lt;---
main debug: adding playlist item `v4<A HREF="l://">l://</A>' ( v4<A HREF="l://">l://</A> )
main debug: creating new input thread
main debug: waiting for thread completion
main debug: thread 2746964880 (input) created at priority 0
(input/input.c:265)
main debug: stream=`duplicate'
main debug: looking for sout stream module: 1 candidate
stream_out_duplicate debug: creating 'duplicate'
stream_out_duplicate debug:  * adding `display'
main debug: stream=`display'
main debug: looking for sout stream module: 1 candidate
main debug: using sout stream module &quot;stream_out_display&quot;
main debug: using sout stream module &quot;stream_out_duplicate&quot;
main debug: `v4<A HREF="l://">l://</A>' gives access `v4l' demux `' path `'
main debug: creating demux: access='v4l' demux='' path=''
main debug: looking for access_demux module: 1 candidate
v4l debug: V4L device USB Web Camera 1 channels 0 audios 48 &lt; w &lt; 352 32
&lt; h &lt; 288
v4l error: cannot get channel infos (Invalid argument)
v4l debug: openened adev=`/dev/dsp' mono 1000Hz
v4l debug: v4l grabbing started
v4l debug: new audio es 1 channels 1000Hz
main debug: selecting program id=0
main debug: using access_demux module &quot;v4l&quot;
main debug: looking for packetizer module: 17 candidates
main debug: using packetizer module &quot;packetizer_copy&quot;
main debug: thread 2719005584 (decoder) created at priority 0
(input/decoder.c:159)
main debug: starting in sync mode
main debug: `v4<A HREF="l://">l://</A>' successfully opened
main debug: adding a new input
stream_out_duplicate debug: duplicated a new stream codec=s16l (es=0
group=0)
main debug: looking for decoder module: 25 candidates
araw debug: samplerate:1000Hz channels:1 bits/sample:16
main debug: using decoder module &quot;araw&quot;
main debug: thread 2737994640 (decoder) created at priority 0
(input/decoder.c:159)
stream_out_duplicate debug:     - added for output 0
main debug: looking for audio output module: 3 candidates
alsa debug: opening ALSA device `default'
alsa warning: The rate 1000 Hz is not supported by your hardware. Using
4000 Hz instead.
main debug: thread 2729405328 (aout) created at priority 0 (alsa.c:662)
main debug: using audio output module &quot;alsa&quot;
main debug: output 'fl32' 4000 Hz Mono frame=1 samples/4 bytes
main debug: mixer 'fl32' 4000 Hz Mono frame=1 samples/4 bytes
main debug: no need for any filter
main debug: looking for audio mixer module: 3 candidates
main debug: using audio mixer module &quot;float32_mixer&quot;
main debug: input 's16l' 1000 Hz Mono frame=1 samples/2 bytes
main debug: filter(s) 's16l'-&gt;'fl32' 1000 Hz-&gt;1000 Hz Mono-&gt;Mono
main debug: looking for audio filter module: 24 candidates
main debug: using audio filter module &quot;s16tofloat32&quot;
main debug: found a filter for the whole conversion
main debug: filter(s) 'fl32'-&gt;'fl32' 4400 Hz-&gt;4000 Hz Mono-&gt;Mono
main debug: looking for audio filter module: 24 candidates
main debug: using audio filter module &quot;bandlimited_resampler&quot;
main debug: found a filter for the whole conversion
main warning: PTS is out of range (121476), dropping buffer
main warning: PTS is out of range (102662), dropping buffer
main warning: PTS is out of range (107937), dropping buffer
[many lines like the three above following, until &quot;playing&quot; is stopped]
main debug: control type=0
main debug: control: stopping input
main debug: closing input
main debug: removing module &quot;v4l&quot;
main debug: removing module &quot;packetizer_copy&quot;
main debug: thread 2719005584 joined (input/decoder.c:191)
main debug: killing decoder fourcc `araw', 0 PES in FIFO
main debug: removing an input
main debug: removing module &quot;araw&quot;
main debug: thread 2737994640 joined (input/decoder.c:191)
main debug: killing decoder fourcc `s16l', 0 PES in FIFO
main debug: removing module &quot;s16tofloat32&quot;
main debug: removing module &quot;bandlimited_resampler&quot;
main debug: thread 2729405328 joined (alsa.c:714)
main debug: removing module &quot;alsa&quot;
main debug: removing module &quot;float32_mixer&quot;
main debug: destroying sout
main debug: destroying chain... (name=duplicate)
stream_out_duplicate debug: closing a duplication
main debug: destroying chain... (name=display)
main debug: removing module &quot;stream_out_display&quot;
main debug: destroying chain done
main debug: removing module &quot;stream_out_duplicate&quot;
main debug: destroying chain done
main debug: thread 2746964880 joined (input/input.c:412)

mplayer 1:1.0-rc1svn20070501-0.0:
&lt;---
$ mplayer -tv
driver=v4l2:device=/dev/video1:noaudio:width=352:height=288:fps=10:mjpeg
<A HREF="tv://">tv://</A>
mplayer: /usr/lib/libtheora.so.0: no version information available
(required by mplayer)
mplayer: /usr/lib/libtheora.so.0: no version information available
(required by /usr/lib/libavcodec.so.51)
MPlayer dev-SVN-rUNKNOWN-4.1.3 (C) 2000-2007 MPlayer Team
CPU: AMD Athlon(tm) processor (Family: 6, Model: 4, Stepping: 2)
CPUflags:  MMX: 1 MMX2: 1 3DNow: 1 3DNow2: 1 SSE: 0 SSE2: 0
Compiled with runtime CPU detection.
This codecs.conf is too old and incompatible with this MPlayer release!
at line 6
Can't open joystick device /dev/input/js0: No such file or directory
Can't init input joystick
mplayer: could not connect to socket
mplayer: No such file or directory
Failed to open LIRC support. You will not be able to use your remote
control.
Playing <A HREF="tv://.">tv://.</A>
TV file format detected.
Selected driver: v4l2
 name: Video 4 Linux 2 input
 author: Martin Olschewski &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">olschewski at zpr.uni-koeln.de</A>&gt;
 comment: first try, more to come ;-)
v4l2: ioctl get standard failed: Invalid argument
Selected device: USB Web Camera
 Capabilites:  video capture  streaming
 supported norms:
 inputs: 0 = Camera;
 Current input: 0
 Current format: unknown (0x47504a4d)
v4l2: ioctl set format failed: Invalid argument
v4l2: ioctl set format failed: Invalid argument
v4l2: ioctl set format failed: Invalid argument
v4l2: ioctl set format failed: Invalid argument
v4l2: ioctl set format failed: Invalid argument
v4l2: ioctl set format failed: Invalid argument
v4l2: ioctl set format failed: Invalid argument
v4l2: ioctl set format failed: Invalid argument
tv.c: norm_from_string(pal): Bogus norm parameter, setting default.
v4l2: ioctl enum norm failed: Invalid argument
Error: Cannot set norm!
  MJP: width 352 height 288
Selected input hasn't got a tuner!
v4l2: ioctl set mute failed: Invalid argument
v4l2: ioctl query control failed: Invalid argument
v4l2: ioctl query control failed: Invalid argument
v4l2: ioctl query control failed: Invalid argument
v4l2: ioctl query control failed: Invalid argument
==========================================================================
Opening video decoder: [ffmpeg] FFmpeg's libavcodec codec family
Selected video codec: [ffmjpeg] vfm: ffmpeg (FFmpeg MJPEG decoder)
==========================================================================
Audio: no sound
Starting playback...
V:   0.0 115/115 ??% ??% ??,?% 0 0 

[here it starts counting, but no image is shown. When ctrl-c is
pressed:]

MPlayer interrupted by signal 8 in module: free_demuxer
- MPlayer crashed by bad usage of CPU/FPU/RAM.
  Recompile MPlayer with --enable-debug and make a 'gdb' backtrace and
  disassembly. Details in
DOCS/HTML/en/bugreports_what.html#bugreports_crash.
- MPlayer crashed. This shouldn't happen.
  It can be a bug in the MPlayer code _or_ in your drivers _or_ in your
  gcc version. If you think it's MPlayer's fault, please read
  DOCS/HTML/en/bugreports.html and follow the instructions there. We
can't and
  won't help unless you provide this information when reporting a
possible bug.
---&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001737.html">[Linux-uvc-devel] soft lockup
</A></li>
	<LI>Next message: <A HREF="001725.html">[Linux-uvc-devel] Some success with a Fujifilm FinePix A330
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1708">[ date ]</a>
              <a href="thread.html#1708">[ thread ]</a>
              <a href="subject.html#1708">[ subject ]</a>
              <a href="author.html#1708">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
