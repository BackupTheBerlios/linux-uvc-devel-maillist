<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] v4l2? on camsource help-forum
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2006-July/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20v4l2%3F%20on%20camsource%20help-forum&In-Reply-To=%3C200607261026.45184.ralph%40mueller-welt.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000620.html">
   <LINK REL="Next"  HREF="000622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] v4l2? on camsource help-forum</H1>
    <B>Ralph M&#252;ller-Welt</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20v4l2%3F%20on%20camsource%20help-forum&In-Reply-To=%3C200607261026.45184.ralph%40mueller-welt.net%3E"
       TITLE="[Linux-uvc-devel] v4l2? on camsource help-forum">ralph at mueller-welt.net
       </A><BR>
    <I>Wed Jul 26 10:26:45 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000620.html">[Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
</A></li>
        <LI>Next message: <A HREF="000622.html">[Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#621">[ date ]</a>
              <a href="thread.html#621">[ thread ]</a>
              <a href="subject.html#621">[ subject ]</a>
              <a href="author.html#621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I tried the following for my Logitech QuickCam Sphere/Orbit (ID 046d:08c2) 
with uvcvideo (<A HREF="http://developer.berlios.de/projects/linux-uvc/">http://developer.berlios.de/projects/linux-uvc/</A>) 
on /dev/video1: 
 
Minimal config. 
&lt;?xml version=&quot;1.0&quot;?&gt; 
 
&lt;camsourceconfig&gt; 
 &lt;camdev name=&quot;default&quot; active=&quot;yes&quot;&gt; 
 &lt;plugin&gt;input_v4l&lt;/plugin&gt; 
 &lt;path&gt;/dev/video1&lt;/path&gt; 
 &lt;/camdev&gt; 
 &lt;logfile&gt;~/.camsource.log&lt;/logfile&gt; 
 
 &lt;module name=&quot;input_v4l&quot; active=&quot;yes&quot;/&gt; 
 &lt;module name=&quot;filewrite&quot; active=&quot;yes&quot;&gt; 
 &lt;path&gt;~/camera.jpg&lt;/path&gt; 
 &lt;interval unit=&quot;sec&quot;&gt;30&lt;/interval&gt; 
 &lt;chmod&gt;0644&lt;/chmod&gt; 
 &lt;/module&gt; 
&lt;/camsourceconfig&gt; 
 
Output is 
Camsource 0.7.0 starting up... 
Loading modules: 
 input_v4l (alias input_v4l) version 0.7.0 OK 
 jpeg_comp (alias jpeg_comp) version 0.7.0 OK 
 filewrite (alias filewrite) version 0.7.0 OK 
 
Capability info for /dev/video1: 
 Name: USB Video Class device 
 Can capture to memory 
 Doesn't have a tuner 
 Cannot receive teletext 
 Overlay is not chromakeyed 
 Overlay clipping is not supported 
 Overlay doesn't overwrite frame buffer mem 
 Hardware image scaling not supported 
 Captures in color 
 Can capture the complete image 
 Number of channels: 1 
 Number of audio devices: 0 
 Grabbing frame size: 
 Min: 48x32 
 Max: 960x720 
 
Palette information: 
 Currenctly active palette: not found/supported? (value 0, depth 32821) 
 Probing for supported palettes: 
 Palette &quot;bgr24&quot; supported: No 
 Palette &quot;rgb24&quot; supported: No 
 Palette &quot;bgr32&quot; supported: No 
 Palette &quot;rgb32&quot; supported: No 
 Palette &quot;yuyv (16 bpp)&quot; supported: No 
 Palette &quot;yuv422 (16 bpp)&quot; supported: No 
 Palette &quot;rgb565&quot; supported: No 
 Palette &quot;rgb555&quot; supported: No 
 Palette &quot;yuv420 planar (12 bpp)&quot; supported: No 
 Palette &quot;yuv420 (12 bpp)&quot; supported: No 
 Palette &quot;grayscale (8 bpp)&quot; supported: No 
 
Camsource doesn't write a log! 
 
And /var/log/messages contains 
Jul 26 10:01:52 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:52 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:52 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:53 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:53 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:53 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:54 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:54 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:54 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:55 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:55 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:55 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:56 RalphiX kernel: uvcvideo: Failed to query (1) UVC control 1 
(unit 0) : -110. 
Jul 26 10:01:56 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:56 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:57 RalphiX kernel: uvcvideo: Failed to query (1) UVC control 1 
(unit 0) : -110. 
Jul 26 10:01:57 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:58 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:58 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:58 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:58 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:01:59 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:01:59 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:01:59 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (132) UVC control 2 
(unit 2) : -32. 
Jul 26 10:02:00 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 3 
(unit 2) : -32. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 3 
(unit 2) : -32. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (132) UVC control 3 
(unit 2) : -32. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:02:01 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
Jul 26 10:02:02 RalphiX kernel: uvcvideo: Failed to query (135) UVC control 2 
(unit 2) : -110. 
Jul 26 10:02:02 RalphiX kernel: uvcvideo: Failed to query (130) UVC control 2 
(unit 2) : -75. 
Jul 26 10:02:02 RalphiX kernel: uvcvideo: Failed to query (131) UVC control 2 
(unit 2) : -32. 
 
But v4l-info /dev/video1 shows  
### v4l2 device info [/dev/video1] ### 
general info 
 VIDIOC_QUERYCAP 
 driver : &quot;uvcvideo&quot; 
 card : &quot;USB Video Class device&quot; 
 bus_info : &quot;0000:00:10.4&quot; 
 version : 0.1.0 
 capabilities : 0x4000001 [VIDEO_CAPTURE,STREAMING] 
 
standards 
 
inputs 
 VIDIOC_ENUMINPUT(0) 
 index : 0 
 name : &quot;Camera&quot; 
 type : CAMERA 
 audioset : 0 
 tuner : 0 
 std : 0x0 [] 
 status : 0x0 [] 
 
video capture 
 VIDIOC_ENUM_FMT(0,VIDEO_CAPTURE) 
 index : 0 
 type : VIDEO_CAPTURE 
 flags : 1 
 description : &quot;MJPEG&quot; 
 pixelformat : 0x47504a4d [MJPG] 
 VIDIOC_ENUM_FMT(1,VIDEO_CAPTURE) 
 index : 1 
 type : VIDEO_CAPTURE 
 flags : 0 
 description : &quot;Uncompressed&quot; 
 pixelformat : 0x56595559 [YUYV] 
 VIDIOC_G_FMT(VIDEO_CAPTURE) 
 type : VIDEO_CAPTURE 
 fmt.pix.width : 960 
 fmt.pix.height : 720 
 fmt.pix.pixelformat : 0x47504a4d [MJPG] 
 fmt.pix.field : NONE 
 fmt.pix.bytesperline : 0 
 fmt.pix.sizeimage : 341333 
 fmt.pix.colorspace : SRGB 
 fmt.pix.priv : 0 
 
controls 
 VIDIOC_QUERYCTRL(BASE+0) 
 id : 9963776 
 type : INTEGER 
 name : &quot;Brightness&quot; 
 minimum : 0 
 maximum : 255 
 step : 1 
 default_value : 127 
 flags : 0 
 VIDIOC_QUERYCTRL(BASE+1) 
 id : 9963777 
 type : INTEGER 
 name : &quot;Contrast&quot; 
 minimum : 0 
 maximum : 255 
 step : 1 
 default_value : 32 
 flags : 0 
 VIDIOC_QUERYCTRL(BASE+2) 
 id : 9963778 
 type : INTEGER 
 name : &quot;Saturation&quot; 
 minimum : 0 
 maximum : 255 
 step : 1 
 default_value : 32 
 flags : 0 
 VIDIOC_QUERYCTRL(PRIVATE_BASE+0) 
 id : 134217728 
 type : INTEGER 
 name : &quot;Backlight Compensation&quot; 
 minimum : 0 
 maximum : 2 
 step : 1 
 default_value : 1 
 flags : 0 
 VIDIOC_QUERYCTRL(PRIVATE_BASE+1) 
 id : 134217729 
 type : MENU 
 name : &quot;Power Line Frequency&quot; 
 minimum : 0 
 maximum : 2 
 step : 1 
 default_value : 2 
 flags : 0 
 VIDIOC_QUERYCTRL(PRIVATE_BASE+2) 
 id : 134217730 
 type : INTEGER 
 name : &quot;Sharpness&quot; 
 minimum : 0 
 maximum : 255 
 step : 1 
 default_value : 180 
 flags : 0 
 
### video4linux device info [/dev/video1] ### 
general info 
 VIDIOCGCAP 
 name : &quot;USB Video Class device&quot; 
 type : 0x1 [CAPTURE] 
 channels : 1 
 audios : 0 
 maxwidth : 960 
 maxheight : 720 
 minwidth : 48 
 minheight : 32 
 
channels 
ioctl VIDIOCGCHAN: Invalid argument 
 
tuner 
ioctl VIDIOCGTUNER: Invalid argument 
 
audio 
ioctl VIDIOCGAUDIO: Invalid argument 
 
picture 
 VIDIOCGPICT 
 brightness : 0 
 hue : 0 
 colour : 8224 
 contrast : 0 
 whiteness : 65535 
 depth : 32821 
 palette : unknown 
 
buffer 
ioctl VIDIOCGFBUF: Invalid argument 
 
window 
 VIDIOCGWIN 
 x : 0 
 y : 0 
 width : 960 
 height : 720 
 chromakey : 0 
 flags : 0 
 
So i guess camsource tries to use /dev/video1 as video4linux device or doesn't 
recognice the v4l2 features of the uvcvideo-driver. 
 
Anyone can help? 
 
Ralph. 
PS: CC 2 uvcvideo-mailinglist 
 

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000620.html">[Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
</A></li>
	<LI>Next message: <A HREF="000622.html">[Linux-uvc-devel] UVC with Logitech Quickcam Pro 5000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#621">[ date ]</a>
              <a href="thread.html#621">[ thread ]</a>
              <a href="subject.html#621">[ subject ]</a>
              <a href="author.html#621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
