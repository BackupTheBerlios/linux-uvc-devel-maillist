<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] uvc header question
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20uvc%20header%20question&In-Reply-To=%3C201108310032.51561.laurent.pinchart%40ideasonboard.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006819.html">
   <LINK REL="Next"  HREF="006820.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] uvc header question</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20uvc%20header%20question&In-Reply-To=%3C201108310032.51561.laurent.pinchart%40ideasonboard.com%3E"
       TITLE="[Linux-uvc-devel] uvc header question">laurent.pinchart at ideasonboard.com
       </A><BR>
    <I>Wed Aug 31 00:32:51 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006819.html">[Linux-uvc-devel] uvc header question
</A></li>
        <LI>Next message: <A HREF="006820.html">[Linux-uvc-devel] Webcam with H264 encoder not in Devicelist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6847">[ date ]</a>
              <a href="thread.html#6847">[ thread ]</a>
              <a href="subject.html#6847">[ subject ]</a>
              <a href="author.html#6847">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alexey,

On Thursday 25 August 2011 09:44:10 Alexey Fisher wrote:
&gt;<i> Hi Laurent,
</I>&gt;<i> 
</I>&gt;<i> are there any reason why uvc_video_decode_start do not do precise header
</I>&gt;<i> size checks? Are there many cameras with broken header size too?
</I>
How precise do you mean ? The driver currently doesn't use much of the header, 
so it just makes sure that the header size is smaller than or equal to the 
packet size, and that it's at least 2 bytes long.

&gt;<i> I send you patch on what i work now to catch streams with fragmented
</I>&gt;<i> packets.. what do you think about it? Will you apply some thing like this?
</I>
I'm not sure about that. Webcams that would require something like that are so 
broken that I'm tempted to consider them as not UVC-compliant. They should be 
returned to vendors with a loud complaint.

Your patch might help, but the sad story is that it can't completely fix the 
streams. There's always a chance that fragmented packets that contains no 
header will start with data that looks like a header. You won't be able to 
find a buller-proof solution.

-- 
Regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006819.html">[Linux-uvc-devel] uvc header question
</A></li>
	<LI>Next message: <A HREF="006820.html">[Linux-uvc-devel] Webcam with H264 encoder not in Devicelist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6847">[ date ]</a>
              <a href="thread.html#6847">[ thread ]</a>
              <a href="subject.html#6847">[ subject ]</a>
              <a href="author.html#6847">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
