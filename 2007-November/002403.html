<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] [PATCH] Apple iSight
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2007-November/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20%5BPATCH%5D%20Apple%20iSight&In-Reply-To=%3C200711052125.44732.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002393.html">
   <LINK REL="Next"  HREF="002404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] [PATCH] Apple iSight</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20%5BPATCH%5D%20Apple%20iSight&In-Reply-To=%3C200711052125.44732.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] [PATCH] Apple iSight">laurent.pinchart at skynet.be
       </A><BR>
    <I>Mon Nov  5 21:25:44 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002393.html">[Linux-uvc-devel] [PATCH] Apple iSight
</A></li>
        <LI>Next message: <A HREF="002404.html">[Linux-uvc-devel] [PATCH] Apple iSight
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2403">[ date ]</a>
              <a href="thread.html#2403">[ thread ]</a>
              <a href="subject.html#2403">[ subject ]</a>
              <a href="author.html#2403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ivan,

On Sunday 04 November 2007, Ivan N. Zlatev wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> Attached you will find a patch that adds iSight support to uvcvideo
</I>&gt;<i> and applies to HEAD (revision 140). This patch has existed for some
</I>&gt;<i> time now. Initially it was very instrusive to the uvcvideo code, but
</I>&gt;<i> this has been fixed.
</I>
I can see that, it got better :-)

&gt;<i> Please, lets get this reviewed and merged with uvcvideo. It's very
</I>&gt;<i> time consuming for me to keep it in sync with uvcvideo head. openSUSE
</I>&gt;<i> patches uvcvideo with this patch, Gentoo too, possibly others. It
</I>&gt;<i> would make our life much easier if we could get this upstream.
</I>
Ok, let's try. I agree keeping patches in sync isn't exactly fun.

&gt;<i> This patch enables the isight camera found in all apple macs fully,
</I>&gt;<i> including suspend and resume support.
</I>&gt;<i>
</I>&gt;<i> iSight is an uvc device, but not fully. I am not an expert but it
</I>&gt;<i> seems to use a custom packet format on top of the uvc, has different
</I>&gt;<i> guid, has partially broken video descriptors and requires firmware.
</I>&gt;<i> This patch deals with those in the most intrusive way I could.
</I>
I suppose you mean the less intrusive way.

&gt;<i> Inside the uvcvideo code it will only change the decoding queue if the
</I>&gt;<i> device is recognized as an isight device. In addition it will call
</I>&gt;<i> uvc_load_firmware during the uvc initialization.
</I>&gt;<i>
</I>&gt;<i> Outside in the self-contained isight.c|h it will handle the firmware
</I>&gt;<i> loading, patching the usb descriptors and the decoding.
</I>&gt;<i>
</I>&gt;<i> I would like to express my gratitude to Martin Szulecki who worked
</I>&gt;<i> with me on getting the patch in sync with latest uvcvideo and testing
</I>&gt;<i> it for the past two days.
</I>
There are two issues left that bother me.

1. I'm still not convinced firmware loading belongs in the kernel. Let's 
discuss the second issue first.

2. If I'm not mistaken, some iSight firmware revisions set the bInterfaceClass 
and bInterfaceSubClass fields to 0xff. This won't be compatible with various 
tests in uvc_driver.c that check for SC_VIDEOSTREAMING or SC_VIDEOCONTROL in 
the bInterfaceSubClass field.

Are you aware of the second problem ?

Best regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002393.html">[Linux-uvc-devel] [PATCH] Apple iSight
</A></li>
	<LI>Next message: <A HREF="002404.html">[Linux-uvc-devel] [PATCH] Apple iSight
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2403">[ date ]</a>
              <a href="thread.html#2403">[ thread ]</a>
              <a href="subject.html#2403">[ subject ]</a>
              <a href="author.html#2403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
