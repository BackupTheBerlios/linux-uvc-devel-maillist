<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] Webcam with H264 encoder not in Devicelist
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2011-June/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Webcam%20with%20H264%20encoder%20not%20in%20Devicelist&In-Reply-To=%3C1124598449.358818.1308206460416.JavaMail.root%40ahm.einfochips.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006620.html">
   <LINK REL="Next"  HREF="006623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] Webcam with H264 encoder not in Devicelist</H1>
    <B>Ajay Bhargav</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20Webcam%20with%20H264%20encoder%20not%20in%20Devicelist&In-Reply-To=%3C1124598449.358818.1308206460416.JavaMail.root%40ahm.einfochips.com%3E"
       TITLE="[Linux-uvc-devel] Webcam with H264 encoder not in Devicelist">ajay.bhargav at einfochips.com
       </A><BR>
    <I>Thu Jun 16 08:41:00 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="006620.html">[Linux-uvc-devel] Webcam with H264 encoder not in Devicelist
</A></li>
        <LI>Next message: <A HREF="006623.html">[Linux-uvc-devel] Webcam with H264 encoder not in Devicelist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6621">[ date ]</a>
              <a href="thread.html#6621">[ thread ]</a>
              <a href="subject.html#6621">[ subject ]</a>
              <a href="author.html#6621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alexey, 

Thanks for reply, Well i have already done this before even i saw that patches in mailing list... I am able to add /dev/video0 device on my machine but i am not able to read from that device. Here is the log: 


uvcvideo 1-1.2:1.0: usb_probe_interface 
uvcvideo 1-1.2:1.0: usb_probe_interface - got id 
uvcvideo: Probing generic UVC device 1.2 
uvcvideo: Videostreaming interface: 0x0A 
uvcvideo: Format 10, Desc Size: 7 
uvcvideo: Found format MPEG2-TS. 
uvcvideo: Found a Status endpoint (addr 81). 
uvcvideo: Found UVC 1.00 device USB Camera Aoni (04a8:0536) 
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/2 to device 1.2 entity 5 
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/3 to device 1.2 entity 5 
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/6 to device 1.2 entity 5 
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/7 to device 1.2 entity 5 
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/8 to device 1.2 entity 5 
uvcvideo: Added control 00000000-0000-0000-0000-000000000101/5 to device 1.2 entity 5 
uvcvideo: Scanning UVC chain: OT 3 &lt;- PU 5 &lt;- SU 4 &lt;- IT 1 
(-&gt; XU 6)&lt;6&gt;uvcvideo: video stream id: 3 
uvcvideo: Stream List id: 3, Dev stream id: 3 
uvcvideo: Found a valid video chain (1 -&gt; 3). 
uvcvideo: UVC non compliance - GET_DEF(PROBE) not supported. Enabling workaround. 
input: USB Camera Aoni as /class/input/input0 
usb 1-1.2: link qh1024-0001/ff389200 start 1023 [1/0 us] 
uvcvideo: UVC device initialized. 
usb 1-1.2: adding 1-1.2:1.1 (config #1, interface 1) 
usb 1-1.2:1.1: uevent 
usb 1-1.2: adding 1-1.2:1.2 (config #1, interface 2) 
usb 1-1.2:1.2: uevent 
snd-usb-audio 1-1.2:1.2: usb_probe_interface 
snd-usb-audio 1-1.2:1.2: usb_probe_interface - got id 
usb 1-1.2: adding 1-1.2:1.3 (config #1, interface 3) 
usb 1-1.2:1.3: uevent 
uvcvideo: uvc_v4l2_open 
uvcvideo: uvc_v4l2_ioctl(VIDIOC_QUERYCAP) 
uvcvideo: uvc_v4l2_ioctl(VIDIOCGCAP) 
uvcvideo: Trying format 0x4745504d (MPEG): 10000x10000. 
uvcvideo: Default cam size: 10000x10000. 
uvcvideo: Using default frame interval 0.1 us (10000000.0 fps). 
uvcvideo: uvc_v4l2_release 

As per this conversation (<A HREF="../2009-July/005008.html">http://lists.berlios.de/pipermail/linux-uvc-devel/2009-July/005008.html</A>) it looks like there are lot more changes to be done, so that UVC is able to forward proper information to v4l2 layer. 

--Ajay 


----- Original Message ----- 
From: &quot;Alexey Fisher&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">bug-track at fisher-privat.net</A>&gt; 
To: &quot;Ajay Bhargav&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">ajay.bhargav at einfochips.com</A>&gt; 
Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel at lists.berlios.de</A>, &quot;Kofi Jedamzik&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">kofi at jedamzik.net</A>&gt; 
Sent: Thursday, June 16, 2011 12:06:02 PM 
Subject: Re: [Linux-uvc-devel] Webcam with H264 encoder not in Devicelist 

Hi, 

Stephan Lachowsky has provided some patches for MPEG-TS and H264 
support. 
<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/2011-February/006287.html">https://lists.berlios.de/pipermail/linux-uvc-devel/2011-February/006287.html</A> 
<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/2011-February/006288.html">https://lists.berlios.de/pipermail/linux-uvc-devel/2011-February/006288.html</A> 

I do not know the current status of this work. May be Laurent can tell 
some thing about it. 

Am Donnerstag, den 16.06.2011, 10:26 +0530 schrieb Ajay Bhargav: 
&gt;<i> Hi, 
</I>&gt;<i> 
</I>&gt;<i> as far as i know stream based format are not yet supported in UVC 
</I>&gt;<i> driver. and UVC 1.1 specifications defines the H.264 payload 
</I>&gt;<i> specifications. I dont think they are implemented yet. 
</I>&gt;<i> 
</I>&gt;<i> I have a camera with me which outputs H.264 stream using MPEG2-TS 
</I>&gt;<i> container format. If you have any idea how to add support for MPEG2-TS 
</I>&gt;<i> please let me know. 
</I>&gt;<i> 
</I>&gt;<i> --Ajay 
</I>&gt;<i> 
</I>&gt;<i> ----- Original Message ----- 
</I>&gt;<i> From: &quot;Alexey Fisher&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">bug-track at fisher-privat.net</A>&gt; 
</I>&gt;<i> To: &quot;Kofi Jedamzik&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">kofi at jedamzik.net</A>&gt; 
</I>&gt;<i> Cc: <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">linux-uvc-devel at lists.berlios.de</A> 
</I>&gt;<i> Sent: Wednesday, June 15, 2011 8:10:36 PM 
</I>&gt;<i> Subject: Re: [Linux-uvc-devel] Webcam with H264 encoder not in 
</I>&gt;<i> Devicelist 
</I>&gt;<i> 
</I>&gt;<i> Hi, 
</I>&gt;<i> 
</I>&gt;<i> theoretically this should do it: 
</I>&gt;<i> gst-inspect-0.10 v4l2src ! video/x-h264 ! ffdec_h264 ! autovideosink 
</I>&gt;<i> 
</I>&gt;<i> but, if i'm correct, current kernel do not support h264. There was a 
</I>&gt;<i> patch for some time, but im not sure if Laurent applyed it. 
</I>&gt;<i> 
</I>&gt;<i> Am Mittwoch, den 15.06.2011, 16:01 +0200 schrieb Kofi Jedamzik: 
</I>&gt;<i> &gt; Hi, 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; ... there is a &quot;new&quot; Logitech Webcam called &quot;B990 HD Webcam&quot; with 
</I>&gt;<i> &gt; device id 046d:0828 
</I>&gt;<i> &gt; it has an integrated hardware based H264 baseline video encoder 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This cam is not listed. 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; MJPEG seems to work but I want to get out the H264 stream. 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Is there anyone who could give me a hint how to do it? 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Here are som dumps which might be helpful... 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; best regards 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Kofi 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; #lsusb --verbose -d 046d:0828 
</I>&gt;<i> &gt; (big output) --&gt;&gt; <A HREF="http://pastebin.com/9WFgytwY">http://pastebin.com/9WFgytwY</A> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; #guvcview --device /dev/video0 --verbose 
</I>&gt;<i> &gt; (big output) --&gt;&gt; <A HREF="http://pastebin.com/pqmUGYyn">http://pastebin.com/pqmUGYyn</A> 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; #modinfo uvcvideo 
</I>&gt;<i> &gt; filename: 
</I>&gt;<i> &gt; /lib/modules/2.6.38-8-generic/kernel/drivers/media/video/uvc/uvcvideo.ko 
</I>&gt;<i> &gt; version: v1.0.0 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; #tail /var/log/syslog 
</I>&gt;<i> &gt; [11588.664940] usb 1-6: USB disconnect, address 4 
</I>&gt;<i> &gt; [11594.580043] usb 1-6: new high speed USB device using ehci_hcd and 
</I>&gt;<i> address 5 
</I>&gt;<i> &gt; [11594.927759] uvcvideo: Unknown video format 
</I>&gt;<i> &gt; 34363248-0000-0010-8000-00aa00389b71 
</I>&gt;<i> &gt; [11594.927786] uvcvideo: Found UVC 1.00 device &lt;unnamed&gt; (046d:0828) 
</I>&gt;<i> &gt; [11595.024093] input: UVC Camera (046d:0828) as 
</I>&gt;<i> &gt; /devices/pci0000:00/0000:00:12.2/usb1/1-6/1-6:1.0/input/input8 
</I>&gt;<i> -- 
</I>&gt;<i> Regards, 
</I>&gt;<i> Alexey 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________ 
</I>&gt;<i> Linux-uvc-devel mailing list 
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">Linux-uvc-devel at lists.berlios.de</A> 
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">https://lists.berlios.de/mailman/listinfo/linux-uvc-devel</A> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> This message has been scanned for viruses and 
</I>&gt;<i> dangerous content by Clean Mail Gateway, and is 
</I>&gt;<i> believed to be clean. 
</I>&gt;<i> 
</I>&gt;<i> ************************************************************************************************************************************************************* 
</I>&gt;<i> einfochips Business Disclaimer : This e-mail message and all 
</I>&gt;<i> attachments transmitted with it are intended solely for the use of the 
</I>&gt;<i> addressee and may contain legally privileged and confidential 
</I>&gt;<i> information. If the reader of this message is not the intended 
</I>&gt;<i> recipient, or an employee or agent responsible for delivering this 
</I>&gt;<i> message to the intended recipient, you are hereby notified that any 
</I>&gt;<i> dissemination, distribution, copying, or other use of this message or 
</I>&gt;<i> its attachments is strictly prohibited. If you have received this 
</I>&gt;<i> message in error, please notify the sender immediately by replying to 
</I>&gt;<i> this message and please delete it from your computer. Any views 
</I>&gt;<i> expressed in this message are those of the individual sender unless 
</I>&gt;<i> otherwise stated. Company has taken enough precautions to prevent the 
</I>&gt;<i> spread of viruses. However the company accepts no liability for any 
</I>&gt;<i> damage caused by any virus transmitted by this email. 
</I>&gt;<i> ************************************************************************************************************************************************************* 
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
Regards, 
Alexey 


-- 
This message has been scanned for viruses and 
dangerous content by Clean Mail Gateway, and is 
believed to be clean. 

************************************************************************************************************************************************************* 
einfochips Business Disclaimer : This e-mail message and all attachments transmitted with it are intended solely for the use of the addressee and may contain legally privileged and confidential information. If the reader of this message is not the intended recipient, or an employee or agent responsible for delivering this message to the intended recipient, you are hereby notified that any dissemination, distribution, copying, or other use of this message or its attachments is strictly prohibited. If you have received this message in error, please notify the sender immediately by replying to this message and please delete it from your computer. Any views expressed in this message are those of the individual sender unless otherwise stated. Company has taken enough precautions to prevent the spread of viruses. However the company accepts no liability for any damage caused by any virus transmitted by this email. 
************************************************************************************************************************************************************* 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20110616/8c78b234/attachment.html">https://lists.berlios.de/pipermail/linux-uvc-devel/attachments/20110616/8c78b234/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006620.html">[Linux-uvc-devel] Webcam with H264 encoder not in Devicelist
</A></li>
	<LI>Next message: <A HREF="006623.html">[Linux-uvc-devel] Webcam with H264 encoder not in Devicelist
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6621">[ date ]</a>
              <a href="thread.html#6621">[ thread ]</a>
              <a href="subject.html#6621">[ subject ]</a>
              <a href="author.html#6621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
