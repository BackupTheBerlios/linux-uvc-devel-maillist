<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Linux-uvc-devel] UVC driver structure
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/linux-uvc-devel/2007-September/index.html" >
   <LINK REL="made" HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20UVC%20driver%20structure&In-Reply-To=%3C200709122339.31381.laurent.pinchart%40skynet.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002079.html">
   <LINK REL="Next"  HREF="002080.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Linux-uvc-devel] UVC driver structure</H1>
    <B>Laurent Pinchart</B> 
    <A HREF="mailto:linux-uvc-devel%40lists.berlios.de?Subject=Re%3A%20%5BLinux-uvc-devel%5D%20UVC%20driver%20structure&In-Reply-To=%3C200709122339.31381.laurent.pinchart%40skynet.be%3E"
       TITLE="[Linux-uvc-devel] UVC driver structure">laurent.pinchart at skynet.be
       </A><BR>
    <I>Wed Sep 12 23:39:30 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002079.html">[Linux-uvc-devel] UVC driver structure
</A></li>
        <LI>Next message: <A HREF="002080.html">[Linux-uvc-devel] new supported device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2098">[ date ]</a>
              <a href="thread.html#2098">[ thread ]</a>
              <a href="subject.html#2098">[ subject ]</a>
              <a href="author.html#2098">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Franjo,

On Friday 07 September 2007, Franjo Mlakar wrote:
&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i> I had some problems at the begining with UVC driver, but now it works fine
</I>&gt;<i> for me and I am interested to know more about the driver. I would like to
</I>&gt;<i> know how to add new functionalities to the driver. I reviewed the driver's
</I>&gt;<i> code and I have a foggy idea how it works. But I gues I have to learn a
</I>&gt;<i> lot. I also have a question.
</I>&gt;<i>
</I>&gt;<i> Can somebody tell me where are this indexes from and what they mean in the
</I>&gt;<i> structure struct uvc_control_info? For example (.index=6):
</I>&gt;<i> .entity        = UVC_GUID_UVC_PROCESSING,
</I>&gt;<i> .selector    = PU_WHITE_BALANCE_TEMPERATURE_CONTROL,
</I>&gt;<i> .index        = 6,  ---&gt; where is this index from?
</I>&gt;<i> .size          = 2,
</I>&gt;<i> .flags        = UVC_CONTROL_SET_CUR | UVC_CONTROL_GET_RANGE,
</I>&gt;<i>
</I>&gt;<i> Can I find some docs somewhere on the internet about the driver?
</I>
You should first download (and read :-)) the UVC documentation available at 
<A HREF="http://www.usb.org/developers/devclass_docs">http://www.usb.org/developers/devclass_docs</A>

Have a look at section 3.7.2.5 (Processing Unit Descriptor). The index field 
identifies the control index in the bmControls bitmap. The same goes for 
other kind of entities (camera input terminal, extension unit, ...). The 
driver uses the index field to check out if the control is supported by 
devices only.

To query the control, the driver uses the selector field, which identifies the 
control inside the unit it belongs to. There is unfortunately no mandatory 
relationship between the index and selector. To access an extension unit 
control, you will need to get the control selector from the vendor.

Hope this helps.

Best regards,

Laurent Pinchart

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002079.html">[Linux-uvc-devel] UVC driver structure
</A></li>
	<LI>Next message: <A HREF="002080.html">[Linux-uvc-devel] new supported device
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2098">[ date ]</a>
              <a href="thread.html#2098">[ thread ]</a>
              <a href="subject.html#2098">[ subject ]</a>
              <a href="author.html#2098">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/linux-uvc-devel">More information about the Linux-uvc-devel
mailing list</a><br>
</body></html>
